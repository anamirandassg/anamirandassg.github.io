const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-BBoKlSgS.js","assets/index-DwQlH4jx.js","assets/index-DGSEMnLR.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DeliveryCamera-BflxK3oA.js","assets/ButonHrm-DYjP9Akk.js","assets/SVG-C5EgwYm9.js","assets/index-Ci0zXM0r.js","assets/Util-DJFR2W2y.js","assets/ButonHrm-BSeWNUGQ.css","assets/html5-qrcode-scanner-Cl8XE5pu.js","assets/debounces-Cyq-eLq6.js","assets/FlexSpace-CsEOHiYR.js","assets/globalSignal-BpuHHCum.js","assets/ItemOnDeliveryList-DWm409Wz.js","assets/DeliveryView-B6WJNcIj.js","assets/DialogHRM-Ce3oMt-G.js","assets/DialogHRM-V9_lZntj.css","assets/DashManifest-ti0gNLoE.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/DeliveryScanView-D4XlnXm2.js","assets/ManifestDetails-DG8s5eic.js","assets/manifestList-BBlkH10M.js","assets/fontkit.es-DEjOtITv.js","assets/ShowQRPrintLabel-By8sPFIg.js","assets/qrcode-C5vWJp7P.js","assets/InitPrintServices-BPLndWim.js","assets/Toast-DZa21H7f.js","assets/Toast-SmEZ1JuI.css","assets/components-C14L-k5_.js"])))=>i.map(i=>d[i]);
import{c as E,l as h,_ as f,a as y,I as N,q as A,h as L,o as O,k as D,i as s,d as o,f as R,t as g,S as v,n as M,F as T,E as V,s as q}from"./index-DwQlH4jx.js";import{f as F,g as z,O as I}from"./Util-DJFR2W2y.js";import{i as G,s as j}from"./globalSignal-BpuHHCum.js";import"./DialogHRM-Ce3oMt-G.js";import"./DeliveryScanView-D4XlnXm2.js";import"./fontkit.es-DEjOtITv.js";import"./index-Ci0zXM0r.js";import"./html5-qrcode-scanner-Cl8XE5pu.js";import"./DashManifest-ti0gNLoE.js";import"./App.module-CbHnVtRQ.js";import"./ManifestDetails-DG8s5eic.js";import"./manifestList-BBlkH10M.js";import"./debounces-Cyq-eLq6.js";import"./ButonHrm-DYjP9Akk.js";/* empty css                 */import"./SVG-C5EgwYm9.js";import"./DeliveryView-B6WJNcIj.js";import"./ShowQRPrintLabel-By8sPFIg.js";import"./qrcode-C5vWJp7P.js";import"./InitPrintServices-BPLndWim.js";import"./Toast-DZa21H7f.js";var K=g("<h4>"),Q=g("<h5>"),W=g('<div class=" flxWrp spaceAround centerBx bottombx"><div class=bag_number><h4>'),Y=g('<div><div class=" flxWrp spaceAround centerBx"><h2> Manifesto de Entrega </h2><div class=bottombx><h4></h4></div></div><div style=padding:16px></div><div>'),S=g("<div> "),H=g("<div> <!>.");const[Se,ke]=E(),k=h(()=>f(()=>import("./LoadingColorSpinner-BBoKlSgS.js"),__vite__mapDeps([0,1,2,3])));h(()=>f(()=>import("./DeliveryCamera-BflxK3oA.js"),__vite__mapDeps([4,1,2,5,6,7,8,9,10,11,12,13])));const J=h(()=>f(()=>import("./ItemOnDeliveryList-DWm409Wz.js"),__vite__mapDeps([14,1,2,8,7,11,13,15,16,17,18,19,20,21,10,22,23,24,5,6,9,25,26,27,28,29,30])));h(()=>f(()=>import("./SVG-C5EgwYm9.js"),__vite__mapDeps([6,1,2,7])));h(()=>f(()=>import("./FlexSpace-CsEOHiYR.js"),__vite__mapDeps([12,1,2])));const[Ee,Ce]=y("");function Be(){y([]);const[t,i]=E({});N();const[m,ee]=A(),[te,C]=y("");y(0),L(()=>{w()}),O(()=>{}),D(async()=>{let a=await U({id:m?.dId,checkAuth:!0});i("detail",a);let n={};a?.linkedBagsInfo?.map(r=>{if(r?.currentStatus!="YABA_99"){let l=x(r),p=r.cidentity;if(n[l]||(n[l]={city:r?.city,estate:r?.estate,currentStatus:r?.currentStatus,customers:{},bagsNo:0}),!n[l].customers[p]){let _={name:X(r),phoneNumber:Z(r),cid:r.cidentity},e={...r,..._};e.bagsNumb={},n[l].customers[p]=e}let $={bagnumber:r?.bagnumber,idairguide:r?.idairguide,tracking:r?.tracking};n[l].customers[p].bagsNumb[r?.ssg_track_key]=$,n[l].bagsNo+=1}}),i("linkedBagsInfo",n),C(z())});function B(){return"geolocation"in navigator}function P(a){j({latitude:a?.coords?.latitude,longitude:a?.coords?.longitude})}function w(){B()?navigator.geolocation.getCurrentPosition(P):showMessage("Geolocation isn't supported by your browser")}const x=a=>{let n=a?.street.split(",");return n.slice(0,n.length-2).join(",")};return(()=>{var a=Y(),n=a.firstChild,r=n.firstChild,l=r.nextSibling,p=l.firstChild,$=n.nextSibling,_=$.nextSibling;return s(p,()=>t?.detail?.name),s(a,o(v,{get when(){return t?.detail?.name},get fallback(){return(()=>{var e=S();return e.firstChild,s(e,o(k,{stroke:"rgb(200 25 60 / 1)",size:62}),null),e})()},get children(){var e=W(),d=e.firstChild,b=d.firstChild;return s(e,o(v,{get when(){return t?.detail?.city},get children(){return[(()=>{var c=K();return s(c,()=>t?.detail?.city),c})(),"|"]}}),d),s(e,o(v,{get when(){return t?.detail?.province},get children(){return[(()=>{var c=Q();return s(c,()=>t?.detail?.province),c})(),"|"]}}),d),s(b,()=>I(t?.linkedBagsInfo)?.length),e}}),_),s(_,o(V,{fallback:e=>(()=>{var d=H(),b=d.firstChild,c=b.nextSibling;return c.nextSibling,s(d,()=>e.toString(),c),d})(),get children(){return o(M,{get fallback(){return(()=>{var e=S();return e.firstChild,s(e,o(k,{stroke:"rgb(200 25 60 / 1)",size:62}),null),e})()},get children(){return o(v,{get when(){return I(t?.linkedBagsInfo)?.length>0},get children(){return o(T,{get each(){return I(t?.linkedBagsInfo)},children:(e,d)=>o(J,{addressId:e,get item(){return t?.linkedBagsInfo?.[e]},get list(){return t?.linkedBagsInfo}})})}})}})}})),R(e=>q(_,` ${G()?"":"width:94vw;"} margin: 0 auto`,e)),a})()}const U=async t=>await F({params:t,query:"getManifestOrderByKeyID"}),u=t=>t?" "+t:"",X=t=>{let i=t?.consigneeInfo;return u(i?.firstName)+u(i?.middleName)+u(i?.lastName)+u(i?.lastName2)},Z=t=>{let i=t?.consigneeInfo,m=u(i?.altPhoneNumber);return u(i?.phoneNumber)+(m?" |"+m:"")};export{U as LookupBagId,Be as default,Se as scannedQRs,ke as setScannedQRs,Ce as setStatus,Ee as status};
