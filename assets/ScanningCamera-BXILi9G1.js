import{a as n,c as J,h as K,o as U,m as V,d as o,S as C,G as X,i as r,f as ee,g as L,t as P}from"./index-Ck19IkuE.js";import"./ButonHrm-o_It343-.js";import{b as te,u as se,g as re}from"./Util-dbxHFpkD.js";import{H as oe,a as ne}from"./html5-qrcode-scanner-Cl8XE5pu.js";import{u as ae}from"./debounces-CXwkZqhx.js";import a from"./FlexSpace-D8iEcVqg.js";import"./globalSignal-BSgzWpNo.js";import{h as le}from"./ScanningServices-DRxgxVMU.js";/* empty css                 */import"./SVG-CmNpAt1S.js";import"./index-Ci0zXM0r.js";var ie=P('<div class=scanWrp><div><div class=" _dsplFlx"><h3 class="errTxt err centerBx "></h3></div><div class=" _dsplFlx"><h3 class="errTxt ybcity centerBx"></h3></div><div class=" _dsplFlx"><h3 class="errTxt centerBx"></h3></div></div><div></div><div id=qr-reader style=width:300px>'),ce=P("<slot name=plans style=margin-top:35px><div>"),de=P("<div>esta funcion es solo para dispositivos mobiles");function xe(q){const[H,O]=n([]),[i,_]=J({}),[M,N]=n(""),[$,I]=n(),[Q,R]=n(),[T,j]=n(""),[k,z]=n(""),[y,A]=n("");K(()=>{}),U(()=>{I(!1),te("cameraScanLoc")?.clear()}),V(()=>{setTimeout(()=>{Z()},90)});const D=(e,t)=>{j(t),z(e),setTimeout(()=>{z("")},1300)},G=e=>{A(e),setTimeout(()=>{A("")},2e3)},E=(e,t)=>{e!==Q()&&(R(e),setTimeout(()=>{R("")},3e3),W(e))},W=e=>{e||(e=M()),e=e.split("'").join("-"),N(""),!y()&&Y(e)},Y=async e=>{let t=await le(e,q?.status);if(t?.data){D("","success");let c={consigneeInfo:{ybcity:t?.data?.city,ybestate:t?.data?.estate}};_(c),O([...H(),t.data])}else t?.error&&(D("",t?.error?.alert),_(t?.error?.scanData),G(re()));console.log(t)},Z=()=>{I(!0);let e={fps:10,qrbox:{width:350,height:200},supportedScanTypes:[oe.SCAN_TYPE_CAMERA],showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,verbose:!0},t=new ne("qr-reader",e);t.render(E),se("cameraScanLoc",t)};return ae(E,400),o(C,{when:!0,get fallback(){return de()},get children(){return o(C,{get when(){return $()},get children(){var e=ce(),t=e.firstChild;return e._$owner=X(),r(e,o(C,{get when(){return $()},style:"margin-top: 35px",get children(){var c=ie(),l=c.firstChild,d=l.firstChild,p=d.firstChild,u=d.nextSibling,m=u.firstChild,f=u.nextSibling,v=f.firstChild,h=l.nextSibling;return r(d,o(a,{}),p),r(p,k),r(d,o(a,{}),null),r(u,o(a,{}),m),r(m,()=>i?.consigneeInfo?.ybcity),r(u,o(a,{}),null),r(f,o(a,{}),v),r(v,()=>i?.consigneeInfo?.ybestate),r(f,o(a,{}),null),ee(s=>{var F=`scanOverlayFront ${T()}`,S=y()?"block":"none",g=300/k()?.length*1.73+"px",b=300/i?.consigneeInfo?.ybcity?.length*1.13+"px",w=300/i?.consigneeInfo?.ybestate?.length*1.23+"px",B=`scanOverlay  ${T()} `,x=y()?"block":"none";return F!==s.e&&L(l,s.e=F),S!==s.t&&((s.t=S)!=null?l.style.setProperty("display",S):l.style.removeProperty("display")),g!==s.a&&((s.a=g)!=null?p.style.setProperty("font-size",g):p.style.removeProperty("font-size")),b!==s.o&&((s.o=b)!=null?m.style.setProperty("font-size",b):m.style.removeProperty("font-size")),w!==s.i&&((s.i=w)!=null?v.style.setProperty("font-size",w):v.style.removeProperty("font-size")),B!==s.n&&L(h,s.n=B),x!==s.s&&((s.s=x)!=null?h.style.setProperty("display",x):h.style.removeProperty("display")),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),c}}),t),e}})}})}export{xe as default};
