const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-wY7ingp8.js","assets/index-DnKo2mKp.js","assets/index-DGHHyjai.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-D8z4KN6d.js","assets/InputHr-M3rJ9grQ.css","assets/SVG-DoQ0Dnwg.js","assets/index-Ci0zXM0r.js","assets/DropDwnSearch-B3JdunSr.js","assets/debounces-GtruVnpr.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ContainerElasticView-BFZ-bq9Z.js","assets/ContainerElasticView-LzOd6fDI.css","assets/CheckBoxSlide-CljgmJTd.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/ItemOnReports-CApjtv_L.js","assets/Util-uEfv1z7O.js","assets/DialogHRM-Dt1BO4tp.js","assets/DialogHRM-V9_lZntj.css","assets/globalSignal-Bu4ME_bg.js","assets/ShowQRPrintLabel-hEZn6Mvr.js","assets/PDFButton-B_0lS8EG.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-BKe7DAJ7.js","assets/InitPrintServices-CprHcwF4.js","assets/Toast-BPHnzpzL.js","assets/Toast-DLpFKn-Q.css","assets/ShowPdfResume-SBeBTh8x.js"])))=>i.map(i=>d[i]);
import{l as B,_ as O,c as se,a as S,o as Le,h as je,b as qe,m as Te,i as n,d as r,f as L,e as Qe,t as _,q as We,S as f,j as Xe,E as ce,r as K,F as J,g as Z,k as He,s as Ue,v as ee}from"./index-DnKo2mKp.js";import{b as j,e as ve,f as te,a as E,O as V,g as D,h as Ye,s as Je}from"./Util-uEfv1z7O.js";import{u as Ke}from"./debounces-GtruVnpr.js";import{i as H}from"./globalSignal-Bu4ME_bg.js";import{g as ue,l as Ze}from"./ShowQRPrintLabel-hEZn6Mvr.js";import"./Toast-BPHnzpzL.js";import{OpenModal as et}from"./DialogHRM-Dt1BO4tp.js";import"./index-Ci0zXM0r.js";import"./PDFButton-B_0lS8EG.js";import"./qrcode-C5vWJp7P.js";import"./fontkit.es-BKe7DAJ7.js";import"./InitPrintServices-CprHcwF4.js";var de=_("<div style=padding:4px>"),tt=_('<div class="centerBx bottombx "><h5 class="">is SSG'),be=_("<div>"),rt=_('<div><div class="_dsplFlx flxWrp spaceAround ">'),X=_('<div class="icon_status centerBx">'),nt=_('<div><div class="centerBx100 centerBx"><div class=plans></div></div><div class="icon_status centerBx">'),lt=_('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Reportes</h2><div class="centerBx bottombx"style=margin-top:10px;></div><div class="centerBx bottombx "><h5 class="">Mostrar Reports</h5></div></div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div><div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround ">'),ge=_("<div> <!>."),me=_("<div> "),st=_("<div class=centerBx><h5 style=margin-left:12px>generando excel"),he=_("<div class=centerBx><h5 style=margin-left:12px>generando etiquetas"),it=_("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),pe=_("<h5 class=totalBagsNo> <!> / "),ye=_('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),$e=_("<div class=leftMrg> "),at=_("<div class=bottombx><h4>"),ot=_('<div class="_dsplFlx bottombx lowbordr"><div class=" bottombx spaceAround centerBx"><h5> :</h5><h4>'),ct=_("<div style=padding:16px;margin-left:20px;>"),ut=_('<div class="bottombx left centerBx"style=text-align:left;><h4></h4><h5>');const z=B(()=>O(()=>import("./LoadingColorSpinner-wY7ingp8.js"),__vite__mapDeps([0,1,2,3]))),dt=B(()=>O(()=>import("./InputHr-D8z4KN6d.js"),__vite__mapDeps([4,1,2,5]))),A=B(()=>O(()=>import("./SVG-DoQ0Dnwg.js"),__vite__mapDeps([6,1,2,7]))),fe=B(()=>O(()=>import("./DropDwnSearch-B3JdunSr.js"),__vite__mapDeps([8,1,2,9,6,7,10]))),gt=B(()=>O(()=>import("./ContainerElasticView-BFZ-bq9Z.js"),__vite__mapDeps([11,1,2,6,7,12]))),_e=B(()=>O(()=>import("./CheckBoxSlide-CljgmJTd.js"),__vite__mapDeps([13,1,2,14]))),mt=B(()=>O(()=>import("./ItemOnReports-CApjtv_L.js"),__vite__mapDeps([15,1,2,16,7,17,18,11,6,12,19,20,21,22,23,24,25,26]))),ht=B(()=>O(()=>import("./ShowPdfResume-SBeBTh8x.js"),__vite__mapDeps([27,1,2,19,20,21,7,22,23,24,16,25,26]))),ft=2.20462;function Dt(){const[e,o]=se({list:{manifest:{id:"",label:""},search:"",status:""}}),[l,i]=se({}),[a,u]=se({}),[v,C]=S(""),[d,q]=S(!1),[U,G]=S(64),[F,T]=S(!1),[re,ne]=S(!1),[xe,Se]=S(""),Q=Ke(C,500),[Ce,xt]=S(!1),[we,ie]=S(!1),[Ie,ae]=S(!1),N=(c,s)=>{o("list",{[c]:s}),Q(D())},Ge=()=>{q(!d()),Q(D())};Le(()=>{}),je(()=>{});const Me=()=>{G(c=>c+64)},Pe=c=>{let s=Math.ceil(c?.length/64);Je(Me,1250,s)},[W,{refetch:St}]=qe(v,async c=>{i(void 0),u("prov",void 0);let s=e?.list?.manifest?.id;xe()!==s&&Se(s);let x={},$=[],k={};var y={};if(s&&(x=await pt(s,e?.list?.agency?.id,e?.list?.isSSG)),!d())i(x?.sumary),u("prov",x?.provinceGroup);else{y=await bt(e?.list?.search,s,e?.list?.agency?.id,e?.list?.isSSG),i(x?.sumary),G(0);let M={};F()?V(y).map(b=>{let m=y[b],h=m?.estate||m?.consigneeInfo?.ybestate;M[b]?$.push(m):M[b]=1,E("M023009")?.ZoneCity?.[m?.zone]?.[h]||$.push(m)}):re()?V(y).map(b=>{let m=y[b];m?.estate||m?.consigneeInfo?.ybestate||$.push(m),m?.bagnumber||$.push(m)}):(V(y).map(b=>{let m=y[b],h=m?.estate||m?.consigneeInfo?.ybestate,w=m?.city||m?.consigneeInfo?.ybcity;(h||w)&&(k[h]||(k[h]={cities:{},total:0}),k[h].cities?.[w]||(k[h].cities[w]=0),k[h].cities[w]+=1,k[h].total+=1),$.push(m)}),u("prov",k)),Pe($)}return $}),oe=()=>W()?.length,Ae=c=>{o("list",{manifest:c,status:void 0}),Q(D())},Ee=()=>{},Be=(c,s)=>{N("estate",c),N("city",s)},Oe=(c,s)=>{o("list",{estate:void 0,city:void 0}),Q(D())},R=c=>c?" "+c:"",Fe=c=>{let s=c?.consigneeInfo;return R(s?.firstName)+R(s?.middleName)+R(s?.lastName)+R(s?.lastName2)},Ne=c=>{let s=c?.consigneeInfo,x=R(s?.altPhoneNumber);return R(s?.phoneNumber)+(x?" | "+x:"")},De=async()=>{let c=[];ae(!0),setTimeout(async()=>{let s=30,x=900004,$=[],k=new Date().getFullYear().toString().slice(2,4);for(let b=0;b<s;b++)$.push(b);const y=$.map(async(b,m)=>{let h=x+b*2,w=h+1,P="SS"+k;const t=await ue(P+""+h),g=await ue(P+""+w);let p={mtrx:t,mtrx2:g,lbl:P+""+h,lbl2:P+""+w};c.push(p)});await Promise.all(y);let M=await Ze(c);window.open(M),ae(!1)},760)},ze=async()=>{ie(!0);let c=[];W().map(async(s,x)=>{let $=s?.estate||s?.consigneeInfo?.ybestate,k=s?.city||s?.consigneeInfo?.ybcity;s.hbls.map(y=>{let M={envia:s?.nameshipper,"telefono de quien envia":s?.shipperInfo?.phoneNumber,provincia:$,ciudad:k,nombre:Fe(s),telefonos:Ne(s),envia:s?.nameshipper,bulto:s?.bagnumber,hbl:y.hbl,descripcion:y.namegood,libras:(y.weight*ft).toFixed(2),"precio por libra":y.pricePerPound,aranceles:y.dutyFee};c.push(M)})}),Ye(`resumen_guia_actual_${D()}.csv`,c),ie(!1)},Re=c=>{let s={};s.id=D(),s.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},s.content=r(ht,{get list(){return W()}}),et(s)},Ve=async c=>{await yt(e?.list?.manifest?.id)};return Te(()=>{}),(()=>{var c=lt(),s=c.firstChild,x=s.firstChild,$=x.nextSibling,k=$.nextSibling,y=k.firstChild,M=s.nextSibling,b=M.nextSibling,m=b.firstChild,h=b.nextSibling,w=h.firstChild,P=w.firstChild;return n(k,r(_e,{get initValue(){return d()},updChange:Ge,color:"var(--background-red-ssg)"}),y),n(m,r(fe,{get list(){return kt()},lbl_empty:"Guia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:t=>Ae(t),width:"260px"})),n(b,r(f,{get when(){return We()},get children(){return[(()=>{var t=de();return n(t,r(fe,{get list(){return E("M023009")?.agencies},lbl_empty:"Agencia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.agency?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:g=>N("agency",g),width:"260px"})),t})(),(()=>{var t=tt(),g=t.firstChild;return n(t,r(_e,{get initValue(){return e?.list?.isSSG},updChange:p=>N("isSSG",p?1:null),color:"var(--background-red-ssg)"}),g),t})()]}}),null),n(b,r(f,{get when(){return Xe(()=>!!e?.list?.manifest?.id)()&&d()},get children(){return[(()=>{var t=de();return n(t,r(dt,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return e?.list?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:g=>N("search",g)})),t})(),be()]}}),null),n(h,r(f,{get when(){return e?.list?.manifest?.id},get children(){var t=rt(),g=t.firstChild;return n(g,r(ce,{fallback:p=>(()=>{var I=ge(),Y=I.firstChild,le=Y.nextSibling;return le.nextSibling,n(I,()=>p.toString(),le),I})(),get children(){return r(K,{get fallback(){return(()=>{var p=me();return p.firstChild,n(p,r(z,{stroke:"rgb(200 25 60 / 1)",size:62}),null),p})()},get children(){return r(f,{get when(){return l?.total},get children(){return r(J,{get each(){return V(l)},children:(p,I)=>H()?r(vt,{keyG:p,total:oe,get status(){return e?.list?.status},get amount(){return l?.[p]},get showItems(){return d()},updForm:N}):r(_t,{keyG:p,total:oe,get showItems(){return d()},get status(){return e?.list?.status},get amount(){return l?.[p]},updForm:N})})}})}})}})),L(()=>Z(t,`client_item_box gWXAaj jlytmu ${H()?"isMobile":""}`)),t}}),w),n(P,r(f,{get when(){return d()},get children(){return r(f,{get when(){return!we()},get fallback(){return(()=>{var t=st(),g=t.firstChild;return n(t,r(z,{stroke:"rgb(200 25 60 / 1)",size:32}),g),t})()},get children(){var t=X();return t.$$click=ze,n(t,r(A,{name:"grid",size:24,color:"firebrick"})),t}})}}),null),n(P,r(f,{get when(){return He?.profile?.isAdmin},get children(){return[r(f,{get when(){return!Ie()},get fallback(){return(()=>{var t=he(),g=t.firstChild;return n(t,r(z,{stroke:"rgb(200 25 60 / 1)",size:32}),g),t})()},get children(){var t=X();return t.$$click=De,n(t,r(A,{name:"printer",size:24,color:"firebrick"})),t}}),(()=>{var t=X();return t.$$click=Ve,n(t,r(A,{name:"tag-outline",size:24})),t})(),(()=>{var t=X();return t.$$click=Ee,n(t,r(A,{name:"outline_renew",size:24})),t})()]}}),null),n(P,r(f,{get when(){return!Ce()},get fallback(){return(()=>{var t=he(),g=t.firstChild;return n(t,r(z,{stroke:"rgb(200 25 60 / 1)",size:32}),g),t})()},get children(){var t=X();return t.$$click=Re,n(t,r(A,{name:"printer",size:32})),t}}),null),n(h,r(f,{get when(){return a?.prov},get children(){var t=nt(),g=t.firstChild,p=g.firstChild,I=g.nextSibling;return n(p,r(f,{get when(){return a?.prov},get children(){return r(J,{get each(){return V(a?.prov)},children:(Y,le)=>r($t,{ism:Y,get item(){return a?.prov?.[Y]},updS:Be})})}})),I.$$click=Oe,n(I,r(A,{name:"Xclose",size:22})),L(()=>Z(t,`client_item_box gWXAaj jlytmu ${H()?"isMobile":""}`)),t}}),null),n(h,r(ce,{fallback:t=>(()=>{var g=ge(),p=g.firstChild,I=p.nextSibling;return I.nextSibling,n(g,()=>t.toString(),I),g})(),get children(){return r(K,{get fallback(){return(()=>{var t=me();return t.firstChild,n(t,r(z,{stroke:"rgb(200 25 60 / 1)",size:62}),null),t})()},get children(){return r(f,{get when(){return W()},get children(){return r(J,{get each(){return W()?.slice(0,U())},children:(t,g)=>r(mt,{item:t,refresh:()=>Q(D())})})}})}})}}),null),L(t=>Ue(h,` ${H()?"":"width:94vw;"} margin: 0 auto;`,t)),c})()}const _t=e=>{const[o,l]=S(!1),[i,a]=S(0),u=()=>{let d=e?.keyG;e?.keyG==="total"&&(d=null),e?.updForm("status",d)},v=()=>{o()||!H()&&e?.keyG!=="total"&&(a(E("M023009")?.statusObjDesc?.[e?.keyG]?.length*8.5+"px"),l(!0))},C=()=>{a("0px"),o()&&l(!1)};return r(f,{get when(){return e?.amount>0},get children(){return r(K,{get fallback(){return(()=>{var d=$e();return d.firstChild,n(d,r(z,{stroke:"rgb(200 25 60 / 1)",size:32}),null),d})()},get children(){var d=ye(),q=d.firstChild,U=q.nextSibling;return d.$$mouseout=C,d.$$mousemove=v,d.$$click=u,n(d,r(f,{get when(){return o()},get children(){var G=it(),F=G.firstChild,T=F.firstChild,re=T.firstChild;return n(re,()=>E("M023009")?.statusObjDesc?.[e?.keyG]),L(ne=>(ne=i())!=null?F.style.setProperty("width",ne):F.style.removeProperty("width")),G}}),q),n(q,r(A,{get name(){return E("M023009")?.statusListIcons?.[e?.keyG]},size:22})),n(d,r(f,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var G=pe(),F=G.firstChild,T=F.nextSibling;return T.nextSibling,n(G,()=>e?.total(),T),G}}),U),n(U,()=>e?.amount),L(()=>Z(d,`resumeStatus centerBx ${e?.keyG==="total"?"witXs":""}  ${e?.status===e?.keyG?"active":""}`)),d}})}})},vt=e=>{const o=()=>{let l=e?.keyG;e?.keyG==="total"&&(l=null),e?.updForm("status",l)};return r(f,{get when(){return e?.amount>0},get children(){return r(K,{get fallback(){return(()=>{var l=$e();return l.firstChild,n(l,r(z,{stroke:"rgb(200 25 60 / 1)",size:32}),null),l})()},get children(){var l=ye(),i=l.firstChild,a=i.nextSibling;return l.$$click=o,n(i,r(A,{get name(){return E("M023009")?.statusListIcons?.[e?.keyG]},size:22})),n(l,r(f,{get when(){return E("M023009")?.statusObjDesc?.[e?.keyG]},get children(){var u=at(),v=u.firstChild;return n(v,()=>E("M023009")?.statusObjDesc?.[e?.keyG]),u}}),a),n(l,r(f,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var u=pe(),v=u.firstChild,C=v.nextSibling;return C.nextSibling,n(u,()=>e?.total(),C),u}}),a),n(a,()=>e?.amount),L(()=>Z(l,`resumeStatus centerBx  spaceAround ${e?.status===e?.keyG?"active":""}`)),l}})}})},bt=async(e,o,l,i)=>{let a={params:{idairguide:"all"},fldsQry:["street","agency","idairguide","currentStatus","cidentity","ssg_track_key","bagnumber","tracking","estate","city","zone","consigneeInfo:phoneNumber","consigneeInfo:altPhoneNumber","consigneeInfo:firstName","consigneeInfo:middleName","consigneeInfo:lastName","consigneeInfo:lastName2","consigneeInfo:ybstreet","consigneeInfo:ybstreetNo","consigneeInfo:ybbetwen1","consigneeInfo:ybbetwen2","consigneeInfo:ybreparto","consigneeInfo:ybestate","consigneeInfo:ybcity","deliveryUserId","deliveryTime","isSSG","hbls","nameshipper","shipperInfo:phoneNumber"]};e&&e.split(" ").map((v,C)=>{v&&(a.params[":search"+C]=v.trim())}),o&&(a.params[":guia"]=o+""),i&&(a.params[":isSSG"]=i+""),ee?.roles?.agency?a.params[":agency"]=ee?.roles?.agency+"":l&&(a.params[":agency"]=l);let u=j(802001);if(a={...a,...u},o&&Object.keys(a.params)?.length>=2){const v=await te(a);return v?.data?.error?{}:v}return{}},pt=async(e,o,l)=>{let i={params:{idairguide:"all"}},a=j(802004);i={...i,...a},ee?.roles?.agency?i.params[":agency"]=ee?.roles?.agency+"":o&&(i.params[":agency"]=o),e&&(i.params[":guia"]=e+""),l&&(i.params[":isSSG"]=l+"");const u=await te(i);return u?.error?{}:u},yt=async e=>{let o={params:{idairguide:e,":search5":e,checkDuplicate:!0},fldsQry:["street"]},l=j(802001);o={...o,...l};const i=await te(o);return i?.error?{}:i},zt=async e=>{e.map(o=>{let l={params:{id:o?.ssg_track_key,idairguide:"all"}},i=j(802002);l={...l,...i}})},Rt=async e=>{let o=[];e.map(l=>{let i={params:{ssg_track_key:l?.ssg_track_key,idairguide:"all"}},a=j(809005);i={...i,...a},o.push(i)}),ve(o,ke)},Vt=async(e,o)=>{let l=[];e.map(i=>{let a={params:{ssg_track_key:i?.ssg_track_key,idairguide:"all"},data2update:{currentStatus:o}},u=j(802004);a={...a,...u},l.push(a)}),ve(l,ke)},ke=async e=>{const l=await te(e);if(l)return l},$t=e=>(()=>{var o=be();return n(o,r(f,{get when(){return e?.item?.total>0},get children(){var l=ot(),i=l.firstChild,a=i.firstChild,u=a.firstChild,v=a.nextSibling;return i.$$click=()=>e?.updS(e?.ism),n(a,()=>e?.ism,u),n(v,()=>e?.item?.total),l}}),null),n(o,r(gt,{get children(){var l=ct();return n(l,r(f,{get when(){return e?.item?.cities},get children(){return r(J,{get each(){return V(e?.item?.cities)},children:(i,a)=>(()=>{var u=ut(),v=u.firstChild,C=v.nextSibling;return u.$$click=()=>e?.updS(e?.ism,i),n(v,i),n(C,()=>e?.item?.cities?.[i]),u})()})}})),l}}),null),o})(),kt=()=>[{id:"37",label:"37"},{id:"38",label:"38"},{id:"39",label:"39"},{id:"40",label:"40"},{id:"41",label:"41"},{id:"42",label:"42"}];Qe(["click","mousemove","mouseout"]);export{_t as StatusGroupItem,Dt as default,Rt as deleteManifest,ke as fetchCSVInve,zt as loadManifest,Vt as updateManifest};
