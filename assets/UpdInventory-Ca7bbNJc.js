const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SVG-1hx_1_9D.js","assets/index-Do4nhdU0.js","assets/index-C1cQPolT.css","assets/index-Ci0zXM0r.js","assets/InputHr-Bx1C19XD.js","assets/InputHr-M3rJ9grQ.css","assets/ButonHrm-7yfFFyua.js","assets/Util-D886uaAp.js","assets/ButonHrm-BSeWNUGQ.css","assets/DropDwnFetchSearch-C3-JlYtc.js","assets/debounces-p-E4fWEF.js","assets/DropDwnSearch-DMkLkRPc.css","assets/DropDwnSearch-CsvwQ_MN.js"])))=>i.map(i=>d[i]);
import{l as h,_,c as R,a as w,m as le,i as o,d as t,f as ie,U as de,e as ae,t as x,j as se,S as g,F as ne,k as ce}from"./index-Do4nhdU0.js";import{i as be}from"./globalSignal-DbwDqxNx.js";import{a as pe,y as B,g as ue,x as ve,b as fe,f as ge}from"./Util-D886uaAp.js";import{CloseModal as he}from"./DialogHRM-DOKMp4nk.js";import{u as _e}from"./debounces-p-E4fWEF.js";import{LookupProducts as me}from"./DashProducts-CckoRAs2.js";import N from"./FlexSpace-CUDbzSyD.js";import"./index-Ci0zXM0r.js";import"./App.module-CbHnVtRQ.js";var A=x("<div style=padding:4px>"),xe=x('<div style="margin:15px 0"class=" spaceAround centerBx">'),ye=x('<div><div><div class="_dsplFlx flxWrp spaceAround "><div><div class="_dsplFlx bottombx lowbordr"><h5>Entrada</h5></div></div><div class="_dsplFlx bottombx "></div></div><div class="_dsplFlx bottombx flxWrp spaceAround txtWrap"><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div class=hseparator></div><div style=padding:4px>'),Ce=x('<div class="bottombx centerBx unit"><div class=tr_bar_50><h5></h5></div><div class="bottombx centerBx unit tr_bar_20"><h5>Cantidad:</h5><div class=bag_number><h5></h5></div></div><div class="bottombx centerBx unit tr_bar_20"><h5>Precio:</h5><div class=unitBx><h5>$</h5></div></div><div class="icon_status centerBx tr_bar_10">');const ke=h(()=>_(()=>import("./SVG-1hx_1_9D.js"),__vite__mapDeps([0,1,2,3]))),p=h(()=>_(()=>import("./InputHr-Bx1C19XD.js"),__vite__mapDeps([4,1,2,5]))),H=h(()=>_(()=>import("./ButonHrm-7yfFFyua.js"),__vite__mapDeps([6,1,2,0,3,7,8]))),Se=h(()=>_(()=>import("./DropDwnFetchSearch-C3-JlYtc.js"),__vite__mapDeps([9,1,2,10,0,3,11]))),W=h(()=>_(()=>import("./DropDwnSearch-CsvwQ_MN.js"),__vite__mapDeps([12,1,2,10,0,3,11])));function Oe(d){R();const[r,u]=R({invoice:"",seller:"",description:"",hbl:""}),[f,y]=w(""),[c,P]=w(null),[b,C]=w([]),j=_e(y,400),s=(l,i)=>{u({[l]:i}),j(ue())},z=async l=>{let a=B(E,r,d?.frm2).data,n=ve(b(),d?.frm2?.products);console.log({diffProd:n}),n||(a.products=b()),console.log(a),await $e(d?.frm1?.ssg_inventory_key,a),he(d?.modalId)};le(()=>{u(d?.frm1),d?.frm1?.products.map(l=>{C([...b(),l])})});const J=async l=>{let i=await me(l),a=[];return Object.keys(i).map(n=>{a.push({id:n,label:i[n]?.name,code:i[n]?.code})}),a},Q=async l=>{let i={product:c(),qty:r?.qty,price:r?.price};C([...b(),i]),u({qty:0}),u({price:0}),P(null)},U=l=>{C(i=>i.filter((a,n)=>a.product.id!==l))};let E=["invoice","type","store","seller","description","products","hbl","salePrice"];return(()=>{var l=ye(),i=l.firstChild,a=i.firstChild,n=a.firstChild,Y=n.nextSibling,k=a.nextSibling,D=k.firstChild,F=D.nextSibling,I=F.nextSibling,M=I.nextSibling,T=M.nextSibling,q=T.nextSibling,G=q.nextSibling,K=G.nextSibling;return l.style.setProperty("height","clamp(60vh, 70vh, 80vh)"),l.style.setProperty("overflow","auto"),l.style.setProperty("background","#ffffff"),l.style.setProperty("border-radius","13"),l.style.setProperty("padding","10px 19px"),o(Y,t(g,{get when(){return se(()=>!!(r?.invoice&&r?.store&&B(E,r,d?.frm2)?.hasChange))()&&b()?.length>0},get children(){return t(H,{color:"#047db7ff",icon:"save",label:"Salvar",handleClick:z})}})),k.style.setProperty("padding","16px"),o(D,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.invoice},placeholder:"Factura",colors:"#2b2b2b",handleClick:e=>s("invoice",e)})),o(F,t(W,{list:[{id:"ENTRY",label:"ENTRADAS"},{id:"SALES",label:"VENTAS"}],lbl_empty:"Tipo de Movimiento",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return r?.type},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:e=>s("type",e.id),width:"260px"})),o(I,t(W,{get list(){return we()},lbl_empty:"Almacen",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return r?.store},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:e=>s("store",e.id),width:"360px"})),o(M,t(p,{width:"360px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.seller},placeholder:"Vendedor o Comprador",colors:"#2b2b2b",handleClick:e=>s("seller",e)})),o(T,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.hbl},placeholder:"Hbl",colors:"#2b2b2b",handleClick:e=>s("hbl",e)})),o(q,t(p,{width:"460px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.description},placeholder:"Descripcion",colors:"#2b2b2b",handleClick:e=>s("description",e)})),o(K,t(Se,{callback:J,lbl_empty:"Productos",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return c()},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:P,width:"360px"})),o(k,t(g,{get when(){return c()?.id},get children(){return[(()=>{var e=A();return o(e,t(p,{width:"130px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return r?.qty},placeholder:"Cantidad",colors:"#2b2b2b",handleClick:v=>s("qty",v)})),e})(),(()=>{var e=A();return o(e,t(p,{width:"130px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return r?.price},placeholder:"Precio",colors:"#2b2b2b",handleClick:v=>s("price",v)})),e})(),t(g,{get when(){return r?.type==="SALES"},get children(){var e=A();return o(e,t(p,{width:"130px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return r?.salePrice},placeholder:"Precio de Venta",colors:"#2b2b2b",handleClick:v=>s("salePrice",v)})),e}}),t(g,{get when(){return r?.price&&r?.qty},get children(){var e=xe();return o(e,t(H,{color:"#041e49ff",icon:"plus",label:"Agregar",handleClick:Q})),e}})]}}),null),o(i,t(g,{get when(){return b()},get children(){return t(ne,{get each(){return b()},children:(e,v)=>(()=>{var m=Ce(),O=m.firstChild,X=O.firstChild,S=O.nextSibling,Z=S.firstChild,ee=Z.nextSibling,re=ee.firstChild,$=S.nextSibling,te=$.firstChild,oe=te.nextSibling,V=oe.firstChild;V.firstChild;var L=$.nextSibling;return o(X,()=>e?.product?.label),o(m,t(N,{}),S),o(re,()=>(e?.qty*1).toFixed(2)),o(m,t(N,{}),$),o(V,()=>(e?.price*1).toFixed(2),null),L.$$click=()=>U(e?.product?.id),o(L,t(ke,{name:"outline_delete",size:24})),m})()})}}),null),ie(e=>(e=be()?"96vw":"1020px")!=null?l.style.setProperty("width",e):l.style.removeProperty("width")),l})()}const $e=async(d,r)=>{let u={...r},f={params:{businessId:ce?.profile?.businessYId,id:d},form:u},y=fe(139004);f={...f,...y};{const c=await ge(f);return console.log(f),console.log(c),c?.data?.error?{}:c?.data}},we=()=>{let d=[];return pe("M023009")?.stores.map(r=>{de()[r.id]&&d.push(r)}),d};ae(["click"]);export{Oe as default,we as validStores};
