const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-BtbIGYXR.js","assets/index-CaXA0mR0.js","assets/index-D4QuRvi-.css","assets/SVG-DEfsU4Im.js","assets/index-Ci0zXM0r.js","assets/ShowQR-BO2r0ZCQ.js","assets/globalSignal-wMqKMl0q.js","assets/ShowQRPrintLabel-DnvvB_mE.js","assets/fontkit.es-DEjOtITv.js","assets/qrcode-C5vWJp7P.js","assets/InitPrintServices--pV7_9n8.js","assets/Util-D7b_hj3C.js","assets/Toast-DXo7WFrx.js","assets/Toast-DLpFKn-Q.css","assets/ButonUploadHrm-CU_EPZeH.js","assets/ButonHrm-BSeWNUGQ.css","assets/ButonHrm-D6QdGWB_.js","assets/DropDwnSearch-Ena0jYS0.js","assets/debounces-C7Wz-qd_.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as i,_ as o,a as y,u as O,C as R,m as V,d as u,e as q,i as p,S as h,D as L,f,n as k,s as U,t as m,j as F}from"./index-CaXA0mR0.js";import{f as E,a as I,g as S,q as A,m as M,O as Y}from"./Util-D7b_hj3C.js";/* empty css                             */import{t as w}from"./manifestList-CT6VCobT.js";import"./index-Ci0zXM0r.js";var j=m('<div class="elastic_view_bx show"><div class=" spaceAround centerBx">'),z=m("<div><img alt=sf>"),H=m('<div class="elastic_view_bx show centerBx"><div style="margin:15px 0"class=" spaceAround centerBx"></div><div class="errorBx centerBx mxW375 "><div class="icon_status centerBx"></div><p class=" centerBx">Click para completar la entrega si la imagen esta clara y con calidad'),K=m("<div>");i(()=>o(()=>import("./FlexSpace-BtbIGYXR.js"),__vite__mapDeps([0,1,2])));const Q=i(()=>o(()=>import("./SVG-DEfsU4Im.js"),__vite__mapDeps([3,1,2,4])));i(()=>o(()=>import("./ShowQR-BO2r0ZCQ.js"),__vite__mapDeps([5,1,2,6,7,8,4,9,10,11,12,13])));const G=i(()=>o(()=>import("./ButonUploadHrm-CU_EPZeH.js"),__vite__mapDeps([14,1,2,3,4,11,15]))),N=i(()=>o(()=>import("./ButonHrm-D6QdGWB_.js"),__vite__mapDeps([16,1,2,3,4,11,15])));i(()=>o(()=>import("./DropDwnSearch-Ena0jYS0.js"),__vite__mapDeps([17,1,2,18,3,4,19])));function le(r){const[t,s]=y(null),[l,n]=y(!1),[c,Z]=O(),b=R();V(()=>{});const B=async(e,a)=>{let d=await J(e.type,a);if(await X(d,e)){let _={deliveryProof:$()+"/"+a,currentStatus:"YABA_99",deliveryUserId:F?.profile?.userId,wasDelivery:"OK",deliveryTime:M()};const T=Y(r?.list).map(async v=>{let D={ssg_track_key:v,idairguide:r?.list[v]?.idairguide};await W(D,_)});await Promise.all(T),b(`/delivery-detail?dId=${c?.dId}`,{replace:!0})}},x=async()=>{n(!1),console.log(r?.item);let e=r?.cid+"/"+S()+S()+"."+t()?.name.split(".").pop();console.log(e),B(t().file,e)},P=e=>{s(e),n(!0)},C=()=>{s(null),n(!1)};return[u(h,{get when(){return!l()||!t()?.source},get children(){var e=j(),a=e.firstChild;return p(a,u(G,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"image_outline",label:"Subir Imagen",handleClick:P})),e}}),u(h,{get when(){return L(()=>!!l())()&&t()?.source},get children(){return[(()=>{var e=z(),a=e.firstChild;return f(()=>k(a,"src",t()?.source)),e})(),(()=>{var e=H(),a=e.firstChild,d=a.nextSibling,g=d.firstChild;return p(a,u(N,{color:"#fa9514",icon:"reload",label:"Tomar imagen nuevamente",handleClick:C})),d.$$click=x,p(g,u(Q,{name:"success",size:32,get color(){return w?.success?.svg}})),f(_=>U(d,w?.success,_)),e})(),K()]}})]}const W=async(r,t)=>{let s={params:r,data2update:t},l={...I(A())}[809004];return qryy={...qryy,...l},await E(s)},$=()=>"YABABYSSolution",J=async(r,t)=>{let s={params:{userId:$(),fileName:t,mimeType:r}},l={...I(A())}[933001];s={...s,...l};const c=await E(s);return c&&!c.error?c.uploadURL:null},X=async(r,t)=>(await fetch(r,{method:"PUT",headers:{"Content-Type":t.type},body:t}))?.status===200?!0:null;q(["click"]);export{le as default,J as getSignedUploadUrlAsync,X as uploadSignedUrlBlob};
