import{P as j,f as K,S as B,r as o}from"./fontkit.es-CD9tcdqV.js";import{e as f,h as G,b as ht}from"./Util-Bc5vcOBp.js";import{i as St,b as Z}from"./InitPrintServices-CO7w1VfE.js";import"./qrcode-DHy8FFhS.js";import"./Toast-C_kpRl3Y.js";let t=0;const R=a=>a?a*1:0,E=a=>a?" "+a:"",_t=a=>E(a?.firstName)+E(a?.middleName)+E(a?.lastName)+E(a?.lastName2),At=a=>{let d=E(a?.altPhoneNumber);return E(a?.phoneNumber)+(d?" |"+d:"")},O=(a,d)=>d?" "+a+" "+d:"",yt=a=>`${O("Calle",a?.ybstreet)}${O("#",a?.ybstreetNo)}${O("E/",a?.ybbetwen1)}${O("y",a?.ybbetwen2)}, ${O("Reparto",a?.ybreparto)},${O("",a?.ybcity)},${O("",a?.ybestate)}`,Nt=async a=>{const d=await j.create();d.registerFontkit(K),await d.embedFont(B.TimesRoman);var i=await d.embedFont(B.TimesRomanBold);if(await d.embedFont(B.TimesRomanBold),f("modernFontReport")){let h=f("Roboto-Bold.ttf");const y=await fetch(h).then(S=>S.arrayBuffer());i=await d.embedFont(y);let b=f("ggSans-Italic.ttf");const s=await fetch(b).then(S=>S.arrayBuffer());await d.embedFont(s);let I=f("ggSans-Medium.ttf");const c=await fetch(I).then(S=>S.arrayBuffer());await d.embedFont(c)}const e=await St(d);let r=d.addPage();const{width:tt,height:N}=r.getSize(),n=10;t=N-40;const W=e.GSansBold.widthOfTextAtSize("Invoice: ",9),p=e.Lexend_700.widthOfTextAtSize(a?.invoice,10);r.drawText("Invoice: ",{x:580-p-W,y:t,size:9,font:e.GSansBold,color:o(0,0,0)}),r.drawText(a?.invoice,{x:580-p,y:t,size:10,font:e.Lexend_700,color:o(0,0,0)});let g=N-30,U=f("storeGroupBy")?.[a?.store]?.label||"";r.drawText(U,{x:20,y:g,size:13,font:i,color:o(0,0,0)}),t=t-20;let u=a?.createDate;const P=e.GSansBold.widthOfTextAtSize("Fecha: ",11),F=e.Lexend_700.widthOfTextAtSize(G(u)+"",12);r.drawText("Fecha: ",{x:580-P-F,y:t,size:11,font:e.GSansBold,color:o(0,0,0)}),r.drawText(G(u)+"",{x:580-F,y:t,size:12,font:e.Lexend_700,color:o(.06,.06,.06)}),t=t-20;let x=a?.shipper_consignee,l="";if(x){l=x?.name||"";let h=x?.phoneNumberS||"";r.drawText("Envia: ",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)}),t=t-12,r.drawText(l+"   |   "+h,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-20;let y=_t(x),b=At(x),s=yt(x);r.drawText("Recibe: ",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)}),t=t-13,r.drawText(x?.cid,{x:28,y:t,size:10,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,r.drawText(y,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,r.drawText(b,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,r.drawText(s,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)})}if((a?.reservas||[])?.length>0){t=t-40,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,r.drawText("Tipo de envio",{x:20,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const h=i.widthOfTextAtSize("Lbs",11);r.drawText("Lbs",{x:320-h,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const y=i.widthOfTextAtSize("Precio",11);r.drawText("Precio",{x:400-y,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const b=i.widthOfTextAtSize("Aranceles",11);r.drawText("Aranceles",{x:480-b,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const s=i.widthOfTextAtSize("Total",11);r.drawText("Total",{x:560-s,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)}),t=t-8,r.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let I=a?.reservas||[];Array.isArray(I)&&I.map((c,S)=>{const D=c?.type;t=t-16,D&&r.drawText(D+"",{x:20,y:t,size:n,font:e.GSansBold,color:o(0,0,0)});let C=R(c?.qty)?.toFixed(2);const q=e.Lexend_700.widthOfTextAtSize(C+"",n);r.drawText(C+"",{x:320-q,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let m=R(c?.price)?.toFixed(2);const Q=e.Lexend_700.widthOfTextAtSize(m+"",n);r.drawText(m+"",{x:400-Q,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let J=R(c?.arancel)?.toFixed(2);const ft=e.Lexend_700.widthOfTextAtSize(J+"",n);r.drawText(J+"",{x:480-ft,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let X=(R(c?.price)*R(c?.qty)+R(c?.arancel))?.toFixed(2);const wt=e.Lexend_700.widthOfTextAtSize(X+"",n);r.drawText(X+"",{x:560-wt,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)})})}let _=ht(a?.products)||[];if(_.length>0){t=t-50,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,r.drawText("Producto",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)});const h=e.roboto_bold.widthOfTextAtSize("Qty",11);r.drawText("Qty",{x:400-h,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const y=e.roboto_bold.widthOfTextAtSize("Precio",11);r.drawText("Precio",{x:480-y,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const b=e.roboto_bold.widthOfTextAtSize("Total",11);r.drawText("Total",{x:560-b,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)}),t=t-8,r.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),Array.isArray(_)&&_.map((s,I)=>{const c=s?.product?.label;t=t-16,c&&r.drawText(c+"",{x:20,y:t,size:n,font:e.GSansBold,color:o(0,0,0)});let S=s?.qty?(s?.qty*-1).toFixed(2):"0.00";const D=e.Lexend_700.widthOfTextAtSize(S+"",n);r.drawText(S+"",{x:400-D,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let C=s?.qty?(s?.salePrice*1).toFixed(2):"0.00";const q=e.Lexend_700.widthOfTextAtSize(C+"",n);r.drawText(C+"",{x:480-q,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let m=s?.qty?(s?.salePrice*s?.qty*-1).toFixed(2):"0.00";const Q=e.Lexend_700.widthOfTextAtSize(m+"",n);r.drawText(m+"",{x:560-Q,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)})})}t=t-28,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let A=500;t=t-20;let z=a?.amount?a?.amount?.toFixed(2):"0.00";const L=e.Lexend_700.widthOfTextAtSize(z+"",n);r.drawText(z+"",{x:560-L,y:t,size:n,font:e.Lexend_700,color:o(.13,.13,.13)});const w=e.GSansBold.widthOfTextAtSize("SubTotal",n);r.drawText("SubTotal",{x:A-w,y:t,size:n,font:e.GSansBold,color:o(0,0,0)}),t=t-16;let Y=a?.hasTax?a?.hasTax?.toFixed(2):"0.00";const et=e.Lexend_700.widthOfTextAtSize(Y+"",n);r.drawText(Y+"",{x:560-et,y:t,size:n,font:e.Lexend_700,color:o(.13,.13,.13)});const ot=e.GSansBold.widthOfTextAtSize("Taxes",n);r.drawText("Taxes",{x:A-ot,y:t,size:n,font:e.GSansBold,color:o(0,0,0)});let $=a?.hasTax?a?.hasTax+a?.amount:a?.amount*1;t=t-16;let k=$?$?.toFixed(2):"0.00";const rt=e.Lexend_700.widthOfTextAtSize(k+"",11);r.drawText(k+"",{x:560-rt,y:t,size:11,font:e.Lexend_700,color:o(0,0,0)});const at=e.GSansBold.widthOfTextAtSize("Total",11);r.drawText("Total",{x:A-at,y:t,size:11,font:e.GSansBold,color:o(0,0,0)});let T=40,nt="CERTIFICO QUE NO ENVIO SUSTANCIAS NI PRODUCTOS PROHIBIDOS POR LAS LEYES Y LAS ADUANAS DE USA Y CUBA, COMO POR EJEMPLO DROGAS, ARMAS, EXPLOSIVOS,CIGARRILLOS ELECTRONICOS,",dt="DRONES PROFESIONALES, JOYAS, PRENDAS, DINERO EN EFECTIVO, SEMILLAS, NARCOTICOS, FARMACOS CONTROLADOS, PRODUCTOS AGRICOLAS DE TIPO HERBICIDAS O ANTIFUNGUICIDAS, ",it="NINGUN TIPO DE PRODUCTO PERECEDERO QUE NECESITE REFRIGERACION. ENTIENDO QUE AL LLENAR ESTE FORMULARIO, AL ENVIAR ALGUNA DE LAS SUSTANCIAS O PRODUCTOS ANTES DESCRITOS",st="MI CARGA PUEDE SER DESCAMISADA COMPLETA O PARCIALMENTE POR LAS ADUANAS DE CUBA O USA SIN DERECHO A RECLAMO NI COMPENSACION, DE PARTE MIA COMO EMBARCADOR,",lt="NI DE LA PERSONA A QUIEN ENVIO( CONSIGNATARIO )";r.drawText(nt.toLowerCase(),{x:10,y:T+80,size:7,font:e?.GSansBold,color:o(0,0,0)}),r.drawText(dt.toLowerCase(),{x:10,y:T+70,size:7,font:e.GSansBold,color:o(0,0,0)}),r.drawText(it.toLowerCase(),{x:10,y:T+60,size:7,font:e?.GSansBold,color:o(0,0,0)}),r.drawText(st.toLowerCase(),{x:10,y:T+50,size:7,font:e?.GSansBold,color:o(0,0,0)}),r.drawText(lt.toLowerCase(),{x:10,y:T+40,size:7,font:e?.GSansBold,color:o(0,0,0)}),T=10;let v=l+"    ______________________________";const ct=e.GSansBold.widthOfTextAtSize(v,8);r.drawText(v,{x:30,y:T+20,size:8,font:e?.GSansBold,color:o(0,0,0)}),r.drawText("Firmar       .",{x:ct-30,y:T+10,size:8,font:e?.GSansBold,color:o(0,0,0)});const H="________________________",xt=e.GSansBold.widthOfTextAtSize(H,8);r.drawText(H,{x:540-xt,y:T+20,size:8,font:e?.GSansBold,color:o(0,0,0)});let V="Fecha";const Tt=e.GSansBold.widthOfTextAtSize(V,8);r.drawText(V,{x:540-Tt*2,y:T+10,size:8,font:e?.GSansBold,color:o(0,0,0)});{const h=await d.save();return Z(h)}},ut=async a=>{const d=await j.create();d.registerFontkit(K);var i=await d.embedFont(B.TimesRoman),e=await d.embedFont(B.TimesRomanBold);if(await d.embedFont(B.TimesRomanBold),f("modernFontReport")){let l=f("Roboto-Bold.ttf");const M=await fetch(l).then(w=>w.arrayBuffer());e=await d.embedFont(M);let _=f("ggSans-Italic.ttf");const A=await fetch(_).then(w=>w.arrayBuffer());i=await d.embedFont(A);let z=f("ggSans-Medium.ttf");const L=await fetch(z).then(w=>w.arrayBuffer());await d.embedFont(L)}let r=d.addPage();const{width:tt,height:N}=r.getSize(),n=10;t=N-40;let W=N-30,p=f("storeGroupBy")?.[a?.store]?.label;r.drawText(p,{x:20,y:W,size:13,font:e,color:o(0,0,0)});let g=a?.createDate;const U=i.widthOfTextAtSize("Fecha: ",11),u=e.widthOfTextAtSize(G(g)+"",12);r.drawText("Fecha: ",{x:580-U-u,y:t,size:11,font:i,color:o(0,0,0)}),r.drawText(G(g)+"",{x:580-u,y:t,size:12,font:e,color:o(.06,.06,.06)}),t=t-20,t=t-20,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,r.drawText("Producto",{x:20,y:t,size:13,font:e,color:o(0,0,0)});const P=e.widthOfTextAtSize("Existencia",12);r.drawText("Existencia",{x:480-P,y:t,size:12,font:e,color:o(0,0,0)});const F=e.widthOfTextAtSize("Qty",12);r.drawText("Qty",{x:560-F,y:t,size:12,font:e,color:o(0,0,0)}),t=t-8,r.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let x=a?.products||[];Array.isArray(x)&&x.map((l,M)=>{const _=l?.product?.label;t=t-16,_&&r.drawText(_+"",{x:20,y:t,size:n,font:i,color:o(0,0,0)});let A=l?.stock?l?.stock*1:"0";const z=i.widthOfTextAtSize(A+"",n);r.drawText(A+"",{x:480-z,y:t,size:n,font:i,color:o(0,0,0)});let L=l?.qty?l?.qty*1:"0";const w=i.widthOfTextAtSize(L+"",n);r.drawText(L+"",{x:560-w,y:t,size:n,font:i,color:o(0,0,0)})});{const l=await d.save();return Z(l)}};export{ut as I,Nt as a};
