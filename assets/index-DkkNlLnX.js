const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DialogHRM-g_NvR9nw.js","assets/DialogHRM-V9_lZntj.css","assets/Toast-B8ER3c08.js","assets/Toast-DLpFKn-Q.css","assets/Users-D1fHbvqY.js","assets/debounces-BOP31X7v.js","assets/ShowQRPrintLabel-CkIpyv0G.js","assets/PDFButton-Cb-vVOms.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-Usf72ANN.js","assets/InitPrintServices-Br8uoi7y.js","assets/Tracking-DIP7r2Um.js","assets/InputHr-BpD5MfYX.js","assets/InputHr-M3rJ9grQ.css","assets/SVG-7m5L1R9W.js","assets/handelImagesServices-Ba4d3S_F.js","assets/browser-image-compression-BVJ4p9S0.js","assets/Envios-DETIK6Td.js","assets/Reports-BZ55tkou.js","assets/Scanning-DSbcd0rV.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/FindHBL-Blh6Nxl0.js","assets/FlexSpace-C14yKP74.js","assets/ItemHbl2Delivery-CqfJy0PZ.js","assets/ItemOnReports-KB3lJ9LE.js","assets/ContainerElasticView-CctYASup.js","assets/ContainerElasticView-LzOd6fDI.css","assets/DashInventory-CgeNFf3w.js","assets/DeliveryView-DtDpDnXg.js","assets/DashManifest-DYEXOi2y.js","assets/Header-CwOuo3JW.js","assets/Consigners-CVa_pbGN.js","assets/Shippers-DhWh82G2.js","assets/LinkScanManifest-BGYNspSO.js","assets/LinkScanManifest2-Brez2yXL.js","assets/DeliveryViewDetail-DIgKZMuP.js","assets/ShowScanDeliveryManifest-DdAim8M3.js","assets/html5-qrcode-scanner-Dh6-P_8S.js","assets/DeliveryScanView-DmanRZ0B.js","assets/components-CPOmIy1l.js","assets/ManifestDetails-BZDzkmSe.js","assets/ButonHrm-BXRgqw6I.js","assets/ButonHrm-BSeWNUGQ.css","assets/DashProducts-BXrbV9XP.js","assets/ProductDetails-Dk0ydVY3.js","assets/InventoryDetails-xSrZ32Ps.js","assets/DashExpenses-DVaTauc7.js","assets/DashInventoryLoc-D2cxyAcl.js","assets/AddInventory-B1_ntpMm.js","assets/ExpensesDetails-VC9syPUT.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const Ms="modulepreload",Us=function(e){return"/"+e},N0={},le=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=a?.nonce||a?.getAttribute("nonce");i=Promise.all(r.map(o=>{if(o=Us(o),o in N0)return;N0[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const x=document.createElement("link");if(x.rel=u?"stylesheet":Ms,u||(x.as="script",x.crossOrigin=""),x.href=o,s&&x.setAttribute("nonce",s),document.head.appendChild(x),u)return new Promise((f,v)=>{x.addEventListener("load",f),x.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>t()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},X={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return $0(this.context.count)},getNextContextId(){return $0(this.context.count++)}};function $0(e){const t=String(e),r=t.length-1;return X.context.id+(r?String.fromCharCode(96+r):"")+t}function Je(e){X.context=e}const Ks=(e,t)=>e===t,Ke=Symbol("solid-proxy"),On=Symbol("solid-track"),ur={equals:Ks};let $t=null,ha=ma;const $e=1,Mt=2,xa={owned:null,cleanups:null,context:null,owner:null},kr={};var J=null;let U=null,Ws=null,se=null,Se=null,Ce=null,mr=0;function bt(e,t){const r=se,n=J,i=e.length===0,a=t===void 0?n:t,s=i?xa:{owned:null,cleanups:null,context:a?a.context:null,owner:a},o=i?e:()=>e(()=>Ae(()=>it(s)));J=s,se=null;try{return Le(o,!0)}finally{se=r,J=n}}function ve(e,t){t=t?Object.assign({},ur,t):ur;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=i=>(typeof i=="function"&&(U&&U.running&&U.sources.has(r)?i=i(r.tValue):i=i(r.value)),ya(r,i));return[_a.bind(r),n]}function H0(e,t,r){const n=Vt(e,t,!0,$e);qt(n)}function et(e,t,r){const n=Vt(e,t,!1,$e);qt(n)}function Gs(e,t,r){ha=to;const n=Vt(e,t,!1,$e),i=ht&&Rt(ht);i&&(n.suspense=i),n.user=!0,Ce?Ce.push(n):qt(n)}function fe(e,t,r){r=r?Object.assign({},ur,r):ur;const n=Vt(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,qt(n),_a.bind(n)}function Qs(e){return e&&typeof e=="object"&&"then"in e}function Xs(e,t,r){let n,i,a;arguments.length===2&&typeof t=="object"||arguments.length===1?(n=!0,i=e,a=t||{}):(n=e,i=t,a={});let s=null,o=kr,u=null,d=!1,x=!1,f="initialValue"in a,v=typeof n=="function"&&fe(n);const y=new Set,[A,E]=(a.storage||ve)(a.initialValue),[g,p]=ve(void 0),[h,c]=ve(void 0,{equals:!1}),[l,_]=ve(f?"ready":"unresolved");X.context&&(u=X.getNextContextId(),a.ssrLoadFrom==="initial"?o=a.initialValue:X.load&&X.has(u)&&(o=X.load(u)));function m(C,D,R,S){return s===C&&(s=null,S!==void 0&&(f=!0),(C===o||D===o)&&a.onHydrated&&queueMicrotask(()=>a.onHydrated(S,{value:D})),o=kr,U&&C&&d?(U.promises.delete(C),d=!1,Le(()=>{U.running=!0,B(D,R)},!1)):B(D,R)),D}function B(C,D){Le(()=>{D===void 0&&E(()=>C),_(D!==void 0?"errored":f?"ready":"unresolved"),p(D);for(const R of y.keys())R.decrement();y.clear()},!1)}function b(){const C=ht&&Rt(ht),D=A(),R=g();if(R!==void 0&&!s)throw R;return se&&!se.user&&C&&H0(()=>{h(),s&&(C.resolved&&U&&d?U.promises.add(s):y.has(C)||(C.increment(),y.add(C)))}),D}function k(C=!0){if(C!==!1&&x)return;x=!1;const D=v?v():n;if(d=U&&U.running,D==null||D===!1){m(s,Ae(A));return}U&&s&&U.promises.delete(s);const R=o!==kr?o:Ae(()=>i(D,{value:A(),refetching:C}));return Qs(R)?(s=R,"value"in R?(R.status==="success"?m(s,R.value,void 0,D):m(s,void 0,Rn(R.value),D),R):(x=!0,queueMicrotask(()=>x=!1),Le(()=>{_(f?"refreshing":"pending"),c()},!1),R.then(S=>m(R,S,void 0,D),S=>m(R,void 0,Rn(S),D)))):(m(s,R,void 0,D),R)}return Object.defineProperties(b,{state:{get:()=>l()},error:{get:()=>g()},loading:{get(){const C=l();return C==="pending"||C==="refreshing"}},latest:{get(){if(!f)return b();const C=g();if(C&&!s)throw C;return A()}}}),v?H0(()=>k(!1)):k(!1),[b,{refetch:k,mutate:E}]}function va(e){return Le(e,!1)}function Ae(e){if(se===null)return e();const t=se;se=null;try{return e()}finally{se=t}}function a0(e,t,r){const n=Array.isArray(e);let i,a=r&&r.defer;return s=>{let o;if(n){o=Array(e.length);for(let d=0;d<e.length;d++)o[d]=e[d]()}else o=e();if(a)return a=!1,s;const u=Ae(()=>t(o,i,s));return i=o,u}}function Sd(e){Gs(()=>Ae(e))}function Xt(e){return J===null||(J.cleanups===null?J.cleanups=[e]:J.cleanups.push(e)),e}function Vs(e,t){$t||($t=Symbol("error")),J=Vt(void 0,void 0,!0),J.context={...J.context,[$t]:[t]},U&&U.running&&U.sources.add(J);try{return e()}catch(r){Yt(r)}finally{J=J.owner}}function Pn(){return se}function s0(){return J}function pa(e,t){const r=J,n=se;J=e,se=null;try{return Le(t,!0)}catch(i){Yt(i)}finally{J=r,se=n}}function ga(e){if(U&&U.running)return e(),U.done;const t=se,r=J;return Promise.resolve().then(()=>{se=t,J=r;let n;return ht&&(n=U||(U={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),n.done||(n.done=new Promise(i=>n.resolve=i)),n.running=!0),Le(e,!1),se=J=null,n?n.done:void 0})}const[Ys,z0]=ve(!1);function kd(){return[Ys,ga]}function Js(e){Ce.push.apply(Ce,e),e.length=0}function Ar(e,t){const r=Symbol("context");return{id:r,Provider:ro(r),defaultValue:e}}function Rt(e){let t;return J&&J.context&&(t=J.context[e.id])!==void 0?t:e.defaultValue}function Er(e){const t=fe(e),r=fe(()=>qn(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let ht;function Zs(){return ht||(ht=Ar())}function _a(){const e=U&&U.running;if(this.sources&&(e?this.tState:this.state))if((e?this.tState:this.state)===$e)qt(this);else{const t=Se;Se=null,Le(()=>lr(this),!1),Se=t}if(se){const t=this.observers?this.observers.length:0;se.sources?(se.sources.push(this),se.sourceSlots.push(t)):(se.sources=[this],se.sourceSlots=[t]),this.observers?(this.observers.push(se),this.observerSlots.push(se.sources.length-1)):(this.observers=[se],this.observerSlots=[se.sources.length-1])}return e&&U.sources.has(this)?this.tValue:this.value}function ya(e,t,r){let n=U&&U.running&&U.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(n,t)){if(U){const i=U.running;(i||!r&&U.sources.has(e))&&(U.sources.add(e),e.tValue=t),i||(e.value=t)}else e.value=t;e.observers&&e.observers.length&&Le(()=>{for(let i=0;i<e.observers.length;i+=1){const a=e.observers[i],s=U&&U.running;s&&U.disposed.has(a)||((s?!a.tState:!a.state)&&(a.pure?Se.push(a):Ce.push(a),a.observers&&Aa(a)),s?a.tState=$e:a.state=$e)}if(Se.length>1e6)throw Se=[],new Error},!1)}return t}function qt(e){if(!e.fn)return;it(e);const t=mr;M0(e,U&&U.running&&U.sources.has(e)?e.tValue:e.value,t),U&&!U.running&&U.sources.has(e)&&queueMicrotask(()=>{Le(()=>{U&&(U.running=!0),se=J=e,M0(e,e.tValue,t),se=J=null},!1)})}function M0(e,t,r){let n;const i=J,a=se;se=J=e;try{n=e.fn(t)}catch(s){return e.pure&&(U&&U.running?(e.tState=$e,e.tOwned&&e.tOwned.forEach(it),e.tOwned=void 0):(e.state=$e,e.owned&&e.owned.forEach(it),e.owned=null)),e.updatedAt=r+1,Yt(s)}finally{se=a,J=i}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?ya(e,n,!0):U&&U.running&&e.pure?(U.sources.add(e),e.tValue=n):e.value=n,e.updatedAt=r)}function Vt(e,t,r,n=$e,i){const a={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:J,context:J?J.context:null,pure:r};return U&&U.running&&(a.state=0,a.tState=n),J===null||J!==xa&&(U&&U.running&&J.pure?J.tOwned?J.tOwned.push(a):J.tOwned=[a]:J.owned?J.owned.push(a):J.owned=[a]),a}function fr(e){const t=U&&U.running;if((t?e.tState:e.state)===0)return;if((t?e.tState:e.state)===Mt)return lr(e);if(e.suspense&&Ae(e.suspense.inFallback))return e.suspense.effects.push(e);const r=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<mr);){if(t&&U.disposed.has(e))return;(t?e.tState:e.state)&&r.push(e)}for(let n=r.length-1;n>=0;n--){if(e=r[n],t){let i=e,a=r[n+1];for(;(i=i.owner)&&i!==a;)if(U.disposed.has(i))return}if((t?e.tState:e.state)===$e)qt(e);else if((t?e.tState:e.state)===Mt){const i=Se;Se=null,Le(()=>lr(e,r[0]),!1),Se=i}}}function Le(e,t){if(Se)return e();let r=!1;t||(Se=[]),Ce?r=!0:Ce=[],mr++;try{const n=e();return eo(r),n}catch(n){r||(Ce=null),Se=null,Yt(n)}}function eo(e){if(Se&&(ma(Se),Se=null),e)return;let t;if(U){if(!U.promises.size&&!U.queue.size){const n=U.sources,i=U.disposed;Ce.push.apply(Ce,U.effects),t=U.resolve;for(const a of Ce)"tState"in a&&(a.state=a.tState),delete a.tState;U=null,Le(()=>{for(const a of i)it(a);for(const a of n){if(a.value=a.tValue,a.owned)for(let s=0,o=a.owned.length;s<o;s++)it(a.owned[s]);a.tOwned&&(a.owned=a.tOwned),delete a.tValue,delete a.tOwned,a.tState=0}z0(!1)},!1)}else if(U.running){U.running=!1,U.effects.push.apply(U.effects,Ce),Ce=null,z0(!0);return}}const r=Ce;Ce=null,r.length&&Le(()=>ha(r),!1),t&&t()}function ma(e){for(let t=0;t<e.length;t++)fr(e[t])}function to(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:fr(n)}if(X.context){if(X.count){X.effects||(X.effects=[]),X.effects.push(...e.slice(0,r));return}Je()}for(X.effects&&(X.done||!X.count)&&(e=[...X.effects,...e],r+=X.effects.length,delete X.effects),t=0;t<r;t++)fr(e[t])}function lr(e,t){const r=U&&U.running;r?e.tState=0:e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];if(i.sources){const a=r?i.tState:i.state;a===$e?i!==t&&(!i.updatedAt||i.updatedAt<mr)&&fr(i):a===Mt&&lr(i,t)}}}function Aa(e){const t=U&&U.running;for(let r=0;r<e.observers.length;r+=1){const n=e.observers[r];(t?!n.tState:!n.state)&&(t?n.tState=Mt:n.state=Mt,n.pure?Se.push(n):Ce.push(n),n.observers&&Aa(n))}}function it(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),i=r.observers;if(i&&i.length){const a=i.pop(),s=r.observerSlots.pop();n<i.length&&(a.sourceSlots[s]=n,i[n]=a,r.observerSlots[n]=s)}}if(U&&U.running&&e.pure){if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)it(e.tOwned[t]);delete e.tOwned}Ea(e,!0)}else if(e.owned){for(t=e.owned.length-1;t>=0;t--)it(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}U&&U.running?e.tState=0:e.state=0}function Ea(e,t){if(t||(e.tState=0,U.disposed.add(e)),e.owned)for(let r=0;r<e.owned.length;r++)Ea(e.owned[r])}function Rn(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function U0(e,t,r){try{for(const n of t)n(e)}catch(n){Yt(n,r&&r.owner||null)}}function Yt(e,t=J){const r=$t&&t&&t.context&&t.context[$t],n=Rn(e);if(!r)throw n;Ce?Ce.push({fn(){U0(n,r,t)},state:$e}):U0(n,r,t)}function qn(e){if(typeof e=="function"&&!e.length)return qn(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=qn(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function ro(e,t){return function(n){let i;return et(()=>i=Ae(()=>(J.context={...J.context,[e]:n.value},Er(()=>n.children))),void 0),i}}const no=Symbol("fallback");function K0(e){for(let t=0;t<e.length;t++)e[t]()}function io(e,t,r={}){let n=[],i=[],a=[],s=0,o=t.length>1?[]:null;return Xt(()=>K0(a)),()=>{let u=e()||[],d=u.length,x,f;return u[On],Ae(()=>{let y,A,E,g,p,h,c,l,_;if(d===0)s!==0&&(K0(a),a=[],n=[],i=[],s=0,o&&(o=[])),r.fallback&&(n=[no],i[0]=bt(m=>(a[0]=m,r.fallback())),s=1);else if(s===0){for(i=new Array(d),f=0;f<d;f++)n[f]=u[f],i[f]=bt(v);s=d}else{for(E=new Array(d),g=new Array(d),o&&(p=new Array(d)),h=0,c=Math.min(s,d);h<c&&n[h]===u[h];h++);for(c=s-1,l=d-1;c>=h&&l>=h&&n[c]===u[l];c--,l--)E[l]=i[c],g[l]=a[c],o&&(p[l]=o[c]);for(y=new Map,A=new Array(l+1),f=l;f>=h;f--)_=u[f],x=y.get(_),A[f]=x===void 0?-1:x,y.set(_,f);for(x=h;x<=c;x++)_=n[x],f=y.get(_),f!==void 0&&f!==-1?(E[f]=i[x],g[f]=a[x],o&&(p[f]=o[x]),f=A[f],y.set(_,f)):a[x]();for(f=h;f<d;f++)f in E?(i[f]=E[f],a[f]=g[f],o&&(o[f]=p[f],o[f](f))):i[f]=bt(v);i=i.slice(0,s=d),n=u.slice(0)}return i});function v(y){if(a[f]=y,o){const[A,E]=ve(f);return o[f]=E,t(u[f],A)}return t(u[f])}}}function Q(e,t){return Ae(()=>e(t||{}))}function rr(){return!0}const Tn={get(e,t,r){return t===Ke?r:e.get(t)},has(e,t){return t===Ke?!0:e.has(t)},set:rr,deleteProperty:rr,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:rr,deleteProperty:rr}},ownKeys(e){return e.keys()}};function Or(e){return(e=typeof e=="function"?e():e)?e:{}}function ao(){for(let e=0,t=this.length;e<t;++e){const r=this[e]();if(r!==void 0)return r}}function so(...e){let t=!1;for(let s=0;s<e.length;s++){const o=e[s];t=t||!!o&&Ke in o,e[s]=typeof o=="function"?(t=!0,fe(o)):o}if(t)return new Proxy({get(s){for(let o=e.length-1;o>=0;o--){const u=Or(e[o])[s];if(u!==void 0)return u}},has(s){for(let o=e.length-1;o>=0;o--)if(s in Or(e[o]))return!0;return!1},keys(){const s=[];for(let o=0;o<e.length;o++)s.push(...Object.keys(Or(e[o])));return[...new Set(s)]}},Tn);const r={},n=Object.create(null);for(let s=e.length-1;s>=0;s--){const o=e[s];if(!o)continue;const u=Object.getOwnPropertyNames(o);for(let d=u.length-1;d>=0;d--){const x=u[d];if(x==="__proto__"||x==="constructor")continue;const f=Object.getOwnPropertyDescriptor(o,x);if(!n[x])n[x]=f.get?{enumerable:!0,configurable:!0,get:ao.bind(r[x]=[f.get.bind(o)])}:f.value!==void 0?f:void 0;else{const v=r[x];v&&(f.get?v.push(f.get.bind(o)):f.value!==void 0&&v.push(()=>f.value))}}}const i={},a=Object.keys(n);for(let s=a.length-1;s>=0;s--){const o=a[s],u=n[o];u&&u.get?Object.defineProperty(i,o,u):i[o]=u?u.value:void 0}return i}function Od(e,...t){if(Ke in e){const i=new Set(t.length>1?t.flat():t[0]),a=t.map(s=>new Proxy({get(o){return s.includes(o)?e[o]:void 0},has(o){return s.includes(o)&&o in e},keys(){return s.filter(o=>o in e)}},Tn));return a.push(new Proxy({get(s){return i.has(s)?void 0:e[s]},has(s){return i.has(s)?!1:s in e},keys(){return Object.keys(e).filter(s=>!i.has(s))}},Tn)),a}const r={},n=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const a=Object.getOwnPropertyDescriptor(e,i),s=!a.get&&!a.set&&a.enumerable&&a.writable&&a.configurable;let o=!1,u=0;for(const d of t)d.includes(i)&&(o=!0,s?n[u][i]=a.value:Object.defineProperty(n[u],i,a)),++u;o||(s?r[i]=a.value:Object.defineProperty(r,i,a))}return[...n,r]}function de(e){let t,r;const n=i=>{const a=X.context;if(a){const[o,u]=ve();X.count||(X.count=0),X.count++,(r||(r=e())).then(d=>{!X.done&&Je(a),X.count--,u(()=>d.default),Je()}),t=o}else if(!t){const[o]=Xs(()=>(r||(r=e())).then(u=>u.default));t=o}let s;return fe(()=>(s=t())?Ae(()=>{if(!a||X.done)return s(i);const o=X.context;Je(a);const u=s(i);return Je(o),u}):"")};return n.preload=()=>r||((r=e()).then(i=>t=()=>i.default),r),n}const Ca=e=>`Stale read from <${e}>.`;function Pd(e){const t="fallback"in e&&{fallback:()=>e.fallback};return fe(io(()=>e.each,e.children,t||void 0))}function qe(e){const t=e.keyed,r=fe(()=>e.when,void 0,{equals:(n,i)=>t?n===i:!n==!i});return fe(()=>{const n=r();if(n){const i=e.children;return typeof i=="function"&&i.length>0?Ae(()=>i(t?n:()=>{if(!Ae(r))throw Ca("Show");return e.when})):i}return e.fallback},void 0,void 0)}function Rd(e){let t=!1;const r=(a,s)=>(t?a[1]===s[1]:!a[1]==!s[1])&&a[2]===s[2],n=Er(()=>e.children),i=fe(()=>{let a=n();Array.isArray(a)||(a=[a]);for(let s=0;s<a.length;s++){const o=a[s].when;if(o)return t=!!a[s].keyed,[s,o,a[s]]}return[-1]},void 0,{equals:r});return fe(()=>{const[a,s,o]=i();if(a<0)return e.fallback;const u=o.children;return typeof u=="function"&&u.length>0?Ae(()=>u(t?s:()=>{if(Ae(i)[0]!==a)throw Ca("Match");return o.when})):u},void 0,void 0)}function qd(e){return e}let wt;function oo(){wt&&[...wt].forEach(e=>e())}function Td(e){let t;X.context&&X.load&&(t=X.load(X.getContextId()));const[r,n]=ve(t,void 0);return wt||(wt=new Set),wt.add(n),Xt(()=>wt.delete(n)),fe(()=>{let i;if(i=r()){const a=e.fallback;return typeof a=="function"&&a.length?Ae(()=>a(i,()=>n())):a}return Vs(()=>e.children,n)},void 0,void 0)}const co=Ar();function Ld(e){let t=0,r,n,i,a,s;const[o,u]=ve(!1),d=Zs(),x={increment:()=>{++t===1&&u(!0)},decrement:()=>{--t===0&&u(!1)},inFallback:o,effects:[],resolved:!1},f=s0();if(X.context&&X.load){const A=X.getContextId();let E=X.load(A);if(E&&(typeof E!="object"||E.status!=="success"?i=E:X.gather(A)),i&&i!=="$$f"){const[g,p]=ve(void 0,{equals:!1});a=g,i.then(()=>{if(X.done)return p();X.gather(A),Je(n),p(),Je()},h=>{s=h,p()})}}const v=Rt(co);v&&(r=v.register(x.inFallback));let y;return Xt(()=>y&&y()),Q(d.Provider,{value:x,get children(){return fe(()=>{if(s)throw s;if(n=X.context,a)return a(),a=void 0;n&&i==="$$f"&&Je();const A=fe(()=>e.children);return fe(E=>{const g=x.inFallback(),{showContent:p=!0,showFallback:h=!0}=r?r():{};if((!g||i&&i!=="$$f")&&p)return x.resolved=!0,y&&y(),y=n=i=void 0,Js(x.effects),A();if(h)return y?E:bt(c=>(y=c,n&&(Je({id:n.id+"F",count:0}),n=void 0),e.fallback),f)})})}})}const uo=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],fo=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...uo]),lo=new Set(["innerHTML","textContent","innerText","children"]),ho=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),xo=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function vo(e,t){const r=xo[e];return typeof r=="object"?r[t]?r.$:void 0:r}const po=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]);function go(e,t,r){let n=r.length,i=t.length,a=n,s=0,o=0,u=t[i-1].nextSibling,d=null;for(;s<i||o<a;){if(t[s]===r[o]){s++,o++;continue}for(;t[i-1]===r[a-1];)i--,a--;if(i===s){const x=a<n?o?r[o-1].nextSibling:r[a-o]:u;for(;o<a;)e.insertBefore(r[o++],x)}else if(a===o)for(;s<i;)(!d||!d.has(t[s]))&&t[s].remove(),s++;else if(t[s]===r[a-1]&&r[o]===t[i-1]){const x=t[--i].nextSibling;e.insertBefore(r[o++],t[s++].nextSibling),e.insertBefore(r[--a],x),t[i]=r[a]}else{if(!d){d=new Map;let f=o;for(;f<a;)d.set(r[f],f++)}const x=d.get(t[s]);if(x!=null)if(o<x&&x<a){let f=s,v=1,y;for(;++f<i&&f<a&&!((y=d.get(t[f]))==null||y!==x+v);)v++;if(v>x-o){const A=t[s];for(;o<x;)e.insertBefore(r[o++],A)}else e.replaceChild(r[o++],t[s++])}else s++;else t[s++].remove()}}}const W0="_$DX_DELEGATE";function _o(e,t,r,n={}){let i;return bt(a=>{i=a,t===document?e():Bt(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{i(),t.textContent=""}}function yo(e,t,r){let n;const i=()=>{const s=document.createElement("template");return s.innerHTML=e,s.content.firstChild},a=()=>(n||(n=i())).cloneNode(!0);return a.cloneNode=a,a}function Ba(e,t=window.document){const r=t[W0]||(t[W0]=new Set);for(let n=0,i=e.length;n<i;n++){const a=e[n];r.has(a)||(r.add(a),t.addEventListener(a,bo))}}function Ln(e,t,r){Cr(e)||(r==null?e.removeAttribute(t):e.setAttribute(t,r))}function wa(e,t){Cr(e)||(t==null?e.removeAttribute("class"):e.className=t)}function mo(e,t,r,n){if(n)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){const i=r[0];e.addEventListener(t,r[0]=a=>i.call(e,r[1],a))}else e.addEventListener(t,r)}function Ao(e,t,r={}){const n=Object.keys(t||{}),i=Object.keys(r);let a,s;for(a=0,s=i.length;a<s;a++){const o=i[a];!o||o==="undefined"||t[o]||(G0(e,o,!1),delete r[o])}for(a=0,s=n.length;a<s;a++){const o=n[a],u=!!t[o];!o||o==="undefined"||r[o]===u||!u||(G0(e,o,!0),r[o]=u)}return r}function Eo(e,t,r){if(!t)return r?Ln(e,"style"):t;const n=e.style;if(typeof t=="string")return n.cssText=t;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),t||(t={});let i,a;for(a in r)t[a]==null&&n.removeProperty(a),delete r[a];for(a in t)i=t[a],i!==r[a]&&(n.setProperty(a,i),r[a]=i);return r}function Id(e,t={},r,n){const i={};return et(()=>i.children=Ut(e,t.children,i.children)),et(()=>typeof t.ref=="function"&&Co(t.ref,e)),et(()=>Bo(e,t,r,!0,i,!0)),i}function Co(e,t,r){return Ae(()=>e(t,r))}function Bt(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return Ut(e,t,n,r);et(i=>Ut(e,t(),i,r),n)}function Bo(e,t,r,n,i={},a=!1){t||(t={});for(const s in i)if(!(s in t)){if(s==="children")continue;i[s]=Q0(e,s,null,i[s],r,a)}for(const s in t){if(s==="children")continue;const o=t[s];i[s]=Q0(e,s,o,i[s],r,a)}}function Cr(e){return!!X.context&&!X.done&&(!e||e.isConnected)}function wo(e){return e.toLowerCase().replace(/-([a-z])/g,(t,r)=>r.toUpperCase())}function G0(e,t,r){const n=t.trim().split(/\s+/);for(let i=0,a=n.length;i<a;i++)e.classList.toggle(n[i],r)}function Q0(e,t,r,n,i,a){let s,o,u,d,x;if(t==="style")return Eo(e,r,n);if(t==="classList")return Ao(e,r,n);if(r===n)return n;if(t==="ref")a||r(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);n&&e.removeEventListener(f,n),r&&e.addEventListener(f,r)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);n&&e.removeEventListener(f,n,!0),r&&e.addEventListener(f,r,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),v=po.has(f);if(!v&&n){const y=Array.isArray(n)?n[0]:n;e.removeEventListener(f,y)}(v||r)&&(mo(e,f,r,v),v&&Ba([f]))}else if(t.slice(0,5)==="attr:")Ln(e,t.slice(5),r);else if((x=t.slice(0,5)==="prop:")||(u=lo.has(t))||(d=vo(t,e.tagName))||(o=fo.has(t))||(s=e.nodeName.includes("-"))){if(x)t=t.slice(5),o=!0;else if(Cr(e))return r;t==="class"||t==="className"?wa(e,r):s&&!o&&!u?e[wo(t)]=r:e[d||t]=r}else Ln(e,ho[t]||t,r);return r}function bo(e){if(X.registry&&X.events&&X.events.find(([n,i])=>i===e))return;const t=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}}),X.registry&&!X.done&&(X.done=_$HY.done=!0);r;){const n=r[t];if(n&&!r.disabled){const i=r[`${t}Data`];if(i!==void 0?n.call(r,i,e):n.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function Ut(e,t,r,n,i){const a=Cr(e);if(a){!r&&(r=[...e.childNodes]);let u=[];for(let d=0;d<r.length;d++){const x=r[d];x.nodeType===8&&x.data.slice(0,2)==="!$"?x.remove():u.push(x)}r=u}for(;typeof r=="function";)r=r();if(t===r)return r;const s=typeof t,o=n!==void 0;if(e=o&&r[0]&&r[0].parentNode||e,s==="string"||s==="number"){if(a||s==="number"&&(t=t.toString(),t===r))return r;if(o){let u=r[0];u&&u.nodeType===3?u.data!==t&&(u.data=t):u=document.createTextNode(t),r=At(e,r,n,u)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t}else if(t==null||s==="boolean"){if(a)return r;r=At(e,r,n)}else{if(s==="function")return et(()=>{let u=t();for(;typeof u=="function";)u=u();r=Ut(e,u,r,n)}),()=>r;if(Array.isArray(t)){const u=[],d=r&&Array.isArray(r);if(In(u,t,r,i))return et(()=>r=Ut(e,u,r,n,!0)),()=>r;if(a){if(!u.length)return r;if(n===void 0)return r=[...e.childNodes];let x=u[0];if(x.parentNode!==e)return r;const f=[x];for(;(x=x.nextSibling)!==n;)f.push(x);return r=f}if(u.length===0){if(r=At(e,r,n),o)return r}else d?r.length===0?X0(e,u,n):go(e,r,u):(r&&At(e),X0(e,u));r=u}else if(t.nodeType){if(a&&t.parentNode)return r=o?[t]:t;if(Array.isArray(r)){if(o)return r=At(e,r,n,t);At(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function In(e,t,r,n){let i=!1;for(let a=0,s=t.length;a<s;a++){let o=t[a],u=r&&r[e.length],d;if(!(o==null||o===!0||o===!1))if((d=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=In(e,o,u)||i;else if(d==="function")if(n){for(;typeof o=="function";)o=o();i=In(e,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||i}else e.push(o),i=!0;else{const x=String(o);u&&u.nodeType===3&&u.data===x?e.push(u):e.push(document.createTextNode(x))}}return i}function X0(e,t,r=null){for(let n=0,i=t.length;n<i;n++)e.insertBefore(t[n],r)}function At(e,t,r,n){if(r===void 0)return e.textContent="";const i=n||document.createTextNode("");if(t.length){let a=!1;for(let s=t.length-1;s>=0;s--){const o=t[s];if(i!==o){const u=o.parentNode===e;!a&&!s?u?e.replaceChild(i,o):e.insertBefore(i,r):u&&o.remove()}else a=!0}}else e.insertBefore(i,r);return[i]}const Do=!1;function ba(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let r=!1;function n(i,a){if(r)return!(r=!1);const s={to:i,options:a,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const o of e)o.listener({...s,from:o.location,retry:u=>{u&&(r=!0),o.navigate(i,{...a,resolve:!1})}});return!s.defaultPrevented}return{subscribe:t,confirm:n}}let jn;function o0(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),jn=window.history.state._depth}o0();function Fo(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function So(e,t){let r=!1;return()=>{const n=jn;o0();const i=n==null?null:jn-n;if(r){r=!1;return}i&&t(i)?(r=!0,window.history.go(-i)):e()}}const ko=/^(?:[a-z0-9]+:)?\/\//i,Oo=/^\/+|(\/)\/+$/g,Da="http://sr";function Ht(e,t=!1){const r=e.replace(Oo,"$1");return r?t||/^[?#]/.test(r)?r:"/"+r:""}function sr(e,t,r){if(ko.test(t))return;const n=Ht(e),i=r&&Ht(r);let a="";return!i||t.startsWith("/")?a=n:i.toLowerCase().indexOf(n.toLowerCase())!==0?a=n+i:a=i,(a||"/")+Ht(t,!a)}function Po(e,t){if(e==null)throw new Error(t);return e}function Ro(e,t){return Ht(e).replace(/\/*(\*.*)?$/g,"")+Ht(t)}function Fa(e){const t={};return e.searchParams.forEach((r,n)=>{t[n]=r}),t}function qo(e,t,r){const[n,i]=e.split("/*",2),a=n.split("/").filter(Boolean),s=a.length;return o=>{const u=o.split("/").filter(Boolean),d=u.length-s;if(d<0||d>0&&i===void 0&&!t)return null;const x={path:s?"":"/",params:{}},f=v=>r===void 0?void 0:r[v];for(let v=0;v<s;v++){const y=a[v],A=u[v],E=y[0]===":",g=E?y.slice(1):y;if(E&&Pr(A,f(g)))x.params[g]=A;else if(E||!Pr(A,y))return null;x.path+=`/${A}`}if(i){const v=d?u.slice(-d).join("/"):"";if(Pr(v,f(i)))x.params[i]=v;else return null}return x}}function Pr(e,t){const r=n=>n.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?r(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(r):t instanceof RegExp?t.test(e):!1}function To(e){const[t,r]=e.pattern.split("/*",2),n=t.split("/").filter(Boolean);return n.reduce((i,a)=>i+(a.startsWith(":")?2:3),n.length-(r===void 0?0:1))}function Sa(e){const t=new Map,r=s0();return new Proxy({},{get(n,i){return t.has(i)||pa(r,()=>t.set(i,fe(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function Lo(e,t){const r=new URLSearchParams(e);Object.entries(t).forEach(([i,a])=>{a==null||a===""?r.delete(i):r.set(i,String(a))});const n=r.toString();return n?`?${n}`:""}function ka(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let r=e.slice(0,t.index),n=e.slice(t.index+t[0].length);const i=[r,r+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(n);)i.push(r+=t[1]),n=n.slice(t[0].length);return ka(n).reduce((a,s)=>[...a,...i.map(o=>o+s)],[])}const Io=100,Oa=Ar(),c0=Ar(),Jt=()=>Po(Rt(Oa),"<A> and 'use' router primitives can be only used inside a Route."),jo=()=>Rt(c0)||Jt().base,jd=e=>{const t=jo();return fe(()=>t.resolvePath(e()))},Nd=e=>{const t=Jt();return fe(()=>{const r=e();return r!==void 0?t.renderPath(r):r})},No=()=>Jt().navigatorFactory(),$o=()=>Jt().location,$d=()=>Jt().params,Hd=()=>{const e=$o(),t=No(),r=(n,i)=>{const a=Ae(()=>Lo(e.search,n)+e.hash);t(a,{scroll:!1,resolve:!1,...i})};return[e.query,r]};function Ho(e,t=""){const{component:r,preload:n,load:i,children:a,info:s}=e,o=!a||Array.isArray(a)&&!a.length,u={key:e,component:r,preload:n||i,info:s};return Pa(e.path).reduce((d,x)=>{for(const f of ka(x)){const v=Ro(t,f);let y=o?v:v.split("/*",1)[0];y=y.split("/").map(A=>A.startsWith(":")||A.startsWith("*")?A:encodeURIComponent(A)).join("/"),d.push({...u,originalPath:x,pattern:y,matcher:qo(y,!o,e.matchFilters)})}return d},[])}function zo(e,t=0){return{routes:e,score:To(e[e.length-1])*1e4-t,matcher(r){const n=[];for(let i=e.length-1;i>=0;i--){const a=e[i],s=a.matcher(r);if(!s)return null;n.unshift({...s,route:a})}return n}}}function Pa(e){return Array.isArray(e)?e:[e]}function Ra(e,t="",r=[],n=[]){const i=Pa(e);for(let a=0,s=i.length;a<s;a++){const o=i[a];if(o&&typeof o=="object"){o.hasOwnProperty("path")||(o.path="");const u=Ho(o,t);for(const d of u){r.push(d);const x=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!x)Ra(o.children,d.pattern,r,n);else{const f=zo([...r],n.length);n.push(f)}r.pop()}}}return r.length?n:n.sort((a,s)=>s.score-a.score)}function Rr(e,t){for(let r=0,n=e.length;r<n;r++){const i=e[r].matcher(t);if(i)return i}return[]}function Mo(e,t){const r=new URL(Da),n=fe(u=>{const d=e();try{return new URL(d,r)}catch{return console.error(`Invalid path ${d}`),u}},r,{equals:(u,d)=>u.href===d.href}),i=fe(()=>n().pathname),a=fe(()=>n().search,!0),s=fe(()=>n().hash),o=()=>"";return{get pathname(){return i()},get search(){return a()},get hash(){return s()},get state(){return t()},get key(){return o()},query:Sa(a0(a,()=>Fa(n())))}}let ct;function Uo(){return ct}function Ko(e,t,r,n={}){const{signal:[i,a],utils:s={}}=e,o=s.parsePath||(S=>S),u=s.renderPath||(S=>S),d=s.beforeLeave||ba(),x=sr("",n.base||"");if(x===void 0)throw new Error(`${x} is not a valid base path`);x&&!i().value&&a({value:x,replace:!0,scroll:!1});const[f,v]=ve(!1);let y;const A=(S,j)=>{j.value===E()&&j.state===p()||(y===void 0&&v(!0),ct=S,y=j,ga(()=>{y===j&&(g(y.value),h(y.state),oo(),_[1]([]))}).finally(()=>{y===j&&va(()=>{ct=void 0,S==="navigate"&&D(y),v(!1),y=void 0})}))},[E,g]=ve(i().value),[p,h]=ve(i().state),c=Mo(E,p),l=[],_=ve([]),m=fe(()=>typeof n.transformUrl=="function"?Rr(t(),n.transformUrl(c.pathname)):Rr(t(),c.pathname)),B=Sa(()=>{const S=m(),j={};for(let z=0;z<S.length;z++)Object.assign(j,S[z].params);return j}),b={pattern:x,path:()=>x,outlet:()=>null,resolvePath(S){return sr(x,S)}};return et(a0(i,S=>A("native",S),{defer:!0})),{base:b,location:c,params:B,isRouting:f,renderPath:u,parsePath:o,navigatorFactory:C,matches:m,beforeLeave:d,preloadRoute:R,singleFlight:n.singleFlight===void 0?!0:n.singleFlight,submissions:_};function k(S,j,z){Ae(()=>{if(typeof j=="number"){j&&(s.go?s.go(j):console.warn("Router integration does not support relative routing"));return}const M=!j||j[0]==="?",{replace:K,resolve:F,scroll:P,state:I}={replace:!1,resolve:!M,scroll:!0,...z};let w;const O=F?S.resolvePath(j):sr(M&&(w=i().value)&&w.split("?")[0]||"",j);if(O===void 0)throw new Error(`Path '${j}' is not a routable path`);if(l.length>=Io)throw new Error("Too many redirects");const T=E();(O!==T||I!==p())&&(Do||d.confirm(O,z)&&(l.push({value:T,replace:K,scroll:P,state:p()}),A("navigate",{value:O,state:I})))})}function C(S){return S=S||Rt(c0)||b,(j,z)=>k(S,j,z)}function D(S){const j=l[0];j&&(a({...S,replace:j.replace,scroll:j.scroll}),l.length=0)}function R(S,j={}){const z=Rr(t(),S.pathname),M=ct;ct="preload";for(let K in z){const{route:F,params:P}=z[K];F.component&&F.component.preload&&F.component.preload();const{preload:I}=F;j.preloadData&&I&&pa(r(),()=>I({params:P,location:{pathname:S.pathname,search:S.search,hash:S.hash,query:Fa(S),state:null,key:""},intent:"preload"}))}ct=M}}function Wo(e,t,r,n){const{base:i,location:a,params:s}=e,{pattern:o,component:u,preload:d}=n().route,x=fe(()=>n().path);u&&u.preload&&u.preload();const f=d?d({params:s,location:a,intent:ct||"initial"}):void 0;return{parent:t,pattern:o,path:x,outlet:()=>u?Q(u,{params:s,location:a,data:f,get children(){return r()}}):r(),resolvePath(y){return sr(i.path(),y,x())}}}const Go=e=>t=>{const{base:r}=t,n=Er(()=>t.children),i=fe(()=>Ra(n(),t.base||""));let a;const s=Ko(e,i,()=>a,{base:r,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(s),Q(Oa.Provider,{value:s,get children(){return Q(Qo,{routerState:s,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[fe(()=>(a=s0())&&null),Q(Xo,{routerState:s,get branches(){return i()}})]}})}})};function Qo(e){const t=e.routerState.location,r=e.routerState.params,n=fe(()=>e.preload&&Ae(()=>{e.preload({params:r,location:t,intent:Uo()||"initial"})}));return Q(qe,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>Q(i,{params:r,location:t,get data(){return n()},get children(){return e.children}})})}function Xo(e){const t=[];let r;const n=fe(a0(e.routerState.matches,(i,a,s)=>{let o=a&&i.length===a.length;const u=[];for(let d=0,x=i.length;d<x;d++){const f=a&&a[d],v=i[d];s&&f&&v.route.key===f.route.key?u[d]=s[d]:(o=!1,t[d]&&t[d](),bt(y=>{t[d]=y,u[d]=Wo(e.routerState,u[d-1]||e.routerState.base,V0(()=>n()[d+1]),()=>e.routerState.matches()[d])}))}return t.splice(i.length).forEach(d=>d()),s&&o?s:(r=u[0],u)}));return V0(()=>n()&&r)()}const V0=e=>()=>Q(qe,{get when(){return e()},keyed:!0,children:t=>Q(c0.Provider,{value:t,get children(){return t.outlet()}})}),xe=e=>{const t=Er(()=>e.children);return so(e,{get children(){return t()}})};function Vo([e,t],r,n){return[e,n?i=>t(n(i)):t]}function Yo(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function Jo(e){let t=!1;const r=i=>typeof i=="string"?{value:i}:i,n=Vo(ve(r(e.get()),{equals:(i,a)=>i.value===a.value&&i.state===a.state}),void 0,i=>(!t&&e.set(i),X.registry&&!X.done&&(X.done=!0),i));return e.init&&Xt(e.init((i=e.get())=>{t=!0,n[1](r(i)),t=!1})),Go({signal:n,create:e.create,utils:e.utils})}function Zo(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function ec(e,t){const r=Yo(`#${e}`);r?r.scrollIntoView():t&&window.scrollTo(0,0)}const tc=new Map;function rc(e=!0,t=!1,r="/_server",n){return i=>{const a=i.base.path(),s=i.navigatorFactory(i.base);let o={};function u(E){return E.namespaceURI==="http://www.w3.org/2000/svg"}function d(E){if(E.defaultPrevented||E.button!==0||E.metaKey||E.altKey||E.ctrlKey||E.shiftKey)return;const g=E.composedPath().find(m=>m instanceof Node&&m.nodeName.toUpperCase()==="A");if(!g||t&&!g.hasAttribute("link"))return;const p=u(g),h=p?g.href.baseVal:g.href;if((p?g.target.baseVal:g.target)||!h&&!g.hasAttribute("state"))return;const l=(g.getAttribute("rel")||"").split(/\s+/);if(g.hasAttribute("download")||l&&l.includes("external"))return;const _=p?new URL(h,document.baseURI):new URL(h);if(!(_.origin!==window.location.origin||a&&_.pathname&&!_.pathname.toLowerCase().startsWith(a.toLowerCase())))return[g,_]}function x(E){const g=d(E);if(!g)return;const[p,h]=g,c=i.parsePath(h.pathname+h.search+h.hash),l=p.getAttribute("state");E.preventDefault(),s(c,{resolve:!1,replace:p.hasAttribute("replace"),scroll:!p.hasAttribute("noscroll"),state:l&&JSON.parse(l)})}function f(E){const g=d(E);if(!g)return;const[p,h]=g;o[h.pathname]||i.preloadRoute(h,{preloadData:p.getAttribute("preload")!=="false"})}function v(E){const g=d(E);if(!g)return;const[p,h]=g;o[h.pathname]||(o[h.pathname]=setTimeout(()=>{i.preloadRoute(h,{preloadData:p.getAttribute("preload")!=="false"}),delete o[h.pathname]},200))}function y(E){const g=d(E);if(!g)return;const[,p]=g;o[p.pathname]&&(clearTimeout(o[p.pathname]),delete o[p.pathname])}function A(E){if(E.defaultPrevented)return;let g=E.submitter&&E.submitter.hasAttribute("formaction")?E.submitter.getAttribute("formaction"):E.target.getAttribute("action");if(!g)return;if(!g.startsWith("https://action/")){const h=new URL(g,Da);if(g=i.parsePath(h.pathname+h.search),!g.startsWith(r))return}if(E.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const p=tc.get(g);if(p){E.preventDefault();const h=new FormData(E.target,E.submitter);p.call({r:i,f:E.target},E.target.enctype==="multipart/form-data"?h:new URLSearchParams(h))}}Ba(["click","submit"]),document.addEventListener("click",x),e&&(document.addEventListener("mouseover",v),document.addEventListener("mouseout",y),document.addEventListener("focusin",f),document.addEventListener("touchstart",f)),document.addEventListener("submit",A),Xt(()=>{document.removeEventListener("click",x),e&&(document.removeEventListener("mouseover",v),document.removeEventListener("mouseout",y),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",A)})}}function nc(e){const t=e.replace(/^.*?#/,"");if(!t.startsWith("/")){const[,r="/"]=window.location.hash.split("#",2);return`${r}#${t}`}return t}function Y0(e){const t=()=>window.location.hash.slice(1),r=ba();return Jo({get:t,set({value:n,replace:i,scroll:a,state:s}){i?window.history.replaceState(Fo(s),"","#"+n):window.history.pushState(s,"","#"+n);const o=n.indexOf("#"),u=o>=0?n.slice(o+1):"";ec(u,a),o0()},init:n=>Zo(window,"hashchange",So(n,i=>!r.confirm(i&&i<0?i:t()))),create:rc(e.preload,e.explicitLinks,e.actionBase),utils:{go:n=>window.history.go(n),renderPath:n=>`#${n}`,parsePath:nc,beforeLeave:r}})(e)}const Nn=Symbol("store-raw"),Dt=Symbol("store-node"),Ye=Symbol("store-has"),qa=Symbol("store-self");function Ta(e){let t=e[Ke];if(!t&&(Object.defineProperty(e,Ke,{value:t=new Proxy(e,sc)}),!Array.isArray(e))){const r=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let i=0,a=r.length;i<a;i++){const s=r[i];n[s].get&&Object.defineProperty(e,s,{enumerable:n[s].enumerable,get:n[s].get.bind(t)})}}return t}function dr(e){let t;return e!=null&&typeof e=="object"&&(e[Ke]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Kt(e,t=new Set){let r,n,i,a;if(r=e!=null&&e[Nn])return r;if(!dr(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,o=e.length;s<o;s++)i=e[s],(n=Kt(i,t))!==i&&(e[s]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let u=0,d=s.length;u<d;u++)a=s[u],!o[a].get&&(i=e[a],(n=Kt(i,t))!==i&&(e[a]=n))}return e}function hr(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function Wt(e,t,r){if(e[t])return e[t];const[n,i]=ve(r,{equals:!1,internal:!0});return n.$=i,e[t]=n}function ic(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===Ke||t===Dt||(delete r.value,delete r.writable,r.get=()=>e[Ke][t]),r}function La(e){Pn()&&Wt(hr(e,Dt),qa)()}function ac(e){return La(e),Reflect.ownKeys(e)}const sc={get(e,t,r){if(t===Nn)return e;if(t===Ke)return r;if(t===On)return La(e),r;const n=hr(e,Dt),i=n[t];let a=i?i():e[t];if(t===Dt||t===Ye||t==="__proto__")return a;if(!i){const s=Object.getOwnPropertyDescriptor(e,t);Pn()&&(typeof a!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(a=Wt(n,t,a)())}return dr(a)?Ta(a):a},has(e,t){return t===Nn||t===Ke||t===On||t===Dt||t===Ye||t==="__proto__"?!0:(Pn()&&Wt(hr(e,Ye),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:ac,getOwnPropertyDescriptor:ic};function xr(e,t,r,n=!1){if(!n&&e[t]===r)return;const i=e[t],a=e.length;r===void 0?(delete e[t],e[Ye]&&e[Ye][t]&&i!==void 0&&e[Ye][t].$()):(e[t]=r,e[Ye]&&e[Ye][t]&&i===void 0&&e[Ye][t].$());let s=hr(e,Dt),o;if((o=Wt(s,t,i))&&o.$(()=>r),Array.isArray(e)&&e.length!==a){for(let u=e.length;u<a;u++)(o=s[u])&&o.$();(o=Wt(s,"length",a))&&o.$(e.length)}(o=s[qa])&&o.$()}function Ia(e,t){const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const i=r[n];xr(e,i,t[i])}}function oc(e,t){if(typeof t=="function"&&(t=t(e)),t=Kt(t),Array.isArray(t)){if(e===t)return;let r=0,n=t.length;for(;r<n;r++){const i=t[r];e[r]!==i&&xr(e,r,i)}xr(e,"length",n)}else Ia(e,t)}function Nt(e,t,r=[]){let n,i=e;if(t.length>1){n=t.shift();const s=typeof n,o=Array.isArray(e);if(Array.isArray(n)){for(let u=0;u<n.length;u++)Nt(e,[n[u]].concat(t),r);return}else if(o&&s==="function"){for(let u=0;u<e.length;u++)n(e[u],u)&&Nt(e,[u].concat(t),r);return}else if(o&&s==="object"){const{from:u=0,to:d=e.length-1,by:x=1}=n;for(let f=u;f<=d;f+=x)Nt(e,[f].concat(t),r);return}else if(t.length>1){Nt(e[n],t,[n].concat(r));return}i=e[n],r=[n].concat(r)}let a=t[0];typeof a=="function"&&(a=a(i,r),a===i)||n===void 0&&a==null||(a=Kt(a),n===void 0||dr(i)&&dr(a)&&!Array.isArray(a)?Ia(i,a):xr(e,n,a))}function Tt(...[e,t]){const r=Kt(e||{}),n=Array.isArray(r),i=Ta(r);function a(...s){va(()=>{n&&s.length===1?oc(r,s[0]):Nt(r,s)})}return[i,a]}const[kt,zd]=Tt({}),[Md,Ud]=Tt({}),[Ie,Kd]=Tt({});ve("");const[J0,Wd]=ve(""),Gd=()=>kt?.profile?.isAdmin,cc=()=>kt?.profile?.isAdmin||kt?.profile?.ISADMIN,Qd=()=>kt?.profile?.businessYId&&(Ie?.roles?.INVENTORY?.isActive||Ie?.roles?.PRODUCTS?.isActive||Ie?.roles?.EXPENSES?.isActive),Xd=()=>kt?.profile?.accessStores,[ja,uc]=ve(!0),[fc,lc]=ve(!0);setInterval(()=>{let e=720;ja()!==window.outerWidth<e&&uc(window.outerWidth<e);let t=1080;fc()!==window.outerWidth<t&&lc(window.outerWidth<t)},220);const[Vd,Yd]=Tt({});Tt({});const[Jd,Zd]=Tt({}),[dc,eh]=ve(!1),[th,rh]=ve(0);var Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function u0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Na={exports:{}};function xc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qr={exports:{}};const vc={},pc=Object.freeze(Object.defineProperty({__proto__:null,default:vc},Symbol.toStringTag,{value:"Module"})),gc=hc(pc);var Z0;function re(){return Z0||(Z0=1,function(e,t){(function(r,n){e.exports=n()})(Z,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof Z<"u"&&Z.crypto&&(a=Z.crypto),!a&&typeof xc=="function")try{a=gc}catch{}var s=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function h(){}return function(c){var l;return h.prototype=c,l=new h,h.prototype=null,l}}(),u={},d=u.lib={},x=d.Base=function(){return{extend:function(h){var c=o(this);return h&&c.mixIn(h),(!c.hasOwnProperty("init")||this.init===c.init)&&(c.init=function(){c.$super.init.apply(this,arguments)}),c.init.prototype=c,c.$super=this,c},create:function(){var h=this.extend();return h.init.apply(h,arguments),h},init:function(){},mixIn:function(h){for(var c in h)h.hasOwnProperty(c)&&(this[c]=h[c]);h.hasOwnProperty("toString")&&(this.toString=h.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=d.WordArray=x.extend({init:function(h,c){h=this.words=h||[],c!=i?this.sigBytes=c:this.sigBytes=h.length*4},toString:function(h){return(h||y).stringify(this)},concat:function(h){var c=this.words,l=h.words,_=this.sigBytes,m=h.sigBytes;if(this.clamp(),_%4)for(var B=0;B<m;B++){var b=l[B>>>2]>>>24-B%4*8&255;c[_+B>>>2]|=b<<24-(_+B)%4*8}else for(var k=0;k<m;k+=4)c[_+k>>>2]=l[k>>>2];return this.sigBytes+=m,this},clamp:function(){var h=this.words,c=this.sigBytes;h[c>>>2]&=4294967295<<32-c%4*8,h.length=n.ceil(c/4)},clone:function(){var h=x.clone.call(this);return h.words=this.words.slice(0),h},random:function(h){for(var c=[],l=0;l<h;l+=4)c.push(s());return new f.init(c,h)}}),v=u.enc={},y=v.Hex={stringify:function(h){for(var c=h.words,l=h.sigBytes,_=[],m=0;m<l;m++){var B=c[m>>>2]>>>24-m%4*8&255;_.push((B>>>4).toString(16)),_.push((B&15).toString(16))}return _.join("")},parse:function(h){for(var c=h.length,l=[],_=0;_<c;_+=2)l[_>>>3]|=parseInt(h.substr(_,2),16)<<24-_%8*4;return new f.init(l,c/2)}},A=v.Latin1={stringify:function(h){for(var c=h.words,l=h.sigBytes,_=[],m=0;m<l;m++){var B=c[m>>>2]>>>24-m%4*8&255;_.push(String.fromCharCode(B))}return _.join("")},parse:function(h){for(var c=h.length,l=[],_=0;_<c;_++)l[_>>>2]|=(h.charCodeAt(_)&255)<<24-_%4*8;return new f.init(l,c)}},E=v.Utf8={stringify:function(h){try{return decodeURIComponent(escape(A.stringify(h)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(h){return A.parse(unescape(encodeURIComponent(h)))}},g=d.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(h){typeof h=="string"&&(h=E.parse(h)),this._data.concat(h),this._nDataBytes+=h.sigBytes},_process:function(h){var c,l=this._data,_=l.words,m=l.sigBytes,B=this.blockSize,b=B*4,k=m/b;h?k=n.ceil(k):k=n.max((k|0)-this._minBufferSize,0);var C=k*B,D=n.min(C*4,m);if(C){for(var R=0;R<C;R+=B)this._doProcessBlock(_,R);c=_.splice(0,C),l.sigBytes-=D}return new f.init(c,D)},clone:function(){var h=x.clone.call(this);return h._data=this._data.clone(),h},_minBufferSize:0});d.Hasher=g.extend({cfg:x.extend(),init:function(h){this.cfg=this.cfg.extend(h),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(h){return this._append(h),this._process(),this},finalize:function(h){h&&this._append(h);var c=this._doFinalize();return c},blockSize:16,_createHelper:function(h){return function(c,l){return new h.init(l).finalize(c)}},_createHmacHelper:function(h){return function(c,l){return new p.HMAC.init(h,l).finalize(c)}}});var p=u.algo={};return u}(Math);return r})}(qr)),qr.exports}var Tr={exports:{}},ei;function Br(){return ei||(ei=1,function(e,t){(function(r,n){e.exports=n(re())})(Z,function(r){return function(n){var i=r,a=i.lib,s=a.Base,o=a.WordArray,u=i.x64={};u.Word=s.extend({init:function(d,x){this.high=d,this.low=x}}),u.WordArray=s.extend({init:function(d,x){d=this.words=d||[],x!=n?this.sigBytes=x:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,x=d.length,f=[],v=0;v<x;v++){var y=d[v];f.push(y.high),f.push(y.low)}return o.create(f,this.sigBytes)},clone:function(){for(var d=s.clone.call(this),x=d.words=this.words.slice(0),f=x.length,v=0;v<f;v++)x[v]=x[v].clone();return d}})}(),r})}(Tr)),Tr.exports}var Lr={exports:{}},ti;function _c(){return ti||(ti=1,function(e,t){(function(r,n){e.exports=n(re())})(Z,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,s=a.init,o=a.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var d=u.byteLength,x=[],f=0;f<d;f++)x[f>>>2]|=u[f]<<24-f%4*8;s.call(this,x,d)}else s.apply(this,arguments)};o.prototype=a}}(),r.lib.WordArray})}(Lr)),Lr.exports}var Ir={exports:{}},ri;function yc(){return ri||(ri=1,function(e,t){(function(r,n){e.exports=n(re())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=n.enc;s.Utf16=s.Utf16BE={stringify:function(u){for(var d=u.words,x=u.sigBytes,f=[],v=0;v<x;v+=2){var y=d[v>>>2]>>>16-v%4*8&65535;f.push(String.fromCharCode(y))}return f.join("")},parse:function(u){for(var d=u.length,x=[],f=0;f<d;f++)x[f>>>1]|=u.charCodeAt(f)<<16-f%2*16;return a.create(x,d*2)}},s.Utf16LE={stringify:function(u){for(var d=u.words,x=u.sigBytes,f=[],v=0;v<x;v+=2){var y=o(d[v>>>2]>>>16-v%4*8&65535);f.push(String.fromCharCode(y))}return f.join("")},parse:function(u){for(var d=u.length,x=[],f=0;f<d;f++)x[f>>>1]|=o(u.charCodeAt(f)<<16-f%2*16);return a.create(x,d*2)}};function o(u){return u<<8&4278255360|u>>>8&16711935}}(),r.enc.Utf16})}(Ir)),Ir.exports}var jr={exports:{}},ni;function gt(){return ni||(ni=1,function(e,t){(function(r,n){e.exports=n(re())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=n.enc;s.Base64={stringify:function(u){var d=u.words,x=u.sigBytes,f=this._map;u.clamp();for(var v=[],y=0;y<x;y+=3)for(var A=d[y>>>2]>>>24-y%4*8&255,E=d[y+1>>>2]>>>24-(y+1)%4*8&255,g=d[y+2>>>2]>>>24-(y+2)%4*8&255,p=A<<16|E<<8|g,h=0;h<4&&y+h*.75<x;h++)v.push(f.charAt(p>>>6*(3-h)&63));var c=f.charAt(64);if(c)for(;v.length%4;)v.push(c);return v.join("")},parse:function(u){var d=u.length,x=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var v=0;v<x.length;v++)f[x.charCodeAt(v)]=v}var y=x.charAt(64);if(y){var A=u.indexOf(y);A!==-1&&(d=A)}return o(u,d,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(u,d,x){for(var f=[],v=0,y=0;y<d;y++)if(y%4){var A=x[u.charCodeAt(y-1)]<<y%4*2,E=x[u.charCodeAt(y)]>>>6-y%4*2,g=A|E;f[v>>>2]|=g<<24-v%4*8,v++}return a.create(f,v)}}(),r.enc.Base64})}(jr)),jr.exports}var Nr={exports:{}},ii;function mc(){return ii||(ii=1,function(e,t){(function(r,n){e.exports=n(re())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=n.enc;s.Base64url={stringify:function(u,d){d===void 0&&(d=!0);var x=u.words,f=u.sigBytes,v=d?this._safe_map:this._map;u.clamp();for(var y=[],A=0;A<f;A+=3)for(var E=x[A>>>2]>>>24-A%4*8&255,g=x[A+1>>>2]>>>24-(A+1)%4*8&255,p=x[A+2>>>2]>>>24-(A+2)%4*8&255,h=E<<16|g<<8|p,c=0;c<4&&A+c*.75<f;c++)y.push(v.charAt(h>>>6*(3-c)&63));var l=v.charAt(64);if(l)for(;y.length%4;)y.push(l);return y.join("")},parse:function(u,d){d===void 0&&(d=!0);var x=u.length,f=d?this._safe_map:this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var y=0;y<f.length;y++)v[f.charCodeAt(y)]=y}var A=f.charAt(64);if(A){var E=u.indexOf(A);E!==-1&&(x=E)}return o(u,x,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(u,d,x){for(var f=[],v=0,y=0;y<d;y++)if(y%4){var A=x[u.charCodeAt(y-1)]<<y%4*2,E=x[u.charCodeAt(y)]>>>6-y%4*2,g=A|E;f[v>>>2]|=g<<24-v%4*8,v++}return a.create(f,v)}}(),r.enc.Base64url})}(Nr)),Nr.exports}var $r={exports:{}},ai;function _t(){return ai||(ai=1,function(e,t){(function(r,n){e.exports=n(re())})(Z,function(r){return function(n){var i=r,a=i.lib,s=a.WordArray,o=a.Hasher,u=i.algo,d=[];(function(){for(var E=0;E<64;E++)d[E]=n.abs(n.sin(E+1))*4294967296|0})();var x=u.MD5=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(E,g){for(var p=0;p<16;p++){var h=g+p,c=E[h];E[h]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360}var l=this._hash.words,_=E[g+0],m=E[g+1],B=E[g+2],b=E[g+3],k=E[g+4],C=E[g+5],D=E[g+6],R=E[g+7],S=E[g+8],j=E[g+9],z=E[g+10],M=E[g+11],K=E[g+12],F=E[g+13],P=E[g+14],I=E[g+15],w=l[0],O=l[1],T=l[2],L=l[3];w=f(w,O,T,L,_,7,d[0]),L=f(L,w,O,T,m,12,d[1]),T=f(T,L,w,O,B,17,d[2]),O=f(O,T,L,w,b,22,d[3]),w=f(w,O,T,L,k,7,d[4]),L=f(L,w,O,T,C,12,d[5]),T=f(T,L,w,O,D,17,d[6]),O=f(O,T,L,w,R,22,d[7]),w=f(w,O,T,L,S,7,d[8]),L=f(L,w,O,T,j,12,d[9]),T=f(T,L,w,O,z,17,d[10]),O=f(O,T,L,w,M,22,d[11]),w=f(w,O,T,L,K,7,d[12]),L=f(L,w,O,T,F,12,d[13]),T=f(T,L,w,O,P,17,d[14]),O=f(O,T,L,w,I,22,d[15]),w=v(w,O,T,L,m,5,d[16]),L=v(L,w,O,T,D,9,d[17]),T=v(T,L,w,O,M,14,d[18]),O=v(O,T,L,w,_,20,d[19]),w=v(w,O,T,L,C,5,d[20]),L=v(L,w,O,T,z,9,d[21]),T=v(T,L,w,O,I,14,d[22]),O=v(O,T,L,w,k,20,d[23]),w=v(w,O,T,L,j,5,d[24]),L=v(L,w,O,T,P,9,d[25]),T=v(T,L,w,O,b,14,d[26]),O=v(O,T,L,w,S,20,d[27]),w=v(w,O,T,L,F,5,d[28]),L=v(L,w,O,T,B,9,d[29]),T=v(T,L,w,O,R,14,d[30]),O=v(O,T,L,w,K,20,d[31]),w=y(w,O,T,L,C,4,d[32]),L=y(L,w,O,T,S,11,d[33]),T=y(T,L,w,O,M,16,d[34]),O=y(O,T,L,w,P,23,d[35]),w=y(w,O,T,L,m,4,d[36]),L=y(L,w,O,T,k,11,d[37]),T=y(T,L,w,O,R,16,d[38]),O=y(O,T,L,w,z,23,d[39]),w=y(w,O,T,L,F,4,d[40]),L=y(L,w,O,T,_,11,d[41]),T=y(T,L,w,O,b,16,d[42]),O=y(O,T,L,w,D,23,d[43]),w=y(w,O,T,L,j,4,d[44]),L=y(L,w,O,T,K,11,d[45]),T=y(T,L,w,O,I,16,d[46]),O=y(O,T,L,w,B,23,d[47]),w=A(w,O,T,L,_,6,d[48]),L=A(L,w,O,T,R,10,d[49]),T=A(T,L,w,O,P,15,d[50]),O=A(O,T,L,w,C,21,d[51]),w=A(w,O,T,L,K,6,d[52]),L=A(L,w,O,T,b,10,d[53]),T=A(T,L,w,O,z,15,d[54]),O=A(O,T,L,w,m,21,d[55]),w=A(w,O,T,L,S,6,d[56]),L=A(L,w,O,T,I,10,d[57]),T=A(T,L,w,O,D,15,d[58]),O=A(O,T,L,w,F,21,d[59]),w=A(w,O,T,L,k,6,d[60]),L=A(L,w,O,T,M,10,d[61]),T=A(T,L,w,O,B,15,d[62]),O=A(O,T,L,w,j,21,d[63]),l[0]=l[0]+w|0,l[1]=l[1]+O|0,l[2]=l[2]+T|0,l[3]=l[3]+L|0},_doFinalize:function(){var E=this._data,g=E.words,p=this._nDataBytes*8,h=E.sigBytes*8;g[h>>>5]|=128<<24-h%32;var c=n.floor(p/4294967296),l=p;g[(h+64>>>9<<4)+15]=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,g[(h+64>>>9<<4)+14]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360,E.sigBytes=(g.length+1)*4,this._process();for(var _=this._hash,m=_.words,B=0;B<4;B++){var b=m[B];m[B]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return _},clone:function(){var E=o.clone.call(this);return E._hash=this._hash.clone(),E}});function f(E,g,p,h,c,l,_){var m=E+(g&p|~g&h)+c+_;return(m<<l|m>>>32-l)+g}function v(E,g,p,h,c,l,_){var m=E+(g&h|p&~h)+c+_;return(m<<l|m>>>32-l)+g}function y(E,g,p,h,c,l,_){var m=E+(g^p^h)+c+_;return(m<<l|m>>>32-l)+g}function A(E,g,p,h,c,l,_){var m=E+(p^(g|~h))+c+_;return(m<<l|m>>>32-l)+g}i.MD5=o._createHelper(x),i.HmacMD5=o._createHmacHelper(x)}(Math),r.MD5})}($r)),$r.exports}var Hr={exports:{}},si;function $a(){return si||(si=1,function(e,t){(function(r,n){e.exports=n(re())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=i.Hasher,o=n.algo,u=[],d=o.SHA1=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,f){for(var v=this._hash.words,y=v[0],A=v[1],E=v[2],g=v[3],p=v[4],h=0;h<80;h++){if(h<16)u[h]=x[f+h]|0;else{var c=u[h-3]^u[h-8]^u[h-14]^u[h-16];u[h]=c<<1|c>>>31}var l=(y<<5|y>>>27)+p+u[h];h<20?l+=(A&E|~A&g)+1518500249:h<40?l+=(A^E^g)+1859775393:h<60?l+=(A&E|A&g|E&g)-1894007588:l+=(A^E^g)-899497514,p=g,g=E,E=A<<30|A>>>2,A=y,y=l}v[0]=v[0]+y|0,v[1]=v[1]+A|0,v[2]=v[2]+E|0,v[3]=v[3]+g|0,v[4]=v[4]+p|0},_doFinalize:function(){var x=this._data,f=x.words,v=this._nDataBytes*8,y=x.sigBytes*8;return f[y>>>5]|=128<<24-y%32,f[(y+64>>>9<<4)+14]=Math.floor(v/4294967296),f[(y+64>>>9<<4)+15]=v,x.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var x=s.clone.call(this);return x._hash=this._hash.clone(),x}});n.SHA1=s._createHelper(d),n.HmacSHA1=s._createHmacHelper(d)}(),r.SHA1})}(Hr)),Hr.exports}var zr={exports:{}},oi;function f0(){return oi||(oi=1,function(e,t){(function(r,n){e.exports=n(re())})(Z,function(r){return function(n){var i=r,a=i.lib,s=a.WordArray,o=a.Hasher,u=i.algo,d=[],x=[];(function(){function y(p){for(var h=n.sqrt(p),c=2;c<=h;c++)if(!(p%c))return!1;return!0}function A(p){return(p-(p|0))*4294967296|0}for(var E=2,g=0;g<64;)y(E)&&(g<8&&(d[g]=A(n.pow(E,1/2))),x[g]=A(n.pow(E,1/3)),g++),E++})();var f=[],v=u.SHA256=o.extend({_doReset:function(){this._hash=new s.init(d.slice(0))},_doProcessBlock:function(y,A){for(var E=this._hash.words,g=E[0],p=E[1],h=E[2],c=E[3],l=E[4],_=E[5],m=E[6],B=E[7],b=0;b<64;b++){if(b<16)f[b]=y[A+b]|0;else{var k=f[b-15],C=(k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3,D=f[b-2],R=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;f[b]=C+f[b-7]+R+f[b-16]}var S=l&_^~l&m,j=g&p^g&h^p&h,z=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),M=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),K=B+M+S+x[b]+f[b],F=z+j;B=m,m=_,_=l,l=c+K|0,c=h,h=p,p=g,g=K+F|0}E[0]=E[0]+g|0,E[1]=E[1]+p|0,E[2]=E[2]+h|0,E[3]=E[3]+c|0,E[4]=E[4]+l|0,E[5]=E[5]+_|0,E[6]=E[6]+m|0,E[7]=E[7]+B|0},_doFinalize:function(){var y=this._data,A=y.words,E=this._nDataBytes*8,g=y.sigBytes*8;return A[g>>>5]|=128<<24-g%32,A[(g+64>>>9<<4)+14]=n.floor(E/4294967296),A[(g+64>>>9<<4)+15]=E,y.sigBytes=A.length*4,this._process(),this._hash},clone:function(){var y=o.clone.call(this);return y._hash=this._hash.clone(),y}});i.SHA256=o._createHelper(v),i.HmacSHA256=o._createHmacHelper(v)}(Math),r.SHA256})}(zr)),zr.exports}var Mr={exports:{}},ci;function Ac(){return ci||(ci=1,function(e,t){(function(r,n,i){e.exports=n(re(),f0())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=n.algo,o=s.SHA256,u=s.SHA224=o.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var d=o._doFinalize.call(this);return d.sigBytes-=4,d}});n.SHA224=o._createHelper(u),n.HmacSHA224=o._createHmacHelper(u)}(),r.SHA224})}(Mr)),Mr.exports}var Ur={exports:{}},ui;function Ha(){return ui||(ui=1,function(e,t){(function(r,n,i){e.exports=n(re(),Br())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,s=n.x64,o=s.Word,u=s.WordArray,d=n.algo;function x(){return o.create.apply(o,arguments)}var f=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],v=[];(function(){for(var A=0;A<80;A++)v[A]=x()})();var y=d.SHA512=a.extend({_doReset:function(){this._hash=new u.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(A,E){for(var g=this._hash.words,p=g[0],h=g[1],c=g[2],l=g[3],_=g[4],m=g[5],B=g[6],b=g[7],k=p.high,C=p.low,D=h.high,R=h.low,S=c.high,j=c.low,z=l.high,M=l.low,K=_.high,F=_.low,P=m.high,I=m.low,w=B.high,O=B.low,T=b.high,L=b.low,H=k,q=C,N=D,$=R,W=S,G=j,ie=z,ce=M,ae=K,ue=F,ke=P,ee=I,te=w,ne=O,Oe=T,Ee=L,oe=0;oe<80;oe++){var Fe,Re,tr=v[oe];if(oe<16)Re=tr.high=A[E+oe*2]|0,Fe=tr.low=A[E+oe*2+1]|0;else{var D0=v[oe-15],yt=D0.high,Lt=D0.low,ks=(yt>>>1|Lt<<31)^(yt>>>8|Lt<<24)^yt>>>7,F0=(Lt>>>1|yt<<31)^(Lt>>>8|yt<<24)^(Lt>>>7|yt<<25),S0=v[oe-2],mt=S0.high,It=S0.low,Os=(mt>>>19|It<<13)^(mt<<3|It>>>29)^mt>>>6,k0=(It>>>19|mt<<13)^(It<<3|mt>>>29)^(It>>>6|mt<<26),O0=v[oe-7],Ps=O0.high,Rs=O0.low,P0=v[oe-16],qs=P0.high,R0=P0.low;Fe=F0+Rs,Re=ks+Ps+(Fe>>>0<F0>>>0?1:0),Fe=Fe+k0,Re=Re+Os+(Fe>>>0<k0>>>0?1:0),Fe=Fe+R0,Re=Re+qs+(Fe>>>0<R0>>>0?1:0),tr.high=Re,tr.low=Fe}var Ts=ae&ke^~ae&te,q0=ue&ee^~ue&ne,Ls=H&N^H&W^N&W,Is=q&$^q&G^$&G,js=(H>>>28|q<<4)^(H<<30|q>>>2)^(H<<25|q>>>7),T0=(q>>>28|H<<4)^(q<<30|H>>>2)^(q<<25|H>>>7),Ns=(ae>>>14|ue<<18)^(ae>>>18|ue<<14)^(ae<<23|ue>>>9),$s=(ue>>>14|ae<<18)^(ue>>>18|ae<<14)^(ue<<23|ae>>>9),L0=f[oe],Hs=L0.high,I0=L0.low,Te=Ee+$s,nt=Oe+Ns+(Te>>>0<Ee>>>0?1:0),Te=Te+q0,nt=nt+Ts+(Te>>>0<q0>>>0?1:0),Te=Te+I0,nt=nt+Hs+(Te>>>0<I0>>>0?1:0),Te=Te+Fe,nt=nt+Re+(Te>>>0<Fe>>>0?1:0),j0=T0+Is,zs=js+Ls+(j0>>>0<T0>>>0?1:0);Oe=te,Ee=ne,te=ke,ne=ee,ke=ae,ee=ue,ue=ce+Te|0,ae=ie+nt+(ue>>>0<ce>>>0?1:0)|0,ie=W,ce=G,W=N,G=$,N=H,$=q,q=Te+j0|0,H=nt+zs+(q>>>0<Te>>>0?1:0)|0}C=p.low=C+q,p.high=k+H+(C>>>0<q>>>0?1:0),R=h.low=R+$,h.high=D+N+(R>>>0<$>>>0?1:0),j=c.low=j+G,c.high=S+W+(j>>>0<G>>>0?1:0),M=l.low=M+ce,l.high=z+ie+(M>>>0<ce>>>0?1:0),F=_.low=F+ue,_.high=K+ae+(F>>>0<ue>>>0?1:0),I=m.low=I+ee,m.high=P+ke+(I>>>0<ee>>>0?1:0),O=B.low=O+ne,B.high=w+te+(O>>>0<ne>>>0?1:0),L=b.low=L+Ee,b.high=T+Oe+(L>>>0<Ee>>>0?1:0)},_doFinalize:function(){var A=this._data,E=A.words,g=this._nDataBytes*8,p=A.sigBytes*8;E[p>>>5]|=128<<24-p%32,E[(p+128>>>10<<5)+30]=Math.floor(g/4294967296),E[(p+128>>>10<<5)+31]=g,A.sigBytes=E.length*4,this._process();var h=this._hash.toX32();return h},clone:function(){var A=a.clone.call(this);return A._hash=this._hash.clone(),A},blockSize:1024/32});n.SHA512=a._createHelper(y),n.HmacSHA512=a._createHmacHelper(y)}(),r.SHA512})}(Ur)),Ur.exports}var Kr={exports:{}},fi;function Ec(){return fi||(fi=1,function(e,t){(function(r,n,i){e.exports=n(re(),Br(),Ha())})(Z,function(r){return function(){var n=r,i=n.x64,a=i.Word,s=i.WordArray,o=n.algo,u=o.SHA512,d=o.SHA384=u.extend({_doReset:function(){this._hash=new s.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var x=u._doFinalize.call(this);return x.sigBytes-=16,x}});n.SHA384=u._createHelper(d),n.HmacSHA384=u._createHmacHelper(d)}(),r.SHA384})}(Kr)),Kr.exports}var Wr={exports:{}},li;function Cc(){return li||(li=1,function(e,t){(function(r,n,i){e.exports=n(re(),Br())})(Z,function(r){return function(n){var i=r,a=i.lib,s=a.WordArray,o=a.Hasher,u=i.x64,d=u.Word,x=i.algo,f=[],v=[],y=[];(function(){for(var g=1,p=0,h=0;h<24;h++){f[g+5*p]=(h+1)*(h+2)/2%64;var c=p%5,l=(2*g+3*p)%5;g=c,p=l}for(var g=0;g<5;g++)for(var p=0;p<5;p++)v[g+5*p]=p+(2*g+3*p)%5*5;for(var _=1,m=0;m<24;m++){for(var B=0,b=0,k=0;k<7;k++){if(_&1){var C=(1<<k)-1;C<32?b^=1<<C:B^=1<<C-32}_&128?_=_<<1^113:_<<=1}y[m]=d.create(B,b)}})();var A=[];(function(){for(var g=0;g<25;g++)A[g]=d.create()})();var E=x.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],p=0;p<25;p++)g[p]=new d.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,p){for(var h=this._state,c=this.blockSize/2,l=0;l<c;l++){var _=g[p+2*l],m=g[p+2*l+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,m=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360;var B=h[l];B.high^=m,B.low^=_}for(var b=0;b<24;b++){for(var k=0;k<5;k++){for(var C=0,D=0,R=0;R<5;R++){var B=h[k+5*R];C^=B.high,D^=B.low}var S=A[k];S.high=C,S.low=D}for(var k=0;k<5;k++)for(var j=A[(k+4)%5],z=A[(k+1)%5],M=z.high,K=z.low,C=j.high^(M<<1|K>>>31),D=j.low^(K<<1|M>>>31),R=0;R<5;R++){var B=h[k+5*R];B.high^=C,B.low^=D}for(var F=1;F<25;F++){var C,D,B=h[F],P=B.high,I=B.low,w=f[F];w<32?(C=P<<w|I>>>32-w,D=I<<w|P>>>32-w):(C=I<<w-32|P>>>64-w,D=P<<w-32|I>>>64-w);var O=A[v[F]];O.high=C,O.low=D}var T=A[0],L=h[0];T.high=L.high,T.low=L.low;for(var k=0;k<5;k++)for(var R=0;R<5;R++){var F=k+5*R,B=h[F],H=A[F],q=A[(k+1)%5+5*R],N=A[(k+2)%5+5*R];B.high=H.high^~q.high&N.high,B.low=H.low^~q.low&N.low}var B=h[0],$=y[b];B.high^=$.high,B.low^=$.low}},_doFinalize:function(){var g=this._data,p=g.words;this._nDataBytes*8;var h=g.sigBytes*8,c=this.blockSize*32;p[h>>>5]|=1<<24-h%32,p[(n.ceil((h+1)/c)*c>>>5)-1]|=128,g.sigBytes=p.length*4,this._process();for(var l=this._state,_=this.cfg.outputLength/8,m=_/8,B=[],b=0;b<m;b++){var k=l[b],C=k.high,D=k.low;C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,B.push(D),B.push(C)}return new s.init(B,_)},clone:function(){for(var g=o.clone.call(this),p=g._state=this._state.slice(0),h=0;h<25;h++)p[h]=p[h].clone();return g}});i.SHA3=o._createHelper(E),i.HmacSHA3=o._createHmacHelper(E)}(Math),r.SHA3})}(Wr)),Wr.exports}var Gr={exports:{}},di;function Bc(){return di||(di=1,function(e,t){(function(r,n){e.exports=n(re())})(Z,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,s=a.WordArray,o=a.Hasher,u=i.algo,d=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),x=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),v=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),y=s.create([0,1518500249,1859775393,2400959708,2840853838]),A=s.create([1352829926,1548603684,1836072691,2053994217,0]),E=u.RIPEMD160=o.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(m,B){for(var b=0;b<16;b++){var k=B+b,C=m[k];m[k]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}var D=this._hash.words,R=y.words,S=A.words,j=d.words,z=x.words,M=f.words,K=v.words,F,P,I,w,O,T,L,H,q,N;T=F=D[0],L=P=D[1],H=I=D[2],q=w=D[3],N=O=D[4];for(var $,b=0;b<80;b+=1)$=F+m[B+j[b]]|0,b<16?$+=g(P,I,w)+R[0]:b<32?$+=p(P,I,w)+R[1]:b<48?$+=h(P,I,w)+R[2]:b<64?$+=c(P,I,w)+R[3]:$+=l(P,I,w)+R[4],$=$|0,$=_($,M[b]),$=$+O|0,F=O,O=w,w=_(I,10),I=P,P=$,$=T+m[B+z[b]]|0,b<16?$+=l(L,H,q)+S[0]:b<32?$+=c(L,H,q)+S[1]:b<48?$+=h(L,H,q)+S[2]:b<64?$+=p(L,H,q)+S[3]:$+=g(L,H,q)+S[4],$=$|0,$=_($,K[b]),$=$+N|0,T=N,N=q,q=_(H,10),H=L,L=$;$=D[1]+I+q|0,D[1]=D[2]+w+N|0,D[2]=D[3]+O+T|0,D[3]=D[4]+F+L|0,D[4]=D[0]+P+H|0,D[0]=$},_doFinalize:function(){var m=this._data,B=m.words,b=this._nDataBytes*8,k=m.sigBytes*8;B[k>>>5]|=128<<24-k%32,B[(k+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,m.sigBytes=(B.length+1)*4,this._process();for(var C=this._hash,D=C.words,R=0;R<5;R++){var S=D[R];D[R]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return C},clone:function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m}});function g(m,B,b){return m^B^b}function p(m,B,b){return m&B|~m&b}function h(m,B,b){return(m|~B)^b}function c(m,B,b){return m&b|B&~b}function l(m,B,b){return m^(B|~b)}function _(m,B){return m<<B|m>>>32-B}i.RIPEMD160=o._createHelper(E),i.HmacRIPEMD160=o._createHmacHelper(E)}(),r.RIPEMD160})}(Gr)),Gr.exports}var Qr={exports:{}},hi;function l0(){return hi||(hi=1,function(e,t){(function(r,n){e.exports=n(re())})(Z,function(r){(function(){var n=r,i=n.lib,a=i.Base,s=n.enc,o=s.Utf8,u=n.algo;u.HMAC=a.extend({init:function(d,x){d=this._hasher=new d.init,typeof x=="string"&&(x=o.parse(x));var f=d.blockSize,v=f*4;x.sigBytes>v&&(x=d.finalize(x)),x.clamp();for(var y=this._oKey=x.clone(),A=this._iKey=x.clone(),E=y.words,g=A.words,p=0;p<f;p++)E[p]^=1549556828,g[p]^=909522486;y.sigBytes=A.sigBytes=v,this.reset()},reset:function(){var d=this._hasher;d.reset(),d.update(this._iKey)},update:function(d){return this._hasher.update(d),this},finalize:function(d){var x=this._hasher,f=x.finalize(d);x.reset();var v=x.finalize(this._oKey.clone().concat(f));return v}})})()})}(Qr)),Qr.exports}var Xr={exports:{}},xi;function wc(){return xi||(xi=1,function(e,t){(function(r,n,i){e.exports=n(re(),f0(),l0())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.Base,s=i.WordArray,o=n.algo,u=o.SHA256,d=o.HMAC,x=o.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,v){for(var y=this.cfg,A=d.create(y.hasher,f),E=s.create(),g=s.create([1]),p=E.words,h=g.words,c=y.keySize,l=y.iterations;p.length<c;){var _=A.update(v).finalize(g);A.reset();for(var m=_.words,B=m.length,b=_,k=1;k<l;k++){b=A.finalize(b),A.reset();for(var C=b.words,D=0;D<B;D++)m[D]^=C[D]}E.concat(_),h[0]++}return E.sigBytes=c*4,E}});n.PBKDF2=function(f,v,y){return x.create(y).compute(f,v)}}(),r.PBKDF2})}(Xr)),Xr.exports}var Vr={exports:{}},vi;function at(){return vi||(vi=1,function(e,t){(function(r,n,i){e.exports=n(re(),$a(),l0())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.Base,s=i.WordArray,o=n.algo,u=o.MD5,d=o.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:u,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,f){for(var v,y=this.cfg,A=y.hasher.create(),E=s.create(),g=E.words,p=y.keySize,h=y.iterations;g.length<p;){v&&A.update(v),v=A.update(x).finalize(f),A.reset();for(var c=1;c<h;c++)v=A.finalize(v),A.reset();E.concat(v)}return E.sigBytes=p*4,E}});n.EvpKDF=function(x,f,v){return d.create(v).compute(x,f)}}(),r.EvpKDF})}(Vr)),Vr.exports}var Yr={exports:{}},pi;function we(){return pi||(pi=1,function(e,t){(function(r,n,i){e.exports=n(re(),at())})(Z,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,s=a.Base,o=a.WordArray,u=a.BufferedBlockAlgorithm,d=i.enc;d.Utf8;var x=d.Base64,f=i.algo,v=f.EvpKDF,y=a.Cipher=u.extend({cfg:s.extend(),createEncryptor:function(C,D){return this.create(this._ENC_XFORM_MODE,C,D)},createDecryptor:function(C,D){return this.create(this._DEC_XFORM_MODE,C,D)},init:function(C,D,R){this.cfg=this.cfg.extend(R),this._xformMode=C,this._key=D,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(C){return this._append(C),this._process()},finalize:function(C){C&&this._append(C);var D=this._doFinalize();return D},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function C(D){return typeof D=="string"?k:m}return function(D){return{encrypt:function(R,S,j){return C(S).encrypt(D,R,S,j)},decrypt:function(R,S,j){return C(S).decrypt(D,R,S,j)}}}}()});a.StreamCipher=y.extend({_doFinalize:function(){var C=this._process(!0);return C},blockSize:1});var A=i.mode={},E=a.BlockCipherMode=s.extend({createEncryptor:function(C,D){return this.Encryptor.create(C,D)},createDecryptor:function(C,D){return this.Decryptor.create(C,D)},init:function(C,D){this._cipher=C,this._iv=D}}),g=A.CBC=function(){var C=E.extend();C.Encryptor=C.extend({processBlock:function(R,S){var j=this._cipher,z=j.blockSize;D.call(this,R,S,z),j.encryptBlock(R,S),this._prevBlock=R.slice(S,S+z)}}),C.Decryptor=C.extend({processBlock:function(R,S){var j=this._cipher,z=j.blockSize,M=R.slice(S,S+z);j.decryptBlock(R,S),D.call(this,R,S,z),this._prevBlock=M}});function D(R,S,j){var z,M=this._iv;M?(z=M,this._iv=n):z=this._prevBlock;for(var K=0;K<j;K++)R[S+K]^=z[K]}return C}(),p=i.pad={},h=p.Pkcs7={pad:function(C,D){for(var R=D*4,S=R-C.sigBytes%R,j=S<<24|S<<16|S<<8|S,z=[],M=0;M<S;M+=4)z.push(j);var K=o.create(z,S);C.concat(K)},unpad:function(C){var D=C.words[C.sigBytes-1>>>2]&255;C.sigBytes-=D}};a.BlockCipher=y.extend({cfg:y.cfg.extend({mode:g,padding:h}),reset:function(){var C;y.reset.call(this);var D=this.cfg,R=D.iv,S=D.mode;this._xformMode==this._ENC_XFORM_MODE?C=S.createEncryptor:(C=S.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==C?this._mode.init(this,R&&R.words):(this._mode=C.call(S,this,R&&R.words),this._mode.__creator=C)},_doProcessBlock:function(C,D){this._mode.processBlock(C,D)},_doFinalize:function(){var C,D=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(D.pad(this._data,this.blockSize),C=this._process(!0)):(C=this._process(!0),D.unpad(C)),C},blockSize:128/32});var c=a.CipherParams=s.extend({init:function(C){this.mixIn(C)},toString:function(C){return(C||this.formatter).stringify(this)}}),l=i.format={},_=l.OpenSSL={stringify:function(C){var D,R=C.ciphertext,S=C.salt;return S?D=o.create([1398893684,1701076831]).concat(S).concat(R):D=R,D.toString(x)},parse:function(C){var D,R=x.parse(C),S=R.words;return S[0]==1398893684&&S[1]==1701076831&&(D=o.create(S.slice(2,4)),S.splice(0,4),R.sigBytes-=16),c.create({ciphertext:R,salt:D})}},m=a.SerializableCipher=s.extend({cfg:s.extend({format:_}),encrypt:function(C,D,R,S){S=this.cfg.extend(S);var j=C.createEncryptor(R,S),z=j.finalize(D),M=j.cfg;return c.create({ciphertext:z,key:R,iv:M.iv,algorithm:C,mode:M.mode,padding:M.padding,blockSize:C.blockSize,formatter:S.format})},decrypt:function(C,D,R,S){S=this.cfg.extend(S),D=this._parse(D,S.format);var j=C.createDecryptor(R,S).finalize(D.ciphertext);return j},_parse:function(C,D){return typeof C=="string"?D.parse(C,this):C}}),B=i.kdf={},b=B.OpenSSL={execute:function(C,D,R,S,j){if(S||(S=o.random(64/8)),j)var z=v.create({keySize:D+R,hasher:j}).compute(C,S);else var z=v.create({keySize:D+R}).compute(C,S);var M=o.create(z.words.slice(D),R*4);return z.sigBytes=D*4,c.create({key:z,iv:M,salt:S})}},k=a.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:b}),encrypt:function(C,D,R,S){S=this.cfg.extend(S);var j=S.kdf.execute(R,C.keySize,C.ivSize,S.salt,S.hasher);S.iv=j.iv;var z=m.encrypt.call(this,C,D,j.key,S);return z.mixIn(j),z},decrypt:function(C,D,R,S){S=this.cfg.extend(S),D=this._parse(D,S.format);var j=S.kdf.execute(R,C.keySize,C.ivSize,D.salt,S.hasher);S.iv=j.iv;var z=m.decrypt.call(this,C,D,j.key,S);return z}})}()})}(Yr)),Yr.exports}var Jr={exports:{}},gi;function bc(){return gi||(gi=1,function(e,t){(function(r,n,i){e.exports=n(re(),we())})(Z,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,s){var o=this._cipher,u=o.blockSize;i.call(this,a,s,u,o),this._prevBlock=a.slice(s,s+u)}}),n.Decryptor=n.extend({processBlock:function(a,s){var o=this._cipher,u=o.blockSize,d=a.slice(s,s+u);i.call(this,a,s,u,o),this._prevBlock=d}});function i(a,s,o,u){var d,x=this._iv;x?(d=x.slice(0),this._iv=void 0):d=this._prevBlock,u.encryptBlock(d,0);for(var f=0;f<o;f++)a[s+f]^=d[f]}return n}(),r.mode.CFB})}(Jr)),Jr.exports}var Zr={exports:{}},_i;function Dc(){return _i||(_i=1,function(e,t){(function(r,n,i){e.exports=n(re(),we())})(Z,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,s){var o=this._cipher,u=o.blockSize,d=this._iv,x=this._counter;d&&(x=this._counter=d.slice(0),this._iv=void 0);var f=x.slice(0);o.encryptBlock(f,0),x[u-1]=x[u-1]+1|0;for(var v=0;v<u;v++)a[s+v]^=f[v]}});return n.Decryptor=i,n}(),r.mode.CTR})}(Zr)),Zr.exports}var en={exports:{}},yi;function Fc(){return yi||(yi=1,function(e,t){(function(r,n,i){e.exports=n(re(),we())})(Z,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(o){if((o>>24&255)===255){var u=o>>16&255,d=o>>8&255,x=o&255;u===255?(u=0,d===255?(d=0,x===255?x=0:++x):++d):++u,o=0,o+=u<<16,o+=d<<8,o+=x}else o+=1<<24;return o}function a(o){return(o[0]=i(o[0]))===0&&(o[1]=i(o[1])),o}var s=n.Encryptor=n.extend({processBlock:function(o,u){var d=this._cipher,x=d.blockSize,f=this._iv,v=this._counter;f&&(v=this._counter=f.slice(0),this._iv=void 0),a(v);var y=v.slice(0);d.encryptBlock(y,0);for(var A=0;A<x;A++)o[u+A]^=y[A]}});return n.Decryptor=s,n}(),r.mode.CTRGladman})}(en)),en.exports}var tn={exports:{}},mi;function Sc(){return mi||(mi=1,function(e,t){(function(r,n,i){e.exports=n(re(),we())})(Z,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,s){var o=this._cipher,u=o.blockSize,d=this._iv,x=this._keystream;d&&(x=this._keystream=d.slice(0),this._iv=void 0),o.encryptBlock(x,0);for(var f=0;f<u;f++)a[s+f]^=x[f]}});return n.Decryptor=i,n}(),r.mode.OFB})}(tn)),tn.exports}var rn={exports:{}},Ai;function kc(){return Ai||(Ai=1,function(e,t){(function(r,n,i){e.exports=n(re(),we())})(Z,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(rn)),rn.exports}var nn={exports:{}},Ei;function Oc(){return Ei||(Ei=1,function(e,t){(function(r,n,i){e.exports=n(re(),we())})(Z,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,s=i*4,o=s-a%s,u=a+o-1;n.clamp(),n.words[u>>>2]|=o<<24-u%4*8,n.sigBytes+=o},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(nn)),nn.exports}var an={exports:{}},Ci;function Pc(){return Ci||(Ci=1,function(e,t){(function(r,n,i){e.exports=n(re(),we())})(Z,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,s=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(s-1)).concat(r.lib.WordArray.create([s<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(an)),an.exports}var sn={exports:{}},Bi;function Rc(){return Bi||(Bi=1,function(e,t){(function(r,n,i){e.exports=n(re(),we())})(Z,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(sn)),sn.exports}var on={exports:{}},wi;function qc(){return wi||(wi=1,function(e,t){(function(r,n,i){e.exports=n(re(),we())})(Z,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(on)),on.exports}var cn={exports:{}},bi;function Tc(){return bi||(bi=1,function(e,t){(function(r,n,i){e.exports=n(re(),we())})(Z,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(cn)),cn.exports}var un={exports:{}},Di;function Lc(){return Di||(Di=1,function(e,t){(function(r,n,i){e.exports=n(re(),we())})(Z,function(r){return function(n){var i=r,a=i.lib,s=a.CipherParams,o=i.enc,u=o.Hex,d=i.format;d.Hex={stringify:function(x){return x.ciphertext.toString(u)},parse:function(x){var f=u.parse(x);return s.create({ciphertext:f})}}}(),r.format.Hex})}(un)),un.exports}var fn={exports:{}},Fi;function Ic(){return Fi||(Fi=1,function(e,t){(function(r,n,i){e.exports=n(re(),gt(),_t(),at(),we())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,s=n.algo,o=[],u=[],d=[],x=[],f=[],v=[],y=[],A=[],E=[],g=[];(function(){for(var c=[],l=0;l<256;l++)l<128?c[l]=l<<1:c[l]=l<<1^283;for(var _=0,m=0,l=0;l<256;l++){var B=m^m<<1^m<<2^m<<3^m<<4;B=B>>>8^B&255^99,o[_]=B,u[B]=_;var b=c[_],k=c[b],C=c[k],D=c[B]*257^B*16843008;d[_]=D<<24|D>>>8,x[_]=D<<16|D>>>16,f[_]=D<<8|D>>>24,v[_]=D;var D=C*16843009^k*65537^b*257^_*16843008;y[B]=D<<24|D>>>8,A[B]=D<<16|D>>>16,E[B]=D<<8|D>>>24,g[B]=D,_?(_=b^c[c[c[C^b]]],m^=c[c[m]]):_=m=1}})();var p=[0,1,2,4,8,16,32,64,128,27,54],h=s.AES=a.extend({_doReset:function(){var c;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var l=this._keyPriorReset=this._key,_=l.words,m=l.sigBytes/4,B=this._nRounds=m+6,b=(B+1)*4,k=this._keySchedule=[],C=0;C<b;C++)C<m?k[C]=_[C]:(c=k[C-1],C%m?m>6&&C%m==4&&(c=o[c>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[c&255]):(c=c<<8|c>>>24,c=o[c>>>24]<<24|o[c>>>16&255]<<16|o[c>>>8&255]<<8|o[c&255],c^=p[C/m|0]<<24),k[C]=k[C-m]^c);for(var D=this._invKeySchedule=[],R=0;R<b;R++){var C=b-R;if(R%4)var c=k[C];else var c=k[C-4];R<4||C<=4?D[R]=c:D[R]=y[o[c>>>24]]^A[o[c>>>16&255]]^E[o[c>>>8&255]]^g[o[c&255]]}}},encryptBlock:function(c,l){this._doCryptBlock(c,l,this._keySchedule,d,x,f,v,o)},decryptBlock:function(c,l){var _=c[l+1];c[l+1]=c[l+3],c[l+3]=_,this._doCryptBlock(c,l,this._invKeySchedule,y,A,E,g,u);var _=c[l+1];c[l+1]=c[l+3],c[l+3]=_},_doCryptBlock:function(c,l,_,m,B,b,k,C){for(var D=this._nRounds,R=c[l]^_[0],S=c[l+1]^_[1],j=c[l+2]^_[2],z=c[l+3]^_[3],M=4,K=1;K<D;K++){var F=m[R>>>24]^B[S>>>16&255]^b[j>>>8&255]^k[z&255]^_[M++],P=m[S>>>24]^B[j>>>16&255]^b[z>>>8&255]^k[R&255]^_[M++],I=m[j>>>24]^B[z>>>16&255]^b[R>>>8&255]^k[S&255]^_[M++],w=m[z>>>24]^B[R>>>16&255]^b[S>>>8&255]^k[j&255]^_[M++];R=F,S=P,j=I,z=w}var F=(C[R>>>24]<<24|C[S>>>16&255]<<16|C[j>>>8&255]<<8|C[z&255])^_[M++],P=(C[S>>>24]<<24|C[j>>>16&255]<<16|C[z>>>8&255]<<8|C[R&255])^_[M++],I=(C[j>>>24]<<24|C[z>>>16&255]<<16|C[R>>>8&255]<<8|C[S&255])^_[M++],w=(C[z>>>24]<<24|C[R>>>16&255]<<16|C[S>>>8&255]<<8|C[j&255])^_[M++];c[l]=F,c[l+1]=P,c[l+2]=I,c[l+3]=w},keySize:256/32});n.AES=a._createHelper(h)}(),r.AES})}(fn)),fn.exports}var ln={exports:{}},Si;function jc(){return Si||(Si=1,function(e,t){(function(r,n,i){e.exports=n(re(),gt(),_t(),at(),we())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=i.BlockCipher,o=n.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],v=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],y=o.DES=s.extend({_doReset:function(){for(var p=this._key,h=p.words,c=[],l=0;l<56;l++){var _=u[l]-1;c[l]=h[_>>>5]>>>31-_%32&1}for(var m=this._subKeys=[],B=0;B<16;B++){for(var b=m[B]=[],k=x[B],l=0;l<24;l++)b[l/6|0]|=c[(d[l]-1+k)%28]<<31-l%6,b[4+(l/6|0)]|=c[28+(d[l+24]-1+k)%28]<<31-l%6;b[0]=b[0]<<1|b[0]>>>31;for(var l=1;l<7;l++)b[l]=b[l]>>>(l-1)*4+3;b[7]=b[7]<<5|b[7]>>>27}for(var C=this._invSubKeys=[],l=0;l<16;l++)C[l]=m[15-l]},encryptBlock:function(p,h){this._doCryptBlock(p,h,this._subKeys)},decryptBlock:function(p,h){this._doCryptBlock(p,h,this._invSubKeys)},_doCryptBlock:function(p,h,c){this._lBlock=p[h],this._rBlock=p[h+1],A.call(this,4,252645135),A.call(this,16,65535),E.call(this,2,858993459),E.call(this,8,16711935),A.call(this,1,1431655765);for(var l=0;l<16;l++){for(var _=c[l],m=this._lBlock,B=this._rBlock,b=0,k=0;k<8;k++)b|=f[k][((B^_[k])&v[k])>>>0];this._lBlock=B,this._rBlock=m^b}var C=this._lBlock;this._lBlock=this._rBlock,this._rBlock=C,A.call(this,1,1431655765),E.call(this,8,16711935),E.call(this,2,858993459),A.call(this,16,65535),A.call(this,4,252645135),p[h]=this._lBlock,p[h+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function A(p,h){var c=(this._lBlock>>>p^this._rBlock)&h;this._rBlock^=c,this._lBlock^=c<<p}function E(p,h){var c=(this._rBlock>>>p^this._lBlock)&h;this._lBlock^=c,this._rBlock^=c<<p}n.DES=s._createHelper(y);var g=o.TripleDES=s.extend({_doReset:function(){var p=this._key,h=p.words;if(h.length!==2&&h.length!==4&&h.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var c=h.slice(0,2),l=h.length<4?h.slice(0,2):h.slice(2,4),_=h.length<6?h.slice(0,2):h.slice(4,6);this._des1=y.createEncryptor(a.create(c)),this._des2=y.createEncryptor(a.create(l)),this._des3=y.createEncryptor(a.create(_))},encryptBlock:function(p,h){this._des1.encryptBlock(p,h),this._des2.decryptBlock(p,h),this._des3.encryptBlock(p,h)},decryptBlock:function(p,h){this._des3.decryptBlock(p,h),this._des2.encryptBlock(p,h),this._des1.decryptBlock(p,h)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=s._createHelper(g)}(),r.TripleDES})}(ln)),ln.exports}var dn={exports:{}},ki;function Nc(){return ki||(ki=1,function(e,t){(function(r,n,i){e.exports=n(re(),gt(),_t(),at(),we())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,s=n.algo,o=s.RC4=a.extend({_doReset:function(){for(var x=this._key,f=x.words,v=x.sigBytes,y=this._S=[],A=0;A<256;A++)y[A]=A;for(var A=0,E=0;A<256;A++){var g=A%v,p=f[g>>>2]>>>24-g%4*8&255;E=(E+y[A]+p)%256;var h=y[A];y[A]=y[E],y[E]=h}this._i=this._j=0},_doProcessBlock:function(x,f){x[f]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var x=this._S,f=this._i,v=this._j,y=0,A=0;A<4;A++){f=(f+1)%256,v=(v+x[f])%256;var E=x[f];x[f]=x[v],x[v]=E,y|=x[(x[f]+x[v])%256]<<24-A*8}return this._i=f,this._j=v,y}n.RC4=a._createHelper(o);var d=s.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var x=this.cfg.drop;x>0;x--)u.call(this)}});n.RC4Drop=a._createHelper(d)}(),r.RC4})}(dn)),dn.exports}var hn={exports:{}},Oi;function $c(){return Oi||(Oi=1,function(e,t){(function(r,n,i){e.exports=n(re(),gt(),_t(),at(),we())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,s=n.algo,o=[],u=[],d=[],x=s.Rabbit=a.extend({_doReset:function(){for(var v=this._key.words,y=this.cfg.iv,A=0;A<4;A++)v[A]=(v[A]<<8|v[A]>>>24)&16711935|(v[A]<<24|v[A]>>>8)&4278255360;var E=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],g=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var A=0;A<4;A++)f.call(this);for(var A=0;A<8;A++)g[A]^=E[A+4&7];if(y){var p=y.words,h=p[0],c=p[1],l=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,_=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,m=l>>>16|_&4294901760,B=_<<16|l&65535;g[0]^=l,g[1]^=m,g[2]^=_,g[3]^=B,g[4]^=l,g[5]^=m,g[6]^=_,g[7]^=B;for(var A=0;A<4;A++)f.call(this)}},_doProcessBlock:function(v,y){var A=this._X;f.call(this),o[0]=A[0]^A[5]>>>16^A[3]<<16,o[1]=A[2]^A[7]>>>16^A[5]<<16,o[2]=A[4]^A[1]>>>16^A[7]<<16,o[3]=A[6]^A[3]>>>16^A[1]<<16;for(var E=0;E<4;E++)o[E]=(o[E]<<8|o[E]>>>24)&16711935|(o[E]<<24|o[E]>>>8)&4278255360,v[y+E]^=o[E]},blockSize:128/32,ivSize:64/32});function f(){for(var v=this._X,y=this._C,A=0;A<8;A++)u[A]=y[A];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<u[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<u[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<u[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<u[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<u[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<u[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<u[6]>>>0?1:0)|0,this._b=y[7]>>>0<u[7]>>>0?1:0;for(var A=0;A<8;A++){var E=v[A]+y[A],g=E&65535,p=E>>>16,h=((g*g>>>17)+g*p>>>15)+p*p,c=((E&4294901760)*E|0)+((E&65535)*E|0);d[A]=h^c}v[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,v[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,v[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,v[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,v[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,v[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,v[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,v[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}n.Rabbit=a._createHelper(x)}(),r.Rabbit})}(hn)),hn.exports}var xn={exports:{}},Pi;function Hc(){return Pi||(Pi=1,function(e,t){(function(r,n,i){e.exports=n(re(),gt(),_t(),at(),we())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,s=n.algo,o=[],u=[],d=[],x=s.RabbitLegacy=a.extend({_doReset:function(){var v=this._key.words,y=this.cfg.iv,A=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],E=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)E[g]^=A[g+4&7];if(y){var p=y.words,h=p[0],c=p[1],l=(h<<8|h>>>24)&16711935|(h<<24|h>>>8)&4278255360,_=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,m=l>>>16|_&4294901760,B=_<<16|l&65535;E[0]^=l,E[1]^=m,E[2]^=_,E[3]^=B,E[4]^=l,E[5]^=m,E[6]^=_,E[7]^=B;for(var g=0;g<4;g++)f.call(this)}},_doProcessBlock:function(v,y){var A=this._X;f.call(this),o[0]=A[0]^A[5]>>>16^A[3]<<16,o[1]=A[2]^A[7]>>>16^A[5]<<16,o[2]=A[4]^A[1]>>>16^A[7]<<16,o[3]=A[6]^A[3]>>>16^A[1]<<16;for(var E=0;E<4;E++)o[E]=(o[E]<<8|o[E]>>>24)&16711935|(o[E]<<24|o[E]>>>8)&4278255360,v[y+E]^=o[E]},blockSize:128/32,ivSize:64/32});function f(){for(var v=this._X,y=this._C,A=0;A<8;A++)u[A]=y[A];y[0]=y[0]+1295307597+this._b|0,y[1]=y[1]+3545052371+(y[0]>>>0<u[0]>>>0?1:0)|0,y[2]=y[2]+886263092+(y[1]>>>0<u[1]>>>0?1:0)|0,y[3]=y[3]+1295307597+(y[2]>>>0<u[2]>>>0?1:0)|0,y[4]=y[4]+3545052371+(y[3]>>>0<u[3]>>>0?1:0)|0,y[5]=y[5]+886263092+(y[4]>>>0<u[4]>>>0?1:0)|0,y[6]=y[6]+1295307597+(y[5]>>>0<u[5]>>>0?1:0)|0,y[7]=y[7]+3545052371+(y[6]>>>0<u[6]>>>0?1:0)|0,this._b=y[7]>>>0<u[7]>>>0?1:0;for(var A=0;A<8;A++){var E=v[A]+y[A],g=E&65535,p=E>>>16,h=((g*g>>>17)+g*p>>>15)+p*p,c=((E&4294901760)*E|0)+((E&65535)*E|0);d[A]=h^c}v[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,v[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,v[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,v[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,v[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,v[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,v[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,v[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}n.RabbitLegacy=a._createHelper(x)}(),r.RabbitLegacy})}(xn)),xn.exports}var vn={exports:{}},Ri;function zc(){return Ri||(Ri=1,function(e,t){(function(r,n,i){e.exports=n(re(),gt(),_t(),at(),we())})(Z,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,s=n.algo;const o=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],d=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var x={pbox:[],sbox:[]};function f(g,p){let h=p>>24&255,c=p>>16&255,l=p>>8&255,_=p&255,m=g.sbox[0][h]+g.sbox[1][c];return m=m^g.sbox[2][l],m=m+g.sbox[3][_],m}function v(g,p,h){let c=p,l=h,_;for(let m=0;m<o;++m)c=c^g.pbox[m],l=f(g,c)^l,_=c,c=l,l=_;return _=c,c=l,l=_,l=l^g.pbox[o],c=c^g.pbox[o+1],{left:c,right:l}}function y(g,p,h){let c=p,l=h,_;for(let m=o+1;m>1;--m)c=c^g.pbox[m],l=f(g,c)^l,_=c,c=l,l=_;return _=c,c=l,l=_,l=l^g.pbox[1],c=c^g.pbox[0],{left:c,right:l}}function A(g,p,h){for(let B=0;B<4;B++){g.sbox[B]=[];for(let b=0;b<256;b++)g.sbox[B][b]=d[B][b]}let c=0;for(let B=0;B<o+2;B++)g.pbox[B]=u[B]^p[c],c++,c>=h&&(c=0);let l=0,_=0,m=0;for(let B=0;B<o+2;B+=2)m=v(g,l,_),l=m.left,_=m.right,g.pbox[B]=l,g.pbox[B+1]=_;for(let B=0;B<4;B++)for(let b=0;b<256;b+=2)m=v(g,l,_),l=m.left,_=m.right,g.sbox[B][b]=l,g.sbox[B][b+1]=_;return!0}var E=s.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,p=g.words,h=g.sigBytes/4;A(x,p,h)}},encryptBlock:function(g,p){var h=v(x,g[p],g[p+1]);g[p]=h.left,g[p+1]=h.right},decryptBlock:function(g,p){var h=y(x,g[p],g[p+1]);g[p]=h.left,g[p+1]=h.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=a._createHelper(E)}(),r.Blowfish})}(vn)),vn.exports}(function(e,t){(function(r,n,i){e.exports=n(re(),Br(),_c(),yc(),gt(),mc(),_t(),$a(),f0(),Ac(),Ha(),Ec(),Cc(),Bc(),l0(),wc(),at(),we(),bc(),Dc(),Fc(),Sc(),kc(),Oc(),Pc(),Rc(),qc(),Tc(),Lc(),Ic(),jc(),Nc(),$c(),Hc(),zc())})(Z,function(r){return r})})(Na);var Mc=Na.exports;const Qe=u0(Mc);var za={exports:{}};(function(e,t){(function(r){e.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(p,h){var c=p[0],l=p[1],_=p[2],m=p[3];c+=(l&_|~l&m)+h[0]-680876936|0,c=(c<<7|c>>>25)+l|0,m+=(c&l|~c&_)+h[1]-389564586|0,m=(m<<12|m>>>20)+c|0,_+=(m&c|~m&l)+h[2]+606105819|0,_=(_<<17|_>>>15)+m|0,l+=(_&m|~_&c)+h[3]-1044525330|0,l=(l<<22|l>>>10)+_|0,c+=(l&_|~l&m)+h[4]-176418897|0,c=(c<<7|c>>>25)+l|0,m+=(c&l|~c&_)+h[5]+1200080426|0,m=(m<<12|m>>>20)+c|0,_+=(m&c|~m&l)+h[6]-1473231341|0,_=(_<<17|_>>>15)+m|0,l+=(_&m|~_&c)+h[7]-45705983|0,l=(l<<22|l>>>10)+_|0,c+=(l&_|~l&m)+h[8]+1770035416|0,c=(c<<7|c>>>25)+l|0,m+=(c&l|~c&_)+h[9]-1958414417|0,m=(m<<12|m>>>20)+c|0,_+=(m&c|~m&l)+h[10]-42063|0,_=(_<<17|_>>>15)+m|0,l+=(_&m|~_&c)+h[11]-1990404162|0,l=(l<<22|l>>>10)+_|0,c+=(l&_|~l&m)+h[12]+1804603682|0,c=(c<<7|c>>>25)+l|0,m+=(c&l|~c&_)+h[13]-40341101|0,m=(m<<12|m>>>20)+c|0,_+=(m&c|~m&l)+h[14]-1502002290|0,_=(_<<17|_>>>15)+m|0,l+=(_&m|~_&c)+h[15]+1236535329|0,l=(l<<22|l>>>10)+_|0,c+=(l&m|_&~m)+h[1]-165796510|0,c=(c<<5|c>>>27)+l|0,m+=(c&_|l&~_)+h[6]-1069501632|0,m=(m<<9|m>>>23)+c|0,_+=(m&l|c&~l)+h[11]+643717713|0,_=(_<<14|_>>>18)+m|0,l+=(_&c|m&~c)+h[0]-373897302|0,l=(l<<20|l>>>12)+_|0,c+=(l&m|_&~m)+h[5]-701558691|0,c=(c<<5|c>>>27)+l|0,m+=(c&_|l&~_)+h[10]+38016083|0,m=(m<<9|m>>>23)+c|0,_+=(m&l|c&~l)+h[15]-660478335|0,_=(_<<14|_>>>18)+m|0,l+=(_&c|m&~c)+h[4]-405537848|0,l=(l<<20|l>>>12)+_|0,c+=(l&m|_&~m)+h[9]+568446438|0,c=(c<<5|c>>>27)+l|0,m+=(c&_|l&~_)+h[14]-1019803690|0,m=(m<<9|m>>>23)+c|0,_+=(m&l|c&~l)+h[3]-187363961|0,_=(_<<14|_>>>18)+m|0,l+=(_&c|m&~c)+h[8]+1163531501|0,l=(l<<20|l>>>12)+_|0,c+=(l&m|_&~m)+h[13]-1444681467|0,c=(c<<5|c>>>27)+l|0,m+=(c&_|l&~_)+h[2]-51403784|0,m=(m<<9|m>>>23)+c|0,_+=(m&l|c&~l)+h[7]+1735328473|0,_=(_<<14|_>>>18)+m|0,l+=(_&c|m&~c)+h[12]-1926607734|0,l=(l<<20|l>>>12)+_|0,c+=(l^_^m)+h[5]-378558|0,c=(c<<4|c>>>28)+l|0,m+=(c^l^_)+h[8]-2022574463|0,m=(m<<11|m>>>21)+c|0,_+=(m^c^l)+h[11]+1839030562|0,_=(_<<16|_>>>16)+m|0,l+=(_^m^c)+h[14]-35309556|0,l=(l<<23|l>>>9)+_|0,c+=(l^_^m)+h[1]-1530992060|0,c=(c<<4|c>>>28)+l|0,m+=(c^l^_)+h[4]+1272893353|0,m=(m<<11|m>>>21)+c|0,_+=(m^c^l)+h[7]-155497632|0,_=(_<<16|_>>>16)+m|0,l+=(_^m^c)+h[10]-1094730640|0,l=(l<<23|l>>>9)+_|0,c+=(l^_^m)+h[13]+681279174|0,c=(c<<4|c>>>28)+l|0,m+=(c^l^_)+h[0]-358537222|0,m=(m<<11|m>>>21)+c|0,_+=(m^c^l)+h[3]-722521979|0,_=(_<<16|_>>>16)+m|0,l+=(_^m^c)+h[6]+76029189|0,l=(l<<23|l>>>9)+_|0,c+=(l^_^m)+h[9]-640364487|0,c=(c<<4|c>>>28)+l|0,m+=(c^l^_)+h[12]-421815835|0,m=(m<<11|m>>>21)+c|0,_+=(m^c^l)+h[15]+530742520|0,_=(_<<16|_>>>16)+m|0,l+=(_^m^c)+h[2]-995338651|0,l=(l<<23|l>>>9)+_|0,c+=(_^(l|~m))+h[0]-198630844|0,c=(c<<6|c>>>26)+l|0,m+=(l^(c|~_))+h[7]+1126891415|0,m=(m<<10|m>>>22)+c|0,_+=(c^(m|~l))+h[14]-1416354905|0,_=(_<<15|_>>>17)+m|0,l+=(m^(_|~c))+h[5]-57434055|0,l=(l<<21|l>>>11)+_|0,c+=(_^(l|~m))+h[12]+1700485571|0,c=(c<<6|c>>>26)+l|0,m+=(l^(c|~_))+h[3]-1894986606|0,m=(m<<10|m>>>22)+c|0,_+=(c^(m|~l))+h[10]-1051523|0,_=(_<<15|_>>>17)+m|0,l+=(m^(_|~c))+h[1]-2054922799|0,l=(l<<21|l>>>11)+_|0,c+=(_^(l|~m))+h[8]+1873313359|0,c=(c<<6|c>>>26)+l|0,m+=(l^(c|~_))+h[15]-30611744|0,m=(m<<10|m>>>22)+c|0,_+=(c^(m|~l))+h[6]-1560198380|0,_=(_<<15|_>>>17)+m|0,l+=(m^(_|~c))+h[13]+1309151649|0,l=(l<<21|l>>>11)+_|0,c+=(_^(l|~m))+h[4]-145523070|0,c=(c<<6|c>>>26)+l|0,m+=(l^(c|~_))+h[11]-1120210379|0,m=(m<<10|m>>>22)+c|0,_+=(c^(m|~l))+h[2]+718787259|0,_=(_<<15|_>>>17)+m|0,l+=(m^(_|~c))+h[9]-343485551|0,l=(l<<21|l>>>11)+_|0,p[0]=c+p[0]|0,p[1]=l+p[1]|0,p[2]=_+p[2]|0,p[3]=m+p[3]|0}function a(p){var h=[],c;for(c=0;c<64;c+=4)h[c>>2]=p.charCodeAt(c)+(p.charCodeAt(c+1)<<8)+(p.charCodeAt(c+2)<<16)+(p.charCodeAt(c+3)<<24);return h}function s(p){var h=[],c;for(c=0;c<64;c+=4)h[c>>2]=p[c]+(p[c+1]<<8)+(p[c+2]<<16)+(p[c+3]<<24);return h}function o(p){var h=p.length,c=[1732584193,-271733879,-1732584194,271733878],l,_,m,B,b,k;for(l=64;l<=h;l+=64)i(c,a(p.substring(l-64,l)));for(p=p.substring(l-64),_=p.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=0;l<_;l+=1)m[l>>2]|=p.charCodeAt(l)<<(l%4<<3);if(m[l>>2]|=128<<(l%4<<3),l>55)for(i(c,m),l=0;l<16;l+=1)m[l]=0;return B=h*8,B=B.toString(16).match(/(.*?)(.{0,8})$/),b=parseInt(B[2],16),k=parseInt(B[1],16)||0,m[14]=b,m[15]=k,i(c,m),c}function u(p){var h=p.length,c=[1732584193,-271733879,-1732584194,271733878],l,_,m,B,b,k;for(l=64;l<=h;l+=64)i(c,s(p.subarray(l-64,l)));for(p=l-64<h?p.subarray(l-64):new Uint8Array(0),_=p.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=0;l<_;l+=1)m[l>>2]|=p[l]<<(l%4<<3);if(m[l>>2]|=128<<(l%4<<3),l>55)for(i(c,m),l=0;l<16;l+=1)m[l]=0;return B=h*8,B=B.toString(16).match(/(.*?)(.{0,8})$/),b=parseInt(B[2],16),k=parseInt(B[1],16)||0,m[14]=b,m[15]=k,i(c,m),c}function d(p){var h="",c;for(c=0;c<4;c+=1)h+=n[p>>c*8+4&15]+n[p>>c*8&15];return h}function x(p){var h;for(h=0;h<p.length;h+=1)p[h]=d(p[h]);return p.join("")}x(o("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function p(h,c){return h=h|0||0,h<0?Math.max(h+c,0):Math.min(h,c)}ArrayBuffer.prototype.slice=function(h,c){var l=this.byteLength,_=p(h,l),m=l,B,b,k,C;return c!==r&&(m=p(c,l)),_>m?new ArrayBuffer(0):(B=m-_,b=new ArrayBuffer(B),k=new Uint8Array(b),C=new Uint8Array(this,_,B),k.set(C),b)}}();function f(p){return/[\u0080-\uFFFF]/.test(p)&&(p=unescape(encodeURIComponent(p))),p}function v(p,h){var c=p.length,l=new ArrayBuffer(c),_=new Uint8Array(l),m;for(m=0;m<c;m+=1)_[m]=p.charCodeAt(m);return h?_:l}function y(p){return String.fromCharCode.apply(null,new Uint8Array(p))}function A(p,h,c){var l=new Uint8Array(p.byteLength+h.byteLength);return l.set(new Uint8Array(p)),l.set(new Uint8Array(h),p.byteLength),l}function E(p){var h=[],c=p.length,l;for(l=0;l<c-1;l+=2)h.push(parseInt(p.substr(l,2),16));return String.fromCharCode.apply(String,h)}function g(){this.reset()}return g.prototype.append=function(p){return this.appendBinary(f(p)),this},g.prototype.appendBinary=function(p){this._buff+=p,this._length+=p.length;var h=this._buff.length,c;for(c=64;c<=h;c+=64)i(this._hash,a(this._buff.substring(c-64,c)));return this._buff=this._buff.substring(c-64),this},g.prototype.end=function(p){var h=this._buff,c=h.length,l,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],m;for(l=0;l<c;l+=1)_[l>>2]|=h.charCodeAt(l)<<(l%4<<3);return this._finish(_,c),m=x(this._hash),p&&(m=E(m)),this.reset(),m},g.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},g.prototype.setState=function(p){return this._buff=p.buff,this._length=p.length,this._hash=p.hash,this},g.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},g.prototype._finish=function(p,h){var c=h,l,_,m;if(p[c>>2]|=128<<(c%4<<3),c>55)for(i(this._hash,p),c=0;c<16;c+=1)p[c]=0;l=this._length*8,l=l.toString(16).match(/(.*?)(.{0,8})$/),_=parseInt(l[2],16),m=parseInt(l[1],16)||0,p[14]=_,p[15]=m,i(this._hash,p)},g.hash=function(p,h){return g.hashBinary(f(p),h)},g.hashBinary=function(p,h){var c=o(p),l=x(c);return h?E(l):l},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(p){var h=A(this._buff.buffer,p),c=h.length,l;for(this._length+=p.byteLength,l=64;l<=c;l+=64)i(this._hash,s(h.subarray(l-64,l)));return this._buff=l-64<c?new Uint8Array(h.buffer.slice(l-64)):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(p){var h=this._buff,c=h.length,l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_,m;for(_=0;_<c;_+=1)l[_>>2]|=h[_]<<(_%4<<3);return this._finish(l,c),m=x(this._hash),p&&(m=E(m)),this.reset(),m},g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.getState=function(){var p=g.prototype.getState.call(this);return p.buff=y(p.buff),p},g.ArrayBuffer.prototype.setState=function(p){return p.buff=v(p.buff,!0),g.prototype.setState.call(this,p)},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.hash=function(p,h){var c=u(new Uint8Array(p)),l=x(c);return h?E(l):l},g})})(za);var Uc=za.exports;const $n=u0(Uc);var nr,Kc=new Uint8Array(16);function Wc(){if(!nr&&(nr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!nr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nr(Kc)}const Gc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Qc(e){return typeof e=="string"&&Gc.test(e)}var be=[];for(var pn=0;pn<256;++pn)be.push((pn+256).toString(16).substr(1));function Xc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(be[e[t+0]]+be[e[t+1]]+be[e[t+2]]+be[e[t+3]]+"-"+be[e[t+4]]+be[e[t+5]]+"-"+be[e[t+6]]+be[e[t+7]]+"-"+be[e[t+8]]+be[e[t+9]]+"-"+be[e[t+10]]+be[e[t+11]]+be[e[t+12]]+be[e[t+13]]+be[e[t+14]]+be[e[t+15]]).toLowerCase();if(!Qc(r))throw TypeError("Stringified UUID is invalid");return r}function d0(e,t,r){e=e||{};var n=e.random||(e.rng||Wc)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Xc(n)}var wr={};wr.stringify=function(t){var r=[];r.push({obj:t});for(var n="",i,a,s,o,u,d,x,f,v,y,A;i=r.pop();)if(a=i.obj,s=i.prefix||"",o=i.val||"",n+=s,o)n+=o;else if(typeof a!="object")n+=typeof a>"u"?null:JSON.stringify(a);else if(a===null)n+="null";else if(Array.isArray(a)){for(r.push({val:"]"}),u=a.length-1;u>=0;u--)d=u===0?"":",",r.push({obj:a[u],prefix:d});r.push({val:"["})}else{x=[];for(f in a)a.hasOwnProperty(f)&&x.push(f);for(r.push({val:"}"}),u=x.length-1;u>=0;u--)v=x[u],y=a[v],A=u>0?",":"",A+=JSON.stringify(v)+":",r.push({obj:y,prefix:A});r.push({val:"{"})}return n};function Et(e,t,r){var n=r[r.length-1];e===n.element&&(r.pop(),n=r[r.length-1]);var i=n.element,a=n.index;if(Array.isArray(i))i.push(e);else if(a===t.length-2){var s=t.pop();i[s]=e}else t.push(e)}wr.parse=function(e){for(var t=[],r=[],n=0,i,a,s,o,u,d,x,f,v;;){if(i=e[n++],i==="}"||i==="]"||typeof i>"u"){if(t.length===1)return t.pop();Et(t.pop(),t,r);continue}switch(i){case" ":case"	":case`
`:case":":case",":break;case"n":n+=3,Et(null,t,r);break;case"t":n+=3,Et(!0,t,r);break;case"f":n+=4,Et(!1,t,r);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(a="",n--;;)if(s=e[n++],/[\d\.\-e\+]/.test(s))a+=s;else{n--;break}Et(parseFloat(a),t,r);break;case'"':for(o="",u=void 0,d=0;x=e[n++],x!=='"'||u==="\\"&&d%2===1;)o+=x,u=x,u==="\\"?d++:d=0;Et(JSON.parse('"'+o+'"'),t,r);break;case"[":f={element:[],index:t.length},t.push(f.element),r.push(f);break;case"{":v={element:{},index:t.length},t.push(v.element),r.push(v);break;default:throw new Error("unexpectedly reached end of input: "+i)}}};function Be(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Vc=Be;Be.EventEmitter=Be;Be.prototype._events=void 0;Be.prototype._maxListeners=void 0;Be.defaultMaxListeners=10;Be.prototype.setMaxListeners=function(e){if(!Yc(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};Be.prototype.emit=function(e){var t,r,n,i,a,s;if(this._events||(this._events={}),e==="error"&&(!this._events.error||Gt(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var o=new Error('Uncaught, unspecified "error" event. ('+t+")");throw o.context=t,o}if(r=this._events[e],Ma(r))return!1;if(tt(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Gt(r))for(i=Array.prototype.slice.call(arguments,1),s=r.slice(),n=s.length,a=0;a<n;a++)s[a].apply(this,i);return!0};Be.prototype.addListener=function(e,t){var r;if(!tt(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,tt(t.listener)?t.listener:t),this._events[e]?Gt(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Gt(this._events[e])&&!this._events[e].warned&&(Ma(this._maxListeners)?r=Be.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};Be.prototype.on=Be.prototype.addListener;Be.prototype.once=function(e,t){if(!tt(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this};Be.prototype.removeListener=function(e,t){var r,n,i,a;if(!tt(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||tt(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Gt(r)){for(a=i;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};Be.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],tt(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this};Be.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:tt(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};Be.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(tt(t))return 1;if(t)return t.length}return 0};Be.listenerCount=function(e,t){return e.listenerCount(t)};function tt(e){return typeof e=="function"}function Yc(e){return typeof e=="number"}function Gt(e){return typeof e=="object"&&e!==null}function Ma(e){return e===void 0}const rt=u0(Vc);function Jc(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer||typeof Blob<"u"&&e instanceof Blob}function Zc(e){return e instanceof ArrayBuffer?e.slice(0):e.slice(0,e.size,e.type)}var Ua=Function.prototype.toString,eu=Ua.call(Object);function tu(e){var t=Object.getPrototypeOf(e);if(t===null)return!0;var r=t.constructor;return typeof r=="function"&&r instanceof r&&Ua.call(r)==eu}function me(e){var t,r,n;if(!e||typeof e!="object")return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=me(e[r]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(Jc(e))return Zc(e);if(!tu(e))return e;t={};for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=me(e[r]);typeof i<"u"&&(t[r]=i)}return t}function Ka(e){var t=!1;return function(...r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)}}function Wa(e){return function(...t){t=me(t);var r=this,n=typeof t[t.length-1]=="function"?t.pop():!1,i=new Promise(function(a,s){var o;try{var u=Ka(function(d,x){d?s(d):a(x)});t.push(u),o=e.apply(r,t),o&&typeof o.then=="function"&&a(o)}catch(d){s(d)}});return n&&i.then(function(a){n(null,a)},n),i}}function ru(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],i=0;i<r.length-1;i++)n.push(r[i]);e.constructor.emit("debug",n);var a=r[r.length-1];r[r.length-1]=function(s,o){var u=["api",e.name,t];u=u.concat(s?["error",s]:["success",o]),e.constructor.emit("debug",u),a(s,o)}}}function pe(e,t){return Wa(function(...r){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return ru(n,e,r),this.taskqueue.isReady?t.apply(this,r):new Promise(function(i,a){n.taskqueue.addTask(function(s){s?a(s):i(n[e].apply(n,r))})})})}function Zt(e,t){for(var r={},n=0,i=t.length;n<i;n++){var a=t[n];a in e&&(r[a]=e[a])}return r}var nu=6;function qi(e){return e}function iu(e){return[{ok:e}]}function Ga(e,t,r){var n=t.docs,i=new Map;n.forEach(function(E){i.has(E.id)?i.get(E.id).push(E):i.set(E.id,[E])});var a=i.size,s=0,o=new Array(a);function u(){var E=[];o.forEach(function(g){g.docs.forEach(function(p){E.push({id:g.id,docs:[p]})})}),r(null,{results:E})}function d(){++s===a&&u()}function x(E,g,p){o[E]={id:g,docs:p},d()}var f=[];i.forEach(function(E,g){f.push(g)});var v=0;function y(){if(!(v>=f.length)){var E=Math.min(v+nu,f.length),g=f.slice(v,E);A(g,v),v+=g.length}}function A(E,g){E.forEach(function(p,h){var c=g+h,l=i.get(p),_=Zt(l[0],["atts_since","attachments"]);_.open_revs=l.map(function(B){return B.rev}),_.open_revs=_.open_revs.filter(qi);var m=qi;_.open_revs.length===0&&(delete _.open_revs,m=iu),["revs","attachments","binary","ajax","latest"].forEach(function(B){B in t&&(_[B]=t[B])}),e.get(p,_,function(B,b){var k;B?k=[{error:B}]:k=m(b),x(c,p,k),y()})})}y()}var Hn;try{localStorage.setItem("_pouch_check_localstorage",1),Hn=!!localStorage.getItem("_pouch_check_localstorage")}catch{Hn=!1}function vr(){return Hn}const Ve=typeof queueMicrotask=="function"?queueMicrotask:function(t){Promise.resolve().then(t)};class au extends rt{constructor(){super(),this._listeners={},vr()&&addEventListener("storage",t=>{this.emit(t.key)})}addListener(t,r,n,i){if(this._listeners[r])return;var a=!1,s=this;function o(){if(!s._listeners[r])return;if(a){a="waiting";return}a=!0;var u=Zt(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function d(){a=!1}n.changes(u).on("change",function(x){x.seq>i.since&&!i.cancelled&&(i.since=x.seq,i.onChange(x))}).on("complete",function(){a==="waiting"&&Ve(o),a=!1}).on("error",d)}this._listeners[r]=o,this.on(t,o)}removeListener(t,r){r in this._listeners&&(super.removeListener(t,this._listeners[r]),delete this._listeners[r])}notifyLocalWindows(t){vr()&&(localStorage[t]=localStorage[t]==="a"?"b":"a")}notify(t){this.emit(t),this.notifyLocalWindows(t)}}function He(e){if(typeof console<"u"&&typeof console[e]=="function"){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function su(e,t){var r=6e5;e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t=t+1,t>r&&(e=r>>1,t=r);var n=Math.random(),i=t-e;return~~(i*n+e)}function ou(e){var t=0;return e||(t=2e3),su(e,t)}function zn(e,t){He("info","The above "+e+" is totally normal. "+t)}class he extends Error{constructor(t,r,n){super(),this.status=t,this.name=r,this.message=n,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}}new he(401,"unauthorized","Name or password is incorrect.");var cu=new he(400,"bad_request","Missing JSON list of 'docs'"),je=new he(404,"not_found","missing"),Ot=new he(409,"conflict","Document update conflict"),Qa=new he(400,"bad_request","_id field must contain a string"),uu=new he(412,"missing_id","_id is required for puts"),fu=new he(400,"bad_request","Only reserved document ids may start with underscore.");new he(412,"precondition_failed","Database not open");var h0=new he(500,"unknown_error","Database encountered an unknown error"),Xa=new he(500,"badarg","Some query argument is invalid");new he(400,"invalid_request","Request was invalid");var lu=new he(400,"query_parse_error","Some query parameter is invalid"),Ti=new he(500,"doc_validation","Bad special document member"),br=new he(400,"bad_request","Something wrong with the request"),gn=new he(400,"bad_request","Document must be a JSON object");new he(404,"not_found","Database not found");var x0=new he(500,"indexed_db_went_bad","unknown");new he(500,"web_sql_went_bad","unknown");new he(500,"levelDB_went_went_bad","unknown");new he(403,"forbidden","Forbidden by design doc validate_doc_update function");var or=new he(400,"bad_request","Invalid rev format");new he(412,"file_exists","The database could not be created, the file already exists.");var du=new he(412,"missing_stub","A pre-existing attachment stub wasn't found");new he(413,"invalid_url","Provided URL is invalid");function Y(e,t){function r(n){for(var i=Object.getOwnPropertyNames(e),a=0,s=i.length;a<s;a++)typeof e[i[a]]!="function"&&(this[i[a]]=e[i[a]]);this.stack===void 0&&(this.stack=new Error().stack),n!==void 0&&(this.reason=n)}return r.prototype=he.prototype,new r(t)}function Pt(e){if(typeof e!="object"){var t=e;e=h0,e.data=t}return"error"in e&&e.error==="conflict"&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=new Error().stack),e}function hu(e,t,r){try{return!e(t,r)}catch(i){var n="Filter function threw: "+i.toString();return Y(br,n)}}function v0(e){var t={},r=e.filter&&typeof e.filter=="function";return t.query=e.query_params,function(i){i.doc||(i.doc={});var a=r&&hu(e.filter,i.doc,t);if(typeof a=="object")return a;if(a)return!1;if(!e.include_docs)delete i.doc;else if(!e.attachments)for(var s in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,s)&&(i.doc._attachments[s].stub=!0);return!0}}function Va(e){var t;if(e?typeof e!="string"?t=Y(Qa):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Y(fu)):t=Y(uu),t)throw t}function Xe(e){return typeof e._remote=="boolean"?e._remote:typeof e.type=="function"?(He("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),e.type()==="http"):!1}function xu(e,t){return"listenerCount"in e?e.listenerCount(t):rt.listenerCount(e,t)}function Mn(e){if(!e)return null;var t=e.split("/");return t.length===2?t:t.length===1?[e,e]:null}function Li(e){var t=Mn(e);return t?t.join("/"):null}var Ii=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ji="queryKey",vu=/(?:^|&)([^&=]*)=?([^&]*)/g,pu=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Ya(e){for(var t=pu.exec(e),r={},n=14;n--;){var i=Ii[n],a=t[n]||"",s=["user","password"].indexOf(i)!==-1;r[i]=s?decodeURIComponent(a):a}return r[ji]={},r[Ii[12]].replace(vu,function(o,u,d){u&&(r[ji][u]=d)}),r}function p0(e,t){var r=[],n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r.push(i),n.push(t[i]));return r.push(e),Function.apply(null,r).apply(null,n)}function pr(e,t,r){return e.get(t).catch(function(n){if(n.status!==404)throw n;return{}}).then(function(n){var i=n._rev,a=r(n);return a?(a._id=t,a._rev=i,gu(e,a,r)):{updated:!1,rev:i}})}function gu(e,t,r){return e.put(t).then(function(n){return{updated:!0,rev:n.rev}},function(n){if(n.status!==409)throw n;return pr(e,t._id,r)})}var g0=function(e){return atob(e)},er=function(e){return btoa(e)};function _0(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(a){if(a.name!=="TypeError")throw a;for(var r=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,n=new r,i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function _u(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}function y0(e,t){return _0([_u(e)],{type:t})}function m0(e,t){return y0(g0(e),t)}function yu(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return t}function Ja(e,t){var r=new FileReader,n=typeof r.readAsBinaryString=="function";r.onloadend=function(i){var a=i.target.result||"";if(n)return t(a);t(yu(a))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function Za(e,t){Ja(e,function(r){t(r)})}function A0(e,t){Za(e,function(r){t(er(r))})}function mu(e,t){var r=new FileReader;r.onloadend=function(n){var i=n.target.result||new ArrayBuffer(0);t(i)},r.readAsArrayBuffer(e)}var Au=self.setImmediate||self.setTimeout,Eu=32768;function Cu(e){return er(e)}function Bu(e,t,r,n,i){(r>0||n<t.size)&&(t=t.slice(r,n)),mu(t,function(a){e.append(a),i()})}function wu(e,t,r,n,i){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),i()}function E0(e,t){var r=typeof e=="string",n=r?e.length:e.size,i=Math.min(Eu,n),a=Math.ceil(n/i),s=0,o=r?new $n:new $n.ArrayBuffer,u=r?wu:Bu;function d(){Au(f)}function x(){var v=o.end(!0),y=Cu(v);t(y),o.destroy()}function f(){var v=s*i,y=v+i;s++,s<a?u(o,e,v,y,d):u(o,e,v,y,x)}f()}function es(e){return $n.hash(e)}function ts(e,t){if(!t)return d0().replace(/-/g,"").toLowerCase();var r=Object.assign({},e);return delete r._rev_tree,es(JSON.stringify(r))}var Dr=d0;function xt(e){for(var t,r,n,i=e.rev_tree.slice(),a;a=i.pop();){var s=a.ids,o=s[2],u=a.pos;if(o.length){for(var d=0,x=o.length;d<x;d++)i.push({pos:u+1,ids:o[d]});continue}var f=!!s[1].deleted,v=s[0];(!t||(n!==f?n:r!==u?r<u:t<v))&&(t=v,r=u,n=f)}return r+"-"+t}function vt(e,t){for(var r=e.slice(),n;n=r.pop();)for(var i=n.pos,a=n.ids,s=a[2],o=t(s.length===0,i,a[0],n.ctx,a[1]),u=0,d=s.length;u<d;u++)r.push({pos:i+1,ids:s[u],ctx:o})}function bu(e,t){return e.pos-t.pos}function C0(e){var t=[];vt(e,function(i,a,s,o,u){i&&t.push({rev:a+"-"+s,pos:a,opts:u})}),t.sort(bu).reverse();for(var r=0,n=t.length;r<n;r++)delete t[r].pos;return t}function B0(e){for(var t=xt(e),r=C0(e.rev_tree),n=[],i=0,a=r.length;i<a;i++){var s=r[i];s.rev!==t&&!s.opts.deleted&&n.push(s.rev)}return n}function Du(e){var t=[];return vt(e.rev_tree,function(r,n,i,a,s){s.status==="available"&&!r&&(t.push(n+"-"+i),s.status="missing")}),t}function Fu(e,t){let r=[];const n=e.slice();let i;for(;i=n.pop();){const{pos:a,ids:s}=i,o=`${a}-${s[0]}`,u=s[2];if(r.push(o),o===t){if(u.length!==0)throw new Error("The requested revision is not a leaf");return r.reverse()}(u.length===0||u.length>1)&&(r=[]);for(let d=0,x=u.length;d<x;d++)n.push({pos:a+1,ids:u[d]})}if(r.length===0)throw new Error("The requested revision does not exist");return r.reverse()}function rs(e){for(var t=[],r=e.slice(),n;n=r.pop();){var i=n.pos,a=n.ids,s=a[0],o=a[1],u=a[2],d=u.length===0,x=n.history?n.history.slice():[];x.push({id:s,opts:o}),d&&t.push({pos:i+1-x.length,ids:x});for(var f=0,v=u.length;f<v;f++)r.push({pos:i+1,ids:u[f],history:x})}return t.reverse()}function Su(e,t){return e.pos-t.pos}function ku(e,t,r){for(var n=0,i=e.length,a;n<i;)a=n+i>>>1,r(e[a],t)<0?n=a+1:i=a;return n}function Ou(e,t,r){var n=ku(e,t,r);e.splice(n,0,t)}function Ni(e,t){for(var r,n,i=t,a=e.length;i<a;i++){var s=e[i],o=[s.id,s.opts,[]];n?(n[2].push(o),n=o):r=n=o}return r}function Pu(e,t){return e[0]<t[0]?-1:1}function $i(e,t){for(var r=[{tree1:e,tree2:t}],n=!1;r.length>0;){var i=r.pop(),a=i.tree1,s=i.tree2;(a[1].status||s[1].status)&&(a[1].status=a[1].status==="available"||s[1].status==="available"?"available":"missing");for(var o=0;o<s[2].length;o++){if(!a[2][0]){n="new_leaf",a[2][0]=s[2][o];continue}for(var u=!1,d=0;d<a[2].length;d++)a[2][d][0]===s[2][o][0]&&(r.push({tree1:a[2][d],tree2:s[2][o]}),u=!0);u||(n="new_branch",Ou(a[2],s[2][o],Pu))}}return{conflicts:n,tree:e}}function ns(e,t,r){var n=[],i=!1,a=!1,s;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var o=0,u=e.length;o<u;o++){var d=e[o];if(d.pos===t.pos&&d.ids[0]===t.ids[0])s=$i(d.ids,t.ids),n.push({pos:d.pos,ids:s.tree}),i=i||s.conflicts,a=!0;else if(r!==!0){var x=d.pos<t.pos?d:t,f=d.pos<t.pos?t:d,v=f.pos-x.pos,y=[],A=[];for(A.push({ids:x.ids,diff:v,parent:null,parentIdx:null});A.length>0;){var E=A.pop();if(E.diff===0){E.ids[0]===f.ids[0]&&y.push(E);continue}for(var g=E.ids[2],p=0,h=g.length;p<h;p++)A.push({ids:g[p],diff:E.diff-1,parent:E.ids,parentIdx:p})}var c=y[0];c?(s=$i(c.ids,f.ids),c.parent[2][c.parentIdx]=s.tree,n.push({pos:x.pos,ids:x.ids}),i=i||s.conflicts,a=!0):n.push(d)}else n.push(d)}return a||n.push(t),n.sort(Su),{tree:n,conflicts:i||"internal_node"}}function Ru(e,t){for(var r=rs(e),n,i,a=0,s=r.length;a<s;a++){var o=r[a],u=o.ids,d;if(u.length>t){n||(n={});var x=u.length-t;d={pos:o.pos+x,ids:Ni(u,x)};for(var f=0;f<x;f++){var v=o.pos+f+"-"+u[f].id;n[v]=!0}}else d={pos:o.pos,ids:Ni(u,0)};i?i=ns(i,d,!0).tree:i=[d]}return n&&vt(i,function(y,A,E){delete n[A+"-"+E]}),{tree:i,revs:n?Object.keys(n):[]}}function is(e,t,r){var n=ns(e,t),i=Ru(n.tree,r);return{tree:i.tree,stemmedRevs:i.revs,conflicts:n.conflicts}}function qu(e,t){for(var r=e.slice(),n=t.split("-"),i=parseInt(n[0],10),a=n[1],s;s=r.pop();){if(s.pos===i&&s.ids[0]===a)return!0;for(var o=s.ids[2],u=0,d=o.length;u<d;u++)r.push({pos:s.pos+1,ids:o[u]})}return!1}function Tu(e){return e.ids}function Ze(e,t){t||(t=xt(e));for(var r=t.substring(t.indexOf("-")+1),n=e.rev_tree.map(Tu),i;i=n.pop();){if(i[0]===r)return!!i[1].deleted;n=n.concat(i[2])}}function dt(e){return typeof e=="string"&&e.startsWith("_local/")}function Lu(e,t){for(var r=t.rev_tree.slice(),n;n=r.pop();){var i=n.pos,a=n.ids,s=a[0],o=a[1],u=a[2],d=u.length===0,x=n.history?n.history.slice():[];if(x.push({id:s,pos:i,opts:o}),d)for(var f=0,v=x.length;f<v;f++){var y=x[f],A=y.pos+"-"+y.id;if(A===e)return i+"-"+s}for(var E=0,g=u.length;E<g;E++)r.push({pos:i+1,ids:u[E],history:x})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function Iu(e,t,r,n){try{e.emit("change",t,r,n)}catch(i){He("error",'Error in .on("change", function):',i)}}function ju(e,t,r){var n=[{rev:e._rev}];r.style==="all_docs"&&(n=C0(t.rev_tree).map(function(a){return{rev:a.rev}}));var i={id:t.id,changes:n,doc:e};return Ze(t,e._rev)&&(i.deleted=!0),r.conflicts&&(i.doc._conflicts=B0(t),i.doc._conflicts.length||delete i.doc._conflicts),i}class Nu extends rt{constructor(t,r,n){super(),this.db=t,r=r?me(r):{};var i=r.complete=Ka((o,u)=>{o?xu(this,"error")>0&&this.emit("error",o):this.emit("complete",u),this.removeAllListeners(),t.removeListener("destroyed",a)});n&&(this.on("complete",function(o){n(null,o)}),this.on("error",n));const a=()=>{this.cancel()};t.once("destroyed",a),r.onChange=(o,u,d)=>{this.isCancelled||Iu(this,o,u,d)};var s=new Promise(function(o,u){r.complete=function(d,x){d?u(d):o(x)}});this.once("cancel",function(){t.removeListener("destroyed",a),r.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then(function(o){i(null,o)},i),t.taskqueue.isReady?this.validateChanges(r):t.taskqueue.addTask(o=>{o?r.complete(o):this.isCancelled?this.emit("cancel"):this.validateChanges(r)})}cancel(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")}validateChanges(t){var r=t.complete;V._changesFilterPlugin?V._changesFilterPlugin.validate(t,n=>{if(n)return r(n);this.doChanges(t)}):this.doChanges(t)}doChanges(t){var r=t.complete;if(t=me(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=ju,t.since==="latest"&&(t.since="now"),t.since||(t.since=0),t.since==="now"){this.db.info().then(i=>{if(this.isCancelled){r(null,{status:"cancelled"});return}t.since=i.update_seq,this.doChanges(t)},r);return}if(V._changesFilterPlugin){if(V._changesFilterPlugin.normalize(t),V._changesFilterPlugin.shouldFilter(this,t))return V._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(i){i in t&&He("warn",'The "'+i+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=t.limit===0?1:t.limit,t.complete=r;var n=this.db._changes(t);if(n&&typeof n.cancel=="function"){const i=this.cancel;this.cancel=(...a)=>{n.cancel(),i.apply(this,a)}}}}function _n(e,t){return function(r,n){r||n[0]&&n[0].error?(r=r||n[0],r.docId=t,e(r)):e(null,n.length?n[0]:n)}}function $u(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),i=0;i<n.length;i++){var a=n[i];r._attachments[a]=Zt(r._attachments[a],["data","digest","content_type","length","revpos","stub"])}}}function Hu(e,t){if(e._id===t._id){const r=e._revisions?e._revisions.start:0,n=t._revisions?t._revisions.start:0;return r-n}return e._id<t._id?-1:1}function zu(e){var t={},r=[];return vt(e,function(n,i,a,s){var o=i+"-"+a;return n&&(t[o]=0),s!==void 0&&r.push({from:s,to:o}),o}),r.reverse(),r.forEach(function(n){t[n.from]===void 0?t[n.from]=1+t[n.to]:t[n.from]=Math.min(t[n.from],1+t[n.to])}),t}function Mu(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}function as(e){var t=e._compactionQueue[0],r=t.opts,n=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(i){i&&i.last_seq&&(r.last_seq=i.last_seq),e._compact(r,function(a,s){a?n(a):n(null,s),Ve(function(){e._compactionQueue.shift(),e._compactionQueue.length&&as(e)})})})}function Uu(e,t,r){return e.get("_local/purges").then(function(n){const i=n.purgeSeq+1;return n.purges.push({docId:t,rev:r,purgeSeq:i}),n.purges.length>self.purged_infos_limit&&n.purges.splice(0,n.purges.length-self.purged_infos_limit),n.purgeSeq=i,n}).catch(function(n){if(n.status!==404)throw n;return{_id:"_local/purges",purges:[{docId:t,rev:r,purgeSeq:0}],purgeSeq:0}}).then(function(n){return e.put(n)})}function Ku(e){return e.charAt(0)==="_"?e+" is not a valid attachment name, attachment names cannot start with '_'":!1}function yn(e){return e===null||typeof e!="object"||Array.isArray(e)}const Wu=/^\d+-[^-]*$/;function mn(e){return typeof e=="string"&&Wu.test(e)}class ss extends rt{_setup(){this.post=pe("post",function(t,r,n){if(typeof r=="function"&&(n=r,r={}),yn(t))return n(Y(gn));this.bulkDocs({docs:[t]},r,_n(n,t._id))}).bind(this),this.put=pe("put",function(t,r,n){if(typeof r=="function"&&(n=r,r={}),yn(t))return n(Y(gn));if(Va(t._id),"_rev"in t&&!mn(t._rev))return n(Y(or));if(dt(t._id)&&typeof this._putLocal=="function")return t._deleted?this._removeLocal(t,n):this._putLocal(t,n);const i=s=>{typeof this._put=="function"&&r.new_edits!==!1?this._put(t,r,s):this.bulkDocs({docs:[t]},r,_n(s,t._id))};r.force&&t._rev?(a(),i(function(s){var o=s?null:{ok:!0,id:t._id,rev:t._rev};n(s,o)})):i(n);function a(){var s=t._rev.split("-"),o=s[1],u=parseInt(s[0],10),d=u+1,x=ts();t._revisions={start:d,ids:[x,o]},t._rev=d+"-"+x,r.new_edits=!1}}).bind(this),this.putAttachment=pe("putAttachment",function(t,r,n,i,a){var s=this;typeof a=="function"&&(a=i,i=n,n=null),typeof a>"u"&&(a=i,i=n,n=null),a||He("warn","Attachment",r,"on document",t,"is missing content_type");function o(u){var d="_rev"in u?parseInt(u._rev,10):0;return u._attachments=u._attachments||{},u._attachments[r]={content_type:a,data:i,revpos:++d},s.put(u)}return s.get(t).then(function(u){if(u._rev!==n)throw Y(Ot);return o(u)},function(u){if(u.reason===je.message)return o({_id:t});throw u})}).bind(this),this.removeAttachment=pe("removeAttachment",function(t,r,n,i){this.get(t,(a,s)=>{if(a){i(a);return}if(s._rev!==n){i(Y(Ot));return}if(!s._attachments)return i();delete s._attachments[r],Object.keys(s._attachments).length===0&&delete s._attachments,this.put(s,i)})}).bind(this),this.remove=pe("remove",function(t,r,n,i){var a;typeof r=="string"?(a={_id:t,_rev:r},typeof n=="function"&&(i=n,n={})):(a=t,typeof r=="function"?(i=r,n={}):(i=n,n=r)),n=n||{},n.was_delete=!0;var s={_id:a._id,_rev:a._rev||n.rev};if(s._deleted=!0,dt(s._id)&&typeof this._removeLocal=="function")return this._removeLocal(a,i);this.bulkDocs({docs:[s]},n,_n(i,s._id))}).bind(this),this.revsDiff=pe("revsDiff",function(t,r,n){typeof r=="function"&&(n=r,r={});var i=Object.keys(t);if(!i.length)return n(null,{});var a=0,s=new Map;function o(d,x){s.has(d)||s.set(d,{missing:[]}),s.get(d).missing.push(x)}function u(d,x){var f=t[d].slice(0);vt(x,function(v,y,A,E,g){var p=y+"-"+A,h=f.indexOf(p);h!==-1&&(f.splice(h,1),g.status!=="available"&&o(d,p))}),f.forEach(function(v){o(d,v)})}i.forEach(function(d){this._getRevisionTree(d,function(x,f){if(x&&x.status===404&&x.message==="missing")s.set(d,{missing:t[d]});else{if(x)return n(x);u(d,f)}if(++a===i.length){var v={};return s.forEach(function(y,A){v[A]=y}),n(null,v)}})},this)}).bind(this),this.bulkGet=pe("bulkGet",function(t,r){Ga(this,t,r)}).bind(this),this.compactDocument=pe("compactDocument",function(t,r,n){this._getRevisionTree(t,(i,a)=>{if(i)return n(i);var s=zu(a),o=[],u=[];Object.keys(s).forEach(function(d){s[d]>r&&o.push(d)}),vt(a,function(d,x,f,v,y){var A=x+"-"+f;y.status==="available"&&o.indexOf(A)!==-1&&u.push(A)}),this._doCompaction(t,u,n)})}).bind(this),this.compact=pe("compact",function(t,r){typeof t=="function"&&(r=t,t={}),t=t||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:t,callback:r}),this._compactionQueue.length===1&&as(this)}).bind(this),this.get=pe("get",function(t,r,n){if(typeof r=="function"&&(n=r,r={}),r=r||{},typeof t!="string")return n(Y(Qa));if(dt(t)&&typeof this._getLocal=="function")return this._getLocal(t,n);var i=[];const a=()=>{var u=[],d=i.length;if(!d)return n(null,u);i.forEach(x=>{this.get(t,{rev:x,revs:r.revs,latest:r.latest,attachments:r.attachments,binary:r.binary},function(f,v){if(f)u.push({missing:x});else{for(var y,A=0,E=u.length;A<E;A++)if(u[A].ok&&u[A].ok._rev===v._rev){y=!0;break}y||u.push({ok:v})}d--,d||n(null,u)})})};if(r.open_revs){if(r.open_revs==="all")this._getRevisionTree(t,function(u,d){if(u)return n(u);i=C0(d).map(function(x){return x.rev}),a()});else if(Array.isArray(r.open_revs)){i=r.open_revs;for(var s=0;s<i.length;s++){var o=i[s];if(!mn(o))return n(Y(or))}a()}else return n(Y(h0,"function_clause"));return}return this._get(t,r,(u,d)=>{if(u)return u.docId=t,n(u);var x=d.doc,f=d.metadata,v=d.ctx;if(r.conflicts){var y=B0(f);y.length&&(x._conflicts=y)}if(Ze(f,x._rev)&&(x._deleted=!0),r.revs||r.revs_info){for(var A=x._rev.split("-"),E=parseInt(A[0],10),g=A[1],p=rs(f.rev_tree),h=null,c=0;c<p.length;c++){var l=p[c];const S=l.ids.findIndex(j=>j.id===g);var _=S===E-1;(_||!h&&S!==-1)&&(h=l)}if(!h)return u=new Error("invalid rev tree"),u.docId=t,n(u);const D=x._rev.split("-")[1],R=h.ids.findIndex(S=>S.id===D)+1;var m=h.ids.length-R;if(h.ids.splice(R,m),h.ids.reverse(),r.revs&&(x._revisions={start:h.pos+h.ids.length-1,ids:h.ids.map(function(S){return S.id})}),r.revs_info){var B=h.pos+h.ids.length;x._revs_info=h.ids.map(function(S){return B--,{rev:B+"-"+S.id,status:S.opts.status}})}}if(r.attachments&&x._attachments){var b=x._attachments,k=Object.keys(b).length;if(k===0)return n(null,x);Object.keys(b).forEach(D=>{this._getAttachment(x._id,D,b[D],{binary:r.binary,metadata:f,ctx:v},function(R,S){var j=x._attachments[D];j.data=S,delete j.stub,delete j.length,--k||n(null,x)})})}else{if(x._attachments)for(var C in x._attachments)Object.prototype.hasOwnProperty.call(x._attachments,C)&&(x._attachments[C].stub=!0);n(null,x)}})}).bind(this),this.getAttachment=pe("getAttachment",function(t,r,n,i){n instanceof Function&&(i=n,n={}),this._get(t,n,(a,s)=>{if(a)return i(a);if(s.doc._attachments&&s.doc._attachments[r])n.ctx=s.ctx,n.binary=!0,n.metadata=s.metadata,this._getAttachment(t,r,s.doc._attachments[r],n,i);else return i(Y(je))})}).bind(this),this.allDocs=pe("allDocs",function(t,r){if(typeof t=="function"&&(r=t,t={}),t.skip=typeof t.skip<"u"?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return r(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(i){return i in t})[0];if(n){r(Y(lu,"Query parameter `"+n+"` is not compatible with multi-get"));return}if(!Xe(this)&&(Mu(t),t.keys.length===0))return this._allDocs({limit:0},r)}return this._allDocs(t,r)}).bind(this),this.close=pe("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}).bind(this),this.info=pe("info",function(t){this._info((r,n)=>{if(r)return t(r);n.db_name=n.db_name||this.name,n.auto_compaction=!!(this.auto_compaction&&!Xe(this)),n.adapter=this.adapter,t(null,n)})}).bind(this),this.id=pe("id",function(t){return this._id(t)}).bind(this),this.bulkDocs=pe("bulkDocs",function(t,r,n){if(typeof r=="function"&&(n=r,r={}),r=r||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(Y(cu));for(var i=0;i<t.docs.length;++i){const u=t.docs[i];if(yn(u))return n(Y(gn));if("_rev"in u&&!mn(u._rev))return n(Y(or))}var a;if(t.docs.forEach(function(u){u._attachments&&Object.keys(u._attachments).forEach(function(d){a=a||Ku(d),u._attachments[d].content_type||He("warn","Attachment",d,"on document",u._id,"is missing content_type")})}),a)return n(Y(br,a));"new_edits"in r||("new_edits"in t?r.new_edits=t.new_edits:r.new_edits=!0);var s=this;!r.new_edits&&!Xe(s)&&t.docs.sort(Hu),$u(t.docs);var o=t.docs.map(function(u){return u._id});this._bulkDocs(t,r,function(u,d){if(u)return n(u);if(r.new_edits||(d=d.filter(function(v){return v.error})),!Xe(s))for(var x=0,f=d.length;x<f;x++)d[x].id=d[x].id||o[x];n(null,d)})}).bind(this),this.registerDependentDatabase=pe("registerDependentDatabase",function(t,r){var n=me(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(t,n);function a(s){return s.dependentDbs=s.dependentDbs||{},s.dependentDbs[t]?!1:(s.dependentDbs[t]=!0,s)}pr(this,"_local/_pouch_dependentDbs",a).then(function(){r(null,{db:i})}).catch(r)}).bind(this),this.destroy=pe("destroy",function(t,r){typeof t=="function"&&(r=t,t={});var n="use_prefix"in this?this.use_prefix:!0;const i=()=>{this._destroy(t,(a,s)=>{if(a)return r(a);this._destroyed=!0,this.emit("destroyed"),r(null,s||{ok:!0})})};if(Xe(this))return i();this.get("_local/_pouch_dependentDbs",(a,s)=>{if(a)return a.status!==404?r(a):i();var o=s.dependentDbs,u=this.constructor,d=Object.keys(o).map(x=>{var f=n?x.replace(new RegExp("^"+u.prefix),""):x;return new u(f,this.__opts).destroy()});Promise.all(d).then(i,r)})}).bind(this)}_compact(t,r){var n={return_docs:!1,last_seq:t.last_seq||0,since:t.last_seq||0},i=[],a,s=0;const o=x=>{this.activeTasks.update(a,{completed_items:++s}),i.push(this.compactDocument(x.id,0))},u=x=>{this.activeTasks.remove(a,x),r(x)},d=x=>{var f=x.last_seq;Promise.all(i).then(()=>pr(this,"_local/compaction",v=>!v.last_seq||v.last_seq<f?(v.last_seq=f,v):!1)).then(()=>{this.activeTasks.remove(a),r(null,{ok:!0})}).catch(u)};this.info().then(x=>{a=this.activeTasks.add({name:"database_compaction",total_items:x.update_seq-n.last_seq}),this.changes(n).on("change",o).on("complete",d).on("error",u)})}changes(t,r){return typeof t=="function"&&(r=t,t={}),t=t||{},t.return_docs="return_docs"in t?t.return_docs:!t.live,new Nu(this,t,r)}type(){return typeof this._type=="function"?this._type():this.adapter}}ss.prototype.purge=pe("_purge",function(e,t,r){if(typeof this._purge>"u")return r(Y(h0,"Purge is not implemented in the "+this.adapter+" adapter."));var n=this;n._getRevisionTree(e,(i,a)=>{if(i)return r(i);if(!a)return r(Y(je));let s;try{s=Fu(a,t)}catch(o){return r(o.message||o)}n._purge(e,s,(o,u)=>{if(o)return r(o);Uu(n,e,t).then(function(){return r(null,u)})})})});class Gu{constructor(){this.isReady=!1,this.failed=!1,this.queue=[]}execute(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()}fail(t){this.failed=t,this.execute()}ready(t){this.isReady=!0,this.db=t,this.execute()}addTask(t){this.queue.push(t),this.failed&&this.execute()}}function Qu(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=V.adapters,i=V.preferredAdapters,a=V.prefix,s=t.adapter;if(!s)for(var o=0;o<i.length;++o){if(s=i[o],s==="idb"&&"websql"in n&&vr()&&localStorage["_pouch__websqldb_"+a+e]){He("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var u=n[s],d=u&&"use_prefix"in u?u.use_prefix:!0;return{name:d?a+e:e,adapter:s}}function Xu(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e}})}function os(e,t){let r=function(...n){if(!(this instanceof r))return new r(...n);t.apply(this,n)};return Xu(r,e),r}function Vu(e){function t(n){e.removeListener("closed",r),n||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)}class Hi extends ss{constructor(t,r){super(),this._setup(t,r)}_setup(t,r){if(super._setup(),r=r||{},t&&typeof t=="object"&&(r=t,t=r.name,delete r.name),r.deterministic_revs===void 0&&(r.deterministic_revs=!0),this.__opts=r=me(r),this.auto_compaction=r.auto_compaction,this.purged_infos_limit=r.purged_infos_limit||1e3,this.prefix=V.prefix,typeof t!="string")throw new Error("Missing/invalid DB name");var n=(r.prefix||"")+t,i=Qu(n,r);if(r.name=i.name,r.adapter=r.adapter||i.adapter,this.name=t,this._adapter=r.adapter,V.emit("debug",["adapter","Picked adapter: ",r.adapter]),!V.adapters[r.adapter]||!V.adapters[r.adapter].valid())throw new Error("Invalid Adapter: "+r.adapter);if(r.view_adapter&&(!V.adapters[r.view_adapter]||!V.adapters[r.view_adapter].valid()))throw new Error("Invalid View Adapter: "+r.view_adapter);this.taskqueue=new Gu,this.adapter=r.adapter,V.adapters[r.adapter].call(this,r,a=>{if(a)return this.taskqueue.fail(a);Vu(this),this.emit("created",this),V.emit("created",this.name),this.taskqueue.ready(this)})}}const V=os(Hi,function(e,t){Hi.prototype._setup.call(this,e,t)});var cs=fetch,Ft=Headers;class Yu{constructor(){this.tasks={}}list(){return Object.values(this.tasks)}add(t){const r=d0();return this.tasks[r]={id:r,name:t.name,total_items:t.total_items,created_at:new Date().toJSON()},r}get(t){return this.tasks[t]}remove(t,r){return delete this.tasks[t],this.tasks}update(t,r){const n=this.tasks[t];if(typeof n<"u"){const i={id:n.id,name:n.name,created_at:n.created_at,total_items:r.total_items||n.total_items,completed_items:r.completed_items||n.completed_items,updated_at:new Date().toJSON()};this.tasks[t]=i}return this.tasks}}V.adapters={};V.preferredAdapters=[];V.prefix="_pouch_";var zi=new rt;function Ju(e){Object.keys(rt.prototype).forEach(function(r){typeof rt.prototype[r]=="function"&&(e[r]=zi[r].bind(zi))});var t=e._destructionListeners=new Map;e.on("ref",function(n){t.has(n.name)||t.set(n.name,[]),t.get(n.name).push(n)}),e.on("unref",function(n){if(t.has(n.name)){var i=t.get(n.name),a=i.indexOf(n);a<0||(i.splice(a,1),i.length>1?t.set(n.name,i):t.delete(n.name))}}),e.on("destroyed",function(n){if(t.has(n)){var i=t.get(n);t.delete(n),i.forEach(function(a){a.emit("destroyed",!0)})}})}Ju(V);V.adapter=function(e,t,r){t.valid()&&(V.adapters[e]=t,r&&V.preferredAdapters.push(e))};V.plugin=function(e){if(typeof e=="function")e(V);else{if(typeof e!="object"||Object.keys(e).length===0)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){V.prototype[t]=e[t]})}return this.__defaults&&(V.__defaults=Object.assign({},this.__defaults)),V};V.defaults=function(e){let t=os(V,function(r,n){n=n||{},r&&typeof r=="object"&&(n=r,r=n.name,delete n.name),n=Object.assign({},t.__defaults,n),V.call(this,r,n)});return t.preferredAdapters=V.preferredAdapters.slice(),Object.keys(V).forEach(function(r){r in t||(t[r]=V[r])}),t.__defaults=Object.assign({},this.__defaults,e),t};V.fetch=function(e,t){return cs(e,t)};V.prototype.activeTasks=V.activeTasks=new Yu;var Zu="9.0.0";function w0(e,t){for(var r=e,n=0,i=t.length;n<i;n++){var a=t[n];if(r=r[a],!r)break}return r}function ef(e,t){return e<t?-1:e>t?1:0}function b0(e){for(var t=[],r="",n=0,i=e.length;n<i;n++){var a=e[n];n>0&&e[n-1]==="\\"&&(a==="$"||a===".")?r=r.substring(0,r.length-1)+a:a==="."?(t.push(r),r=""):r+=a}return t.push(r),t}var tf=["$or","$nor","$not"];function us(e){return tf.indexOf(e)>-1}function fs(e){return Object.keys(e)[0]}function rf(e){return e[fs(e)]}function Qt(e){var t={},r={$or:!0,$nor:!0};return e.forEach(function(n){Object.keys(n).forEach(function(i){var a=n[i];if(typeof a!="object"&&(a={$eq:a}),us(i))if(a instanceof Array){if(r[i]){r[i]=!1,t[i]=a;return}var s=[];t[i].forEach(function(u){Object.keys(a).forEach(function(d){var x=a[d],f=Math.max(Object.keys(u).length,Object.keys(x).length),v=Qt([u,x]);Object.keys(v).length<=f||s.push(v)})}),t[i]=s}else t[i]=Qt([a]);else{var o=t[i]=t[i]||{};Object.keys(a).forEach(function(u){var d=a[u];if(u==="$gt"||u==="$gte")return nf(u,d,o);if(u==="$lt"||u==="$lte")return af(u,d,o);if(u==="$ne")return sf(d,o);if(u==="$eq")return of(d,o);if(u==="$regex")return cf(d,o);o[u]=d})}})}),t}function nf(e,t,r){typeof r.$eq<"u"||(typeof r.$gte<"u"?e==="$gte"?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):typeof r.$gt<"u"?e==="$gte"?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}function af(e,t,r){typeof r.$eq<"u"||(typeof r.$lte<"u"?e==="$lte"?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):typeof r.$lt<"u"?e==="$lte"?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}function sf(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function of(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function cf(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}function ls(e){for(var t in e){if(Array.isArray(e))for(var r in e)e[r].$and&&(e[r]=Qt(e[r].$and));var n=e[t];typeof n=="object"&&ls(n)}return e}function ds(e,t){for(var r in e){r==="$and"&&(t=!0);var n=e[r];typeof n=="object"&&(t=ds(n,t))}return t}function uf(e){var t=me(e);ds(t,!1)&&(t=ls(t),"$and"in t&&(t=Qt(t.$and))),["$or","$nor"].forEach(function(s){s in t&&t[s].forEach(function(o){for(var u=Object.keys(o),d=0;d<u.length;d++){var x=u[d],f=o[x];(typeof f!="object"||f===null)&&(o[x]={$eq:f})}})}),"$not"in t&&(t.$not=Qt([t.$not]));for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n],a=t[i];(typeof a!="object"||a===null)&&(a={$eq:a}),t[i]=a}return Un(t),t}function Un(e){Object.keys(e).forEach(function(t){var r=e[t];Array.isArray(r)?r.forEach(function(n){n&&typeof n=="object"&&Un(n)}):t==="$ne"?e.$ne=[r]:t==="$regex"?e.$regex=[r]:r&&typeof r=="object"&&Un(r)})}function ff(e,t,r){for(var n="",i=r-e.length;n.length<i;)n+=t;return n}function lf(e,t,r){var n=ff(e,t,r);return n+e}var hs=-324,Kn=3,Wn="";function ge(e,t){if(e===t)return 0;e=pt(e),t=pt(t);var r=Gn(e),n=Gn(t);if(r-n!==0)return r-n;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return gf(e,t)}return Array.isArray(e)?pf(e,t):_f(e,t)}function pt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=pt(t[n])}else{if(e instanceof Date)return e.toJSON();if(e!==null){e={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i];typeof a<"u"&&(e[i]=pt(a))}}}}return e}function df(e){if(e!==null)switch(typeof e){case"boolean":return e?1:0;case"number":return yf(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,i=r.length,a="";if(t)for(;++n<i;)a+=Me(r[n]);else for(;++n<i;){var s=r[n];a+=Me(s)+Me(e[s])}return a}return""}function Me(e){var t="\0";return e=pt(e),Gn(e)+Wn+df(e)+t}function hf(e,t){var r=t,n,i=e[t]==="1";if(i)n=0,t++;else{var a=e[t]==="0";t++;var s="",o=e.substring(t,t+Kn),u=parseInt(o,10)+hs;for(a&&(u=-u),t+=Kn;;){var d=e[t];if(d==="\0")break;s+=d,t++}s=s.split("."),s.length===1?n=parseInt(s,10):n=parseFloat(s[0]+"."+s[1]),a&&(n=n-10),u!==0&&(n=parseFloat(n+"e"+u))}return{num:n,length:t-r}}function xf(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var i=n.element,a=n.index;if(Array.isArray(i))i.push(r);else if(a===e.length-2){var s=e.pop();i[s]=r}else e.push(r)}}function vf(e){for(var t=[],r=[],n=0;;){var i=e[n++];if(i==="\0"){if(t.length===1)return t.pop();xf(t,r);continue}switch(i){case"1":t.push(null);break;case"2":t.push(e[n]==="1"),n++;break;case"3":var a=hf(e,n);t.push(a.num),n+=a.length;break;case"4":for(var s="";;){var o=e[n];if(o==="\0")break;s+=o,n++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var u={element:[],index:t.length};t.push(u.element),r.push(u);break;case"6":var d={element:{},index:t.length};t.push(d.element),r.push(d);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}}}function pf(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=ge(e[n],t[n]);if(i!==0)return i}return e.length===t.length?0:e.length>t.length?1:-1}function gf(e,t){return e===t?0:e>t?1:-1}function _f(e,t){for(var r=Object.keys(e),n=Object.keys(t),i=Math.min(r.length,n.length),a=0;a<i;a++){var s=ge(r[a],n[a]);if(s!==0||(s=ge(e[r[a]],t[n[a]]),s!==0))return s}return r.length===n.length?0:r.length>n.length?1:-1}function Gn(e){var t=["boolean","number","string","object"],r=t.indexOf(typeof e);if(~r)return e===null?1:Array.isArray(e)?5:r<3?r+2:r+3;if(Array.isArray(e))return 5}function yf(e){if(e===0)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,i=n?"0":"2",a=(n?-r:r)-hs,s=lf(a.toString(),"0",Kn);i+=Wn+s;var o=Math.abs(parseFloat(t[0]));n&&(o=10-o);var u=o.toFixed(20);return u=u.replace(/\.?0+$/,""),i+=Wn+u,i}function mf(e){function t(r){return e.map(function(n){var i=fs(n),a=b0(i),s=w0(r,a);return s})}return function(r,n){var i=t(r.doc),a=t(n.doc),s=ge(i,a);return s!==0?s:ef(r.doc._id,n.doc._id)}}function Af(e,t,r){if(e=e.filter(function(s){return St(s.doc,t.selector,r)}),t.sort){var n=mf(t.sort);e=e.sort(n),typeof t.sort[0]!="string"&&rf(t.sort[0])==="desc"&&(e=e.reverse())}if("limit"in t||"skip"in t){var i=t.skip||0,a=("limit"in t?t.limit:e.length)+i;e=e.slice(i,a)}return e}function St(e,t,r){return r.every(function(n){var i=t[n],a=b0(n),s=w0(e,a);return us(n)?Ef(n,i,e):gr(i,e,a,s)})}function gr(e,t,r,n){return e?typeof e=="object"?Object.keys(e).every(function(i){var a=e[i];if(i.indexOf("$")===0)return Mi(i,t,a,r,n);var s=b0(i);if(n===void 0&&typeof a!="object"&&s.length>0)return!1;var o=w0(n,s);return typeof a=="object"?gr(a,t,r,o):Mi("$eq",t,a,s,o)}):e===n:!0}function Ef(e,t,r){return e==="$or"?t.some(function(n){return St(r,n,Object.keys(n))}):e==="$not"?!St(r,t,Object.keys(t)):!t.find(function(n){return St(r,n,Object.keys(n))})}function Mi(e,t,r,n,i){if(!Ki[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return Ki[e](t,r,n,i)}function jt(e){return typeof e<"u"&&e!==null}function st(e){return typeof e<"u"}function Cf(e,t){if(typeof e!="number"||parseInt(e,10)!==e)return!1;var r=t[0],n=t[1];return e%r===n}function Ui(e,t){return t.some(function(r){return e instanceof Array?e.some(function(n){return ge(r,n)===0}):ge(r,e)===0})}function Bf(e,t){return t.every(function(r){return e.some(function(n){return ge(r,n)===0})})}function wf(e,t){return e.length===t}function bf(e,t){var r=new RegExp(t);return r.test(e)}function Df(e,t){switch(t){case"null":return e===null;case"boolean":return typeof e=="boolean";case"number":return typeof e=="number";case"string":return typeof e=="string";case"array":return e instanceof Array;case"object":return{}.toString.call(e)==="[object Object]"}}var Ki={$elemMatch:function(e,t,r,n){return!Array.isArray(n)||n.length===0?!1:typeof n[0]=="object"&&n[0]!==null?n.some(function(i){return St(i,t,Object.keys(t))}):n.some(function(i){return gr(t,e,r,i)})},$allMatch:function(e,t,r,n){return!Array.isArray(n)||n.length===0?!1:typeof n[0]=="object"&&n[0]!==null?n.every(function(i){return St(i,t,Object.keys(t))}):n.every(function(i){return gr(t,e,r,i)})},$eq:function(e,t,r,n){return st(n)&&ge(n,t)===0},$gte:function(e,t,r,n){return st(n)&&ge(n,t)>=0},$gt:function(e,t,r,n){return st(n)&&ge(n,t)>0},$lte:function(e,t,r,n){return st(n)&&ge(n,t)<=0},$lt:function(e,t,r,n){return st(n)&&ge(n,t)<0},$exists:function(e,t,r,n){return t?st(n):!st(n)},$mod:function(e,t,r,n){return jt(n)&&Cf(n,t)},$ne:function(e,t,r,n){return t.every(function(i){return ge(n,i)!==0})},$in:function(e,t,r,n){return jt(n)&&Ui(n,t)},$nin:function(e,t,r,n){return jt(n)&&!Ui(n,t)},$size:function(e,t,r,n){return jt(n)&&Array.isArray(n)&&wf(n,t)},$all:function(e,t,r,n){return Array.isArray(n)&&Bf(n,t)},$regex:function(e,t,r,n){return jt(n)&&typeof n=="string"&&t.every(function(i){return bf(n,i)})},$type:function(e,t,r,n){return Df(n,t)}};function Ff(e,t){if(typeof t!="object")throw new Error("Selector error: expected a JSON object");t=uf(t);var r={doc:e},n=Af([r],{selector:t},Object.keys(t));return n&&n.length===1}function Sf(e){return p0(`"use strict";
return `+e+";",{})}function kf(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return p0(t,{})}function Of(e,t){if(e.selector&&e.filter&&e.filter!=="_selector"){var r=typeof e.filter=="string"?e.filter:"function";return t(new Error('selector invalid for filter "'+r+'"'))}t()}function Pf(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&typeof e.filter=="string"&&(e.filter==="_view"?e.view=Li(e.view):e.filter=Li(e.filter))}function Rf(e,t){return t.filter&&typeof t.filter=="string"&&!t.doc_ids&&!Xe(e.db)}function qf(e,t){var r=t.complete;if(t.filter==="_view"){if(!t.view||typeof t.view!="string"){var n=Y(br,"`view` filter parameter not found or invalid.");return r(n)}var i=Mn(t.view);e.db.get("_design/"+i[0],function(s,o){if(e.isCancelled)return r(null,{status:"cancelled"});if(s)return r(Pt(s));var u=o&&o.views&&o.views[i[1]]&&o.views[i[1]].map;if(!u)return r(Y(je,o.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=kf(u),e.doChanges(t)})}else if(t.selector)t.filter=function(s){return Ff(s,t.selector)},e.doChanges(t);else{var a=Mn(t.filter);e.db.get("_design/"+a[0],function(s,o){if(e.isCancelled)return r(null,{status:"cancelled"});if(s)return r(Pt(s));var u=o&&o.filters&&o.filters[a[1]];if(!u)return r(Y(je,o&&o.filters?"missing json key: "+a[1]:"missing json key: filters"));t.filter=Sf(u),e.doChanges(t)})}}function Tf(e){e._changesFilterPlugin={validate:Of,normalize:Pf,shouldFilter:Rf,filter:qf}}V.plugin(Tf);V.version=Zu;function Lf(e,t,r){return new Promise(function(n){var i=_0([""]);let a;{const s=r;a=e.objectStore(t).put(i,s)}a.onsuccess=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),o=navigator.userAgent.match(/Edge\//);n(o||!s||parseInt(s[1],10)>=43)},a.onerror=e.onabort=function(s){s.preventDefault(),s.stopPropagation(),n(!1)}}).catch(function(){return!1})}function xs(e){return e.reduce(function(t,r){return t[r]=!0,t},{})}var If=xs(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),jf=xs(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Wi(e){if(!/^\d+-/.test(e))return Y(or);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function Nf(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,i=[n[0],t,[]],a=1,s=n.length;a<s;a++)i=[n[a],{status:"missing"},[i]];return[{pos:r,ids:i}]}function vs(e,t,r){r||(r={deterministic_revs:!0});var n,i,a,s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=Dr()),i=ts(e,r.deterministic_revs),e._rev){if(a=Wi(e._rev),a.error)return a;e._rev_tree=[{pos:a.prefix,ids:[a.id,{status:"missing"},[[i,s,[]]]]}],n=a.prefix+1}else e._rev_tree=[{pos:1,ids:[i,s,[]]}],n=1;else if(e._revisions&&(e._rev_tree=Nf(e._revisions,s),n=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if(a=Wi(e._rev),a.error)return a;n=a.prefix,i=a.id,e._rev_tree=[{pos:n,ids:[i,s,[]]}]}Va(e._id),e._rev=n+"-"+i;var o={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var d=u[0]==="_";if(d&&!If[u]){var x=Y(Ti,u);throw x.message=Ti.message+": "+u,x}else d&&!jf[u]?o.metadata[u.slice(1)]=e[u]:o.data[u]=e[u]}return o}function $f(e){try{return g0(e)}catch{var t=Y(Xa,"Attachment is not a valid base64 string");return{error:t}}}function Hf(e,t,r){var n=$f(e.data);if(n.error)return r(n.error);e.length=n.length,t==="blob"?e.data=y0(n,e.content_type):t==="base64"?e.data=er(n):e.data=n,E0(n,function(i){e.digest="md5-"+i,r()})}function zf(e,t,r){E0(e.data,function(n){e.digest="md5-"+n,e.length=e.data.size||e.data.length||0,t==="binary"?Za(e.data,function(i){e.data=i,r()}):t==="base64"?A0(e.data,function(i){e.data=i,r()}):r()})}function Mf(e,t,r){if(e.stub)return r();typeof e.data=="string"?Hf(e,t,r):zf(e,t,r)}function Uf(e,t,r){if(!e.length)return r();var n=0,i;e.forEach(function(s){var o=s.data&&s.data._attachments?Object.keys(s.data._attachments):[],u=0;if(!o.length)return a();function d(f){i=f,u++,u===o.length&&a()}for(var x in s.data._attachments)Object.prototype.hasOwnProperty.call(s.data._attachments,x)&&Mf(s.data._attachments[x],t,d)});function a(){n++,e.length===n&&(i?r(i):r())}}function Kf(e,t,r,n,i,a,s,o){if(qu(t.rev_tree,r.metadata.rev)&&!o)return n[i]=r,a();var u=t.winningRev||xt(t),d="deleted"in t?t.deleted:Ze(t,u),x="deleted"in r.metadata?r.metadata.deleted:Ze(r.metadata),f=/^1-/.test(r.metadata.rev);if(d&&!x&&o&&f){var v=r.data;v._rev=u,v._id=r.metadata.id,r=vs(v,o)}var y=is(t.rev_tree,r.metadata.rev_tree[0],e),A=o&&(d&&x&&y.conflicts!=="new_leaf"||!d&&y.conflicts!=="new_leaf"||d&&!x&&y.conflicts==="new_branch");if(A){var E=Y(Ot);return n[i]=E,a()}var g=r.metadata.rev;r.metadata.rev_tree=y.tree,r.stemmedRevs=y.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var p=xt(r.metadata),h=Ze(r.metadata,p),c=d===h?0:d<h?-1:1,l;g===p?l=h:l=Ze(r.metadata,g),s(r,p,h,l,!0,c,i,a)}function Wf(e){return e.metadata.rev_tree[0].ids[1].status==="missing"}function Gf(e,t,r,n,i,a,s,o,u){e=e||1e3;function d(E,g,p){var h=xt(E.metadata),c=Ze(E.metadata,h);if("was_delete"in o&&c)return a[g]=Y(je,"deleted"),p();var l=x&&Wf(E);if(l){var _=Y(Ot);return a[g]=_,p()}var m=c?0:1;s(E,h,c,c,!1,m,g,p)}var x=o.new_edits,f=new Map,v=0,y=t.length;function A(){++v===y&&u&&u()}t.forEach(function(E,g){if(E._id&&dt(E._id)){var p=E._deleted?"_removeLocal":"_putLocal";r[p](E,{ctx:i},function(c,l){a[g]=c||l,A()});return}var h=E.metadata.id;f.has(h)?(y--,f.get(h).push([E,g])):f.set(h,[[E,g]])}),f.forEach(function(E,g){var p=0;function h(){++p<E.length?c():A()}function c(){var l=E[p],_=l[0],m=l[1];if(n.has(g))Kf(e,n.get(g),_,a,m,h,s,x);else{var B=is([],_.metadata.rev_tree[0],e);_.metadata.rev_tree=B.tree,_.stemmedRevs=B.stemmedRevs||[],d(_,m,h)}}c()})}var Qf=5,_e="document-store",De="by-sequence",Ne="attach-store",ft="attach-seq-store",Pe="meta-store",We="local-store",An="detect-blob-support";function Xf(e){try{return JSON.parse(e)}catch{return wr.parse(e)}}function Vf(e){try{return JSON.stringify(e)}catch{return wr.stringify(e)}}function Ge(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(Y(x0,r,t.type))}}function Qn(e,t,r){return{data:Vf(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function lt(e){if(!e)return null;var t=Xf(e.data);return t.winningRev=e.winningRev,t.deleted=e.deletedOrLocal==="1",t.seq=e.seq,t}function _r(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function ps(e,t,r,n){r?n(e?typeof e!="string"?e:m0(e,t):_0([""],{type:t})):e?typeof e!="string"?Ja(e,function(i){n(er(i))}):n(e):n("")}function gs(e,t,r,n){var i=Object.keys(e._attachments||{});if(!i.length)return n&&n();var a=0;function s(){++a===i.length&&n&&n()}function o(u,d){var x=u._attachments[d],f=x.digest,v=r.objectStore(Ne).get(f);v.onsuccess=function(y){x.body=y.target.result.body,s()}}i.forEach(function(u){t.attachments&&t.include_docs?o(e,u):(e._attachments[u].stub=!0,s())})}function Xn(e,t){return Promise.all(e.map(function(r){if(r.doc&&r.doc._attachments){var n=Object.keys(r.doc._attachments);return Promise.all(n.map(function(i){var a=r.doc._attachments[i];if("body"in a){var s=a.body,o=a.content_type;return new Promise(function(u){ps(s,o,t,function(d){r.doc._attachments[i]=Object.assign(Zt(a,["digest","content_type"]),{data:d}),u()})})}}))}}))}function _s(e,t,r){var n=[],i=r.objectStore(De),a=r.objectStore(Ne),s=r.objectStore(ft),o=e.length;function u(){o--,o||d()}function d(){n.length&&n.forEach(function(x){var f=s.index("digestSeq").count(IDBKeyRange.bound(x+"::",x+"::￿",!1,!1));f.onsuccess=function(v){var y=v.target.result;y||a.delete(x)}})}e.forEach(function(x){var f=i.index("_doc_id_rev"),v=t+"::"+x;f.getKey(v).onsuccess=function(y){var A=y.target.result;if(typeof A!="number")return u();i.delete(A);var E=s.index("seq").openCursor(IDBKeyRange.only(A));E.onsuccess=function(g){var p=g.target.result;if(p){var h=p.value.digestSeq.split("::")[0];n.push(h),s.delete(p.primaryKey),p.continue()}else u()}}})}function Ue(e,t,r){try{return{txn:e.transaction(t,r)}}catch(n){return{error:n}}}var zt=new au;function Yf(e,t,r,n,i,a){for(var s=t.docs,o,u,d,x,f,v,y,A,E=0,g=s.length;E<g;E++){var p=s[E];p._id&&dt(p._id)||(p=s[E]=vs(p,r.new_edits,e),p.error&&!y&&(y=p))}if(y)return a(y);var h=!1,c=0,l=new Array(s.length),_=new Map,m=!1,B=n._meta.blobSupport?"blob":"base64";Uf(s,B,function(w){if(w)return a(w);b()});function b(){var w=[_e,De,Ne,We,ft,Pe],O=Ue(i,w,"readwrite");if(O.error)return a(O.error);o=O.txn,o.onabort=Ge(a),o.ontimeout=Ge(a),o.oncomplete=S,u=o.objectStore(_e),d=o.objectStore(De),x=o.objectStore(Ne),f=o.objectStore(ft),v=o.objectStore(Pe),v.get(Pe).onsuccess=function(T){A=T.target.result,D()},z(function(T){if(T)return m=!0,a(T);R()})}function k(){h=!0,D()}function C(){Gf(e.revs_limit,s,n,_,o,l,M,r,k)}function D(){!A||!h||(A.docCount+=c,v.put(A))}function R(){if(!s.length)return;var w=0;function O(){++w===s.length&&C()}function T($){var W=lt($.target.result);W&&_.set(W.id,W),O()}for(var L=0,H=s.length;L<H;L++){var q=s[L];if(q._id&&dt(q._id)){O();continue}var N=u.get(q.metadata.id);N.onsuccess=T}}function S(){m||(zt.notify(n._meta.name),a(null,l))}function j(w,O){var T=x.get(w);T.onsuccess=function(L){if(L.target.result)O();else{var H=Y(du,"unknown stub attachment with digest "+w);H.status=412,O(H)}}}function z(w){var O=[];if(s.forEach(function(q){q.data&&q.data._attachments&&Object.keys(q.data._attachments).forEach(function(N){var $=q.data._attachments[N];$.stub&&O.push($.digest)})}),!O.length)return w();var T=0,L;function H(){++T===O.length&&w(L)}O.forEach(function(q){j(q,function(N){N&&!L&&(L=N),H()})})}function M(w,O,T,L,H,q,N,$){w.metadata.winningRev=O,w.metadata.deleted=T;var W=w.data;W._id=w.metadata.id,W._rev=w.metadata.rev,L&&(W._deleted=!0);var G=W._attachments&&Object.keys(W._attachments).length;if(G)return F(w,O,T,H,N,$);c+=q,D(),K(w,O,T,H,N,$)}function K(w,O,T,L,H,q){var N=w.data,$=w.metadata;N._doc_id_rev=$.id+"::"+$.rev,delete N._id,delete N._rev;function W(ae){var ue=w.stemmedRevs||[];L&&n.auto_compaction&&(ue=ue.concat(Du(w.metadata))),ue&&ue.length&&_s(ue,w.metadata.id,o),$.seq=ae.target.result;var ke=Qn($,O,T),ee=u.put(ke);ee.onsuccess=ie}function G(ae){ae.preventDefault(),ae.stopPropagation();var ue=d.index("_doc_id_rev"),ke=ue.getKey(N._doc_id_rev);ke.onsuccess=function(ee){var te=d.put(N,ee.target.result);te.onsuccess=W}}function ie(){l[H]={ok:!0,id:$.id,rev:$.rev},_.set(w.metadata.id,w.metadata),P(w,$.seq,q)}var ce=d.put(N);ce.onsuccess=W,ce.onerror=G}function F(w,O,T,L,H,q){var N=w.data,$=0,W=Object.keys(N._attachments);function G(){$===W.length&&K(w,O,T,L,H,q)}function ie(){$++,G()}W.forEach(function(ce){var ae=w.data._attachments[ce];if(ae.stub)$++,G();else{var ue=ae.data;delete ae.data,ae.revpos=parseInt(O,10);var ke=ae.digest;I(ke,ue,ie)}})}function P(w,O,T){var L=0,H=Object.keys(w.data._attachments||{});if(!H.length)return T();function q(){++L===H.length&&T()}function N(W){var G=w.data._attachments[W].digest,ie=f.put({seq:O,digestSeq:G+"::"+O});ie.onsuccess=q,ie.onerror=function(ce){ce.preventDefault(),ce.stopPropagation(),q()}}for(var $=0;$<H.length;$++)N(H[$])}function I(w,O,T){var L=x.count(w);L.onsuccess=function(H){var q=H.target.result;if(q)return T();var N={digest:w,body:O},$=x.put(N);$.onsuccess=T}}}function ys(e,t,r,n,i){n===-1&&(n=1e3);var a=typeof e.getAll=="function"&&typeof e.getAllKeys=="function"&&n>1&&!r,s,o,u;function d(y){o=y.target.result,s&&i(s,o,u)}function x(y){s=y.target.result,o&&i(s,o,u)}function f(){if(!s.length)return i();var y=s[s.length-1],A;if(t&&t.upper)try{A=IDBKeyRange.bound(y,t.upper,!0,t.upperOpen)}catch(E){if(E.name==="DataError"&&E.code===0)return i()}else A=IDBKeyRange.lowerBound(y,!0);t=A,s=null,o=null,e.getAll(t,n).onsuccess=d,e.getAllKeys(t,n).onsuccess=x}function v(y){var A=y.target.result;if(!A)return i();i([A.key],[A.value],A)}a?(u={continue:f},e.getAll(t,n).onsuccess=d,e.getAllKeys(t,n).onsuccess=x):r?e.openCursor(t,"prev").onsuccess=v:e.openCursor(t).onsuccess=v}function Jf(e,t,r){if(typeof e.getAll=="function"){e.getAll(t).onsuccess=r;return}var n=[];function i(a){var s=a.target.result;s?(n.push(s.value),s.continue()):r({target:{result:n}})}e.openCursor(t).onsuccess=i}function Zf(e,t,r){var n=new Array(e.length),i=0;e.forEach(function(a,s){t.get(a).onsuccess=function(o){o.target.result?n[s]=o.target.result:n[s]={key:a,error:"not_found"},i++,i===e.length&&r(e,n,{})}})}function el(e,t,r,n,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(n)return IDBKeyRange.only(n)}catch(a){return{error:a}}return null}function tl(e,t,r){var n="startkey"in e?e.startkey:!1,i="endkey"in e?e.endkey:!1,a="key"in e?e.key:!1,s="keys"in e?e.keys:!1,o=e.skip||0,u=typeof e.limit=="number"?e.limit:-1,d=e.inclusive_end!==!1,x,f;if(!s&&(x=el(n,i,d,a,e.descending),f=x&&x.error,f&&!(f.name==="DataError"&&f.code===0)))return r(Y(x0,f.name,f.message));var v=[_e,De,Pe];e.attachments&&v.push(Ne);var y=Ue(t,v,"readonly");if(y.error)return r(y.error);var A=y.txn;A.oncomplete=R,A.onabort=Ge(r);var E=A.objectStore(_e),g=A.objectStore(De),p=A.objectStore(Pe),h=g.index("_doc_id_rev"),c=[],l,_;p.get(Pe).onsuccess=function(S){l=S.target.result.docCount},e.update_seq&&(g.openKeyCursor(null,"prev").onsuccess=S=>{var j=S.target.result;j&&j.key&&(_=j.key)});function m(S,j,z){var M=S.id+"::"+z;h.get(M).onsuccess=function(F){if(j.doc=_r(F.target.result)||{},e.conflicts){var P=B0(S);P.length&&(j.doc._conflicts=P)}gs(j.doc,e,A)}}function B(S,j){var z={id:j.id,key:j.id,value:{rev:S}},M=j.deleted;M?s&&(c.push(z),z.value.deleted=!0,z.doc=null):o--<=0&&(c.push(z),e.include_docs&&m(j,z,S))}function b(S){for(var j=0,z=S.length;j<z&&c.length!==u;j++){var M=S[j];if(M.error&&s){c.push(M);continue}var K=lt(M),F=K.winningRev;B(F,K)}}function k(S,j,z){z&&(b(j),c.length<u&&z.continue())}function C(S){var j=S.target.result;e.descending&&(j=j.reverse()),b(j)}function D(){var S={total_rows:l,offset:e.skip,rows:c};e.update_seq&&_!==void 0&&(S.update_seq=_),r(null,S)}function R(){e.attachments?Xn(c,e.binary).then(D):D()}if(!(f||u===0)){if(s)return Zf(s,E,k);if(u===-1)return Jf(E,x,C);ys(E,x,e.descending,u+o,k)}}function rl(e,t){var r=e.objectStore(_e).index("deletedOrLocal");r.count(IDBKeyRange.only("0")).onsuccess=function(n){t(n.target.result)}}var Vn=!1,Yn=[];function nl(e,t,r,n){try{e(t,r)}catch(i){n.emit("error",i)}}function Gi(){Vn||!Yn.length||(Vn=!0,Yn.shift()())}function il(e,t,r){Yn.push(function(){e(function(a,s){nl(t,a,s,r),Vn=!1,Ve(function(){Gi()})})}),Gi()}function al(e,t,r,n){if(e=me(e),e.continuous){var i=r+":"+Dr();return zt.addListener(r,i,t,e),zt.notify(r),{cancel:function(){zt.removeListener(r,i)}}}var a=e.doc_ids&&new Set(e.doc_ids);e.since=e.since||0;var s=e.since,o="limit"in e?e.limit:-1;o===0&&(o=1);var u=[],d=0,x=v0(e),f=new Map,v,y,A,E;function g(b,k,C){if(!C||!b.length)return;var D=new Array(b.length),R=new Array(b.length);function S(M,K){var F=e.processChange(K,M,e);s=F.seq=M.seq;var P=x(F);return typeof P=="object"?Promise.reject(P):P?(d++,e.return_docs&&u.push(F),e.attachments&&e.include_docs?new Promise(function(I){gs(K,e,v,function(){Xn([F],e.binary).then(function(){I(F)})})}):Promise.resolve(F)):Promise.resolve()}function j(){for(var M=[],K=0,F=D.length;K<F&&d!==o;K++){var P=D[K];if(P){var I=R[K];M.push(S(I,P))}}Promise.all(M).then(function(w){for(var O=0,T=w.length;O<T;O++)w[O]&&e.onChange(w[O])}).catch(e.complete),d!==o&&C.continue()}var z=0;k.forEach(function(M,K){var F=_r(M),P=b[K];h(F,P,function(I,w){R[K]=I,D[K]=w,++z===b.length&&j()})})}function p(b,k,C,D){if(C.seq!==k)return D();if(C.winningRev===b._rev)return D(C,b);var R=b._id+"::"+C.winningRev,S=E.get(R);S.onsuccess=function(j){D(C,_r(j.target.result))}}function h(b,k,C){if(a&&!a.has(b._id))return C();var D=f.get(b._id);if(D)return p(b,k,D,C);A.get(b._id).onsuccess=function(R){D=lt(R.target.result),f.set(b._id,D),p(b,k,D,C)}}function c(){e.complete(null,{results:u,last_seq:s})}function l(){!e.continuous&&e.attachments?Xn(u).then(c):c()}var _=[_e,De];e.attachments&&_.push(Ne);var m=Ue(n,_,"readonly");if(m.error)return e.complete(m.error);v=m.txn,v.onabort=Ge(e.complete),v.oncomplete=l,y=v.objectStore(De),A=v.objectStore(_e),E=y.index("_doc_id_rev");var B=e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null;ys(y,B,e.descending,o,g)}var Ct=new Map,En,Cn=new Map;function ms(e,t){var r=this;il(function(n){sl(r,e,n)},t,r.constructor)}function sl(e,t,r){var n=t.name,i=null,a=null;e._meta=null;function s(g){return function(p,h){p&&p instanceof Error&&!p.reason&&a&&(p.reason=a),g(p,h)}}function o(g){var p=g.createObjectStore(_e,{keyPath:"id"});g.createObjectStore(De,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),g.createObjectStore(Ne,{keyPath:"digest"}),g.createObjectStore(Pe,{keyPath:"id",autoIncrement:!1}),g.createObjectStore(An),p.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),g.createObjectStore(We,{keyPath:"_id"});var h=g.createObjectStore(ft,{autoIncrement:!0});h.createIndex("seq","seq"),h.createIndex("digestSeq","digestSeq",{unique:!0})}function u(g,p){var h=g.objectStore(_e);h.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),h.openCursor().onsuccess=function(c){var l=c.target.result;if(l){var _=l.value,m=Ze(_);_.deletedOrLocal=m?"1":"0",h.put(_),l.continue()}else p()}}function d(g){g.createObjectStore(We,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function x(g,p){var h=g.objectStore(We),c=g.objectStore(_e),l=g.objectStore(De),_=c.openCursor();_.onsuccess=function(m){var B=m.target.result;if(B){var b=B.value,k=b.id,C=dt(k),D=xt(b);if(C){var R=k+"::"+D,S=k+"::",j=k+"::~",z=l.index("_doc_id_rev"),M=IDBKeyRange.bound(S,j,!1,!1),K=z.openCursor(M);K.onsuccess=function(F){if(K=F.target.result,!K)c.delete(B.primaryKey),B.continue();else{var P=K.value;P._doc_id_rev===R&&h.put(P),l.delete(K.primaryKey),K.continue()}}}else B.continue()}else p&&p()}}function f(g){var p=g.createObjectStore(ft,{autoIncrement:!0});p.createIndex("seq","seq"),p.createIndex("digestSeq","digestSeq",{unique:!0})}function v(g,p){var h=g.objectStore(De),c=g.objectStore(Ne),l=g.objectStore(ft),_=c.count();_.onsuccess=function(m){var B=m.target.result;if(!B)return p();h.openCursor().onsuccess=function(b){var k=b.target.result;if(!k)return p();for(var C=k.value,D=k.primaryKey,R=Object.keys(C._attachments||{}),S={},j=0;j<R.length;j++){var z=C._attachments[R[j]];S[z.digest]=!0}var M=Object.keys(S);for(j=0;j<M.length;j++){var K=M[j];l.put({seq:D,digestSeq:K+"::"+D})}k.continue()}}}function y(g){function p(_){return _.data?lt(_):(_.deleted=_.deletedOrLocal==="1",_)}var h=g.objectStore(De),c=g.objectStore(_e),l=c.openCursor();l.onsuccess=function(_){var m=_.target.result;if(!m)return;var B=p(m.value);B.winningRev=B.winningRev||xt(B);function b(){var C=B.id+"::",D=B.id+"::￿",R=h.index("_doc_id_rev").openCursor(IDBKeyRange.bound(C,D)),S=0;R.onsuccess=function(j){var z=j.target.result;if(!z)return B.seq=S,k();var M=z.primaryKey;M>S&&(S=M),z.continue()}}function k(){var C=Qn(B,B.winningRev,B.deleted),D=c.put(C);D.onsuccess=function(){m.continue()}}if(B.seq)return k();b()}}e._remote=!1,e.type=function(){return"idb"},e._id=Wa(function(g){g(null,e._meta.instanceId)}),e._bulkDocs=function(p,h,c){Yf(t,p,h,e,i,s(c))},e._get=function(p,h,c){var l,_,m,B=h.ctx;if(!B){var b=Ue(i,[_e,De,Ne],"readonly");if(b.error)return c(b.error);B=b.txn}function k(){c(m,{doc:l,metadata:_,ctx:B})}B.objectStore(_e).get(p).onsuccess=function(C){if(_=lt(C.target.result),!_)return m=Y(je,"missing"),k();var D;if(h.rev)D=h.latest?Lu(h.rev,_):h.rev;else{D=_.winningRev;var R=Ze(_);if(R)return m=Y(je,"deleted"),k()}var S=B.objectStore(De),j=_.id+"::"+D;S.index("_doc_id_rev").get(j).onsuccess=function(z){if(l=z.target.result,l&&(l=_r(l)),!l)return m=Y(je,"missing"),k();k()}}},e._getAttachment=function(g,p,h,c,l){var _;if(c.ctx)_=c.ctx;else{var m=Ue(i,[_e,De,Ne],"readonly");if(m.error)return l(m.error);_=m.txn}var B=h.digest,b=h.content_type;_.objectStore(Ne).get(B).onsuccess=function(k){var C=k.target.result.body;ps(C,b,c.binary,function(D){l(null,D)})}},e._info=function(p){var h,c,l=Ue(i,[Pe,De],"readonly");if(l.error)return p(l.error);var _=l.txn;_.objectStore(Pe).get(Pe).onsuccess=function(m){c=m.target.result.docCount},_.objectStore(De).openKeyCursor(null,"prev").onsuccess=function(m){var B=m.target.result;h=B?B.key:0},_.oncomplete=function(){p(null,{doc_count:c,update_seq:h,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(p,h){tl(p,i,s(h))},e._changes=function(p){return al(p,e,n,i)},e._close=function(g){i.close(),Ct.delete(n),g()},e._getRevisionTree=function(g,p){var h=Ue(i,[_e],"readonly");if(h.error)return p(h.error);var c=h.txn,l=c.objectStore(_e).get(g);l.onsuccess=function(_){var m=lt(_.target.result);m?p(null,m.rev_tree):p(Y(je))}},e._doCompaction=function(g,p,h){var c=[_e,De,Ne,ft],l=Ue(i,c,"readwrite");if(l.error)return h(l.error);var _=l.txn,m=_.objectStore(_e);m.get(g).onsuccess=function(B){var b=lt(B.target.result);vt(b.rev_tree,function(D,R,S,j,z){var M=R+"-"+S;p.indexOf(M)!==-1&&(z.status="missing")}),_s(p,g,_);var k=b.winningRev,C=b.deleted;_.objectStore(_e).put(Qn(b,k,C))},_.onabort=Ge(h),_.oncomplete=function(){h()}},e._getLocal=function(g,p){var h=Ue(i,[We],"readonly");if(h.error)return p(h.error);var c=h.txn,l=c.objectStore(We).get(g);l.onerror=Ge(p),l.onsuccess=function(_){var m=_.target.result;m?(delete m._doc_id_rev,p(null,m)):p(Y(je))}},e._putLocal=function(g,p,h){typeof p=="function"&&(h=p,p={}),delete g._revisions;var c=g._rev,l=g._id;c?g._rev="0-"+(parseInt(c.split("-")[1],10)+1):g._rev="0-1";var _=p.ctx,m;if(!_){var B=Ue(i,[We],"readwrite");if(B.error)return h(B.error);_=B.txn,_.onerror=Ge(h),_.oncomplete=function(){m&&h(null,m)}}var b=_.objectStore(We),k;c?(k=b.get(l),k.onsuccess=function(C){var D=C.target.result;if(!D||D._rev!==c)h(Y(Ot));else{var R=b.put(g);R.onsuccess=function(){m={ok:!0,id:g._id,rev:g._rev},p.ctx&&h(null,m)}}}):(k=b.add(g),k.onerror=function(C){h(Y(Ot)),C.preventDefault(),C.stopPropagation()},k.onsuccess=function(){m={ok:!0,id:g._id,rev:g._rev},p.ctx&&h(null,m)})},e._removeLocal=function(g,p,h){typeof p=="function"&&(h=p,p={});var c=p.ctx;if(!c){var l=Ue(i,[We],"readwrite");if(l.error)return h(l.error);c=l.txn,c.oncomplete=function(){_&&h(null,_)}}var _,m=g._id,B=c.objectStore(We),b=B.get(m);b.onerror=Ge(h),b.onsuccess=function(k){var C=k.target.result;!C||C._rev!==g._rev?h(Y(je)):(B.delete(m),_={ok:!0,id:m,rev:"0-0"},p.ctx&&h(null,_))}},e._destroy=function(g,p){zt.removeAllListeners(n);var h=Cn.get(n);h&&h.result&&(h.result.close(),Ct.delete(n));var c=indexedDB.deleteDatabase(n);c.onsuccess=function(){Cn.delete(n),vr()&&n in localStorage&&delete localStorage[n],p(null,{ok:!0})},c.onerror=Ge(p)};var A=Ct.get(n);if(A)return i=A.idb,e._meta=A.global,Ve(function(){r(null,e)});var E=indexedDB.open(n,Qf);Cn.set(n,E),E.onupgradeneeded=function(g){var p=g.target.result;if(g.oldVersion<1)return o(p);var h=g.currentTarget.transaction;g.oldVersion<3&&d(p),g.oldVersion<4&&f(p);var c=[u,x,v,y],l=g.oldVersion;function _(){var m=c[l-1];l++,m&&m(h,_)}_()},E.onsuccess=function(g){i=g.target.result,i.onversionchange=function(){i.close(),Ct.delete(n)},i.onabort=function(k){He("error","Database has a global failure",k.target.error),a=k.target.error,i.close(),Ct.delete(n)};var p=i.transaction([Pe,An,_e],"readwrite"),h=!1,c,l,_,m;function B(){typeof _>"u"||!h||(e._meta={name:n,instanceId:m,blobSupport:_},Ct.set(n,{idb:i,global:e._meta}),r(null,e))}function b(){if(!(typeof l>"u"||typeof c>"u")){var k=n+"_id";k in c?m=c[k]:c[k]=m=Dr(),c.docCount=l,p.objectStore(Pe).put(c)}}p.objectStore(Pe).get(Pe).onsuccess=function(k){c=k.target.result||{id:Pe},b()},rl(p,function(k){l=k,b()}),En||(En=Lf(p,An,"key")),En.then(function(k){_=k,B()}),p.oncomplete=function(){h=!0,B()},p.onabort=Ge(r)},E.onerror=function(g){var p=g.target.error&&g.target.error.message;p?p.indexOf("stored database is a higher version")!==-1&&(p=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):p="Failed to open indexedDB, are you in private browsing mode?",He("error",p),r(Y(x0,p))}}ms.valid=function(){try{return typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}};function ol(e){e.adapter("idb",ms,!0)}function cl(e,t){return new Promise(function(r,n){var i=0,a=0,s=0,o=e.length,u;function d(){i++,e[a++]().then(f,v)}function x(){++s===o?u?n(u):r():y()}function f(){i--,x()}function v(A){i--,u=u||A,x()}function y(){for(;i<t&&a<o;)d()}y()})}const ul=25,fl=50,ir=5e3,ll=1e4,Bn={};function wn(e){const t=e.doc||e.ok,r=t&&t._attachments;r&&Object.keys(r).forEach(function(n){const i=r[n];i.data=m0(i.data,i.content_type)})}function ot(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):e.startsWith("_local/")?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function Qi(e){return!e._attachments||!Object.keys(e._attachments)?Promise.resolve():Promise.all(Object.keys(e._attachments).map(function(t){const r=e._attachments[t];if(r.data&&typeof r.data!="string")return new Promise(function(n){A0(r.data,n)}).then(function(n){r.data=n})}))}function dl(e){if(!e.prefix)return!1;const t=Ya(e.prefix).protocol;return t==="http"||t==="https"}function hl(e,t){if(dl(t)){const i=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(i)}const r=Ya(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});const n=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=n.pop(),r.db.indexOf("%")===-1&&(r.db=encodeURIComponent(r.db)),r.path=n.join("/"),r}function ye(e,t){return cr(e,e.db+"/"+t)}function cr(e,t){const r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function ar(e){const t=Object.keys(e);return t.length===0?"":"?"+t.map(r=>r+"="+encodeURIComponent(e[r])).join("&")}function xl(e){const t=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=t.indexOf("msie")!==-1,n=t.indexOf("trident")!==-1,i=t.indexOf("edge")!==-1,a=!("method"in e)||e.method==="GET";return(r||n||i)&&a}function Jn(e,t){const r=this,n=hl(e.name,e),i=ye(n,"");e=me(e);const a=async function(f,v){if(v=v||{},v.headers=v.headers||new Ft,v.credentials="include",e.auth||n.auth){const E=e.auth||n.auth,g=E.username+":"+E.password,p=er(unescape(encodeURIComponent(g)));v.headers.set("Authorization","Basic "+p)}const y=e.headers||{};return Object.keys(y).forEach(function(E){v.headers.append(E,y[E])}),xl(v)&&(f+=(f.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now()),await(e.fetch||cs)(f,v)};function s(f,v){return pe(f,function(...y){d().then(function(){return v.apply(this,y)}).catch(function(A){y.pop()(A)})}).bind(r)}async function o(f,v){const y={};v=v||{},v.headers=v.headers||new Ft,v.headers.get("Content-Type")||v.headers.set("Content-Type","application/json"),v.headers.get("Accept")||v.headers.set("Accept","application/json");const A=await a(f,v);y.ok=A.ok,y.status=A.status;const E=await A.json();if(y.data=E,!y.ok)throw y.data.status=y.status,Pt(y.data);return Array.isArray(y.data)&&(y.data=y.data.map(function(g){return g.error||g.missing?Pt(g):g})),y}let u;async function d(){return e.skip_setup?Promise.resolve():u||(u=o(i).catch(function(f){return f&&f.status&&f.status===404?(zn(404,"PouchDB is just detecting if the remote exists."),o(i,{method:"PUT"})):Promise.reject(f)}).catch(function(f){return f&&f.status&&f.status===412?!0:Promise.reject(f)}),u.catch(function(){u=null}),u)}Ve(function(){t(null,r)}),r._remote=!0,r.type=function(){return"http"},r.id=s("id",async function(f){let v;try{v=await(await a(cr(n,""))).json()}catch{v={}}const y=v&&v.uuid?v.uuid+n.db:ye(n,"");f(null,y)}),r.compact=s("compact",async function(f,v){typeof f=="function"&&(v=f,f={}),f=me(f),await o(ye(n,"_compact"),{method:"POST"});function y(){r.info(function(A,E){E&&!E.compact_running?v(null,{ok:!0}):setTimeout(y,f.interval||200)})}y()}),r.bulkGet=pe("bulkGet",function(f,v){const y=this;async function A(h){const c={};f.revs&&(c.revs=!0),f.attachments&&(c.attachments=!0),f.latest&&(c.latest=!0);try{const l=await o(ye(n,"_bulk_get"+ar(c)),{method:"POST",body:JSON.stringify({docs:f.docs})});f.attachments&&f.binary&&l.data.results.forEach(function(_){_.docs.forEach(wn)}),h(null,l.data)}catch(l){h(l)}}function E(){const h=fl,c=Math.ceil(f.docs.length/h);let l=0;const _=new Array(c);function m(B){return function(b,k){_[B]=k.results,++l===c&&v(null,{results:_.flat()})}}for(let B=0;B<c;B++){const b=Zt(f,["revs","attachments","binary","latest"]);b.docs=f.docs.slice(B*h,Math.min(f.docs.length,(B+1)*h)),Ga(y,b,m(B))}}const g=cr(n,""),p=Bn[g];typeof p!="boolean"?A(function(h,c){h?(Bn[g]=!1,zn(h.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),E()):(Bn[g]=!0,v(null,c))}):p?A(v):E()}),r._info=async function(f){try{await d();const y=await(await a(ye(n,""))).json();y.host=ye(n,""),f(null,y)}catch(v){f(v)}},r.fetch=async function(f,v){await d();const y=f.substring(0,1)==="/"?cr(n,f.substring(1)):ye(n,f);return a(y,v)},r.get=s("get",async function(f,v,y){typeof v=="function"&&(y=v,v={}),v=me(v);const A={};v.revs&&(A.revs=!0),v.revs_info&&(A.revs_info=!0),v.latest&&(A.latest=!0),v.open_revs&&(v.open_revs!=="all"&&(v.open_revs=JSON.stringify(v.open_revs)),A.open_revs=v.open_revs),v.rev&&(A.rev=v.rev),v.conflicts&&(A.conflicts=v.conflicts),v.update_seq&&(A.update_seq=v.update_seq),f=ot(f);function E(h){const c=h._attachments,l=c&&Object.keys(c);if(!c||!l.length)return;async function _(B){const b=c[B],k=ot(h._id)+"/"+x(B)+"?rev="+h._rev,C=await a(ye(n,k));let D;"buffer"in C?D=await C.buffer():D=await C.blob();let R;if(v.binary){const S=Object.getOwnPropertyDescriptor(D.__proto__,"type");(!S||S.set)&&(D.type=b.content_type),R=D}else R=await new Promise(function(S){A0(D,S)});delete b.stub,delete b.length,b.data=R}const m=l.map(function(B){return function(){return _(B)}});return cl(m,5)}function g(h){return Array.isArray(h)?Promise.all(h.map(function(c){if(c.ok)return E(c.ok)})):E(h)}const p=ye(n,f+ar(A));try{const h=await o(p);v.attachments&&await g(h.data),y(null,h.data)}catch(h){h.docId=f,y(h)}}),r.remove=s("remove",async function(f,v,y,A){let E;typeof v=="string"?(E={_id:f,_rev:v},typeof y=="function"&&(A=y,y={})):(E=f,typeof v=="function"?(A=v,y={}):(A=y,y=v));const g=E._rev||y.rev,p=ye(n,ot(E._id))+"?rev="+g;try{const h=await o(p,{method:"DELETE"});A(null,h.data)}catch(h){A(h)}});function x(f){return f.split("/").map(encodeURIComponent).join("/")}r.getAttachment=s("getAttachment",async function(f,v,y,A){typeof y=="function"&&(A=y,y={});const E=y.rev?"?rev="+y.rev:"",g=ye(n,ot(f))+"/"+x(v)+E;let p;try{const h=await a(g,{method:"GET"});if(!h.ok)throw h;p=h.headers.get("content-type");let c;if(typeof process<"u"&&!process.browser&&typeof h.buffer=="function"?c=await h.buffer():c=await h.blob(),typeof process<"u"&&!process.browser){const l=Object.getOwnPropertyDescriptor(c.__proto__,"type");(!l||l.set)&&(c.type=p)}A(null,c)}catch(h){A(h)}}),r.removeAttachment=s("removeAttachment",async function(f,v,y,A){const E=ye(n,ot(f)+"/"+x(v))+"?rev="+y;try{const g=await o(E,{method:"DELETE"});A(null,g.data)}catch(g){A(g)}}),r.putAttachment=s("putAttachment",async function(f,v,y,A,E,g){typeof E=="function"&&(g=E,E=A,A=y,y=null);const p=ot(f)+"/"+x(v);let h=ye(n,p);if(y&&(h+="?rev="+y),typeof A=="string"){let c;try{c=g0(A)}catch{return g(Y(Xa,"Attachment is not a valid base64 string"))}A=c?y0(c,E):""}try{const c=await o(h,{headers:new Ft({"Content-Type":E}),method:"PUT",body:A});g(null,c.data)}catch(c){g(c)}}),r._bulkDocs=async function(f,v,y){f.new_edits=v.new_edits;try{await d(),await Promise.all(f.docs.map(Qi));const A=await o(ye(n,"_bulk_docs"),{method:"POST",body:JSON.stringify(f)});y(null,A.data)}catch(A){y(A)}},r._put=async function(f,v,y){try{await d(),await Qi(f);const A=await o(ye(n,ot(f._id)),{method:"PUT",body:JSON.stringify(f)});y(null,A.data)}catch(A){A.docId=f&&f._id,y(A)}},r.allDocs=s("allDocs",async function(f,v){typeof f=="function"&&(v=f,f={}),f=me(f);const y={};let A,E="GET";f.conflicts&&(y.conflicts=!0),f.update_seq&&(y.update_seq=!0),f.descending&&(y.descending=!0),f.include_docs&&(y.include_docs=!0),f.attachments&&(y.attachments=!0),f.key&&(y.key=JSON.stringify(f.key)),f.start_key&&(f.startkey=f.start_key),f.startkey&&(y.startkey=JSON.stringify(f.startkey)),f.end_key&&(f.endkey=f.end_key),f.endkey&&(y.endkey=JSON.stringify(f.endkey)),typeof f.inclusive_end<"u"&&(y.inclusive_end=!!f.inclusive_end),typeof f.limit<"u"&&(y.limit=f.limit),typeof f.skip<"u"&&(y.skip=f.skip);const g=ar(y);typeof f.keys<"u"&&(E="POST",A={keys:f.keys});try{const p=await o(ye(n,"_all_docs"+g),{method:E,body:JSON.stringify(A)});f.include_docs&&f.attachments&&f.binary&&p.data.rows.forEach(wn),v(null,p.data)}catch(p){v(p)}}),r._changes=function(f){const v="batch_size"in f?f.batch_size:ul;f=me(f),f.continuous&&!("heartbeat"in f)&&(f.heartbeat=ll);let y="timeout"in f?f.timeout:30*1e3;"timeout"in f&&f.timeout&&y-f.timeout<ir&&(y=f.timeout+ir),"heartbeat"in f&&f.heartbeat&&y-f.heartbeat<ir&&(y=f.heartbeat+ir);const A={};"timeout"in f&&f.timeout&&(A.timeout=f.timeout);const E=typeof f.limit<"u"?f.limit:!1;let g=E;if(f.style&&(A.style=f.style),(f.include_docs||f.filter&&typeof f.filter=="function")&&(A.include_docs=!0),f.attachments&&(A.attachments=!0),f.continuous&&(A.feed="longpoll"),f.seq_interval&&(A.seq_interval=f.seq_interval),f.conflicts&&(A.conflicts=!0),f.descending&&(A.descending=!0),f.update_seq&&(A.update_seq=!0),"heartbeat"in f&&f.heartbeat&&(A.heartbeat=f.heartbeat),f.filter&&typeof f.filter=="string"&&(A.filter=f.filter),f.view&&typeof f.view=="string"&&(A.filter="_view",A.view=f.view),f.query_params&&typeof f.query_params=="object")for(const b in f.query_params)Object.prototype.hasOwnProperty.call(f.query_params,b)&&(A[b]=f.query_params[b]);let p="GET",h;f.doc_ids?(A.filter="_doc_ids",p="POST",h={doc_ids:f.doc_ids}):f.selector&&(A.filter="_selector",p="POST",h={selector:f.selector});const c=new AbortController;let l;const _=async function(b,k){if(f.aborted)return;A.since=b,typeof A.since=="object"&&(A.since=JSON.stringify(A.since)),f.descending?E&&(A.limit=g):A.limit=!E||g>v?v:g;const C=ye(n,"_changes"+ar(A)),D={signal:c.signal,method:p,body:JSON.stringify(h)};if(l=b,!f.aborted)try{await d();const R=await o(C,D);k(null,R.data)}catch(R){k(R)}},m={results:[]},B=function(b,k){if(f.aborted)return;let C=0;if(k&&k.results){C=k.results.length,m.last_seq=k.last_seq;let R=null,S=null;typeof k.pending=="number"&&(R=k.pending),(typeof m.last_seq=="string"||typeof m.last_seq=="number")&&(S=m.last_seq),f.query_params,k.results=k.results.filter(function(j){g--;const z=v0(f)(j);return z&&(f.include_docs&&f.attachments&&f.binary&&wn(j),f.return_docs&&m.results.push(j),f.onChange(j,R,S)),z})}else if(b){f.aborted=!0,f.complete(b);return}k&&k.last_seq&&(l=k.last_seq);const D=E&&g<=0||k&&C<v||f.descending;f.continuous&&!(E&&g<=0)||!D?Ve(function(){_(l,B)}):f.complete(null,m)};return _(f.since||0,B),{cancel:function(){f.aborted=!0,c.abort()}}},r.revsDiff=s("revsDiff",async function(f,v,y){typeof v=="function"&&(y=v,v={});try{const A=await o(ye(n,"_revs_diff"),{method:"POST",body:JSON.stringify(f)});y(null,A.data)}catch(A){y(A)}}),r._close=function(f){f()},r._destroy=async function(f,v){try{const y=await o(ye(n,""),{method:"DELETE"});v(null,y)}catch(y){y.status===404?v(null,{ok:!0}):v(y)}}}Jn.valid=function(){return!0};function vl(e){e.adapter("http",Jn,!1),e.adapter("https",Jn,!1)}class ut extends Error{constructor(t){super(),this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,ut)}catch{}}}class Fr extends Error{constructor(t){super(),this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Fr)}catch{}}}class Sr extends Error{constructor(t){super(),this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Sr)}catch{}}}function As(e,t){return t&&e.then(function(r){Ve(function(){t(null,r)})},function(r){Ve(function(){t(r)})}),e}function pl(e){return function(...t){var r=t.pop(),n=e.apply(this,t);return typeof r=="function"&&As(n,r),n}}function gl(e,t){return e.then(function(r){return t().then(function(){return r})},function(r){return t().then(function(){throw r})})}function bn(e,t){return function(){var r=arguments,n=this;return e.add(function(){return t.apply(n,r)})}}function Xi(e){var t=new Set(e),r=new Array(t.size),n=-1;return t.forEach(function(i){r[++n]=i}),r}function Dn(e){var t=new Array(e.size),r=-1;return e.forEach(function(n,i){t[++r]=i}),t}function Vi(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new Sr(t)}function Zn(e){for(var t=0,r=0,n=e.length;r<n;r++){var i=e[r];if(typeof i!="number")if(Array.isArray(i)){t=typeof t=="number"?[t]:t;for(var a=0,s=i.length;a<s;a++){var o=i[a];if(typeof o!="number")throw Vi("_sum");typeof t[a]>"u"?t.push(o):t[a]+=o}}else throw Vi("_sum");else typeof t=="number"?t+=i:t[0]+=i}return t}var _l=He.bind(null,"log"),yl=Array.isArray,ml=JSON.parse;function Es(e,t){return p0("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Zn,log:_l,isArray:yl,toJSON:ml})}class e0{constructor(){this.promise=Promise.resolve()}add(t){return this.promise=this.promise.catch(()=>{}).then(()=>t()),this.promise}finish(){return this.promise}}function Yi(e){if(!e)return"undefined";switch(typeof e){case"function":return e.toString();case"string":return e.toString();default:return JSON.stringify(e)}}function Al(e,t){return Yi(e)+Yi(t)+"undefined"}async function Ji(e,t,r,n,i,a){const s=Al(r,n);let o;if(!i&&(o=e._cachedViews=e._cachedViews||{},o[s]))return o[s];const u=e.info().then(async function(d){const x=d.db_name+"-mrview-"+(i?"temp":es(s));function f(g){g.views=g.views||{};let p=t;p.indexOf("/")===-1&&(p=t+"/"+t);const h=g.views[p]=g.views[p]||{};if(!h[x])return h[x]=!0,g}await pr(e,"_local/"+a,f);const y=(await e.registerDependentDatabase(x)).db;y.auto_compaction=!0;const A={name:x,db:y,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};let E;try{E=await A.db.get("_local/lastSeq")}catch(g){if(g.status!==404)throw g}return A.seq=E?E.seq:0,o&&A.db.once("destroyed",function(){delete o[s]}),A});return o&&(o[s]=u),u}const Zi={},ea=new e0,El=50;function Fn(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function Cl(e){return e.length===1&&/^1-/.test(e[0].rev)}function ta(e,t,r){try{e.emit("error",t)}catch{He("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),He("error",t,r)}}function Bl(e,t,r,n){function i(F,P,I){try{P(I)}catch(w){ta(F,w,{fun:P,doc:I})}}function a(F,P,I,w,O){try{return{output:P(I,w,O)}}catch(T){return ta(F,T,{fun:P,keys:I,values:w,rereduce:O}),{error:T}}}function s(F,P){const I=ge(F.key,P.key);return I!==0?I:ge(F.value,P.value)}function o(F,P,I){return I=I||0,typeof P=="number"?F.slice(I,P+I):I>0?F.slice(I):F}function u(F){const P=F.value;return P&&typeof P=="object"&&P._id||F.id}function d(F){for(const P of F.rows){const I=P.doc&&P.doc._attachments;if(I)for(const w of Object.keys(I)){const O=I[w];I[w].data=m0(O.data,O.content_type)}}}function x(F){return function(P){return F.include_docs&&F.attachments&&F.binary&&d(P),P}}function f(F,P,I,w){let O=P[F];typeof O<"u"&&(w&&(O=encodeURIComponent(JSON.stringify(O))),I.push(F+"="+O))}function v(F){if(typeof F<"u"){const P=Number(F);return!isNaN(P)&&P===parseInt(F,10)?P:F}}function y(F){return F.group_level=v(F.group_level),F.limit=v(F.limit),F.skip=v(F.skip),F}function A(F){if(F){if(typeof F!="number")return new ut(`Invalid value for integer: "${F}"`);if(F<0)return new ut(`Invalid value for positive integer: "${F}"`)}}function E(F,P){const I=F.descending?"endkey":"startkey",w=F.descending?"startkey":"endkey";if(typeof F[I]<"u"&&typeof F[w]<"u"&&ge(F[I],F[w])>0)throw new ut("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(P.reduce&&F.reduce!==!1){if(F.include_docs)throw new ut("{include_docs:true} is invalid for reduce");if(F.keys&&F.keys.length>1&&!F.group&&!F.group_level)throw new ut("Multi-key fetches for reduce views must use {group: true}")}for(const O of["group_level","limit","skip"]){const T=A(F[O]);if(T)throw T}}async function g(F,P,I){let w=[],O,T="GET",L;if(f("reduce",I,w),f("include_docs",I,w),f("attachments",I,w),f("limit",I,w),f("descending",I,w),f("group",I,w),f("group_level",I,w),f("skip",I,w),f("stale",I,w),f("conflicts",I,w),f("startkey",I,w,!0),f("start_key",I,w,!0),f("endkey",I,w,!0),f("end_key",I,w,!0),f("inclusive_end",I,w),f("key",I,w,!0),f("update_seq",I,w),w=w.join("&"),w=w===""?"":"?"+w,typeof I.keys<"u"){const $=`keys=${encodeURIComponent(JSON.stringify(I.keys))}`;$.length+w.length+1<=2e3?w+=(w[0]==="?"?"&":"?")+$:(T="POST",typeof P=="string"?O={keys:I.keys}:P.keys=I.keys)}if(typeof P=="string"){const N=Fn(P),$=await F.fetch("_design/"+N[0]+"/_view/"+N[1]+w,{headers:new Ft({"Content-Type":"application/json"}),method:T,body:JSON.stringify(O)});L=$.ok;const W=await $.json();if(!L)throw W.status=$.status,Pt(W);for(const G of W.rows)if(G.value&&G.value.error&&G.value.error==="builtin_reduce_error")throw new Error(G.reason);return new Promise(function(G){G(W)}).then(x(I))}O=O||{};for(const N of Object.keys(P))Array.isArray(P[N])?O[N]=P[N]:O[N]=P[N].toString();const H=await F.fetch("_temp_view"+w,{headers:new Ft({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(O)});L=H.ok;const q=await H.json();if(!L)throw q.status=H.status,Pt(q);return new Promise(function(N){N(q)}).then(x(I))}function p(F,P,I){return new Promise(function(w,O){F._query(P,I,function(T,L){if(T)return O(T);w(L)})})}function h(F){return new Promise(function(P,I){F._viewCleanup(function(w,O){if(w)return I(w);P(O)})})}function c(F){return function(P){if(P.status===404)return F;throw P}}async function l(F,P,I){const w="_local/doc_"+F,O={_id:w,keys:[]},T=I.get(F),L=T[0],H=T[1];function q(){return Cl(H)?Promise.resolve(O):P.db.get(w).catch(c(O))}function N(ie){return ie.keys.length?P.db.allDocs({keys:ie.keys,include_docs:!0}):Promise.resolve({rows:[]})}function $(ie,ce){const ae=[],ue=new Set;for(const ee of ce.rows){const te=ee.doc;if(te&&(ae.push(te),ue.add(te._id),te._deleted=!L.has(te._id),!te._deleted)){const ne=L.get(te._id);"value"in ne&&(te.value=ne.value)}}const ke=Dn(L);for(const ee of ke)if(!ue.has(ee)){const te={_id:ee},ne=L.get(ee);"value"in ne&&(te.value=ne.value),ae.push(te)}return ie.keys=Xi(ke.concat(ie.keys)),ae.push(ie),ae}const W=await q(),G=await N(W);return $(W,G)}function _(F){return F.sourceDB.get("_local/purges").then(function(P){const I=P.purgeSeq;return F.db.get("_local/purgeSeq").then(function(w){return w._rev}).catch(c(void 0)).then(function(w){return F.db.put({_id:"_local/purgeSeq",_rev:w,purgeSeq:I})})}).catch(function(P){if(P.status!==404)throw P})}function m(F,P,I){var w="_local/lastSeq";return F.db.get(w).catch(c({_id:w,seq:0})).then(function(O){var T=Dn(P);return Promise.all(T.map(function(L){return l(L,F,P)})).then(function(L){var H=L.flat();return O.seq=I,H.push(O),F.db.bulkDocs({docs:H})}).then(()=>_(F))})}function B(F){const P=typeof F=="string"?F:F.name;let I=Zi[P];return I||(I=Zi[P]=new e0),I}async function b(F,P){return bn(B(F),function(){return k(F,P)})()}async function k(F,P){let I,w,O;function T(ee,te){const ne={id:w._id,key:pt(ee)};typeof te<"u"&&te!==null&&(ne.value=pt(te)),I.push(ne)}const L=t(F.mapFun,T);let H=F.seq||0;function q(){return F.sourceDB.info().then(function(ee){O=F.sourceDB.activeTasks.add({name:"view_indexing",total_items:ee.update_seq-H})})}function N(ee,te){return function(){return m(F,ee,te)}}let $=0;const W={view:F.name,indexed_docs:$};F.sourceDB.emit("indexing",W);const G=new e0;async function ie(){const ee=await F.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:H,limit:P.changes_batch_size}),te=await ce();return ae(ee,te)}function ce(){return F.db.get("_local/purgeSeq").then(function(ee){return ee.purgeSeq}).catch(c(-1)).then(function(ee){return F.sourceDB.get("_local/purges").then(function(te){const ne=te.purges.filter(function(Ee,oe){return oe>ee}).map(Ee=>Ee.docId),Oe=ne.filter(function(Ee,oe){return ne.indexOf(Ee)===oe});return Promise.all(Oe.map(function(Ee){return F.sourceDB.get(Ee).then(function(oe){return{docId:Ee,doc:oe}}).catch(c({docId:Ee}))}))}).catch(c([]))})}function ae(ee,te){const ne=ee.results;if(!ne.length&&!te.length)return;for(const oe of te)if(ne.findIndex(function(Re){return Re.id===oe.docId})<0){const Re={_id:oe.docId,doc:{_id:oe.docId,_deleted:1},changes:[]};oe.doc&&(Re.doc=oe.doc,Re.changes.push({rev:oe.doc._rev})),ne.push(Re)}const Oe=ue(ne);G.add(N(Oe,H)),$=$+ne.length;const Ee={view:F.name,last_seq:ee.last_seq,results_count:ne.length,indexed_docs:$};if(F.sourceDB.emit("indexing",Ee),F.sourceDB.activeTasks.update(O,{completed_items:$}),!(ne.length<P.changes_batch_size))return ie()}function ue(ee){const te=new Map;for(const ne of ee){if(ne.doc._id[0]!=="_"){I=[],w=ne.doc,w._deleted||i(F.sourceDB,L,w),I.sort(s);const Oe=ke(I);te.set(ne.doc._id,[Oe,ne.changes])}H=ne.seq}return te}function ke(ee){const te=new Map;let ne;for(let Oe=0,Ee=ee.length;Oe<Ee;Oe++){const oe=ee[Oe],Fe=[oe.key,oe.id];Oe>0&&ge(oe.key,ne)===0&&Fe.push(Oe),te.set(Me(Fe),oe),ne=oe.key}return te}try{await q(),await ie(),await G.finish(),F.seq=H,F.sourceDB.activeTasks.remove(O)}catch(ee){F.sourceDB.activeTasks.remove(O,ee)}}function C(F,P,I){I.group_level===0&&delete I.group_level;const w=I.group||I.group_level,O=r(F.reduceFun),T=[],L=isNaN(I.group_level)?Number.POSITIVE_INFINITY:I.group_level;for(const H of P){const q=T[T.length-1];let N=w?H.key:null;if(w&&Array.isArray(N)&&(N=N.slice(0,L)),q&&ge(q.groupKey,N)===0){q.keys.push([H.key,H.id]),q.values.push(H.value);continue}T.push({keys:[[H.key,H.id]],values:[H.value],groupKey:N})}P=[];for(const H of T){const q=a(F.sourceDB,O,H.keys,H.values,!1);if(q.error&&q.error instanceof Sr)throw q.error;P.push({value:q.error?null:q.output,key:H.groupKey})}return{rows:o(P,I.limit,I.skip)}}function D(F,P){return bn(B(F),function(){return R(F,P)})()}async function R(F,P){let I;const w=F.reduceFun&&P.reduce!==!1,O=P.skip||0;typeof P.keys<"u"&&!P.keys.length&&(P.limit=0,delete P.keys);async function T(H){H.include_docs=!0;const q=await F.db.allDocs(H);return I=q.total_rows,q.rows.map(function(N){if("value"in N.doc&&typeof N.doc.value=="object"&&N.doc.value!==null){const W=Object.keys(N.doc.value).sort(),G=["id","key","value"];if(!(W<G||W>G))return N.doc.value}const $=vf(N.doc._id);return{key:$[0],id:$[1],value:"value"in N.doc?N.doc.value:null}})}async function L(H){let q;if(w?q=C(F,H,P):typeof P.keys>"u"?q={total_rows:I,offset:O,rows:H}:q={total_rows:I,offset:O,rows:o(H,P.limit,P.skip)},P.update_seq&&(q.update_seq=F.seq),P.include_docs){const N=Xi(H.map(u)),$=await F.sourceDB.allDocs({keys:N,include_docs:!0,conflicts:P.conflicts,attachments:P.attachments,binary:P.binary}),W=new Map;for(const G of $.rows)W.set(G.id,G.doc);for(const G of H){const ie=u(G),ce=W.get(ie);ce&&(G.doc=ce)}}return q}if(typeof P.keys<"u"){const q=P.keys.map(function(W){const G={startkey:Me([W]),endkey:Me([W,{}])};return P.update_seq&&(G.update_seq=!0),T(G)}),$=(await Promise.all(q)).flat();return L($)}else{const H={descending:P.descending};P.update_seq&&(H.update_seq=!0);let q,N;if("start_key"in P&&(q=P.start_key),"startkey"in P&&(q=P.startkey),"end_key"in P&&(N=P.end_key),"endkey"in P&&(N=P.endkey),typeof q<"u"&&(H.startkey=P.descending?Me([q,{}]):Me([q])),typeof N<"u"){let W=P.inclusive_end!==!1;P.descending&&(W=!W),H.endkey=Me(W?[N,{}]:[N])}if(typeof P.key<"u"){const W=Me([P.key]),G=Me([P.key,{}]);H.descending?(H.endkey=W,H.startkey=G):(H.startkey=W,H.endkey=G)}w||(typeof P.limit=="number"&&(H.limit=P.limit),H.skip=O);const $=await T(H);return L($)}}async function S(F){return(await F.fetch("_view_cleanup",{headers:new Ft({"Content-Type":"application/json"}),method:"POST"})).json()}async function j(F){try{const P=await F.get("_local/"+e),I=new Map;for(const q of Object.keys(P.views)){const N=Fn(q),$="_design/"+N[0],W=N[1];let G=I.get($);G||(G=new Set,I.set($,G)),G.add(W)}const w={keys:Dn(I),include_docs:!0},O=await F.allDocs(w),T={};for(const q of O.rows){const N=q.key.substring(8);for(const $ of I.get(q.key)){let W=N+"/"+$;P.views[W]||(W=$);const G=Object.keys(P.views[W]),ie=q.doc&&q.doc.views&&q.doc.views[$];for(const ce of G)T[ce]=T[ce]||ie}}const H=Object.keys(T).filter(function(q){return!T[q]}).map(function(q){return bn(B(q),function(){return new F.constructor(q,F.__opts).destroy()})()});return Promise.all(H).then(function(){return{ok:!0}})}catch(P){if(P.status===404)return{ok:!0};throw P}}async function z(F,P,I){if(typeof F._query=="function")return p(F,P,I);if(Xe(F))return g(F,P,I);const w={changes_batch_size:F.__opts.view_update_changes_batch_size||El};if(typeof P!="string")return E(I,P),ea.add(async function(){const O=await Ji(F,"temp_view/temp_view",P.map,P.reduce,!0,e);return gl(b(O,w).then(function(){return D(O,I)}),function(){return O.db.destroy()})}),ea.finish();{const O=P,T=Fn(O),L=T[0],H=T[1],q=await F.get("_design/"+L);if(P=q.views&&q.views[H],!P)throw new Fr(`ddoc ${q._id} has no view named ${H}`);n(q,H),E(I,P);const N=await Ji(F,O,P.map,P.reduce,!1,e);return I.stale==="ok"||I.stale==="update_after"?(I.stale==="update_after"&&Ve(function(){b(N,w)}),D(N,I)):(await b(N,w),D(N,I))}}function M(F,P,I){const w=this;typeof P=="function"&&(I=P,P={}),P=P?y(P):{},typeof F=="function"&&(F={map:F});const O=Promise.resolve().then(function(){return z(w,F,P)});return As(O,I),O}const K=pl(function(){const F=this;return typeof F._viewCleanup=="function"?h(F):Xe(F)?S(F):j(F)});return{query:M,viewCleanup:K}}var Sn={_sum:function(e,t){return Zn(t)},_count:function(e,t){return t.length},_stats:function(e,t){function r(n){for(var i=0,a=0,s=n.length;a<s;a++){var o=n[a];i+=o*o}return i}return{sum:Zn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:r(t)}}};function wl(e){if(/^_sum/.test(e))return Sn._sum;if(/^_count/.test(e))return Sn._count;if(/^_stats/.test(e))return Sn._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}function bl(e,t){if(typeof e=="function"&&e.length===2){var r=e;return function(n){return r(n,t)}}else return Es(e.toString(),t)}function Dl(e){var t=e.toString(),r=wl(t);return r||Es(t)}function Fl(e,t){var r=e.views&&e.views[t];if(typeof r.map!="string")throw new Fr("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof r.map)}var Sl="mrviews",Cs=Bl(Sl,bl,Dl,Fl);function kl(e,t,r){return Cs.query.call(this,e,t,r)}function Ol(e){return Cs.viewCleanup.call(this,e)}var Pl={query:kl,viewCleanup:Ol};function Rl(e,t,r){return!e._attachments||!e._attachments[r]||e._attachments[r].digest!==t._attachments[r].digest}function ra(e,t){var r=Object.keys(t._attachments);return Promise.all(r.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function ql(e,t,r){var n=Xe(t)&&!Xe(e),i=Object.keys(r._attachments);return n?e.get(r._id).then(function(a){return Promise.all(i.map(function(s){return Rl(a,r,s)?t.getAttachment(r._id,s):e.getAttachment(a._id,s)}))}).catch(function(a){if(a.status!==404)throw a;return ra(t,r)}):ra(t,r)}function Tl(e){var t=[];return Object.keys(e).forEach(function(r){var n=e[r].missing;n.forEach(function(i){t.push({id:r,rev:i})})}),{docs:t,revs:!0,latest:!0}}function Ll(e,t,r,n){r=me(r);var i=[],a=!0;function s(){var u=Tl(r);if(u.docs.length)return e.bulkGet(u).then(function(d){if(n.cancelled)throw new Error("cancelled");return Promise.all(d.results.map(function(x){return Promise.all(x.docs.map(function(f){var v=f.ok;return f.error&&(a=!1),!v||!v._attachments?v:ql(t,e,v).then(y=>{var A=Object.keys(v._attachments);return y.forEach(function(E,g){var p=v._attachments[A[g]];delete p.stub,delete p.length,p.data=E}),v})}))})).then(function(x){i=i.concat(x.flat().filter(Boolean))})})}function o(){return{ok:a,docs:i}}return Promise.resolve().then(s).then(o)}var na=1,ia="pouchdb",Il=5,ze=0;function t0(e,t,r,n,i){return e.get(t).catch(function(a){if(a.status===404)return(e.adapter==="http"||e.adapter==="https")&&zn(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:t,history:[],replicator:ia,version:na};throw a}).then(function(a){if(!i.cancelled&&a.last_seq!==r)return a.history=(a.history||[]).filter(function(s){return s.session_id!==n}),a.history.unshift({last_seq:r,session_id:n}),a.history=a.history.slice(0,Il),a.version=na,a.replicator=ia,a.session_id=n,a.last_seq=r,e.put(a).catch(function(s){if(s.status===409)return t0(e,t,r,n,i);throw s})})}class aa{constructor(t,r,n,i,a={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0}){this.src=t,this.target=r,this.id=n,this.returnValue=i,this.opts=a,typeof a.writeSourceCheckpoint>"u"&&(a.writeSourceCheckpoint=!0),typeof a.writeTargetCheckpoint>"u"&&(a.writeTargetCheckpoint=!0)}writeCheckpoint(t,r){var n=this;return this.updateTarget(t,r).then(function(){return n.updateSource(t,r)})}updateTarget(t,r){return this.opts.writeTargetCheckpoint?t0(this.target,this.id,t,r,this.returnValue):Promise.resolve(!0)}updateSource(t,r){if(this.opts.writeSourceCheckpoint){var n=this;return t0(this.src,this.id,t,r,this.returnValue).catch(function(i){if(oa(i))return n.opts.writeSourceCheckpoint=!1,!0;throw i})}else return Promise.resolve(!0)}getCheckpoint(){var t=this;return!t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?Promise.resolve(ze):t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(r){return r.last_seq||ze}).catch(function(r){if(r.status!==404)throw r;return ze}):t.target.get(t.id).then(function(r){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?r.last_seq||ze:t.src.get(t.id).then(function(n){if(r.version!==n.version)return ze;var i;return r.version?i=r.version.toString():i="undefined",i in sa?sa[i](r,n):ze},function(n){if(n.status===404&&r.last_seq)return t.src.put({_id:t.id,last_seq:ze}).then(function(){return ze},function(i){return oa(i)?(t.opts.writeSourceCheckpoint=!1,r.last_seq):ze});throw n})}).catch(function(r){if(r.status!==404)throw r;return ze})}}var sa={undefined:function(e,t){return ge(e.last_seq,t.last_seq)===0?t.last_seq:0},1:function(e,t){return jl(t,e).last_seq}};function jl(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:Bs(e.history,t.history)}function Bs(e,t){var r=e[0],n=e.slice(1),i=t[0],a=t.slice(1);if(!r||t.length===0)return{last_seq:ze,history:[]};var s=r.session_id;if(r0(s,t))return{last_seq:r.last_seq,history:e};var o=i.session_id;return r0(o,n)?{last_seq:i.last_seq,history:a}:Bs(n,a)}function r0(e,t){var r=t[0],n=t.slice(1);return!e||t.length===0?!1:e===r.session_id?!0:r0(e,n)}function oa(e){return typeof e.status=="number"&&Math.floor(e.status/100)===4}function ws(e,t,r,n,i){return this instanceof aa?ws:new aa(e,t,r,n,i)}var ca=0;function Nl(e,t,r,n){if(e.retry===!1){t.emit("error",r),t.removeAllListeners();return}if(typeof e.back_off_function!="function"&&(e.back_off_function=ou),t.emit("requestError",r),t.state==="active"||t.state==="pending"){t.emit("paused",r),t.state="stopped";var i=function(){e.current_back_off=ca},a=function(){t.removeListener("active",i)};t.once("paused",a),t.once("active",i)}e.current_back_off=e.current_back_off||ca,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(n,e.current_back_off)}function $l(e){return Object.keys(e).sort(ge).reduce(function(t,r){return t[r]=e[r],t},{})}function Hl(e,t,r){var n=r.doc_ids?r.doc_ids.sort(ge):"",i=r.filter?r.filter.toString():"",a="",s="",o="";return r.selector&&(o=JSON.stringify(r.selector)),r.filter&&r.query_params&&(a=JSON.stringify($l(r.query_params))),r.filter&&r.filter==="_view"&&(s=r.view.toString()),Promise.all([e.id(),t.id()]).then(function(u){var d=u[0]+u[1]+i+s+a+n+o;return new Promise(function(x){E0(d,x)})}).then(function(u){return u=u.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+u})}function bs(e,t,r,n,i){var a=[],s,o={seq:0,changes:[],docs:[]},u=!1,d=!1,x=!1,f=0,v=0,y=r.continuous||r.live||!1,A=r.batch_size||100,E=r.batches_limit||10,g=r.style||"all_docs",p=!1,h=r.doc_ids,c=r.selector,l,_,m=[],B=Dr(),b;i=i||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var k={};n.ready(e,t);function C(){return _?Promise.resolve():Hl(e,t,r).then(function(q){l=q;var N={};r.checkpoint===!1?N={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:r.checkpoint==="source"?N={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:r.checkpoint==="target"?N={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:N={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},_=new ws(e,t,l,n,N)})}function D(){if(m=[],s.docs.length!==0){var q=s.docs,N={timeout:r.timeout};return t.bulkDocs({docs:q,new_edits:!1},N).then(function($){if(n.cancelled)throw F(),new Error("cancelled");var W=Object.create(null);$.forEach(function(ie){ie.error&&(W[ie.id]=ie)});var G=Object.keys(W).length;i.doc_write_failures+=G,i.docs_written+=q.length-G,q.forEach(function(ie){var ce=W[ie._id];if(ce){i.errors.push(ce);var ae=(ce.name||"").toLowerCase();if(ae==="unauthorized"||ae==="forbidden")n.emit("denied",me(ce));else throw ce}else m.push(ie)})},function($){throw i.doc_write_failures+=q.length,$})}}function R(){if(s.error)throw new Error("There was a problem getting docs.");i.last_seq=v=s.seq;var q=me(i);return m.length&&(q.docs=m,typeof s.pending=="number"&&(q.pending=s.pending,delete s.pending),n.emit("change",q)),u=!0,e.info().then(function(N){var $=e.activeTasks.get(b);if(!(!s||!$)){var W=$.completed_items||0,G=parseInt(N.update_seq,10)-parseInt(f,10);e.activeTasks.update(b,{completed_items:W+s.changes.length,total_items:G})}}),_.writeCheckpoint(s.seq,B).then(function(){if(n.emit("checkpoint",{checkpoint:s.seq}),u=!1,n.cancelled)throw F(),new Error("cancelled");s=void 0,O()}).catch(function(N){throw H(N),N})}function S(){var q={};return s.changes.forEach(function(N){n.emit("checkpoint",{revs_diff:N}),N.id!=="_user/"&&(q[N.id]=N.changes.map(function($){return $.rev}))}),t.revsDiff(q).then(function(N){if(n.cancelled)throw F(),new Error("cancelled");s.diffs=N})}function j(){return Ll(e,t,s.diffs,n).then(function(q){s.error=!q.ok,q.docs.forEach(function(N){delete s.diffs[N._id],i.docs_read++,s.docs.push(N)})})}function z(){if(!(n.cancelled||s)){if(a.length===0){M(!0);return}s=a.shift(),n.emit("checkpoint",{start_next_batch:s.seq}),S().then(j).then(D).then(R).then(z).catch(function(q){K("batch processing terminated with error",q)})}}function M(q){if(o.changes.length===0){a.length===0&&!s&&((y&&k.live||d)&&(n.state="pending",n.emit("paused")),d&&F());return}(q||d||o.changes.length>=A)&&(a.push(o),o={seq:0,changes:[],docs:[]},(n.state==="pending"||n.state==="stopped")&&(n.state="active",n.emit("active")),z())}function K(q,N){x||(N.message||(N.message=q),i.ok=!1,i.status="aborting",a=[],o={seq:0,changes:[],docs:[]},F(N))}function F(q){if(!x&&!(n.cancelled&&(i.status="cancelled",u)))if(i.status=i.status||"complete",i.end_time=new Date().toISOString(),i.last_seq=v,x=!0,e.activeTasks.remove(b,q),q){q=Y(q),q.result=i;var N=(q.name||"").toLowerCase();N==="unauthorized"||N==="forbidden"?(n.emit("error",q),n.removeAllListeners()):Nl(r,n,q,function(){bs(e,t,r,n)})}else n.emit("complete",i),n.removeAllListeners()}function P(q,N,$){if(n.cancelled)return F();typeof N=="number"&&(o.pending=N);var W=v0(r)(q);if(!W){var G=e.activeTasks.get(b);if(G){var ie=G.completed_items||0;e.activeTasks.update(b,{completed_items:++ie})}return}o.seq=q.seq||$,o.changes.push(q),n.emit("checkpoint",{pending_batch:o.seq}),Ve(function(){M(a.length===0&&k.live)})}function I(q){if(p=!1,n.cancelled)return F();if(q.results.length>0)k.since=q.results[q.results.length-1].seq,O(),M(!0);else{var N=function(){y?(k.live=!0,O()):d=!0,M(!0)};!s&&q.results.length===0?(u=!0,_.writeCheckpoint(q.last_seq,B).then(function(){if(u=!1,i.last_seq=v=q.last_seq,n.cancelled)throw F(),new Error("cancelled");N()}).catch(H)):N()}}function w(q){if(p=!1,n.cancelled)return F();K("changes rejected",q)}function O(){if(!(!p&&!d&&a.length<E))return;p=!0;function q(){$.cancel()}function N(){n.removeListener("cancel",q)}n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",q);var $=e.changes(k).on("change",P);$.then(N,N),$.then(I).catch(w),r.retry&&(n._changes=$,n._abortChanges=q)}function T(q){return e.info().then(function(N){var $=typeof r.since>"u"?parseInt(N.update_seq,10)-parseInt(q,10):parseInt(N.update_seq,10);return b=e.activeTasks.add({name:`${y?"continuous ":""}replication from ${N.db_name}`,total_items:$}),q})}function L(){C().then(function(){if(n.cancelled){F();return}return _.getCheckpoint().then(T).then(function(q){v=q,f=q,k={since:v,limit:A,batch_size:A,style:g,doc_ids:h,selector:c,return_docs:!0},r.filter&&(typeof r.filter!="string"?k.include_docs=!0:k.filter=r.filter),"heartbeat"in r&&(k.heartbeat=r.heartbeat),"timeout"in r&&(k.timeout=r.timeout),r.query_params&&(k.query_params=r.query_params),r.view&&(k.view=r.view),O()})}).catch(function(q){K("getCheckpoint rejected with ",q)})}function H(q){u=!1,K("writeCheckpoint completed with error",q)}if(n.cancelled){F();return}n._addedListeners||(n.once("cancel",F),typeof r.complete=="function"&&(n.once("error",r.complete),n.once("complete",function(q){r.complete(null,q)})),n._addedListeners=!0),typeof r.since>"u"?L():C().then(function(){return u=!0,_.writeCheckpoint(r.since,B)}).then(function(){if(u=!1,n.cancelled){F();return}v=r.since,L()}).catch(H)}class zl extends rt{constructor(){super(),this.cancelled=!1,this.state="pending";const t=new Promise((r,n)=>{this.once("complete",r),this.once("error",n)});this.then=function(r,n){return t.then(r,n)},this.catch=function(r){return t.catch(r)},this.catch(function(){})}cancel(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")}ready(t,r){if(this._readyCalled)return;this._readyCalled=!0;const n=()=>{this.cancel()};t.once("destroyed",n),r.once("destroyed",n);function i(){t.removeListener("destroyed",n),r.removeListener("destroyed",n)}this.once("complete",i),this.once("error",i)}}function yr(e,t){var r=t.PouchConstructor;return typeof e=="string"?new r(e,t):e}function n0(e,t,r,n){if(typeof r=="function"&&(n=r,r={}),typeof r>"u"&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw Y(br,"`doc_ids` filter parameter is not a list.");r.complete=n,r=me(r),r.continuous=r.continuous||r.live,r.retry="retry"in r?r.retry:!1,r.PouchConstructor=r.PouchConstructor||this;var i=new zl(r),a=yr(e,r),s=yr(t,r);return bs(a,s,r,i),i}function Ml(e,t,r,n){return typeof r=="function"&&(n=r,r={}),typeof r>"u"&&(r={}),r=me(r),r.PouchConstructor=r.PouchConstructor||this,e=yr(e,r),t=yr(t,r),new Ul(e,t,r,n)}class Ul extends rt{constructor(t,r,n,i){super(),this.canceled=!1;const a=n.push?Object.assign({},n,n.push):n,s=n.pull?Object.assign({},n,n.pull):n;this.push=n0(t,r,a),this.pull=n0(r,t,s),this.pushPaused=!0,this.pullPaused=!0;const o=c=>{this.emit("change",{direction:"pull",change:c})},u=c=>{this.emit("change",{direction:"push",change:c})},d=c=>{this.emit("denied",{direction:"push",doc:c})},x=c=>{this.emit("denied",{direction:"pull",doc:c})},f=()=>{this.pushPaused=!0,this.pullPaused&&this.emit("paused")},v=()=>{this.pullPaused=!0,this.pushPaused&&this.emit("paused")},y=()=>{this.pushPaused=!1,this.pullPaused&&this.emit("active",{direction:"push"})},A=()=>{this.pullPaused=!1,this.pushPaused&&this.emit("active",{direction:"pull"})};let E={};const g=c=>(l,_)=>{(l==="change"&&(_===o||_===u)||l==="denied"&&(_===x||_===d)||l==="paused"&&(_===v||_===f)||l==="active"&&(_===A||_===y))&&(l in E||(E[l]={}),E[l][c]=!0,Object.keys(E[l]).length===2&&this.removeAllListeners(l))};n.live&&(this.push.on("complete",this.pull.cancel.bind(this.pull)),this.pull.on("complete",this.push.cancel.bind(this.push)));function p(c,l,_){c.listeners(l).indexOf(_)==-1&&c.on(l,_)}this.on("newListener",function(c){c==="change"?(p(this.pull,"change",o),p(this.push,"change",u)):c==="denied"?(p(this.pull,"denied",x),p(this.push,"denied",d)):c==="active"?(p(this.pull,"active",A),p(this.push,"active",y)):c==="paused"&&(p(this.pull,"paused",v),p(this.push,"paused",f))}),this.on("removeListener",function(c){c==="change"?(this.pull.removeListener("change",o),this.push.removeListener("change",u)):c==="denied"?(this.pull.removeListener("denied",x),this.push.removeListener("denied",d)):c==="active"?(this.pull.removeListener("active",A),this.push.removeListener("active",y)):c==="paused"&&(this.pull.removeListener("paused",v),this.push.removeListener("paused",f))}),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));const h=Promise.all([this.push,this.pull]).then(c=>{const l={push:c[0],pull:c[1]};return this.emit("complete",l),i&&i(null,l),this.removeAllListeners(),l},c=>{if(this.cancel(),i?i(c):this.emit("error",c),this.removeAllListeners(),i)throw c});this.then=function(c,l){return h.then(c,l)},this.catch=function(c){return h.catch(c)}}cancel(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}}function Kl(e){e.replicate=n0,e.sync=Ml,Object.defineProperty(e.prototype,"replicate",{get:function(){var t=this;return typeof this.replicateMethods>"u"&&(this.replicateMethods={from:function(r,n,i){return t.constructor.replicate(r,t,n,i)},to:function(r,n,i){return t.constructor.replicate(t,r,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(t,r,n){return this.constructor.sync(this,t,r,n)}}V.plugin(ol).plugin(vl).plugin(Pl).plugin(Kl);const Ds=()=>"https://qvamarkets.com/",Wl=()=>"https://qvamarkets.com/";let nh=new V("Guias"),ih=new V("Scanned"),ah=new V("linkManifest"),sh=new V("listManifest");function Gl(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwyxz",t=16,r="",n=0;n<t;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}function oh(){for(var e="0123456789BCDFGKSY",t=9,r="",n=0;n<t;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}const ch=()=>[{id:"35",label:"35"},{id:"36",label:"36"},{id:"37",label:"37"},{id:"38",label:"38"},{id:"39",label:"39"},{id:"40",label:"40"},{id:"41",label:"41"},{id:"42",label:"42"},{id:"43",label:"43"},{id:"44",label:"44"},{id:"45",label:"45"},{id:"46",label:"46"}],i0={},uh=(e,t)=>{i0[e]=t},Fs=e=>e?i0[e]:i0;function Ql(e){try{return JSON.parse(e),!0}catch{return!1}}function fh(e,t){t=t||"id";var r={};return e.length>0?e.map(n=>{r[n[t]]=n}):r=null,r}function lh(e){var t=[];return e&&Object.keys(e).map(r=>{t.push(e[r])}),t}const dh={en:["S","M","T","W","T","F","S"],es:["D","L","M","M","J","V","S"]},hh=async(e,t,r)=>{for(let n of e.map((i,a)=>()=>t(i,a,e,r)))await n()},xh=async(e,t)=>{let r="",n=Ds()+"gql_api",i={method:"post",headers:{"Content-Type":"application/json",Authorization:`${r}`},body:JSON.stringify(e)};try{return(await fetch(n,i)).json()}catch{return null}};function ua(e,t){try{var r=Qe.enc.Base64.parse(t),n=null;return n=Qe.AES.encrypt(e,r,{mode:Qe.mode.ECB,padding:Qe.pad.Pkcs7}),n.ciphertext.toString(Qe.enc.Base64)}catch{return null}}function fa(e,t){var r=Qe.enc.Base64.parse(t),n=Qe.AES.decrypt(e,r,{mode:Qe.mode.ECB,padding:Qe.pad.Pkcs7});return n.toString(Qe.enc.Utf8)}function Xl(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}const vh=e=>Ds()+"gql_api/getStatic?fileName="+e,ph=async(e,t)=>{const r=JSON.stringify(e);var n={};let i=Fs("sectionKey");var a=Gl();let s=ua(a,i),o=ua(r,a);if(!o)return{};const u={};u.d=o,u.k=s;let d=JSON.stringify(u);var x=Xl(Yl()),f=Wl()+"gql_v9";let v={method:"post",headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Authorization:`${x}`},body:d};var E=await(await fetch(f,v)).json();const{data:g}=E;if(g&&g.d){let p=fa(g.k,i),h=fa(g.d,p);Ql(h)&&(n=JSON.parse(h))}return n};function gh(e){var t=[];if(e)try{t=Object.keys(e)}catch{for(var r in e)t.push(r)}return t}const Vl=()=>"querys_callback",Yl=()=>"ssg_logistic_tkn",Jl={en:["","January","February","March","April","May","June","July","August","September","October","November","December"],es:["","Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]};function _h(e,t){let r="es";var n=new Date(e);return`${Jl[r][n.getMonth()+1]} ${n.getDate()}, ${n.getFullYear()}`}function yh(e){var t=e?new Date(e):new Date;let r=t.getMonth()+1,n=t.getDate();return`${r>9?r:"0"+r}/${n>9?n:"0"+n}/${t.getFullYear()}`}function mh(e){var t=new Date(e);let r=t.getHours(),n=t.getMinutes(),i=t.getSeconds();return`${r>9?r:"0"+r}:${n>9?n:"0"+n}:${i>9?i:"0"+i}`}function Ah(){return new Date().getTime()}function Eh(e,t,r){var n=0,i=window.setInterval(function(){e(),++n===r&&window.clearInterval(i)},t)}const Ch=(e,t,r)=>{let n=0,i={};return e.map(a=>{Ss(t?.[a],r?.[a])||(n=1,i[a]=t[a])}),{hasChange:n,data:i}},Ss=(e,t)=>Object.prototype.toString.call(e)===Object.prototype.toString.call(t)?Object.prototype.toString.call(e)==="[object Object]"||Object.prototype.toString.call(e)==="[object Array]"?Object.keys(e).length!==Object.keys(t).length?!1:Object.keys(e).every(function(r){return Ss(e[r],t[r])}):e===t:!1,Bh=(e,t,r=!0)=>e&&e.sort((i,a)=>{let s=i[t],o=a[t];return s<o?r?-1:1:s>o?r?1:-1:0}),wh={error:{"--err-bx-color":"var(--background-red-ssg)","--err-bx-bgcolor":"var(--background-red35-ssg)",svg:"var(--err-bx-color)",icon:"alert"},success:{"--err-bx-color":"var(--hrm-palette-tertiary60)","--err-bx-bgcolor":"var(--hrm-palette-tertiary90)",svg:"var(--err-bx-color)",icon:"success"},warning:{"--err-bx-color":"#FF6F1D","--err-bx-bgcolor":"#ffdb99",svg:"var(--err-bx-color)",icon:"info"}},bh=(e,t)=>{const r=(s,o)=>o===null?"":o,n=Object.keys(t[0]);let i=t.map(s=>n.map(o=>JSON.stringify(s[o],r)).join(","));i.unshift(n.join(",")),i=i.join(`\r
`);var a=document.createElement("a");a.setAttribute("href","data:text/csv;charset=utf-8,%EF%BB%BF"+encodeURIComponent(i)),a.setAttribute("download",e),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},Dh=e=>({...Fs(Vl())})[e],Fh=()=>{if(!window.DATAMatrix){let e=null;e=setInterval(()=>{window.DATAMatrix?e&&clearInterval(e):Zl("https://qvamarkets.com/gql_api/getStatic?fileName=datamatrix.min.js")},1600)}},Zl=e=>{const t=document.createElement("script");t.src=e,t.refer,t.async,document.head.appendChild(t)};function Sh(e){e=Number(e);var t=new Date(e);return`${rd[t.getMonth()+1]} ${t.getDate()}, ${t.getFullYear()}`}function la(e){return e!=null}const kh=(e,t)=>{let r=[],n=[];const i=td(t,e+1),a=new Date(t,e,1).getDay(),o=7-new Date(t,e,i).getDay()-1;for(let u=a;u>0;u--)n.push({day:"",isActive:!1,prevLastDay:!0});for(let u=1;u<=i;u++)u===new Date().getDate()&&e===new Date().getMonth()&&t===new Date().getFullYear()?n.push({day:u,isToday:!0,isActive:!1}):n.push({day:u,isActive:!1}),new Date(t,e,u).getDay()===6&&(r.push(n),n=[]);for(let u=1;u<=o;u++)n.push({day:"",nextDay:!0,isActive:!1}),u===o&&(r.push(n),n=[]);return r};function ed(e){return e%100!==0&&(e%4===0||e%400===0)?29:28}function td(e,t){if(!la(e)||!la(t))return null;var r=parseInt(e.toString()),n=parseInt(t.toString());return[0,31,ed(r),31,30,31,30,31,31,30,31,30,31][n]}const rd=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var nd=yo("<div>");const id=de(()=>le(()=>import("./DialogHRM-g_NvR9nw.js"),__vite__mapDeps([0,1]))),ad=de(()=>le(()=>import("./Toast-B8ER3c08.js"),__vite__mapDeps([2,3]))),sd=de(()=>le(()=>import("./Users-D1fHbvqY.js"),__vite__mapDeps([4,5,0,1,6,7,8,9,10,2,3]))),kn=de(()=>le(()=>import("./Tracking-DIP7r2Um.js"),__vite__mapDeps([11,12,13,14,15,16,2,3]))),od=de(()=>le(()=>import("./Envios-DETIK6Td.js"),__vite__mapDeps([17,5,6,7,8,9,10,2,3,0,1]))),cd=de(()=>le(()=>import("./Reports-BZ55tkou.js"),__vite__mapDeps([18,5,6,7,8,9,10,2,3,0,1]))),ud=de(()=>le(()=>import("./Scanning-DSbcd0rV.js").then(e=>e.S),__vite__mapDeps([19,20,21,2,3]))),fd=de(()=>le(()=>import("./FindHBL-Blh6Nxl0.js"),__vite__mapDeps([22,12,13,14,23,2,3,24,15,16,25,0,1,26,27,6,7,8,9,10,28,20,21]))),ld=de(()=>le(()=>import("./DeliveryView-DtDpDnXg.js"),__vite__mapDeps([29,0,1]))),dd=de(()=>le(()=>import("./DashManifest-DYEXOi2y.js"),__vite__mapDeps([30,20,21,0,1,19,2,3]))),hd=de(()=>le(()=>import("./Header-CwOuo3JW.js"),__vite__mapDeps([31,14,10,7,0,1,19,20,21,2,3]))),xd=de(()=>le(()=>import("./Consigners-CVa_pbGN.js"),__vite__mapDeps([32,12,13,5]))),vd=de(()=>le(()=>import("./Shippers-DhWh82G2.js"),__vite__mapDeps([33,12,13,5]))),pd=de(()=>le(()=>import("./LinkScanManifest-BGYNspSO.js"),__vite__mapDeps([34,19,20,21,2,3]))),gd=de(()=>le(()=>import("./LinkScanManifest2-Brez2yXL.js"),__vite__mapDeps([35,5,7,9,10]))),_d=de(()=>le(()=>import("./DeliveryViewDetail-DIgKZMuP.js"),__vite__mapDeps([36,0,1,37,38,39,29,7,8,9,2,3,5,40]))),yd=de(()=>le(()=>import("./DeliveryScanView-DmanRZ0B.js").then(e=>e.D),__vite__mapDeps([39,0,1,29,7,8,9,2,3,5,40]))),md=de(()=>le(()=>import("./ManifestDetails-BZDzkmSe.js"),__vite__mapDeps([41,5,42,14,43,6,7,8,9,10,2,3]))),Ad=de(()=>le(()=>import("./DashProducts-BXrbV9XP.js"),__vite__mapDeps([44,20,21,0,1]))),Ed=de(()=>le(()=>import("./ProductDetails-Dk0ydVY3.js"),__vite__mapDeps([45,5,42,14,43,15,16,28,20,21,0,1]))),Cd=de(()=>le(()=>import("./DashInventory-CgeNFf3w.js"),__vite__mapDeps([28,20,21,0,1]))),Bd=de(()=>le(()=>import("./InventoryDetails-xSrZ32Ps.js"),__vite__mapDeps([46,5,0,1]))),wd=de(()=>le(()=>import("./DashExpenses-DVaTauc7.js"),__vite__mapDeps([47,0,1,48,49,5,44,20,21,23]))),bd=de(()=>le(()=>import("./ExpensesDetails-VC9syPUT.js"),__vite__mapDeps([50,5,42,14,43,16,28,20,21,0,1]))),Dd=de(()=>le(()=>import("./ItemHbl2Delivery-CqfJy0PZ.js"),__vite__mapDeps([24,15,16,12,13,2,3,25,0,1,26,14,27,6,7,8,9,10,28,20,21]))),Fd=document.getElementById("root"),da=e=>fe(()=>e.children);_o(()=>(()=>{var e=nd();return Bt(e,Q(hd,{}),null),Bt(e,Q(qe,{get when(){return!J0()},get children(){return Q(Y0,{root:da,get children(){return Q(xe,{path:"/tracking",component:kn})}})}}),null),Bt(e,Q(qe,{get when(){return J0()},get children(){return Q(Y0,{root:da,get children(){return[Q(qe,{get when(){return Ie?.roles?.SEARCH?.isActive},get children(){return Q(xe,{path:"/search",component:od})}}),Q(qe,{get when(){return Ie?.roles?.REPORT?.isActive},get children(){return Q(xe,{path:"/reports",component:cd})}}),Q(qe,{get when(){return Ie?.roles?.SCANING?.isActive},get children(){return Q(xe,{path:"/scan",component:ud})}}),Q(qe,{get when(){return dc()&&Ie?.roles?.MANIFEST?.isActive&&kt?.profile?.workgroup?.id},get children(){return[Q(xe,{path:"/manifest",component:dd}),Q(xe,{path:"/link-manifest",component:pd}),Q(xe,{path:"/link-manifest-searching",component:gd}),Q(xe,{path:"/manifest-detail",component:md})]}}),Q(qe,{get when(){return Ie?.roles?.HBL?.isActive},get children(){return Q(xe,{path:"/findhbl",component:fd})}}),Q(qe,{get when(){return Ie?.roles?.PRODUCTS?.isActive},get children(){return[Q(xe,{path:"/products",component:Ad}),Q(xe,{path:"/product-detail",component:Ed})]}}),Q(qe,{get when(){return Ie?.roles?.INVENTORY?.isActive},get children(){return[Q(xe,{path:"/inventory",component:Cd}),Q(xe,{path:"/inventory-detail",component:Bd})]}}),Q(qe,{get when(){return Ie?.roles?.DELIVERY?.isActive},get children(){return[Q(xe,{path:"/delivery2",component:ld}),Q(xe,{path:"/delivery-detail",component:_d}),Q(xe,{path:"/delivery-scan",component:yd})]}}),Q(qe,{get when(){return Ie?.roles?.HBLCMPL?.isActive},get children(){return Q(xe,{path:"/delivery",component:Dd})}}),Q(qe,{get when(){return cc()},get children(){return[Q(xe,{path:"/expenses",component:wd}),Q(xe,{path:"/expenses-detail",component:bd}),Q(xe,{path:"/beneficiaries",component:xd}),Q(xe,{path:"/shippers",component:vd}),Q(xe,{path:"/users",component:sd})]}}),Q(xe,{path:"/tracking",component:kn}),Q(xe,{path:"/",component:kn})]}})}}),null),Bt(e,Q(id,{}),null),Bt(e,Q(ad,{}),null),et(()=>wa(e,ja()?"isMobile":"")),e})(),Fd);export{fa as $,Ln as A,J0 as B,xh as C,ch as D,cc as E,Pd as F,Td as G,Ld as H,hh as I,bh as J,Ie as K,Eh as L,dc as M,sh as N,gh as O,Vl as P,uh as Q,Zd as R,qe as S,fh as T,zd as U,Wd as V,Kd as W,Yd as X,Zl as Y,Fh as Z,le as _,ve as a,Yl as a0,fc as a1,Qd as a2,eh as a3,vh as a4,Xl as a5,Ud as a6,lh as a7,No as a8,Bh as a9,Ch as aA,th as aB,oh as aC,_h as aD,Sh as aE,dh as aF,kh as aG,Jl as aH,ah as aa,ih as ab,Vd as ac,nh as ad,rh as ae,mo as af,Rd as ag,qd as ah,kd as ai,Gd as aj,Ss as ak,Ah as al,u0 as am,Co as an,Md as ao,$d as ap,Z as aq,so as ar,Od as as,jd as at,Nd as au,$o as av,Ht as aw,Id as ax,Xd as ay,s0 as az,Xs as b,Tt as c,Q as d,et as e,wa as f,ja as g,Ba as h,Bt as i,Gl as j,Gs as k,de as l,fe as m,kt as n,Fs as o,Dh as p,ph as q,Xt as r,Sd as s,yo as t,Hd as u,wh as v,Eo as w,Jd as x,yh as y,mh as z};
