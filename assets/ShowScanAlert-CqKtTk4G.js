const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SVG-CWjkhMje.js","assets/index-CzgziP8Z.js","assets/index-DGHHyjai.css","assets/index-Ci0zXM0r.js","assets/CheckBoxSlide-BegpCfq6.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import"./Toast-AIkMIwLG.js";import{k as h,v as f,f as S,n as $,t as _,l as w,_ as P,e as E,a as F,b as A,m as R,i as v}from"./index-CzgziP8Z.js";import{g as x,i as k}from"./globalSignal-oi01T7gp.js";import{b as I,f as C,a as D,j as W}from"./Util-uEfv1z7O.js";import{g as L,c as z}from"./ShowQRPrintLabel-BvjR69lW.js";let G=[400,300,400,300,400],m=[300,80,300,80,300,80,300];const H=t=>{t=t.split("'").join("-");let r=t.split("/");t.split("-").length>3&&(r=t.split("-").join);let e=r?.[0];e.indexOf("2300")===0&&(e="2300"+(e.split("2300")?.[1]).slice(0,5)),console.log(e);let a="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const s=new RegExp(a);e.length===13&&s.test(e);let l="^[0-9]{4}-[1-9]{4}";const g=new RegExp(l);e.length===9&&g.test(e),r.length>4&&e.length;let o="^Y24[0-9]{6}";const d=new RegExp(o);e.length===9&&d.test(e);let n="^SS24[0-9]{6}";const u=new RegExp(n);e.length===10&&u.test(e);let c="^[0-9]";const i=new RegExp(c);return e.length>6&&e.length<11&&i.test(e),{params:{idairguide:"all",":search0":e},code:1}},U=async(t,r)=>{let e=H(t),a={timeStamp:new Date().getTime(),latitude:x?.latitude,longitude:x?.longitude,statusId:r,userId:h?.profile?.userId,userName:h?.profile?.name};if(e?.params)return await j(e.params,a);{let s=e?.txt||e?.params?.search0;return navigator.vibrate(m),{error:{alert:"error",color:"rgb(200 25 60)",scanData:{consigneeInfo:{ybestate:"Codigo Incorrecto",bagnumber:s}}}}}},j=async(t,r)=>{let e=await O(t),a=Object.keys(e)?.[0];if(e[a]?.cidentity){let l=q(e[a],r);return navigator.vibrate(500),l}let s={consigneeInfo:{ybestate:"Codigo Incorrecto"}};return navigator.vibrate(m),{error:{alert:"error",color:"rgb(200 25 60)",scanData:s}}},q=async(t,r)=>{let e=t?.statusHistory||[];e.push(r);let a=!1;if(t?.isSSG&&f?.roles?.SSG?.isActive&&(a=!0),f?.roles?.[t?.consigneeInfo?.ybestate]?.isActive)if(t?.currentStatus!==r.statusId){let s={statusHistory:e,currentStatus:r.statusId},l={ssg_track_key:t.ssg_track_key,idairguide:"all"},g=await M(l,s),o={tracking:t?.tracking,idairguide:t.idairguide,city:t?.consigneeInfo?.ybcity,estate:t.estate,bagnumber:t?.bagnumber};return{data:{...g,...o,isSSG:a},color:"#0f5223ff"}}else{let s={consigneeInfo:{ybcity:"Fue escaneado",ybestate:t?.consigneeInfo?.ybestate,bagnumber:t?.bagnumber}};return navigator.vibrate(G),{error:{alert:"warning",color:"#FF6F1D",scanData:s,isSSG:a}}}else{let s={consigneeInfo:{ybestate:"Zona incorrecta",bagnumber:t?.bagnumber}};return navigator.vibrate(m),{error:{alert:"warning",color:"#FF6F1D",scanData:s}}}},M=async(t,r)=>{let e={params:t,data2update:r},a=I(809004);return e={...e,...a},await C(e)},O=async t=>{let r={params:t,fldsQry:["idairguide","currentStatus","ssg_track_key","statusHistory","tracking","estate","city","cidentity","consigneeInfo:ybestate","consigneeInfo:ybcity"]},e=I(802001);return r={...r,...e},await C(r)};var Q=_('<div><div class="_dsplFlx flxWrp spaceAround "><img ref alt=ssg>');function J(){return(()=>{var t=Q(),r=t.firstChild,e=r.firstChild;return t.style.setProperty("max-height","80vh"),t.style.setProperty("overflow","auto"),t.style.setProperty("background","#fff"),t.style.setProperty("border-radius","13"),r.style.setProperty("padding","16px"),S(a=>{var s=k()?"96vw":"420px",l=D("SSG.webp");return s!==a.e&&((a.e=s)!=null?t.style.setProperty("width",s):t.style.removeProperty("width")),l!==a.t&&$(e,"src",a.t=l),a},{e:void 0,t:void 0}),t})()}var B=_('<div><div><div class="_dsplFlx flxWrp spaceAround "><div class="_dsplFlx bottombx lowbordr"><h5>Codigo </h5></div><div class="_dsplFlx bottombx "><h4></h4></div></div><div class="_dsplFlx bottombx flxWrp spaceAround txtWrap"><h5></h5></div><div class="_dsplFlx bottombx flxWrp spaceAround txtWrap"><h5>');w(()=>P(()=>import("./SVG-CWjkhMje.js"),__vite__mapDeps([0,1,2,3])));w(()=>P(()=>import("./CheckBoxSlide-BegpCfq6.js"),__vite__mapDeps([4,1,2,5])));function K(t){F(!1);const r=e=>{z(e)};return A(t?.val,async e=>await L(t?.val)),R(()=>{W()}),(()=>{var e=B(),a=e.firstChild,s=a.firstChild,l=s.firstChild,g=l.nextSibling,o=g.firstChild,d=s.nextSibling,n=d.firstChild,u=d.nextSibling,c=u.firstChild;return e.style.setProperty("max-height","80vh"),e.style.setProperty("overflow","auto"),e.style.setProperty("background","#ffffff"),e.style.setProperty("border-radius","13"),e.style.setProperty("padding","50px 25px"),o.$$click=()=>r(t?.bagnumber),v(o,()=>t?.bagnumber),d.style.setProperty("padding","16px"),n.$$click=()=>r(t?.msg1),v(n,()=>t?.msg1),u.style.setProperty("padding","16px"),c.$$click=()=>r(t?.msg2),v(c,()=>t?.msg2),S(i=>{var y=k()?"86vw":"420px",p=300/t?.msg1?.length*1.32+"px",b=300/t?.msg2?.length*1.32+"px";return y!==i.e&&((i.e=y)!=null?e.style.setProperty("width",y):e.style.removeProperty("width")),p!==i.t&&((i.t=p)!=null?n.style.setProperty("font-size",p):n.style.removeProperty("font-size")),b!==i.a&&((i.a=b)!=null?c.style.setProperty("font-size",b):c.style.removeProperty("font-size")),i},{e:void 0,t:void 0,a:void 0}),e})()}E(["click"]);export{J as S,K as a,U as h};
