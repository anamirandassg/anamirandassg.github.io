const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-ug-srFZ8.js","assets/index-DKK1H5Wu.js","assets/index-B8bAFC38.css","assets/SVG-CQBjCA4f.js","assets/LoadingColorSpinner-xEmCXuaI.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-x2kVkhyV.js","assets/InputHr-BXFw4d2l.css","assets/ButonHrm-B3VXOT6d.js","assets/ButonHrm-BSeWNUGQ.css","assets/PickDate-BhH9_vPa.js","assets/DialogHRM-DQnhXj9Z.js","assets/DialogHRM-V9_lZntj.css"])))=>i.map(i=>d[i]);
import{l as S,_ as E,c as D,a as y,o as ee,b as W,d as F,i as a,e as n,u as re,S as T,f as te,g as A,h as w,j as O,k as I,m as le,n as H,s as oe,t as x,p as $,q as P,O as K,r as ne,v as ae}from"./index-DKK1H5Wu.js";import"./browser-image-compression-BVJ4p9S0.js";import{OpenToast as B}from"./Toast-DWjnrgKH.js";import"./AddInventory-Bz04rzbf.js";import"./fontkit.es-hxeLWowR.js";import"./qrcode-DHy8FFhS.js";import{u as J}from"./debounces-BVaMGjJh.js";import{OpenModal as ie,CloseModal as se}from"./DialogHRM-DQnhXj9Z.js";import"./DashProducts-Bc_aj6Jc.js";import"./App.module-CbHnVtRQ.js";import"./FlexSpace-ug-srFZ8.js";var ce=x('<div style="padding:50px 0 0 0"><section class="qsuVSc mainM">'),de=x('<section class="bLl6je "><section class="dvPdhb "><div class="QCNFEe centerBx"><p class=jhB0af>Confirmar</p></div><section class="EMijzc centerBx">'),ue=x('<section class="Mijzc12 ">'),L=x("<section class=Mijzc12>"),be=x('<section class=KgyCAd><section class=WirBi><div class="QCNFEe centerBx spaceAround"><p class=jhB0af>Envia</p></div><div class="text-sm text-center text-muted-foreground">buscar coincidencias con su numero de telefono</div><section class="EMijzc "></section><section class="EMijzc centerBx flxWrp spaceAround">'),fe=x('<div class=" centerBx flxWrp spaceAround">'),k=x('<section class="Mijzc12 centerBx flxWrp spaceAround">'),Y=x("<div class=separator>"),me=x('<section class="rtS8wf InvE "><div class=X3QHFf><section class=WirBi><div class="QCNFEe centerBx spaceAround"><p class=jhB0af>Recibe</p></div><div class="text-sm text-center text-muted-foreground">buscar coincidencias con el carnet de identidad</div><section class="EMijzc centerBx flxWrp spaceAround"></section><section class=""><section class="Mijzc12 centerBx "></section><section class="EMijzc centerBx"><section class=pFJUxe><section class=DHk3Fe>'),pe=x('<div class=save><div class="container savings"><div class="bento-text standardSubheading3">'),he=x('<div><div class=QCNFEe><p class=jhB0af>Confirmar Orden</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Desea enviar la orden</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">');const U=S(()=>E(()=>import("./FlexSpace-ug-srFZ8.js"),__vite__mapDeps([0,1,2]))),ve=S(()=>E(()=>import("./SVG-CQBjCA4f.js"),__vite__mapDeps([3,1,2])));S(()=>E(()=>import("./LoadingColorSpinner-xEmCXuaI.js"),__vite__mapDeps([4,1,2,5])));const h=S(()=>E(()=>import("./InputHr-x2kVkhyV.js"),__vite__mapDeps([6,1,2,7]))),j=S(()=>E(()=>import("./ButonHrm-B3VXOT6d.js"),__vite__mapDeps([8,1,2,3,9])));S(()=>E(()=>import("./PickDate-BhH9_vPa.js"),__vite__mapDeps([10,1,2,11,12])));const[De,Fe]=D({items:{}}),Te="348723orh2idsffs",ge={name:"",phoneNumberS:"",dob:""},G={firstName:"",lastName:"",lastName2:"",middleName:"",email:"",phoneNumber:"",altPhoneNumber:"",cid:"",ybstreetNo:"",ybstreet:"",ybbetwen1:"",ybbetwen2:"",ybapt:"",ybreparto:""},[N,R]=D({frm:{...ge}}),[p,M]=D({frm:{...G}});function qe(){y(0),y("");const[r,l]=y("");J(l,400),ee(()=>{}),W(()=>{}),F(()=>{o()});const o=async()=>{};return(()=>{var u=ce(),e=u.firstChild;return a(e,n(Ce,{}),null),a(e,n(xe,{}),null),a(e,n(_e,{}),null),u})()}const Ce=r=>{const l=re(),o=async t=>{let i=new Date,s=$(),g=Object.assign({},P(N?.frm),P(p?.frm)),_={type:"SALES",invoice:i.getFullYear()+ae(12),description:"",store:w?.profile?.agencyStore?.id,ssg_inventory_key:s,ssg_sorder_key:s,createDate:i.getTime(),shipper_consignee:g,packagesOrder:!0,businessId:w?.profile?.businessYId},f={params:{businessId:w?.profile?.businessYId},form:_},m=O(431005),v={...f,...m};(await I(v))?.error||(se(t),l("/orders",{replace:!0}))},u=()=>{let t=$(),i={};i.id=t,i.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},i.content=n(ke,{modalId:t,completeOrder:()=>o(t)}),ie(i)},e=()=>{let t=Object.assign({},P(N?.frm),P(p?.frm));return t.name&&t.phoneNumberS&&t.phoneNumber&&t.cid&&t.firstName&&t.lastName&&t.lastName2&&t.ybstreet};return n(T,{get when(){return e()},get children(){var t=de(),i=t.firstChild,s=i.firstChild,g=s.nextSibling;return a(g,n(U,{}),null),a(g,n(j,{color:"#1967d2",placeholder:"Enviar Orden",icon:"outline_cart",handleClick:u}),null),t}})},xe=r=>{const[l,o]=y(0),[u,e]=y(!1),t=async()=>{let s=N?.frm?.phoneNumberS;if(s=s?.split(" ")?.join(""),s=s?.split("(")?.join(""),s=s?.split(")")?.join(""),s=s?.split("-")?.join(""),!(typeof s!="number"&&!isNaN(s)&&s.length===10)){B({text:s+" no es un numero de telefono valido ",timeout:3500,theme:"red",id:$()}),o(1);return}let _=await ye(s),f=K(_)?.[0];if(_?.[f]?.name?.toLowerCase()?.indexOf(N?.frm?.name?.toLowerCase())>=0){let v=_?.[f]?.dob.split("-"),d={dob:A(v[1]+"/"+v[2]+"/"+v[0]),name:_?.[f]?.name};console.log(d),R("frm",d),o(1)}else{B({text:" la informacion no coincide ",timeout:3500,theme:"red",id:$()}),o(1);return}},i=(s,g)=>{R("frm",s,g)};return(()=>{var s=be(),g=s.firstChild,_=g.firstChild,f=_.nextSibling,m=f.nextSibling,v=m.nextSibling;return a(m,n(T,{get when(){return!u()},get fallback(){return(()=>{var d=fe();return a(d,n($e,{placeholder:"buscar coincidencias con el carnet identidad",icon:"info",backColor:"#edf4fd",color:"#1967d2"})),d})()},get children(){return[(()=>{var d=ue();return a(d,n(V,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",colors:"#2b2b2b",placeholder:"(123) 456-7890",upd:C=>i("phoneNumberS",C),get value(){return N?.frm?.phoneNumberS},index:1,maxLength:14,format:te})),d})(),(()=>{var d=L();return a(d,n(V,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"MM/DD/YYYY",colors:"#2b2b2b",upd:C=>i("dob",A(C)),get value(){return N?.frm?.dob},index:2,format:A,maxLength:10})),d})(),(()=>{var d=L();return a(d,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Nombre",colors:"#2b2b2b",handleClick:C=>i("name",C),get value(){return N?.frm?.name},validations:{required:!0},index:2})),d})()]}})),a(v,n(j,{color:"#1967d2",label:"Buscar coincidencias",icon:"search",handleClick:t})),s})()},_e=r=>{const[l,o]=y(""),u=J(o,400),e=(m,v)=>{M("frm",m,v),u($())};y("");const[t,i]=y(0),[s,g]=y("");F(()=>{g(w?.profile?.agencyStore?.id)});const _=async()=>{let m=p?.frm?.cid;if(!(typeof m!="number"&&!isNaN(m)&&m.length===11)){B({text:m+" no es un carnet de identidad valido ",timeout:3500,theme:"red",id:$()}),i(1);return}let d=await Ne(m);console.log(d);let C=K(d)?.[0];if(d[C]?.cid)console.log(d[C]),M("frm",d[C]),i(1);else{i(1),M("frm",G),B({text:"no encontramos ninguna coincidencia ",timeout:3500,theme:"red",id:$()});return}};let f=3;return(()=>{var m=me(),v=m.firstChild,d=v.firstChild,C=d.firstChild,X=C.nextSibling,q=X.nextSibling,z=q.nextSibling,Q=z.firstChild,Z=Q.nextSibling;return a(q,n(j,{color:"#1967d2",label:"Buscar coincidencias",icon:"search",handleClick:_})),a(Q,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",colors:"#2b2b2b",placeholder:"carnet de identidad",handleClick:c=>e("cid",c),get value(){return p?.frm?.cid},validations:{required:!0,number:!0,cid:!0},index:1+f})),a(z,n(T,{get when(){return t()===1},get children(){return[(()=>{var c=k();return a(c,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",cel:!0,colors:"#2b2b2b",placeholder:"1er nombre",handleClick:b=>e("firstName",b),get value(){return p?.frm?.firstName},validations:{required:!0},index:2+f}),null),a(c,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"2do nombre",colors:"#2b2b2b",handleClick:b=>e("middleName",b),get value(){return p?.frm?.middleName},index:3+f}),null),c})(),(()=>{var c=k();return a(c,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"1er Apellido",colors:"#2b2b2b",handleClick:b=>e("lastName",b),get value(){return p?.frm?.lastName},validations:{required:!0},index:4+f}),null),a(c,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"2do Apellido",colors:"#2b2b2b",handleClick:b=>e("lastName2",b),get value(){return p?.frm?.lastName2},validations:{required:!0},index:5+f}),null),c})(),Y(),(()=>{var c=k();return a(c,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Telefono Principal",colors:"#2b2b2b",handleClick:b=>e("phoneNumber",b),get value(){return p?.frm?.phoneNumber},validations:{required:!0,number:!0,cubaphone:!0},index:6+f}),null),a(c,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Telefono Alternativo",colors:"#2b2b2b",handleClick:b=>e("altPhoneNumber",b),get value(){return p?.frm?.altPhoneNumber},validations:{required:!1,number:!0,cubaphone:!0},index:7+f}),null),c})(),Y(),(()=>{var c=k();return a(c,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Calle",colors:"#2b2b2b",handleClick:b=>e("ybstreet",b),get value(){return p?.frm?.ybstreet},validations:{required:!0},index:8+f}),null),a(c,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"No Calle",colors:"#2b2b2b",handleClick:b=>e("ybstreetNo",b),get value(){return p?.frm?.ybstreetNo},validations:{required:!0},index:9+f}),null),c})(),(()=>{var c=k();return a(c,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Entre calle",colors:"#2b2b2b",handleClick:b=>e("ybbetwen1",b),get value(){return p?.frm?.ybbetwen1},index:10+f}),null),a(c,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Y calle",colors:"#2b2b2b",handleClick:b=>e("ybbetwen2",b),get value(){return p?.frm?.ybbetwen2},index:11+f}),null),c})(),(()=>{var c=k();return a(c,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Reparto",colors:"#2b2b2b",handleClick:b=>e("ybreparto",b),get value(){return p?.frm?.ybreparto},index:12+f})),c})()]}}),Z),m})()},ze=async(r,l)=>{let o={params:{businessId:w?.profile?.businessYId}};r&&r.split(" ").map((t,i)=>{t&&(o.params[":search"+i]=t.trim())});let u=O(122001);o={...o,...u},o.params[":search0"];const e=await I(o);return e?.error?{}:e},Qe=r=>new Promise((l,o)=>{le.get(r,function(e,t){l(t)})}),Ye=async(r,l)=>{let o={params:{businessId:w?.profile?.businessYId,":store":l.trim()}};r&&r.split(" ").map((t,i)=>{t&&(o.params[":search"+i]=t.trim())});let u=O(132001);o={...o,...u},o.params[":search0"];const e=await I(o);return e?.error?{}:e},ye=async r=>{if(r.length===10){let l={params:{}};r&&r.split(" ").map((e,t)=>{e&&(l.params[":search"+t]=e.trim())});let o=O(421001);return l={...l,...o},await I(l)}else return{}},Ne=async r=>{if(r.length===11){let l={params:{}};r&&r.split(" ").map((e,t)=>{e&&(l.params[":search"+t]=e.trim())});let o=O(401001);return l={...l,...o},await I(l)}else return{}},$e=r=>{const l=()=>({"--bento-badge-background-color":r?.backColor,"--bento-badge-text-color":r?.color});return(()=>{var o=pe(),u=o.firstChild,e=u.firstChild;return a(u,n(ve,{get name(){return r.icon},size:16,color:"var(--bento-badge-text-color)"}),e),a(e,()=>r.placeholder),H(t=>oe(o,l(),t)),o})()};function ke(r){return(()=>{var l=he(),o=l.firstChild,u=o.nextSibling,e=u.nextSibling,t=e.nextSibling;return l.style.setProperty("max-height","80vh"),l.style.setProperty("overflow","auto"),l.style.setProperty("background","#fff"),l.style.setProperty("border-radius","11px"),l.style.setProperty("padding"," 0 21px"),a(t,n(U,{}),null),a(t,n(j,{color:"#646cff",icon:"send",placeholder:"Completar Orden",get handleClick(){return r.completeOrder}}),null),H(i=>(i=ne()?"96vw":"420px")!=null?l.style.setProperty("width",i):l.style.removeProperty("width")),l})()}function V(r){const[l,o]=y("");F(()=>{r?.value&&!l()&&o(r?.value)}),W(()=>{let e=r?.value;e&&e!==l()&&o(r?.value)});const u=e=>{r.format&&(e=r.format(e)),e===l()&&o(e+" "),r?.upd(e),o(e)};return(()=>{var e=L();return a(e,n(h,{get width(){return r.width},get backColor(){return r.backColor},get borderColor(){return r.borderColor},get placeholder(){return r.placeholder},get colors(){return r.colors},handleClick:t=>u(t),get value(){return l()},get index(){return r.index},get maxLength(){return r.maxLength}})),e})()}export{Ye as LookupInventory,ze as LookupProducts,qe as default,Qe as getCartId,De as inventoryItems,Te as inventoryKey,Fe as setInventoryItems};
