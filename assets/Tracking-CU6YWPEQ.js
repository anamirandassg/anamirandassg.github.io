const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-fUSyGZur.js","assets/index-CaXA0mR0.js","assets/index-D4QuRvi-.css","assets/LoadingColorSpinner-DPNLfwBi.css"])))=>i.map(i=>d[i]);
import{k as L,l as K,_ as J,u as X,c as A,a as f,h as Z,o as ee,m as te,d as o,e as re,i as n,S as h,f as _,s as T,F as ae,g as se,n as ne,t as v}from"./index-CaXA0mR0.js";import le from"./InputHr-Ov8gpAjA.js";import{f as q,b as Y,O as ie,g as oe}from"./Util-D7b_hj3C.js";import y from"./SVG-DEfsU4Im.js";import{s as R,b as ce,c as de}from"./manifestList-CT6VCobT.js";import"./index-Ci0zXM0r.js";let pe={webp:"image/webp",jpg:"image/jpg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",ts:"video/MP2T",m3u8:"application/x-mpegURL",mp4:"video/MP4",m4a:"audio/MP4",webm:"video/webm",weba:"audio/webm",m4s:"text/plain",txt:"text/plain",srt:"text/plain",vtt:"text/plain",js:"application/javascript; charset=UTF-8",css:"text/css; charset=utf-8",mpd:"video/vnd.mpeg.dash.mpd",aac:"audio/aac",mp3:"audio/mpeg",wav:"audio/wav",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pdf:"application/pdf","7z":"application/x-7z-compressed",zip:"application/zip",xml:"application/xml",json:"application/json",html:"text/html; charset=UTF-8"};const ue=r=>r&&r.split(".").pop().toLowerCase(),ge=r=>{let a=ue(r);return pe[a]},me=async(r,a)=>{let c=await(await fetch(r)).blob();return a&&(c=c.slice(0,c.size,a)),URL.createObjectURL(c)},ve=async r=>{let a={query:"getSignedUrl",params:{fileName:r}};var e;return L()?e=await q(a):e=(await Y(a))?.data,e?.url?e:null},fe=async r=>{let a=ge(r);var e=await ve(r);console.log(e);var c=await me(e?.url,a);return c};var xe=v('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),be=v('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><div><div></div><div class="_dsplFlx bottombx lowbordr spaceAround"><h5>'),he=v('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding-top:50px><div class="_dsplFlx flxWrp spaceAround centerBx"><div></div><div class="_dsplFlx bottombx"><h4> </h4><div class=vertseparator></div><h5>'),_e=v('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><div class=" bottombx"><div class="_dsplFlx bottombx spaceAround centerBx"><h5>Estado del envio: </h5><h4></h4></div><h4> '),ye=v('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><img alt=sf style=width:320px>'),ke=v("<div> "),we=v('<div class="icon_status centerBx">'),$e=v('<div class="icon_status centerBx trackFade">'),Se=v('<div class="icon_status centerBx ">');const Ce=K(()=>J(()=>import("./LoadingColorSpinner-fUSyGZur.js"),__vite__mapDeps([0,1,2,3])));function Re(){const[r,a]=X(),[e,c]=A();A({lbs:"",price:0});const[H,O]=A({}),[D,W]=f(""),[w,B]=f(!1);f();const[$,M]=f(""),[Fe,F]=f(""),[P,E]=f(""),[G,S]=f("");Z(()=>{}),ee(()=>{}),te(()=>{r?.id?(S(!1),I(r?.id)):S(!0)});const N=(s,t)=>{M(t),F(s),setTimeout(()=>{F("")},300)},Q=s=>{E(s),setTimeout(()=>{E("")},3e3)},I=async s=>{let t=s,i="^[0-9]{4}-[1-9]{4}";const u=new RegExp(i);let d=t.length===9&&u.test(t),l="^Y24[0-9]{6}";const g=new RegExp(l);let x=t.length===9&&g.test(t),b="^[0-9]";const p=new RegExp(b);let j=t.length>6&&t.length<11&&p.test(t),z={};if(d&&(z={idairguide:"175-2383"+t.slice(0,4),":tracking":t}),d||x||j){let m;if(x||j)m=await Be(t);else{let k=await Ae(z);m=k?.[ie(k)?.[0]]}if(m){if(m?.currentStatus==="YABA_99"&&m?.deliveryProof){let k=await fe(m?.deliveryProof);m[idTRa].deliveryProofBlob=k}c("tracking",m),B(!0),a({id:t})}}else N("","error"),O({consigneeInfo:{ybestate:"Codigo Incorrecto"}}),Q(oe());S(!0)};let C={error:{"--err-bx-color":"var(--background-red-ssg)","--err-bx-bgcolor":"var(--background-red35-ssg)",svg:"var(--err-bx-color)",icon:"alert"},success:{"--err-bx-color":"var(--hrm-palette-tertiary60)","--err-bx-bgcolor":"var(--hrm-palette-tertiary90)",svg:"var(--err-bx-color)",icon:"success"},warning:{"--err-bx-color":"#FF6F1D","--err-bx-bgcolor":"#ffdb99",svg:"var(--err-bx-color)",icon:"info"}},V=Array.from(Array(8).keys());return o(h,{get when(){return G()},get fallback(){return(()=>{var s=ke();return s.firstChild,n(s,o(Ce,{stroke:"rgb(200 25 60 / 1)",size:62}),null),s})()},get children(){return[(()=>{var s=be(),t=s.firstChild,i=t.firstChild,u=i.nextSibling,d=u.firstChild;return n(i,o(h,{get when(){return P()},get children(){var l=xe(),g=l.firstChild,x=g.nextSibling;return n(g,o(y,{get name(){return C?.[$()]?.icon},size:32,get color(){return C?.[$()]?.svg}})),n(x,()=>H?.consigneeInfo?.ybestate),_(b=>T(l,C?.[$()],b)),l}})),n(t,o(h,{get when(){return!w()},get children(){return o(le,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return D()},placeholder:"Numero de envio ...",colors:"#2b2b2b",handleClick:W,onEnter:I})}}),u),u.$$click=()=>B(!1),n(d,()=>w()?"Rastrear otro numero de envio":"Escriba su numero de envio"),_(l=>T(i,`padding: 15px 0px; margin: 0 auto; display: ${P()?"block":"none"};`,l)),s})(),o(h,{get when(){return w()&&e?.tracking},get children(){return[(()=>{var s=he(),t=s.firstChild,i=t.firstChild,u=i.nextSibling,d=u.firstChild,l=d.firstChild,g=d.nextSibling,x=g.nextSibling;return n(t,o(ae,{each:V,children:b=>R[e?.tracking?.currentStatus]!==0&&b===0?(()=>{var p=we();return n(p,o(y,{name:"market",size:32,color:"var(--hrm-palette-neutral-variant30)"})),p})():b===R[e?.tracking?.currentStatus]?(()=>{var p=$e();return n(p,o(y,{get name(){return ce?.[e?.tracking?.currentStatus]},size:32,color:"var(--background-red-ssg)"})),p})():(()=>{var p=Se();return n(p,o(y,{name:"radio_unchecked",size:16,color:"var(--hrm-palette-neutral-variant30)"})),p})()}),i),n(i,o(y,{name:"map-marker-radius-outline",size:32,get color(){return e?.tracking?.currentStatus==="YABA_99"?"var(--hrm-palette-tertiary60)":"var(--hrm-palette-neutral-variant30)"}})),n(d,()=>e?.tracking?.consigneeInfo?.ybestate,l),n(x,()=>e?.tracking?.consigneeInfo?.ybcity),_(()=>se(i,`icon_status centerBx ${e?.tracking?.currentStatus==="YABA_99"?"trackFade":""} `)),s})(),(()=>{var s=_e(),t=s.firstChild,i=t.firstChild,u=i.firstChild,d=u.nextSibling,l=i.nextSibling;return l.firstChild,n(d,()=>e?.tracking?.tracking),n(l,()=>de?.[e?.tracking?.currentStatus],null),_(g=>(g=e?.tracking?.currentStatus==="YABA_99"?"var(--hrm-palette-tertiary60)":"var(--background-red-ssg)")!=null?l.style.setProperty("color",g):l.style.removeProperty("color")),s})(),o(h,{get when(){return e?.tracking?.deliveryProofBlob},get children(){var s=ye(),t=s.firstChild;return _(()=>ne(t,"src",e?.tracking?.deliveryProofBlob)),s}})]}})]}})}const Ae=async r=>{let a={params:r,queryString:"tracking contain :tracking",fldsQry:["agency","idairguide","currentStatus","cidentity","ssg_track_key","tracking","consigneeInfo:ybestate","consigneeInfo:ybcity","deliveryProof"]},e={...getStore(qryStore())}[802001];return a={...a,...e},U(a)},Be=async r=>{let a={params:{id:r}},e={...getStore(qryStore())}[803001];return a={...a,...e},U(a)},U=async r=>L()?await q(r):(await Y(r))?.data;re(["click"]);export{Re as default};
