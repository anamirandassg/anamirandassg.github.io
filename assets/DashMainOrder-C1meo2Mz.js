const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-DXS7Y6Vg.js","assets/index-C1irK0dV.js","assets/index-BYl1CvbN.css","assets/SVG-C-TiIR9g.js","assets/LoadingColorSpinner-DU-Y13d_.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-DuzsdUxm.js","assets/InputHr-BXFw4d2l.css","assets/ButonHrm-Cd9fcfwc.js","assets/ButonHrm-BSeWNUGQ.css","assets/PickDate-CV2t9TvT.js","assets/DialogHRM-DVx32KGw.js","assets/DialogHRM-V9_lZntj.css","assets/DropDwnSearch-jOAmRbus.js","assets/debounces-DxqfX1UD.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as I,_ as E,c as K,a as C,o as ce,b as re,d as J,i,e as n,u as de,S as Q,f as ue,g as Y,h as G,j,k as M,m as D,n as be,p as te,s as fe,t as g,q as S,r as q,O as le,v as me,w as pe}from"./index-C1irK0dV.js";import"./browser-image-compression-BVJ4p9S0.js";import{OpenToast as R}from"./Toast-eDfkih7h.js";import"./AddInventory-B4NUxHr6.js";import"./fontkit.es-B09vuK7D.js";import"./qrcode-DHy8FFhS.js";import{u as oe}from"./debounces-DxqfX1UD.js";import{OpenModal as he,CloseModal as ve}from"./DialogHRM-DVx32KGw.js";import"./DashProducts-cNBN2PVd.js";import"./App.module-CbHnVtRQ.js";import"./FlexSpace-DXS7Y6Vg.js";var ge=g('<div style="padding:50px 0 0 0"><section class="qsuVSc mainM">'),Ce=g('<section class="bLl6je "><section class="dvPdhb "><div class="QCNFEe centerBx"><p class=jhB0af>Confirmar</p></div><section class="EMijzc centerBx">'),_e=g('<section class="Mijzc12 ">'),W=g("<section class=Mijzc12>"),xe=g('<section class=KgyCAd><section class=WirBi><div class="QCNFEe centerBx spaceAround"><p class=jhB0af>Envia</p></div><div class="text-sm text-center text-muted-foreground">buscar coincidencias con su numero de telefono</div><section class="EMijzc "></section><section class="EMijzc centerBx flxWrp spaceAround">'),ye=g('<div class=" centerBx flxWrp spaceAround">'),B=g('<section class="Mijzc12 centerBx flxWrp spaceAround">'),X=g("<div class=separator>"),ke=g("<div style=padding:4px>"),$e=g('<section class="Mijzc12 centerBx flxWrp spaceAround"><div style=padding:4px>'),Ne=g('<section class="rtS8wf InvE "><div class=X3QHFf><section class=WirBi><div class="QCNFEe centerBx spaceAround"><p class=jhB0af>Recibe</p></div><div class="text-sm text-center text-muted-foreground">buscar coincidencias con el carnet de identidad</div><section class="EMijzc centerBx flxWrp spaceAround"></section><section class=""><section class="Mijzc12 centerBx "></section><section class="EMijzc centerBx"><section class=pFJUxe><section class=DHk3Fe>'),we=g('<div class=save><div class="container savings"><div class="bento-text standardSubheading3">'),Se=g('<div><div class=QCNFEe><p class=jhB0af>Confirmar Orden</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Desea enviar la orden</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">');const ne=I(()=>E(()=>import("./FlexSpace-DXS7Y6Vg.js"),__vite__mapDeps([0,1,2]))),Ie=I(()=>E(()=>import("./SVG-C-TiIR9g.js"),__vite__mapDeps([3,1,2])));I(()=>E(()=>import("./LoadingColorSpinner-DU-Y13d_.js"),__vite__mapDeps([4,1,2,5])));const h=I(()=>E(()=>import("./InputHr-DuzsdUxm.js"),__vite__mapDeps([6,1,2,7]))),V=I(()=>E(()=>import("./ButonHrm-Cd9fcfwc.js"),__vite__mapDeps([8,1,2,3,9])));I(()=>E(()=>import("./PickDate-CV2t9TvT.js"),__vite__mapDeps([10,1,2,11,12])));const Z=I(()=>E(()=>import("./DropDwnSearch-jOAmRbus.js"),__vite__mapDeps([13,1,2,14,3,15]))),[He,Ke]=K({items:{}}),Je="348723orh2idsffs",ae={name:"",phoneNumberS:"",dob:""},U={firstName:"",lastName:"",lastName2:"",middleName:"",email:"",phoneNumber:"",altPhoneNumber:"",cid:"",ybstreetNo:"",ybstreet:"",ybbetwen1:"",ybbetwen2:"",ybapt:"",ybreparto:""},[w,H]=K({frm:{...ae}}),[m,k]=K({frm:{...U}});function Ue(){C(0),C("");const[e,t]=C("");oe(t,400),ce(()=>{}),re(()=>{}),J(()=>{o()});const o=async()=>{};return(()=>{var u=ge(),l=u.firstChild;return i(l,n(Ee,{}),null),i(l,n(Oe,{}),null),i(l,n(Pe,{}),null),u})()}const Ee=e=>{const t=de(),o=async r=>{let a=new Date,c=S(),v=Object.assign({},q(w?.frm),q(m?.frm)),_={type:"SALES",invoice:a.getFullYear()+pe(12),description:"",store:j?.profile?.agencyStore?.id,ssg_inventory_key:c,ssg_sorder_key:c,createDate:a.getTime(),shipper_consignee:v,packagesOrder:!0,businessId:j?.profile?.businessYId},x={params:{businessId:j?.profile?.businessYId},form:_},$=M(431005),y={...x,...$};(await D(y))?.error||(ve(r),t("/orders",{replace:!0}),k("frm",U),H("frm",ae))},u=()=>{let r=S(),a={};a.id=r,a.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},a.content=n(Me,{modalId:r,completeOrder:()=>o(r)}),he(a)},l=()=>{let r=Object.assign({},q(w?.frm),q(m?.frm));return r.name&&r.phoneNumberS&&r.phoneNumber&&r.cid&&r.firstName&&r.lastName&&r.lastName2&&r.ybstreet};return n(Q,{get when(){return l()},get children(){var r=Ce(),a=r.firstChild,c=a.firstChild,v=c.nextSibling;return i(v,n(ne,{}),null),i(v,n(V,{color:"#1967d2",placeholder:"Enviar Orden",icon:"outline_cart",handleClick:u}),null),r}})},Oe=e=>{const[t,o]=C(0),[u,l]=C(!1),r=async()=>{let c=w?.frm?.phoneNumberS;if(c=c?.split(" ")?.join(""),c=c?.split("(")?.join(""),c=c?.split(")")?.join(""),c=c?.split("-")?.join(""),!(typeof c!="number"&&!isNaN(c)&&c.length===10)){R({text:c+" no es un numero de telefono valido ",timeout:3500,theme:"red",id:S()}),o(1);return}let _=await Be(c),x=le(_)?.[0];if(_?.[x]?.name?.toLowerCase()?.indexOf(w?.frm?.name?.toLowerCase())>=0){let y=_?.[x]?.dob.split("-"),p={dob:Y(y[1]+"/"+y[2]+"/"+y[0]),name:_?.[x]?.name};H("frm",p),o(1)}else{R({text:" la informacion no coincide ",timeout:3500,theme:"red",id:S()}),o(1);return}},a=(c,v)=>{H("frm",c,v)};return(()=>{var c=xe(),v=c.firstChild,_=v.firstChild,x=_.nextSibling,$=x.nextSibling,y=$.nextSibling;return i($,n(Q,{get when(){return!u()},get fallback(){return(()=>{var p=ye();return i(p,n(Ae,{placeholder:"buscar coincidencias con el carnet identidad",icon:"info",backColor:"#edf4fd",color:"#1967d2"})),p})()},get children(){return[(()=>{var p=_e();return i(p,n(ee,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",colors:"#2b2b2b",placeholder:"(123) 456-7890",upd:b=>a("phoneNumberS",b),get value(){return w?.frm?.phoneNumberS},index:1,maxLength:14,format:ue})),p})(),(()=>{var p=W();return i(p,n(ee,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"MM/DD/YYYY",colors:"#2b2b2b",upd:b=>a("dob",Y(b)),get value(){return w?.frm?.dob},index:2,format:Y,maxLength:10})),p})(),(()=>{var p=W();return i(p,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Nombre",colors:"#2b2b2b",handleClick:b=>a("name",b),get value(){return w?.frm?.name},validations:{required:!0},index:2})),p})()]}})),i(y,n(V,{color:"#1967d2",label:"Buscar coincidencias",icon:"search",handleClick:r})),c})()},Pe=e=>{const[t,o]=C(),[u,l]=C(""),r=oe(l,400),a=(f,L)=>{k("frm",f,L),r(S())};C("");const[c,v]=C(0),[_,x]=C("");J(()=>{x(j?.profile?.agencyStore?.id)});const $=async()=>{let f=m?.frm?.cid;if(!(typeof f!="number"&&!isNaN(f)&&f.length===11)){R({text:f+" no es un carnet de identidad valido ",timeout:3500,theme:"red",id:S()}),v(1);return}let O=await je(f),A=le(O)?.[0];if(O[A]?.cid){let T=e?.item?.ybestate;if(T){let P=G("M023009")?.provincias?.filter?.(N=>N.label===T)?.[0];if(P?.id&&o(P),e?.item?.ybcity){let N=P?.cities?.filter?.(z=>z.label===e?.item?.ybcity)?.[0];N?.id&&(O[A].citiId=N?.id)}}k("frm",O[A]),v(1)}else{v(1),k("frm",U),R({text:"no encontramos ninguna coincidencia ",timeout:3500,theme:"red",id:S()});return}},y=f=>{k("frm","provinceId",f.id),k("frm","ybestate",f.label),o(f)},p=f=>{k("frm","citiId",f.id),k("frm","ybcity",f.label)};let b=3;return(()=>{var f=Ne(),L=f.firstChild,O=L.firstChild,A=O.firstChild,T=A.nextSibling,P=T.nextSibling,N=P.nextSibling,z=N.firstChild,ie=z.nextSibling;return i(P,n(V,{color:"#1967d2",label:"Buscar coincidencias",icon:"search",handleClick:$})),i(z,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",colors:"#2b2b2b",placeholder:"carnet de identidad",handleClick:s=>a("cid",s),get value(){return m?.frm?.cid},validations:{required:!0,number:!0,cid:!0},index:1+b})),i(N,n(Q,{get when(){return c()===1},get children(){return[(()=>{var s=B();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",cel:!0,colors:"#2b2b2b",placeholder:"1er nombre",handleClick:d=>a("firstName",d),get value(){return m?.frm?.firstName},validations:{required:!0},index:2+b}),null),i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"2do nombre",colors:"#2b2b2b",handleClick:d=>a("middleName",d),get value(){return m?.frm?.middleName},index:3+b}),null),s})(),(()=>{var s=B();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"1er Apellido",colors:"#2b2b2b",handleClick:d=>a("lastName",d),get value(){return m?.frm?.lastName},validations:{required:!0},index:4+b}),null),i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"2do Apellido",colors:"#2b2b2b",handleClick:d=>a("lastName2",d),get value(){return m?.frm?.lastName2},validations:{required:!0},index:5+b}),null),s})(),X(),(()=>{var s=B();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Telefono Principal",colors:"#2b2b2b",handleClick:d=>a("phoneNumber",d),get value(){return m?.frm?.phoneNumber},validations:{required:!0,number:!0,cubaphone:!0},index:6+b}),null),i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Telefono Alternativo",colors:"#2b2b2b",handleClick:d=>a("altPhoneNumber",d),get value(){return m?.frm?.altPhoneNumber},validations:{required:!1,number:!0,cubaphone:!0},index:7+b}),null),s})(),X(),(()=>{var s=B();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Calle",colors:"#2b2b2b",handleClick:d=>a("ybstreet",d),get value(){return m?.frm?.ybstreet},validations:{required:!0},index:8+b}),null),i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"No Calle",colors:"#2b2b2b",handleClick:d=>a("ybstreetNo",d),get value(){return m?.frm?.ybstreetNo},validations:{required:!0},index:9+b}),null),s})(),(()=>{var s=B();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Entre calle",colors:"#2b2b2b",handleClick:d=>a("ybbetwen1",d),get value(){return m?.frm?.ybbetwen1},index:10+b}),null),i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Y calle",colors:"#2b2b2b",handleClick:d=>a("ybbetwen2",d),get value(){return m?.frm?.ybbetwen2},index:11+b}),null),s})(),(()=>{var s=B();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Reparto",colors:"#2b2b2b",handleClick:d=>a("ybreparto",d),get value(){return m?.frm?.ybreparto},index:12+b})),s})(),(()=>{var s=$e(),d=s.firstChild;return i(d,n(Z,{get list(){return G("M023009")?.provincias},lbl_empty:"Provincia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return m?.frm?.provinceId},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:F=>y(F),width:"260px"})),i(s,n(Q,{get when(){return t()},get children(){var F=ke();return i(F,n(Z,{get list(){return t()?.cities},lbl_empty:"Municipio",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return m?.frm?.citiId},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:se=>p(se),width:"260px"})),F}}),null),s})()]}}),ie),f})()},Ge=async(e,t)=>{let o={params:{businessId:j?.profile?.businessYId}};e&&e.split(" ").map((r,a)=>{r&&(o.params[":search"+a]=r.trim())});let u=M(122001);o={...o,...u},o.params[":search0"];const l=await D(o);return l?.error?{}:l},Xe=e=>new Promise((t,o)=>{be.get(e,function(l,r){t(r)})}),Ze=async(e,t)=>{let o={params:{businessId:j?.profile?.businessYId,":store":t.trim()}};e&&e.split(" ").map((r,a)=>{r&&(o.params[":search"+a]=r.trim())});let u=M(132001);o={...o,...u},o.params[":search0"];const l=await D(o);return l?.error?{}:l},Be=async e=>{if(e.length===10){let t={params:{}};e&&e.split(" ").map((l,r)=>{l&&(t.params[":search"+r]=l.trim())});let o=M(421001);return t={...t,...o},await D(t)}else return{}},je=async e=>{if(e.length===11){let t={params:{}};e&&e.split(" ").map((l,r)=>{l&&(t.params[":search"+r]=l.trim())});let o=M(401001);return t={...t,...o},await D(t)}else return{}},Ae=e=>{const t=()=>({"--bento-badge-background-color":e?.backColor,"--bento-badge-text-color":e?.color});return(()=>{var o=we(),u=o.firstChild,l=u.firstChild;return i(u,n(Ie,{get name(){return e.icon},size:16,color:"var(--bento-badge-text-color)"}),l),i(l,()=>e.placeholder),te(r=>fe(o,t(),r)),o})()};function Me(e){return(()=>{var t=Se(),o=t.firstChild,u=o.nextSibling,l=u.nextSibling,r=l.nextSibling;return t.style.setProperty("max-height","80vh"),t.style.setProperty("overflow","auto"),t.style.setProperty("background","#fff"),t.style.setProperty("border-radius","11px"),t.style.setProperty("padding"," 0 21px"),i(r,n(ne,{}),null),i(r,n(V,{color:"#646cff",icon:"send",placeholder:"Completar Orden",get handleClick(){return e.completeOrder}}),null),te(a=>(a=me()?"96vw":"420px")!=null?t.style.setProperty("width",a):t.style.removeProperty("width")),t})()}function ee(e){const[t,o]=C("");J(()=>{e?.value&&!t()&&o(e?.value)}),re(()=>{let l=e?.value;l&&l!==t()&&o(e?.value)});const u=l=>{e.format&&(l=e.format(l)),l===t()&&o(l+" "),e?.upd(l),o(l)};return(()=>{var l=W();return i(l,n(h,{get width(){return e.width},get backColor(){return e.backColor},get borderColor(){return e.borderColor},get placeholder(){return e.placeholder},get colors(){return e.colors},handleClick:r=>u(r),get value(){return t()},get index(){return e.index},get maxLength(){return e.maxLength}})),l})()}export{Ze as LookupInventory,Ge as LookupProducts,Ue as default,Xe as getCartId,He as inventoryItems,Je as inventoryKey,Ke as setInventoryItems};
