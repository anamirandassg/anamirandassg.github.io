const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ButonHrm-CfHlo3jl.js","assets/index-C-1XLrnY.js","assets/index-CJxZRJNk.css","assets/SVG-b2O7CS5i.js","assets/Util-Df9CfxGL.js","assets/ButonHrm-BSeWNUGQ.css","assets/FlexSpace-CIM_Wn2D.js","assets/LoadingColorSpinner-C1IaWTFV.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-BKkUQoj4.js","assets/InputHr-M3rJ9grQ.css","assets/ItemOnConsigneeMain-SzRInqr2.js","assets/DialogHRM-BKOGqijo.js","assets/DialogHRM-V9_lZntj.css","assets/ContainerElasticView-Dg9ekH5G.js","assets/ContainerElasticView-LzOd6fDI.css","assets/PDFButton-BDIa4If0.js","assets/qrcode-DHy8FFhS.js","assets/fontkit.es-6TA5hJ2T.js","assets/Toast-DjPnEMIN.js","assets/Toast-DLpFKn-Q.css","assets/ShowRemmitance-AG6ji2TY.js","assets/ShowQRPrintLabel-Dh0c1n-d.js","assets/InitPrintServices-BR2Uf5F7.js","assets/PickDate-DWANUqq7.js","assets/DropDwnSearch-BhzBTQYl.js","assets/debounces-PmbqfJwO.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{c as I,l as B,_ as w,a as x,o as ce,b as Q,i as a,d as r,F as de,S as g,e as N,s as ue,f as F,g as R,h as me,t as u,u as he}from"./index-C-1XLrnY.js";import{p as G,O as M,g as _e,a as be,b as ge,c as W,f as Y}from"./Util-Df9CfxGL.js";import{OpenModal as fe}from"./DialogHRM-BKOGqijo.js";import ve from"./CalendarPicker-CzS0P3Le.js";var xe=u('<div style="padding:16px 0 26px"><div class="centerBx100 centerBx chat_dark">'),ye=u('<div class=chatbot-wrapp><div class=chatbot-header><img width=28 height=28 class=nav-home alt="Scanbot SDK"decoding=async></div><div class=chatbot-dialog></div><div class="chatbot-textinput centerBx"style=padding:4px><input class=""><div class="icon_status centerBx"></div><div style="margin:5px 0"class="bottombx spaceAround centerBx"><div class="bag_number centerBx"><div class="icon_status centerBx"></div><h5>reiniciar'),pe=u('<div class="chatbox "><div class="message-in focusable-list-item _amjy _amjz _amjw"><div class="_amk4 _amkq _amk5 _amkd">'),$e=u('<span aria-hidden=true data-icon=tail-in class=_amk7><svg viewBox="0 0 8 13"height=13 width=8 preserveAspectRatio="xMidYMid meet"class=""version=1.1 x=0px y=0px enable-background="new 0 0 8 13"><title>tail-in</title><path opacity=0.13 fill=#0000000 d="M1.533,3.568L8,12.193V1H2.812 C1.042,1,0.474,2.156,1.533,3.568z"></path><path fill=currentColor d=M1.533,2.568L8,11.193V0L2.812,0C1.042,0,0.474,1.156,1.533,2.568z>'),Ce=u('<span aria-hidden=true data-icon=tail-out class=_amk7><svg viewBox="0 0 8 13"height=13 width=8 preserveAspectRatio="xMidYMid meet"class=""version=1.1 x=0px y=0px enable-background="new 0 0 8 13"><title>tail-out</title><path opacity=0.13 d="M5.188,1H0v11.193l6.467-8.625 C7.526,2.156,6.958,1,5.188,1z"></path><path fill=currentColor d=M5.188,0H0v11.193l6.467-8.625C7.526,1.156,6.958,0,5.188,0z>'),ke=u('<div class=chatbox-wrp><div class="x9f619 x1hx0egp x1yrsyyn x1ct7el4 x1dm7udd xwib8y2"><div class=_akbu><div class="_ao3e selectable-text copyable-text hrm-tx"></div></div></div><div class=chatbox-timestamp>'),Be=u('<div class=chatbox-wrp><div class="x9f619 x1hx0egp x1yrsyyn x1ct7el4 x1dm7udd xwib8y2"><div class=_akbu><div class="_ao3e selectable-text copyable-text hrm-tx"></div></div></div><div style="margin:5px 0"class=" spaceAround centerBx">'),we=u('<div><div><div class="_amk4 _amkq _amk5 _amkd">'),Se=u('<h4 class="tr_bar_20 textleft">'),O=u('<h5 class=" textleft">'),K=u('<div class=" bottombx "><div><span class=" textleft">desea usar este informacion</span></div><div style="margin:5px 0"class=" spaceAround centerBx">'),X=u('<div class="client_item_box gWXAaj jlytmu hr2a"><div class=" bottombx ">'),T=u('<h4 class=" textleft">'),He=u("<div class=separator>"),Ae=u('<div class=" bottombx"><h4></h4><div class=vertseparator></div><h5></h5><div class=vertseparator></div><h4>'),Ee=u('<div class="client_item_box gWXAaj jlytmu hr2a"><div class=" bottombx "></div><div class=separator>'),De=u('<div class="client_item_box gWXAaj jlytmu hr2a"><div class=" bottombx "><div><span class=" textleft"><h5>Codigo de reserva</h5></span></div><div style="margin:5px 0"class=" spaceAround centerBx"><h4>'),Te=u('<div><span class=" textleft"><h5>'),Ne=u('<div style="margin:5px 0"class=" spaceAround centerBx">'),Oe=u('<div class=" bottombx "><span class=" textleft"><h5>'),Ie=u('<div class=" bottombx "><div><span class=" textleft">Es correcta su fecha de nacimiento </span></div><div style="margin:5px 0"class=" spaceAround centerBx">');const[et,tt]=I(),C=B(()=>w(()=>import("./ButonHrm-CfHlo3jl.js"),__vite__mapDeps([0,1,2,3,4,5]))),z=B(()=>w(()=>import("./SVG-b2O7CS5i.js"),__vite__mapDeps([3,1,2,4])));B(()=>w(()=>import("./FlexSpace-CIM_Wn2D.js"),__vite__mapDeps([6,1,2])));const qe=B(()=>w(()=>import("./LoadingColorSpinner-C1IaWTFV.js"),__vite__mapDeps([7,1,2,8])));B(()=>w(()=>import("./InputHr-BKkUQoj4.js"),__vite__mapDeps([9,1,2,10])));B(()=>w(()=>import("./ItemOnConsigneeMain-SzRInqr2.js"),__vite__mapDeps([11,1,2,4,12,13,14,3,15,16,17,18,19,20,0,5,21,22,23,6])));B(()=>w(()=>import("./PickDate-DWANUqq7.js"),__vite__mapDeps([24,1,2,12,13,4])));B(()=>w(()=>import("./DropDwnSearch-BhzBTQYl.js"),__vite__mapDeps([25,1,2,26,3,4,27])));const[lt,it]=x(""),[at,nt]=x([]);function rt(){I({phone:"5023892075"});const[e,i]=x(1);return x({}),x({}),x({}),ce(()=>{}),Q(()=>{F()&&i(0)}),(()=>{var o=xe(),l=o.firstChild;return a(l,r(Re,{})),o})()}const Le=async e=>{if(e.length===10){let i={params:{}};e&&e.split(" ").map((t,s)=>{t&&(i.params[":search"+s]=t.trim())});let o=W(421001);return i={...i,...o},await Y(i)}else return{}},Pe=async e=>{if(e.length===11){let i={params:{}};e&&e.split(" ").map((t,s)=>{t&&(i.params[":search"+s]=t.trim())});let o=W(401001);return i={...i,...o},await Y(i)}else return{}};function V(e){return e<10?"0"+e:e}function st(e){var i=new Date(e);return`${i.getFullYear()}-${V(i.getMonth()+1)}-${V(i.getDate())}`}let je=[{id:1,label:"Bienvenidos a Yaba",type:"text",isBot:!0},{id:2,label:"Escriba su numero de telefono",type:"text",isBot:!0}];const Re=e=>{const[i,o]=I({qry:""}),[l,t]=x(je),[s,f]=x(),[n,y]=x(),[h,c]=x(!1);let _;const $=(d,m)=>{o({[d]:m})},k=d=>{d.keyCode===13&&q()},q=async d=>{let m=i.qry;t([...l(),{label:m,type:"text"}]);let b=l().filter(p=>p.isBot)?.pop();console.log(b),c(!0),i.qry&&b.id===2?ee(m):i.qry&&b.id===3?J(m):i.qry&&b.id===6?Z(m):i.qry&&b.id===33?(c(!1),t([...l(),{id:3,label:"ok ",type:"text",isBot:!0}])):(c(!1),t([...l(),{id:3,label:"no puedo procesar su respuesta",type:"text",isBot:!0}])),o({qry:""})},J=async d=>{s()?.name?.toLowerCase()?.indexOf(d?.toLowerCase())>=0?te():t([...l(),{id:3,label:"no coincide la la informacion",type:"text",isBot:!0}]),v(),c(!1)},Z=async d=>{let m=await Pe(d),b=M(m)?.[0];m[b]?.cid?(console.log(m[b]),y(m[b]),t([...l(),{id:38,type:"consignerCard",item:m[b],isBot:!0,okHandler:le,declineHandler:L}]),c(!1),v()):ne(d)},ee=async d=>{let m=typeof d!="number"&&!isNaN(d)&&d.length===10;if(console.log(m),!m){t([...l(),{id:2,label:d+" no es un numero de telefono valido ",type:"text",isBot:!0}]),c(!1),v();return}let b=await Le(d),p=M(b)?.[0];b[p]?.dob?(f(b[p]),setTimeout(()=>{c(!1),t([...l(),{id:111,label:"encontramos informacion asociada a ese telefono",type:"text",isBot:!0}]),setTimeout(()=>{t([...l(),{id:3,label:"para verificacion escriba su apellido",type:"text",isBot:!0}]),v()},300),v()},600)):(t([...l(),{id:999,label:"no encontramos informacion con el telefono "+d,type:"text",isBot:!0}]),setTimeout(()=>{t([...l(),{id:999,label:"le ayudaremos a crear uno",type:"text",isBot:!0}])},650),setTimeout(()=>{t([...l(),{id:33,label:"escoja su fecha de nacimiento",type:"CalendarBox",isBot:!0}]),c(!1),v()},1300))},te=async()=>{console.log("okDOB"),t([...l(),{id:8,label:`su fecha de nacimiento es ${G(i.qry)}`,type:"shipperCard",item:s(),isBot:!0,okHandler:ie,declineHandler:ae}]),v()},le=async()=>{setTimeout(()=>{c(!1),t([...l(),{id:998,label:"Gracias por elejirnos, su orden fue enviada, vea a un gestor para que le ayude",type:"text",isBot:!0}]);let d={code:_e(5),consignee:n(),shipper:s()};console.log(d),t([...l(),{id:999,label:"Gracias por elejirnos, su orden fue enviada, vea a un gestor para que le ayude",type:"ConfirmCode",isBot:!0,item:d}])},600)},ie=async()=>{setTimeout(()=>{c(!1),t([...l(),{id:111,label:"busquemos a la persona que recibe",type:"text",isBot:!0}]),setTimeout(()=>{t([...l(),{id:6,label:"escriba el carnet de identidad",type:"text",isBot:!0}]),v(),c(!1)},300)},600)},L=async()=>{t([...l(),{id:2,label:"ok, comencemos de nuevo",type:"text",isBot:!0}]),setTimeout(()=>{t([...l(),{id:2,label:"Escriba su numero de telefono",type:"text",isBot:!0}]),v()},600),c(!1),v()},ae=async()=>{t([...l(),{id:211,label:"ok, intentemoslo nuevamente",type:"text",isBot:!0}]),setTimeout(()=>{t([...l(),{id:6,label:"Escriba el carne de identidad de la persona que recibe",type:"text",isBot:!0}]),v()},600),c(!1),v()},ne=async d=>{t([...l(),{id:999,label:"no encontramos informacion con el carnet "+d,type:"text",isBot:!0}]),setTimeout(()=>{t([...l(),{id:999,label:"le ayudaremos a crear uno",type:"text",isBot:!0}]),v()},650),setTimeout(()=>{t([...l(),{id:77,label:"escriba su 1 Nombre",type:"text",isBot:!0}]),c(!1),v()},1300)},v=()=>{_.lastElementChild.scrollIntoView(!1)};return Q(()=>{}),(()=>{var d=ye(),m=d.firstChild,b=m.firstChild,p=m.nextSibling,re=p.nextSibling,A=re.firstChild,D=A.nextSibling,se=D.nextSibling,P=se.firstChild,oe=P.firstChild,j=_;return typeof j=="function"?he(j,p):_=p,a(p,r(de,{get each(){return l()},children:(H,Ke)=>r(ze,{item:H,get okHandler(){return H?.okHandler},get declineHandler(){return H?.declineHandler}})}),null),a(p,r(g,{get when(){return h()},get children(){return r(Me,{})}}),null),A.$$keydown=k,A.$$input=H=>$("qry",H.currentTarget.value),D.$$click=q,a(D,r(z,{name:"send",size:22})),P.$$click=L,a(oe,r(z,{name:"reload",size:22})),N(()=>ue(b,"src",`${be("SSG.webp")}`)),N(()=>A.value=i?.qry),d})()},Me=e=>(()=>{var i=pe(),o=i.firstChild,l=o.firstChild;return a(l,r(qe,{stroke:"rgb(200 25 60 / 1)",size:32})),i})(),ze=e=>(()=>{var i=we(),o=i.firstChild,l=o.firstChild;return a(l,r(g,{get when(){return e?.item?.isBot},get children(){return $e()}}),null),a(l,r(g,{get when(){return!e?.item?.isBot},get children(){return Ce()}}),null),a(l,r(g,{get when(){return e?.item?.type==="text"},get children(){var t=ke(),s=t.firstChild,f=s.firstChild,n=f.firstChild;return a(n,()=>e?.item?.label),t}}),null),a(l,r(g,{get when(){return e?.item?.type==="dateQuery"},get children(){var t=Be(),s=t.firstChild,f=s.firstChild,n=f.firstChild,y=s.nextSibling;return a(n,()=>e?.item?.label),a(y,r(C,{color:"#37be5fff",icon:"success",label:"Si",get handleClick(){return e?.okHandler}}),null),a(y,r(C,{color:"#c8193c",icon:"cancel",label:"No",get handleClick(){return e?.declineHandler}}),null),t}}),null),a(l,r(g,{get when(){return e?.item?.type==="shipperCard"},get children(){return r(Ve,{get item(){return e?.item}})}}),null),a(l,r(g,{get when(){return e?.item?.type==="consignerCard"},get children(){return r(Ge,{get item(){return e?.item}})}}),null),a(l,r(g,{get when(){return e?.item?.type==="ConfirmCode"},get children(){return r(We,{get item(){return e?.item}})}}),null),a(l,r(g,{get when(){return e?.item?.type==="CalendarBox"},get children(){return r(Ye,{get item(){return e?.item}})}}),null),N(t=>{var s=`chatbox ${F()?"isMobile":""}`,f=`${e?.item?.isBot?"message-in":"message-out"} focusable-list-item _amjy _amjz _amjw`;return s!==t.e&&R(i,t.e=s),f!==t.t&&R(o,t.t=f),t},{e:void 0,t:void 0}),i})();function Ve(e){const[i,o]=x(!1),l=()=>{o(!0),console.log({...e?.item}),e?.item?.okHandler&&e?.item?.okHandler()},t=()=>{o(!0),console.log({...e?.item}),e?.item?.declineHandler&&e?.item?.declineHandler()};return(()=>{var s=X(),f=s.firstChild;return a(f,r(g,{get when(){return e?.item?.item?.name},get children(){return[(()=>{var n=Se();return a(n,()=>U(e?.item?.item)),n})(),(()=>{var n=O();return a(n,()=>e?.item?.item?.name),n})()]}})),a(s,r(g,{get when(){return!i()},get children(){var n=K(),y=n.firstChild,h=y.nextSibling;return a(h,r(C,{color:"#37be5fff",icon:"success",label:"Si",handleClick:l}),null),a(h,r(C,{color:"#c8193c",icon:"cancel",label:"No",handleClick:t}),null),n}}),null),s})()}const S=e=>e?" "+e:"",Qe=e=>S(e?.firstName)+S(e?.middleName)+S(e?.lastName)+S(e?.lastName2),U=e=>{let i=S(e?.altPhoneNumber);return S(e?.phoneNumber)+(i?" |"+i:"")},E=(e,i)=>i?" "+e+" "+i:"",Fe=e=>`${E("Calle",e?.ybstreet)}${E("#",e?.ybstreetNo)}${E("E/",e?.ybbetwen1)}${E("y",e?.ybbetwen2)}`;function Ge(e){const[i,o]=x(!1),l=()=>{o(!0),console.log({...e?.item}),e?.item?.okHandler&&e?.item?.okHandler()},t=()=>{o(!0),console.log({...e?.item}),e?.item?.declineHandler&&e?.item?.declineHandler()};return(()=>{var s=Ee(),f=s.firstChild;return f.nextSibling,a(f,r(g,{get when(){return e?.item?.item?.cid},get children(){return[(()=>{var n=T();return a(n,()=>e?.item?.item?.cid),n})(),(()=>{var n=O();return a(n,()=>Qe(e?.item?.item)),n})(),(()=>{var n=T();return a(n,()=>U(e?.item?.item)),n})(),(()=>{var n=O();return a(n,()=>e?.item?.item?.name),n})(),He(),(()=>{var n=T();return a(n,()=>Fe(e?.item?.item)),n})(),(()=>{var n=Ae(),y=n.firstChild,h=y.nextSibling,c=h.nextSibling,_=c.nextSibling,$=_.nextSibling;return a(y,()=>e?.item?.item?.ybreparto),a(c,()=>e?.item?.item?.ybcity),a($,()=>e?.item?.item?.ybestate),n})()]}})),a(s,r(g,{get when(){return!i()},get children(){var n=K(),y=n.firstChild,h=y.nextSibling;return a(h,r(C,{color:"#37be5fff",icon:"success",label:"Si",handleClick:l}),null),a(h,r(C,{color:"#c8193c",icon:"cancel",label:"No",handleClick:t}),null),n}}),null),s})()}function We(e){return(()=>{var i=De(),o=i.firstChild,l=o.firstChild,t=l.nextSibling,s=t.firstChild;return s.style.setProperty("font-size","30px"),a(s,()=>e?.item?.item?.code),i})()}function Ye(e){const[i,o]=x(""),[l,t]=x(""),s=h=>{o(h.initDate+800)},f=()=>{let h=ge(),c={};c.id=h,c.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:850},c.content=r(ve,{onConfirm:s,modalId:h,get init(){return e?.init},colors:{"--calendar-primary-color":"var(--background-red-ssg)","--calendar-primary-backcolor":"var(--primary-light)","--calendar-light-backcolor":"rgb(245, 245, 245)","--calendar-primary-hover-backcolor":"var(--background-red-ssg)","--calendar-light-300":"#6c6c6c","--calendar-light-200":"var(--dark-800)","--calendar-light-100":"rgb(245, 245, 245)","--calendar-dark-800":"var(--background-red-ssg)","--calendar-white-100":"var(--light-100)","--calendar-white":"var(--dark-700)","--calendar-selected_lbl_color":"var(--background-red-ssg)"}}),fe(c)},n=()=>{t(!0),setHasAction(!0),e?.item?.okHandler&&e?.item?.okHandler()},y=()=>{o(null)};return(()=>{var h=X(),c=h.firstChild;return a(c,r(g,{get when(){return!i()},get children(){return[(()=>{var _=Te(),$=_.firstChild,k=$.firstChild;return a(k,()=>e?.item?.label),_})(),(()=>{var _=Ne();return a(_,r(C,{color:"#c8193c",icon:"calendar",label:"Calendario",handleClick:f})),_})()]}}),null),a(c,r(g,{get when(){return i()},get children(){return[(()=>{var _=Oe(),$=_.firstChild,k=$.firstChild;return a(k,()=>G(i())),_})(),r(g,{get when(){return!l()},get children(){var _=Ie(),$=_.firstChild,k=$.nextSibling;return a(k,r(C,{color:"#37be5fff",icon:"success",label:"Si",handleClick:n}),null),a(k,r(C,{color:"#c8193c",icon:"cancel",label:"No",handleClick:y}),null),_}})]}}),null),h})()}me(["click","input","keydown"]);export{rt as default,V as isNE,st as parseDob,et as scannedQRs,tt as setScannedQRs,it as setStatus,nt as setTaskScan,lt as status,at as taskScan};
