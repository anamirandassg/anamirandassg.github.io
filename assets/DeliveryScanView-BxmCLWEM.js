const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-CRjo2tMO.js","assets/index-NKUnsseI.js","assets/index-D76Q4b_C.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/ContainerElasticView-DT67v3C5.js","assets/SVG-CRIwODTH.js","assets/ContainerElasticView-LzOd6fDI.css","assets/FlexSpace-BCzomOF5.js"])))=>i.map(i=>d[i]);
import{c as Q,l as k,_ as E,a as A,a6 as ee,u as te,a7 as re,k as se,p as W,q as j,i as t,d as s,f as M,e as H,t as x,j as ie,S as B,y as Y,O as T,F as Z,V as K,h as R,g as L,s as le,B as ne,C as F,n as ae,o as oe}from"./index-NKUnsseI.js";import{H as ce,a as de}from"./html5-qrcode-scanner-DyOwOipf.js";import"./DashManifest-B0tHltEP.js";import"./ManifestDetails-BZDHesZc.js";import{OpenModal as ue}from"./DialogHRM-CuXqTZeR.js";import{stop2Deliver as c}from"./DeliveryView-CCph29ih.js";import"./App.module-CbHnVtRQ.js";import"./debounces-CWEG2LlI.js";import"./fontkit.es-D3_o5DR4.js";import"./ButonHrm-1_QD__M-.js";/* empty css                 */import"./SVG-CRIwODTH.js";var pe=x("<h5 class=rpto>"),ge=x("<h5>"),he=x('<div><div class=" flxWrp spaceAround centerBx"><h2>Completar Entrega</h2><div class="icon_status centerBx"></div></div><div style=padding:16px><div class=" flxWrp centerBx "style=" margin:0 auto;;padding:8px 9px;"><div class="icon_status centerBx"></div><div class=bagsNo></div></div><div><div class=vertseparator></div><div class=vertseparator></div><h4></h4></div></div><p class=" textleft "style=padding:18px>;</p><div>'),J=x("<div> <!>."),U=x("<div> "),ve=x('<div class="_dsplFlx flxWrp spaceAround "style=" margin:0 auto;;padding:8px 9px;">'),_e=x('<div class="icon_status centerBx">'),me=x("<div style=max-width:120px;margin:8px;><h5>"),fe=x('<div><div class=separator></div><div><h5></h5><h4></h4><div class="_dsplFlx bottombx flxWrp spaceAround "><div class=""><h5></h5></div></div></div><div class="_dsplFlx bottombx flxWrp spaceAround ">');const[qe,Ge]=Q(),X=k(()=>E(()=>import("./LoadingColorSpinner-CRjo2tMO.js"),__vite__mapDeps([0,1,2,3])));k(()=>E(()=>import("./ContainerElasticView-DT67v3C5.js"),__vite__mapDeps([4,1,2,5,6])));const G=k(()=>E(()=>import("./SVG-CRIwODTH.js"),__vite__mapDeps([5,1,2]))),be=k(()=>E(()=>import("./FlexSpace-BCzomOF5.js"),__vite__mapDeps([7,1,2]))),[ze,Fe]=A(""),[V,xe]=Q();function Qe(a){ee();const[_,o]=te();A(0);const d=re();se(()=>{$(),console.log(c?.stopD)}),W(()=>{}),j(async()=>{c?.stopD?.addressId||d(`/delivery-detail?dId=${_?.dId}`,{replace:!0})});function n(){return"geolocation"in navigator}function g(u){ne({latitude:u?.coords?.latitude,longitude:u?.coords?.longitude})}function $(){n()?navigator.geolocation.getCurrentPosition(g):showMessage("Geolocation isn't supported by your browser")}const I=u=>{console.log("refreshManif ",u);let m=u.cidentity,e={...c?.stopD};console.log("customers ",m,e.customers?.[m])},P=u=>{let m=ie(),e={};e.id=m,e.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},e.content=s(De,{get item(){return c?.stopD},modalId:m,callback:I}),ue(e)};return(()=>{var u=he(),m=u.firstChild,e=m.firstChild,l=e.nextSibling,r=m.nextSibling,f=r.firstChild,h=f.firstChild,y=h.nextSibling,v=f.nextSibling,S=v.firstChild,p=S.nextSibling,C=p.nextSibling,b=r.nextSibling,w=b.firstChild,z=b.nextSibling;return l.$$click=P,t(l,s(G,{name:"qr_code",size:32,color:"#2b2b2b"})),t(h,s(G,{name:"open_package_file_outline",size:32})),t(y,()=>c?.stopD?.bagsNo),t(r,s(be,{}),v),t(v,s(B,{get when(){return c?.stopD?.consigneeInfo?.ybreparto},get children(){return[(()=>{var i=pe();return t(i,()=>c?.stopD?.consigneeInfo?.ybreparto),i})(),"|"]}}),S),t(v,s(B,{get when(){return c?.stopD?.city},get children(){return[(()=>{var i=ge();return t(i,()=>c?.stopD?.city),i})(),"|"]}}),p),t(C,()=>c?.stopD?.estate),t(b,()=>c?.stopD?.addressId,w),t(z,s(K,{fallback:i=>(()=>{var D=J(),N=D.firstChild,O=N.nextSibling;return O.nextSibling,t(D,()=>i.toString(),O),D})(),get children(){return s(Y,{get fallback(){return(()=>{var i=U();return i.firstChild,t(i,s(X,{stroke:"rgb(200 25 60 / 1)",size:62}),null),i})()},get children(){return s(B,{get when(){return T(c?.stopD?.customers)?.length>0},get children(){return s(Z,{get each(){return T(c?.stopD?.customers)},children:(i,D)=>s(ye,{get item(){return c?.stopD?.customers?.[i]}})})}})}})}})),M(i=>{var D=` ${R(),"centerBx"}  topbx `,N=` ${R(),"centerBx"} bottombx`,O=` ${R()?"":"width:94vw;"} margin: 0 auto; ; padding: 18px 29px;`;return D!==i.e&&L(r,i.e=D),N!==i.t&&L(v,i.t=N),i.a=le(z,O,i.a),i},{e:void 0,t:void 0,a:void 0}),u})()}const $e=a=>(()=>{var _=ve();return t(_,s(K,{fallback:o=>(()=>{var d=J(),n=d.firstChild,g=n.nextSibling;return g.nextSibling,t(d,()=>o.toString(),g),d})(),get children(){return s(Y,{get fallback(){return(()=>{var o=U();return o.firstChild,t(o,s(X,{stroke:"rgb(200 25 60 / 1)",size:62}),null),o})()},get children(){return s(B,{get when(){return T(a?.list)?.length>0},get children(){return s(Z,{get each(){return T(a?.list)},children:(o,d)=>(console.log(o,V),(()=>{var n=me(),g=n.firstChild;return t(n,s(B,{get when(){return V?.[o]?.scanned==="ST200"},get children(){var $=_e();return t($,s(G,{name:"success",size:32,color:"var(--hrm-palette-tertiary50)"})),$}}),g),t(g,()=>a?.list?.[o]?.bagnumber),M(()=>L(n,`bag_number centerBx ${V?.[o]?.scanned==="ST200"?"checked":""} `)),n})())})}})}})}})),_})(),ye=a=>(()=>{var _=fe(),o=_.firstChild,d=o.nextSibling,n=d.firstChild,g=n.nextSibling,$=g.nextSibling,I=$.firstChild,P=I.firstChild,u=d.nextSibling;return t(n,()=>a?.item?.name),t(g,()=>a?.item?.phoneNumber),t(P,()=>a?.item?.tracking),t(u,s($e,{get list(){return a?.item?.bagsNumb}})),M(()=>L(d,` ${R()?"":"centerBx"} bottombx`)),_})();H(["click"]);var Se=x('<div><div><div class="_dsplFlx bottombx lowbordr"><h5>Confirmar Entrega</h5><div class="icon_status centerBx"></div></div></div><div class=" flxWrp spaceAround centerBx"style="margin:30px 0"><div style=position:relative;><div></div><div id=qr-reader style=width:220px>');const Ce=k(()=>E(()=>import("./SVG-CRIwODTH.js"),__vite__mapDeps([5,1,2]))),we=k(()=>E(()=>import("./FlexSpace-BCzomOF5.js"),__vite__mapDeps([7,1,2])));let q;function De(a){const[_,o]=A(""),[d,n]=A(""),[g,$]=A();W(()=>{q?.clear()}),j(()=>{setTimeout(()=>{m()},90)});const I=(e,l)=>{e!==g()&&($(e),setTimeout(()=>{$("")},3e3),P(e))},P=e=>{e||(e=_()),e=e.split("'").join("-"),new Date().getTime(),F?.latitude,F?.longitude,a?.status,ae?.profile?.userId;let l=e.split("/");e.split("-").length>3&&(l=e.split("-").join);let r=l?.[0],f="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const h=new RegExp(f);let y=r.length===13&&h.test(r),v="^[0-9]{4}-[1-9]{4}";const S=new RegExp(v);let p=r.length===9&&S.test(r),C=l.length>4&&r.length===12,b={idairguide:l?.[0],":search0":l?.[1],":search1":l?.[3]};y&&(b={idairguide:"175-2383"+r.slice(3,7),":search0":r}),p&&(b={idairguide:"175-2383"+r.slice(0,4),":search0":r}),y||C||p?u(b):(n("alert"),setTimeout(()=>{n("")},1800))},u=async e=>{let l=await Ie(e),r=Object.keys(l)?.[0];if(l[r]?.cidentity){let f=l[r]?.cidentity,h=l[r]?.ssg_track_key,y={...a?.item},v=y?.customers?.[f]?.bagsNumb?.[h];v?(n("success"),xe(h,{scanned:"ST200"})):n("alert"),setTimeout(()=>{n("")},1800),y?.customers?.[f]?.bagsNumb?.[h],console.log("customers bagsNumbId ",v),a?.callback(l[r])}},m=()=>{let e={fps:10,qrbox:{width:350,height:200},supportedScanTypes:[ce.SCAN_TYPE_CAMERA],showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,verbose:!0};q=new de("qr-reader",e),q.render(I)};return(()=>{var e=Se(),l=e.firstChild,r=l.firstChild,f=r.firstChild,h=f.nextSibling,y=l.nextSibling,v=y.firstChild,S=v.firstChild;return e.style.setProperty("max-height","80vh"),e.style.setProperty("overflow","auto"),e.style.setProperty("background","#ffffff"),e.style.setProperty("border-radius","13"),e.style.setProperty("padding","10px 19px"),f.$$click=I,t(r,s(we,{}),h),h.$$click=()=>{},t(h,s(Ce,{name:"keyboard",size:32,color:"#2b2b2b"})),M(p=>{var C=R()?"92vw":"420px",b=`scanOverlay ${d()} `,w=d()?"block":"none";return C!==p.e&&((p.e=C)!=null?e.style.setProperty("width",C):e.style.removeProperty("width")),b!==p.t&&L(S,p.t=b),w!==p.a&&((p.a=w)!=null?S.style.setProperty("display",w):S.style.removeProperty("display")),p},{e:void 0,t:void 0,a:void 0}),e})()}const Ie=async a=>await oe({params:a,query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2"});H(["click"]);export{Qe as default,qe as scannedQRs,Ge as setScannedQRs,Fe as setStatus,xe as setStatusD,ze as status,V as statusD};
