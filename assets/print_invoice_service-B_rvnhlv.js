import{P as Z,f as tt,S as p,r as o}from"./fontkit.es-BfzNkKlP.js";import{k as _,J as H,w as rt}from"./index-DM3x9O1y.js";import{i as nt,b as et}from"./InitPrintServices-DuJIW5Xa.js";import"./qrcode-DHy8FFhS.js";import"./Toast--B9ei7pb.js";let t=0;const $=r=>r?r*1:0,Y=r=>r?" "+r:"",dt=r=>Y(r?.firstName)+Y(r?.middleName)+Y(r?.lastName)+Y(r?.lastName2),lt=r=>{let n=Y(r?.altPhoneNumber);return Y(r?.phoneNumber)+(n?" |"+n:"")},M=(r,n)=>n?" "+r+" "+n:"",st=r=>`${M("Calle",r?.ybstreet)}${M("#",r?.ybstreetNo)}${M("E/",r?.ybbetwen1)}${M("y",r?.ybbetwen2)}, ${M("Reparto",r?.ybreparto)},${M("",r?.ybcity)},${M("",r?.ybestate)}`,wt=async r=>{const n=await Z.create();n.registerFontkit(tt),await n.embedFont(p.TimesRoman);var c=await n.embedFont(p.TimesRomanBold);if(await n.embedFont(p.TimesRomanBold),_("modernFontReport")){let d=_("Roboto-Bold.ttf");const y=await fetch(d).then(B=>B.arrayBuffer());c=await n.embedFont(y);let u=_("ggSans-Italic.ttf");const F=await fetch(u).then(B=>B.arrayBuffer());await n.embedFont(F);let T=_("ggSans-Medium.ttf");const A=await fetch(T).then(B=>B.arrayBuffer());await n.embedFont(A)}const e=await nt(n);let a=n.addPage();const{width:V,height:G}=a.getSize(),i=10;t=G-40;const z=e.GSansBold.widthOfTextAtSize("Invoice: ",9),I=e.Lexend_700.widthOfTextAtSize(r?.invoice,10);a.drawText("Invoice: ",{x:580-I-z,y:t,size:9,font:e.GSansBold,color:o(0,0,0)}),a.drawText(r?.invoice,{x:580-I,y:t,size:10,font:e.Lexend_700,color:o(0,0,0)});let s=G-30,q=_("storeGroupBy")?.[r?.store]?.label||"";a.drawText(q,{x:20,y:s,size:13,font:c,color:o(0,0,0)}),t=t-20;let O=r?.createDate;const R=e.GSansBold.widthOfTextAtSize("Fecha: ",11),h=e.Lexend_700.widthOfTextAtSize(H(O)+"",12);a.drawText("Fecha: ",{x:580-R-h,y:t,size:11,font:e.GSansBold,color:o(0,0,0)}),a.drawText(H(O)+"",{x:580-h,y:t,size:12,font:e.Lexend_700,color:o(.06,.06,.06)}),t=t-20;let w=r?.shipper_consignee,C="";if(w){C=w?.name||"";let d=w?.phoneNumberS||"";a.drawText("Envia: ",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)}),t=t-12,a.drawText(C+"   |   "+d,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-20;let y=dt(w),u=lt(w),F=st(w);a.drawText("Recibe: ",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)}),t=t-13,a.drawText(w?.cid,{x:28,y:t,size:10,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,a.drawText(y,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,a.drawText(u,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,a.drawText(F,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)})}if((r?.reservas||[])?.length>0){t=t-40,a.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,a.drawText("Tipo de envio",{x:20,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const d=c.widthOfTextAtSize("Lbs",11);a.drawText("Lbs",{x:320-d,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const y=c.widthOfTextAtSize("Precio",11);a.drawText("Precio",{x:400-y,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const u=c.widthOfTextAtSize("Aranceles",11);a.drawText("Aranceles",{x:480-u,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const F=c.widthOfTextAtSize("Total",11);a.drawText("Total",{x:560-F,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)}),t=t-8,a.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let T=r?.reservas||[];Array.isArray(T)&&T.map((A,B)=>{const b=A?.type;t=t-16,b&&a.drawText(b+"",{x:20,y:t,size:i,font:e.GSansBold,color:o(0,0,0)});let U=$(A?.qty)?.toFixed(2);const k=e.Lexend_700.widthOfTextAtSize(U+"",i);a.drawText(U+"",{x:320-k,y:t,size:i,font:e.Lexend_700,color:o(0,0,0)});let j=$(A?.price)?.toFixed(2);const P=e.Lexend_700.widthOfTextAtSize(j+"",i);a.drawText(j+"",{x:400-P,y:t,size:i,font:e.Lexend_700,color:o(0,0,0)});let Q=$(A?.arancel)?.toFixed(2);const K=e.Lexend_700.widthOfTextAtSize(Q+"",i);a.drawText(Q+"",{x:480-K,y:t,size:i,font:e.Lexend_700,color:o(0,0,0)});let at=($(A?.price)*$(A?.qty)+$(A?.arancel))?.toFixed(2);const it=e.Lexend_700.widthOfTextAtSize(at+"",i);a.drawText(at+"",{x:560-it,y:t,size:i,font:e.Lexend_700,color:o(0,0,0)})})}let v=r?.products||[];if(Array.isArray(v)&&v.length>0){t=t-50,a.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,a.drawText("Producto",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)});const d=e.roboto_bold.widthOfTextAtSize("Qty",11);a.drawText("Qty",{x:400-d,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const y=e.roboto_bold.widthOfTextAtSize("Precio",11);a.drawText("Precio",{x:480-y,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const u=e.roboto_bold.widthOfTextAtSize("Total",11);a.drawText("Total",{x:560-u,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)}),t=t-8,a.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),(rt(r?.products)||[]).map((T,A)=>{const B=T?.product?.label;t=t-16,B&&a.drawText(B+"",{x:20,y:t,size:i,font:e.GSansBold,color:o(0,0,0)});let b=T?.qty?(T?.qty*-1).toFixed(2):"0.00";const U=e.Lexend_700.widthOfTextAtSize(b+"",i);a.drawText(b+"",{x:400-U,y:t,size:i,font:e.Lexend_700,color:o(0,0,0)});let k=T?.qty?(T?.salePrice*1).toFixed(2):"0.00";const j=e.Lexend_700.widthOfTextAtSize(k+"",i);a.drawText(k+"",{x:480-j,y:t,size:i,font:e.Lexend_700,color:o(0,0,0)});let P=T?.qty?(T?.salePrice*T?.qty*-1).toFixed(2):"0.00";const Q=e.Lexend_700.widthOfTextAtSize(P+"",i);a.drawText(P+"",{x:560-Q,y:t,size:i,font:e.Lexend_700,color:o(0,0,0)})})}t=t-28,a.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let W=500;t=t-20;let x=r?.amount?r?.amount?.toFixed(2):"0.00";const m=e.Lexend_700.widthOfTextAtSize(x+"",i);a.drawText(x+"",{x:560-m,y:t,size:i,font:e.Lexend_700,color:o(.13,.13,.13)});const E=e.GSansBold.widthOfTextAtSize("SubTotal",i);a.drawText("SubTotal",{x:W-E,y:t,size:i,font:e.GSansBold,color:o(0,0,0)}),t=t-16;let L=r?.hasTax&&r?.TaxPercent?r?.amount*(r?.TaxPercent/100):0,f=L?L?.toFixed(2):"0.00";const l=e.Lexend_700.widthOfTextAtSize(f+"",i);a.drawText(f+"",{x:560-l,y:t,size:i,font:e.Lexend_700,color:o(.13,.13,.13)});const S=e.GSansBold.widthOfTextAtSize("Taxes",i);a.drawText("Taxes",{x:W-S,y:t,size:i,font:e.GSansBold,color:o(0,0,0)});let g=L?L*1+r?.amount*1:r?.amount*1;t=t-16;let N=g?g?.toFixed(2):"0.00";const X=e.Lexend_700.widthOfTextAtSize(N+"",11);a.drawText(N+"",{x:560-X,y:t,size:11,font:e.Lexend_700,color:o(0,0,0)});const D=e.GSansBold.widthOfTextAtSize("Total",11);if(a.drawText("Total",{x:W-D,y:t,size:11,font:e.GSansBold,color:o(0,0,0)}),r?.packagesOrder){let d=52,y="CERTIFICO QUE NO ENVIO SUSTANCIAS NI PRODUCTOS PROHIBIDOS POR LAS LEYES Y LAS ADUANAS DE USA Y CUBA, COMO POR EJEMPLO DROGAS, ARMAS, EXPLOSIVOS,",u="CIGARRILLOS ELECTRONICOS, DRONES PROFESIONALES, JOYAS, PRENDAS, DINERO EN EFECTIVO, SEMILLAS, NARCOTICOS, FARMACOS CONTROLADOS, PRODUCTOS AGRICOLAS",F="DE TIPO HERBICIDAS O ANTIFUNGUICIDAS, NINGUN TIPO DE PRODUCTO PERECEDERO QUE NECESITE REFRIGERACION. PRODUCTOS AGRICOLAS DE TIPO HERBICIDAS O",T="ANTIFUNGUICIDAS, NINGUN TIPO DE PRODUCTO PERECEDERO QUE NECESITE REFRIGERACION. ENTIENDO QUE AL LLENAR ESTE FORMULARIO, AL ENVIAR ALGUNA DE LAS",A="SUSTANCIAS O PRODUCTOS ANTES DESCRITOS MI CARGA PUEDE SER DESCAMISADA COMPLETA O PARCIALMENTE PORLAS ADUANAS DE CUBA O USA SIN DERECHO A RECLAMO",B=" NI COMPENSACION, DE PARTE MIA COMO EMBARCADOR, NI DE LA PERSONA A QUIEN ENVIO( CONSIGNATARIO )",b=9.5;console.log(e),a.drawText(y.toLowerCase(),{x:10,y:d+80,size:b,font:e.TimesRomanItalic,color:o(0,0,0)}),a.drawText(u.toLowerCase(),{x:10,y:d+70,size:b,font:e.TimesRomanItalic,color:o(0,0,0)}),a.drawText(F.toLowerCase(),{x:10,y:d+60,size:b,font:e?.TimesRomanItalic,color:o(0,0,0)}),a.drawText(T.toLowerCase(),{x:10,y:d+50,size:b,font:e?.TimesRomanItalic,color:o(0,0,0)}),a.drawText(A.toLowerCase(),{x:10,y:d+40,size:b,font:e?.TimesRomanItalic,color:o(0,0,0)}),a.drawText(B.toLowerCase(),{x:10,y:d+30,size:b,font:e?.TimesRomanItalic,color:o(0,0,0)}),d=10;let U=C+"    ______________________________";const k=e.GSansBold.widthOfTextAtSize(U,9);a.drawText(U,{x:30,y:d+20,size:9,font:e?.GSansBold,color:o(0,0,0)}),a.drawText("Firmar",{x:k-40,y:d+10,size:9,font:e?.GSansBold,color:o(0,0,0)});const P="________________________",Q=e.GSansBold.widthOfTextAtSize(P,9);a.drawText(P,{x:540-Q,y:d+20,size:9,font:e?.GSansBold,color:o(0,0,0)});let K="Fecha";const ot=e.GSansBold.widthOfTextAtSize(K,9);a.drawText(K,{x:520-ot*2,y:d+10,size:9,font:e?.GSansBold,color:o(0,0,0)})}{const d=await n.save();return et(d)}},ht=async r=>{const n=await Z.create();n.registerFontkit(tt);var c=await n.embedFont(p.TimesRoman),e=await n.embedFont(p.TimesRomanBold);if(await n.embedFont(p.TimesRomanBold),_("modernFontReport")){let z=_("Roboto-Bold.ttf");const I=await fetch(z).then(h=>h.arrayBuffer());e=await n.embedFont(I);let s=_("ggSans-Italic.ttf");const q=await fetch(s).then(h=>h.arrayBuffer());c=await n.embedFont(q);let O=_("ggSans-Medium.ttf");const R=await fetch(O).then(h=>h.arrayBuffer());await n.embedFont(R)}let a=r?.products||[],V=44,G=Math.ceil(a.length/V),i=Array.from(Array(G).keys());i.map(async(z,I)=>{let s=n.addPage();const{width:q,height:O}=s.getSize(),R=10;t=O-40;let h=V*z,w=V*(z+1)-1;w>a.length&&(w=a.length);let C=a.slice(h,w)||[],J=O-30,v=_("storeGroupBy")?.[r?.store]?.label;s.drawText(v,{x:20,y:J,size:13,font:e,color:o(0,0,0)});let W=`${z+1} / ${i?.length}`;s.drawText(W,{x:560,y:O-20,size:10,font:e,color:o(0,0,0)});let x=r?.createDate;const m=c.widthOfTextAtSize("Fecha: ",11),E=e.widthOfTextAtSize(H(x)+"",12);s.drawText("Fecha: ",{x:580-m-E,y:t,size:11,font:c,color:o(0,0,0)}),s.drawText(H(x)+"",{x:580-E,y:t,size:12,font:e,color:o(.06,.06,.06)}),t=t-20,s.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,s.drawText("Producto",{x:20,y:t,size:13,font:e,color:o(0,0,0)});const L=e.widthOfTextAtSize("Existencia",12);s.drawText("Existencia",{x:480-L,y:t,size:12,font:e,color:o(0,0,0)});const f=e.widthOfTextAtSize("Conteo",12);s.drawText("Conteo",{x:560-f,y:t,size:12,font:e,color:o(0,0,0)}),t=t-8,s.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),Array.isArray(C)&&C.map((l,S)=>{const g=l?.product?.label;t=t-16,g&&s.drawText(g+"",{x:20,y:t,size:R,font:c,color:o(0,0,0)});let N=l?.stock?l?.stock*1:"0";const X=c.widthOfTextAtSize(N+"",R);s.drawText(N+"",{x:480-X,y:t,size:R,font:c,color:o(0,0,0)});let D=l?.qty?l?.qty*1:"0";const d=c.widthOfTextAtSize(D+"",R);s.drawText(D+"",{x:560-d,y:t,size:R,font:c,color:o(0,0,0)})})});{const z=await n.save();return et(z)}},St=async r=>{const n=await Z.create();n.registerFontkit(tt),await n.embedFont(p.TimesRoman);var c=await n.embedFont(p.TimesRomanBold);if(await n.embedFont(p.TimesRomanBold),_("modernFontReport")){let x=_("Roboto-Bold.ttf");const m=await fetch(x).then(S=>S.arrayBuffer());c=await n.embedFont(m);let E=_("ggSans-Italic.ttf");const L=await fetch(E).then(S=>S.arrayBuffer());await n.embedFont(L);let f=_("ggSans-Medium.ttf");const l=await fetch(f).then(S=>S.arrayBuffer());await n.embedFont(l)}const e=await nt(n);let a=n.addPage();const{width:V,height:G}=a.getSize(),i=10;t=G-40;const z=e.GSansBold.widthOfTextAtSize("Invoice: ",9),I=e.Lexend_700.widthOfTextAtSize(r?.invoice,10);a.drawText("Invoice: ",{x:580-I-z,y:t,size:9,font:e.GSansBold,color:o(0,0,0)}),a.drawText(r?.invoice,{x:580-I,y:t,size:10,font:e.Lexend_700,color:o(0,0,0)});let s=G-30,q=_("storeGroupBy")?.[r?.store]?.label||"";a.drawText(q,{x:20,y:s,size:13,font:c,color:o(0,0,0)}),t=t-20;let O=r?.createDate;const R=e.GSansBold.widthOfTextAtSize("Fecha: ",11),h=e.Lexend_700.widthOfTextAtSize(H(O)+"",12);a.drawText("Fecha: ",{x:580-R-h,y:t,size:11,font:e.GSansBold,color:o(0,0,0)}),a.drawText(H(O)+"",{x:580-h,y:t,size:12,font:e.Lexend_700,color:o(.06,.06,.06)});let w=r?.products||[];if(Array.isArray(w)&&w.length>0){t=t-50,a.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,a.drawText("Producto",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)});const x=e.roboto_bold.widthOfTextAtSize("Qty",11);a.drawText("Qty",{x:400-x,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const m=e.roboto_bold.widthOfTextAtSize("Precio",11);a.drawText("Precio",{x:480-m,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const E=e.roboto_bold.widthOfTextAtSize("Total",11);a.drawText("Total",{x:560-E,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)}),t=t-8,a.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let L=rt(r?.products)||[],f=9;L.map((l,S)=>{const g=l?.product?.label;t=t-16,g&&a.drawText(g+"",{x:20,y:t,size:9,font:e.GSansBold,color:o(0,0,0)});let N=l?.qty?(l?.qty*1).toFixed(2):"0.00";const X=e.Lexend_700.widthOfTextAtSize(N+"",f);a.drawText(N+"",{x:400-X,y:t,size:f,font:e.Lexend_700,color:o(0,0,0)});let D=l?.qty?(l?.price*1).toFixed(2):"0.00";const d=e.Lexend_700.widthOfTextAtSize(D+"",f);a.drawText(D+"",{x:480-d,y:t,size:f,font:e.Lexend_700,color:o(0,0,0)});let y=l?.qty?(l?.price*l?.qty*1).toFixed(2):"0.00";const u=e.Lexend_700.widthOfTextAtSize(y+"",f);a.drawText(y+"",{x:560-u,y:t,size:f,font:e.Lexend_700,color:o(0,0,0)})})}t=t-28,a.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let C=500;t=t-20;let J=r?.amount?r?.amount?.toFixed(2):"0.00";const v=e.Lexend_700.widthOfTextAtSize(J+"",i);a.drawText(J+"",{x:560-v,y:t,size:i,font:e.Lexend_700,color:o(.13,.13,.13)});const W=e.GSansBold.widthOfTextAtSize("Total",i);if(a.drawText("Total",{x:C-W,y:t,size:i,font:e.GSansBold,color:o(0,0,0)}),r?.packagesOrder){let x=40,m=shippName+"    ______________________________";const E=e.GSansBold.widthOfTextAtSize(m,8);a.drawText(m,{x:30,y:x+20,size:8,font:e?.GSansBold,color:o(0,0,0)}),a.drawText("Firmar       .",{x:E-30,y:x+10,size:8,font:e?.GSansBold,color:o(0,0,0)});const f="________________________",l=e.GSansBold.widthOfTextAtSize(f,8);a.drawText(f,{x:540-l,y:x+20,size:8,font:e?.GSansBold,color:o(0,0,0)});let S="Fecha";const g=e.GSansBold.widthOfTextAtSize(S,8);a.drawText(S,{x:540-g*2,y:x+10,size:8,font:e?.GSansBold,color:o(0,0,0)})}{const x=await n.save();return et(x)}};export{ht as I,St as T,wt as a};
