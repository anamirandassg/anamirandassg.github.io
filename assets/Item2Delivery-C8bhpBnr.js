const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-CsEOHiYR.js","assets/index-DwQlH4jx.js","assets/index-DGSEMnLR.css","assets/SVG-C5EgwYm9.js","assets/index-Ci0zXM0r.js","assets/ShowQR-9q71G-S_.js","assets/globalSignal-BpuHHCum.js","assets/ShowQRPrintLabel-By8sPFIg.js","assets/fontkit.es-DEjOtITv.js","assets/qrcode-C5vWJp7P.js","assets/InitPrintServices-BPLndWim.js","assets/Util-DJFR2W2y.js","assets/Toast-DZa21H7f.js","assets/Toast-SmEZ1JuI.css","assets/ButonUploadHrm-Bzb8tY1L.js","assets/ButonHrm-BSeWNUGQ.css","assets/ButonHrm-DYjP9Akk.js","assets/DropDwnSearch-BbCFotT7.js","assets/debounces-Cyq-eLq6.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as n,_ as c,a as v,q as D,C as k,k as L,d as i,e as O,i as _,S as y,D as R,f as h,x as U,s as V,t as m,j as q}from"./index-DwQlH4jx.js";import{f as S,g as f,l as Y,O as F}from"./Util-DJFR2W2y.js";/* empty css                             */import{t as b}from"./manifestList-BBlkH10M.js";import"./index-Ci0zXM0r.js";var M=m('<div class="elastic_view_bx show"><div class=" spaceAround centerBx"><div>|</div>'),j=m("<div><img alt=sf>"),z=m('<div class="elastic_view_bx show centerBx"><div style="margin:15px 0"class=" spaceAround centerBx"></div><div class="errorBx centerBx mxW375 "><div class="icon_status centerBx"></div><p class=" centerBx">Click para completar la entrega si la imagen esta clara y con calidad'),H=m("<div>");n(()=>c(()=>import("./FlexSpace-CsEOHiYR.js"),__vite__mapDeps([0,1,2])));const K=n(()=>c(()=>import("./SVG-C5EgwYm9.js"),__vite__mapDeps([3,1,2,4])));n(()=>c(()=>import("./ShowQR-9q71G-S_.js"),__vite__mapDeps([5,1,2,6,7,8,4,9,10,11,12,13])));const E=n(()=>c(()=>import("./ButonUploadHrm-Bzb8tY1L.js"),__vite__mapDeps([14,1,2,3,4,11,15]))),G=n(()=>c(()=>import("./ButonHrm-DYjP9Akk.js"),__vite__mapDeps([16,1,2,3,4,11,15])));n(()=>c(()=>import("./DropDwnSearch-BbCFotT7.js"),__vite__mapDeps([17,1,2,18,3,4,19])));function re(r){const[t,o]=v(null),[d,l]=v(!1),[I,Q]=D(),A=k();L(()=>{});const $=async(e,s)=>{let a=await J(e.type,s);console.log(s),console.log(e),console.log(a);let u=await N(a,e);if(console.log(u),u){let p={deliveryProof:w()+"/"+s,currentStatus:"YABA_99",deliveryUserId:q?.profile?.userId,wasDelivery:"OK",deliveryTime:Y()};const P=F(r?.list).map(async g=>{let T={ssg_track_key:g,idairguide:r?.list[g]?.idairguide};await W(T,p)});await Promise.all(P),A(`/delivery-detail?dId=${I?.dId}`,{replace:!0})}},x=async()=>{l(!1),console.log(r?.item);let e=r?.cid+"/"+f()+f()+"."+t()?.name.split(".").pop();console.log(e),$(t().file,e)},B=e=>{o(e),l(!0)},C=()=>{o(null),l(!1)};return[i(y,{get when(){return!d()||!t()?.source},get children(){var e=M(),s=e.firstChild,a=s.firstChild;return _(s,i(E,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"image_outline",label:"Subir Imagen",handleClick:B}),a),_(s,i(E,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"progress-upload",label:"Subir Imagen mas tarde",handleClick:()=>{}}),null),e}}),i(y,{get when(){return R(()=>!!d())()&&t()?.source},get children(){return[(()=>{var e=j(),s=e.firstChild;return h(()=>U(s,"src",t()?.source)),e})(),(()=>{var e=z(),s=e.firstChild,a=s.nextSibling,u=a.firstChild;return _(s,i(G,{color:"#fa9514",icon:"reload",label:"Tomar imagen nuevamente",handleClick:C})),a.$$click=x,_(u,i(K,{name:"success",size:32,get color(){return b?.success?.svg}})),h(p=>V(a,b?.success,p)),e})(),H()]}})]}const W=async(r,t)=>await S({params:r,query:"updateLogisticYabaExpress",data2update:t}),w=()=>"YABABYSSolution",J=async(r,t)=>{let o={query:"SignedUrlUpload",params:{userId:w(),fileName:t,mimeType:r}};const l=await S(o);return l&&!l.error?l.uploadURL:null},N=async(r,t)=>(await fetch(r,{method:"PUT",headers:{"Content-Type":t.type},body:t}))?.status===200?!0:null;O(["click"]);export{re as default,J as getSignedUploadUrlAsync,N as uploadSignedUrlBlob};
