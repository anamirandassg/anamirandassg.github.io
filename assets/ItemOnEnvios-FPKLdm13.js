const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-DJOoFTV0.js","assets/index-BGdyEIvs.js","assets/index-DGHHyjai.css","assets/SVG-DrxZraQw.js","assets/index-Ci0zXM0r.js","assets/ShowQR-M2SMKq7L.js","assets/globalSignal-DGstKyzO.js","assets/ShowQRPrintLabel-ZpTq4MIn.js","assets/PDFButton-B_0lS8EG.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-BKe7DAJ7.js","assets/InitPrintServices-CprHcwF4.js","assets/Util-uEfv1z7O.js","assets/Toast-Ct5o9zOu.js","assets/Toast-DLpFKn-Q.css","assets/ButonHrm-CcQ5cY7I.js","assets/ButonHrm-BSeWNUGQ.css","assets/ItemOnConsigner-CQ9--hDT.js","assets/DialogHRM-CVof6uxD.js","assets/DialogHRM-V9_lZntj.css","assets/ContainerElasticView-CW5JdqlS.js","assets/ContainerElasticView-LzOd6fDI.css","assets/CheckBoxSlide-93uUMxCB.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{l as x,_ as w,e as J,d as t,i,S as _,k as R,f as N,n as U,g as ie,a as re,v as D,q as E,w as ne,M as O,b as Q,F as p,t as h,x as le}from"./index-BGdyEIvs.js";import{a as G,p as ae,c as se,g as F,O as ce,b as L,f as M}from"./Util-uEfv1z7O.js";import{OpenModal as K,CloseModal as de}from"./DialogHRM-CVof6uxD.js";import me from"./ContainerElasticView-CW5JdqlS.js";import"./index-Ci0zXM0r.js";import{i as C}from"./globalSignal-DGstKyzO.js";import{c as ue}from"./ShowQRPrintLabel-ZpTq4MIn.js";import"./SVG-DrxZraQw.js";/* empty css                             */import"./PDFButton-B_0lS8EG.js";import"./qrcode-C5vWJp7P.js";import"./fontkit.es-BKe7DAJ7.js";import"./InitPrintServices-CprHcwF4.js";import"./Toast-Ct5o9zOu.js";x(()=>w(()=>import("./FlexSpace-DJOoFTV0.js"),__vite__mapDeps([0,1,2])));x(()=>w(()=>import("./SVG-DrxZraQw.js"),__vite__mapDeps([3,1,2,4])));x(()=>w(()=>import("./ShowQR-M2SMKq7L.js"),__vite__mapDeps([5,1,2,6,7,8,4,9,10,11,12,13,14])));J(["click"]);var ge=h('<div class="centerBx bottombx"style=margin-top:10px;><h5>is SSG'),H=h('<div class="icon_status centerBx">'),he=h("<div class=guide_number><h5>"),_e=h('<div class=" tr_bar_10 _dsplFlx">'),W=h("<div class=bag_number><h5>"),X=h("<div class=bottombx><h5>"),Z=h("<div><div>"),oe=h('<p class="tr_bar_30 textleft fullName_consigne">'),be=h("<div style=margin-right:4vw>"),ve=h('<h4 class="tr_bar_20 textleft">'),ye=h("<p>"),$e=h('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),fe=h('<div><div class="_dsplFlx topbx centerBx"></div><div class="_dsplFlx bottombx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),xe=h('<ul class=inline><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Movimientos</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">HBLS</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Embarcador</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Agency'),we=h("<div class=tab>"),P=h("<div class=loader>Loading..."),ee=h("<div>"),Se=h('<div class="centerBx bottombx"><h4 class=""></h4><h5>el <!> a las <!> por</h5><h4 class="">'),ke=h('<div class="centerBx bottombx"><h4 class=""></h4><h5> KG</h5><h4 class="">'),Ce=h("<div class=bottombx><div><h4></h4></div><div><h5>"),Ie=h("<div class=bottombx><div><h4>"),Ne=h('<div><div style=max-height:220px></div><div class="centerBx flxWrp spaceAround ">');const z=x(()=>w(()=>import("./FlexSpace-DJOoFTV0.js"),__vite__mapDeps([0,1,2]))),S=x(()=>w(()=>import("./SVG-DrxZraQw.js"),__vite__mapDeps([3,1,2,4]))),Be=x(()=>w(()=>import("./ButonHrm-CcQ5cY7I.js"),__vite__mapDeps([15,1,2,3,4,12,16]))),Ae=x(()=>w(()=>import("./ShowQR-M2SMKq7L.js"),__vite__mapDeps([5,1,2,6,7,8,4,9,10,11,12,13,14]))),Ee=x(()=>w(()=>import("./ItemOnConsigner-CQ9--hDT.js"),__vite__mapDeps([17,1,2,12,4,18,19,20,3,21,6,8,9,10,13,14,15,16]))),Le=x(()=>w(()=>import("./CheckBoxSlide-93uUMxCB.js"),__vite__mapDeps([22,1,2,23])));let q={YABA_99:"check_circle"};function rt(e){const r=c=>c?" "+c:"",n=()=>{let c=e?.item?.consigneeInfo;return r(c?.firstName)+r(c?.middleName)+r(c?.lastName)+r(c?.lastName2)},l=()=>{let c=e?.item?.consigneeInfo,d=r(c?.altPhoneNumber);return r(c?.phoneNumber)+(d?" |"+d:"")},s=()=>{let c=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let d=c.reduce((b,y)=>Math.min(b,y.timeStamp),1/0);return Math.floor((new Date().getTime()-d)/864e5)}else return null},u=async()=>{let c={ssg_track_key:e?.item?.ssg_track_key,idairguide:e?.item?.idairguide};e?.item?.bagnumber&&await ze({id:e?.item?.bagnumber}),e?.item?.hbls?.map(async d=>{}),await Re(c),e?.refresh()},o=()=>{let c=e?.item?.street.split(",");return c.slice(0,c.length-2).join(",")},v=c=>{let d="";if(c)d=c,c.indexOf("/")>0&&(d=e?.item?.hblS.split("/")?.[2]);else if(e?.item?.hblS){let y=e?.item?.hblS;d=`${e?.item?.idairguide}/${e?.item?.cidentity}/${y}`}let b={};b.id=F(),b.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},b.content=t(Ae,{val:d,get item(){return e?.item}}),K(b)},B=async c=>{let d=await qe(e?.item?.cidentity),b=ce(d)?.[0],y=F(),f={};f.id=y,f.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},f.content=t(Fe,{get item(){return d?.[b]},get it(){return e?.item},modalId:y}),K(f)},k=c=>{let d=c,b="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const y=new RegExp(b);return d.length===13&&y.test(d)&&(d=d.slice(3,12)),d},I=async c=>{await te({ssg_track_key:e?.item?.ssg_track_key,idairguide:e?.item?.idairguide},{isSSG:c})};return t(_,{get when(){return e?.item?.cidentity},get children(){var c=fe(),d=c.firstChild,b=d.nextSibling,y=b.firstChild,f=y.firstChild,A=f.nextSibling,V=A.nextSibling;return i(d,t(_,{get when(){return R?.profile?.isAdmin},get children(){var a=ge(),m=a.firstChild;return i(a,t(Le,{get initValue(){return e?.item?.isSSG},updChange:I,color:"var(--background-red-ssg)"}),m),a}}),null),i(d,t(_,{get when(){return e?.item?.cidentity},get children(){return[(()=>{var a=_e();return i(a,t(_,{get when(){return q[e?.item?.currentStatus]},get children(){var m=H();return i(m,t(S,{get name(){return q?.[e?.item?.currentStatus]},size:32,color:"var(--hrm-palette-tertiary60)"})),m}}),null),i(a,t(_,{get when(){return!q[e?.item?.currentStatus]},get children(){var m=H();return i(m,t(S,{get name(){return G("M023009")?.statusListIcons?.[e?.item?.currentStatus]},size:32})),m}}),null),i(a,t(_,{get when(){return s()},get children(){var m=he(),g=m.firstChild;return i(g,s),m}}),null),a})(),t(_,{get when(){return C()},get children(){return[t(z,{}),(()=>{var a=Z(),m=a.firstChild;return i(m,t(_,{get when(){return e?.item?.bagnumber},get children(){var g=W(),$=g.firstChild;return g.$$click=()=>v(e?.item?.bagnumber),i($,()=>e?.item?.bagnumber),g}})),i(a,t(_,{get when(){return e?.item?.tracking},get children(){var g=X(),$=g.firstChild;return g.$$click=()=>v(k(e?.item?.tracking)),i($,()=>k(e?.item?.tracking)),g}}),null),a})()]}}),t(_,{get when(){return!C()},get children(){return[(()=>{var a=oe();return i(a,n),N(()=>U(a,"data-name",`${e?.item?.cidentity}`)),a})(),be(),(()=>{var a=ve();return i(a,l),a})()]}})]}}),null),i(d,t(z,{}),null),i(d,t(_,{get when(){return!C()},get children(){var a=Z(),m=a.firstChild;return i(m,t(_,{get when(){return e?.item?.bagnumber},get children(){var g=W(),$=g.firstChild;return g.$$click=()=>v(e?.item?.bagnumber),i($,()=>k(e?.item?.bagnumber)),g}})),i(a,t(_,{get when(){return e?.item?.tracking},get children(){var g=X(),$=g.firstChild;return g.$$click=()=>v(k(e?.item?.tracking)),i($,()=>k(e?.item?.tracking)),N(()=>U(g,"data-tracking",`${e?.item?.tracking}`)),g}}),null),a}}),null),i(d,t(_,{get when(){return R?.profile?.isAdmin},get children(){var a=H();return a.$$click=B,i(a,t(S,{name:"home",size:24})),a}}),null),i(d,t(_,{get when(){return!e?.item?.bagnumber||R?.profile?.isAdmin},get children(){var a=H();return a.$$click=u,i(a,t(S,{name:"outline_delete",size:24})),a}}),null),i(b,t(_,{get when(){return!C()&&e?.item?.consigneeInfo?.ybcity},get children(){var a=ye();return i(a,o),a}}),y),i(b,t(z,{}),y),i(f,()=>e?.item?.consigneeInfo?.ybcity),i(V,()=>e?.item?.consigneeInfo?.ybestate),i(c,t(_,{get when(){return C()&&e?.item?.consigneeInfo?.ybcity},get children(){var a=$e(),m=a.firstChild,g=m.nextSibling,$=g.nextSibling,T=$.nextSibling;return i(m,n),i($,l),i(T,o),a}}),null),i(c,t(Me,{get item(){return e?.item}}),null),N(()=>ie(c,`client_item_box gWXAaj jlytmu ${C()?"isMobile":""}`)),c}})}const Me=e=>{const[r,n]=re(0),[l,s]=le(),u=o=>()=>s(()=>n(o));return t(me,{get children(){return[(()=>{var o=xe(),v=o.firstChild,B=v.firstChild,k=B.firstChild,I=v.nextSibling,c=I.firstChild,d=c.firstChild,b=I.nextSibling,y=b.firstChild,f=y.firstChild,A=b.nextSibling,V=A.firstChild,a=V.firstChild;return D(v,"click",u(1),!0),i(k,t(S,{name:"list_dot",size:24})),D(I,"click",u(2),!0),i(d,t(S,{name:"receipt",size:24})),D(b,"click",u(3),!0),i(f,t(S,{name:"send",size:24})),D(A,"click",u(4),!0),i(a,t(S,{name:"store",size:24})),N(m=>{var g=r()===1,$=r()===2,T=r()===3,j=r()===4;return g!==m.e&&v.classList.toggle("selected",m.e=g),$!==m.t&&I.classList.toggle("selected",m.t=$),T!==m.a&&b.classList.toggle("selected",m.a=T),j!==m.o&&A.classList.toggle("selected",m.o=j),m},{e:void 0,t:void 0,a:void 0,o:void 0}),o})(),(()=>{var o=we();return i(o,t(E,{get fallback(){return P()},get children(){return t(ne,{get children(){return[t(O,{get when(){return r()===1},get children(){return t(_,{get when(){return r()===1},get children(){return t(Pe,{index:1,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key},get currentStatus(){return e?.item?.currentStatus}})}})}}),t(O,{get when(){return r()===2},get children(){return t(_,{get when(){return r()===2},get children(){return t(De,{index:2,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),t(O,{get when(){return r()===3},get children(){return t(_,{get when(){return r()===3},get children(){return t(He,{index:3,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),t(O,{get when(){return r()===4},get children(){return t(_,{get when(){return r()===4},get children(){return t(Ve,{index:4,get agency(){return e?.item?.agency},get id(){return e?.item?.ssg_track_key}})}})}})]}})}})),N(()=>o.classList.toggle("pending",!!l())),o})()]}})},Pe=e=>{const[r,{refetch:n}]=Q(e?.id,async l=>{const s=await Y(e?.idairguide,e?.id,["statusHistory","deliveryUserName","deliveryTime"]);let u=s?.statusHistory;if(s?.deliveryTime){let o={statusId:e?.currentStatus,timeStamp:s?.deliveryTime,userName:s?.deliveryUserName};u.push(o)}return u});return t(E,{get fallback(){return P()},get children(){var l=ee();return i(l,t(p,{get each(){return r()},children:s=>t(Te,{item:s})})),l}})},Te=e=>(()=>{var r=Se(),n=r.firstChild,l=n.nextSibling,s=l.firstChild,u=s.nextSibling,o=u.nextSibling,v=o.nextSibling;v.nextSibling;var B=l.nextSibling;return i(n,()=>G("M023009")?.statusObjDesc[e?.item?.statusId]),i(l,()=>ae(e?.item?.timeStamp),u),i(l,()=>se(e?.item?.timeStamp),v),i(B,()=>e?.item?.userName),r})(),De=e=>{const[r,{refetch:n}]=Q(e?.id,async l=>(await Y(e?.idairguide,e?.id,["hbls"]))?.hbls);return t(E,{get fallback(){return P()},get children(){var l=ee();return i(l,t(p,{get each(){return r()},children:s=>t(Oe,{item:s})})),l}})},Oe=e=>{const r=n=>{ue(n)};return(()=>{var n=ke(),l=n.firstChild,s=l.nextSibling,u=s.firstChild,o=s.nextSibling;return l.$$click=()=>r(e?.item?.hbl),i(l,()=>e?.item?.hbl),i(s,()=>e?.item?.weight,u),i(o,()=>e?.item?.namegood),n})()},He=e=>{const[r,{refetch:n}]=Q(e?.id,async l=>await Y(e?.idairguide,e?.id,["nameshipper","shipperInfo:phoneNumber"]));return t(E,{get fallback(){return P()},get children(){var l=Ce(),s=l.firstChild,u=s.firstChild,o=s.nextSibling,v=o.firstChild;return i(u,()=>r()?.nameshipper),i(v,()=>r()?.shipperInfo?.phoneNumber),l}})},Ve=e=>{const r=()=>G("M023009")?.agencies?.filter(l=>e?.agency===l?.id?.toString())?.[0];return t(E,{get fallback(){return P()},get children(){var n=Ie(),l=n.firstChild,s=l.firstChild;return i(s,()=>r()?.label),n}})},Re=async e=>{let r={params:e},n=L(809005);return r={...r,...n},(await M(r))?.data},ze=async e=>{let r={params:e},n=L(409098);return r={...r,...n},(await M(r))?.data},Y=async(e,r,n)=>{let l={params:{id:r,idairguide:e},fldsQry:n},s=L(802002);l={...l,...s};const u=await M(l);return u?.data?.error?{}:u},qe=async e=>{if(e.length>4){let r={params:{}};e&&e.split(" ").map((s,u)=>{s&&(r.params[":search"+u]=s.trim())});let n=L(401001);return r={...r,...n},await M(r)}else return{}},te=async(e,r)=>{let n={params:e,data2update:r},l=L(809004);return n={...n,...l},await M(n)},Fe=e=>{const r=async()=>{let n={consigneeInfo:{cid:e?.item?.cid,firstName:e?.item?.firstName,lastName:e?.item?.lastName,lastName2:e?.item?.lastName2,middleName:e?.item?.middleName,phoneNumber:e?.item?.phoneNumber,ybapt:e?.item?.ybapt,ybbetwen1:e?.item?.ybbetwen1,ybbetwen2:e?.item?.ybbetwen2,ybcity:e?.item?.ybcity,ybestate:e?.item?.ybestate,ybreparto:e?.item?.ybreparto,ybstreet:e?.item?.ybstreet,ybstreetNo:e?.item?.ybstreetNo},city:e?.item?.ybcity,estate:e?.item?.ybestate};await te({ssg_track_key:e?.it?.ssg_track_key,idairguide:e?.it?.idairguide},n),de(e?.modalId)};return(()=>{var n=Ne(),l=n.firstChild,s=l.nextSibling;return n.style.setProperty("height","clamp(20vh, 45vh, 80vh)"),n.style.setProperty("overflow","auto"),n.style.setProperty("background","#ffffff"),n.style.setProperty("border-radius","13"),n.style.setProperty("padding","10px 19px"),i(l,t(Ee,{get item(){return e?.item},refresh:()=>isOpenDebounced(F())})),i(s,t(Be,{color:"rgb(200 25 60 / 1)",label:"Actualizar",handleClick:r})),N(u=>(u=C()?"96vw":"920px")!=null?n.style.setProperty("width",u):n.style.removeProperty("width")),n})()};J(["click"]);export{rt as default};
