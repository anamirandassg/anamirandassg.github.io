const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-C4NbACMw.js","assets/index-Bd8d4l1p.js","assets/index-DGHHyjai.css","assets/SVG-jh3f1-82.js","assets/index-Ci0zXM0r.js","assets/ButonHrm-DXsz9G3z.js","assets/Util-uEfv1z7O.js","assets/ButonHrm-BSeWNUGQ.css","assets/InputHr-NvD9idxZ.js","assets/InputHr-M3rJ9grQ.css","assets/ShowQR-BhIK49nT.js","assets/globalSignal-ChcoKg_q.js","assets/ShowQRPrintLabel-CdYgf9Rb.js","assets/PDFButton-B_0lS8EG.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-BKe7DAJ7.js","assets/InitPrintServices-CprHcwF4.js","assets/Toast-pMiqqDvz.js","assets/Toast-DLpFKn-Q.css","assets/ItemOnConsigner-ttK1p67x.js","assets/DialogHRM-Dkv_duLR.js","assets/DialogHRM-V9_lZntj.css","assets/ContainerElasticView-CCAbkJdI.js","assets/ContainerElasticView-LzOd6fDI.css","assets/CheckBoxSlide-D2M2oRXd.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{l as P,_ as A,d as i,i as t,e as de,t as g,S as b,j as ue,f as D,n as J,k as G,g as me,a as T,w as V,r as O,x as ge,M as q,b as U,F as ae,m as oe,y as he}from"./index-Bd8d4l1p.js";import{a as K,p as _e,c as be,g as W,O as ve,b as z,f as F}from"./Util-uEfv1z7O.js";import{OpenModal as p,CloseModal as $e}from"./DialogHRM-Dkv_duLR.js";import ye from"./ContainerElasticView-CCAbkJdI.js";import{i as C}from"./globalSignal-ChcoKg_q.js";import{c as fe}from"./ShowQRPrintLabel-CdYgf9Rb.js";import"./index-Ci0zXM0r.js";import"./SVG-jh3f1-82.js";/* empty css                             */import"./PDFButton-B_0lS8EG.js";import"./qrcode-C5vWJp7P.js";import"./fontkit.es-BKe7DAJ7.js";import"./InitPrintServices-CprHcwF4.js";import"./Toast-pMiqqDvz.js";var xe=g('<div class="centerBx bottombx"style=margin-top:10px;><h5>is SSG'),M=g('<div class="icon_status centerBx">'),we=g("<div class=guide_number><h5>"),ke=g('<div class=" tr_bar_10 _dsplFlx">'),ee=g("<div class=bag_number><h5>"),te=g("<div class=bottombx><h5>"),ie=g("<div><div>"),Se=g('<p class="tr_bar_30 textleft fullName_consigne">'),Ce=g("<div style=margin-right:4vw>"),Be=g('<h4 class="tr_bar_20 textleft">'),Ie=g("<p>"),Ne=g("<div class=separator> "),Pe=g('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),Ae=g('<div><div class="_dsplFlx topbx centerBx"></div><div class="centerBx bottombx"><div class="centerBx bottombx flxWrp"><h4></h4><div class=vertseparator></div><h5></h5><div class=vertseparator></div><h4>'),Ee=g('<ul class=inline><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Movimientos</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">HBLS</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Embarcador</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Agency'),Me=g("<div class=tab>"),R=g("<div class=loader>Loading..."),se=g("<div>"),De=g('<div class="centerBx bottombx"><h4 class=""></h4><h5>el <!> a las <!> por</h5><h4 class="">'),re=g("<div style=padding:4px>"),He=g('<div class="centerBx bottombx"><h4 class=""></h4>|<div class="icon_status centerBx"></div><h5> KG</h5>|<div class="icon_status centerBx"></div><h5> LB</h5>|<h4 class="">'),Le=g("<h5>"),Te=g("<h4>"),Oe=g("<div class=bottombx><div><h4></h4></div><div><h5>"),ze=g("<div class=bottombx><div><h4>"),Fe=g('<div><div style=max-height:220px></div><div class="centerBx flxWrp spaceAround ">'),Re=g('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),Ve=g('<div class="centerBx flxWrp">');const Y=P(()=>A(()=>import("./FlexSpace-C4NbACMw.js"),__vite__mapDeps([0,1,2]))),k=P(()=>A(()=>import("./SVG-jh3f1-82.js"),__vite__mapDeps([3,1,2,4]))),qe=P(()=>A(()=>import("./ButonHrm-DXsz9G3z.js"),__vite__mapDeps([5,1,2,3,4,6,7]))),ne=P(()=>A(()=>import("./InputHr-NvD9idxZ.js"),__vite__mapDeps([8,1,2,9]))),Qe=P(()=>A(()=>import("./ShowQR-BhIK49nT.js"),__vite__mapDeps([10,1,2,11,12,13,4,14,15,16,6,17,18]))),Ge=P(()=>A(()=>import("./ItemOnConsigner-ttK1p67x.js"),__vite__mapDeps([19,1,2,6,4,20,21,22,3,23,11,13,14,15,17,18,5,7]))),Ye=P(()=>A(()=>import("./CheckBoxSlide-D2M2oRXd.js"),__vite__mapDeps([24,1,2,25])));let j={YABA_99:"check_circle"};function $t(e){const r=c=>c?" "+c:"",l=()=>{let c=e?.item?.consigneeInfo;return r(c?.firstName)+r(c?.middleName)+r(c?.lastName)+r(c?.lastName2)},a=()=>{let c=e?.item?.consigneeInfo,d=r(c?.altPhoneNumber);return r(c?.phoneNumber)+(d?" |"+d:"")},s=()=>{let c=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let d=c.reduce((v,u)=>Math.min(v,u.timeStamp),1/0);return Math.floor((new Date().getTime()-d)/864e5)}else return null},m=async()=>{let d={ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"};e?.item?.bagnumber&&await tt({id:e?.item?.bagnumber}),e?.item?.hbls?.map(async v=>{}),await et(d),e?.refresh()},h=c=>{let d="";if(c)d=c,c.indexOf("/")>0&&(d=e?.item?.hblS.split("/")?.[2]);else if(e?.item?.hblS){let u=e?.item?.hblS;d=`${e?.item?.idairguide}/${e?.item?.cidentity}/${u}`}let v={};v.id=W(),v.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},v.content=i(Qe,{val:d,get item(){return e?.item}}),p(v)},y=async c=>{let d=await it(e?.item?.cidentity),v=ve(d)?.[0],u=W(),f={};f.id=u,f.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},f.content=i(rt,{get item(){return d?.[v]},get it(){return e?.item},modalId:u}),p(f)},w=c=>{let d=c,v="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const u=new RegExp(v);return d.length===13&&u.test(d)&&(d=d.slice(3,12)),d},H=async c=>{await Z({ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"},{isSSG:c?"1":null})};return i(b,{get when(){return e?.item?.cidentity},get children(){var c=Ae(),d=c.firstChild,v=d.nextSibling,u=v.firstChild,f=u.firstChild,B=f.nextSibling,S=B.nextSibling,I=S.nextSibling,L=I.nextSibling;return t(d,i(b,{get when(){return ue(()=>!!G?.profile?.isAdmin)()&&!C()},get children(){var n=xe(),_=n.firstChild;return t(n,i(Ye,{get initValue(){return e?.item?.isSSG},updChange:H,color:"var(--background-red-ssg)"}),_),n}}),null),t(d,i(b,{get when(){return e?.item?.cidentity},get children(){return[(()=>{var n=ke();return t(n,i(b,{get when(){return j[e?.item?.currentStatus]},get children(){var _=M();return t(_,i(k,{get name(){return j?.[e?.item?.currentStatus]},size:32,color:"var(--hrm-palette-tertiary60)"})),_}}),null),t(n,i(b,{get when(){return!j[e?.item?.currentStatus]},get children(){var _=M();return t(_,i(k,{get name(){return K("M023009")?.statusListIcons?.[e?.item?.currentStatus]},size:32})),_}}),null),t(n,i(b,{get when(){return s()},get children(){var _=we(),o=_.firstChild;return t(o,s),_}}),null),n})(),i(b,{get when(){return C()},get children(){return[i(Y,{}),(()=>{var n=ie(),_=n.firstChild;return t(_,i(b,{get when(){return e?.item?.bagnumber},get children(){var o=ee(),x=o.firstChild;return o.$$click=()=>h(e?.item?.bagnumber),t(x,()=>e?.item?.bagnumber),o}})),t(n,i(b,{get when(){return e?.item?.tracking},get children(){var o=te(),x=o.firstChild;return o.$$click=()=>h(w(e?.item?.tracking)),t(x,()=>w(e?.item?.tracking)),o}}),null),n})()]}}),i(b,{get when(){return!C()},get children(){return[(()=>{var n=Se();return t(n,l),D(()=>J(n,"data-name",`${e?.item?.cidentity}`)),n})(),Ce(),(()=>{var n=Be();return t(n,a),n})()]}})]}}),null),t(d,i(Y,{}),null),t(d,i(b,{get when(){return!C()},get children(){var n=ie(),_=n.firstChild;return t(_,i(b,{get when(){return e?.item?.bagnumber},get children(){var o=ee(),x=o.firstChild;return o.$$click=()=>h(e?.item?.bagnumber),t(x,()=>w(e?.item?.bagnumber)),o}})),t(n,i(b,{get when(){return e?.item?.tracking},get children(){var o=te(),x=o.firstChild;return o.$$click=()=>h(w(e?.item?.tracking)),t(x,()=>w(e?.item?.tracking)),D(()=>J(o,"data-tracking",`${e?.item?.tracking}`)),o}}),null),n}}),null),t(d,i(b,{get when(){return G?.profile?.isAdmin},get children(){var n=M();return n.$$click=y,t(n,i(k,{name:"home",size:24})),n}}),null),t(d,i(b,{get when(){return!e?.item?.bagnumber||G?.profile?.isAdmin},get children(){var n=M();return n.$$click=m,t(n,i(k,{name:"outline_delete",size:24})),n}}),null),t(v,i(b,{get when(){return!C()&&e?.item?.consigneeInfo?.ybstreet},get children(){var n=Ie();return t(n,()=>le(e?.item?.consigneeInfo)),n}}),u),t(v,i(Y,{}),u),t(f,()=>e?.item?.consigneeInfo?.ybreparto),t(S,()=>e?.item?.consigneeInfo?.ybcity),t(L,()=>e?.item?.consigneeInfo?.ybestate),t(c,i(b,{get when(){return C()&&e?.item?.consigneeInfo?.ybcity},get children(){return[Ne(),(()=>{var n=Pe(),_=n.firstChild,o=_.nextSibling,x=o.nextSibling,E=x.nextSibling;return t(_,l),t(x,a),t(E,()=>le(e?.item?.consigneeInfo)),n})()]}}),null),t(c,i(je,{get item(){return e?.item}}),null),D(()=>me(c,`client_item_box gWXAaj jlytmu ${C()?"isMobile":""}`)),c}})}const je=e=>{const[r,l]=T(0),[a,s]=he(),m=h=>()=>s(()=>l(h));return i(ye,{get children(){return[(()=>{var h=Ee(),y=h.firstChild,w=y.firstChild,H=w.firstChild,c=y.nextSibling,d=c.firstChild,v=d.firstChild,u=c.nextSibling,f=u.firstChild,B=f.firstChild,S=u.nextSibling,I=S.firstChild,L=I.firstChild;return V(y,"click",m(1),!0),t(H,i(k,{name:"list_dot",size:24})),V(c,"click",m(2),!0),t(v,i(k,{name:"receipt",size:24})),V(u,"click",m(3),!0),t(B,i(k,{name:"send",size:24})),V(S,"click",m(4),!0),t(L,i(k,{name:"store",size:24})),D(n=>{var _=r()===1,o=r()===2,x=r()===3,E=r()===4;return _!==n.e&&y.classList.toggle("selected",n.e=_),o!==n.t&&c.classList.toggle("selected",n.t=o),x!==n.a&&u.classList.toggle("selected",n.a=x),E!==n.o&&S.classList.toggle("selected",n.o=E),n},{e:void 0,t:void 0,a:void 0,o:void 0}),h})(),(()=>{var h=Me();return t(h,i(O,{get fallback(){return R()},get children(){return i(ge,{get children(){return[i(q,{get when(){return r()===1},get children(){return i(b,{get when(){return r()===1},get children(){return i(We,{index:1,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key},get currentStatus(){return e?.item?.currentStatus}})}})}}),i(q,{get when(){return r()===2},get children(){return i(b,{get when(){return r()===2},get children(){return i(Ke,{index:2,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(q,{get when(){return r()===3},get children(){return i(b,{get when(){return r()===3},get children(){return i(Je,{index:3,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(q,{get when(){return r()===4},get children(){return i(b,{get when(){return r()===4},get children(){return i(pe,{index:4,get agency(){return e?.item?.agency},get id(){return e?.item?.ssg_track_key}})}})}})]}})}})),D(()=>h.classList.toggle("pending",!!a())),h})()]}})},We=e=>{const[r,{refetch:l}]=U(e?.id,async a=>{const s=await X(e?.idairguide,e?.id,["statusHistory","deliveryUserName","deliveryTime"]);let m=s?.statusHistory;if(s?.deliveryTime){let h={statusId:e?.currentStatus,timeStamp:s?.deliveryTime,userName:s?.deliveryUserName};m.push(h)}return m});return i(O,{get fallback(){return R()},get children(){var a=se();return t(a,i(ae,{get each(){return r()},children:s=>i(Ue,{item:s})})),a}})},Ue=e=>(()=>{var r=De(),l=r.firstChild,a=l.nextSibling,s=a.firstChild,m=s.nextSibling,h=m.nextSibling,y=h.nextSibling;y.nextSibling;var w=a.nextSibling;return t(l,()=>K("M023009")?.statusObjDesc[e?.item?.statusId]),t(a,()=>_e(e?.item?.timeStamp),m),t(a,()=>be(e?.item?.timeStamp),y),t(w,()=>e?.item?.userName),r})(),Ke=e=>{const[r,{refetch:l}]=U(e?.id,async s=>(await X(e?.idairguide,e?.id,["hbls"]))?.hbls),a=async(s,m)=>{let h=[];r().map(y=>{y.hbl===s&&(y={...y,...m}),h.push(y)}),await Z({ssg_track_key:e?.id,idairguide:"all"},{hbls:h}),l()};return i(O,{get fallback(){return R()},get children(){var s=se();return t(s,i(ae,{get each(){return r()},children:m=>i(Ze,{item:m,updHbls:a})})),s}})},Xe=2.20462,Ze=e=>{const[r,l]=T(0),[a,s]=T(0),[m,h]=T(0),[y,w]=T(0),H=u=>{fe(u)};oe(()=>{e?.item?.pricePerPound&&h(e?.item?.pricePerPound),e?.item?.dutyFee&&w(e?.item?.dutyFee)});const c=(u,f,B)=>{e?.updHbls(e?.item?.hbl,{[u]:f}),B?l(!1):s(!1)},d=()=>{let u=e?.item?.pricePerPound;return u?"$ "+(u*1).toFixed(2):" agregar precio por libra"},v=()=>{let u=e?.item?.dutyFee;return u?"$ "+(u*1).toFixed(2):" agregar aranceles"};return(()=>{var u=He(),f=u.firstChild,B=f.nextSibling,S=B.nextSibling,I=S.nextSibling,L=I.firstChild,n=I.nextSibling,_=n.nextSibling,o=_.nextSibling,x=o.firstChild,E=o.nextSibling,ce=E.nextSibling;return f.$$click=()=>H(e?.item?.hbl),t(f,()=>e?.item?.hbl),t(S,i(k,{name:"weight-kilogram",size:20})),t(I,()=>e?.item?.weight,L),t(_,i(k,{name:"weight-pound",size:20})),t(o,()=>(e?.item?.weight*Xe).toFixed(2),x),t(ce,()=>e?.item?.namegood),t(u,i(b,{get when(){return r()},get fallback(){return["|",(()=>{var $=M();return t($,i(k,{name:"money",size:20})),$})(),(()=>{var $=Le();return $.$$click=()=>l(!r()),t($,d),$})()]},get children(){var $=re();return t($,i(ne,{width:"160px",backColor:"#ffffff",borderColor:"#b2b2b2",type:"number",borderActiveColor:"var(--background-red-ssg)",get value(){return m()},placeholder:"Precio por Libra",colors:"#2b2b2b",handleClick:N=>h(N),onEnter:N=>c("pricePerPound",N,1)})),$}}),null),t(u,i(b,{get when(){return a()},get fallback(){return["|",(()=>{var $=M();return t($,i(k,{name:"warehouse",size:20})),$})(),(()=>{var $=Te();return $.$$click=()=>s(!a()),t($,v),$})()]},get children(){var $=re();return t($,i(ne,{width:"160px",backColor:"#ffffff",borderColor:"#b2b2b2",type:"number",borderActiveColor:"var(--background-red-ssg)",get value(){return y()},placeholder:"Aranceles",colors:"#2b2b2b",handleClick:N=>w(N),onEnter:N=>c("dutyFee",N)})),$}}),null),u})()},Je=e=>{const[r,{refetch:l}]=U(e?.id,async a=>await X(e?.idairguide,e?.id,["nameshipper","shipperInfo:phoneNumber"]));return i(O,{get fallback(){return R()},get children(){var a=Oe(),s=a.firstChild,m=s.firstChild,h=s.nextSibling,y=h.firstChild;return t(m,()=>r()?.nameshipper),t(y,()=>r()?.shipperInfo?.phoneNumber),a}})},pe=e=>{const r=()=>K("M023009")?.agencies?.filter(a=>e?.agency===a?.id?.toString())?.[0];return i(O,{get fallback(){return R()},get children(){var l=ze(),a=l.firstChild,s=a.firstChild;return t(s,()=>r()?.label),l}})},et=async e=>{let r={params:e},l=z(809005);return r={...r,...l},(await F(r))?.data},tt=async e=>{let r={params:e},l=z(409098);return r={...r,...l},(await F(r))?.data},X=async(e,r,l)=>{let a={params:{id:r,idairguide:"all"},fldsQry:l},s=z(802002);a={...a,...s};const m=await F(a);return m?.data?.error?{}:m},it=async e=>{if(e.length>4){let r={params:{}};e&&e.split(" ").map((s,m)=>{s&&(r.params[":search"+m]=s.trim())});let l=z(401001);return r={...r,...l},await F(r)}else return{}},Z=async(e,r)=>{let l={params:e,data2update:r},a=z(809004);return l={...l,...a},await F(l)},rt=e=>{const r=async()=>{let l={consigneeInfo:{cid:e?.item?.cid,firstName:e?.item?.firstName,lastName:e?.item?.lastName,lastName2:e?.item?.lastName2,middleName:e?.item?.middleName,phoneNumber:e?.item?.phoneNumber,ybapt:e?.item?.ybapt,ybbetwen1:e?.item?.ybbetwen1,ybbetwen2:e?.item?.ybbetwen2,ybcity:e?.item?.ybcity,ybestate:e?.item?.ybestate,ybreparto:e?.item?.ybreparto,ybstreet:e?.item?.ybstreet,ybstreetNo:e?.item?.ybstreetNo},city:e?.item?.ybcity,estate:e?.item?.ybestate};await Z({ssg_track_key:e?.it?.ssg_track_key,idairguide:"all"},l),$e(e?.modalId)};return(()=>{var l=Fe(),a=l.firstChild,s=a.nextSibling;return l.style.setProperty("height","clamp(20vh, 45vh, 80vh)"),l.style.setProperty("overflow","auto"),l.style.setProperty("background","#ffffff"),l.style.setProperty("border-radius","13"),l.style.setProperty("padding","10px 19px"),t(a,i(Ge,{get item(){return e?.item},refresh:()=>isOpenDebounced(W())})),t(s,i(qe,{color:"rgb(200 25 60 / 1)",label:"Actualizar",handleClick:r})),D(m=>(m=C()?"96vw":"920px")!=null?l.style.setProperty("width",m):l.style.removeProperty("width")),l})()},Q=(e,r)=>r?(()=>{var l=Re(),a=l.firstChild,s=a.nextSibling;return t(a," "+e),t(s,r),l})():"",le=e=>(()=>{var r=Ve();return t(r,()=>Q("Calle",e?.ybstreet),null),t(r,()=>Q("#",e?.ybstreetNo),null),t(r,()=>Q("E/",e?.ybbetwen1),null),t(r,()=>Q("y",e?.ybbetwen2),null),r})();de(["click"]);export{$t as default,le as getAddress};
