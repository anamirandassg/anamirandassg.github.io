function w1(o,c){for(var a=0;a<c.length;a++){const u=c[a];if(typeof u!="string"&&!Array.isArray(u)){for(const h in u)if(h!=="default"&&!(h in o)){const f=Object.getOwnPropertyDescriptor(u,h);f&&Object.defineProperty(o,h,f.get?f:{enumerable:!0,get:()=>u[h]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const f of h)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function a(h){const f={};return h.integrity&&(f.integrity=h.integrity),h.referrerPolicy&&(f.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?f.credentials="include":h.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(h){if(h.ep)return;h.ep=!0;const f=a(h);fetch(h.href,f)}})();const it={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Io(this.context.count)},getNextContextId(){return Io(this.context.count++)}};function Io(o){const c=String(o),a=c.length-1;return it.context.id+(a?String.fromCharCode(96+a):"")+c}function kn(o){it.context=o}const A1=(o,c)=>o===c,Nr=Symbol("solid-proxy"),O0=Symbol("solid-track"),ci={equals:A1};let Un=null,Us=Xs;const Cr=1,zn=2,Hs={owned:null,cleanups:null,context:null,owner:null},ji={};var rt=null;let je=null,y1=null,gt=null,$t=null,Ut=null,wi=0;function En(o,c){const a=gt,u=rt,h=o.length===0,f=c===void 0?u:c,p=h?Hs:{owned:null,cleanups:null,context:f?f.context:null,owner:f},C=h?o:()=>o(()=>Xt(()=>Zr(p)));rt=p,gt=null;try{return cr(C,!0)}finally{gt=a,rt=u}}function Ke(o,c){c=c?Object.assign({},ci,c):ci;const a={value:o,observers:null,observerSlots:null,comparator:c.equals||void 0},u=h=>(typeof h=="function"&&(je&&je.running&&je.sources.has(a)?h=h(a.tValue):h=h(a.value)),Gs(a,h));return[Vs.bind(a),u]}function Do(o,c,a){const u=Xn(o,c,!0,Cr);_n(u)}function bt(o,c,a){const u=Xn(o,c,!1,Cr);_n(u)}function Gn(o,c,a){Us=T1;const u=Xn(o,c,!1,Cr),h=an&&Ei(an);h&&(u.suspense=h),u.user=!0,Ut?Ut.push(u):_n(u)}function _t(o,c,a){a=a?Object.assign({},ci,a):ci;const u=Xn(o,c,!0,0);return u.observers=null,u.observerSlots=null,u.comparator=a.equals||void 0,_n(u),Vs.bind(u)}function E1(o){return o&&typeof o=="object"&&"then"in o}function V0(o,c,a){let u,h,f;arguments.length===2&&typeof c=="object"||arguments.length===1?(u=!0,h=o,f=c||{}):(u=o,h=c,f={});let p=null,C=ji,A=null,x=!1,m=!1,w="initialValue"in f,v=typeof u=="function"&&_t(u);const S=new Set,[_,b]=(f.storage||Ke)(f.initialValue),[T,R]=Ke(void 0),[B,O]=Ke(void 0,{equals:!1}),[F,J]=Ke(w?"ready":"unresolved");it.context&&(A=it.getNextContextId(),f.ssrLoadFrom==="initial"?C=f.initialValue:it.load&&it.has(A)&&(C=it.load(A)));function $(oe,he,de,H){return p===oe&&(p=null,H!==void 0&&(w=!0),(oe===C||he===C)&&f.onHydrated&&queueMicrotask(()=>f.onHydrated(H,{value:he})),C=ji,je&&oe&&x?(je.promises.delete(oe),x=!1,cr(()=>{je.running=!0,W(he,de)},!1)):W(he,de)),he}function W(oe,he){cr(()=>{he===void 0&&b(()=>oe),J(he!==void 0?"errored":w?"ready":"unresolved"),R(he);for(const de of S.keys())de.decrement();S.clear()},!1)}function fe(){const oe=an&&Ei(an),he=_(),de=T();if(de!==void 0&&!p)throw de;return gt&&!gt.user&&oe&&Do(()=>{B(),p&&(oe.resolved&&je&&x?je.promises.add(p):S.has(oe)||(oe.increment(),S.add(oe)))}),he}function ae(oe=!0){if(oe!==!1&&m)return;m=!1;const he=v?v():u;if(x=je&&je.running,he==null||he===!1){$(p,Xt(_));return}je&&p&&je.promises.delete(p);const de=C!==ji?C:Xt(()=>h(he,{value:_(),refetching:oe}));return E1(de)?(p=de,"value"in de?(de.status==="success"?$(p,de.value,void 0,he):$(p,void 0,M0(de.value),he),de):(m=!0,queueMicrotask(()=>m=!1),cr(()=>{J(w?"refreshing":"pending"),O()},!1),de.then(H=>$(de,H,void 0,he),H=>$(de,void 0,M0(H),he)))):($(p,de,void 0,he),de)}return Object.defineProperties(fe,{state:{get:()=>F()},error:{get:()=>T()},loading:{get(){const oe=F();return oe==="pending"||oe==="refreshing"}},latest:{get(){if(!w)return fe();const oe=T();if(oe&&!p)throw oe;return _()}}}),v?Do(()=>ae(!1)):ae(!1),[fe,{refetch:ae,mutate:b}]}function zs(o){return cr(o,!1)}function Xt(o){if(gt===null)return o();const c=gt;gt=null;try{return o()}finally{gt=c}}function G0(o,c,a){const u=Array.isArray(o);let h,f=a&&a.defer;return p=>{let C;if(u){C=Array(o.length);for(let x=0;x<o.length;x++)C[x]=o[x]()}else C=o();if(f)return f=!1,p;const A=Xt(()=>c(C,h,p));return h=C,A}}function X0(o){Gn(()=>Xt(o))}function Mr(o){return rt===null||(rt.cleanups===null?rt.cleanups=[o]:rt.cleanups.push(o)),o}function v1(o,c){Un||(Un=Symbol("error")),rt=Xn(void 0,void 0,!0),rt.context={...rt.context,[Un]:[c]},je&&je.running&&je.sources.add(rt);try{return o()}catch(a){Yn(a)}finally{rt=rt.owner}}function N0(){return gt}function Ai(){return rt}function js(o,c){const a=rt,u=gt;rt=o,gt=null;try{return cr(c,!0)}catch(h){Yn(h)}finally{rt=a,gt=u}}function Ws(o){if(je&&je.running)return o(),je.done;const c=gt,a=rt;return Promise.resolve().then(()=>{gt=c,rt=a;let u;return an&&(u=je||(je={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),u.done||(u.done=new Promise(h=>u.resolve=h)),u.running=!0),cr(o,!1),gt=rt=null,u?u.done:void 0})}const[b1,To]=Ke(!1);function _1(){return[b1,Ws]}function S1(o){Ut.push.apply(Ut,o),o.length=0}function yi(o,c){const a=Symbol("context");return{id:a,Provider:B1(a),defaultValue:o}}function Ei(o){let c;return rt&&rt.context&&(c=rt.context[o.id])!==void 0?c:o.defaultValue}function vi(o){const c=_t(o),a=_t(()=>R0(c()));return a.toArray=()=>{const u=a();return Array.isArray(u)?u:u!=null?[u]:[]},a}let an;function I1(){return an||(an=yi())}function Vs(){const o=je&&je.running;if(this.sources&&(o?this.tState:this.state))if((o?this.tState:this.state)===Cr)_n(this);else{const c=$t;$t=null,cr(()=>ui(this),!1),$t=c}if(gt){const c=this.observers?this.observers.length:0;gt.sources?(gt.sources.push(this),gt.sourceSlots.push(c)):(gt.sources=[this],gt.sourceSlots=[c]),this.observers?(this.observers.push(gt),this.observerSlots.push(gt.sources.length-1)):(this.observers=[gt],this.observerSlots=[gt.sources.length-1])}return o&&je.sources.has(this)?this.tValue:this.value}function Gs(o,c,a){let u=je&&je.running&&je.sources.has(o)?o.tValue:o.value;if(!o.comparator||!o.comparator(u,c)){if(je){const h=je.running;(h||!a&&je.sources.has(o))&&(je.sources.add(o),o.tValue=c),h||(o.value=c)}else o.value=c;o.observers&&o.observers.length&&cr(()=>{for(let h=0;h<o.observers.length;h+=1){const f=o.observers[h],p=je&&je.running;p&&je.disposed.has(f)||((p?!f.tState:!f.state)&&(f.pure?$t.push(f):Ut.push(f),f.observers&&Ys(f)),p?f.tState=Cr:f.state=Cr)}if($t.length>1e6)throw $t=[],new Error},!1)}return c}function _n(o){if(!o.fn)return;Zr(o);const c=wi;Bo(o,je&&je.running&&je.sources.has(o)?o.tValue:o.value,c),je&&!je.running&&je.sources.has(o)&&queueMicrotask(()=>{cr(()=>{je&&(je.running=!0),gt=rt=o,Bo(o,o.tValue,c),gt=rt=null},!1)})}function Bo(o,c,a){let u;const h=rt,f=gt;gt=rt=o;try{u=o.fn(c)}catch(p){return o.pure&&(je&&je.running?(o.tState=Cr,o.tOwned&&o.tOwned.forEach(Zr),o.tOwned=void 0):(o.state=Cr,o.owned&&o.owned.forEach(Zr),o.owned=null)),o.updatedAt=a+1,Yn(p)}finally{gt=f,rt=h}(!o.updatedAt||o.updatedAt<=a)&&(o.updatedAt!=null&&"observers"in o?Gs(o,u,!0):je&&je.running&&o.pure?(je.sources.add(o),o.tValue=u):o.value=u,o.updatedAt=a)}function Xn(o,c,a,u=Cr,h){const f={fn:o,state:u,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:c,owner:rt,context:rt?rt.context:null,pure:a};return je&&je.running&&(f.state=0,f.tState=u),rt===null||rt!==Hs&&(je&&je.running&&rt.pure?rt.tOwned?rt.tOwned.push(f):rt.tOwned=[f]:rt.owned?rt.owned.push(f):rt.owned=[f]),f}function li(o){const c=je&&je.running;if((c?o.tState:o.state)===0)return;if((c?o.tState:o.state)===zn)return ui(o);if(o.suspense&&Xt(o.suspense.inFallback))return o.suspense.effects.push(o);const a=[o];for(;(o=o.owner)&&(!o.updatedAt||o.updatedAt<wi);){if(c&&je.disposed.has(o))return;(c?o.tState:o.state)&&a.push(o)}for(let u=a.length-1;u>=0;u--){if(o=a[u],c){let h=o,f=a[u+1];for(;(h=h.owner)&&h!==f;)if(je.disposed.has(h))return}if((c?o.tState:o.state)===Cr)_n(o);else if((c?o.tState:o.state)===zn){const h=$t;$t=null,cr(()=>ui(o,a[0]),!1),$t=h}}}function cr(o,c){if($t)return o();let a=!1;c||($t=[]),Ut?a=!0:Ut=[],wi++;try{const u=o();return D1(a),u}catch(u){a||(Ut=null),$t=null,Yn(u)}}function D1(o){if($t&&(Xs($t),$t=null),o)return;let c;if(je){if(!je.promises.size&&!je.queue.size){const u=je.sources,h=je.disposed;Ut.push.apply(Ut,je.effects),c=je.resolve;for(const f of Ut)"tState"in f&&(f.state=f.tState),delete f.tState;je=null,cr(()=>{for(const f of h)Zr(f);for(const f of u){if(f.value=f.tValue,f.owned)for(let p=0,C=f.owned.length;p<C;p++)Zr(f.owned[p]);f.tOwned&&(f.owned=f.tOwned),delete f.tValue,delete f.tOwned,f.tState=0}To(!1)},!1)}else if(je.running){je.running=!1,je.effects.push.apply(je.effects,Ut),Ut=null,To(!0);return}}const a=Ut;Ut=null,a.length&&cr(()=>Us(a),!1),c&&c()}function Xs(o){for(let c=0;c<o.length;c++)li(o[c])}function T1(o){let c,a=0;for(c=0;c<o.length;c++){const u=o[c];u.user?o[a++]=u:li(u)}if(it.context){if(it.count){it.effects||(it.effects=[]),it.effects.push(...o.slice(0,a));return}kn()}for(it.effects&&(it.done||!it.count)&&(o=[...it.effects,...o],a+=it.effects.length,delete it.effects),c=0;c<a;c++)li(o[c])}function ui(o,c){const a=je&&je.running;a?o.tState=0:o.state=0;for(let u=0;u<o.sources.length;u+=1){const h=o.sources[u];if(h.sources){const f=a?h.tState:h.state;f===Cr?h!==c&&(!h.updatedAt||h.updatedAt<wi)&&li(h):f===zn&&ui(h,c)}}}function Ys(o){const c=je&&je.running;for(let a=0;a<o.observers.length;a+=1){const u=o.observers[a];(c?!u.tState:!u.state)&&(c?u.tState=zn:u.state=zn,u.pure?$t.push(u):Ut.push(u),u.observers&&Ys(u))}}function Zr(o){let c;if(o.sources)for(;o.sources.length;){const a=o.sources.pop(),u=o.sourceSlots.pop(),h=a.observers;if(h&&h.length){const f=h.pop(),p=a.observerSlots.pop();u<h.length&&(f.sourceSlots[p]=u,h[u]=f,a.observerSlots[u]=p)}}if(je&&je.running&&o.pure){if(o.tOwned){for(c=o.tOwned.length-1;c>=0;c--)Zr(o.tOwned[c]);delete o.tOwned}qs(o,!0)}else if(o.owned){for(c=o.owned.length-1;c>=0;c--)Zr(o.owned[c]);o.owned=null}if(o.cleanups){for(c=o.cleanups.length-1;c>=0;c--)o.cleanups[c]();o.cleanups=null}je&&je.running?o.tState=0:o.state=0}function qs(o,c){if(c||(o.tState=0,je.disposed.add(o)),o.owned)for(let a=0;a<o.owned.length;a++)qs(o.owned[a])}function M0(o){return o instanceof Error?o:new Error(typeof o=="string"?o:"Unknown error",{cause:o})}function Oo(o,c,a){try{for(const u of c)u(o)}catch(u){Yn(u,a&&a.owner||null)}}function Yn(o,c=rt){const a=Un&&c&&c.context&&c.context[Un],u=M0(o);if(!a)throw u;Ut?Ut.push({fn(){Oo(u,a,c)},state:Cr}):Oo(u,a,c)}function R0(o){if(typeof o=="function"&&!o.length)return R0(o());if(Array.isArray(o)){const c=[];for(let a=0;a<o.length;a++){const u=R0(o[a]);Array.isArray(u)?c.push.apply(c,u):c.push(u)}return c}return o}function B1(o,c){return function(u){let h;return bt(()=>h=Xt(()=>(rt.context={...rt.context,[o]:u.value},vi(()=>u.children))),void 0),h}}const O1=Symbol("fallback");function No(o){for(let c=0;c<o.length;c++)o[c]()}function N1(o,c,a={}){let u=[],h=[],f=[],p=0,C=c.length>1?[]:null;return Mr(()=>No(f)),()=>{let A=o()||[],x=A.length,m,w;return A[O0],Xt(()=>{let S,_,b,T,R,B,O,F,J;if(x===0)p!==0&&(No(f),f=[],u=[],h=[],p=0,C&&(C=[])),a.fallback&&(u=[O1],h[0]=En($=>(f[0]=$,a.fallback())),p=1);else if(p===0){for(h=new Array(x),w=0;w<x;w++)u[w]=A[w],h[w]=En(v);p=x}else{for(b=new Array(x),T=new Array(x),C&&(R=new Array(x)),B=0,O=Math.min(p,x);B<O&&u[B]===A[B];B++);for(O=p-1,F=x-1;O>=B&&F>=B&&u[O]===A[F];O--,F--)b[F]=h[O],T[F]=f[O],C&&(R[F]=C[O]);for(S=new Map,_=new Array(F+1),w=F;w>=B;w--)J=A[w],m=S.get(J),_[w]=m===void 0?-1:m,S.set(J,w);for(m=B;m<=O;m++)J=u[m],w=S.get(J),w!==void 0&&w!==-1?(b[w]=h[m],T[w]=f[m],C&&(R[w]=C[m]),w=_[w],S.set(J,w)):f[m]();for(w=B;w<x;w++)w in b?(h[w]=b[w],f[w]=T[w],C&&(C[w]=R[w],C[w](w))):h[w]=En(v);h=h.slice(0,p=x),u=A.slice(0)}return h});function v(S){if(f[w]=S,C){const[_,b]=Ke(w);return C[w]=b,c(A[w],_)}return c(A[w])}}}function De(o,c){return Xt(()=>o(c||{}))}function ii(){return!0}const M1={get(o,c,a){return c===Nr?a:o.get(c)},has(o,c){return c===Nr?!0:o.has(c)},set:ii,deleteProperty:ii,getOwnPropertyDescriptor(o,c){return{configurable:!0,enumerable:!0,get(){return o.get(c)},set:ii,deleteProperty:ii}},ownKeys(o){return o.keys()}};function Wi(o){return(o=typeof o=="function"?o():o)?o:{}}function R1(){for(let o=0,c=this.length;o<c;++o){const a=this[o]();if(a!==void 0)return a}}function F1(...o){let c=!1;for(let p=0;p<o.length;p++){const C=o[p];c=c||!!C&&Nr in C,o[p]=typeof C=="function"?(c=!0,_t(C)):C}if(c)return new Proxy({get(p){for(let C=o.length-1;C>=0;C--){const A=Wi(o[C])[p];if(A!==void 0)return A}},has(p){for(let C=o.length-1;C>=0;C--)if(p in Wi(o[C]))return!0;return!1},keys(){const p=[];for(let C=0;C<o.length;C++)p.push(...Object.keys(Wi(o[C])));return[...new Set(p)]}},M1);const a={},u=Object.create(null);for(let p=o.length-1;p>=0;p--){const C=o[p];if(!C)continue;const A=Object.getOwnPropertyNames(C);for(let x=A.length-1;x>=0;x--){const m=A[x];if(m==="__proto__"||m==="constructor")continue;const w=Object.getOwnPropertyDescriptor(C,m);if(!u[m])u[m]=w.get?{enumerable:!0,configurable:!0,get:R1.bind(a[m]=[w.get.bind(C)])}:w.value!==void 0?w:void 0;else{const v=a[m];v&&(w.get?v.push(w.get.bind(C)):w.value!==void 0&&v.push(()=>w.value))}}}const h={},f=Object.keys(u);for(let p=f.length-1;p>=0;p--){const C=f[p],A=u[C];A&&A.get?Object.defineProperty(h,C,A):h[C]=A?A.value:void 0}return h}const $s=o=>`Stale read from <${o}>.`;function jn(o){const c="fallback"in o&&{fallback:()=>o.fallback};return _t(N1(()=>o.each,o.children,c||void 0))}function Je(o){const c=o.keyed,a=_t(()=>o.when,void 0,{equals:(u,h)=>c?u===h:!u==!h});return _t(()=>{const u=a();if(u){const h=o.children;return typeof h=="function"&&h.length>0?Xt(()=>h(c?u:()=>{if(!Xt(a))throw $s("Show");return o.when})):h}return o.fallback},void 0,void 0)}function L1(o){let c=!1;const a=(f,p)=>(c?f[1]===p[1]:!f[1]==!p[1])&&f[2]===p[2],u=vi(()=>o.children),h=_t(()=>{let f=u();Array.isArray(f)||(f=[f]);for(let p=0;p<f.length;p++){const C=f[p].when;if(C)return c=!!f[p].keyed,[p,C,f[p]]}return[-1]},void 0,{equals:a});return _t(()=>{const[f,p,C]=h();if(f<0)return o.fallback;const A=C.children;return typeof A=="function"&&A.length>0?Xt(()=>A(c?p:()=>{if(Xt(h)[0]!==f)throw $s("Match");return C.when})):A},void 0,void 0)}function Vi(o){return o}let An;function k1(){An&&[...An].forEach(o=>o())}function Zs(o){let c;it.context&&it.load&&(c=it.load(it.getContextId()));const[a,u]=Ke(c,void 0);return An||(An=new Set),An.add(u),Mr(()=>An.delete(u)),_t(()=>{let h;if(h=a()){const f=o.fallback;return typeof f=="function"&&f.length?Xt(()=>f(h,()=>u())):f}return v1(()=>o.children,u)},void 0,void 0)}const P1=yi();function bi(o){let c=0,a,u,h,f,p;const[C,A]=Ke(!1),x=I1(),m={increment:()=>{++c===1&&A(!0)},decrement:()=>{--c===0&&A(!1)},inFallback:C,effects:[],resolved:!1},w=Ai();if(it.context&&it.load){const _=it.getContextId();let b=it.load(_);if(b&&(typeof b!="object"||b.status!=="success"?h=b:it.gather(_)),h&&h!=="$$f"){const[T,R]=Ke(void 0,{equals:!1});f=T,h.then(()=>{if(it.done)return R();it.gather(_),kn(u),R(),kn()},B=>{p=B,R()})}}const v=Ei(P1);v&&(a=v.register(m.inFallback));let S;return Mr(()=>S&&S()),De(x.Provider,{value:m,get children(){return _t(()=>{if(p)throw p;if(u=it.context,f)return f(),f=void 0;u&&h==="$$f"&&kn();const _=_t(()=>o.children);return _t(b=>{const T=m.inFallback(),{showContent:R=!0,showFallback:B=!0}=a?a():{};if((!T||h&&h!=="$$f")&&R)return m.resolved=!0,S&&S(),S=u=h=void 0,S1(m.effects),_();if(B)return S?b:En(O=>(S=O,u&&(kn({id:u.id+"F",count:0}),u=void 0),o.fallback),w)})})}})}function U1(o,c,a){let u=a.length,h=c.length,f=u,p=0,C=0,A=c[h-1].nextSibling,x=null;for(;p<h||C<f;){if(c[p]===a[C]){p++,C++;continue}for(;c[h-1]===a[f-1];)h--,f--;if(h===p){const m=f<u?C?a[C-1].nextSibling:a[f-C]:A;for(;C<f;)o.insertBefore(a[C++],m)}else if(f===C)for(;p<h;)(!x||!x.has(c[p]))&&c[p].remove(),p++;else if(c[p]===a[f-1]&&a[C]===c[h-1]){const m=c[--h].nextSibling;o.insertBefore(a[C++],c[p++].nextSibling),o.insertBefore(a[--f],m),c[h]=a[f]}else{if(!x){x=new Map;let w=C;for(;w<f;)x.set(a[w],w++)}const m=x.get(c[p]);if(m!=null)if(C<m&&m<f){let w=p,v=1,S;for(;++w<h&&w<f&&!((S=x.get(c[w]))==null||S!==m+v);)v++;if(v>m-C){const _=c[p];for(;C<m;)o.insertBefore(a[C++],_)}else o.replaceChild(a[C++],c[p++])}else p++;else c[p++].remove()}}}const Mo="_$DX_DELEGATE";function H1(o,c,a,u={}){let h;return En(f=>{h=f,c===document?o():Be(c,o(),c.firstChild?null:void 0,a)},u.owner),()=>{h(),c.textContent=""}}function Xe(o,c,a){let u;const h=()=>{const p=document.createElement("template");return p.innerHTML=o,p.content.firstChild},f=()=>(u||(u=h())).cloneNode(!0);return f.cloneNode=f,f}function wr(o,c=window.document){const a=c[Mo]||(c[Mo]=new Set);for(let u=0,h=o.length;u<h;u++){const f=o[u];a.has(f)||(a.add(f),c.addEventListener(f,j1))}}function rr(o,c,a){Y0(o)||(a==null?o.removeAttribute(c):o.setAttribute(c,a))}function Qr(o,c){Y0(o)||(c==null?o.removeAttribute("class"):o.className=c)}function Ro(o,c,a,u){Array.isArray(a)?(o[`$$${c}`]=a[0],o[`$$${c}Data`]=a[1]):o[`$$${c}`]=a}function Hr(o,c,a){if(!c)return a?rr(o,"style"):c;const u=o.style;if(typeof c=="string")return u.cssText=c;typeof a=="string"&&(u.cssText=a=void 0),a||(a={}),c||(c={});let h,f;for(f in a)c[f]==null&&u.removeProperty(f),delete a[f];for(f in c)h=c[f],h!==a[f]&&(u.setProperty(f,h),a[f]=h);return a}function z1(o,c,a){return Xt(()=>o(c,a))}function Be(o,c,a,u){if(a!==void 0&&!u&&(u=[]),typeof c!="function")return fi(o,c,u,a);bt(h=>fi(o,c(),h,a),u)}function Y0(o){return!!it.context&&!it.done&&(!o||o.isConnected)}function j1(o){if(it.registry&&it.events&&it.events.find(([u,h])=>h===o))return;const c=`$$${o.type}`;let a=o.composedPath&&o.composedPath()[0]||o.target;for(o.target!==a&&Object.defineProperty(o,"target",{configurable:!0,value:a}),Object.defineProperty(o,"currentTarget",{configurable:!0,get(){return a||document}}),it.registry&&!it.done&&(it.done=_$HY.done=!0);a;){const u=a[c];if(u&&!a.disabled){const h=a[`${c}Data`];if(h!==void 0?u.call(a,h,o):u.call(a,o),o.cancelBubble)return}a=a._$host||a.parentNode||a.host}}function fi(o,c,a,u,h){const f=Y0(o);if(f){!a&&(a=[...o.childNodes]);let A=[];for(let x=0;x<a.length;x++){const m=a[x];m.nodeType===8&&m.data.slice(0,2)==="!$"?m.remove():A.push(m)}a=A}for(;typeof a=="function";)a=a();if(c===a)return a;const p=typeof c,C=u!==void 0;if(o=C&&a[0]&&a[0].parentNode||o,p==="string"||p==="number"){if(f||p==="number"&&(c=c.toString(),c===a))return a;if(C){let A=a[0];A&&A.nodeType===3?A.data!==c&&(A.data=c):A=document.createTextNode(c),a=wn(o,a,u,A)}else a!==""&&typeof a=="string"?a=o.firstChild.data=c:a=o.textContent=c}else if(c==null||p==="boolean"){if(f)return a;a=wn(o,a,u)}else{if(p==="function")return bt(()=>{let A=c();for(;typeof A=="function";)A=A();a=fi(o,A,a,u)}),()=>a;if(Array.isArray(c)){const A=[],x=a&&Array.isArray(a);if(F0(A,c,a,h))return bt(()=>a=fi(o,A,a,u,!0)),()=>a;if(f){if(!A.length)return a;if(u===void 0)return a=[...o.childNodes];let m=A[0];if(m.parentNode!==o)return a;const w=[m];for(;(m=m.nextSibling)!==u;)w.push(m);return a=w}if(A.length===0){if(a=wn(o,a,u),C)return a}else x?a.length===0?Fo(o,A,u):U1(o,a,A):(a&&wn(o),Fo(o,A));a=A}else if(c.nodeType){if(f&&c.parentNode)return a=C?[c]:c;if(Array.isArray(a)){if(C)return a=wn(o,a,u,c);wn(o,a,null,c)}else a==null||a===""||!o.firstChild?o.appendChild(c):o.replaceChild(c,o.firstChild);a=c}}return a}function F0(o,c,a,u){let h=!1;for(let f=0,p=c.length;f<p;f++){let C=c[f],A=a&&a[o.length],x;if(!(C==null||C===!0||C===!1))if((x=typeof C)=="object"&&C.nodeType)o.push(C);else if(Array.isArray(C))h=F0(o,C,A)||h;else if(x==="function")if(u){for(;typeof C=="function";)C=C();h=F0(o,Array.isArray(C)?C:[C],Array.isArray(A)?A:[A])||h}else o.push(C),h=!0;else{const m=String(C);A&&A.nodeType===3&&A.data===m?o.push(A):o.push(document.createTextNode(m))}}return h}function Fo(o,c,a=null){for(let u=0,h=c.length;u<h;u++)o.insertBefore(c[u],a)}function wn(o,c,a,u){if(a===void 0)return o.textContent="";const h=u||document.createTextNode("");if(c.length){let f=!1;for(let p=c.length-1;p>=0;p--){const C=c[p];if(h!==C){const A=C.parentNode===o;!f&&!p?A?o.replaceChild(h,C):o.insertBefore(h,a):A&&C.remove()}else f=!0}}else o.insertBefore(h,a);return[h]}const W1=!1;function Qs(){let o=new Set;function c(h){return o.add(h),()=>o.delete(h)}let a=!1;function u(h,f){if(a)return!(a=!1);const p={to:h,options:f,defaultPrevented:!1,preventDefault:()=>p.defaultPrevented=!0};for(const C of o)C.listener({...p,from:C.location,retry:A=>{A&&(a=!0),C.navigate(h,{...f,resolve:!1})}});return!p.defaultPrevented}return{subscribe:c,confirm:u}}let L0;function q0(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),L0=window.history.state._depth}q0();function V1(o){return{...o,_depth:window.history.state&&window.history.state._depth}}function G1(o,c){let a=!1;return()=>{const u=L0;q0();const h=u==null?null:L0-u;if(a){a=!1;return}h&&c(h)?(a=!0,window.history.go(-h)):o()}}const X1=/^(?:[a-z0-9]+:)?\/\//i,Y1=/^\/+|(\/)\/+$/g,Ks="http://sr";function Hn(o,c=!1){const a=o.replace(Y1,"$1");return a?c||/^[?#]/.test(a)?a:"/"+a:""}function si(o,c,a){if(X1.test(c))return;const u=Hn(o),h=a&&Hn(a);let f="";return!h||c.startsWith("/")?f=u:h.toLowerCase().indexOf(u.toLowerCase())!==0?f=u+h:f=h,(f||"/")+Hn(c,!f)}function q1(o,c){return Hn(o).replace(/\/*(\*.*)?$/g,"")+Hn(c)}function Js(o){const c={};return o.searchParams.forEach((a,u)=>{c[u]=a}),c}function $1(o,c,a){const[u,h]=o.split("/*",2),f=u.split("/").filter(Boolean),p=f.length;return C=>{const A=C.split("/").filter(Boolean),x=A.length-p;if(x<0||x>0&&h===void 0&&!c)return null;const m={path:p?"":"/",params:{}},w=v=>a===void 0?void 0:a[v];for(let v=0;v<p;v++){const S=f[v],_=A[v],b=S[0]===":",T=b?S.slice(1):S;if(b&&Gi(_,w(T)))m.params[T]=_;else if(b||!Gi(_,S))return null;m.path+=`/${_}`}if(h){const v=x?A.slice(-x).join("/"):"";if(Gi(v,w(h)))m.params[h]=v;else return null}return m}}function Gi(o,c){const a=u=>u.localeCompare(o,void 0,{sensitivity:"base"})===0;return c===void 0?!0:typeof c=="string"?a(c):typeof c=="function"?c(o):Array.isArray(c)?c.some(a):c instanceof RegExp?c.test(o):!1}function Z1(o){const[c,a]=o.pattern.split("/*",2),u=c.split("/").filter(Boolean);return u.reduce((h,f)=>h+(f.startsWith(":")?2:3),u.length-(a===void 0?0:1))}function ea(o){const c=new Map,a=Ai();return new Proxy({},{get(u,h){return c.has(h)||js(a,()=>c.set(h,_t(()=>o()[h]))),c.get(h)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(o())}})}function ta(o){let c=/(\/?\:[^\/]+)\?/.exec(o);if(!c)return[o];let a=o.slice(0,c.index),u=o.slice(c.index+c[0].length);const h=[a,a+=c[1]];for(;c=/^(\/\:[^\/]+)\?/.exec(u);)h.push(a+=c[1]),u=u.slice(c[0].length);return ta(u).reduce((f,p)=>[...f,...h.map(C=>C+p)],[])}const Q1=100,K1=yi(),ra=yi();function J1(o,c=""){const{component:a,preload:u,load:h,children:f,info:p}=o,C=!f||Array.isArray(f)&&!f.length,A={key:o,component:a,preload:u||h,info:p};return na(o.path).reduce((x,m)=>{for(const w of ta(m)){const v=q1(c,w);let S=C?v:v.split("/*",1)[0];S=S.split("/").map(_=>_.startsWith(":")||_.startsWith("*")?_:encodeURIComponent(_)).join("/"),x.push({...A,originalPath:m,pattern:S,matcher:$1(S,!C,o.matchFilters)})}return x},[])}function ec(o,c=0){return{routes:o,score:Z1(o[o.length-1])*1e4-c,matcher(a){const u=[];for(let h=o.length-1;h>=0;h--){const f=o[h],p=f.matcher(a);if(!p)return null;u.unshift({...p,route:f})}return u}}}function na(o){return Array.isArray(o)?o:[o]}function ia(o,c="",a=[],u=[]){const h=na(o);for(let f=0,p=h.length;f<p;f++){const C=h[f];if(C&&typeof C=="object"){C.hasOwnProperty("path")||(C.path="");const A=J1(C,c);for(const x of A){a.push(x);const m=Array.isArray(C.children)&&C.children.length===0;if(C.children&&!m)ia(C.children,x.pattern,a,u);else{const w=ec([...a],u.length);u.push(w)}a.pop()}}}return a.length?u:u.sort((f,p)=>p.score-f.score)}function Xi(o,c){for(let a=0,u=o.length;a<u;a++){const h=o[a].matcher(c);if(h)return h}return[]}function tc(o,c){const a=new URL(Ks),u=_t(A=>{const x=o();try{return new URL(x,a)}catch{return console.error(`Invalid path ${x}`),A}},a,{equals:(A,x)=>A.href===x.href}),h=_t(()=>u().pathname),f=_t(()=>u().search,!0),p=_t(()=>u().hash),C=()=>"";return{get pathname(){return h()},get search(){return f()},get hash(){return p()},get state(){return c()},get key(){return C()},query:ea(G0(f,()=>Js(u())))}}let sn;function rc(){return sn}function nc(o,c,a,u={}){const{signal:[h,f],utils:p={}}=o,C=p.parsePath||(H=>H),A=p.renderPath||(H=>H),x=p.beforeLeave||Qs(),m=si("",u.base||"");if(m===void 0)throw new Error(`${m} is not a valid base path`);m&&!h().value&&f({value:m,replace:!0,scroll:!1});const[w,v]=Ke(!1);let S;const _=(H,ee)=>{ee.value===b()&&ee.state===R()||(S===void 0&&v(!0),sn=H,S=ee,Ws(()=>{S===ee&&(T(S.value),B(S.state),k1(),J[1]([]))}).finally(()=>{S===ee&&zs(()=>{sn=void 0,H==="navigate"&&he(S),v(!1),S=void 0})}))},[b,T]=Ke(h().value),[R,B]=Ke(h().state),O=tc(b,R),F=[],J=Ke([]),$=_t(()=>typeof u.transformUrl=="function"?Xi(c(),u.transformUrl(O.pathname)):Xi(c(),O.pathname)),W=ea(()=>{const H=$(),ee={};for(let L=0;L<H.length;L++)Object.assign(ee,H[L].params);return ee}),fe={pattern:m,path:()=>m,outlet:()=>null,resolvePath(H){return si(m,H)}};return bt(G0(h,H=>_("native",H),{defer:!0})),{base:fe,location:O,params:W,isRouting:w,renderPath:A,parsePath:C,navigatorFactory:oe,matches:$,beforeLeave:x,preloadRoute:de,singleFlight:u.singleFlight===void 0?!0:u.singleFlight,submissions:J};function ae(H,ee,L){Xt(()=>{if(typeof ee=="number"){ee&&(p.go?p.go(ee):console.warn("Router integration does not support relative routing"));return}const ue=!ee||ee[0]==="?",{replace:Z,resolve:ye,scroll:Te,state:Se}={replace:!1,resolve:!ue,scroll:!0,...L};let ie;const Ee=ye?H.resolvePath(ee):si(ue&&(ie=h().value)&&ie.split("?")[0]||"",ee);if(Ee===void 0)throw new Error(`Path '${ee}' is not a routable path`);if(F.length>=Q1)throw new Error("Too many redirects");const G=b();(Ee!==G||Se!==R())&&(W1||x.confirm(Ee,L)&&(F.push({value:G,replace:Z,scroll:Te,state:R()}),_("navigate",{value:Ee,state:Se})))})}function oe(H){return H=H||Ei(ra)||fe,(ee,L)=>ae(H,ee,L)}function he(H){const ee=F[0];ee&&(f({...H,replace:ee.replace,scroll:ee.scroll}),F.length=0)}function de(H,ee={}){const L=Xi(c(),H.pathname),ue=sn;sn="preload";for(let Z in L){const{route:ye,params:Te}=L[Z];ye.component&&ye.component.preload&&ye.component.preload();const{preload:Se}=ye;ee.preloadData&&Se&&js(a(),()=>Se({params:Te,location:{pathname:H.pathname,search:H.search,hash:H.hash,query:Js(H),state:null,key:""},intent:"preload"}))}sn=ue}}function ic(o,c,a,u){const{base:h,location:f,params:p}=o,{pattern:C,component:A,preload:x}=u().route,m=_t(()=>u().path);A&&A.preload&&A.preload();const w=x?x({params:p,location:f,intent:sn||"initial"}):void 0;return{parent:c,pattern:C,path:m,outlet:()=>A?De(A,{params:p,location:f,data:w,get children(){return a()}}):a(),resolvePath(S){return si(h.path(),S,m())}}}const oc=o=>c=>{const{base:a}=c,u=vi(()=>c.children),h=_t(()=>ia(u(),c.base||""));let f;const p=nc(o,h,()=>f,{base:a,singleFlight:c.singleFlight,transformUrl:c.transformUrl});return o.create&&o.create(p),De(K1.Provider,{value:p,get children(){return De(sc,{routerState:p,get root(){return c.root},get preload(){return c.rootPreload||c.rootLoad},get children(){return[_t(()=>(f=Ai())&&null),De(ac,{routerState:p,get branches(){return h()}})]}})}})};function sc(o){const c=o.routerState.location,a=o.routerState.params,u=_t(()=>o.preload&&Xt(()=>{o.preload({params:a,location:c,intent:rc()||"initial"})}));return De(Je,{get when(){return o.root},keyed:!0,get fallback(){return o.children},children:h=>De(h,{params:a,location:c,get data(){return u()},get children(){return o.children}})})}function ac(o){const c=[];let a;const u=_t(G0(o.routerState.matches,(h,f,p)=>{let C=f&&h.length===f.length;const A=[];for(let x=0,m=h.length;x<m;x++){const w=f&&f[x],v=h[x];p&&w&&v.route.key===w.route.key?A[x]=p[x]:(C=!1,c[x]&&c[x](),En(S=>{c[x]=S,A[x]=ic(o.routerState,A[x-1]||o.routerState.base,Lo(()=>u()[x+1]),()=>o.routerState.matches()[x])}))}return c.splice(h.length).forEach(x=>x()),p&&C?p:(a=A[0],A)}));return Lo(()=>u()&&a)()}const Lo=o=>()=>De(Je,{get when(){return o()},keyed:!0,children:c=>De(ra.Provider,{value:c,get children(){return c.outlet()}})}),Yi=o=>{const c=vi(()=>o.children);return F1(o,{get children(){return c()}})};function cc([o,c],a,u){return[o,u?h=>c(u(h)):c]}function lc(o){if(o==="#")return null;try{return document.querySelector(o)}catch{return null}}function uc(o){let c=!1;const a=h=>typeof h=="string"?{value:h}:h,u=cc(Ke(a(o.get()),{equals:(h,f)=>h.value===f.value&&h.state===f.state}),void 0,h=>(!c&&o.set(h),it.registry&&!it.done&&(it.done=!0),h));return o.init&&Mr(o.init((h=o.get())=>{c=!0,u[1](a(h)),c=!1})),oc({signal:u,create:o.create,utils:o.utils})}function fc(o,c,a){return o.addEventListener(c,a),()=>o.removeEventListener(c,a)}function hc(o,c){const a=lc(`#${o}`);a?a.scrollIntoView():c&&window.scrollTo(0,0)}const dc=new Map;function xc(o=!0,c=!1,a="/_server",u){return h=>{const f=h.base.path(),p=h.navigatorFactory(h.base);let C={};function A(b){return b.namespaceURI==="http://www.w3.org/2000/svg"}function x(b){if(b.defaultPrevented||b.button!==0||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)return;const T=b.composedPath().find($=>$ instanceof Node&&$.nodeName.toUpperCase()==="A");if(!T||c&&!T.hasAttribute("link"))return;const R=A(T),B=R?T.href.baseVal:T.href;if((R?T.target.baseVal:T.target)||!B&&!T.hasAttribute("state"))return;const F=(T.getAttribute("rel")||"").split(/\s+/);if(T.hasAttribute("download")||F&&F.includes("external"))return;const J=R?new URL(B,document.baseURI):new URL(B);if(!(J.origin!==window.location.origin||f&&J.pathname&&!J.pathname.toLowerCase().startsWith(f.toLowerCase())))return[T,J]}function m(b){const T=x(b);if(!T)return;const[R,B]=T,O=h.parsePath(B.pathname+B.search+B.hash),F=R.getAttribute("state");b.preventDefault(),p(O,{resolve:!1,replace:R.hasAttribute("replace"),scroll:!R.hasAttribute("noscroll"),state:F&&JSON.parse(F)})}function w(b){const T=x(b);if(!T)return;const[R,B]=T;C[B.pathname]||h.preloadRoute(B,{preloadData:R.getAttribute("preload")!=="false"})}function v(b){const T=x(b);if(!T)return;const[R,B]=T;C[B.pathname]||(C[B.pathname]=setTimeout(()=>{h.preloadRoute(B,{preloadData:R.getAttribute("preload")!=="false"}),delete C[B.pathname]},200))}function S(b){const T=x(b);if(!T)return;const[,R]=T;C[R.pathname]&&(clearTimeout(C[R.pathname]),delete C[R.pathname])}function _(b){if(b.defaultPrevented)return;let T=b.submitter&&b.submitter.hasAttribute("formaction")?b.submitter.getAttribute("formaction"):b.target.getAttribute("action");if(!T)return;if(!T.startsWith("https://action/")){const B=new URL(T,Ks);if(T=h.parsePath(B.pathname+B.search),!T.startsWith(a))return}if(b.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const R=dc.get(T);if(R){b.preventDefault();const B=new FormData(b.target,b.submitter);R.call({r:h,f:b.target},b.target.enctype==="multipart/form-data"?B:new URLSearchParams(B))}}wr(["click","submit"]),document.addEventListener("click",m),o&&(document.addEventListener("mouseover",v),document.addEventListener("mouseout",S),document.addEventListener("focusin",w),document.addEventListener("touchstart",w)),document.addEventListener("submit",_),Mr(()=>{document.removeEventListener("click",m),o&&(document.removeEventListener("mouseover",v),document.removeEventListener("mouseout",S),document.removeEventListener("focusin",w),document.removeEventListener("touchstart",w)),document.removeEventListener("submit",_)})}}function gc(o){const c=o.replace(/^.*?#/,"");if(!c.startsWith("/")){const[,a="/"]=window.location.hash.split("#",2);return`${a}#${c}`}return c}function pc(o){const c=()=>window.location.hash.slice(1),a=Qs();return uc({get:c,set({value:u,replace:h,scroll:f,state:p}){h?window.history.replaceState(V1(p),"","#"+u):window.history.pushState(p,"","#"+u);const C=u.indexOf("#"),A=C>=0?u.slice(C+1):"";hc(A,f),q0()},init:u=>fc(window,"hashchange",G1(u,h=>!a.confirm(h&&h<0?h:c()))),create:xc(o.preload,o.explicitLinks,o.actionBase),utils:{go:u=>window.history.go(u),renderPath:u=>`#${u}`,parsePath:gc,beforeLeave:a}})(o)}const k0=Symbol("store-raw"),vn=Symbol("store-node"),Lr=Symbol("store-has"),oa=Symbol("store-self");function sa(o){let c=o[Nr];if(!c&&(Object.defineProperty(o,Nr,{value:c=new Proxy(o,wc)}),!Array.isArray(o))){const a=Object.keys(o),u=Object.getOwnPropertyDescriptors(o);for(let h=0,f=a.length;h<f;h++){const p=a[h];u[p].get&&Object.defineProperty(o,p,{enumerable:u[p].enumerable,get:u[p].get.bind(c)})}}return c}function hi(o){let c;return o!=null&&typeof o=="object"&&(o[Nr]||!(c=Object.getPrototypeOf(o))||c===Object.prototype||Array.isArray(o))}function Wn(o,c=new Set){let a,u,h,f;if(a=o!=null&&o[k0])return a;if(!hi(o)||c.has(o))return o;if(Array.isArray(o)){Object.isFrozen(o)?o=o.slice(0):c.add(o);for(let p=0,C=o.length;p<C;p++)h=o[p],(u=Wn(h,c))!==h&&(o[p]=u)}else{Object.isFrozen(o)?o=Object.assign({},o):c.add(o);const p=Object.keys(o),C=Object.getOwnPropertyDescriptors(o);for(let A=0,x=p.length;A<x;A++)f=p[A],!C[f].get&&(h=o[f],(u=Wn(h,c))!==h&&(o[f]=u))}return o}function di(o,c){let a=o[c];return a||Object.defineProperty(o,c,{value:a=Object.create(null)}),a}function Vn(o,c,a){if(o[c])return o[c];const[u,h]=Ke(a,{equals:!1,internal:!0});return u.$=h,o[c]=u}function mc(o,c){const a=Reflect.getOwnPropertyDescriptor(o,c);return!a||a.get||!a.configurable||c===Nr||c===vn||(delete a.value,delete a.writable,a.get=()=>o[Nr][c]),a}function aa(o){N0()&&Vn(di(o,vn),oa)()}function Cc(o){return aa(o),Reflect.ownKeys(o)}const wc={get(o,c,a){if(c===k0)return o;if(c===Nr)return a;if(c===O0)return aa(o),a;const u=di(o,vn),h=u[c];let f=h?h():o[c];if(c===vn||c===Lr||c==="__proto__")return f;if(!h){const p=Object.getOwnPropertyDescriptor(o,c);N0()&&(typeof f!="function"||o.hasOwnProperty(c))&&!(p&&p.get)&&(f=Vn(u,c,f)())}return hi(f)?sa(f):f},has(o,c){return c===k0||c===Nr||c===O0||c===vn||c===Lr||c==="__proto__"?!0:(N0()&&Vn(di(o,Lr),c)(),c in o)},set(){return!0},deleteProperty(){return!0},ownKeys:Cc,getOwnPropertyDescriptor:mc};function xi(o,c,a,u=!1){if(!u&&o[c]===a)return;const h=o[c],f=o.length;a===void 0?(delete o[c],o[Lr]&&o[Lr][c]&&h!==void 0&&o[Lr][c].$()):(o[c]=a,o[Lr]&&o[Lr][c]&&h===void 0&&o[Lr][c].$());let p=di(o,vn),C;if((C=Vn(p,c,h))&&C.$(()=>a),Array.isArray(o)&&o.length!==f){for(let A=o.length;A<f;A++)(C=p[A])&&C.$();(C=Vn(p,"length",f))&&C.$(o.length)}(C=p[oa])&&C.$()}function ca(o,c){const a=Object.keys(c);for(let u=0;u<a.length;u+=1){const h=a[u];xi(o,h,c[h])}}function Ac(o,c){if(typeof c=="function"&&(c=c(o)),c=Wn(c),Array.isArray(c)){if(o===c)return;let a=0,u=c.length;for(;a<u;a++){const h=c[a];o[a]!==h&&xi(o,a,h)}xi(o,"length",u)}else ca(o,c)}function Pn(o,c,a=[]){let u,h=o;if(c.length>1){u=c.shift();const p=typeof u,C=Array.isArray(o);if(Array.isArray(u)){for(let A=0;A<u.length;A++)Pn(o,[u[A]].concat(c),a);return}else if(C&&p==="function"){for(let A=0;A<o.length;A++)u(o[A],A)&&Pn(o,[A].concat(c),a);return}else if(C&&p==="object"){const{from:A=0,to:x=o.length-1,by:m=1}=u;for(let w=A;w<=x;w+=m)Pn(o,[w].concat(c),a);return}else if(c.length>1){Pn(o[u],c,[u].concat(a));return}h=o[u],a=[u].concat(a)}let f=c[0];typeof f=="function"&&(f=f(h,a),f===h)||u===void 0&&f==null||(f=Wn(f),u===void 0||hi(h)&&hi(f)&&!Array.isArray(f)?ca(h,f):xi(o,u,f))}function nr(...[o,c]){const a=Wn(o||{}),u=Array.isArray(a),h=sa(a);function f(...p){zs(()=>{u&&p.length===1?Ac(a,p[0]):Pn(a,p)})}return[h,f]}const yc="_App_ynghh_1",Ec="_logo_ynghh_5",vc="_header_ynghh_11",bc="_link_ynghh_21",$0={App:yc,logo:Ec,"logo-spin":"_logo-spin_ynghh_1",header:vc,link:bc};var _c=Xe("<p class=label>"),Sc=Xe('<div class=_dsplFlx><div class=flexSpace></div><div class=field-block><input required=""></div><div class=flexSpace>');const Z0=o=>{nr();const[c,a]=Ke(""),u=p=>{o?.handleClick(p),a(p)},h=p=>{p.keyCode===13&&typeof o?.onEnter=="function"&&o?.onEnter(c()),p.keyCode===27&&typeof o?.onEscape=="function"&&o?.onEscape(c()),p.keyCode===9&&typeof o?.onTab=="function"&&(console.log("onTab"),o?.onTab(c()))};let f={"--txtInput--width":o?.width,"--txtInput--color":o?.colors,"--txtInput--backColor":o?.backColor,"--txtInput--border-color":o?.borderColor,"--txtInput--aborder-color":o?.borderActiveColor,padding:o?.label?"0.6em 1.2em":"0.99em 1.2em"};return(()=>{var p=Sc(),C=p.firstChild,A=C.nextSibling,x=A.firstChild;Be(A,De(Je,{get when(){return o?.label},get children(){var w=_c();return Be(w,()=>o?.label),w}}),x),x.$$input=w=>u(w.currentTarget.value),x.$$keydown=h;var m=o?.ref;return typeof m=="function"&&z1(m,x),bt(w=>{var v=`r7gAOb yyJm8b kk3791b ${o?.label,""}`,S=f,_=o?.type,b=o?.name,T=o?.placeholder;return v!==w.e&&Qr(x,w.e=v),w.t=Hr(x,S,w.t),_!==w.a&&rr(x,"type",w.a=_),b!==w.o&&rr(x,"name",w.o=b),T!==w.i&&rr(x,"placeholder",w.i=T),w},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),bt(()=>x.value=o?.value),p})()};wr(["keydown","input"]);const la=[{label:"OCC-35",id:"175-23834532",yaba:"108"},{label:"CENT-35",id:"175-23834543",yaba:"109"},{label:"ORT-35",id:"175-23834554",yaba:"110"},{label:"OCC-36",id:"175-23834565",yaba:"111"},{label:"CENT-36",id:"175-23834576",yaba:"112"},{label:"ORT-36",id:"175-23834580",yaba:"113"},{label:"OCC-37",id:"175-23834591",yaba:"114"},{label:"CENT-37",id:"175-23834602",yaba:"115"},{label:"ORIT-37",id:"175-23834613",yaba:"116"},{label:"ISLA-01",id:"175-23834624",yaba:"117"},{label:"OCC-38",id:"175-23834635",yaba:"118"},{label:"CENT-38",id:"175-23834646",yaba:"119"},{label:"ORT-38",id:"175-23834650",yaba:"120"},{label:"OCC-39",id:"175-23834661",yaba:"121"},{label:"CENT-39",id:"175-23834672",yaba:"122"},{label:"ORT-39",id:"175-23834683",yaba:"123"},{label:"OCC-40",id:"175-23834694",yaba:"124"},{label:"CENT-40",id:"175-23834705",yaba:"125"},{label:"ORT-40",id:"175-23834716",yaba:"126"}],Ic=[{label:"LLegando a AeroVaradero",id:"AERO_28",icon:"airplane-landing"},{label:"Recogida en AeroVaradero",id:"AERO_33",icon:"truck-fast"},{label:"Entrada al Almacen",id:"YABA_39",icon:"store"}],Q0={total:"open_package_file_outline",YABA_11:"truck-fast-outline",YABA_22:"airplane-takeoff",AERO_28:"airplane-landing",AERO_33:"truck-fast",YABA_39:"store",YABA_44:"sort-numeric-ascending",YABA_48:"car-hatchback"},ko={YABA_11:"En transito para FL",YABA_22:"Entrega a la aerolinea",AERO_28:"En AeroVaradero",AERO_33:"Recogidos de AeroVaradero",YABA_39:"En el Almacen",YABA_44:"Organizados por Locaciones",YABA_48:"Saliendo para entregar"};var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ua(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Dc(o){if(o.__esModule)return o;var c=o.default;if(typeof c=="function"){var a=function u(){return this instanceof u?Reflect.construct(c,arguments,this.constructor):c.apply(this,arguments)};a.prototype=c.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(o).forEach(function(u){var h=Object.getOwnPropertyDescriptor(o,u);Object.defineProperty(a,u,h.get?h:{enumerable:!0,get:function(){return o[u]}})}),a}var fa={exports:{}};function Tc(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qi={exports:{}};const Bc={},Oc=Object.freeze(Object.defineProperty({__proto__:null,default:Bc},Symbol.toStringTag,{value:"Module"})),Nc=Dc(Oc);var Po;function ft(){return Po||(Po=1,function(o,c){(function(a,u){o.exports=u()})(et,function(){var a=a||function(u,h){var f;if(typeof window<"u"&&window.crypto&&(f=window.crypto),typeof self<"u"&&self.crypto&&(f=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(f=globalThis.crypto),!f&&typeof window<"u"&&window.msCrypto&&(f=window.msCrypto),!f&&typeof et<"u"&&et.crypto&&(f=et.crypto),!f&&typeof Tc=="function")try{f=Nc}catch{}var p=function(){if(f){if(typeof f.getRandomValues=="function")try{return f.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof f.randomBytes=="function")try{return f.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},C=Object.create||function(){function B(){}return function(O){var F;return B.prototype=O,F=new B,B.prototype=null,F}}(),A={},x=A.lib={},m=x.Base=function(){return{extend:function(B){var O=C(this);return B&&O.mixIn(B),(!O.hasOwnProperty("init")||this.init===O.init)&&(O.init=function(){O.$super.init.apply(this,arguments)}),O.init.prototype=O,O.$super=this,O},create:function(){var B=this.extend();return B.init.apply(B,arguments),B},init:function(){},mixIn:function(B){for(var O in B)B.hasOwnProperty(O)&&(this[O]=B[O]);B.hasOwnProperty("toString")&&(this.toString=B.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),w=x.WordArray=m.extend({init:function(B,O){B=this.words=B||[],O!=h?this.sigBytes=O:this.sigBytes=B.length*4},toString:function(B){return(B||S).stringify(this)},concat:function(B){var O=this.words,F=B.words,J=this.sigBytes,$=B.sigBytes;if(this.clamp(),J%4)for(var W=0;W<$;W++){var fe=F[W>>>2]>>>24-W%4*8&255;O[J+W>>>2]|=fe<<24-(J+W)%4*8}else for(var ae=0;ae<$;ae+=4)O[J+ae>>>2]=F[ae>>>2];return this.sigBytes+=$,this},clamp:function(){var B=this.words,O=this.sigBytes;B[O>>>2]&=4294967295<<32-O%4*8,B.length=u.ceil(O/4)},clone:function(){var B=m.clone.call(this);return B.words=this.words.slice(0),B},random:function(B){for(var O=[],F=0;F<B;F+=4)O.push(p());return new w.init(O,B)}}),v=A.enc={},S=v.Hex={stringify:function(B){for(var O=B.words,F=B.sigBytes,J=[],$=0;$<F;$++){var W=O[$>>>2]>>>24-$%4*8&255;J.push((W>>>4).toString(16)),J.push((W&15).toString(16))}return J.join("")},parse:function(B){for(var O=B.length,F=[],J=0;J<O;J+=2)F[J>>>3]|=parseInt(B.substr(J,2),16)<<24-J%8*4;return new w.init(F,O/2)}},_=v.Latin1={stringify:function(B){for(var O=B.words,F=B.sigBytes,J=[],$=0;$<F;$++){var W=O[$>>>2]>>>24-$%4*8&255;J.push(String.fromCharCode(W))}return J.join("")},parse:function(B){for(var O=B.length,F=[],J=0;J<O;J++)F[J>>>2]|=(B.charCodeAt(J)&255)<<24-J%4*8;return new w.init(F,O)}},b=v.Utf8={stringify:function(B){try{return decodeURIComponent(escape(_.stringify(B)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(B){return _.parse(unescape(encodeURIComponent(B)))}},T=x.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new w.init,this._nDataBytes=0},_append:function(B){typeof B=="string"&&(B=b.parse(B)),this._data.concat(B),this._nDataBytes+=B.sigBytes},_process:function(B){var O,F=this._data,J=F.words,$=F.sigBytes,W=this.blockSize,fe=W*4,ae=$/fe;B?ae=u.ceil(ae):ae=u.max((ae|0)-this._minBufferSize,0);var oe=ae*W,he=u.min(oe*4,$);if(oe){for(var de=0;de<oe;de+=W)this._doProcessBlock(J,de);O=J.splice(0,oe),F.sigBytes-=he}return new w.init(O,he)},clone:function(){var B=m.clone.call(this);return B._data=this._data.clone(),B},_minBufferSize:0});x.Hasher=T.extend({cfg:m.extend(),init:function(B){this.cfg=this.cfg.extend(B),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(B){return this._append(B),this._process(),this},finalize:function(B){B&&this._append(B);var O=this._doFinalize();return O},blockSize:16,_createHelper:function(B){return function(O,F){return new B.init(F).finalize(O)}},_createHmacHelper:function(B){return function(O,F){return new R.HMAC.init(B,F).finalize(O)}}});var R=A.algo={};return A}(Math);return a})}(qi)),qi.exports}var $i={exports:{}},Uo;function _i(){return Uo||(Uo=1,function(o,c){(function(a,u){o.exports=u(ft())})(et,function(a){return function(u){var h=a,f=h.lib,p=f.Base,C=f.WordArray,A=h.x64={};A.Word=p.extend({init:function(x,m){this.high=x,this.low=m}}),A.WordArray=p.extend({init:function(x,m){x=this.words=x||[],m!=u?this.sigBytes=m:this.sigBytes=x.length*8},toX32:function(){for(var x=this.words,m=x.length,w=[],v=0;v<m;v++){var S=x[v];w.push(S.high),w.push(S.low)}return C.create(w,this.sigBytes)},clone:function(){for(var x=p.clone.call(this),m=x.words=this.words.slice(0),w=m.length,v=0;v<w;v++)m[v]=m[v].clone();return x}})}(),a})}($i)),$i.exports}var Zi={exports:{}},Ho;function Mc(){return Ho||(Ho=1,function(o,c){(function(a,u){o.exports=u(ft())})(et,function(a){return function(){if(typeof ArrayBuffer=="function"){var u=a,h=u.lib,f=h.WordArray,p=f.init,C=f.init=function(A){if(A instanceof ArrayBuffer&&(A=new Uint8Array(A)),(A instanceof Int8Array||typeof Uint8ClampedArray<"u"&&A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array)&&(A=new Uint8Array(A.buffer,A.byteOffset,A.byteLength)),A instanceof Uint8Array){for(var x=A.byteLength,m=[],w=0;w<x;w++)m[w>>>2]|=A[w]<<24-w%4*8;p.call(this,m,x)}else p.apply(this,arguments)};C.prototype=f}}(),a.lib.WordArray})}(Zi)),Zi.exports}var Qi={exports:{}},zo;function Rc(){return zo||(zo=1,function(o,c){(function(a,u){o.exports=u(ft())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=u.enc;p.Utf16=p.Utf16BE={stringify:function(A){for(var x=A.words,m=A.sigBytes,w=[],v=0;v<m;v+=2){var S=x[v>>>2]>>>16-v%4*8&65535;w.push(String.fromCharCode(S))}return w.join("")},parse:function(A){for(var x=A.length,m=[],w=0;w<x;w++)m[w>>>1]|=A.charCodeAt(w)<<16-w%2*16;return f.create(m,x*2)}},p.Utf16LE={stringify:function(A){for(var x=A.words,m=A.sigBytes,w=[],v=0;v<m;v+=2){var S=C(x[v>>>2]>>>16-v%4*8&65535);w.push(String.fromCharCode(S))}return w.join("")},parse:function(A){for(var x=A.length,m=[],w=0;w<x;w++)m[w>>>1]|=C(A.charCodeAt(w)<<16-w%2*16);return f.create(m,x*2)}};function C(A){return A<<8&4278255360|A>>>8&16711935}}(),a.enc.Utf16})}(Qi)),Qi.exports}var Ki={exports:{}},jo;function cn(){return jo||(jo=1,function(o,c){(function(a,u){o.exports=u(ft())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=u.enc;p.Base64={stringify:function(A){var x=A.words,m=A.sigBytes,w=this._map;A.clamp();for(var v=[],S=0;S<m;S+=3)for(var _=x[S>>>2]>>>24-S%4*8&255,b=x[S+1>>>2]>>>24-(S+1)%4*8&255,T=x[S+2>>>2]>>>24-(S+2)%4*8&255,R=_<<16|b<<8|T,B=0;B<4&&S+B*.75<m;B++)v.push(w.charAt(R>>>6*(3-B)&63));var O=w.charAt(64);if(O)for(;v.length%4;)v.push(O);return v.join("")},parse:function(A){var x=A.length,m=this._map,w=this._reverseMap;if(!w){w=this._reverseMap=[];for(var v=0;v<m.length;v++)w[m.charCodeAt(v)]=v}var S=m.charAt(64);if(S){var _=A.indexOf(S);_!==-1&&(x=_)}return C(A,x,w)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function C(A,x,m){for(var w=[],v=0,S=0;S<x;S++)if(S%4){var _=m[A.charCodeAt(S-1)]<<S%4*2,b=m[A.charCodeAt(S)]>>>6-S%4*2,T=_|b;w[v>>>2]|=T<<24-v%4*8,v++}return f.create(w,v)}}(),a.enc.Base64})}(Ki)),Ki.exports}var Ji={exports:{}},Wo;function Fc(){return Wo||(Wo=1,function(o,c){(function(a,u){o.exports=u(ft())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=u.enc;p.Base64url={stringify:function(A,x){x===void 0&&(x=!0);var m=A.words,w=A.sigBytes,v=x?this._safe_map:this._map;A.clamp();for(var S=[],_=0;_<w;_+=3)for(var b=m[_>>>2]>>>24-_%4*8&255,T=m[_+1>>>2]>>>24-(_+1)%4*8&255,R=m[_+2>>>2]>>>24-(_+2)%4*8&255,B=b<<16|T<<8|R,O=0;O<4&&_+O*.75<w;O++)S.push(v.charAt(B>>>6*(3-O)&63));var F=v.charAt(64);if(F)for(;S.length%4;)S.push(F);return S.join("")},parse:function(A,x){x===void 0&&(x=!0);var m=A.length,w=x?this._safe_map:this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var S=0;S<w.length;S++)v[w.charCodeAt(S)]=S}var _=w.charAt(64);if(_){var b=A.indexOf(_);b!==-1&&(m=b)}return C(A,m,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function C(A,x,m){for(var w=[],v=0,S=0;S<x;S++)if(S%4){var _=m[A.charCodeAt(S-1)]<<S%4*2,b=m[A.charCodeAt(S)]>>>6-S%4*2,T=_|b;w[v>>>2]|=T<<24-v%4*8,v++}return f.create(w,v)}}(),a.enc.Base64url})}(Ji)),Ji.exports}var e0={exports:{}},Vo;function ln(){return Vo||(Vo=1,function(o,c){(function(a,u){o.exports=u(ft())})(et,function(a){return function(u){var h=a,f=h.lib,p=f.WordArray,C=f.Hasher,A=h.algo,x=[];(function(){for(var b=0;b<64;b++)x[b]=u.abs(u.sin(b+1))*4294967296|0})();var m=A.MD5=C.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,T){for(var R=0;R<16;R++){var B=T+R,O=b[B];b[B]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}var F=this._hash.words,J=b[T+0],$=b[T+1],W=b[T+2],fe=b[T+3],ae=b[T+4],oe=b[T+5],he=b[T+6],de=b[T+7],H=b[T+8],ee=b[T+9],L=b[T+10],ue=b[T+11],Z=b[T+12],ye=b[T+13],Te=b[T+14],Se=b[T+15],ie=F[0],Ee=F[1],G=F[2],E=F[3];ie=w(ie,Ee,G,E,J,7,x[0]),E=w(E,ie,Ee,G,$,12,x[1]),G=w(G,E,ie,Ee,W,17,x[2]),Ee=w(Ee,G,E,ie,fe,22,x[3]),ie=w(ie,Ee,G,E,ae,7,x[4]),E=w(E,ie,Ee,G,oe,12,x[5]),G=w(G,E,ie,Ee,he,17,x[6]),Ee=w(Ee,G,E,ie,de,22,x[7]),ie=w(ie,Ee,G,E,H,7,x[8]),E=w(E,ie,Ee,G,ee,12,x[9]),G=w(G,E,ie,Ee,L,17,x[10]),Ee=w(Ee,G,E,ie,ue,22,x[11]),ie=w(ie,Ee,G,E,Z,7,x[12]),E=w(E,ie,Ee,G,ye,12,x[13]),G=w(G,E,ie,Ee,Te,17,x[14]),Ee=w(Ee,G,E,ie,Se,22,x[15]),ie=v(ie,Ee,G,E,$,5,x[16]),E=v(E,ie,Ee,G,he,9,x[17]),G=v(G,E,ie,Ee,ue,14,x[18]),Ee=v(Ee,G,E,ie,J,20,x[19]),ie=v(ie,Ee,G,E,oe,5,x[20]),E=v(E,ie,Ee,G,L,9,x[21]),G=v(G,E,ie,Ee,Se,14,x[22]),Ee=v(Ee,G,E,ie,ae,20,x[23]),ie=v(ie,Ee,G,E,ee,5,x[24]),E=v(E,ie,Ee,G,Te,9,x[25]),G=v(G,E,ie,Ee,fe,14,x[26]),Ee=v(Ee,G,E,ie,H,20,x[27]),ie=v(ie,Ee,G,E,ye,5,x[28]),E=v(E,ie,Ee,G,W,9,x[29]),G=v(G,E,ie,Ee,de,14,x[30]),Ee=v(Ee,G,E,ie,Z,20,x[31]),ie=S(ie,Ee,G,E,oe,4,x[32]),E=S(E,ie,Ee,G,H,11,x[33]),G=S(G,E,ie,Ee,ue,16,x[34]),Ee=S(Ee,G,E,ie,Te,23,x[35]),ie=S(ie,Ee,G,E,$,4,x[36]),E=S(E,ie,Ee,G,ae,11,x[37]),G=S(G,E,ie,Ee,de,16,x[38]),Ee=S(Ee,G,E,ie,L,23,x[39]),ie=S(ie,Ee,G,E,ye,4,x[40]),E=S(E,ie,Ee,G,J,11,x[41]),G=S(G,E,ie,Ee,fe,16,x[42]),Ee=S(Ee,G,E,ie,he,23,x[43]),ie=S(ie,Ee,G,E,ee,4,x[44]),E=S(E,ie,Ee,G,Z,11,x[45]),G=S(G,E,ie,Ee,Se,16,x[46]),Ee=S(Ee,G,E,ie,W,23,x[47]),ie=_(ie,Ee,G,E,J,6,x[48]),E=_(E,ie,Ee,G,de,10,x[49]),G=_(G,E,ie,Ee,Te,15,x[50]),Ee=_(Ee,G,E,ie,oe,21,x[51]),ie=_(ie,Ee,G,E,Z,6,x[52]),E=_(E,ie,Ee,G,fe,10,x[53]),G=_(G,E,ie,Ee,L,15,x[54]),Ee=_(Ee,G,E,ie,$,21,x[55]),ie=_(ie,Ee,G,E,H,6,x[56]),E=_(E,ie,Ee,G,Se,10,x[57]),G=_(G,E,ie,Ee,he,15,x[58]),Ee=_(Ee,G,E,ie,ye,21,x[59]),ie=_(ie,Ee,G,E,ae,6,x[60]),E=_(E,ie,Ee,G,ue,10,x[61]),G=_(G,E,ie,Ee,W,15,x[62]),Ee=_(Ee,G,E,ie,ee,21,x[63]),F[0]=F[0]+ie|0,F[1]=F[1]+Ee|0,F[2]=F[2]+G|0,F[3]=F[3]+E|0},_doFinalize:function(){var b=this._data,T=b.words,R=this._nDataBytes*8,B=b.sigBytes*8;T[B>>>5]|=128<<24-B%32;var O=u.floor(R/4294967296),F=R;T[(B+64>>>9<<4)+15]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,T[(B+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,b.sigBytes=(T.length+1)*4,this._process();for(var J=this._hash,$=J.words,W=0;W<4;W++){var fe=$[W];$[W]=(fe<<8|fe>>>24)&16711935|(fe<<24|fe>>>8)&4278255360}return J},clone:function(){var b=C.clone.call(this);return b._hash=this._hash.clone(),b}});function w(b,T,R,B,O,F,J){var $=b+(T&R|~T&B)+O+J;return($<<F|$>>>32-F)+T}function v(b,T,R,B,O,F,J){var $=b+(T&B|R&~B)+O+J;return($<<F|$>>>32-F)+T}function S(b,T,R,B,O,F,J){var $=b+(T^R^B)+O+J;return($<<F|$>>>32-F)+T}function _(b,T,R,B,O,F,J){var $=b+(R^(T|~B))+O+J;return($<<F|$>>>32-F)+T}h.MD5=C._createHelper(m),h.HmacMD5=C._createHmacHelper(m)}(Math),a.MD5})}(e0)),e0.exports}var t0={exports:{}},Go;function ha(){return Go||(Go=1,function(o,c){(function(a,u){o.exports=u(ft())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=h.Hasher,C=u.algo,A=[],x=C.SHA1=p.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(m,w){for(var v=this._hash.words,S=v[0],_=v[1],b=v[2],T=v[3],R=v[4],B=0;B<80;B++){if(B<16)A[B]=m[w+B]|0;else{var O=A[B-3]^A[B-8]^A[B-14]^A[B-16];A[B]=O<<1|O>>>31}var F=(S<<5|S>>>27)+R+A[B];B<20?F+=(_&b|~_&T)+1518500249:B<40?F+=(_^b^T)+1859775393:B<60?F+=(_&b|_&T|b&T)-1894007588:F+=(_^b^T)-899497514,R=T,T=b,b=_<<30|_>>>2,_=S,S=F}v[0]=v[0]+S|0,v[1]=v[1]+_|0,v[2]=v[2]+b|0,v[3]=v[3]+T|0,v[4]=v[4]+R|0},_doFinalize:function(){var m=this._data,w=m.words,v=this._nDataBytes*8,S=m.sigBytes*8;return w[S>>>5]|=128<<24-S%32,w[(S+64>>>9<<4)+14]=Math.floor(v/4294967296),w[(S+64>>>9<<4)+15]=v,m.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var m=p.clone.call(this);return m._hash=this._hash.clone(),m}});u.SHA1=p._createHelper(x),u.HmacSHA1=p._createHmacHelper(x)}(),a.SHA1})}(t0)),t0.exports}var r0={exports:{}},Xo;function K0(){return Xo||(Xo=1,function(o,c){(function(a,u){o.exports=u(ft())})(et,function(a){return function(u){var h=a,f=h.lib,p=f.WordArray,C=f.Hasher,A=h.algo,x=[],m=[];(function(){function S(R){for(var B=u.sqrt(R),O=2;O<=B;O++)if(!(R%O))return!1;return!0}function _(R){return(R-(R|0))*4294967296|0}for(var b=2,T=0;T<64;)S(b)&&(T<8&&(x[T]=_(u.pow(b,1/2))),m[T]=_(u.pow(b,1/3)),T++),b++})();var w=[],v=A.SHA256=C.extend({_doReset:function(){this._hash=new p.init(x.slice(0))},_doProcessBlock:function(S,_){for(var b=this._hash.words,T=b[0],R=b[1],B=b[2],O=b[3],F=b[4],J=b[5],$=b[6],W=b[7],fe=0;fe<64;fe++){if(fe<16)w[fe]=S[_+fe]|0;else{var ae=w[fe-15],oe=(ae<<25|ae>>>7)^(ae<<14|ae>>>18)^ae>>>3,he=w[fe-2],de=(he<<15|he>>>17)^(he<<13|he>>>19)^he>>>10;w[fe]=oe+w[fe-7]+de+w[fe-16]}var H=F&J^~F&$,ee=T&R^T&B^R&B,L=(T<<30|T>>>2)^(T<<19|T>>>13)^(T<<10|T>>>22),ue=(F<<26|F>>>6)^(F<<21|F>>>11)^(F<<7|F>>>25),Z=W+ue+H+m[fe]+w[fe],ye=L+ee;W=$,$=J,J=F,F=O+Z|0,O=B,B=R,R=T,T=Z+ye|0}b[0]=b[0]+T|0,b[1]=b[1]+R|0,b[2]=b[2]+B|0,b[3]=b[3]+O|0,b[4]=b[4]+F|0,b[5]=b[5]+J|0,b[6]=b[6]+$|0,b[7]=b[7]+W|0},_doFinalize:function(){var S=this._data,_=S.words,b=this._nDataBytes*8,T=S.sigBytes*8;return _[T>>>5]|=128<<24-T%32,_[(T+64>>>9<<4)+14]=u.floor(b/4294967296),_[(T+64>>>9<<4)+15]=b,S.sigBytes=_.length*4,this._process(),this._hash},clone:function(){var S=C.clone.call(this);return S._hash=this._hash.clone(),S}});h.SHA256=C._createHelper(v),h.HmacSHA256=C._createHmacHelper(v)}(Math),a.SHA256})}(r0)),r0.exports}var n0={exports:{}},Yo;function Lc(){return Yo||(Yo=1,function(o,c){(function(a,u,h){o.exports=u(ft(),K0())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=u.algo,C=p.SHA256,A=p.SHA224=C.extend({_doReset:function(){this._hash=new f.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var x=C._doFinalize.call(this);return x.sigBytes-=4,x}});u.SHA224=C._createHelper(A),u.HmacSHA224=C._createHmacHelper(A)}(),a.SHA224})}(n0)),n0.exports}var i0={exports:{}},qo;function da(){return qo||(qo=1,function(o,c){(function(a,u,h){o.exports=u(ft(),_i())})(et,function(a){return function(){var u=a,h=u.lib,f=h.Hasher,p=u.x64,C=p.Word,A=p.WordArray,x=u.algo;function m(){return C.create.apply(C,arguments)}var w=[m(1116352408,3609767458),m(1899447441,602891725),m(3049323471,3964484399),m(3921009573,2173295548),m(961987163,4081628472),m(1508970993,3053834265),m(2453635748,2937671579),m(2870763221,3664609560),m(3624381080,2734883394),m(310598401,1164996542),m(607225278,1323610764),m(1426881987,3590304994),m(1925078388,4068182383),m(2162078206,991336113),m(2614888103,633803317),m(3248222580,3479774868),m(3835390401,2666613458),m(4022224774,944711139),m(264347078,2341262773),m(604807628,2007800933),m(770255983,1495990901),m(1249150122,1856431235),m(1555081692,3175218132),m(1996064986,2198950837),m(2554220882,3999719339),m(2821834349,766784016),m(2952996808,2566594879),m(3210313671,3203337956),m(3336571891,1034457026),m(3584528711,2466948901),m(113926993,3758326383),m(338241895,168717936),m(666307205,1188179964),m(773529912,1546045734),m(1294757372,1522805485),m(1396182291,2643833823),m(1695183700,2343527390),m(1986661051,1014477480),m(2177026350,1206759142),m(2456956037,344077627),m(2730485921,1290863460),m(2820302411,3158454273),m(3259730800,3505952657),m(3345764771,106217008),m(3516065817,3606008344),m(3600352804,1432725776),m(4094571909,1467031594),m(275423344,851169720),m(430227734,3100823752),m(506948616,1363258195),m(659060556,3750685593),m(883997877,3785050280),m(958139571,3318307427),m(1322822218,3812723403),m(1537002063,2003034995),m(1747873779,3602036899),m(1955562222,1575990012),m(2024104815,1125592928),m(2227730452,2716904306),m(2361852424,442776044),m(2428436474,593698344),m(2756734187,3733110249),m(3204031479,2999351573),m(3329325298,3815920427),m(3391569614,3928383900),m(3515267271,566280711),m(3940187606,3454069534),m(4118630271,4000239992),m(116418474,1914138554),m(174292421,2731055270),m(289380356,3203993006),m(460393269,320620315),m(685471733,587496836),m(852142971,1086792851),m(1017036298,365543100),m(1126000580,2618297676),m(1288033470,3409855158),m(1501505948,4234509866),m(1607167915,987167468),m(1816402316,1246189591)],v=[];(function(){for(var _=0;_<80;_++)v[_]=m()})();var S=x.SHA512=f.extend({_doReset:function(){this._hash=new A.init([new C.init(1779033703,4089235720),new C.init(3144134277,2227873595),new C.init(1013904242,4271175723),new C.init(2773480762,1595750129),new C.init(1359893119,2917565137),new C.init(2600822924,725511199),new C.init(528734635,4215389547),new C.init(1541459225,327033209)])},_doProcessBlock:function(_,b){for(var T=this._hash.words,R=T[0],B=T[1],O=T[2],F=T[3],J=T[4],$=T[5],W=T[6],fe=T[7],ae=R.high,oe=R.low,he=B.high,de=B.low,H=O.high,ee=O.low,L=F.high,ue=F.low,Z=J.high,ye=J.low,Te=$.high,Se=$.low,ie=W.high,Ee=W.low,G=fe.high,E=fe.low,z=ae,M=oe,X=he,V=de,re=H,me=ee,j=L,q=ue,P=Z,ce=ye,Ce=Te,Fe=Se,ke=ie,ve=Ee,ne=G,Q=E,K=0;K<80;K++){var xe,le,Y=v[K];if(K<16)le=Y.high=_[b+K*2]|0,xe=Y.low=_[b+K*2+1]|0;else{var ge=v[K-15],Ae=ge.high,Me=ge.low,Re=(Ae>>>1|Me<<31)^(Ae>>>8|Me<<24)^Ae>>>7,Ie=(Me>>>1|Ae<<31)^(Me>>>8|Ae<<24)^(Me>>>7|Ae<<25),ze=v[K-2],He=ze.high,Ye=ze.low,We=(He>>>19|Ye<<13)^(He<<3|Ye>>>29)^He>>>6,Ne=(Ye>>>19|He<<13)^(Ye<<3|He>>>29)^(Ye>>>6|He<<26),ot=v[K-7],at=ot.high,yt=ot.low,Yt=v[K-16],Rr=Yt.high,en=Yt.low;xe=Ie+yt,le=Re+at+(xe>>>0<Ie>>>0?1:0),xe=xe+Ne,le=le+We+(xe>>>0<Ne>>>0?1:0),xe=xe+en,le=le+Rr+(xe>>>0<en>>>0?1:0),Y.high=le,Y.low=xe}var tt=P&Ce^~P&ke,Qt=ce&Fe^~ce&ve,ur=z&X^z&re^X&re,fr=M&V^M&me^V&me,zt=(z>>>28|M<<4)^(z<<30|M>>>2)^(z<<25|M>>>7),br=(M>>>28|z<<4)^(M<<30|z>>>2)^(M<<25|z>>>7),Et=(P>>>14|ce<<18)^(P>>>18|ce<<14)^(P<<23|ce>>>9),jr=(ce>>>14|P<<18)^(ce>>>18|P<<14)^(ce<<23|P>>>9),tn=w[K],hr=tn.high,$n=tn.low,Mt=Q+jr,dr=ne+Et+(Mt>>>0<Q>>>0?1:0),Mt=Mt+Qt,dr=dr+tt+(Mt>>>0<Qt>>>0?1:0),Mt=Mt+$n,dr=dr+hr+(Mt>>>0<$n>>>0?1:0),Mt=Mt+xe,dr=dr+le+(Mt>>>0<xe>>>0?1:0),jt=br+fr,Fr=zt+ur+(jt>>>0<br>>>0?1:0);ne=ke,Q=ve,ke=Ce,ve=Fe,Ce=P,Fe=ce,ce=q+Mt|0,P=j+dr+(ce>>>0<q>>>0?1:0)|0,j=re,q=me,re=X,me=V,X=z,V=M,M=Mt+jt|0,z=dr+Fr+(M>>>0<Mt>>>0?1:0)|0}oe=R.low=oe+M,R.high=ae+z+(oe>>>0<M>>>0?1:0),de=B.low=de+V,B.high=he+X+(de>>>0<V>>>0?1:0),ee=O.low=ee+me,O.high=H+re+(ee>>>0<me>>>0?1:0),ue=F.low=ue+q,F.high=L+j+(ue>>>0<q>>>0?1:0),ye=J.low=ye+ce,J.high=Z+P+(ye>>>0<ce>>>0?1:0),Se=$.low=Se+Fe,$.high=Te+Ce+(Se>>>0<Fe>>>0?1:0),Ee=W.low=Ee+ve,W.high=ie+ke+(Ee>>>0<ve>>>0?1:0),E=fe.low=E+Q,fe.high=G+ne+(E>>>0<Q>>>0?1:0)},_doFinalize:function(){var _=this._data,b=_.words,T=this._nDataBytes*8,R=_.sigBytes*8;b[R>>>5]|=128<<24-R%32,b[(R+128>>>10<<5)+30]=Math.floor(T/4294967296),b[(R+128>>>10<<5)+31]=T,_.sigBytes=b.length*4,this._process();var B=this._hash.toX32();return B},clone:function(){var _=f.clone.call(this);return _._hash=this._hash.clone(),_},blockSize:1024/32});u.SHA512=f._createHelper(S),u.HmacSHA512=f._createHmacHelper(S)}(),a.SHA512})}(i0)),i0.exports}var o0={exports:{}},$o;function kc(){return $o||($o=1,function(o,c){(function(a,u,h){o.exports=u(ft(),_i(),da())})(et,function(a){return function(){var u=a,h=u.x64,f=h.Word,p=h.WordArray,C=u.algo,A=C.SHA512,x=C.SHA384=A.extend({_doReset:function(){this._hash=new p.init([new f.init(3418070365,3238371032),new f.init(1654270250,914150663),new f.init(2438529370,812702999),new f.init(355462360,4144912697),new f.init(1731405415,4290775857),new f.init(2394180231,1750603025),new f.init(3675008525,1694076839),new f.init(1203062813,3204075428)])},_doFinalize:function(){var m=A._doFinalize.call(this);return m.sigBytes-=16,m}});u.SHA384=A._createHelper(x),u.HmacSHA384=A._createHmacHelper(x)}(),a.SHA384})}(o0)),o0.exports}var s0={exports:{}},Zo;function Pc(){return Zo||(Zo=1,function(o,c){(function(a,u,h){o.exports=u(ft(),_i())})(et,function(a){return function(u){var h=a,f=h.lib,p=f.WordArray,C=f.Hasher,A=h.x64,x=A.Word,m=h.algo,w=[],v=[],S=[];(function(){for(var T=1,R=0,B=0;B<24;B++){w[T+5*R]=(B+1)*(B+2)/2%64;var O=R%5,F=(2*T+3*R)%5;T=O,R=F}for(var T=0;T<5;T++)for(var R=0;R<5;R++)v[T+5*R]=R+(2*T+3*R)%5*5;for(var J=1,$=0;$<24;$++){for(var W=0,fe=0,ae=0;ae<7;ae++){if(J&1){var oe=(1<<ae)-1;oe<32?fe^=1<<oe:W^=1<<oe-32}J&128?J=J<<1^113:J<<=1}S[$]=x.create(W,fe)}})();var _=[];(function(){for(var T=0;T<25;T++)_[T]=x.create()})();var b=m.SHA3=C.extend({cfg:C.cfg.extend({outputLength:512}),_doReset:function(){for(var T=this._state=[],R=0;R<25;R++)T[R]=new x.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(T,R){for(var B=this._state,O=this.blockSize/2,F=0;F<O;F++){var J=T[R+2*F],$=T[R+2*F+1];J=(J<<8|J>>>24)&16711935|(J<<24|J>>>8)&4278255360,$=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360;var W=B[F];W.high^=$,W.low^=J}for(var fe=0;fe<24;fe++){for(var ae=0;ae<5;ae++){for(var oe=0,he=0,de=0;de<5;de++){var W=B[ae+5*de];oe^=W.high,he^=W.low}var H=_[ae];H.high=oe,H.low=he}for(var ae=0;ae<5;ae++)for(var ee=_[(ae+4)%5],L=_[(ae+1)%5],ue=L.high,Z=L.low,oe=ee.high^(ue<<1|Z>>>31),he=ee.low^(Z<<1|ue>>>31),de=0;de<5;de++){var W=B[ae+5*de];W.high^=oe,W.low^=he}for(var ye=1;ye<25;ye++){var oe,he,W=B[ye],Te=W.high,Se=W.low,ie=w[ye];ie<32?(oe=Te<<ie|Se>>>32-ie,he=Se<<ie|Te>>>32-ie):(oe=Se<<ie-32|Te>>>64-ie,he=Te<<ie-32|Se>>>64-ie);var Ee=_[v[ye]];Ee.high=oe,Ee.low=he}var G=_[0],E=B[0];G.high=E.high,G.low=E.low;for(var ae=0;ae<5;ae++)for(var de=0;de<5;de++){var ye=ae+5*de,W=B[ye],z=_[ye],M=_[(ae+1)%5+5*de],X=_[(ae+2)%5+5*de];W.high=z.high^~M.high&X.high,W.low=z.low^~M.low&X.low}var W=B[0],V=S[fe];W.high^=V.high,W.low^=V.low}},_doFinalize:function(){var T=this._data,R=T.words;this._nDataBytes*8;var B=T.sigBytes*8,O=this.blockSize*32;R[B>>>5]|=1<<24-B%32,R[(u.ceil((B+1)/O)*O>>>5)-1]|=128,T.sigBytes=R.length*4,this._process();for(var F=this._state,J=this.cfg.outputLength/8,$=J/8,W=[],fe=0;fe<$;fe++){var ae=F[fe],oe=ae.high,he=ae.low;oe=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360,he=(he<<8|he>>>24)&16711935|(he<<24|he>>>8)&4278255360,W.push(he),W.push(oe)}return new p.init(W,J)},clone:function(){for(var T=C.clone.call(this),R=T._state=this._state.slice(0),B=0;B<25;B++)R[B]=R[B].clone();return T}});h.SHA3=C._createHelper(b),h.HmacSHA3=C._createHmacHelper(b)}(Math),a.SHA3})}(s0)),s0.exports}var a0={exports:{}},Qo;function Uc(){return Qo||(Qo=1,function(o,c){(function(a,u){o.exports=u(ft())})(et,function(a){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(u){var h=a,f=h.lib,p=f.WordArray,C=f.Hasher,A=h.algo,x=p.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),m=p.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),w=p.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),v=p.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),S=p.create([0,1518500249,1859775393,2400959708,2840853838]),_=p.create([1352829926,1548603684,1836072691,2053994217,0]),b=A.RIPEMD160=C.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function($,W){for(var fe=0;fe<16;fe++){var ae=W+fe,oe=$[ae];$[ae]=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360}var he=this._hash.words,de=S.words,H=_.words,ee=x.words,L=m.words,ue=w.words,Z=v.words,ye,Te,Se,ie,Ee,G,E,z,M,X;G=ye=he[0],E=Te=he[1],z=Se=he[2],M=ie=he[3],X=Ee=he[4];for(var V,fe=0;fe<80;fe+=1)V=ye+$[W+ee[fe]]|0,fe<16?V+=T(Te,Se,ie)+de[0]:fe<32?V+=R(Te,Se,ie)+de[1]:fe<48?V+=B(Te,Se,ie)+de[2]:fe<64?V+=O(Te,Se,ie)+de[3]:V+=F(Te,Se,ie)+de[4],V=V|0,V=J(V,ue[fe]),V=V+Ee|0,ye=Ee,Ee=ie,ie=J(Se,10),Se=Te,Te=V,V=G+$[W+L[fe]]|0,fe<16?V+=F(E,z,M)+H[0]:fe<32?V+=O(E,z,M)+H[1]:fe<48?V+=B(E,z,M)+H[2]:fe<64?V+=R(E,z,M)+H[3]:V+=T(E,z,M)+H[4],V=V|0,V=J(V,Z[fe]),V=V+X|0,G=X,X=M,M=J(z,10),z=E,E=V;V=he[1]+Se+M|0,he[1]=he[2]+ie+X|0,he[2]=he[3]+Ee+G|0,he[3]=he[4]+ye+E|0,he[4]=he[0]+Te+z|0,he[0]=V},_doFinalize:function(){var $=this._data,W=$.words,fe=this._nDataBytes*8,ae=$.sigBytes*8;W[ae>>>5]|=128<<24-ae%32,W[(ae+64>>>9<<4)+14]=(fe<<8|fe>>>24)&16711935|(fe<<24|fe>>>8)&4278255360,$.sigBytes=(W.length+1)*4,this._process();for(var oe=this._hash,he=oe.words,de=0;de<5;de++){var H=he[de];he[de]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360}return oe},clone:function(){var $=C.clone.call(this);return $._hash=this._hash.clone(),$}});function T($,W,fe){return $^W^fe}function R($,W,fe){return $&W|~$&fe}function B($,W,fe){return($|~W)^fe}function O($,W,fe){return $&fe|W&~fe}function F($,W,fe){return $^(W|~fe)}function J($,W){return $<<W|$>>>32-W}h.RIPEMD160=C._createHelper(b),h.HmacRIPEMD160=C._createHmacHelper(b)}(),a.RIPEMD160})}(a0)),a0.exports}var c0={exports:{}},Ko;function J0(){return Ko||(Ko=1,function(o,c){(function(a,u){o.exports=u(ft())})(et,function(a){(function(){var u=a,h=u.lib,f=h.Base,p=u.enc,C=p.Utf8,A=u.algo;A.HMAC=f.extend({init:function(x,m){x=this._hasher=new x.init,typeof m=="string"&&(m=C.parse(m));var w=x.blockSize,v=w*4;m.sigBytes>v&&(m=x.finalize(m)),m.clamp();for(var S=this._oKey=m.clone(),_=this._iKey=m.clone(),b=S.words,T=_.words,R=0;R<w;R++)b[R]^=1549556828,T[R]^=909522486;S.sigBytes=_.sigBytes=v,this.reset()},reset:function(){var x=this._hasher;x.reset(),x.update(this._iKey)},update:function(x){return this._hasher.update(x),this},finalize:function(x){var m=this._hasher,w=m.finalize(x);m.reset();var v=m.finalize(this._oKey.clone().concat(w));return v}})})()})}(c0)),c0.exports}var l0={exports:{}},Jo;function Hc(){return Jo||(Jo=1,function(o,c){(function(a,u,h){o.exports=u(ft(),K0(),J0())})(et,function(a){return function(){var u=a,h=u.lib,f=h.Base,p=h.WordArray,C=u.algo,A=C.SHA256,x=C.HMAC,m=C.PBKDF2=f.extend({cfg:f.extend({keySize:128/32,hasher:A,iterations:25e4}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,v){for(var S=this.cfg,_=x.create(S.hasher,w),b=p.create(),T=p.create([1]),R=b.words,B=T.words,O=S.keySize,F=S.iterations;R.length<O;){var J=_.update(v).finalize(T);_.reset();for(var $=J.words,W=$.length,fe=J,ae=1;ae<F;ae++){fe=_.finalize(fe),_.reset();for(var oe=fe.words,he=0;he<W;he++)$[he]^=oe[he]}b.concat(J),B[0]++}return b.sigBytes=O*4,b}});u.PBKDF2=function(w,v,S){return m.create(S).compute(w,v)}}(),a.PBKDF2})}(l0)),l0.exports}var u0={exports:{}},es;function Jr(){return es||(es=1,function(o,c){(function(a,u,h){o.exports=u(ft(),ha(),J0())})(et,function(a){return function(){var u=a,h=u.lib,f=h.Base,p=h.WordArray,C=u.algo,A=C.MD5,x=C.EvpKDF=f.extend({cfg:f.extend({keySize:128/32,hasher:A,iterations:1}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,w){for(var v,S=this.cfg,_=S.hasher.create(),b=p.create(),T=b.words,R=S.keySize,B=S.iterations;T.length<R;){v&&_.update(v),v=_.update(m).finalize(w),_.reset();for(var O=1;O<B;O++)v=_.finalize(v),_.reset();b.concat(v)}return b.sigBytes=R*4,b}});u.EvpKDF=function(m,w,v){return x.create(v).compute(m,w)}}(),a.EvpKDF})}(u0)),u0.exports}var f0={exports:{}},ts;function Ht(){return ts||(ts=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Jr())})(et,function(a){a.lib.Cipher||function(u){var h=a,f=h.lib,p=f.Base,C=f.WordArray,A=f.BufferedBlockAlgorithm,x=h.enc;x.Utf8;var m=x.Base64,w=h.algo,v=w.EvpKDF,S=f.Cipher=A.extend({cfg:p.extend(),createEncryptor:function(oe,he){return this.create(this._ENC_XFORM_MODE,oe,he)},createDecryptor:function(oe,he){return this.create(this._DEC_XFORM_MODE,oe,he)},init:function(oe,he,de){this.cfg=this.cfg.extend(de),this._xformMode=oe,this._key=he,this.reset()},reset:function(){A.reset.call(this),this._doReset()},process:function(oe){return this._append(oe),this._process()},finalize:function(oe){oe&&this._append(oe);var he=this._doFinalize();return he},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function oe(he){return typeof he=="string"?ae:$}return function(he){return{encrypt:function(de,H,ee){return oe(H).encrypt(he,de,H,ee)},decrypt:function(de,H,ee){return oe(H).decrypt(he,de,H,ee)}}}}()});f.StreamCipher=S.extend({_doFinalize:function(){var oe=this._process(!0);return oe},blockSize:1});var _=h.mode={},b=f.BlockCipherMode=p.extend({createEncryptor:function(oe,he){return this.Encryptor.create(oe,he)},createDecryptor:function(oe,he){return this.Decryptor.create(oe,he)},init:function(oe,he){this._cipher=oe,this._iv=he}}),T=_.CBC=function(){var oe=b.extend();oe.Encryptor=oe.extend({processBlock:function(de,H){var ee=this._cipher,L=ee.blockSize;he.call(this,de,H,L),ee.encryptBlock(de,H),this._prevBlock=de.slice(H,H+L)}}),oe.Decryptor=oe.extend({processBlock:function(de,H){var ee=this._cipher,L=ee.blockSize,ue=de.slice(H,H+L);ee.decryptBlock(de,H),he.call(this,de,H,L),this._prevBlock=ue}});function he(de,H,ee){var L,ue=this._iv;ue?(L=ue,this._iv=u):L=this._prevBlock;for(var Z=0;Z<ee;Z++)de[H+Z]^=L[Z]}return oe}(),R=h.pad={},B=R.Pkcs7={pad:function(oe,he){for(var de=he*4,H=de-oe.sigBytes%de,ee=H<<24|H<<16|H<<8|H,L=[],ue=0;ue<H;ue+=4)L.push(ee);var Z=C.create(L,H);oe.concat(Z)},unpad:function(oe){var he=oe.words[oe.sigBytes-1>>>2]&255;oe.sigBytes-=he}};f.BlockCipher=S.extend({cfg:S.cfg.extend({mode:T,padding:B}),reset:function(){var oe;S.reset.call(this);var he=this.cfg,de=he.iv,H=he.mode;this._xformMode==this._ENC_XFORM_MODE?oe=H.createEncryptor:(oe=H.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==oe?this._mode.init(this,de&&de.words):(this._mode=oe.call(H,this,de&&de.words),this._mode.__creator=oe)},_doProcessBlock:function(oe,he){this._mode.processBlock(oe,he)},_doFinalize:function(){var oe,he=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(he.pad(this._data,this.blockSize),oe=this._process(!0)):(oe=this._process(!0),he.unpad(oe)),oe},blockSize:128/32});var O=f.CipherParams=p.extend({init:function(oe){this.mixIn(oe)},toString:function(oe){return(oe||this.formatter).stringify(this)}}),F=h.format={},J=F.OpenSSL={stringify:function(oe){var he,de=oe.ciphertext,H=oe.salt;return H?he=C.create([1398893684,1701076831]).concat(H).concat(de):he=de,he.toString(m)},parse:function(oe){var he,de=m.parse(oe),H=de.words;return H[0]==1398893684&&H[1]==1701076831&&(he=C.create(H.slice(2,4)),H.splice(0,4),de.sigBytes-=16),O.create({ciphertext:de,salt:he})}},$=f.SerializableCipher=p.extend({cfg:p.extend({format:J}),encrypt:function(oe,he,de,H){H=this.cfg.extend(H);var ee=oe.createEncryptor(de,H),L=ee.finalize(he),ue=ee.cfg;return O.create({ciphertext:L,key:de,iv:ue.iv,algorithm:oe,mode:ue.mode,padding:ue.padding,blockSize:oe.blockSize,formatter:H.format})},decrypt:function(oe,he,de,H){H=this.cfg.extend(H),he=this._parse(he,H.format);var ee=oe.createDecryptor(de,H).finalize(he.ciphertext);return ee},_parse:function(oe,he){return typeof oe=="string"?he.parse(oe,this):oe}}),W=h.kdf={},fe=W.OpenSSL={execute:function(oe,he,de,H,ee){if(H||(H=C.random(64/8)),ee)var L=v.create({keySize:he+de,hasher:ee}).compute(oe,H);else var L=v.create({keySize:he+de}).compute(oe,H);var ue=C.create(L.words.slice(he),de*4);return L.sigBytes=he*4,O.create({key:L,iv:ue,salt:H})}},ae=f.PasswordBasedCipher=$.extend({cfg:$.cfg.extend({kdf:fe}),encrypt:function(oe,he,de,H){H=this.cfg.extend(H);var ee=H.kdf.execute(de,oe.keySize,oe.ivSize,H.salt,H.hasher);H.iv=ee.iv;var L=$.encrypt.call(this,oe,he,ee.key,H);return L.mixIn(ee),L},decrypt:function(oe,he,de,H){H=this.cfg.extend(H),he=this._parse(he,H.format);var ee=H.kdf.execute(de,oe.keySize,oe.ivSize,he.salt,H.hasher);H.iv=ee.iv;var L=$.decrypt.call(this,oe,he,ee.key,H);return L}})}()})}(f0)),f0.exports}var h0={exports:{}},rs;function zc(){return rs||(rs=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Ht())})(et,function(a){return a.mode.CFB=function(){var u=a.lib.BlockCipherMode.extend();u.Encryptor=u.extend({processBlock:function(f,p){var C=this._cipher,A=C.blockSize;h.call(this,f,p,A,C),this._prevBlock=f.slice(p,p+A)}}),u.Decryptor=u.extend({processBlock:function(f,p){var C=this._cipher,A=C.blockSize,x=f.slice(p,p+A);h.call(this,f,p,A,C),this._prevBlock=x}});function h(f,p,C,A){var x,m=this._iv;m?(x=m.slice(0),this._iv=void 0):x=this._prevBlock,A.encryptBlock(x,0);for(var w=0;w<C;w++)f[p+w]^=x[w]}return u}(),a.mode.CFB})}(h0)),h0.exports}var d0={exports:{}},ns;function jc(){return ns||(ns=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Ht())})(et,function(a){return a.mode.CTR=function(){var u=a.lib.BlockCipherMode.extend(),h=u.Encryptor=u.extend({processBlock:function(f,p){var C=this._cipher,A=C.blockSize,x=this._iv,m=this._counter;x&&(m=this._counter=x.slice(0),this._iv=void 0);var w=m.slice(0);C.encryptBlock(w,0),m[A-1]=m[A-1]+1|0;for(var v=0;v<A;v++)f[p+v]^=w[v]}});return u.Decryptor=h,u}(),a.mode.CTR})}(d0)),d0.exports}var x0={exports:{}},is;function Wc(){return is||(is=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Ht())})(et,function(a){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return a.mode.CTRGladman=function(){var u=a.lib.BlockCipherMode.extend();function h(C){if((C>>24&255)===255){var A=C>>16&255,x=C>>8&255,m=C&255;A===255?(A=0,x===255?(x=0,m===255?m=0:++m):++x):++A,C=0,C+=A<<16,C+=x<<8,C+=m}else C+=1<<24;return C}function f(C){return(C[0]=h(C[0]))===0&&(C[1]=h(C[1])),C}var p=u.Encryptor=u.extend({processBlock:function(C,A){var x=this._cipher,m=x.blockSize,w=this._iv,v=this._counter;w&&(v=this._counter=w.slice(0),this._iv=void 0),f(v);var S=v.slice(0);x.encryptBlock(S,0);for(var _=0;_<m;_++)C[A+_]^=S[_]}});return u.Decryptor=p,u}(),a.mode.CTRGladman})}(x0)),x0.exports}var g0={exports:{}},os;function Vc(){return os||(os=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Ht())})(et,function(a){return a.mode.OFB=function(){var u=a.lib.BlockCipherMode.extend(),h=u.Encryptor=u.extend({processBlock:function(f,p){var C=this._cipher,A=C.blockSize,x=this._iv,m=this._keystream;x&&(m=this._keystream=x.slice(0),this._iv=void 0),C.encryptBlock(m,0);for(var w=0;w<A;w++)f[p+w]^=m[w]}});return u.Decryptor=h,u}(),a.mode.OFB})}(g0)),g0.exports}var p0={exports:{}},ss;function Gc(){return ss||(ss=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Ht())})(et,function(a){return a.mode.ECB=function(){var u=a.lib.BlockCipherMode.extend();return u.Encryptor=u.extend({processBlock:function(h,f){this._cipher.encryptBlock(h,f)}}),u.Decryptor=u.extend({processBlock:function(h,f){this._cipher.decryptBlock(h,f)}}),u}(),a.mode.ECB})}(p0)),p0.exports}var m0={exports:{}},as;function Xc(){return as||(as=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Ht())})(et,function(a){return a.pad.AnsiX923={pad:function(u,h){var f=u.sigBytes,p=h*4,C=p-f%p,A=f+C-1;u.clamp(),u.words[A>>>2]|=C<<24-A%4*8,u.sigBytes+=C},unpad:function(u){var h=u.words[u.sigBytes-1>>>2]&255;u.sigBytes-=h}},a.pad.Ansix923})}(m0)),m0.exports}var C0={exports:{}},cs;function Yc(){return cs||(cs=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Ht())})(et,function(a){return a.pad.Iso10126={pad:function(u,h){var f=h*4,p=f-u.sigBytes%f;u.concat(a.lib.WordArray.random(p-1)).concat(a.lib.WordArray.create([p<<24],1))},unpad:function(u){var h=u.words[u.sigBytes-1>>>2]&255;u.sigBytes-=h}},a.pad.Iso10126})}(C0)),C0.exports}var w0={exports:{}},ls;function qc(){return ls||(ls=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Ht())})(et,function(a){return a.pad.Iso97971={pad:function(u,h){u.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(u,h)},unpad:function(u){a.pad.ZeroPadding.unpad(u),u.sigBytes--}},a.pad.Iso97971})}(w0)),w0.exports}var A0={exports:{}},us;function $c(){return us||(us=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Ht())})(et,function(a){return a.pad.ZeroPadding={pad:function(u,h){var f=h*4;u.clamp(),u.sigBytes+=f-(u.sigBytes%f||f)},unpad:function(u){for(var h=u.words,f=u.sigBytes-1,f=u.sigBytes-1;f>=0;f--)if(h[f>>>2]>>>24-f%4*8&255){u.sigBytes=f+1;break}}},a.pad.ZeroPadding})}(A0)),A0.exports}var y0={exports:{}},fs;function Zc(){return fs||(fs=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Ht())})(et,function(a){return a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding})}(y0)),y0.exports}var E0={exports:{}},hs;function Qc(){return hs||(hs=1,function(o,c){(function(a,u,h){o.exports=u(ft(),Ht())})(et,function(a){return function(u){var h=a,f=h.lib,p=f.CipherParams,C=h.enc,A=C.Hex,x=h.format;x.Hex={stringify:function(m){return m.ciphertext.toString(A)},parse:function(m){var w=A.parse(m);return p.create({ciphertext:w})}}}(),a.format.Hex})}(E0)),E0.exports}var v0={exports:{}},ds;function Kc(){return ds||(ds=1,function(o,c){(function(a,u,h){o.exports=u(ft(),cn(),ln(),Jr(),Ht())})(et,function(a){return function(){var u=a,h=u.lib,f=h.BlockCipher,p=u.algo,C=[],A=[],x=[],m=[],w=[],v=[],S=[],_=[],b=[],T=[];(function(){for(var O=[],F=0;F<256;F++)F<128?O[F]=F<<1:O[F]=F<<1^283;for(var J=0,$=0,F=0;F<256;F++){var W=$^$<<1^$<<2^$<<3^$<<4;W=W>>>8^W&255^99,C[J]=W,A[W]=J;var fe=O[J],ae=O[fe],oe=O[ae],he=O[W]*257^W*16843008;x[J]=he<<24|he>>>8,m[J]=he<<16|he>>>16,w[J]=he<<8|he>>>24,v[J]=he;var he=oe*16843009^ae*65537^fe*257^J*16843008;S[W]=he<<24|he>>>8,_[W]=he<<16|he>>>16,b[W]=he<<8|he>>>24,T[W]=he,J?(J=fe^O[O[O[oe^fe]]],$^=O[O[$]]):J=$=1}})();var R=[0,1,2,4,8,16,32,64,128,27,54],B=p.AES=f.extend({_doReset:function(){var O;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var F=this._keyPriorReset=this._key,J=F.words,$=F.sigBytes/4,W=this._nRounds=$+6,fe=(W+1)*4,ae=this._keySchedule=[],oe=0;oe<fe;oe++)oe<$?ae[oe]=J[oe]:(O=ae[oe-1],oe%$?$>6&&oe%$==4&&(O=C[O>>>24]<<24|C[O>>>16&255]<<16|C[O>>>8&255]<<8|C[O&255]):(O=O<<8|O>>>24,O=C[O>>>24]<<24|C[O>>>16&255]<<16|C[O>>>8&255]<<8|C[O&255],O^=R[oe/$|0]<<24),ae[oe]=ae[oe-$]^O);for(var he=this._invKeySchedule=[],de=0;de<fe;de++){var oe=fe-de;if(de%4)var O=ae[oe];else var O=ae[oe-4];de<4||oe<=4?he[de]=O:he[de]=S[C[O>>>24]]^_[C[O>>>16&255]]^b[C[O>>>8&255]]^T[C[O&255]]}}},encryptBlock:function(O,F){this._doCryptBlock(O,F,this._keySchedule,x,m,w,v,C)},decryptBlock:function(O,F){var J=O[F+1];O[F+1]=O[F+3],O[F+3]=J,this._doCryptBlock(O,F,this._invKeySchedule,S,_,b,T,A);var J=O[F+1];O[F+1]=O[F+3],O[F+3]=J},_doCryptBlock:function(O,F,J,$,W,fe,ae,oe){for(var he=this._nRounds,de=O[F]^J[0],H=O[F+1]^J[1],ee=O[F+2]^J[2],L=O[F+3]^J[3],ue=4,Z=1;Z<he;Z++){var ye=$[de>>>24]^W[H>>>16&255]^fe[ee>>>8&255]^ae[L&255]^J[ue++],Te=$[H>>>24]^W[ee>>>16&255]^fe[L>>>8&255]^ae[de&255]^J[ue++],Se=$[ee>>>24]^W[L>>>16&255]^fe[de>>>8&255]^ae[H&255]^J[ue++],ie=$[L>>>24]^W[de>>>16&255]^fe[H>>>8&255]^ae[ee&255]^J[ue++];de=ye,H=Te,ee=Se,L=ie}var ye=(oe[de>>>24]<<24|oe[H>>>16&255]<<16|oe[ee>>>8&255]<<8|oe[L&255])^J[ue++],Te=(oe[H>>>24]<<24|oe[ee>>>16&255]<<16|oe[L>>>8&255]<<8|oe[de&255])^J[ue++],Se=(oe[ee>>>24]<<24|oe[L>>>16&255]<<16|oe[de>>>8&255]<<8|oe[H&255])^J[ue++],ie=(oe[L>>>24]<<24|oe[de>>>16&255]<<16|oe[H>>>8&255]<<8|oe[ee&255])^J[ue++];O[F]=ye,O[F+1]=Te,O[F+2]=Se,O[F+3]=ie},keySize:256/32});u.AES=f._createHelper(B)}(),a.AES})}(v0)),v0.exports}var b0={exports:{}},xs;function Jc(){return xs||(xs=1,function(o,c){(function(a,u,h){o.exports=u(ft(),cn(),ln(),Jr(),Ht())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=h.BlockCipher,C=u.algo,A=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],x=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],m=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],w=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],v=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],S=C.DES=p.extend({_doReset:function(){for(var R=this._key,B=R.words,O=[],F=0;F<56;F++){var J=A[F]-1;O[F]=B[J>>>5]>>>31-J%32&1}for(var $=this._subKeys=[],W=0;W<16;W++){for(var fe=$[W]=[],ae=m[W],F=0;F<24;F++)fe[F/6|0]|=O[(x[F]-1+ae)%28]<<31-F%6,fe[4+(F/6|0)]|=O[28+(x[F+24]-1+ae)%28]<<31-F%6;fe[0]=fe[0]<<1|fe[0]>>>31;for(var F=1;F<7;F++)fe[F]=fe[F]>>>(F-1)*4+3;fe[7]=fe[7]<<5|fe[7]>>>27}for(var oe=this._invSubKeys=[],F=0;F<16;F++)oe[F]=$[15-F]},encryptBlock:function(R,B){this._doCryptBlock(R,B,this._subKeys)},decryptBlock:function(R,B){this._doCryptBlock(R,B,this._invSubKeys)},_doCryptBlock:function(R,B,O){this._lBlock=R[B],this._rBlock=R[B+1],_.call(this,4,252645135),_.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),_.call(this,1,1431655765);for(var F=0;F<16;F++){for(var J=O[F],$=this._lBlock,W=this._rBlock,fe=0,ae=0;ae<8;ae++)fe|=w[ae][((W^J[ae])&v[ae])>>>0];this._lBlock=W,this._rBlock=$^fe}var oe=this._lBlock;this._lBlock=this._rBlock,this._rBlock=oe,_.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),_.call(this,16,65535),_.call(this,4,252645135),R[B]=this._lBlock,R[B+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function _(R,B){var O=(this._lBlock>>>R^this._rBlock)&B;this._rBlock^=O,this._lBlock^=O<<R}function b(R,B){var O=(this._rBlock>>>R^this._lBlock)&B;this._lBlock^=O,this._rBlock^=O<<R}u.DES=p._createHelper(S);var T=C.TripleDES=p.extend({_doReset:function(){var R=this._key,B=R.words;if(B.length!==2&&B.length!==4&&B.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var O=B.slice(0,2),F=B.length<4?B.slice(0,2):B.slice(2,4),J=B.length<6?B.slice(0,2):B.slice(4,6);this._des1=S.createEncryptor(f.create(O)),this._des2=S.createEncryptor(f.create(F)),this._des3=S.createEncryptor(f.create(J))},encryptBlock:function(R,B){this._des1.encryptBlock(R,B),this._des2.decryptBlock(R,B),this._des3.encryptBlock(R,B)},decryptBlock:function(R,B){this._des3.decryptBlock(R,B),this._des2.encryptBlock(R,B),this._des1.decryptBlock(R,B)},keySize:192/32,ivSize:64/32,blockSize:64/32});u.TripleDES=p._createHelper(T)}(),a.TripleDES})}(b0)),b0.exports}var _0={exports:{}},gs;function el(){return gs||(gs=1,function(o,c){(function(a,u,h){o.exports=u(ft(),cn(),ln(),Jr(),Ht())})(et,function(a){return function(){var u=a,h=u.lib,f=h.StreamCipher,p=u.algo,C=p.RC4=f.extend({_doReset:function(){for(var m=this._key,w=m.words,v=m.sigBytes,S=this._S=[],_=0;_<256;_++)S[_]=_;for(var _=0,b=0;_<256;_++){var T=_%v,R=w[T>>>2]>>>24-T%4*8&255;b=(b+S[_]+R)%256;var B=S[_];S[_]=S[b],S[b]=B}this._i=this._j=0},_doProcessBlock:function(m,w){m[w]^=A.call(this)},keySize:256/32,ivSize:0});function A(){for(var m=this._S,w=this._i,v=this._j,S=0,_=0;_<4;_++){w=(w+1)%256,v=(v+m[w])%256;var b=m[w];m[w]=m[v],m[v]=b,S|=m[(m[w]+m[v])%256]<<24-_*8}return this._i=w,this._j=v,S}u.RC4=f._createHelper(C);var x=p.RC4Drop=C.extend({cfg:C.cfg.extend({drop:192}),_doReset:function(){C._doReset.call(this);for(var m=this.cfg.drop;m>0;m--)A.call(this)}});u.RC4Drop=f._createHelper(x)}(),a.RC4})}(_0)),_0.exports}var S0={exports:{}},ps;function tl(){return ps||(ps=1,function(o,c){(function(a,u,h){o.exports=u(ft(),cn(),ln(),Jr(),Ht())})(et,function(a){return function(){var u=a,h=u.lib,f=h.StreamCipher,p=u.algo,C=[],A=[],x=[],m=p.Rabbit=f.extend({_doReset:function(){for(var v=this._key.words,S=this.cfg.iv,_=0;_<4;_++)v[_]=(v[_]<<8|v[_]>>>24)&16711935|(v[_]<<24|v[_]>>>8)&4278255360;var b=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],T=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var _=0;_<4;_++)w.call(this);for(var _=0;_<8;_++)T[_]^=b[_+4&7];if(S){var R=S.words,B=R[0],O=R[1],F=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,J=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,$=F>>>16|J&4294901760,W=J<<16|F&65535;T[0]^=F,T[1]^=$,T[2]^=J,T[3]^=W,T[4]^=F,T[5]^=$,T[6]^=J,T[7]^=W;for(var _=0;_<4;_++)w.call(this)}},_doProcessBlock:function(v,S){var _=this._X;w.call(this),C[0]=_[0]^_[5]>>>16^_[3]<<16,C[1]=_[2]^_[7]>>>16^_[5]<<16,C[2]=_[4]^_[1]>>>16^_[7]<<16,C[3]=_[6]^_[3]>>>16^_[1]<<16;for(var b=0;b<4;b++)C[b]=(C[b]<<8|C[b]>>>24)&16711935|(C[b]<<24|C[b]>>>8)&4278255360,v[S+b]^=C[b]},blockSize:128/32,ivSize:64/32});function w(){for(var v=this._X,S=this._C,_=0;_<8;_++)A[_]=S[_];S[0]=S[0]+1295307597+this._b|0,S[1]=S[1]+3545052371+(S[0]>>>0<A[0]>>>0?1:0)|0,S[2]=S[2]+886263092+(S[1]>>>0<A[1]>>>0?1:0)|0,S[3]=S[3]+1295307597+(S[2]>>>0<A[2]>>>0?1:0)|0,S[4]=S[4]+3545052371+(S[3]>>>0<A[3]>>>0?1:0)|0,S[5]=S[5]+886263092+(S[4]>>>0<A[4]>>>0?1:0)|0,S[6]=S[6]+1295307597+(S[5]>>>0<A[5]>>>0?1:0)|0,S[7]=S[7]+3545052371+(S[6]>>>0<A[6]>>>0?1:0)|0,this._b=S[7]>>>0<A[7]>>>0?1:0;for(var _=0;_<8;_++){var b=v[_]+S[_],T=b&65535,R=b>>>16,B=((T*T>>>17)+T*R>>>15)+R*R,O=((b&4294901760)*b|0)+((b&65535)*b|0);x[_]=B^O}v[0]=x[0]+(x[7]<<16|x[7]>>>16)+(x[6]<<16|x[6]>>>16)|0,v[1]=x[1]+(x[0]<<8|x[0]>>>24)+x[7]|0,v[2]=x[2]+(x[1]<<16|x[1]>>>16)+(x[0]<<16|x[0]>>>16)|0,v[3]=x[3]+(x[2]<<8|x[2]>>>24)+x[1]|0,v[4]=x[4]+(x[3]<<16|x[3]>>>16)+(x[2]<<16|x[2]>>>16)|0,v[5]=x[5]+(x[4]<<8|x[4]>>>24)+x[3]|0,v[6]=x[6]+(x[5]<<16|x[5]>>>16)+(x[4]<<16|x[4]>>>16)|0,v[7]=x[7]+(x[6]<<8|x[6]>>>24)+x[5]|0}u.Rabbit=f._createHelper(m)}(),a.Rabbit})}(S0)),S0.exports}var I0={exports:{}},ms;function rl(){return ms||(ms=1,function(o,c){(function(a,u,h){o.exports=u(ft(),cn(),ln(),Jr(),Ht())})(et,function(a){return function(){var u=a,h=u.lib,f=h.StreamCipher,p=u.algo,C=[],A=[],x=[],m=p.RabbitLegacy=f.extend({_doReset:function(){var v=this._key.words,S=this.cfg.iv,_=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],b=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var T=0;T<4;T++)w.call(this);for(var T=0;T<8;T++)b[T]^=_[T+4&7];if(S){var R=S.words,B=R[0],O=R[1],F=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,J=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,$=F>>>16|J&4294901760,W=J<<16|F&65535;b[0]^=F,b[1]^=$,b[2]^=J,b[3]^=W,b[4]^=F,b[5]^=$,b[6]^=J,b[7]^=W;for(var T=0;T<4;T++)w.call(this)}},_doProcessBlock:function(v,S){var _=this._X;w.call(this),C[0]=_[0]^_[5]>>>16^_[3]<<16,C[1]=_[2]^_[7]>>>16^_[5]<<16,C[2]=_[4]^_[1]>>>16^_[7]<<16,C[3]=_[6]^_[3]>>>16^_[1]<<16;for(var b=0;b<4;b++)C[b]=(C[b]<<8|C[b]>>>24)&16711935|(C[b]<<24|C[b]>>>8)&4278255360,v[S+b]^=C[b]},blockSize:128/32,ivSize:64/32});function w(){for(var v=this._X,S=this._C,_=0;_<8;_++)A[_]=S[_];S[0]=S[0]+1295307597+this._b|0,S[1]=S[1]+3545052371+(S[0]>>>0<A[0]>>>0?1:0)|0,S[2]=S[2]+886263092+(S[1]>>>0<A[1]>>>0?1:0)|0,S[3]=S[3]+1295307597+(S[2]>>>0<A[2]>>>0?1:0)|0,S[4]=S[4]+3545052371+(S[3]>>>0<A[3]>>>0?1:0)|0,S[5]=S[5]+886263092+(S[4]>>>0<A[4]>>>0?1:0)|0,S[6]=S[6]+1295307597+(S[5]>>>0<A[5]>>>0?1:0)|0,S[7]=S[7]+3545052371+(S[6]>>>0<A[6]>>>0?1:0)|0,this._b=S[7]>>>0<A[7]>>>0?1:0;for(var _=0;_<8;_++){var b=v[_]+S[_],T=b&65535,R=b>>>16,B=((T*T>>>17)+T*R>>>15)+R*R,O=((b&4294901760)*b|0)+((b&65535)*b|0);x[_]=B^O}v[0]=x[0]+(x[7]<<16|x[7]>>>16)+(x[6]<<16|x[6]>>>16)|0,v[1]=x[1]+(x[0]<<8|x[0]>>>24)+x[7]|0,v[2]=x[2]+(x[1]<<16|x[1]>>>16)+(x[0]<<16|x[0]>>>16)|0,v[3]=x[3]+(x[2]<<8|x[2]>>>24)+x[1]|0,v[4]=x[4]+(x[3]<<16|x[3]>>>16)+(x[2]<<16|x[2]>>>16)|0,v[5]=x[5]+(x[4]<<8|x[4]>>>24)+x[3]|0,v[6]=x[6]+(x[5]<<16|x[5]>>>16)+(x[4]<<16|x[4]>>>16)|0,v[7]=x[7]+(x[6]<<8|x[6]>>>24)+x[5]|0}u.RabbitLegacy=f._createHelper(m)}(),a.RabbitLegacy})}(I0)),I0.exports}var D0={exports:{}},Cs;function nl(){return Cs||(Cs=1,function(o,c){(function(a,u,h){o.exports=u(ft(),cn(),ln(),Jr(),Ht())})(et,function(a){return function(){var u=a,h=u.lib,f=h.BlockCipher,p=u.algo;const C=16,A=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],x=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var m={pbox:[],sbox:[]};function w(T,R){let B=R>>24&255,O=R>>16&255,F=R>>8&255,J=R&255,$=T.sbox[0][B]+T.sbox[1][O];return $=$^T.sbox[2][F],$=$+T.sbox[3][J],$}function v(T,R,B){let O=R,F=B,J;for(let $=0;$<C;++$)O=O^T.pbox[$],F=w(T,O)^F,J=O,O=F,F=J;return J=O,O=F,F=J,F=F^T.pbox[C],O=O^T.pbox[C+1],{left:O,right:F}}function S(T,R,B){let O=R,F=B,J;for(let $=C+1;$>1;--$)O=O^T.pbox[$],F=w(T,O)^F,J=O,O=F,F=J;return J=O,O=F,F=J,F=F^T.pbox[1],O=O^T.pbox[0],{left:O,right:F}}function _(T,R,B){for(let W=0;W<4;W++){T.sbox[W]=[];for(let fe=0;fe<256;fe++)T.sbox[W][fe]=x[W][fe]}let O=0;for(let W=0;W<C+2;W++)T.pbox[W]=A[W]^R[O],O++,O>=B&&(O=0);let F=0,J=0,$=0;for(let W=0;W<C+2;W+=2)$=v(T,F,J),F=$.left,J=$.right,T.pbox[W]=F,T.pbox[W+1]=J;for(let W=0;W<4;W++)for(let fe=0;fe<256;fe+=2)$=v(T,F,J),F=$.left,J=$.right,T.sbox[W][fe]=F,T.sbox[W][fe+1]=J;return!0}var b=p.Blowfish=f.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var T=this._keyPriorReset=this._key,R=T.words,B=T.sigBytes/4;_(m,R,B)}},encryptBlock:function(T,R){var B=v(m,T[R],T[R+1]);T[R]=B.left,T[R+1]=B.right},decryptBlock:function(T,R){var B=S(m,T[R],T[R+1]);T[R]=B.left,T[R+1]=B.right},blockSize:64/32,keySize:128/32,ivSize:64/32});u.Blowfish=f._createHelper(b)}(),a.Blowfish})}(D0)),D0.exports}(function(o,c){(function(a,u,h){o.exports=u(ft(),_i(),Mc(),Rc(),cn(),Fc(),ln(),ha(),K0(),Lc(),da(),kc(),Pc(),Uc(),J0(),Hc(),Jr(),Ht(),zc(),jc(),Wc(),Vc(),Gc(),Xc(),Yc(),qc(),$c(),Zc(),Qc(),Kc(),Jc(),el(),tl(),rl(),nl())})(et,function(a){return a})})(fa);var il=fa.exports;const Or=ua(il);var ol=function(o){var c={};function a(u){if(c[u])return c[u].exports;var h=c[u]={i:u,l:!1,exports:{}};return o[u].call(h.exports,h,h.exports,a),h.l=!0,h.exports}return a.m=o,a.c=c,a.d=function(u,h,f){a.o(u,h)||Object.defineProperty(u,h,{enumerable:!0,get:f})},a.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},a.t=function(u,h){if(1&h&&(u=a(u)),8&h||4&h&&typeof u=="object"&&u&&u.__esModule)return u;var f=Object.create(null);if(a.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&typeof u!="string")for(var p in u)a.d(f,p,function(C){return u[C]}.bind(null,p));return f},a.n=function(u){var h=u&&u.__esModule?function(){return u.default}:function(){return u};return a.d(h,"a",h),h},a.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},a.p="",a(a.s=9)}([function(o,c){o.exports={L:1,M:0,Q:3,H:2}},function(o,c){o.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},function(o,c,a){var u=a(3);function h(f,p){if(f.length==null)throw new Error(f.length+"/"+p);for(var C=0;C<f.length&&f[C]==0;)C++;this.num=new Array(f.length-C+p);for(var A=0;A<f.length-C;A++)this.num[A]=f[A+C]}h.prototype={get:function(f){return this.num[f]},getLength:function(){return this.num.length},multiply:function(f){for(var p=new Array(this.getLength()+f.getLength()-1),C=0;C<this.getLength();C++)for(var A=0;A<f.getLength();A++)p[C+A]^=u.gexp(u.glog(this.get(C))+u.glog(f.get(A)));return new h(p,0)},mod:function(f){if(this.getLength()-f.getLength()<0)return this;for(var p=u.glog(this.get(0))-u.glog(f.get(0)),C=new Array(this.getLength()),A=0;A<this.getLength();A++)C[A]=this.get(A);for(A=0;A<f.getLength();A++)C[A]^=u.gexp(u.glog(f.get(A))+p);return new h(C,0).mod(f)}},o.exports=h},function(o,c){for(var a={glog:function(h){if(h<1)throw new Error("glog("+h+")");return a.LOG_TABLE[h]},gexp:function(h){for(;h<0;)h+=255;for(;h>=256;)h-=255;return a.EXP_TABLE[h]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},u=0;u<8;u++)a.EXP_TABLE[u]=1<<u;for(u=8;u<256;u++)a.EXP_TABLE[u]=a.EXP_TABLE[u-4]^a.EXP_TABLE[u-5]^a.EXP_TABLE[u-6]^a.EXP_TABLE[u-8];for(u=0;u<255;u++)a.LOG_TABLE[a.EXP_TABLE[u]]=u;o.exports=a},function(o,c,a){var u=a(5),h=a(6),f=a(7),p=a(8),C=a(2);function A(m,w){this.typeNumber=m,this.errorCorrectLevel=w,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var x=A.prototype;x.addData=function(m){var w=new u(m);this.dataList.push(w),this.dataCache=null},x.isDark=function(m,w){if(m<0||this.moduleCount<=m||w<0||this.moduleCount<=w)throw new Error(m+","+w);return this.modules[m][w]},x.getModuleCount=function(){return this.moduleCount},x.make=function(){if(this.typeNumber<1){var m=1;for(m=1;m<40;m++){for(var w=h.getRSBlocks(m,this.errorCorrectLevel),v=new f,S=0,_=0;_<w.length;_++)S+=w[_].dataCount;for(_=0;_<this.dataList.length;_++){var b=this.dataList[_];v.put(b.mode,4),v.put(b.getLength(),p.getLengthInBits(b.mode,m)),b.write(v)}if(v.getLengthInBits()<=8*S)break}this.typeNumber=m}this.makeImpl(!1,this.getBestMaskPattern())},x.makeImpl=function(m,w){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var v=0;v<this.moduleCount;v++){this.modules[v]=new Array(this.moduleCount);for(var S=0;S<this.moduleCount;S++)this.modules[v][S]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(m,w),this.typeNumber>=7&&this.setupTypeNumber(m),this.dataCache==null&&(this.dataCache=A.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,w)},x.setupPositionProbePattern=function(m,w){for(var v=-1;v<=7;v++)if(!(m+v<=-1||this.moduleCount<=m+v))for(var S=-1;S<=7;S++)w+S<=-1||this.moduleCount<=w+S||(this.modules[m+v][w+S]=0<=v&&v<=6&&(S==0||S==6)||0<=S&&S<=6&&(v==0||v==6)||2<=v&&v<=4&&2<=S&&S<=4)},x.getBestMaskPattern=function(){for(var m=0,w=0,v=0;v<8;v++){this.makeImpl(!0,v);var S=p.getLostPoint(this);(v==0||m>S)&&(m=S,w=v)}return w},x.createMovieClip=function(m,w,v){var S=m.createEmptyMovieClip(w,v);this.make();for(var _=0;_<this.modules.length;_++)for(var b=1*_,T=0;T<this.modules[_].length;T++){var R=1*T;this.modules[_][T]&&(S.beginFill(0,100),S.moveTo(R,b),S.lineTo(R+1,b),S.lineTo(R+1,b+1),S.lineTo(R,b+1),S.endFill())}return S},x.setupTimingPattern=function(){for(var m=8;m<this.moduleCount-8;m++)this.modules[m][6]==null&&(this.modules[m][6]=m%2==0);for(var w=8;w<this.moduleCount-8;w++)this.modules[6][w]==null&&(this.modules[6][w]=w%2==0)},x.setupPositionAdjustPattern=function(){for(var m=p.getPatternPosition(this.typeNumber),w=0;w<m.length;w++)for(var v=0;v<m.length;v++){var S=m[w],_=m[v];if(this.modules[S][_]==null)for(var b=-2;b<=2;b++)for(var T=-2;T<=2;T++)this.modules[S+b][_+T]=b==-2||b==2||T==-2||T==2||b==0&&T==0}},x.setupTypeNumber=function(m){for(var w=p.getBCHTypeNumber(this.typeNumber),v=0;v<18;v++){var S=!m&&(w>>v&1)==1;this.modules[Math.floor(v/3)][v%3+this.moduleCount-8-3]=S}for(v=0;v<18;v++)S=!m&&(w>>v&1)==1,this.modules[v%3+this.moduleCount-8-3][Math.floor(v/3)]=S},x.setupTypeInfo=function(m,w){for(var v=this.errorCorrectLevel<<3|w,S=p.getBCHTypeInfo(v),_=0;_<15;_++){var b=!m&&(S>>_&1)==1;_<6?this.modules[_][8]=b:_<8?this.modules[_+1][8]=b:this.modules[this.moduleCount-15+_][8]=b}for(_=0;_<15;_++)b=!m&&(S>>_&1)==1,_<8?this.modules[8][this.moduleCount-_-1]=b:_<9?this.modules[8][15-_-1+1]=b:this.modules[8][15-_-1]=b;this.modules[this.moduleCount-8][8]=!m},x.mapData=function(m,w){for(var v=-1,S=this.moduleCount-1,_=7,b=0,T=this.moduleCount-1;T>0;T-=2)for(T==6&&T--;;){for(var R=0;R<2;R++)if(this.modules[S][T-R]==null){var B=!1;b<m.length&&(B=(m[b]>>>_&1)==1),p.getMask(w,S,T-R)&&(B=!B),this.modules[S][T-R]=B,--_==-1&&(b++,_=7)}if((S+=v)<0||this.moduleCount<=S){S-=v,v=-v;break}}},A.PAD0=236,A.PAD1=17,A.createData=function(m,w,v){for(var S=h.getRSBlocks(m,w),_=new f,b=0;b<v.length;b++){var T=v[b];_.put(T.mode,4),_.put(T.getLength(),p.getLengthInBits(T.mode,m)),T.write(_)}var R=0;for(b=0;b<S.length;b++)R+=S[b].dataCount;if(_.getLengthInBits()>8*R)throw new Error("code length overflow. ("+_.getLengthInBits()+">"+8*R+")");for(_.getLengthInBits()+4<=8*R&&_.put(0,4);_.getLengthInBits()%8!=0;)_.putBit(!1);for(;!(_.getLengthInBits()>=8*R||(_.put(A.PAD0,8),_.getLengthInBits()>=8*R));)_.put(A.PAD1,8);return A.createBytes(_,S)},A.createBytes=function(m,w){for(var v=0,S=0,_=0,b=new Array(w.length),T=new Array(w.length),R=0;R<w.length;R++){var B=w[R].dataCount,O=w[R].totalCount-B;S=Math.max(S,B),_=Math.max(_,O),b[R]=new Array(B);for(var F=0;F<b[R].length;F++)b[R][F]=255&m.buffer[F+v];v+=B;var J=p.getErrorCorrectPolynomial(O),$=new C(b[R],J.getLength()-1).mod(J);for(T[R]=new Array(J.getLength()-1),F=0;F<T[R].length;F++){var W=F+$.getLength()-T[R].length;T[R][F]=W>=0?$.get(W):0}}var fe=0;for(F=0;F<w.length;F++)fe+=w[F].totalCount;var ae=new Array(fe),oe=0;for(F=0;F<S;F++)for(R=0;R<w.length;R++)F<b[R].length&&(ae[oe++]=b[R][F]);for(F=0;F<_;F++)for(R=0;R<w.length;R++)F<T[R].length&&(ae[oe++]=T[R][F]);return ae},o.exports=A},function(o,c,a){var u=a(1);function h(f){this.mode=u.MODE_8BIT_BYTE,this.data=f}h.prototype={getLength:function(f){return this.data.length},write:function(f){for(var p=0;p<this.data.length;p++)f.put(this.data.charCodeAt(p),8)}},o.exports=h},function(o,c,a){var u=a(0);function h(f,p){this.totalCount=f,this.dataCount=p}h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(f,p){var C=h.getRsBlockTable(f,p);if(C==null)throw new Error("bad rs block @ typeNumber:"+f+"/errorCorrectLevel:"+p);for(var A=C.length/3,x=new Array,m=0;m<A;m++)for(var w=C[3*m+0],v=C[3*m+1],S=C[3*m+2],_=0;_<w;_++)x.push(new h(v,S));return x},h.getRsBlockTable=function(f,p){switch(p){case u.L:return h.RS_BLOCK_TABLE[4*(f-1)+0];case u.M:return h.RS_BLOCK_TABLE[4*(f-1)+1];case u.Q:return h.RS_BLOCK_TABLE[4*(f-1)+2];case u.H:return h.RS_BLOCK_TABLE[4*(f-1)+3];default:return}},o.exports=h},function(o,c){function a(){this.buffer=new Array,this.length=0}a.prototype={get:function(u){var h=Math.floor(u/8);return(this.buffer[h]>>>7-u%8&1)==1},put:function(u,h){for(var f=0;f<h;f++)this.putBit((u>>>h-f-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(u){var h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),u&&(this.buffer[h]|=128>>>this.length%8),this.length++}},o.exports=a},function(o,c,a){var u=a(1),h=a(2),f=a(3),p=0,C=1,A=2,x=3,m=4,w=5,v=6,S=7,_={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(b){for(var T=b<<10;_.getBCHDigit(T)-_.getBCHDigit(_.G15)>=0;)T^=_.G15<<_.getBCHDigit(T)-_.getBCHDigit(_.G15);return(b<<10|T)^_.G15_MASK},getBCHTypeNumber:function(b){for(var T=b<<12;_.getBCHDigit(T)-_.getBCHDigit(_.G18)>=0;)T^=_.G18<<_.getBCHDigit(T)-_.getBCHDigit(_.G18);return b<<12|T},getBCHDigit:function(b){for(var T=0;b!=0;)T++,b>>>=1;return T},getPatternPosition:function(b){return _.PATTERN_POSITION_TABLE[b-1]},getMask:function(b,T,R){switch(b){case p:return(T+R)%2==0;case C:return T%2==0;case A:return R%3==0;case x:return(T+R)%3==0;case m:return(Math.floor(T/2)+Math.floor(R/3))%2==0;case w:return T*R%2+T*R%3==0;case v:return(T*R%2+T*R%3)%2==0;case S:return(T*R%3+(T+R)%2)%2==0;default:throw new Error("bad maskPattern:"+b)}},getErrorCorrectPolynomial:function(b){for(var T=new h([1],0),R=0;R<b;R++)T=T.multiply(new h([1,f.gexp(R)],0));return T},getLengthInBits:function(b,T){if(1<=T&&T<10)switch(b){case u.MODE_NUMBER:return 10;case u.MODE_ALPHA_NUM:return 9;case u.MODE_8BIT_BYTE:case u.MODE_KANJI:return 8;default:throw new Error("mode:"+b)}else if(T<27)switch(b){case u.MODE_NUMBER:return 12;case u.MODE_ALPHA_NUM:return 11;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 10;default:throw new Error("mode:"+b)}else{if(!(T<41))throw new Error("type:"+T);switch(b){case u.MODE_NUMBER:return 14;case u.MODE_ALPHA_NUM:return 13;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 12;default:throw new Error("mode:"+b)}}},getLostPoint:function(b){for(var T=b.getModuleCount(),R=0,B=0;B<T;B++)for(var O=0;O<T;O++){for(var F=0,J=b.isDark(B,O),$=-1;$<=1;$++)if(!(B+$<0||T<=B+$))for(var W=-1;W<=1;W++)O+W<0||T<=O+W||$==0&&W==0||J==b.isDark(B+$,O+W)&&F++;F>5&&(R+=3+F-5)}for(B=0;B<T-1;B++)for(O=0;O<T-1;O++){var fe=0;b.isDark(B,O)&&fe++,b.isDark(B+1,O)&&fe++,b.isDark(B,O+1)&&fe++,b.isDark(B+1,O+1)&&fe++,fe!=0&&fe!=4||(R+=3)}for(B=0;B<T;B++)for(O=0;O<T-6;O++)b.isDark(B,O)&&!b.isDark(B,O+1)&&b.isDark(B,O+2)&&b.isDark(B,O+3)&&b.isDark(B,O+4)&&!b.isDark(B,O+5)&&b.isDark(B,O+6)&&(R+=40);for(O=0;O<T;O++)for(B=0;B<T-6;B++)b.isDark(B,O)&&!b.isDark(B+1,O)&&b.isDark(B+2,O)&&b.isDark(B+3,O)&&b.isDark(B+4,O)&&!b.isDark(B+5,O)&&b.isDark(B+6,O)&&(R+=40);var ae=0;for(O=0;O<T;O++)for(B=0;B<T;B++)b.isDark(B,O)&&ae++;return R+=10*(Math.abs(100*ae/T/T-50)/5)}};o.exports=_},function(o,c,a){function u(ne){return function(Q){if(Array.isArray(Q)){for(var K=0,xe=new Array(Q.length);K<Q.length;K++)xe[K]=Q[K];return xe}}(ne)||function(Q){if(Symbol.iterator in Object(Q)||Object.prototype.toString.call(Q)==="[object Arguments]")return Array.from(Q)}(ne)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(ne,Q){for(var K=0;K<Q.length;K++){var xe=Q[K];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ne,xe.key,xe)}}a.r(c);var f=function(){function ne(){(function(le,Y){if(!(le instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,ne)}var Q,K,xe;return Q=ne,xe=[{key:"convertHexColorToBytes",value:function(le){var Y=[],ge=le.replace("#","");if(!/^[0-9A-F]{3,8}$/i.test(ge))return[0,0,0,0];switch(ge.length){case 3:ge+="F";case 4:Y.push.apply(Y,u(ge.split("").map(function(Ae){return parseInt(Ae.repeat(2),16)})));break;case 6:ge+="FF";case 8:Y.push(parseInt(ge.substr(0,2),16)),Y.push(parseInt(ge.substr(2,2),16)),Y.push(parseInt(ge.substr(4,2),16)),Y.push(parseInt(ge.substr(6,2),16));break;default:Y.push(0,0,0,0)}return Y}}],(K=null)&&h(Q.prototype,K),xe&&h(Q,xe),ne}(),p=a(4),C=a.n(p),A=a(0),x=a.n(A);function m(ne){return function(Q){if(Array.isArray(Q)){for(var K=0,xe=new Array(Q.length);K<Q.length;K++)xe[K]=Q[K];return xe}}(ne)||function(Q){if(Symbol.iterator in Object(Q)||Object.prototype.toString.call(Q)==="[object Arguments]")return Array.from(Q)}(ne)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(ne,Q){for(var K=0;K<Q.length;K++){var xe=Q[K];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ne,xe.key,xe)}}function v(ne,Q,K){return Q in ne?Object.defineProperty(ne,Q,{value:K,enumerable:!0,configurable:!0,writable:!0}):ne[Q]=K,ne}var S={level:"L",padding:1,invert:!1,typeNumber:0,errorsEnabled:!1},_=function(){function ne(xe){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(ge,Ae){if(!(ge instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,ne),v(this,"value",void 0),v(this,"level",void 0),v(this,"typeNumber",void 0),v(this,"padding",void 0),v(this,"errorsEnabled",void 0),v(this,"qrCodeData",void 0);var Y=function(ge){for(var Ae=1;Ae<arguments.length;Ae++){var Me=arguments[Ae]!=null?arguments[Ae]:{},Re=Object.keys(Me);typeof Object.getOwnPropertySymbols=="function"&&(Re=Re.concat(Object.getOwnPropertySymbols(Me).filter(function(Ie){return Object.getOwnPropertyDescriptor(Me,Ie).enumerable}))),Re.forEach(function(Ie){v(ge,Ie,Me[Ie])})}return ge}({},S,le);this.value=xe,this.level=Y.level,this.typeNumber=Y.typeNumber,this.padding=Y.padding,this.invert=Y.invert,this.errorsEnabled=Y.errorsEnabled}var Q,K;return Q=ne,(K=[{key:"setValue",value:function(xe){this.value=xe,this._clearCache()}},{key:"getDataSize",value:function(){var xe=this.getData();return xe?xe.length:0}},{key:"_clearCache",value:function(){this.qrCodeData=null}},{key:"_getQrCodeData",value:function(xe){var le=[],Y=this.padding,ge=this.invert,Ae=Array(2*Y+xe.length).fill(ge),Me=Array(Y).fill(Ae),Re=Array(Y).fill(ge);return Y&&le.push.apply(le,m(Me)),xe.forEach(function(Ie){var ze=[];ze.push.apply(ze,m(Re).concat(m(Ie.map(function(He){return ge?!He:He})),m(Re))),le.push(ze)}),Y&&le.push.apply(le,m(Me)),le}},{key:"getData",value:function(){if(!this.qrCodeData)try{var xe=new C.a(this.typeNumber,x.a[this.level]);if(xe.addData(this.value),xe.make(),!xe.modules)return null;this.qrCodeData=this._getQrCodeData(xe.modules),Object.freeze(this.qrCodeData)}catch(le){if(this.errorsEnabled)throw le;return null}return this.qrCodeData}}])&&w(Q.prototype,K),ne}();function b(ne,Q){for(var K=0;K<Q.length;K++){var xe=Q[K];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ne,xe.key,xe)}}var T=function(){function ne(){(function(le,Y){if(!(le instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,ne)}var Q,K,xe;return Q=ne,xe=[{key:"calculateDimension",value:function(le,Y){return typeof le=="number"?le:typeof le=="string"&&le.indexOf("%")>0?Math.round(parseFloat(le)/100*Y)||0:parseFloat(le)||0}},{key:"calculatePosition",value:function(le,Y,ge){if(typeof le=="number")return le;if(typeof le!="string"||le==="left"||le==="top")return 0;if(le==="right"||le==="bottom")return ge-Y;if(le==="center")return Math.round((ge-Y)/2);var Ae=le.match(/^(?:(right|bottom|left|top)\s+)?(-?[0-9.]+)(%)?$/);if(!Ae)return 0;var Me=Ae[1]==="right"||Ae[1]==="bottom",Re=!!Ae[3],Ie=parseFloat(Ae[2])||0;return Re&&(Ie=Math.round(Ie/100*ge)),Me&&(Ie=ge-Ie-Y),Math.round(Ie)}}],(K=null)&&b(Q.prototype,K),xe&&b(Q,xe),ne}();function R(ne){return(R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ne)}function B(ne,Q){for(var K=0;K<Q.length;K++){var xe=Q[K];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ne,xe.key,xe)}}function O(ne,Q,K){return(O=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(xe,le,Y){var ge=function(Me,Re){for(;!Object.prototype.hasOwnProperty.call(Me,Re)&&(Me=F(Me))!==null;);return Me}(xe,le);if(ge){var Ae=Object.getOwnPropertyDescriptor(ge,le);return Ae.get?Ae.get.call(Y):Ae.value}})(ne,Q,K||ne)}function F(ne){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ne)}function J(ne,Q){return(J=Object.setPrototypeOf||function(K,xe){return K.__proto__=xe,K})(ne,Q)}function $(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function W(ne,Q,K){return Q in ne?Object.defineProperty(ne,Q,{value:K,enumerable:!0,configurable:!0,writable:!0}):ne[Q]=K,ne}var fe={image:null},ae=function(ne){function Q(le){var Y,ge,Ae,Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(Ie,ze){if(!(Ie instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,Q),ge=this,Y=!(Ae=F(Q).call(this,le,Me))||R(Ae)!=="object"&&typeof Ae!="function"?$(ge):Ae,W($($(Y)),"image",null),W($($(Y)),"imageConfig",null);var Re=function(Ie){for(var ze=1;ze<arguments.length;ze++){var He=arguments[ze]!=null?arguments[ze]:{},Ye=Object.keys(He);typeof Object.getOwnPropertySymbols=="function"&&(Ye=Ye.concat(Object.getOwnPropertySymbols(He).filter(function(We){return Object.getOwnPropertyDescriptor(He,We).enumerable}))),Ye.forEach(function(We){W(Ie,We,He[We])})}return Ie}({},fe,Me);return Y.image=Re.image,Y}var K,xe;return function(le,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Y&&Y.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Y&&J(le,Y)}(Q,_),K=Q,(xe=[{key:"_clearCache",value:function(){O(F(Q.prototype),"_clearCache",this).call(this),this.imageConfig=null}},{key:"_getImageSource",value:function(le){var Y=le.source;return typeof Y=="string"?Y:Y instanceof Image?Y.src:Y instanceof HTMLCanvasElement?Y.toDataURL():null}},{key:"_getImageConfig",value:function(){if(this.imageConfig)return this.imageConfig;if(!(this.image&&this.image.source&&this.image.width&&this.image.height))return null;var le=this.getDataSize();if(!le)return null;var Y=this._getImageSource(this.image);if(!Y)return null;var ge=le-2*this.padding,Ae=T.calculateDimension(this.image.width,ge),Me=T.calculateDimension(this.image.height,ge),Re=T.calculatePosition(this.image.x,Ae,ge)+this.padding,Ie=T.calculatePosition(this.image.y,Me,ge)+this.padding,ze=1;return typeof this.image.border!="number"&&this.image.border!==null||(ze=this.image.border),this.imageConfig={source:Y,border:ze,x:Re,y:Ie,width:Ae,height:Me},this.imageConfig}},{key:"getData",value:function(){if(this.qrCodeData)return this.qrCodeData;var le=O(F(Q.prototype),"getData",this).call(this);if(!le)return le;var Y=this._getImageConfig();if(Y&&Y.width&&Y.height&&typeof Y.border=="number")for(var ge=Math.max(Y.x-Y.border,0),Ae=Math.max(Y.y-Y.border,0),Me=Math.min(ge+Y.width+2*Y.border,le.length),Re=Math.min(Ae+Y.height+2*Y.border,le.length),Ie=Ae;Ie<Re;Ie+=1)for(var ze=ge;ze<Me;ze+=1)le[Ie][ze]=!!this.invert;return le}}])&&B(K.prototype,xe),Q}();function oe(ne,Q){for(var K=0;K<Q.length;K++){var xe=Q[K];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ne,xe.key,xe)}}var he=function(){function ne(){(function(le,Y){if(!(le instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,ne)}var Q,K,xe;return Q=ne,xe=[{key:"load",value:function(le){return new Promise(function(Y,ge){var Ae=new Image;Ae.onload=function(){return Y(Ae)},Ae.onerror=function(){return ge(Ae)},Ae.src=le})}}],(K=null)&&oe(Q.prototype,K),xe&&oe(Q,xe),ne}();function de(ne){return(de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ne)}function H(ne,Q){for(var K=0;K<Q.length;K++){var xe=Q[K];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ne,xe.key,xe)}}function ee(ne,Q,K){return(ee=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(xe,le,Y){var ge=function(Me,Re){for(;!Object.prototype.hasOwnProperty.call(Me,Re)&&(Me=L(Me))!==null;);return Me}(xe,le);if(ge){var Ae=Object.getOwnPropertyDescriptor(ge,le);return Ae.get?Ae.get.call(Y):Ae.value}})(ne,Q,K||ne)}function L(ne){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ne)}function ue(ne,Q){return(ue=Object.setPrototypeOf||function(K,xe){return K.__proto__=xe,K})(ne,Q)}function Z(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function ye(ne,Q,K){return Q in ne?Object.defineProperty(ne,Q,{value:K,enumerable:!0,configurable:!0,writable:!0}):ne[Q]=K,ne}var Te={fgColor:"#000",bgColor:"#FFF",scale:10,size:null},Se=function(ne){function Q(le){var Y,ge,Ae,Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(Ie,ze){if(!(Ie instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,Q),ge=this,Y=!(Ae=L(Q).call(this,le,Me))||de(Ae)!=="object"&&typeof Ae!="function"?Z(ge):Ae,ye(Z(Z(Y)),"fgColor",void 0),ye(Z(Z(Y)),"bgColor",void 0),ye(Z(Z(Y)),"scale",void 0),ye(Z(Z(Y)),"size",void 0),ye(Z(Z(Y)),"canvas",void 0),ye(Z(Z(Y)),"canvasContext",void 0);var Re=function(Ie){for(var ze=1;ze<arguments.length;ze++){var He=arguments[ze]!=null?arguments[ze]:{},Ye=Object.keys(He);typeof Object.getOwnPropertySymbols=="function"&&(Ye=Ye.concat(Object.getOwnPropertySymbols(He).filter(function(We){return Object.getOwnPropertyDescriptor(He,We).enumerable}))),Ye.forEach(function(We){ye(Ie,We,He[We])})}return Ie}({},Te,Me);return Y.fgColor=Re.fgColor,Y.bgColor=Re.bgColor,Y.scale=Re.scale,Y.size=Re.size,Y.canvas=document.createElement("canvas"),Y.canvasContext=Y.canvas.getContext("2d"),Y.toDataURL=Y.toDataUrl,Y}var K,xe;return function(le,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Y&&Y.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Y&&ue(le,Y)}(Q,ae),K=Q,(xe=[{key:"_clearCache",value:function(){ee(L(Q.prototype),"_clearCache",this).call(this),this.canvas.width=0}},{key:"_getCanvasSize",value:function(){var le=this.getDataSize();return le?this.size?this.size:this.scale?this.scale*le:le:null}},{key:"draw",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Y=this.getDataSize();if(!Y)return null;var ge=this.getData();if(!ge)return null;var Ae=f.convertHexColorToBytes(this.fgColor),Me=f.convertHexColorToBytes(this.bgColor),Re=0,Ie=new Uint8ClampedArray(4*Math.pow(Y,2));ge.forEach(function(ot){ot.forEach(function(at){at?Ie.set(Ae,Re):Ie.set(Me,Re),Re+=4})});var ze=new ImageData(Ie,Y,Y);this.canvas.width=Y,this.canvas.height=Y,this.canvasContext.putImageData(ze,0,0);var He=this._getCanvasSize(),Ye=le||document.createElement("canvas");Ye.width=He,Ye.height=He;var We=Ye.getContext("2d");We.imageSmoothingEnabled=!1,We.drawImage(this.canvas,0,0,He,He);var Ne=this._drawImage(We,He/Y);return Ne instanceof Promise?Ne.then(function(){return Ye}):Ye}},{key:"_getImageSource",value:function(le){var Y=this,ge=le.source;return typeof ge=="string"?he.load(ge).then(function(Ae){return Y.image.source=Ae,le.source=Ae,Ae}):ge instanceof Image||ge instanceof HTMLCanvasElement?ge:null}},{key:"_drawImage",value:function(le,Y){var ge=this._getImageConfig();return ge?ge.source instanceof Promise?ge.source.then(function(Ae){le.drawImage(Ae,ge.x*Y,ge.y*Y,ge.width*Y,ge.height*Y)}):(le.drawImage(ge.source,ge.x*Y,ge.y*Y,ge.width*Y,ge.height*Y),!0):null}},{key:"getCanvas",value:function(){return this.draw()}},{key:"toDataUrl",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.92,ge=this.draw();return ge?ge instanceof Promise?ge.then(function(Ae){return Ae.toDataURL(le,Y)}):ge.toDataURL(le,Y):null}}])&&H(K.prototype,xe),Q}();function ie(ne){return(ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ne)}function Ee(ne,Q){for(var K=0;K<Q.length;K++){var xe=Q[K];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ne,xe.key,xe)}}function G(ne,Q,K){return(G=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(xe,le,Y){var ge=function(Me,Re){for(;!Object.prototype.hasOwnProperty.call(Me,Re)&&(Me=E(Me))!==null;);return Me}(xe,le);if(ge){var Ae=Object.getOwnPropertyDescriptor(ge,le);return Ae.get?Ae.get.call(Y):Ae.value}})(ne,Q,K||ne)}function E(ne){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ne)}function z(ne,Q){return(z=Object.setPrototypeOf||function(K,xe){return K.__proto__=xe,K})(ne,Q)}function M(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function X(ne,Q,K){return Q in ne?Object.defineProperty(ne,Q,{value:K,enumerable:!0,configurable:!0,writable:!0}):ne[Q]=K,ne}var V={fgColor:"#000",bgColor:"#FFF"},re=function(ne){function Q(le){var Y,ge,Ae,Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(Ie,ze){if(!(Ie instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,Q),ge=this,Y=!(Ae=E(Q).call(this,le,Me))||ie(Ae)!=="object"&&typeof Ae!="function"?M(ge):Ae,X(M(M(Y)),"fgColor",void 0),X(M(M(Y)),"bgColor",void 0),X(M(M(Y)),"qrCodeSVG",null),X(M(M(Y)),"qrCodeDataUrl",null);var Re=function(Ie){for(var ze=1;ze<arguments.length;ze++){var He=arguments[ze]!=null?arguments[ze]:{},Ye=Object.keys(He);typeof Object.getOwnPropertySymbols=="function"&&(Ye=Ye.concat(Object.getOwnPropertySymbols(He).filter(function(We){return Object.getOwnPropertyDescriptor(He,We).enumerable}))),Ye.forEach(function(We){X(Ie,We,He[We])})}return Ie}({},V,Me);return Y.fgColor=Re.fgColor,Y.bgColor=Re.bgColor,Y.toDataURL=Y.toDataUrl,Y}var K,xe;return function(le,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Y&&Y.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Y&&z(le,Y)}(Q,ae),K=Q,(xe=[{key:"_clearCache",value:function(){G(E(Q.prototype),"_clearCache",this).call(this),this.qrCodeSVG=null,this.qrCodeDataUrl=null}},{key:"_getDataInt",value:function(){var le=this.getData();return le?le.map(function(Y){return Y.map(function(ge){return ge?1:0})}):null}},{key:"_getRects",value:function(){var le=this._getDataInt();if(!le)return null;for(var Y=[],ge=le.length-1,Ae=0;Ae<=ge;Ae+=1)for(var Me=-1,Re=0;Re<=ge;Re+=1){var Ie=le[Ae][Re]===1;if(Ie&&Me===-1&&(Me=Re),Me!==-1&&(Re===ge||!Ie)){var ze=Re-(Ie?0:1),He=this._processRect(le,Me,ze,Ae);He&&Y.push(He),Me=-1}}return Y}},{key:"_processRect",value:function(le,Y,ge,Ae){for(var Me=le.length-1,Re=!1,Ie=!1,ze=0,He=Ae;He<=Me;He+=1){for(var Ye=Y;Ye<=ge;Ye+=1)if(le[He][Ye]===0){Ie=!0;break}if(Ie)break;for(var We=Y;We<=ge;We+=1)le[He][We]===1&&(Re=!0,le[He][We]=2);ze+=1}return Re?{x:Y,y:Ae,width:ge-Y+1,height:ze}:null}},{key:"_getRelativeRects",value:function(){var le=this._getRects();if(!le)return null;var Y=[],ge={},Ae=0;return le.forEach(function(Me){var Re="".concat(Me.width,":").concat(Me.height);ge[Re]?(ge[Re].count+=1,ge[Re].id||(ge[Re].id="i".concat(Ae.toString(32)),Ae+=1)):ge[Re]={count:1,rect:Me,relative:!1,id:null}}),le.forEach(function(Me){var Re="".concat(Me.width,":").concat(Me.height),Ie=ge[Re];Ie.relative?Y.push({id:Ie.id,x:Me.x-Ie.rect.x,y:Me.y-Ie.rect.y}):(Ie.id&&(Me.id=Ie.id,Ie.relative=!0),Y.push(Me))}),Y}},{key:"_buildSVG",value:function(le){var Y=this,ge=this.getDataSize(),Ae=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" '+'shape-rendering="crispEdges" viewBox="0 0 '.concat(ge," ").concat(ge,'">')];this.bgColor&&Ae.push('<rect x="0" y="0" height="'.concat(ge,'" width="').concat(ge,'" fill="').concat(this.bgColor,'"/>')),le.forEach(function(Re){if(Re.width&&Re.height){var Ie=Re.id?'id="'.concat(Re.id,'" '):"";Ae.push("<rect ".concat(Ie,'x="').concat(Re.x,'" y="').concat(Re.y,'" height="').concat(Re.height,'" width="').concat(Re.width,'" fill="').concat(Y.fgColor,'"/>'))}else Ae.push('<use xlink:href="#'.concat(Re.id,'" x="').concat(Re.x,'" y="').concat(Re.y,'"/>'))});var Me=this._getImageConfig();return Me&&Me.width&&Me.height&&Ae.push('<image xlink:href="'.concat(Me.source,'" x="').concat(Me.x,'" y="').concat(Me.y,'" width="').concat(Me.width,'" height="').concat(Me.height,'"/>')),Ae.push("</svg>"),Ae.join("")}},{key:"toString",value:function(){if(!this.qrCodeSVG){if(!this.getDataSize())return null;var le=this._getRects();if(!le)return null;this.qrCodeSVG=this._buildSVG(le)}return this.qrCodeSVG}},{key:"toDataUrl",value:function(){if(!this.qrCodeDataUrl){if(!this.getDataSize())return null;var le=this._getRelativeRects();if(!le)return null;var Y=this._buildSVG(le);this.qrCodeDataUrl="data:image/svg+xml;base64,".concat(btoa(Y))}return this.qrCodeDataUrl}}])&&Ee(K.prototype,xe),Q}();function me(ne){return(me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ne)}function j(ne,Q){for(var K=0;K<Q.length;K++){var xe=Q[K];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ne,xe.key,xe)}}function q(ne,Q,K){return(q=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(xe,le,Y){var ge=function(Me,Re){for(;!Object.prototype.hasOwnProperty.call(Me,Re)&&(Me=P(Me))!==null;);return Me}(xe,le);if(ge){var Ae=Object.getOwnPropertyDescriptor(ge,le);return Ae.get?Ae.get.call(Y):Ae.value}})(ne,Q,K||ne)}function P(ne){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ne)}function ce(ne,Q){return(ce=Object.setPrototypeOf||function(K,xe){return K.__proto__=xe,K})(ne,Q)}function Ce(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function Fe(ne,Q,K){return Q in ne?Object.defineProperty(ne,Q,{value:K,enumerable:!0,configurable:!0,writable:!0}):ne[Q]=K,ne}var ke={blackSymbol:"",whiteSymbol:"  "},ve=function(ne){function Q(le){var Y,ge,Ae,Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(Ie,ze){if(!(Ie instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,Q),ge=this,Y=!(Ae=P(Q).call(this,le,Me))||me(Ae)!=="object"&&typeof Ae!="function"?Ce(ge):Ae,Fe(Ce(Ce(Y)),"blackSymbol",void 0),Fe(Ce(Ce(Y)),"whiteSymbol",void 0),Fe(Ce(Ce(Y)),"qrCodeText",null);var Re=function(Ie){for(var ze=1;ze<arguments.length;ze++){var He=arguments[ze]!=null?arguments[ze]:{},Ye=Object.keys(He);typeof Object.getOwnPropertySymbols=="function"&&(Ye=Ye.concat(Object.getOwnPropertySymbols(He).filter(function(We){return Object.getOwnPropertyDescriptor(He,We).enumerable}))),Ye.forEach(function(We){Fe(Ie,We,He[We])})}return Ie}({},ke,Me);return Y.blackSymbol=Re.blackSymbol,Y.whiteSymbol=Re.whiteSymbol,Y}var K,xe;return function(le,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Y&&Y.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Y&&ce(le,Y)}(Q,_),K=Q,(xe=[{key:"_clearCache",value:function(){q(P(Q.prototype),"_clearCache",this).call(this),this.qrCodeText=null}},{key:"toString",value:function(){if(this.qrCodeText)return this.qrCodeText;var le=this.getDataSize();if(!le)return null;for(var Y=this.getData(),ge=[],Ae=0;Ae<le;Ae+=1){for(var Me=0;Me<le;Me+=1){var Re=Y[Ae][Me];ge.push(Re?this.blackSymbol:this.whiteSymbol)}ge.push(`
`)}return this.qrCodeText=ge.join(""),this.qrCodeText}}])&&j(K.prototype,xe),Q}();a.d(c,"QRCodeCanvas",function(){return Se}),a.d(c,"QRCodeRaw",function(){return _}),a.d(c,"QRCodeSVG",function(){return re}),a.d(c,"QRCodeText",function(){return ve}),a.d(c,"AbstractQRCodeWithImage",function(){return ae})}]),sl={exports:{}};(function(o,c){(function(a,u){o.exports=u()})(self,function(){return(()=>{var a={192:(f,p)=>{var C,A,x=function(){var m=function(H,ee){var L=H,ue=T[ee],Z=null,ye=0,Te=null,Se=[],ie={},Ee=function(j,q){Z=function(P){for(var ce=new Array(P),Ce=0;Ce<P;Ce+=1){ce[Ce]=new Array(P);for(var Fe=0;Fe<P;Fe+=1)ce[Ce][Fe]=null}return ce}(ye=4*L+17),G(0,0),G(ye-7,0),G(0,ye-7),z(),E(),X(j,q),L>=7&&M(j),Te==null&&(Te=re(L,ue,Se)),V(Te,q)},G=function(j,q){for(var P=-1;P<=7;P+=1)if(!(j+P<=-1||ye<=j+P))for(var ce=-1;ce<=7;ce+=1)q+ce<=-1||ye<=q+ce||(Z[j+P][q+ce]=0<=P&&P<=6&&(ce==0||ce==6)||0<=ce&&ce<=6&&(P==0||P==6)||2<=P&&P<=4&&2<=ce&&ce<=4)},E=function(){for(var j=8;j<ye-8;j+=1)Z[j][6]==null&&(Z[j][6]=j%2==0);for(var q=8;q<ye-8;q+=1)Z[6][q]==null&&(Z[6][q]=q%2==0)},z=function(){for(var j=R.getPatternPosition(L),q=0;q<j.length;q+=1)for(var P=0;P<j.length;P+=1){var ce=j[q],Ce=j[P];if(Z[ce][Ce]==null)for(var Fe=-2;Fe<=2;Fe+=1)for(var ke=-2;ke<=2;ke+=1)Z[ce+Fe][Ce+ke]=Fe==-2||Fe==2||ke==-2||ke==2||Fe==0&&ke==0}},M=function(j){for(var q=R.getBCHTypeNumber(L),P=0;P<18;P+=1){var ce=!j&&(q>>P&1)==1;Z[Math.floor(P/3)][P%3+ye-8-3]=ce}for(P=0;P<18;P+=1)ce=!j&&(q>>P&1)==1,Z[P%3+ye-8-3][Math.floor(P/3)]=ce},X=function(j,q){for(var P=ue<<3|q,ce=R.getBCHTypeInfo(P),Ce=0;Ce<15;Ce+=1){var Fe=!j&&(ce>>Ce&1)==1;Ce<6?Z[Ce][8]=Fe:Ce<8?Z[Ce+1][8]=Fe:Z[ye-15+Ce][8]=Fe}for(Ce=0;Ce<15;Ce+=1)Fe=!j&&(ce>>Ce&1)==1,Ce<8?Z[8][ye-Ce-1]=Fe:Ce<9?Z[8][15-Ce-1+1]=Fe:Z[8][15-Ce-1]=Fe;Z[ye-8][8]=!j},V=function(j,q){for(var P=-1,ce=ye-1,Ce=7,Fe=0,ke=R.getMaskFunction(q),ve=ye-1;ve>0;ve-=2)for(ve==6&&(ve-=1);;){for(var ne=0;ne<2;ne+=1)if(Z[ce][ve-ne]==null){var Q=!1;Fe<j.length&&(Q=(j[Fe]>>>Ce&1)==1),ke(ce,ve-ne)&&(Q=!Q),Z[ce][ve-ne]=Q,(Ce-=1)==-1&&(Fe+=1,Ce=7)}if((ce+=P)<0||ye<=ce){ce-=P,P=-P;break}}},re=function(j,q,P){for(var ce=F.getRSBlocks(j,q),Ce=J(),Fe=0;Fe<P.length;Fe+=1){var ke=P[Fe];Ce.put(ke.getMode(),4),Ce.put(ke.getLength(),R.getLengthInBits(ke.getMode(),j)),ke.write(Ce)}var ve=0;for(Fe=0;Fe<ce.length;Fe+=1)ve+=ce[Fe].dataCount;if(Ce.getLengthInBits()>8*ve)throw"code length overflow. ("+Ce.getLengthInBits()+">"+8*ve+")";for(Ce.getLengthInBits()+4<=8*ve&&Ce.put(0,4);Ce.getLengthInBits()%8!=0;)Ce.putBit(!1);for(;!(Ce.getLengthInBits()>=8*ve||(Ce.put(236,8),Ce.getLengthInBits()>=8*ve));)Ce.put(17,8);return function(ne,Q){for(var K=0,xe=0,le=0,Y=new Array(Q.length),ge=new Array(Q.length),Ae=0;Ae<Q.length;Ae+=1){var Me=Q[Ae].dataCount,Re=Q[Ae].totalCount-Me;xe=Math.max(xe,Me),le=Math.max(le,Re),Y[Ae]=new Array(Me);for(var Ie=0;Ie<Y[Ae].length;Ie+=1)Y[Ae][Ie]=255&ne.getBuffer()[Ie+K];K+=Me;var ze=R.getErrorCorrectPolynomial(Re),He=O(Y[Ae],ze.getLength()-1).mod(ze);for(ge[Ae]=new Array(ze.getLength()-1),Ie=0;Ie<ge[Ae].length;Ie+=1){var Ye=Ie+He.getLength()-ge[Ae].length;ge[Ae][Ie]=Ye>=0?He.getAt(Ye):0}}var We=0;for(Ie=0;Ie<Q.length;Ie+=1)We+=Q[Ie].totalCount;var Ne=new Array(We),ot=0;for(Ie=0;Ie<xe;Ie+=1)for(Ae=0;Ae<Q.length;Ae+=1)Ie<Y[Ae].length&&(Ne[ot]=Y[Ae][Ie],ot+=1);for(Ie=0;Ie<le;Ie+=1)for(Ae=0;Ae<Q.length;Ae+=1)Ie<ge[Ae].length&&(Ne[ot]=ge[Ae][Ie],ot+=1);return Ne}(Ce,ce)};ie.addData=function(j,q){var P=null;switch(q=q||"Byte"){case"Numeric":P=$(j);break;case"Alphanumeric":P=W(j);break;case"Byte":P=fe(j);break;case"Kanji":P=ae(j);break;default:throw"mode:"+q}Se.push(P),Te=null},ie.isDark=function(j,q){if(j<0||ye<=j||q<0||ye<=q)throw j+","+q;return Z[j][q]},ie.getModuleCount=function(){return ye},ie.make=function(){if(L<1){for(var j=1;j<40;j++){for(var q=F.getRSBlocks(j,ue),P=J(),ce=0;ce<Se.length;ce++){var Ce=Se[ce];P.put(Ce.getMode(),4),P.put(Ce.getLength(),R.getLengthInBits(Ce.getMode(),j)),Ce.write(P)}var Fe=0;for(ce=0;ce<q.length;ce++)Fe+=q[ce].dataCount;if(P.getLengthInBits()<=8*Fe)break}L=j}Ee(!1,function(){for(var ke=0,ve=0,ne=0;ne<8;ne+=1){Ee(!0,ne);var Q=R.getLostPoint(ie);(ne==0||ke>Q)&&(ke=Q,ve=ne)}return ve}())},ie.createTableTag=function(j,q){j=j||2;var P="";P+='<table style="',P+=" border-width: 0px; border-style: none;",P+=" border-collapse: collapse;",P+=" padding: 0px; margin: "+(q=q===void 0?4*j:q)+"px;",P+='">',P+="<tbody>";for(var ce=0;ce<ie.getModuleCount();ce+=1){P+="<tr>";for(var Ce=0;Ce<ie.getModuleCount();Ce+=1)P+='<td style="',P+=" border-width: 0px; border-style: none;",P+=" border-collapse: collapse;",P+=" padding: 0px; margin: 0px;",P+=" width: "+j+"px;",P+=" height: "+j+"px;",P+=" background-color: ",P+=ie.isDark(ce,Ce)?"#000000":"#ffffff",P+=";",P+='"/>';P+="</tr>"}return(P+="</tbody>")+"</table>"},ie.createSvgTag=function(j,q,P,ce){var Ce={};typeof arguments[0]=="object"&&(j=(Ce=arguments[0]).cellSize,q=Ce.margin,P=Ce.alt,ce=Ce.title),j=j||2,q=q===void 0?4*j:q,(P=typeof P=="string"?{text:P}:P||{}).text=P.text||null,P.id=P.text?P.id||"qrcode-description":null,(ce=typeof ce=="string"?{text:ce}:ce||{}).text=ce.text||null,ce.id=ce.text?ce.id||"qrcode-title":null;var Fe,ke,ve,ne,Q=ie.getModuleCount()*j+2*q,K="";for(ne="l"+j+",0 0,"+j+" -"+j+",0 0,-"+j+"z ",K+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',K+=Ce.scalable?"":' width="'+Q+'px" height="'+Q+'px"',K+=' viewBox="0 0 '+Q+" "+Q+'" ',K+=' preserveAspectRatio="xMinYMin meet"',K+=ce.text||P.text?' role="img" aria-labelledby="'+me([ce.id,P.id].join(" ").trim())+'"':"",K+=">",K+=ce.text?'<title id="'+me(ce.id)+'">'+me(ce.text)+"</title>":"",K+=P.text?'<description id="'+me(P.id)+'">'+me(P.text)+"</description>":"",K+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',K+='<path d="',ke=0;ke<ie.getModuleCount();ke+=1)for(ve=ke*j+q,Fe=0;Fe<ie.getModuleCount();Fe+=1)ie.isDark(ke,Fe)&&(K+="M"+(Fe*j+q)+","+ve+ne);return(K+='" stroke="transparent" fill="black"/>')+"</svg>"},ie.createDataURL=function(j,q){j=j||2,q=q===void 0?4*j:q;var P=ie.getModuleCount()*j+2*q,ce=q,Ce=P-q;return de(P,P,function(Fe,ke){if(ce<=Fe&&Fe<Ce&&ce<=ke&&ke<Ce){var ve=Math.floor((Fe-ce)/j),ne=Math.floor((ke-ce)/j);return ie.isDark(ne,ve)?0:1}return 1})},ie.createImgTag=function(j,q,P){j=j||2,q=q===void 0?4*j:q;var ce=ie.getModuleCount()*j+2*q,Ce="";return Ce+="<img",Ce+=' src="',Ce+=ie.createDataURL(j,q),Ce+='"',Ce+=' width="',Ce+=ce,Ce+='"',Ce+=' height="',Ce+=ce,Ce+='"',P&&(Ce+=' alt="',Ce+=me(P),Ce+='"'),Ce+"/>"};var me=function(j){for(var q="",P=0;P<j.length;P+=1){var ce=j.charAt(P);switch(ce){case"<":q+="&lt;";break;case">":q+="&gt;";break;case"&":q+="&amp;";break;case'"':q+="&quot;";break;default:q+=ce}}return q};return ie.createASCII=function(j,q){if((j=j||1)<2)return function(Y){Y=Y===void 0?2:Y;var ge,Ae,Me,Re,Ie,ze=1*ie.getModuleCount()+2*Y,He=Y,Ye=ze-Y,We={"":""," ":""," ":"","  ":" "},Ne={"":""," ":""," ":" ","  ":" "},ot="";for(ge=0;ge<ze;ge+=2){for(Me=Math.floor((ge-He)/1),Re=Math.floor((ge+1-He)/1),Ae=0;Ae<ze;Ae+=1)Ie="",He<=Ae&&Ae<Ye&&He<=ge&&ge<Ye&&ie.isDark(Me,Math.floor((Ae-He)/1))&&(Ie=" "),He<=Ae&&Ae<Ye&&He<=ge+1&&ge+1<Ye&&ie.isDark(Re,Math.floor((Ae-He)/1))?Ie+=" ":Ie+="",ot+=Y<1&&ge+1>=Ye?Ne[Ie]:We[Ie];ot+=`
`}return ze%2&&Y>0?ot.substring(0,ot.length-ze-1)+Array(ze+1).join(""):ot.substring(0,ot.length-1)}(q);j-=1,q=q===void 0?2*j:q;var P,ce,Ce,Fe,ke=ie.getModuleCount()*j+2*q,ve=q,ne=ke-q,Q=Array(j+1).join(""),K=Array(j+1).join("  "),xe="",le="";for(P=0;P<ke;P+=1){for(Ce=Math.floor((P-ve)/j),le="",ce=0;ce<ke;ce+=1)Fe=1,ve<=ce&&ce<ne&&ve<=P&&P<ne&&ie.isDark(Ce,Math.floor((ce-ve)/j))&&(Fe=0),le+=Fe?Q:K;for(Ce=0;Ce<j;Ce+=1)xe+=le+`
`}return xe.substring(0,xe.length-1)},ie.renderTo2dContext=function(j,q){q=q||2;for(var P=ie.getModuleCount(),ce=0;ce<P;ce++)for(var Ce=0;Ce<P;Ce++)j.fillStyle=ie.isDark(ce,Ce)?"black":"white",j.fillRect(ce*q,Ce*q,q,q)},ie};m.stringToBytes=(m.stringToBytesFuncs={default:function(H){for(var ee=[],L=0;L<H.length;L+=1){var ue=H.charCodeAt(L);ee.push(255&ue)}return ee}}).default,m.createStringToBytes=function(H,ee){var L=function(){for(var Z=he(H),ye=function(){var E=Z.read();if(E==-1)throw"eof";return E},Te=0,Se={};;){var ie=Z.read();if(ie==-1)break;var Ee=ye(),G=ye()<<8|ye();Se[String.fromCharCode(ie<<8|Ee)]=G,Te+=1}if(Te!=ee)throw Te+" != "+ee;return Se}(),ue=63;return function(Z){for(var ye=[],Te=0;Te<Z.length;Te+=1){var Se=Z.charCodeAt(Te);if(Se<128)ye.push(Se);else{var ie=L[Z.charAt(Te)];typeof ie=="number"?(255&ie)==ie?ye.push(ie):(ye.push(ie>>>8),ye.push(255&ie)):ye.push(ue)}}return ye}};var w,v,S,_,b,T={L:1,M:0,Q:3,H:2},R=(w=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],v=1335,S=7973,b=function(H){for(var ee=0;H!=0;)ee+=1,H>>>=1;return ee},(_={}).getBCHTypeInfo=function(H){for(var ee=H<<10;b(ee)-b(v)>=0;)ee^=v<<b(ee)-b(v);return 21522^(H<<10|ee)},_.getBCHTypeNumber=function(H){for(var ee=H<<12;b(ee)-b(S)>=0;)ee^=S<<b(ee)-b(S);return H<<12|ee},_.getPatternPosition=function(H){return w[H-1]},_.getMaskFunction=function(H){switch(H){case 0:return function(ee,L){return(ee+L)%2==0};case 1:return function(ee,L){return ee%2==0};case 2:return function(ee,L){return L%3==0};case 3:return function(ee,L){return(ee+L)%3==0};case 4:return function(ee,L){return(Math.floor(ee/2)+Math.floor(L/3))%2==0};case 5:return function(ee,L){return ee*L%2+ee*L%3==0};case 6:return function(ee,L){return(ee*L%2+ee*L%3)%2==0};case 7:return function(ee,L){return(ee*L%3+(ee+L)%2)%2==0};default:throw"bad maskPattern:"+H}},_.getErrorCorrectPolynomial=function(H){for(var ee=O([1],0),L=0;L<H;L+=1)ee=ee.multiply(O([1,B.gexp(L)],0));return ee},_.getLengthInBits=function(H,ee){if(1<=ee&&ee<10)switch(H){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+H}else if(ee<27)switch(H){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+H}else{if(!(ee<41))throw"type:"+ee;switch(H){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+H}}},_.getLostPoint=function(H){for(var ee=H.getModuleCount(),L=0,ue=0;ue<ee;ue+=1)for(var Z=0;Z<ee;Z+=1){for(var ye=0,Te=H.isDark(ue,Z),Se=-1;Se<=1;Se+=1)if(!(ue+Se<0||ee<=ue+Se))for(var ie=-1;ie<=1;ie+=1)Z+ie<0||ee<=Z+ie||Se==0&&ie==0||Te==H.isDark(ue+Se,Z+ie)&&(ye+=1);ye>5&&(L+=3+ye-5)}for(ue=0;ue<ee-1;ue+=1)for(Z=0;Z<ee-1;Z+=1){var Ee=0;H.isDark(ue,Z)&&(Ee+=1),H.isDark(ue+1,Z)&&(Ee+=1),H.isDark(ue,Z+1)&&(Ee+=1),H.isDark(ue+1,Z+1)&&(Ee+=1),Ee!=0&&Ee!=4||(L+=3)}for(ue=0;ue<ee;ue+=1)for(Z=0;Z<ee-6;Z+=1)H.isDark(ue,Z)&&!H.isDark(ue,Z+1)&&H.isDark(ue,Z+2)&&H.isDark(ue,Z+3)&&H.isDark(ue,Z+4)&&!H.isDark(ue,Z+5)&&H.isDark(ue,Z+6)&&(L+=40);for(Z=0;Z<ee;Z+=1)for(ue=0;ue<ee-6;ue+=1)H.isDark(ue,Z)&&!H.isDark(ue+1,Z)&&H.isDark(ue+2,Z)&&H.isDark(ue+3,Z)&&H.isDark(ue+4,Z)&&!H.isDark(ue+5,Z)&&H.isDark(ue+6,Z)&&(L+=40);var G=0;for(Z=0;Z<ee;Z+=1)for(ue=0;ue<ee;ue+=1)H.isDark(ue,Z)&&(G+=1);return L+Math.abs(100*G/ee/ee-50)/5*10},_),B=function(){for(var H=new Array(256),ee=new Array(256),L=0;L<8;L+=1)H[L]=1<<L;for(L=8;L<256;L+=1)H[L]=H[L-4]^H[L-5]^H[L-6]^H[L-8];for(L=0;L<255;L+=1)ee[H[L]]=L;return{glog:function(ue){if(ue<1)throw"glog("+ue+")";return ee[ue]},gexp:function(ue){for(;ue<0;)ue+=255;for(;ue>=256;)ue-=255;return H[ue]}}}();function O(H,ee){if(H.length===void 0)throw H.length+"/"+ee;var L=function(){for(var Z=0;Z<H.length&&H[Z]==0;)Z+=1;for(var ye=new Array(H.length-Z+ee),Te=0;Te<H.length-Z;Te+=1)ye[Te]=H[Te+Z];return ye}(),ue={getAt:function(Z){return L[Z]},getLength:function(){return L.length},multiply:function(Z){for(var ye=new Array(ue.getLength()+Z.getLength()-1),Te=0;Te<ue.getLength();Te+=1)for(var Se=0;Se<Z.getLength();Se+=1)ye[Te+Se]^=B.gexp(B.glog(ue.getAt(Te))+B.glog(Z.getAt(Se)));return O(ye,0)},mod:function(Z){if(ue.getLength()-Z.getLength()<0)return ue;for(var ye=B.glog(ue.getAt(0))-B.glog(Z.getAt(0)),Te=new Array(ue.getLength()),Se=0;Se<ue.getLength();Se+=1)Te[Se]=ue.getAt(Se);for(Se=0;Se<Z.getLength();Se+=1)Te[Se]^=B.gexp(B.glog(Z.getAt(Se))+ye);return O(Te,0).mod(Z)}};return ue}var F=function(){var H=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],ee=function(ue,Z){var ye={};return ye.totalCount=ue,ye.dataCount=Z,ye},L={getRSBlocks:function(ue,Z){var ye=function(M,X){switch(X){case T.L:return H[4*(M-1)+0];case T.M:return H[4*(M-1)+1];case T.Q:return H[4*(M-1)+2];case T.H:return H[4*(M-1)+3];default:return}}(ue,Z);if(ye===void 0)throw"bad rs block @ typeNumber:"+ue+"/errorCorrectionLevel:"+Z;for(var Te=ye.length/3,Se=[],ie=0;ie<Te;ie+=1)for(var Ee=ye[3*ie+0],G=ye[3*ie+1],E=ye[3*ie+2],z=0;z<Ee;z+=1)Se.push(ee(G,E));return Se}};return L}(),J=function(){var H=[],ee=0,L={getBuffer:function(){return H},getAt:function(ue){var Z=Math.floor(ue/8);return(H[Z]>>>7-ue%8&1)==1},put:function(ue,Z){for(var ye=0;ye<Z;ye+=1)L.putBit((ue>>>Z-ye-1&1)==1)},getLengthInBits:function(){return ee},putBit:function(ue){var Z=Math.floor(ee/8);H.length<=Z&&H.push(0),ue&&(H[Z]|=128>>>ee%8),ee+=1}};return L},$=function(H){var ee=H,L={getMode:function(){return 1},getLength:function(ye){return ee.length},write:function(ye){for(var Te=ee,Se=0;Se+2<Te.length;)ye.put(ue(Te.substring(Se,Se+3)),10),Se+=3;Se<Te.length&&(Te.length-Se==1?ye.put(ue(Te.substring(Se,Se+1)),4):Te.length-Se==2&&ye.put(ue(Te.substring(Se,Se+2)),7))}},ue=function(ye){for(var Te=0,Se=0;Se<ye.length;Se+=1)Te=10*Te+Z(ye.charAt(Se));return Te},Z=function(ye){if("0"<=ye&&ye<="9")return ye.charCodeAt(0)-48;throw"illegal char :"+ye};return L},W=function(H){var ee=H,L={getMode:function(){return 2},getLength:function(Z){return ee.length},write:function(Z){for(var ye=ee,Te=0;Te+1<ye.length;)Z.put(45*ue(ye.charAt(Te))+ue(ye.charAt(Te+1)),11),Te+=2;Te<ye.length&&Z.put(ue(ye.charAt(Te)),6)}},ue=function(Z){if("0"<=Z&&Z<="9")return Z.charCodeAt(0)-48;if("A"<=Z&&Z<="Z")return Z.charCodeAt(0)-65+10;switch(Z){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+Z}};return L},fe=function(H){var ee=m.stringToBytes(H);return{getMode:function(){return 4},getLength:function(L){return ee.length},write:function(L){for(var ue=0;ue<ee.length;ue+=1)L.put(ee[ue],8)}}},ae=function(H){var ee=m.stringToBytesFuncs.SJIS;if(!ee)throw"sjis not supported.";(function(ue,Z){var ye=ee("");if(ye.length!=2||(ye[0]<<8|ye[1])!=38726)throw"sjis not supported."})();var L=ee(H);return{getMode:function(){return 8},getLength:function(ue){return~~(L.length/2)},write:function(ue){for(var Z=L,ye=0;ye+1<Z.length;){var Te=(255&Z[ye])<<8|255&Z[ye+1];if(33088<=Te&&Te<=40956)Te-=33088;else{if(!(57408<=Te&&Te<=60351))throw"illegal char at "+(ye+1)+"/"+Te;Te-=49472}Te=192*(Te>>>8&255)+(255&Te),ue.put(Te,13),ye+=2}if(ye<Z.length)throw"illegal char at "+(ye+1)}}},oe=function(){var H=[],ee={writeByte:function(L){H.push(255&L)},writeShort:function(L){ee.writeByte(L),ee.writeByte(L>>>8)},writeBytes:function(L,ue,Z){ue=ue||0,Z=Z||L.length;for(var ye=0;ye<Z;ye+=1)ee.writeByte(L[ye+ue])},writeString:function(L){for(var ue=0;ue<L.length;ue+=1)ee.writeByte(L.charCodeAt(ue))},toByteArray:function(){return H},toString:function(){var L="";L+="[";for(var ue=0;ue<H.length;ue+=1)ue>0&&(L+=","),L+=H[ue];return L+"]"}};return ee},he=function(H){var ee=H,L=0,ue=0,Z=0,ye={read:function(){for(;Z<8;){if(L>=ee.length){if(Z==0)return-1;throw"unexpected end of file./"+Z}var Se=ee.charAt(L);if(L+=1,Se=="=")return Z=0,-1;Se.match(/^\s$/)||(ue=ue<<6|Te(Se.charCodeAt(0)),Z+=6)}var ie=ue>>>Z-8&255;return Z-=8,ie}},Te=function(Se){if(65<=Se&&Se<=90)return Se-65;if(97<=Se&&Se<=122)return Se-97+26;if(48<=Se&&Se<=57)return Se-48+52;if(Se==43)return 62;if(Se==47)return 63;throw"c:"+Se};return ye},de=function(H,ee,L){for(var ue=function(G,E){var z=G,M=E,X=new Array(G*E),V={setPixel:function(j,q,P){X[q*z+j]=P},write:function(j){j.writeString("GIF87a"),j.writeShort(z),j.writeShort(M),j.writeByte(128),j.writeByte(0),j.writeByte(0),j.writeByte(0),j.writeByte(0),j.writeByte(0),j.writeByte(255),j.writeByte(255),j.writeByte(255),j.writeString(","),j.writeShort(0),j.writeShort(0),j.writeShort(z),j.writeShort(M),j.writeByte(0);var q=re(2);j.writeByte(2);for(var P=0;q.length-P>255;)j.writeByte(255),j.writeBytes(q,P,255),P+=255;j.writeByte(q.length-P),j.writeBytes(q,P,q.length-P),j.writeByte(0),j.writeString(";")}},re=function(j){for(var q=1<<j,P=1+(1<<j),ce=j+1,Ce=me(),Fe=0;Fe<q;Fe+=1)Ce.add(String.fromCharCode(Fe));Ce.add(String.fromCharCode(q)),Ce.add(String.fromCharCode(P));var ke,ve,ne,Q=oe(),K=(ke=Q,ve=0,ne=0,{write:function(ge,Ae){if(ge>>>Ae)throw"length over";for(;ve+Ae>=8;)ke.writeByte(255&(ge<<ve|ne)),Ae-=8-ve,ge>>>=8-ve,ne=0,ve=0;ne|=ge<<ve,ve+=Ae},flush:function(){ve>0&&ke.writeByte(ne)}});K.write(q,ce);var xe=0,le=String.fromCharCode(X[xe]);for(xe+=1;xe<X.length;){var Y=String.fromCharCode(X[xe]);xe+=1,Ce.contains(le+Y)?le+=Y:(K.write(Ce.indexOf(le),ce),Ce.size()<4095&&(Ce.size()==1<<ce&&(ce+=1),Ce.add(le+Y)),le=Y)}return K.write(Ce.indexOf(le),ce),K.write(P,ce),K.flush(),Q.toByteArray()},me=function(){var j={},q=0,P={add:function(ce){if(P.contains(ce))throw"dup key:"+ce;j[ce]=q,q+=1},size:function(){return q},indexOf:function(ce){return j[ce]},contains:function(ce){return j[ce]!==void 0}};return P};return V}(H,ee),Z=0;Z<ee;Z+=1)for(var ye=0;ye<H;ye+=1)ue.setPixel(ye,Z,L(ye,Z));var Te=oe();ue.write(Te);for(var Se=function(){var G=0,E=0,z=0,M="",X={},V=function(me){M+=String.fromCharCode(re(63&me))},re=function(me){if(!(me<0)){if(me<26)return 65+me;if(me<52)return me-26+97;if(me<62)return me-52+48;if(me==62)return 43;if(me==63)return 47}throw"n:"+me};return X.writeByte=function(me){for(G=G<<8|255&me,E+=8,z+=1;E>=6;)V(G>>>E-6),E-=6},X.flush=function(){if(E>0&&(V(G<<6-E),G=0,E=0),z%3!=0)for(var me=3-z%3,j=0;j<me;j+=1)M+="="},X.toString=function(){return M},X}(),ie=Te.toByteArray(),Ee=0;Ee<ie.length;Ee+=1)Se.writeByte(ie[Ee]);return Se.flush(),"data:image/gif;base64,"+Se};return m}();x.stringToBytesFuncs["UTF-8"]=function(m){return function(w){for(var v=[],S=0;S<w.length;S++){var _=w.charCodeAt(S);_<128?v.push(_):_<2048?v.push(192|_>>6,128|63&_):_<55296||_>=57344?v.push(224|_>>12,128|_>>6&63,128|63&_):(S++,_=65536+((1023&_)<<10|1023&w.charCodeAt(S)),v.push(240|_>>18,128|_>>12&63,128|_>>6&63,128|63&_))}return v}(m)},(A=typeof(C=function(){return x})=="function"?C.apply(p,[]):C)===void 0||(f.exports=A)},676:(f,p,C)=>{C.d(p,{default:()=>Ee});var A=function(){return(A=Object.assign||function(G){for(var E,z=1,M=arguments.length;z<M;z++)for(var X in E=arguments[z])Object.prototype.hasOwnProperty.call(E,X)&&(G[X]=E[X]);return G}).apply(this,arguments)},x=function(){for(var G=0,E=0,z=arguments.length;E<z;E++)G+=arguments[E].length;var M=Array(G),X=0;for(E=0;E<z;E++)for(var V=arguments[E],re=0,me=V.length;re<me;re++,X++)M[X]=V[re];return M},m=function(G){return!!G&&typeof G=="object"&&!Array.isArray(G)};function w(G){for(var E=[],z=1;z<arguments.length;z++)E[z-1]=arguments[z];if(!E.length)return G;var M=E.shift();return M!==void 0&&m(G)&&m(M)?(G=A({},G),Object.keys(M).forEach(function(X){var V=G[X],re=M[X];Array.isArray(V)&&Array.isArray(re)?G[X]=re:m(V)&&m(re)?G[X]=w(Object.assign({},V),re):G[X]=re}),w.apply(void 0,x([G],E))):G}function v(G,E){var z=document.createElement("a");z.download=E,z.href=G,document.body.appendChild(z),z.click(),document.body.removeChild(z)}function S(G){return E=this,z=void 0,X=function(){return function(V,re){var me,j,q,P,ce={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return P={next:Ce(0),throw:Ce(1),return:Ce(2)},typeof Symbol=="function"&&(P[Symbol.iterator]=function(){return this}),P;function Ce(Fe){return function(ke){return function(ve){if(me)throw new TypeError("Generator is already executing.");for(;ce;)try{if(me=1,j&&(q=2&ve[0]?j.return:ve[0]?j.throw||((q=j.return)&&q.call(j),0):j.next)&&!(q=q.call(j,ve[1])).done)return q;switch(j=0,q&&(ve=[2&ve[0],q.value]),ve[0]){case 0:case 1:q=ve;break;case 4:return ce.label++,{value:ve[1],done:!1};case 5:ce.label++,j=ve[1],ve=[0];continue;case 7:ve=ce.ops.pop(),ce.trys.pop();continue;default:if(!((q=(q=ce.trys).length>0&&q[q.length-1])||ve[0]!==6&&ve[0]!==2)){ce=0;continue}if(ve[0]===3&&(!q||ve[1]>q[0]&&ve[1]<q[3])){ce.label=ve[1];break}if(ve[0]===6&&ce.label<q[1]){ce.label=q[1],q=ve;break}if(q&&ce.label<q[2]){ce.label=q[2],ce.ops.push(ve);break}q[2]&&ce.ops.pop(),ce.trys.pop();continue}ve=re.call(V,ce)}catch(ne){ve=[6,ne],j=0}finally{me=q=0}if(5&ve[0])throw ve[1];return{value:ve[0]?ve[1]:void 0,done:!0}}([Fe,ke])}}}(this,function(V){return[2,new Promise(function(re){var me=new XMLHttpRequest;me.onload=function(){var j=new FileReader;j.onloadend=function(){re(j.result)},j.readAsDataURL(me.response)},me.open("GET",G),me.responseType="blob",me.send()})]})},new((M=void 0)||(M=Promise))(function(V,re){function me(P){try{q(X.next(P))}catch(ce){re(ce)}}function j(P){try{q(X.throw(P))}catch(ce){re(ce)}}function q(P){var ce;P.done?V(P.value):(ce=P.value,ce instanceof M?ce:new M(function(Ce){Ce(ce)})).then(me,j)}q((X=X.apply(E,z||[])).next())});var E,z,M,X}const _={L:.07,M:.15,Q:.25,H:.3};var b=function(){return(b=Object.assign||function(G){for(var E,z=1,M=arguments.length;z<M;z++)for(var X in E=arguments[z])Object.prototype.hasOwnProperty.call(E,X)&&(G[X]=E[X]);return G}).apply(this,arguments)};const T=function(){function G(E){var z=E.svg,M=E.type;this._svg=z,this._type=M}return G.prototype.draw=function(E,z,M,X){var V;switch(this._type){case"dots":V=this._drawDot;break;case"classy":V=this._drawClassy;break;case"classy-rounded":V=this._drawClassyRounded;break;case"rounded":V=this._drawRounded;break;case"extra-rounded":V=this._drawExtraRounded;break;case"square":default:V=this._drawSquare}V.call(this,{x:E,y:z,size:M,getNeighbor:X})},G.prototype._rotateFigure=function(E){var z,M=E.x,X=E.y,V=E.size,re=E.rotation,me=re===void 0?0:re,j=M+V/2,q=X+V/2;(0,E.draw)(),(z=this._element)===null||z===void 0||z.setAttribute("transform","rotate("+180*me/Math.PI+","+j+","+q+")")},G.prototype._basicDot=function(E){var z=this,M=E.size,X=E.x,V=E.y;this._rotateFigure(b(b({},E),{draw:function(){z._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),z._element.setAttribute("cx",String(X+M/2)),z._element.setAttribute("cy",String(V+M/2)),z._element.setAttribute("r",String(M/2))}}))},G.prototype._basicSquare=function(E){var z=this,M=E.size,X=E.x,V=E.y;this._rotateFigure(b(b({},E),{draw:function(){z._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),z._element.setAttribute("x",String(X)),z._element.setAttribute("y",String(V)),z._element.setAttribute("width",String(M)),z._element.setAttribute("height",String(M))}}))},G.prototype._basicSideRounded=function(E){var z=this,M=E.size,X=E.x,V=E.y;this._rotateFigure(b(b({},E),{draw:function(){z._element=document.createElementNS("http://www.w3.org/2000/svg","path"),z._element.setAttribute("d","M "+X+" "+V+"v "+M+"h "+M/2+"a "+M/2+" "+M/2+", 0, 0, 0, 0 "+-M)}}))},G.prototype._basicCornerRounded=function(E){var z=this,M=E.size,X=E.x,V=E.y;this._rotateFigure(b(b({},E),{draw:function(){z._element=document.createElementNS("http://www.w3.org/2000/svg","path"),z._element.setAttribute("d","M "+X+" "+V+"v "+M+"h "+M+"v "+-M/2+"a "+M/2+" "+M/2+", 0, 0, 0, "+-M/2+" "+-M/2)}}))},G.prototype._basicCornerExtraRounded=function(E){var z=this,M=E.size,X=E.x,V=E.y;this._rotateFigure(b(b({},E),{draw:function(){z._element=document.createElementNS("http://www.w3.org/2000/svg","path"),z._element.setAttribute("d","M "+X+" "+V+"v "+M+"h "+M+"a "+M+" "+M+", 0, 0, 0, "+-M+" "+-M)}}))},G.prototype._basicCornersRounded=function(E){var z=this,M=E.size,X=E.x,V=E.y;this._rotateFigure(b(b({},E),{draw:function(){z._element=document.createElementNS("http://www.w3.org/2000/svg","path"),z._element.setAttribute("d","M "+X+" "+V+"v "+M/2+"a "+M/2+" "+M/2+", 0, 0, 0, "+M/2+" "+M/2+"h "+M/2+"v "+-M/2+"a "+M/2+" "+M/2+", 0, 0, 0, "+-M/2+" "+-M/2)}}))},G.prototype._drawDot=function(E){var z=E.x,M=E.y,X=E.size;this._basicDot({x:z,y:M,size:X,rotation:0})},G.prototype._drawSquare=function(E){var z=E.x,M=E.y,X=E.size;this._basicSquare({x:z,y:M,size:X,rotation:0})},G.prototype._drawRounded=function(E){var z=E.x,M=E.y,X=E.size,V=E.getNeighbor,re=V?+V(-1,0):0,me=V?+V(1,0):0,j=V?+V(0,-1):0,q=V?+V(0,1):0,P=re+me+j+q;if(P!==0)if(P>2||re&&me||j&&q)this._basicSquare({x:z,y:M,size:X,rotation:0});else{if(P===2){var ce=0;return re&&j?ce=Math.PI/2:j&&me?ce=Math.PI:me&&q&&(ce=-Math.PI/2),void this._basicCornerRounded({x:z,y:M,size:X,rotation:ce})}if(P===1)return ce=0,j?ce=Math.PI/2:me?ce=Math.PI:q&&(ce=-Math.PI/2),void this._basicSideRounded({x:z,y:M,size:X,rotation:ce})}else this._basicDot({x:z,y:M,size:X,rotation:0})},G.prototype._drawExtraRounded=function(E){var z=E.x,M=E.y,X=E.size,V=E.getNeighbor,re=V?+V(-1,0):0,me=V?+V(1,0):0,j=V?+V(0,-1):0,q=V?+V(0,1):0,P=re+me+j+q;if(P!==0)if(P>2||re&&me||j&&q)this._basicSquare({x:z,y:M,size:X,rotation:0});else{if(P===2){var ce=0;return re&&j?ce=Math.PI/2:j&&me?ce=Math.PI:me&&q&&(ce=-Math.PI/2),void this._basicCornerExtraRounded({x:z,y:M,size:X,rotation:ce})}if(P===1)return ce=0,j?ce=Math.PI/2:me?ce=Math.PI:q&&(ce=-Math.PI/2),void this._basicSideRounded({x:z,y:M,size:X,rotation:ce})}else this._basicDot({x:z,y:M,size:X,rotation:0})},G.prototype._drawClassy=function(E){var z=E.x,M=E.y,X=E.size,V=E.getNeighbor,re=V?+V(-1,0):0,me=V?+V(1,0):0,j=V?+V(0,-1):0,q=V?+V(0,1):0;re+me+j+q!==0?re||j?me||q?this._basicSquare({x:z,y:M,size:X,rotation:0}):this._basicCornerRounded({x:z,y:M,size:X,rotation:Math.PI/2}):this._basicCornerRounded({x:z,y:M,size:X,rotation:-Math.PI/2}):this._basicCornersRounded({x:z,y:M,size:X,rotation:Math.PI/2})},G.prototype._drawClassyRounded=function(E){var z=E.x,M=E.y,X=E.size,V=E.getNeighbor,re=V?+V(-1,0):0,me=V?+V(1,0):0,j=V?+V(0,-1):0,q=V?+V(0,1):0;re+me+j+q!==0?re||j?me||q?this._basicSquare({x:z,y:M,size:X,rotation:0}):this._basicCornerExtraRounded({x:z,y:M,size:X,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:z,y:M,size:X,rotation:-Math.PI/2}):this._basicCornersRounded({x:z,y:M,size:X,rotation:Math.PI/2})},G}();var R=function(){return(R=Object.assign||function(G){for(var E,z=1,M=arguments.length;z<M;z++)for(var X in E=arguments[z])Object.prototype.hasOwnProperty.call(E,X)&&(G[X]=E[X]);return G}).apply(this,arguments)};const B=function(){function G(E){var z=E.svg,M=E.type;this._svg=z,this._type=M}return G.prototype.draw=function(E,z,M,X){var V;switch(this._type){case"square":V=this._drawSquare;break;case"extra-rounded":V=this._drawExtraRounded;break;case"dot":default:V=this._drawDot}V.call(this,{x:E,y:z,size:M,rotation:X})},G.prototype._rotateFigure=function(E){var z,M=E.x,X=E.y,V=E.size,re=E.rotation,me=re===void 0?0:re,j=M+V/2,q=X+V/2;(0,E.draw)(),(z=this._element)===null||z===void 0||z.setAttribute("transform","rotate("+180*me/Math.PI+","+j+","+q+")")},G.prototype._basicDot=function(E){var z=this,M=E.size,X=E.x,V=E.y,re=M/7;this._rotateFigure(R(R({},E),{draw:function(){z._element=document.createElementNS("http://www.w3.org/2000/svg","path"),z._element.setAttribute("clip-rule","evenodd"),z._element.setAttribute("d","M "+(X+M/2)+" "+V+"a "+M/2+" "+M/2+" 0 1 0 0.1 0zm 0 "+re+"a "+(M/2-re)+" "+(M/2-re)+" 0 1 1 -0.1 0Z")}}))},G.prototype._basicSquare=function(E){var z=this,M=E.size,X=E.x,V=E.y,re=M/7;this._rotateFigure(R(R({},E),{draw:function(){z._element=document.createElementNS("http://www.w3.org/2000/svg","path"),z._element.setAttribute("clip-rule","evenodd"),z._element.setAttribute("d","M "+X+" "+V+"v "+M+"h "+M+"v "+-M+"zM "+(X+re)+" "+(V+re)+"h "+(M-2*re)+"v "+(M-2*re)+"h "+(2*re-M)+"z")}}))},G.prototype._basicExtraRounded=function(E){var z=this,M=E.size,X=E.x,V=E.y,re=M/7;this._rotateFigure(R(R({},E),{draw:function(){z._element=document.createElementNS("http://www.w3.org/2000/svg","path"),z._element.setAttribute("clip-rule","evenodd"),z._element.setAttribute("d","M "+X+" "+(V+2.5*re)+"v "+2*re+"a "+2.5*re+" "+2.5*re+", 0, 0, 0, "+2.5*re+" "+2.5*re+"h "+2*re+"a "+2.5*re+" "+2.5*re+", 0, 0, 0, "+2.5*re+" "+2.5*-re+"v "+-2*re+"a "+2.5*re+" "+2.5*re+", 0, 0, 0, "+2.5*-re+" "+2.5*-re+"h "+-2*re+"a "+2.5*re+" "+2.5*re+", 0, 0, 0, "+2.5*-re+" "+2.5*re+"M "+(X+2.5*re)+" "+(V+re)+"h "+2*re+"a "+1.5*re+" "+1.5*re+", 0, 0, 1, "+1.5*re+" "+1.5*re+"v "+2*re+"a "+1.5*re+" "+1.5*re+", 0, 0, 1, "+1.5*-re+" "+1.5*re+"h "+-2*re+"a "+1.5*re+" "+1.5*re+", 0, 0, 1, "+1.5*-re+" "+1.5*-re+"v "+-2*re+"a "+1.5*re+" "+1.5*re+", 0, 0, 1, "+1.5*re+" "+1.5*-re)}}))},G.prototype._drawDot=function(E){var z=E.x,M=E.y,X=E.size,V=E.rotation;this._basicDot({x:z,y:M,size:X,rotation:V})},G.prototype._drawSquare=function(E){var z=E.x,M=E.y,X=E.size,V=E.rotation;this._basicSquare({x:z,y:M,size:X,rotation:V})},G.prototype._drawExtraRounded=function(E){var z=E.x,M=E.y,X=E.size,V=E.rotation;this._basicExtraRounded({x:z,y:M,size:X,rotation:V})},G}();var O=function(){return(O=Object.assign||function(G){for(var E,z=1,M=arguments.length;z<M;z++)for(var X in E=arguments[z])Object.prototype.hasOwnProperty.call(E,X)&&(G[X]=E[X]);return G}).apply(this,arguments)};const F=function(){function G(E){var z=E.svg,M=E.type;this._svg=z,this._type=M}return G.prototype.draw=function(E,z,M,X){var V;switch(this._type){case"square":V=this._drawSquare;break;case"dot":default:V=this._drawDot}V.call(this,{x:E,y:z,size:M,rotation:X})},G.prototype._rotateFigure=function(E){var z,M=E.x,X=E.y,V=E.size,re=E.rotation,me=re===void 0?0:re,j=M+V/2,q=X+V/2;(0,E.draw)(),(z=this._element)===null||z===void 0||z.setAttribute("transform","rotate("+180*me/Math.PI+","+j+","+q+")")},G.prototype._basicDot=function(E){var z=this,M=E.size,X=E.x,V=E.y;this._rotateFigure(O(O({},E),{draw:function(){z._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),z._element.setAttribute("cx",String(X+M/2)),z._element.setAttribute("cy",String(V+M/2)),z._element.setAttribute("r",String(M/2))}}))},G.prototype._basicSquare=function(E){var z=this,M=E.size,X=E.x,V=E.y;this._rotateFigure(O(O({},E),{draw:function(){z._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),z._element.setAttribute("x",String(X)),z._element.setAttribute("y",String(V)),z._element.setAttribute("width",String(M)),z._element.setAttribute("height",String(M))}}))},G.prototype._drawDot=function(E){var z=E.x,M=E.y,X=E.size,V=E.rotation;this._basicDot({x:z,y:M,size:X,rotation:V})},G.prototype._drawSquare=function(E){var z=E.x,M=E.y,X=E.size,V=E.rotation;this._basicSquare({x:z,y:M,size:X,rotation:V})},G}(),J="circle";var $=function(G,E,z,M){return new(z||(z=Promise))(function(X,V){function re(q){try{j(M.next(q))}catch(P){V(P)}}function me(q){try{j(M.throw(q))}catch(P){V(P)}}function j(q){var P;q.done?X(q.value):(P=q.value,P instanceof z?P:new z(function(ce){ce(P)})).then(re,me)}j((M=M.apply(G,[])).next())})},W=function(G,E){var z,M,X,V,re={label:0,sent:function(){if(1&X[0])throw X[1];return X[1]},trys:[],ops:[]};return V={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function me(j){return function(q){return function(P){if(z)throw new TypeError("Generator is already executing.");for(;re;)try{if(z=1,M&&(X=2&P[0]?M.return:P[0]?M.throw||((X=M.return)&&X.call(M),0):M.next)&&!(X=X.call(M,P[1])).done)return X;switch(M=0,X&&(P=[2&P[0],X.value]),P[0]){case 0:case 1:X=P;break;case 4:return re.label++,{value:P[1],done:!1};case 5:re.label++,M=P[1],P=[0];continue;case 7:P=re.ops.pop(),re.trys.pop();continue;default:if(!((X=(X=re.trys).length>0&&X[X.length-1])||P[0]!==6&&P[0]!==2)){re=0;continue}if(P[0]===3&&(!X||P[1]>X[0]&&P[1]<X[3])){re.label=P[1];break}if(P[0]===6&&re.label<X[1]){re.label=X[1],X=P;break}if(X&&re.label<X[2]){re.label=X[2],re.ops.push(P);break}X[2]&&re.ops.pop(),re.trys.pop();continue}P=E.call(G,re)}catch(ce){P=[6,ce],M=0}finally{z=X=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([j,q])}}},fe=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],ae=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const oe=function(){function G(E){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(E.width)),this._element.setAttribute("height",String(E.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=E}return Object.defineProperty(G.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),G.prototype.getElement=function(){return this._element},G.prototype.drawQR=function(E){return $(this,void 0,void 0,function(){var z,M,X,V,re,me,j,q,P,ce,Ce=this;return W(this,function(Fe){switch(Fe.label){case 0:return z=E.getModuleCount(),M=Math.min(this._options.width,this._options.height)-2*this._options.margin,X=this._options.shape===J?M/Math.sqrt(2):M,V=Math.floor(X/z),re={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=E,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(Fe.sent(),!this._image)return[2];me=this._options,j=me.imageOptions,q=me.qrOptions,P=j.imageSize*_[q.errorCorrectionLevel],ce=Math.floor(P*z*z),re=function(ke){var ve=ke.originalHeight,ne=ke.originalWidth,Q=ke.maxHiddenDots,K=ke.maxHiddenAxisDots,xe=ke.dotSize,le={x:0,y:0},Y={x:0,y:0};if(ve<=0||ne<=0||Q<=0||xe<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var ge=ve/ne;return le.x=Math.floor(Math.sqrt(Q/ge)),le.x<=0&&(le.x=1),K&&K<le.x&&(le.x=K),le.x%2==0&&le.x--,Y.x=le.x*xe,le.y=1+2*Math.ceil((le.x*ge-1)/2),Y.y=Math.round(Y.x*ge),(le.y*le.x>Q||K&&K<le.y)&&(K&&K<le.y?(le.y=K,le.y%2==0&&le.x--):le.y-=2,Y.y=le.y*xe,le.x=1+2*Math.ceil((le.y/ge-1)/2),Y.x=Math.round(Y.y/ge)),{height:Y.y,width:Y.x,hideYDots:le.y,hideXDots:le.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:ce,maxHiddenAxisDots:z-14,dotSize:V}),Fe.label=2;case 2:return this.drawBackground(),this.drawDots(function(ke,ve){var ne,Q,K,xe,le,Y;return!(Ce._options.imageOptions.hideBackgroundDots&&ke>=(z-re.hideXDots)/2&&ke<(z+re.hideXDots)/2&&ve>=(z-re.hideYDots)/2&&ve<(z+re.hideYDots)/2||!((ne=fe[ke])===null||ne===void 0)&&ne[ve]||!((Q=fe[ke-z+7])===null||Q===void 0)&&Q[ve]||!((K=fe[ke])===null||K===void 0)&&K[ve-z+7]||!((xe=ae[ke])===null||xe===void 0)&&xe[ve]||!((le=ae[ke-z+7])===null||le===void 0)&&le[ve]||!((Y=ae[ke])===null||Y===void 0)&&Y[ve-z+7])}),this.drawCorners(),this._options.image?[4,this.drawImage({width:re.width,height:re.height,count:z,dotSize:V})]:[3,4];case 3:Fe.sent(),Fe.label=4;case 4:return[2]}})})},G.prototype.drawBackground=function(){var E,z,M,X=this._element,V=this._options;if(X){var re=(E=V.backgroundOptions)===null||E===void 0?void 0:E.gradient,me=(z=V.backgroundOptions)===null||z===void 0?void 0:z.color;if((re||me)&&this._createColor({options:re,color:me,additionalRotation:0,x:0,y:0,height:V.height,width:V.width,name:"background-color"}),(M=V.backgroundOptions)===null||M===void 0?void 0:M.round){var j=Math.min(V.width,V.height),q=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),q.setAttribute("x",String((V.width-j)/2)),q.setAttribute("y",String((V.height-j)/2)),q.setAttribute("width",String(j)),q.setAttribute("height",String(j)),q.setAttribute("rx",String(j/2*V.backgroundOptions.round)),this._backgroundClipPath.appendChild(q)}}},G.prototype.drawDots=function(E){var z,M,X=this;if(!this._qr)throw"QR code is not defined";var V=this._options,re=this._qr.getModuleCount();if(re>V.width||re>V.height)throw"The canvas is too small.";var me=Math.min(V.width,V.height)-2*V.margin,j=V.shape===J?me/Math.sqrt(2):me,q=Math.floor(j/re),P=Math.floor((V.width-re*q)/2),ce=Math.floor((V.height-re*q)/2),Ce=new T({svg:this._element,type:V.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(z=V.dotsOptions)===null||z===void 0?void 0:z.gradient,color:V.dotsOptions.color,additionalRotation:0,x:0,y:0,height:V.height,width:V.width,name:"dot-color"});for(var Fe=function(Re){for(var Ie=function(He){return E&&!E(Re,He)?"continue":!((M=ke._qr)===null||M===void 0)&&M.isDark(Re,He)?(Ce.draw(P+Re*q,ce+He*q,q,function(Ye,We){return!(Re+Ye<0||He+We<0||Re+Ye>=re||He+We>=re)&&!(E&&!E(Re+Ye,He+We))&&!!X._qr&&X._qr.isDark(Re+Ye,He+We)}),void(Ce._element&&ke._dotsClipPath&&ke._dotsClipPath.appendChild(Ce._element))):"continue"},ze=0;ze<re;ze++)Ie(ze)},ke=this,ve=0;ve<re;ve++)Fe(ve);if(V.shape===J){var ne=Math.floor((me/q-re)/2),Q=re+2*ne,K=P-ne*q,xe=ce-ne*q,le=[],Y=Math.floor(Q/2);for(ve=0;ve<Q;ve++){le[ve]=[];for(var ge=0;ge<Q;ge++)ve>=ne-1&&ve<=Q-ne&&ge>=ne-1&&ge<=Q-ne||Math.sqrt((ve-Y)*(ve-Y)+(ge-Y)*(ge-Y))>Y?le[ve][ge]=0:le[ve][ge]=this._qr.isDark(ge-2*ne<0?ge:ge>=re?ge-2*ne:ge-ne,ve-2*ne<0?ve:ve>=re?ve-2*ne:ve-ne)?1:0}var Ae=function(Re){for(var Ie=function(He){if(!le[Re][He])return"continue";Ce.draw(K+Re*q,xe+He*q,q,function(Ye,We){var Ne;return!!(!((Ne=le[Re+Ye])===null||Ne===void 0)&&Ne[He+We])}),Ce._element&&Me._dotsClipPath&&Me._dotsClipPath.appendChild(Ce._element)},ze=0;ze<Q;ze++)Ie(ze)},Me=this;for(ve=0;ve<Q;ve++)Ae(ve)}},G.prototype.drawCorners=function(){var E=this;if(!this._qr)throw"QR code is not defined";var z=this._element,M=this._options;if(!z)throw"Element code is not defined";var X=this._qr.getModuleCount(),V=Math.min(M.width,M.height)-2*M.margin,re=M.shape===J?V/Math.sqrt(2):V,me=Math.floor(re/X),j=7*me,q=3*me,P=Math.floor((M.width-X*me)/2),ce=Math.floor((M.height-X*me)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(Ce){var Fe,ke,ve,ne,Q,K,xe,le,Y,ge,Ae,Me,Re=Ce[0],Ie=Ce[1],ze=Ce[2],He=P+Re*me*(X-7),Ye=ce+Ie*me*(X-7),We=E._dotsClipPath,Ne=E._dotsClipPath;if((!((Fe=M.cornersSquareOptions)===null||Fe===void 0)&&Fe.gradient||!((ke=M.cornersSquareOptions)===null||ke===void 0)&&ke.color)&&((We=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+Re+"-"+Ie),E._defs.appendChild(We),E._cornersSquareClipPath=E._cornersDotClipPath=Ne=We,E._createColor({options:(ve=M.cornersSquareOptions)===null||ve===void 0?void 0:ve.gradient,color:(ne=M.cornersSquareOptions)===null||ne===void 0?void 0:ne.color,additionalRotation:ze,x:He,y:Ye,height:j,width:j,name:"corners-square-color-"+Re+"-"+Ie})),(Q=M.cornersSquareOptions)===null||Q===void 0?void 0:Q.type){var ot=new B({svg:E._element,type:M.cornersSquareOptions.type});ot.draw(He,Ye,j,ze),ot._element&&We&&We.appendChild(ot._element)}else for(var at=new T({svg:E._element,type:M.dotsOptions.type}),yt=function(tt){for(var Qt=function(fr){if(!(!((K=fe[tt])===null||K===void 0)&&K[fr]))return"continue";at.draw(He+tt*me,Ye+fr*me,me,function(zt,br){var Et;return!!(!((Et=fe[tt+zt])===null||Et===void 0)&&Et[fr+br])}),at._element&&We&&We.appendChild(at._element)},ur=0;ur<fe[tt].length;ur++)Qt(ur)},Yt=0;Yt<fe.length;Yt++)yt(Yt);if((!((xe=M.cornersDotOptions)===null||xe===void 0)&&xe.gradient||!((le=M.cornersDotOptions)===null||le===void 0)&&le.color)&&((Ne=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+Re+"-"+Ie),E._defs.appendChild(Ne),E._cornersDotClipPath=Ne,E._createColor({options:(Y=M.cornersDotOptions)===null||Y===void 0?void 0:Y.gradient,color:(ge=M.cornersDotOptions)===null||ge===void 0?void 0:ge.color,additionalRotation:ze,x:He+2*me,y:Ye+2*me,height:q,width:q,name:"corners-dot-color-"+Re+"-"+Ie})),(Ae=M.cornersDotOptions)===null||Ae===void 0?void 0:Ae.type){var Rr=new F({svg:E._element,type:M.cornersDotOptions.type});Rr.draw(He+2*me,Ye+2*me,q,ze),Rr._element&&Ne&&Ne.appendChild(Rr._element)}else{at=new T({svg:E._element,type:M.dotsOptions.type});var en=function(tt){for(var Qt=function(fr){if(!(!((Me=ae[tt])===null||Me===void 0)&&Me[fr]))return"continue";at.draw(He+tt*me,Ye+fr*me,me,function(zt,br){var Et;return!!(!((Et=ae[tt+zt])===null||Et===void 0)&&Et[fr+br])}),at._element&&Ne&&Ne.appendChild(at._element)},ur=0;ur<ae[tt].length;ur++)Qt(ur)};for(Yt=0;Yt<ae.length;Yt++)en(Yt)}})},G.prototype.loadImage=function(){var E=this;return new Promise(function(z,M){var X=E._options,V=new Image;if(!X.image)return M("Image is not defined");typeof X.imageOptions.crossOrigin=="string"&&(V.crossOrigin=X.imageOptions.crossOrigin),E._image=V,V.onload=function(){z()},V.src=X.image})},G.prototype.drawImage=function(E){var z=E.width,M=E.height,X=E.count,V=E.dotSize;return $(this,void 0,void 0,function(){var re,me,j,q,P,ce,Ce,Fe,ke;return W(this,function(ve){switch(ve.label){case 0:return re=this._options,me=Math.floor((re.width-X*V)/2),j=Math.floor((re.height-X*V)/2),q=me+re.imageOptions.margin+(X*V-z)/2,P=j+re.imageOptions.margin+(X*V-M)/2,ce=z-2*re.imageOptions.margin,Ce=M-2*re.imageOptions.margin,(Fe=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(q)),Fe.setAttribute("y",String(P)),Fe.setAttribute("width",ce+"px"),Fe.setAttribute("height",Ce+"px"),[4,S(re.image||"")];case 1:return ke=ve.sent(),Fe.setAttribute("href",ke||""),this._element.appendChild(Fe),[2]}})})},G.prototype._createColor=function(E){var z=E.options,M=E.color,X=E.additionalRotation,V=E.x,re=E.y,me=E.height,j=E.width,q=E.name,P=j>me?j:me,ce=document.createElementNS("http://www.w3.org/2000/svg","rect");if(ce.setAttribute("x",String(V)),ce.setAttribute("y",String(re)),ce.setAttribute("height",String(me)),ce.setAttribute("width",String(j)),ce.setAttribute("clip-path","url('#clip-path-"+q+"')"),z){var Ce;if(z.type==="radial")(Ce=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",q),Ce.setAttribute("gradientUnits","userSpaceOnUse"),Ce.setAttribute("fx",String(V+j/2)),Ce.setAttribute("fy",String(re+me/2)),Ce.setAttribute("cx",String(V+j/2)),Ce.setAttribute("cy",String(re+me/2)),Ce.setAttribute("r",String(P/2));else{var Fe=((z.rotation||0)+X)%(2*Math.PI),ke=(Fe+2*Math.PI)%(2*Math.PI),ve=V+j/2,ne=re+me/2,Q=V+j/2,K=re+me/2;ke>=0&&ke<=.25*Math.PI||ke>1.75*Math.PI&&ke<=2*Math.PI?(ve-=j/2,ne-=me/2*Math.tan(Fe),Q+=j/2,K+=me/2*Math.tan(Fe)):ke>.25*Math.PI&&ke<=.75*Math.PI?(ne-=me/2,ve-=j/2/Math.tan(Fe),K+=me/2,Q+=j/2/Math.tan(Fe)):ke>.75*Math.PI&&ke<=1.25*Math.PI?(ve+=j/2,ne+=me/2*Math.tan(Fe),Q-=j/2,K-=me/2*Math.tan(Fe)):ke>1.25*Math.PI&&ke<=1.75*Math.PI&&(ne+=me/2,ve+=j/2/Math.tan(Fe),K-=me/2,Q-=j/2/Math.tan(Fe)),(Ce=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",q),Ce.setAttribute("gradientUnits","userSpaceOnUse"),Ce.setAttribute("x1",String(Math.round(ve))),Ce.setAttribute("y1",String(Math.round(ne))),Ce.setAttribute("x2",String(Math.round(Q))),Ce.setAttribute("y2",String(Math.round(K)))}z.colorStops.forEach(function(xe){var le=xe.offset,Y=xe.color,ge=document.createElementNS("http://www.w3.org/2000/svg","stop");ge.setAttribute("offset",100*le+"%"),ge.setAttribute("stop-color",Y),Ce.appendChild(ge)}),ce.setAttribute("fill","url('#"+q+"')"),this._defs.appendChild(Ce)}else M&&ce.setAttribute("fill",M);this._element.appendChild(ce)},G}(),he="canvas";for(var de={},H=0;H<=40;H++)de[H]=H;const ee={type:he,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:de[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var L=function(){return(L=Object.assign||function(G){for(var E,z=1,M=arguments.length;z<M;z++)for(var X in E=arguments[z])Object.prototype.hasOwnProperty.call(E,X)&&(G[X]=E[X]);return G}).apply(this,arguments)};function ue(G){var E=L({},G);if(!E.colorStops||!E.colorStops.length)throw"Field 'colorStops' is required in gradient";return E.rotation?E.rotation=Number(E.rotation):E.rotation=0,E.colorStops=E.colorStops.map(function(z){return L(L({},z),{offset:Number(z.offset)})}),E}function Z(G){var E=L({},G);return E.width=Number(E.width),E.height=Number(E.height),E.margin=Number(E.margin),E.imageOptions=L(L({},E.imageOptions),{hideBackgroundDots:!!E.imageOptions.hideBackgroundDots,imageSize:Number(E.imageOptions.imageSize),margin:Number(E.imageOptions.margin)}),E.margin>Math.min(E.width,E.height)&&(E.margin=Math.min(E.width,E.height)),E.dotsOptions=L({},E.dotsOptions),E.dotsOptions.gradient&&(E.dotsOptions.gradient=ue(E.dotsOptions.gradient)),E.cornersSquareOptions&&(E.cornersSquareOptions=L({},E.cornersSquareOptions),E.cornersSquareOptions.gradient&&(E.cornersSquareOptions.gradient=ue(E.cornersSquareOptions.gradient))),E.cornersDotOptions&&(E.cornersDotOptions=L({},E.cornersDotOptions),E.cornersDotOptions.gradient&&(E.cornersDotOptions.gradient=ue(E.cornersDotOptions.gradient))),E.backgroundOptions&&(E.backgroundOptions=L({},E.backgroundOptions),E.backgroundOptions.gradient&&(E.backgroundOptions.gradient=ue(E.backgroundOptions.gradient))),E}var ye=C(192),Te=C.n(ye),Se=function(G,E,z,M){return new(z||(z=Promise))(function(X,V){function re(q){try{j(M.next(q))}catch(P){V(P)}}function me(q){try{j(M.throw(q))}catch(P){V(P)}}function j(q){var P;q.done?X(q.value):(P=q.value,P instanceof z?P:new z(function(ce){ce(P)})).then(re,me)}j((M=M.apply(G,[])).next())})},ie=function(G,E){var z,M,X,V,re={label:0,sent:function(){if(1&X[0])throw X[1];return X[1]},trys:[],ops:[]};return V={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function me(j){return function(q){return function(P){if(z)throw new TypeError("Generator is already executing.");for(;re;)try{if(z=1,M&&(X=2&P[0]?M.return:P[0]?M.throw||((X=M.return)&&X.call(M),0):M.next)&&!(X=X.call(M,P[1])).done)return X;switch(M=0,X&&(P=[2&P[0],X.value]),P[0]){case 0:case 1:X=P;break;case 4:return re.label++,{value:P[1],done:!1};case 5:re.label++,M=P[1],P=[0];continue;case 7:P=re.ops.pop(),re.trys.pop();continue;default:if(!((X=(X=re.trys).length>0&&X[X.length-1])||P[0]!==6&&P[0]!==2)){re=0;continue}if(P[0]===3&&(!X||P[1]>X[0]&&P[1]<X[3])){re.label=P[1];break}if(P[0]===6&&re.label<X[1]){re.label=X[1],X=P;break}if(X&&re.label<X[2]){re.label=X[2],re.ops.push(P);break}X[2]&&re.ops.pop(),re.trys.pop();continue}P=E.call(G,re)}catch(ce){P=[6,ce],M=0}finally{z=X=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([j,q])}}};const Ee=function(){function G(E){this._options=E?Z(w(ee,E)):ee,this.update()}return G._clearContainer=function(E){E&&(E.innerHTML="")},G.prototype._setupSvg=function(){var E=this;if(this._qr){var z=new oe(this._options);this._svg=z.getElement(),this._svgDrawingPromise=z.drawQR(this._qr).then(function(){var M;E._svg&&((M=E._extension)===null||M===void 0||M.call(E,z.getElement(),E._options))})}},G.prototype._setupCanvas=function(){var E,z=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=(E=this._svgDrawingPromise)===null||E===void 0?void 0:E.then(function(){if(z._svg){var M=z._svg,X=new XMLSerializer().serializeToString(M),V="data:image/svg+xml;base64,"+btoa(X),re=new Image;return new Promise(function(me){re.onload=function(){var j,q;(q=(j=z._canvas)===null||j===void 0?void 0:j.getContext("2d"))===null||q===void 0||q.drawImage(re,0,0),me()},re.src=V})}}))},G.prototype._getElement=function(E){return E===void 0&&(E="png"),Se(this,void 0,void 0,function(){return ie(this,function(z){switch(z.label){case 0:if(!this._qr)throw"QR code is empty";return E.toLowerCase()!=="svg"?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return z.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return z.sent(),[2,this._canvas]}})})},G.prototype.update=function(E){G._clearContainer(this._container),this._options=E?Z(w(this._options,E)):this._options,this._options.data&&(this._qr=Te()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(z){switch(!0){case/^[0-9]*$/.test(z):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(z):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===he?this._setupCanvas():this._setupSvg(),this.append(this._container))},G.prototype.append=function(E){if(E){if(typeof E.appendChild!="function")throw"Container should be a single DOM node";this._options.type===he?this._canvas&&E.appendChild(this._canvas):this._svg&&E.appendChild(this._svg),this._container=E}},G.prototype.applyExtension=function(E){if(!E)throw"Extension function should be defined.";this._extension=E,this.update()},G.prototype.deleteExtension=function(){this._extension=void 0,this.update()},G.prototype.getRawData=function(E){return E===void 0&&(E="png"),Se(this,void 0,void 0,function(){var z,M,X;return ie(this,function(V){switch(V.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(E)];case 1:return(z=V.sent())?E.toLowerCase()==="svg"?(M=new XMLSerializer,X=M.serializeToString(z),[2,new Blob([`<?xml version="1.0" standalone="no"?>\r
`+X],{type:"image/svg+xml"})]):[2,new Promise(function(re){return z.toBlob(re,"image/"+E,1)})]:[2,null]}})})},G.prototype.download=function(E){return Se(this,void 0,void 0,function(){var z,M,X,V,re;return ie(this,function(me){switch(me.label){case 0:if(!this._qr)throw"QR code is empty";return z="png",M="qr",typeof E=="string"?(z=E,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof E=="object"&&E!==null&&(E.name&&(M=E.name),E.extension&&(z=E.extension)),[4,this._getElement(z)];case 1:return(X=me.sent())?(z.toLowerCase()==="svg"?(V=new XMLSerializer,re=`<?xml version="1.0" standalone="no"?>\r
`+(re=V.serializeToString(X)),v("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(re),M+".svg")):v(X.toDataURL("image/"+z),M+"."+z),[2]):[2]}})})},G}()}},u={};function h(f){if(u[f])return u[f].exports;var p=u[f]={exports:{}};return a[f](p,p.exports,h),p.exports}return h.n=f=>{var p=f&&f.__esModule?()=>f.default:()=>f;return h.d(p,{a:p}),p},h.d=(f,p)=>{for(var C in p)h.o(p,C)&&!h.o(f,C)&&Object.defineProperty(f,C,{enumerable:!0,get:p[C]})},h.o=(f,p)=>Object.prototype.hasOwnProperty.call(f,p),h(676)})().default})})(sl);const al=o=>new ol.QRCodeCanvas(o+"").toDataUrl();function vr(){for(var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwyxz",c=16,a="",u=0;u<c;u++)a+=o.charAt(Math.floor(Math.random()*o.length));return a}const P0={},kr=(o,c)=>{P0[o]=c},eo=o=>o?P0[o]:P0;function cl(o){try{return JSON.parse(o),!0}catch{return!1}}function xa(o){var c=[];return o&&Object.keys(o).map(a=>{c.push(o[a])}),c}const Sn=async o=>{let c="",a="https://qvamarkets.com/gql_api",u={method:"post",headers:{"Content-Type":"application/json",Authorization:`${c}`},body:JSON.stringify(o)};try{return(await fetch(a,u)).json()}catch(h){return console.log(h),null}};function ws(o,c){try{var a=Or.enc.Base64.parse(c),u=null;return u=Or.AES.encrypt(o,a,{mode:Or.mode.ECB,padding:Or.pad.Pkcs7}),u.ciphertext.toString(Or.enc.Base64)}catch{return null}}function gi(o,c){var a=Or.enc.Base64.parse(c),u=Or.AES.decrypt(o,a,{mode:Or.mode.ECB,padding:Or.pad.Pkcs7});return u.toString(Or.enc.Utf8)}function U0(o){var c=document.cookie.match(new RegExp("(^| )"+o+"=([^;]+)"));return c?c[2]:null}const ga=async o=>{const c=JSON.stringify(o);var a={};let u=eo("sectionKey");var h=vr();let f=ws(h,u),p=ws(c,h);const C={};C.d=p,C.k=f;var A=JSON.stringify(C),x=U0(to());const m="https://qvamarkets.com/gql_v4";if(p){var w=await(await fetch(m,{method:"post",headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Authorization:`${x}`},body:A})).json();const{data:_}=w;if(_&&_.d){let b=gi(_.k,u),T=gi(_.d,b);cl(T)&&(a=JSON.parse(T))}return a}};function pa(o){var c=[];if(o)try{c=Object.keys(o)}catch{for(var a in o)c.push(a)}return c}const ll=()=>"profileUser",H0=()=>"querys_callback",to=()=>"ssg_logistic_tkn";function un(o,c){let a;function u(h){clearTimeout(a),a=setTimeout(()=>o(h),c)}return Mr(()=>clearInterval(a)),u}const[z0,ul]=Ke("");Ke("");const[fl,hl]=nr({});var dl=Xe('<svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path>');function lr(o){let c=o?.size?o?.size:24;return(()=>{var a=dl(),u=a.firstChild;return a.addEventListener("mouseleave",()=>{o?.tooltipMessage&&(showTooltip(!1),setTimeout(()=>showTooltip(!0),50))}),rr(a,"height",c),rr(a,"width",c),bt(h=>{var f=o?.color,p=fl?.[o.name];return f!==h.e&&rr(a,"fill",h.e=f),p!==h.t&&rr(u,"d",h.t=p),h},{e:void 0,t:void 0}),a})()}var xl=Xe('<div class="filter_search_btn _dsplFlx"><input type=text aria-haspopup=false auto-capitalize=off auto-complete=off auto-correct=off spell-check=false placeholder=search><div class=btn_close>'),gl=Xe('<div class="filter_search_btn _dsplFlx"><div class="lbl date Lbldrp">'),pl=Xe('<div class=" monthList">'),ml=Xe('<div class="OpenBoxContainer ">'),Cl=Xe("<div><div id=drpdwn_click_outside>"),wl=Xe('<div class="filter_month_item _dsplFlx"><div class="lbl tr_bar_15"></div><div class="lbl tr_bar_80">');const ro=o=>{const[c,a]=Ke(!1),[u,h]=Ke(""),f=un(h,400),p=b=>{o?.onSelect(b),A()},C=()=>{o?.onSelect(""),A()},A=()=>{c()?a(!1):c()||(a(!0),setTimeout(()=>{},50))},x=b=>{o.hasDebounce?f(b.target.value):h(b.target.value)},m=()=>o?.list.filter(b=>b.id===o?.value)?.[0]?.label;let w=o?.direction||"left",v={"--pck--width":o?.width,"--pck--color":o?.color,"--pck--backColor":o?.backColor,"--pck--border-color":o?.borderColor,"--pck--aborder-color":o?.borderActiveColor};const[S,{refetch:_}]=V0(u,async b=>o.list.filter(R=>R?.label?.toLowerCase()?.indexOf(b?.toLowerCase())>-1));return(()=>{var b=Cl(),T=b.firstChild;return Be(T,De(Je,{get when(){return c()},get children(){var R=xl(),B=R.firstChild,O=B.nextSibling;return B.$$input=x,O.$$click=C,Be(O,De(lr,{name:"Xclose",color:"var(--color-pck)"})),R}}),null),Be(T,De(Je,{get when(){return!c()},get children(){var R=gl(),B=R.firstChild;return R.$$click=A,Be(B,()=>m()||o?.lbl_empty),Be(R,De(lr,{name:"arrow_drop_down",color:"var(--color-pck)"}),null),R}}),null),Be(T,De(Je,{get when(){return c()},get children(){var R=ml();return rr(R,"direction",`${w}`),Be(R,De(Je,{get when(){return S()},get children(){var B=pl();return Be(B,De(jn,{get each(){return S()},children:(O,F)=>{let J=O.label;return De(Je,{when:J,get children(){var $=wl(),W=$.firstChild,fe=W.nextSibling;return $.$$click=()=>p(O),rr($,"key",J+"_"+F),Be(W,De(lr,{get name(){return O?.icon},color:"var(--color-pck)"})),Be(fe,J),$}})}})),B}})),bt(B=>Hr(R,o?.background?{backgroundColor:o?.background}:null,B)),R}}),null),bt(R=>{var B={...v,"min-width":"var(--pck--width)"},O=` searchDDBx ${c()?"open":""}`,F=`${c()}`;return R.e=Hr(b,B,R.e),O!==R.t&&Qr(T,R.t=O),F!==R.a&&(T.open=R.a=F),R},{e:void 0,t:void 0,a:void 0}),b})()};wr(["input","click"]);var Al=Xe("<div class=flexSpace>");const Pr=()=>Al();function no(o){let c,a;function u(){c=setInterval(()=>{a!==window.outerWidth>460&&(a=window.outerWidth>460,o(a))},450)}return Mr(()=>clearInterval(c)),u}var ma=Xe("<div>"),yl=Xe("<div><div class=ltr-hoe9xz><div class=ltr-1wao6ny>");const[El,Ca]=Ke(""),[pi,wa]=nr([]),vl=()=>(()=>{var o=ma();return Be(o,()=>El()?" ":"",null),Be(o,De(jn,{each:pi,children:(c,a)=>De(bl,{item:c})}),null),o})(),bl=o=>{let c={};o?.item?.props?.height&&(c.heigth=o?.item?.props?.height),o?.item?.zIndex&&(c["z-index"]=o?.item?.props?.zIndex-1);let a={"z-index":o?.item?.props?.zIndex},u=o?.item?.content,h=o?.item?.overlayTransparent?" transparent":"",f=o?.item?.overlayTransparent?" overlayTransparent":"";return(()=>{var p=yl(),C=p.firstChild,A=C.firstChild;return p.className=`ltr-1kbnjow ${h} `,Hr(p,c),Be(A,u),Be(p,(()=>{var x=_t(()=>!!o?.item?.props?.overlay);return()=>x()?(()=>{var m=ma();return m.$$click=()=>{_l(o?.item?.id)},m.className=`DialogHRMOverlay active  ${f}  `,m})():null})(),null),bt(x=>Hr(A,a,x)),p})()},Aa=o=>{let c=[];pi.map(h=>{c.push(h)}),console.log(c),c.push(o),document.getElementsByTagName("html")[0].classList.add("has-level-two");let u=document.getElementsByTagName("body")[0];u.style["overflow-y"]="hidden",wa(c),Ca(vr())},_l=o=>{let c=[],a=null;pi.map(f=>{a=f.id=o}),pi.splice(a,1),document.getElementsByTagName("html")[0].classList.remove("has-level-two");let h=document.getElementsByTagName("body")[0];h.style["overflow-y"]=null,wa(c),Ca(vr())};wr(["click"]);var Sl=Xe('<div><div class="_dsplFlx flxWrp spaceAround "><img ref alt=qr>');function ya(o){return(()=>{var c=Sl(),a=c.firstChild,u=a.firstChild;return c.style.setProperty("max-height","80vh"),c.style.setProperty("width","350px"),c.style.setProperty("overflow","auto"),c.style.setProperty("background","#ffffff"),c.style.setProperty("border-radius","13"),c.style.setProperty("padding","10px 19px"),bt(()=>rr(u,"src",al(o?.val))),c})()}var Il=Xe('<div class=" tr_bar_10 _dsplFlx"><div class="icon_status centerBx"></div><div class=guide_number><h5>'),Dl=Xe('<p class="tr_bar_30 textleft fullName_consigne">'),Tl=Xe("<div style=margin-right:4vw>"),Bl=Xe('<h4 class="tr_bar_20 textleft">'),Ol=Xe("<div class=bag_number><h5>"),Nl=Xe('<div class="_dsplFlx bottombx"><p></p><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),Ml=Xe('<div class="_dsplFlx bottombx"><h5>'),Rl=Xe('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx topbx centerBx">');function Fl(o){nr({search:"",status:"AERO_33"});const[c,a]=Ke(""),[u,h]=Ke("");un(h,400),no(a);const f=w=>w?" "+w:"",p=()=>{let w=o?.item?.consigneeInfo;return f(w?.firstName)+f(w?.middleName)+f(w?.lastName)+f(w?.lastName2)},C=()=>{let w=o?.item?.consigneeInfo,v=f(w?.altPhoneNumber);return f(w?.phoneNumber)+(v?" |"+v:"")};o?.item?.street?.split(",");const A=()=>{let w=o?.item?.statusHistory||[];return o?.item?.statusHistory?w.reduce((v,S)=>{if(S.statusId==="AERO_33")return Math.min(v,S.timeStamp)},1/0):null},x=()=>{let w=o?.item?.street.split(",");return w.slice(0,w.length-2).join(",")},m=()=>{let w=o?.item?.hbls.length;const v=o?.item?.hbls.reduce((b,T)=>b+`${b?"/":""}${T.hbl}/${T.quantity}/${T.weight}`,"");let S=`${o?.item?.idairguide}/${o?.item?.cidentity}/${w}/${v}`,_={};_.id=vr(),_.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},_.content=De(ya,{val:S}),Aa(_)};return De(Je,{get when(){return o?.item?.guia},get children(){var w=Rl(),v=w.firstChild;return Be(v,De(Je,{get when(){return o?.item?.guia},get children(){return[(()=>{var S=Il(),_=S.firstChild,b=_.nextSibling,T=b.firstChild;return Be(_,De(lr,{get name(){return Q0?.[o?.item?.currentStatus]},size:32})),Be(T,()=>o?.item?.guia),Be(S,A,null),S})(),(()=>{var S=Dl();return Be(S,p),S})(),Tl(),(()=>{var S=Bl();return Be(S,C),S})()]}}),null),Be(v,De(Pr,{}),null),Be(v,De(Je,{get when(){return o?.item?.bagnumber},get children(){var S=Ol(),_=S.firstChild;return S.$$click=m,Be(_,()=>o?.item?.bagnumber),S}}),null),Be(w,De(Je,{get when(){return o?.item?.consigneeInfo?.ybcity},get children(){var S=Nl(),_=S.firstChild,b=_.nextSibling,T=b.firstChild,R=T.nextSibling,B=R.nextSibling;return Be(_,x),Be(S,De(Pr,{}),b),Be(T,()=>o?.item?.consigneeInfo?.ybcity),Be(B,()=>o?.item?.consigneeInfo?.ybestate),S}}),null),Be(w,De(Je,{when:!1,get children(){var S=Ml(),_=S.firstChild;return Be(S,De(Pr,{}),_),Be(_,()=>o?.item?.nameshipper),Be(S,De(Pr,{}),null),S}}),null),w}})}wr(["click"]);var Ll=Xe('<div class=" jaqJnq_hrm1"><button class="gHAsFI_hrm1 dqn9fN jUrKkb"type=button><h5>');function kl(o){Ke(0);const[c,a]=Ke(!1),u=()=>{o?.handleClick?.()},h=A=>{a(A)};let f={};if(o?.color){let{r:A,g:x,b:m}=Hl(o.color),w="rgba("+[A,x,m].join(",")+", 0.17 )",v="rgba("+[A,x,m].join(",")+", 0.21 )",S="rgba("+[A,x,m].join(",")+", 0.42 )";f={"--btn_bg_hrm2":w,"--btn_bg_hover_hrm2":v,"--btn_text_hrm2":o?.color,"--btn_border_hrm2":c()?o?.color:"transparent","--border-radius-8":8},c()&&(f={"--btn_bg_hrm2":w,"--btn_bg_hover_hrm2":S,"--btn_text_hrm2":o?.color,"--btn_border_hrm2":o?.color,"--border-radius-8":"8px"})}function p(){const[A,x]=Ke(!1);return X0(()=>{x(typeof window<"u")}),A}const C=p();return Gn(()=>{C()&&Ul("obs-theme",h)}),(()=>{var A=Ll(),x=A.firstChild,m=x.firstChild;return x.$$click=u,Be(x,De(Je,{get when(){return o?.icon},get children(){return De(lr,{get name(){return o?.icon}})}}),m),Be(m,()=>o.label),bt(w=>Hr(A,f,w)),A})()}const Pl={attributes:!0,characterData:!0},Ul=async(o,c,a,u)=>{const h=new MutationObserver(p=>{console.log(MutationObserver),p.forEach(C=>{if(C?.type==="attributes"){let A=C?.attributeName?.toString()?.trim(),x=o.toString().trim();A===x&&c&&c(vr(),o)}})}),f=document.querySelector("html");h.observe(f,Pl)},Hl=o=>{o=o.replace("#",""),o.length!==6&&(o=zl(o));const c=parseInt(o.slice(0,2),16),a=parseInt(o.slice(2,4),16),u=parseInt(o.slice(4,6),16);return{r:c,g:a,b:u}};function zl(o){return o.length===4&&(o=o.replace("#","")),o.length===3&&(o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]),o}wr(["click"]);var dt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var As=Object.getOwnPropertySymbols,jl=Object.prototype.hasOwnProperty,Wl=Object.prototype.propertyIsEnumerable;function Vl(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function Gl(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var c={},a=0;a<10;a++)c["_"+String.fromCharCode(a)]=a;var u=Object.getOwnPropertyNames(c).map(function(f){return c[f]});if(u.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(f){h[f]=f}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Xl=Gl()?Object.assign:function(o,c){for(var a,u=Vl(o),h,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var p in a)jl.call(a,p)&&(u[p]=a[p]);if(As){h=As(a);for(var C=0;C<h.length;C++)Wl.call(a,h[C])&&(u[h[C]]=a[h[C]])}}return u};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=Xl,In=60103,Ea=60106;dt.Fragment=60107;dt.StrictMode=60108;dt.Profiler=60114;var va=60109,ba=60110,_a=60112;dt.Suspense=60113;var Sa=60115,Ia=60116;if(typeof Symbol=="function"&&Symbol.for){var yr=Symbol.for;In=yr("react.element"),Ea=yr("react.portal"),dt.Fragment=yr("react.fragment"),dt.StrictMode=yr("react.strict_mode"),dt.Profiler=yr("react.profiler"),va=yr("react.provider"),ba=yr("react.context"),_a=yr("react.forward_ref"),dt.Suspense=yr("react.suspense"),Sa=yr("react.memo"),Ia=yr("react.lazy")}var ys=typeof Symbol=="function"&&Symbol.iterator;function Yl(o){return o===null||typeof o!="object"?null:(o=ys&&o[ys]||o["@@iterator"],typeof o=="function"?o:null)}function qn(o){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+o,a=1;a<arguments.length;a++)c+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Da={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ta={};function Dn(o,c,a){this.props=o,this.context=c,this.refs=Ta,this.updater=a||Da}Dn.prototype.isReactComponent={};Dn.prototype.setState=function(o,c){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error(qn(85));this.updater.enqueueSetState(this,o,c,"setState")};Dn.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function Ba(){}Ba.prototype=Dn.prototype;function oo(o,c,a){this.props=o,this.context=c,this.refs=Ta,this.updater=a||Da}var so=oo.prototype=new Ba;so.constructor=oo;io(so,Dn.prototype);so.isPureReactComponent=!0;var ao={current:null},Oa=Object.prototype.hasOwnProperty,Na={key:!0,ref:!0,__self:!0,__source:!0};function Ma(o,c,a){var u,h={},f=null,p=null;if(c!=null)for(u in c.ref!==void 0&&(p=c.ref),c.key!==void 0&&(f=""+c.key),c)Oa.call(c,u)&&!Na.hasOwnProperty(u)&&(h[u]=c[u]);var C=arguments.length-2;if(C===1)h.children=a;else if(1<C){for(var A=Array(C),x=0;x<C;x++)A[x]=arguments[x+2];h.children=A}if(o&&o.defaultProps)for(u in C=o.defaultProps,C)h[u]===void 0&&(h[u]=C[u]);return{$$typeof:In,type:o,key:f,ref:p,props:h,_owner:ao.current}}function ql(o,c){return{$$typeof:In,type:o.type,key:c,ref:o.ref,props:o.props,_owner:o._owner}}function co(o){return typeof o=="object"&&o!==null&&o.$$typeof===In}function $l(o){var c={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(a){return c[a]})}var Es=/\/+/g;function T0(o,c){return typeof o=="object"&&o!==null&&o.key!=null?$l(""+o.key):c.toString(36)}function ai(o,c,a,u,h){var f=typeof o;(f==="undefined"||f==="boolean")&&(o=null);var p=!1;if(o===null)p=!0;else switch(f){case"string":case"number":p=!0;break;case"object":switch(o.$$typeof){case In:case Ea:p=!0}}if(p)return p=o,h=h(p),o=u===""?"."+T0(p,0):u,Array.isArray(h)?(a="",o!=null&&(a=o.replace(Es,"$&/")+"/"),ai(h,c,a,"",function(x){return x})):h!=null&&(co(h)&&(h=ql(h,a+(!h.key||p&&p.key===h.key?"":(""+h.key).replace(Es,"$&/")+"/")+o)),c.push(h)),1;if(p=0,u=u===""?".":u+":",Array.isArray(o))for(var C=0;C<o.length;C++){f=o[C];var A=u+T0(f,C);p+=ai(f,c,a,A,h)}else if(A=Yl(o),typeof A=="function")for(o=A.call(o),C=0;!(f=o.next()).done;)f=f.value,A=u+T0(f,C++),p+=ai(f,c,a,A,h);else if(f==="object")throw c=""+o,Error(qn(31,c==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":c));return p}function oi(o,c,a){if(o==null)return o;var u=[],h=0;return ai(o,u,"","",function(f){return c.call(a,f,h++)}),u}function Zl(o){if(o._status===-1){var c=o._result;c=c(),o._status=0,o._result=c,c.then(function(a){o._status===0&&(a=a.default,o._status=1,o._result=a)},function(a){o._status===0&&(o._status=2,o._result=a)})}if(o._status===1)return o._result;throw o._result}var Ra={current:null};function zr(){var o=Ra.current;if(o===null)throw Error(qn(321));return o}var Ql={ReactCurrentDispatcher:Ra,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ao,IsSomeRendererActing:{current:!1},assign:io};dt.Children={map:oi,forEach:function(o,c,a){oi(o,function(){c.apply(this,arguments)},a)},count:function(o){var c=0;return oi(o,function(){c++}),c},toArray:function(o){return oi(o,function(c){return c})||[]},only:function(o){if(!co(o))throw Error(qn(143));return o}};dt.Component=Dn;dt.PureComponent=oo;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ql;dt.cloneElement=function(o,c,a){if(o==null)throw Error(qn(267,o));var u=io({},o.props),h=o.key,f=o.ref,p=o._owner;if(c!=null){if(c.ref!==void 0&&(f=c.ref,p=ao.current),c.key!==void 0&&(h=""+c.key),o.type&&o.type.defaultProps)var C=o.type.defaultProps;for(A in c)Oa.call(c,A)&&!Na.hasOwnProperty(A)&&(u[A]=c[A]===void 0&&C!==void 0?C[A]:c[A])}var A=arguments.length-2;if(A===1)u.children=a;else if(1<A){C=Array(A);for(var x=0;x<A;x++)C[x]=arguments[x+2];u.children=C}return{$$typeof:In,type:o.type,key:h,ref:f,props:u,_owner:p}};dt.createContext=function(o,c){return c===void 0&&(c=null),o={$$typeof:ba,_calculateChangedBits:c,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null},o.Provider={$$typeof:va,_context:o},o.Consumer=o};dt.createElement=Ma;dt.createFactory=function(o){var c=Ma.bind(null,o);return c.type=o,c};dt.createRef=function(){return{current:null}};dt.forwardRef=function(o){return{$$typeof:_a,render:o}};dt.isValidElement=co;dt.lazy=function(o){return{$$typeof:Ia,_payload:{_status:-1,_result:o},_init:Zl}};dt.memo=function(o,c){return{$$typeof:Sa,type:o,compare:c===void 0?null:c}};dt.useCallback=function(o,c){return zr().useCallback(o,c)};dt.useContext=function(o,c){return zr().useContext(o,c)};dt.useDebugValue=function(){};dt.useEffect=function(o,c){return zr().useEffect(o,c)};dt.useImperativeHandle=function(o,c,a){return zr().useImperativeHandle(o,c,a)};dt.useLayoutEffect=function(o,c){return zr().useLayoutEffect(o,c)};dt.useMemo=function(o,c){return zr().useMemo(o,c)};dt.useReducer=function(o,c,a){return zr().useReducer(o,c,a)};dt.useRef=function(o){return zr().useRef(o)};dt.useState=function(o){return zr().useState(o)};dt.version="17.0.2";var Kl=Xe('<div id=loadingSpinner><svg class=spinnerSvg viewBox="25 25 50 50"><circle cx=50 cy=50 r=20 fill=none strokeMiterlimit=10>');const lo=o=>{let c="spinnerPath",a={};return o?.stroke&&(c="spinnerPathWC",a={stroke:o?.stroke}),(()=>{var u=Kl(),h=u.firstChild,f=h.firstChild;return u.style.setProperty("position","relative"),rr(f,"class",c),bt(p=>{var C=o?.size+"px"||"10px",A=o?.size+"px"||"10px",x=a,m=o?.strokeW||2;return C!==p.e&&((p.e=C)!=null?u.style.setProperty("width",C):u.style.removeProperty("width")),A!==p.t&&((p.t=A)!=null?u.style.setProperty("height",A):u.style.removeProperty("height")),p.a=Hr(f,x,p.a),m!==p.o&&rr(f,"strokeWidth",p.o=m),p},{e:void 0,t:void 0,a:void 0,o:void 0}),u})()};var Jl=Xe('<div class=" _dsplFlx"><div class="icon_status centerBx"></div><div class=guide_number><h5>'),eu=Xe("<div class=bag_number><h5>"),tu=Xe('<div class="icon_status centerBx">'),ru=Xe('<div class="_dsplFlx bottombx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),nu=Xe('<div class="client_item_box gWXAaj jlytmu"><div class=" topbx centerBx"></div><div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft "></p></div><div class="_dsplFlx bottombx"><div class="icon_status centerBx"></div><h4></h4></div>');function iu(o){nr({search:"",status:"AERO_33"});const[c,a]=Ke(""),[u,h]=Ke("");un(h,400),no(a);const f=w=>w?" "+w:"",p=()=>{let w=o?.item?.consigneeInfo;return f(w?.firstName)+f(w?.middleName)+f(w?.lastName)+f(w?.lastName2)},C=()=>{o?.item?.ssg_track_key,o?.item?.idairguide,ou()},A=()=>{let w=o?.item?.consigneeInfo,v=f(w?.altPhoneNumber);return f(w?.phoneNumber)+(v?" |"+v:"")},x=()=>{let w=o?.item?.street.split(",");return w.slice(0,w.length-2).join(",")},m=()=>{let w=o?.item?.hbls.length;const v=o?.item?.hbls.reduce((b,T)=>b+`${b?"/":""}${T.hbl}/${T.quantity}/${T.weight}`,"");let S=`${o?.item?.idairguide}/${o?.item?.cidentity}/${w}/${v}`,_={};_.id=vr(),_.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},_.content=De(ShowQR,{val:S}),OpenModal(_)};return De(Je,{get when(){return o?.item?.guia},get children(){var w=nu(),v=w.firstChild,S=v.nextSibling,_=S.firstChild,b=_.nextSibling,T=b.nextSibling,R=T.nextSibling,B=S.nextSibling,O=B.firstChild,F=O.nextSibling;return Be(v,De(Je,{get when(){return o?.item?.guia},get children(){var J=Jl(),$=J.firstChild,W=$.nextSibling,fe=W.firstChild;return Be($,De(lr,{get name(){return Q0?.[o?.item?.currentStatus]},size:32})),Be(fe,()=>o?.item?.guia),J}}),null),Be(v,De(Pr,{}),null),Be(v,De(Je,{get when(){return o?.item?.bagnumber},get children(){var J=eu(),$=J.firstChild;return J.$$click=m,Be($,()=>o?.item?.bagnumber),J}}),null),Be(v,De(Je,{get when(){return o?.item?.ssg_track_key.length===16},get children(){var J=tu();return J.$$click=C,Be(J,De(lr,{name:"outline_delete",size:24})),J}}),null),Be(_,p),Be(T,A),Be(R,x),Be(w,De(Je,{get when(){return o?.item?.consigneeInfo?.ybcity},get children(){var J=ru(),$=J.firstChild,W=$.firstChild,fe=W.nextSibling,ae=fe.nextSibling;return Be(W,()=>o?.item?.consigneeInfo?.ybcity),Be(ae,()=>o?.item?.consigneeInfo?.ybestate),J}}),B),O.$$click=C,Be(O,De(lr,{name:"send",size:24,color:"#4b4b4b"})),F.style.setProperty("color","#7b7b7b"),Be(F,()=>o?.item?.nameshipper),w}})}const ou=async o=>{};wr(["click"]);var su=Xe("<div class=loading_app><div id=buttonDiv></div>");const Fa=async o=>{const u=await ga({query:"53hvscu362"});if(u&&!u.error){let h=eo(H0())||{},f=Object.assign({},h,u);kr(H0(),f)}o&&o()},La=async(o,c)=>{let a=eo(H0())?.validateTkn;if(a){a.params={tkn:o};const h=await ga(a);if(h&&h.userId){kr(ll(),h),kr("isAdmin",h.isAdmin),kr("hasNotaryAccess",h.hasNotaryAccess);let f=[];pa(h.accessActivities).map(p=>{let C=h.accessActivities[p];C.isActive&&f.push({id:C.idCode,label:C.label})}),kr("accessActivities",h.accessActivities),kr("accessActivitiesDrodDwn",f),ul(h?.picture)}}c&&c()};function au({did:o}){const c=async a=>{let u=a.credential?.slice(a.credential.toString().length-32,a.credential.toString().length-16);u=a.credential?.slice(0,16);let h={params:{id_token:a.credential},query:"getGoogleUserbyToken"};const p=await Sn(h);if(p&&p.data){let C=new Date().getTime(),A=new Date(C+6e4*60*24*365),x=to(),m=gi(p.data.split(":")[1],u);kr("sectionKey",m),document.cookie=`${x}=${p.data}; expires=${A}; path=/;g_state = {"i_l":1,"i_p":${A}}; hrm_access_tkn = ${a.credential}`,document.cookie=`hrm_access_tkn = ${a.credential}; expires=${A};`,Fa(async()=>{await La(p.data)})}};return X0(()=>{let a=window.google;a?.accounts.id.initialize({client_id:"195275085181-8ccjpgp8v1g80qhnlk6v4lpgid7n81gr.apps.googleusercontent.com",callback:c}),a?.accounts.id.renderButton(document.getElementById("buttonDiv"),{theme:"outline",size:"large"})}),su()}const[bn,cu]=Ke(!0);setInterval(()=>{let o=720;bn()!==window.outerWidth<o&&cu(window.outerWidth<o)},220);var lu=Xe('<nav id=site-navigation><ul id=primary-menu class="no-list nav-menu lg:flex items-center"><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor current-menu-parent menu-item-has-children mb-0"><a href=/><span>Envios</span></a></li><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor current-menu-parent menu-item-has-children mb-0"><a href=/scan><span>Escanear</span></a></li></ul>'),uu=Xe('<span class="js-menu-trigger text-red font-bold text-3xl cursor-pointer"><div>'),fu=Xe('<ul id=primary-menu class="no-list nav-menu lg:flex items-center"><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/><span>Envios</span></a></li><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/scan><span>Escanear</span></a></li><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/manifest><span>Manifiestos</span></a></li><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/><span>Locaciones'),hu=Xe("<img width=48 height=24 class=picture-profile alt=profile decoding=async>"),du=Xe('<header class=site-header><div class="containerNav w-full"><div class="flex items-center gap-3"><div class="flex site-branding shrink-0 mr-auto"><a href=/ rel=home class="flex nodecor"><img width=48 height=24 src="https://qvamarkets.com/gql_api/getStatic?fileName=SSG.png"class=nav-home alt="Scanbot SDK"decoding=async><p class="title-header centerBx">Stephanie Solution');function xu(){const[o,c]=Ke(!1),a=()=>{u();let h=U0("hrm_access_tkn"),f=U0(to());if(h&&f&&f.length>10&&h.length>10){let p=h?.slice(h.toString().length-32,h.toString().length-16);p=h?.slice(0,16);let C=gi(f.split(":")[1],p);kr("sectionKey",C),Fa(()=>{La(f,()=>{})})}},u=async()=>{let f=await(await fetch("https://qvamarkets.com/gql_api/getStatic?fileName=svgs.json")).json();return kr("svgSymbols",f),hl(f),f};return X0(a),(()=>{var h=du(),f=h.firstChild,p=f.firstChild;return p.firstChild,Be(p,De(Je,{get when(){return z0()},get children(){return[De(Je,{get when(){return bn()},get children(){return[(()=>{var C=lu(),A=C.firstChild,x=A.firstChild,m=x.nextSibling;return x.$$click=()=>c(!o()),m.$$click=()=>c(!o()),bt(()=>Qr(C,`main-navigation max-lg:h-[calc(100dvh-64px)] max-lg:overflow-y-auto ${o()?"is-open":""}`)),C})(),(()=>{var C=uu(),A=C.firstChild;return A.$$click=()=>c(!o()),Be(A,De(lr,{get name(){return o()?"Xclose":"menu"},size:24,get color(){return o()?"var(--background-red-ssg)":"var(--hrm-palette-neutral30)"}})),bt(()=>Qr(A,`icon_status centerBx ${o()?"menu":"Xclose"}`)),C})()]}}),De(Je,{get when(){return!bn()},get children(){return fu()}}),(()=>{var C=hu();return bt(()=>rr(C,"src",z0())),C})()]}}),null),h})()}wr(["click"]);var gu=Xe("<div style=padding:4px>"),pu=Xe('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround ">'),mu=Xe('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div style="width:94vw;margin:0 auto;">'),Cu=Xe("<div> <!>."),wu=Xe("<div> "),Au=Xe("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),yu=Xe("<h5 class=totalBagsNo> <!> / "),Eu=Xe('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),vu=Xe("<div class=leftMrg> ");function bu(){const[o,c]=nr({search:"",status:""}),[a,u]=nr({}),[h,f]=Ke(""),[p,C]=Ke(""),A=un(f,400),x=(S,_)=>{c({[S]:_}),A(vr())};Mr(()=>{}),Gn(()=>{});const[m,{refetch:w}]=V0(h,async S=>{let _=o?.manifest?.id;if(p()!==_){C(_);const R=await Iu(_);u(R)}const b=await Su(o.search,_,o.status);return xa(b)}),v=()=>m()?.length;return(()=>{var S=mu(),_=S.firstChild,b=_.nextSibling,T=b.firstChild,R=b.nextSibling;return Be(T,De(ro,{list:la,lbl_empty:"Manifiesto",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return o?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:B=>x("manifest",B),width:"260px"})),Be(b,De(Je,{get when(){return o?.manifest?.id},get children(){var B=gu();return Be(B,De(Z0,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return o?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:O=>x("search",O)})),B}}),null),Be(R,De(Je,{get when(){return o?.manifest?.id},get children(){var B=pu(),O=B.firstChild;return Be(O,De(Je,{get when(){return a?.total},get children(){return De(jn,{get each(){return pa(a)},children:(F,J)=>De(_u,{keyG:F,total:v,get status(){return o.status},get amount(){return a?.[F]},updForm:x})})}})),B}}),null),Be(R,De(Zs,{fallback:B=>(()=>{var O=Cu(),F=O.firstChild,J=F.nextSibling;return J.nextSibling,Be(O,()=>B.toString(),J),O})(),get children(){return De(bi,{get fallback(){return(()=>{var B=wu();return B.firstChild,Be(B,De(lo,{stroke:"rgb(200 25 60 / 1)",size:62}),null),B})()},get children(){return De(Je,{get when(){return m()},get children(){return De(jn,{get each(){return m()},children:B=>[De(Je,{get when(){return!bn()},get children(){return De(Fl,{item:B})}}),De(Je,{get when(){return bn()},get children(){return De(iu,{item:B})}})]})}})}})}}),null),bt(()=>Qr(S,$0.App)),S})()}const _u=o=>{const[c,a]=Ke(!1),[u,h]=Ke(0),f=()=>{let A=o?.keyG;o?.keyG==="total"&&(A=null),o?.updForm("status",A)},p=()=>{c()||!bn()&&o?.keyG!=="total"&&(h(ko?.[o?.keyG]?.length*8.5+"px"),a(!0))},C=()=>{h("0px"),c()&&a(!1)};return De(Je,{get when(){return o?.amount>0},get children(){return De(bi,{get fallback(){return(()=>{var A=vu();return A.firstChild,Be(A,De(lo,{stroke:"rgb(200 25 60 / 1)",size:32}),null),A})()},get children(){var A=Eu(),x=A.firstChild,m=x.nextSibling;return A.$$mouseout=C,A.$$mousemove=p,A.$$click=f,Be(A,De(Je,{get when(){return c()},get children(){var w=Au(),v=w.firstChild,S=v.firstChild,_=S.firstChild;return Be(_,()=>ko?.[o?.keyG]),bt(b=>(b=u())!=null?v.style.setProperty("width",b):v.style.removeProperty("width")),w}}),x),Be(x,De(lr,{get name(){return Q0?.[o?.keyG]},size:22})),Be(A,De(Je,{get when(){return o?.keyG==="total"},get children(){var w=yu(),v=w.firstChild,S=v.nextSibling;return S.nextSibling,Be(w,()=>o?.total(),S),w}}),m),Be(m,()=>o?.amount),bt(()=>Qr(A,`resumeStatus centerBx witXs  ${o?.status===o?.keyG?"active":""}`)),A}})}})},Su=async(o,c,a)=>{let u={params:{idairguide:c,":status":a},query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4 AND !* contain :search5 AND currentStatus = :status"};if(o&&o.split(" ").map((h,f)=>{h&&(u.params[":search"+f]=h.trim())}),c&&Object.keys(u.params).length>=2){const h=await Sn(u);return console.log(h),h?.data?.error?{}:h?.data}return{}},Iu=async o=>{const a=await Sn({params:{idairguide:o},query:"getGroupStatusLogisticYabaExpress"});return console.log(a),a?.data?.error?{}:a?.data};wr(["click","mousemove","mouseout"]);var Ge;(function(o){o[o.QR_CODE=0]="QR_CODE",o[o.AZTEC=1]="AZTEC",o[o.CODABAR=2]="CODABAR",o[o.CODE_39=3]="CODE_39",o[o.CODE_93=4]="CODE_93",o[o.CODE_128=5]="CODE_128",o[o.DATA_MATRIX=6]="DATA_MATRIX",o[o.MAXICODE=7]="MAXICODE",o[o.ITF=8]="ITF",o[o.EAN_13=9]="EAN_13",o[o.EAN_8=10]="EAN_8",o[o.PDF_417=11]="PDF_417",o[o.RSS_14=12]="RSS_14",o[o.RSS_EXPANDED=13]="RSS_EXPANDED",o[o.UPC_A=14]="UPC_A",o[o.UPC_E=15]="UPC_E",o[o.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ge||(Ge={}));var vs=new Map([[Ge.QR_CODE,"QR_CODE"],[Ge.AZTEC,"AZTEC"],[Ge.CODABAR,"CODABAR"],[Ge.CODE_39,"CODE_39"],[Ge.CODE_93,"CODE_93"],[Ge.CODE_128,"CODE_128"],[Ge.DATA_MATRIX,"DATA_MATRIX"],[Ge.MAXICODE,"MAXICODE"],[Ge.ITF,"ITF"],[Ge.EAN_13,"EAN_13"],[Ge.EAN_8,"EAN_8"],[Ge.PDF_417,"PDF_417"],[Ge.RSS_14,"RSS_14"],[Ge.RSS_EXPANDED,"RSS_EXPANDED"],[Ge.UPC_A,"UPC_A"],[Ge.UPC_E,"UPC_E"],[Ge.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),bs;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.URL=1]="URL"})(bs||(bs={}));function Du(o){return Object.values(Ge).includes(o)}var Kr;(function(o){o[o.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",o[o.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Kr||(Kr={}));var Er=function(){function o(){}return o.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",o.SCAN_DEFAULT_FPS=2,o.DEFAULT_DISABLE_FLIP=!1,o.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,o.DEFAULT_SUPPORTED_SCAN_TYPE=[Kr.SCAN_TYPE_CAMERA,Kr.SCAN_TYPE_FILE],o}(),ka=function(){function o(c,a){this.format=c,this.formatName=a}return o.prototype.toString=function(){return this.formatName},o.create=function(c){if(!vs.has(c))throw"".concat(c," not in html5QrcodeSupportedFormatsTextMap");return new o(c,vs.get(c))},o}(),_s=function(){function o(){}return o.createFromText=function(c){var a={text:c};return{decodedText:c,result:a}},o.createFromQrcodeResult=function(c){return{decodedText:c.text,result:c}},o}(),j0;(function(o){o[o.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",o[o.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",o[o.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(j0||(j0={}));var Pa=function(){function o(){}return o.createFrom=function(c){return{errorMessage:c,type:j0.UNKWOWN_ERROR}},o}(),Ua=function(){function o(c){this.verbose=c}return o.prototype.log=function(c){this.verbose&&console.log(c)},o.prototype.warn=function(c){this.verbose&&console.warn(c)},o.prototype.logError=function(c,a){(this.verbose||a===!0)&&console.error(c)},o.prototype.logErrors=function(c){if(c.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(c)},o}();function Br(o){return typeof o>"u"||o===null}function Tu(o,c,a){return o>a?a:o<c?c:o}var yn=function(){function o(){}return o.codeParseError=function(c){return"QR code parse error, error = ".concat(c)},o.errorGettingUserMedia=function(c){return"Error getting userMedia, error = ".concat(c)},o.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},o.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},o.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},o.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},o.scannerPaused=function(){return"Scanner paused"},o}(),mt=function(){function o(){}return o.scanningStatus=function(){return"Scanning"},o.idleStatus=function(){return"Idle"},o.errorStatus=function(){return"Error"},o.permissionStatus=function(){return"Permission"},o.noCameraFoundErrorStatus=function(){return"No Cameras"},o.lastMatch=function(c){return"Last Match: ".concat(c)},o.codeScannerTitle=function(){return"Code Scanner"},o.cameraPermissionTitle=function(){return"Request Camera Permissions"},o.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},o.noCameraFound=function(){return"No camera found"},o.scanButtonStopScanningText=function(){return"Stop Scanning"},o.scanButtonStartScanningText=function(){return"Start Scanning"},o.torchOnButton=function(){return"Switch On Torch"},o.torchOffButton=function(){return"Switch Off Torch"},o.torchOnFailedMessage=function(){return"Failed to turn on torch"},o.torchOffFailedMessage=function(){return"Failed to turn off torch"},o.scanButtonScanningStarting=function(){return"Launching Camera..."},o.textIfCameraScanSelected=function(){return"Scan an Image File"},o.textIfFileScanSelected=function(){return"Scan using camera directly"},o.selectCamera=function(){return"Select Camera"},o.fileSelectionChooseImage=function(){return"Choose Image"},o.fileSelectionChooseAnother=function(){return"Choose Another"},o.fileSelectionNoImageSelected=function(){return"No image choosen"},o.anonymousCameraPrefix=function(){return"Anonymous Camera"},o.dragAndDropMessage=function(){return"Or drop an image to scan"},o.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},o.zoom=function(){return"zoom"},o.loadingImage=function(){return"Loading image..."},o.cameraScanAltText=function(){return"Camera based scan"},o.fileScanAltText=function(){return"Fule based scan"},o}(),Ss=function(){function o(){}return o.poweredBy=function(){return"Powered by "},o.reportIssues=function(){return"Report issues"},o}(),Ha=function(){function o(){}return o.isMediaStreamConstraintsValid=function(c,a){if(typeof c!="object"){var u=typeof c;return a.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(u,"."),!0),!1}for(var h=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(h),p=Object.keys(c),C=0,A=p;C<A.length;C++){var x=A[C];if(f.has(x))return a.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},o}(),W0={exports:{}};(function(o,c){(function(a,u){u(c)})(et,function(a){function u(I){return I==null}var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,e){I.__proto__=e}||function(I,e){for(var t in e)e.hasOwnProperty(t)&&(I[t]=e[t])};function f(I,e){h(I,e);function t(){this.constructor=I}I.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function p(I,e){var t=Object.setPrototypeOf;t?t(I,e):I.__proto__=e}function C(I,e){e===void 0&&(e=I.constructor);var t=Error.captureStackTrace;t&&t(I,e)}var A=function(I){f(e,I);function e(t){var r=this.constructor,n=I.call(this,t)||this;return Object.defineProperty(n,"name",{value:r.name,enumerable:!1}),p(n,r.prototype),C(n),n}return e}(Error);class x extends A{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class m extends x{}m.kind="ArgumentException";class w extends x{}w.kind="IllegalArgumentException";class v{constructor(e){if(this.binarizer=e,e===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,n){const i=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new v(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends x{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class _{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class b{static arraycopy(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}static currentTimeMillis(){return Date.now()}}class T extends x{}T.kind="IndexOutOfBoundsException";class R extends T{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}R.kind="ArrayIndexOutOfBoundsException";class B{static fill(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t}static fillWithin(e,t,r,n){B.rangeCheck(e.length,t,r);for(let i=t;i<r;i++)e[i]=n}static rangeCheck(e,t,r){if(t>r)throw new w("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new R(t);if(r>e)throw new R(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map(i=>Array.from({length:t}).fill(r))}static createInt32Array(e,t,r){return Array.from({length:e}).map(i=>Int32Array.from({length:t}).fill(r))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const n=r-t,i=new Int32Array(n);return b.arraycopy(e,t,i,0,n),i}static binarySearch(e,t,r){r===void 0&&(r=B.numberComparator);let n=0,i=e.length-1;for(;n<=i;){const s=i+n>>1,l=r(t,e[s]);if(l>0)n=s+1;else if(l<0)i=s-1;else return s}return-n-1}static numberComparator(e,t){return e-t}}class O{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=F.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=F.makeArray(e);b.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=r[n];i&=~((1<<(e&31))-1);const s=r.length;for(;i===0;){if(++n===s)return t;i=r[n]}const l=n*32+O.numberOfTrailingZeros(i);return l>t?t:l}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=~r[n];i&=~((1<<(e&31))-1);const s=r.length;for(;i===0;){if(++n===s)return t;i=~r[n]}const l=n*32+O.numberOfTrailingZeros(i);return l>t?t:l}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new w;if(t===e)return;t--;const r=Math.floor(e/32),n=Math.floor(t/32),i=this.bits;for(let s=r;s<=n;s++){const l=s>r?0:e&31,g=(2<<(s<n?31:t&31))-(1<<l);i[s]|=g}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new w;if(t===e)return!0;t--;const n=Math.floor(e/32),i=Math.floor(t/32),s=this.bits;for(let l=n;l<=i;l++){const d=l>n?0:e&31,y=(2<<(l<i?31:t&31))-(1<<d)&4294967295;if((s[l]&y)!==(r?y:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new w("Sizes don't match");const t=this.bits;for(let r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]}toBytes(e,t,r,n){for(let i=0;i<n;i++){let s=0;for(let l=0;l<8;l++)this.get(e)&&(s|=1<<7-l),e++;t[r+i]=s}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits;for(let i=0;i<r;i++){let s=n[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-i]=s}if(this.size!==r*32){const i=r*32-this.size;let s=e[0]>>>i;for(let l=1;l<r;l++){const d=e[l];s|=d<<32-i,e[l-1]=s,s=d>>>i}e[r-1]=s}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof F))return!1;const t=e;return this.size===t.size&&B.equals(this.bits,t.bits)}hashCode(){return 31*this.size+B.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)t&7||(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new F(this.size,this.bits.slice())}}var J;(function(I){I[I.OTHER=0]="OTHER",I[I.PURE_BARCODE=1]="PURE_BARCODE",I[I.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",I[I.TRY_HARDER=3]="TRY_HARDER",I[I.CHARACTER_SET=4]="CHARACTER_SET",I[I.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",I[I.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",I[I.ASSUME_GS1=7]="ASSUME_GS1",I[I.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",I[I.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",I[I.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(J||(J={}));var $=J;class W extends x{static getFormatInstance(){return new W}}W.kind="FormatException";var fe;(function(I){I[I.Cp437=0]="Cp437",I[I.ISO8859_1=1]="ISO8859_1",I[I.ISO8859_2=2]="ISO8859_2",I[I.ISO8859_3=3]="ISO8859_3",I[I.ISO8859_4=4]="ISO8859_4",I[I.ISO8859_5=5]="ISO8859_5",I[I.ISO8859_6=6]="ISO8859_6",I[I.ISO8859_7=7]="ISO8859_7",I[I.ISO8859_8=8]="ISO8859_8",I[I.ISO8859_9=9]="ISO8859_9",I[I.ISO8859_10=10]="ISO8859_10",I[I.ISO8859_11=11]="ISO8859_11",I[I.ISO8859_13=12]="ISO8859_13",I[I.ISO8859_14=13]="ISO8859_14",I[I.ISO8859_15=14]="ISO8859_15",I[I.ISO8859_16=15]="ISO8859_16",I[I.SJIS=16]="SJIS",I[I.Cp1250=17]="Cp1250",I[I.Cp1251=18]="Cp1251",I[I.Cp1252=19]="Cp1252",I[I.Cp1256=20]="Cp1256",I[I.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",I[I.UTF8=22]="UTF8",I[I.ASCII=23]="ASCII",I[I.Big5=24]="Big5",I[I.GB18030=25]="GB18030",I[I.EUC_KR=26]="EUC_KR"})(fe||(fe={}));class ae{constructor(e,t,r,...n){this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=n,ae.VALUE_IDENTIFIER_TO_ECI.set(e,this),ae.NAME_TO_ECI.set(r,this);const i=this.values;for(let s=0,l=i.length;s!==l;s++){const d=i[s];ae.VALUES_TO_ECI.set(d,this)}for(const s of n)ae.NAME_TO_ECI.set(s,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new W("incorect value");const t=ae.VALUES_TO_ECI.get(e);if(t===void 0)throw new W("incorect value");return t}static getCharacterSetECIByName(e){const t=ae.NAME_TO_ECI.get(e);if(t===void 0)throw new W("incorect value");return t}equals(e){if(!(e instanceof ae))return!1;const t=e;return this.getName()===t.getName()}}ae.VALUE_IDENTIFIER_TO_ECI=new Map,ae.VALUES_TO_ECI=new Map,ae.NAME_TO_ECI=new Map,ae.Cp437=new ae(fe.Cp437,Int32Array.from([0,2]),"Cp437"),ae.ISO8859_1=new ae(fe.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ae.ISO8859_2=new ae(fe.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ae.ISO8859_3=new ae(fe.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ae.ISO8859_4=new ae(fe.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ae.ISO8859_5=new ae(fe.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ae.ISO8859_6=new ae(fe.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ae.ISO8859_7=new ae(fe.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ae.ISO8859_8=new ae(fe.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ae.ISO8859_9=new ae(fe.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ae.ISO8859_10=new ae(fe.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ae.ISO8859_11=new ae(fe.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ae.ISO8859_13=new ae(fe.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ae.ISO8859_14=new ae(fe.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ae.ISO8859_15=new ae(fe.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ae.ISO8859_16=new ae(fe.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ae.SJIS=new ae(fe.SJIS,20,"SJIS","Shift_JIS"),ae.Cp1250=new ae(fe.Cp1250,21,"Cp1250","windows-1250"),ae.Cp1251=new ae(fe.Cp1251,22,"Cp1251","windows-1251"),ae.Cp1252=new ae(fe.Cp1252,23,"Cp1252","windows-1252"),ae.Cp1256=new ae(fe.Cp1256,24,"Cp1256","windows-1256"),ae.UnicodeBigUnmarked=new ae(fe.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ae.UTF8=new ae(fe.UTF8,26,"UTF8","UTF-8"),ae.ASCII=new ae(fe.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ae.Big5=new ae(fe.Big5,28,"Big5"),ae.GB18030=new ae(fe.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ae.EUC_KR=new ae(fe.EUC_KR,30,"EUC_KR","EUC-KR");class oe extends x{}oe.kind="UnsupportedOperationException";class he{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!he.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof ae?e:ae.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(he.isDecodeFallbackSupported(r)){let n="";for(let i=0,s=e.length;i<s;i++){let l=e[i].toString(16);l.length<2&&(l="0"+l),n+="%"+l}return decodeURIComponent(n)}if(r.equals(ae.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new oe(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(ae.UTF8)||e.equals(ae.ISO8859_1)||e.equals(ae.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),n=[];for(let i=0;i<r.length;i++)n.push(r[i].charCodeAt(0));return new Uint8Array(n)}}class de{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return he.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(t!=null&&t.get($.CHARACTER_SET)!==void 0)return t.get($.CHARACTER_SET).toString();const r=e.length;let n=!0,i=!0,s=!0,l=0,d=0,g=0,y=0,D=0,N=0,U=0,te=0,se=0,pe=0,_e=0;const Pe=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Ue=0;Ue<r&&(n||i||s);Ue++){const Le=e[Ue]&255;s&&(l>0?Le&128?l--:s=!1:Le&128&&(Le&64?(l++,Le&32?(l++,Le&16?(l++,Le&8?s=!1:y++):g++):d++):s=!1)),n&&(Le>127&&Le<160?n=!1:Le>159&&(Le<192||Le===215||Le===247)&&_e++),i&&(D>0?Le<64||Le===127||Le>252?i=!1:D--:Le===128||Le===160||Le>239?i=!1:Le>160&&Le<224?(N++,te=0,U++,U>se&&(se=U)):Le>127?(D++,U=0,te++,te>pe&&(pe=te)):(U=0,te=0))}return s&&l>0&&(s=!1),i&&D>0&&(i=!1),s&&(Pe||d+g+y>0)?de.UTF8:i&&(de.ASSUME_SHIFT_JIS||se>=3||pe>=3)?de.SHIFT_JIS:n&&i?se===2&&N===2||_e*10>=r?de.SHIFT_JIS:de.ISO88591:n?de.ISO88591:i?de.SHIFT_JIS:s?de.UTF8:de.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function n(s,l,d,g,y,D){if(s==="%%")return"%";if(t[++r]===void 0)return;s=g?parseInt(g.substr(1)):void 0;let N=y?parseInt(y.substr(1)):void 0,U;switch(D){case"s":U=t[r];break;case"c":U=t[r][0];break;case"f":U=parseFloat(t[r]).toFixed(s);break;case"p":U=parseFloat(t[r]).toPrecision(s);break;case"e":U=parseFloat(t[r]).toExponential(s);break;case"x":U=parseInt(t[r]).toString(N||16);break;case"d":U=parseFloat(parseInt(t[r],N||10).toPrecision(s)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(N);let te=parseInt(d),se=d&&d[0]+""=="0"?"0":" ";for(;U.length<te;)U=l!==void 0?U+se:se+U;return U}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}static getBytes(e,t){return he.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}de.SHIFT_JIS=ae.SJIS.getName(),de.GB2312="GB2312",de.ISO88591=ae.ISO8859_1.getName(),de.EUC_JP="EUC_JP",de.UTF8=ae.UTF8.getName(),de.PLATFORM_DEFAULT_ENCODING=de.UTF8,de.ASSUME_SHIFT_JIS=!1;class H{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=de.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let n=t;t<t+r;n++)this.append(e[n]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class ee{constructor(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,t==null&&(t=e),this.height=t,e<1||t<1)throw new w("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,n==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,n=new ee(r,t);for(let i=0;i<t;i++){const s=e[i];for(let l=0;l<r;l++)s[l]&&n.set(l,i)}return n}static parseFromString(e,t,r){if(e===null)throw new w("stringRepresentation cannot be null");const n=new Array(e.length);let i=0,s=0,l=-1,d=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(i>s){if(l===-1)l=i-s;else if(i-s!==l)throw new w("row lengths do not match");s=i,d++}g++}else if(e.substring(g,g+t.length)===t)g+=t.length,n[i]=!0,i++;else if(e.substring(g,g+r.length)===r)g+=r.length,n[i]=!1,i++;else throw new w("illegal character encountered: "+e.substring(g));if(i>s){if(l===-1)l=i-s;else if(i-s!==l)throw new w("row lengths do not match");d++}const y=new ee(l,d);for(let D=0;D<i;D++)n[D]&&y.set(Math.floor(D%l),Math.floor(D/l));return y}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new w("input matrix dimensions do not match");const t=new F(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let i=0,s=this.height;i<s;i++){const l=i*r,d=e.getRow(i,t).getBitArray();for(let g=0;g<r;g++)n[l+g]^=d[g]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,n){if(t<0||e<0)throw new w("Left and top must be nonnegative");if(n<1||r<1)throw new w("Height and width must be at least 1");const i=e+r,s=t+n;if(s>this.height||i>this.width)throw new w("The region must fit inside the matrix");const l=this.rowSize,d=this.bits;for(let g=t;g<s;g++){const y=g*l;for(let D=e;D<i;D++)d[y+Math.floor(D/32)]|=1<<(D&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new F(this.width):t.clear();const r=this.rowSize,n=this.bits,i=e*r;for(let s=0;s<r;s++)t.setBulk(s*32,n[i+s]);return t}setRow(e,t){b.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new F(e),n=new F(e);for(let i=0,s=Math.floor((t+1)/2);i<s;i++)r=this.getRow(i,r),n=this.getRow(t-1-i,n),r.reverse(),n.reverse(),this.setRow(i,n),this.setRow(t-1-i,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,n=this.bits;let i=e,s=t,l=-1,d=-1;for(let g=0;g<t;g++)for(let y=0;y<r;y++){const D=n[g*r+y];if(D!==0){if(g<s&&(s=g),g>d&&(d=g),y*32<i){let N=0;for(;!(D<<31-N&4294967295);)N++;y*32+N<i&&(i=y*32+N)}if(y*32+31>l){let N=31;for(;!(D>>>N);)N--;y*32+N>l&&(l=y*32+N)}}}return l<i||d<s?null:Int32Array.from([i,s,l-i+1,d-s+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;const n=r/e;let i=r%e*32;const s=t[r];let l=0;for(;!(s<<31-l&4294967295);)l++;return i+=l,Int32Array.from([i,n])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&t[r]===0;)r--;if(r<0)return null;const n=Math.floor(r/e);let i=Math.floor(r%e)*32;const s=t[r];let l=31;for(;!(s>>>l);)l--;return i+=l,Int32Array.from([i,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ee))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&B.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+B.hashCode(this.bits),e}toString(e="X ",t="  ",r=`
`){return this.buildToString(e,t,r)}buildToString(e,t,r){let n=new H;for(let i=0,s=this.height;i<s;i++){for(let l=0,d=this.width;l<d;l++)n.append(this.get(l,i)?e:t);n.append(r)}return n.toString()}clone(){return new ee(this.width,this.height,this.rowSize,this.bits.slice())}}class L extends x{static getNotFoundInstance(){return new L}}L.kind="NotFoundException";class ue extends _{constructor(e){super(e),this.luminances=ue.EMPTY,this.buckets=new Int32Array(ue.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),n=r.getWidth();t==null||t.getSize()<n?t=new F(n):t.clear(),this.initArrays(n);const i=r.getRow(e,this.luminances),s=this.buckets;for(let d=0;d<n;d++)s[(i[d]&255)>>ue.LUMINANCE_SHIFT]++;const l=ue.estimateBlackPoint(s);if(n<3)for(let d=0;d<n;d++)(i[d]&255)<l&&t.set(d);else{let d=i[0]&255,g=i[1]&255;for(let y=1;y<n-1;y++){const D=i[y+1]&255;(g*4-d-D)/2<l&&t.set(y),d=g,g=D}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),n=new ee(t,r);this.initArrays(t);const i=this.buckets;for(let d=1;d<5;d++){const g=Math.floor(r*d/5),y=e.getRow(g,this.luminances),D=Math.floor(t*4/5);for(let N=Math.floor(t/5);N<D;N++){const U=y[N]&255;i[U>>ue.LUMINANCE_SHIFT]++}}const s=ue.estimateBlackPoint(i),l=e.getMatrix();for(let d=0;d<r;d++){const g=d*t;for(let y=0;y<t;y++)(l[g+y]&255)<s&&n.set(y,d)}return n}createBinarizer(e){return new ue(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<ue.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,n=0,i=0;for(let y=0;y<t;y++)e[y]>i&&(n=y,i=e[y]),e[y]>r&&(r=e[y]);let s=0,l=0;for(let y=0;y<t;y++){const D=y-n,N=e[y]*D*D;N>l&&(s=y,l=N)}if(n>s){const y=n;n=s,s=y}if(s-n<=t/16)throw new L;let d=s-1,g=-1;for(let y=s-1;y>n;y--){const D=y-n,N=D*D*(s-y)*(r-e[y]);N>g&&(d=y,g=N)}return d<<ue.LUMINANCE_SHIFT}}ue.LUMINANCE_BITS=5,ue.LUMINANCE_SHIFT=8-ue.LUMINANCE_BITS,ue.LUMINANCE_BUCKETS=1<<ue.LUMINANCE_BITS,ue.EMPTY=Uint8ClampedArray.from([0]);class Z extends ue{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=Z.MINIMUM_DIMENSION&&r>=Z.MINIMUM_DIMENSION){const n=e.getMatrix();let i=t>>Z.BLOCK_SIZE_POWER;t&Z.BLOCK_SIZE_MASK&&i++;let s=r>>Z.BLOCK_SIZE_POWER;r&Z.BLOCK_SIZE_MASK&&s++;const l=Z.calculateBlackPoints(n,i,s,t,r),d=new ee(t,r);Z.calculateThresholdForBlock(n,i,s,t,r,l,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new Z(e)}static calculateThresholdForBlock(e,t,r,n,i,s,l){const d=i-Z.BLOCK_SIZE,g=n-Z.BLOCK_SIZE;for(let y=0;y<r;y++){let D=y<<Z.BLOCK_SIZE_POWER;D>d&&(D=d);const N=Z.cap(y,2,r-3);for(let U=0;U<t;U++){let te=U<<Z.BLOCK_SIZE_POWER;te>g&&(te=g);const se=Z.cap(U,2,t-3);let pe=0;for(let Pe=-2;Pe<=2;Pe++){const Ue=s[N+Pe];pe+=Ue[se-2]+Ue[se-1]+Ue[se]+Ue[se+1]+Ue[se+2]}const _e=pe/25;Z.thresholdBlock(e,te,D,_e,n,l)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,n,i,s){for(let l=0,d=r*i+t;l<Z.BLOCK_SIZE;l++,d+=i)for(let g=0;g<Z.BLOCK_SIZE;g++)(e[d+g]&255)<=n&&s.set(t+g,r+l)}static calculateBlackPoints(e,t,r,n,i){const s=i-Z.BLOCK_SIZE,l=n-Z.BLOCK_SIZE,d=new Array(r);for(let g=0;g<r;g++){d[g]=new Int32Array(t);let y=g<<Z.BLOCK_SIZE_POWER;y>s&&(y=s);for(let D=0;D<t;D++){let N=D<<Z.BLOCK_SIZE_POWER;N>l&&(N=l);let U=0,te=255,se=0;for(let _e=0,Pe=y*n+N;_e<Z.BLOCK_SIZE;_e++,Pe+=n){for(let Ue=0;Ue<Z.BLOCK_SIZE;Ue++){const Le=e[Pe+Ue]&255;U+=Le,Le<te&&(te=Le),Le>se&&(se=Le)}if(se-te>Z.MIN_DYNAMIC_RANGE)for(_e++,Pe+=n;_e<Z.BLOCK_SIZE;_e++,Pe+=n)for(let Ue=0;Ue<Z.BLOCK_SIZE;Ue++)U+=e[Pe+Ue]&255}let pe=U>>Z.BLOCK_SIZE_POWER*2;if(se-te<=Z.MIN_DYNAMIC_RANGE&&(pe=te/2,g>0&&D>0)){const _e=(d[g-1][D]+2*d[g][D-1]+d[g-1][D-1])/4;te<_e&&(pe=_e)}d[g][D]=pe}}return d}}Z.BLOCK_SIZE_POWER=3,Z.BLOCK_SIZE=1<<Z.BLOCK_SIZE_POWER,Z.BLOCK_SIZE_MASK=Z.BLOCK_SIZE-1,Z.MINIMUM_DIMENSION=Z.BLOCK_SIZE*5,Z.MIN_DYNAMIC_RANGE=24;class ye{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,n){throw new oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new oe("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new H;for(let r=0;r<this.height;r++){const n=this.getRow(r,e);for(let i=0;i<this.width;i++){const s=n[i]&255;let l;s<64?l="#":s<128?l="+":s<192?l=".":l=" ",t.append(l)}t.append(`
`)}return t.toString()}}class Te extends ye{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),n=this.getWidth();for(let i=0;i<n;i++)r[i]=255-(r[i]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let n=0;n<t;n++)r[n]=255-(e[n]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,n){return new Te(this.delegate.crop(e,t,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Te(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Te(this.delegate.rotateCounterClockwise45())}}class Se extends ye{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Se.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return Se.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const n=new Uint8ClampedArray(t*r);for(let i=0,s=0,l=e.length;i<l;i+=4,s++){let d;if(e[i+3]===0)d=255;else{const y=e[i],D=e[i+1],N=e[i+2];d=306*y+601*D+117*N+512>>10}n[s]=d}return n}getRow(e,t){if(e<0||e>=this.getHeight())throw new w("Requested row is outside the image: "+e);const r=this.getWidth(),n=e*r;return t===null?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,n){return super.crop(e,t,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),n=e*Se.DEGREE_TO_RADIANS,i=this.canvas.width,s=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*s),d=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*s);return t.width=l,t.height=d,r.translate(l/2,d/2),r.rotate(n),r.drawImage(this.canvas,i/-2,s/-2),this.buffer=Se.makeBufferFromCanvasImageData(t),this}invert(){return new Te(this)}}Se.DEGREE_TO_RADIANS=Math.PI/180;class ie{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ee=(globalThis||et||self||window||void 0)&&(globalThis||et||self||window||void 0).__awaiter||function(I,e,t,r){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function l(y){try{g(r.next(y))}catch(D){s(D)}}function d(y){try{g(r.throw(y))}catch(D){s(D)}}function g(y){y.done?i(y.value):n(y.value).then(l,d)}g((r=r.apply(I,e||[])).next())})};class G{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return Ee(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const n=r.kind==="video"?"videoinput":r.kind;if(n!=="videoinput")continue;const i=r.deviceId||r.id,s=r.label||`Video device ${t.length+1}`,l=r.groupId,d={deviceId:i,label:s,kind:n,groupId:l};t.push(d)}return t})}getVideoInputDevices(){return Ee(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new ie(t.deviceId,t.label))})}findDeviceById(e){return Ee(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return Ee(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return Ee(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const n={video:r};return yield this.decodeOnceFromConstraints(n,t)})}decodeOnceFromConstraints(e,t){return Ee(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)})}decodeOnceFromStream(e,t){return Ee(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,t,r){return Ee(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,r)})}decodeFromVideoDevice(e,t,r){return Ee(this,void 0,void 0,function*(){let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const i={video:n};return yield this.decodeFromConstraints(i,t,r)})}decodeFromConstraints(e,t,r){return Ee(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(n,t,r)})}decodeFromStream(e,t,r){return Ee(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(n,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return Ee(this,void 0,void 0,function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((t,r)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return Ee(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new m(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new m(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new m("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new m("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(e===void 0&&t===void 0)throw new m("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new m("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new m("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new m("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new m("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new m("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n}_decodeOnLoadImage(e){return new Promise((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return Ee(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return Ee(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const n=(i,s)=>{if(this._stopAsyncDecode){s(new L("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const l=this.decode(e);i(l)}catch(l){const d=t&&l instanceof L,y=(l instanceof S||l instanceof W)&&r;if(d||y)return setTimeout(n,this._timeBetweenDecodingAttempts,i,s);s(l)}};return new Promise((i,s)=>n(i,s))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const n=this.decode(e);t(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(n){t(null,n);const i=n instanceof S||n instanceof W,s=n instanceof L;(i||s)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new Se(t),n=new Z(r);return new v(n)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,n;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class E{constructor(e,t,r=t==null?0:8*t.length,n,i,s=b.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=s,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=n,this.format=i,this.resultMetadata=null,s==null?this.timestamp=b.currentTimeMillis():this.timestamp=s}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(t.length+e.length);b.arraycopy(t,0,r,0,t.length),b.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var z;(function(I){I[I.AZTEC=0]="AZTEC",I[I.CODABAR=1]="CODABAR",I[I.CODE_39=2]="CODE_39",I[I.CODE_93=3]="CODE_93",I[I.CODE_128=4]="CODE_128",I[I.DATA_MATRIX=5]="DATA_MATRIX",I[I.EAN_8=6]="EAN_8",I[I.EAN_13=7]="EAN_13",I[I.ITF=8]="ITF",I[I.MAXICODE=9]="MAXICODE",I[I.PDF_417=10]="PDF_417",I[I.QR_CODE=11]="QR_CODE",I[I.RSS_14=12]="RSS_14",I[I.RSS_EXPANDED=13]="RSS_EXPANDED",I[I.UPC_A=14]="UPC_A",I[I.UPC_E=15]="UPC_E",I[I.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(z||(z={}));var M=z,X;(function(I){I[I.OTHER=0]="OTHER",I[I.ORIENTATION=1]="ORIENTATION",I[I.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",I[I.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",I[I.ISSUE_NUMBER=4]="ISSUE_NUMBER",I[I.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",I[I.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",I[I.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",I[I.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",I[I.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",I[I.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(X||(X={}));var V=X;class re{constructor(e,t,r,n,i=-1,s=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class me{exp(e){return this.expTable[e]}log(e){if(e===0)throw new w;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class j{constructor(e,t){if(t.length===0)throw new w;this.field=e;const r=t.length;if(r>1&&t[0]===0){let n=1;for(;n<r&&t[n]===0;)n++;n===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-n),b.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let r;if(e===1){r=0;for(let s=0,l=t.length;s!==l;s++){const d=t[s];r=me.addOrSubtract(r,d)}return r}r=t[0];const n=t.length,i=this.field;for(let s=1;s<n;s++)r=me.addOrSubtract(i.multiply(e,r),t[s]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const s=t;t=r,r=s}let n=new Int32Array(r.length);const i=r.length-t.length;b.arraycopy(r,0,n,0,i);for(let s=i;s<r.length;s++)n[s]=me.addOrSubtract(t[s-i],r[s]);return new j(this.field,n)}multiply(e){if(!this.field.equals(e.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,s=new Int32Array(r+i-1),l=this.field;for(let d=0;d<r;d++){const g=t[d];for(let y=0;y<i;y++)s[d+y]=me.addOrSubtract(s[d+y],l.multiply(g,n[y]))}return new j(l,s)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,r=this.field,n=new Int32Array(t),i=this.coefficients;for(let s=0;s<t;s++)n[s]=r.multiply(i[s],e);return new j(r,n)}multiplyByMonomial(e,t){if(e<0)throw new w;if(t===0)return this.field.getZero();const r=this.coefficients,n=r.length,i=new Int32Array(n+e),s=this.field;for(let l=0;l<n;l++)i[l]=s.multiply(r[l],t);return new j(s,i)}divide(e){if(!this.field.equals(e.field))throw new w("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new w("Divide by 0");const t=this.field;let r=t.getZero(),n=this;const i=e.getCoefficient(e.getDegree()),s=t.inverse(i);for(;n.getDegree()>=e.getDegree()&&!n.isZero();){const l=n.getDegree()-e.getDegree(),d=t.multiply(n.getCoefficient(n.getDegree()),s),g=e.multiplyByMonomial(l,d),y=t.buildMonomial(l,d);r=r.addOrSubtract(y),n=n.addOrSubtract(g)}return[r,n]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){const n=this.field.log(r);n===0?e+="1":n===1?e+="a":(e+="a^",e+=n)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class q extends x{}q.kind="ArithmeticException";class P extends me{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const n=new Int32Array(t);let i=1;for(let l=0;l<t;l++)n[l]=i,i*=2,i>=t&&(i^=e,i&=t-1);this.expTable=n;const s=new Int32Array(t);for(let l=0;l<t-1;l++)s[n[l]]=l;this.logTable=s,this.zero=new j(this,Int32Array.from([0])),this.one=new j(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new w;if(t===0)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new j(this,r)}inverse(e){if(e===0)throw new q;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}P.AZTEC_DATA_12=new P(4201,4096,1),P.AZTEC_DATA_10=new P(1033,1024,1),P.AZTEC_DATA_6=new P(67,64,1),P.AZTEC_PARAM=new P(19,16,1),P.QR_CODE_FIELD_256=new P(285,256,0),P.DATA_MATRIX_FIELD_256=new P(301,256,1),P.AZTEC_DATA_8=P.DATA_MATRIX_FIELD_256,P.MAXICODE_FIELD_64=P.AZTEC_DATA_6;class ce extends x{}ce.kind="ReedSolomonException";class Ce extends x{}Ce.kind="IllegalStateException";class Fe{constructor(e){this.field=e}decode(e,t){const r=this.field,n=new j(r,e),i=new Int32Array(t);let s=!0;for(let U=0;U<t;U++){const te=n.evaluateAt(r.exp(U+r.getGeneratorBase()));i[i.length-1-U]=te,te!==0&&(s=!1)}if(s)return;const l=new j(r,i),d=this.runEuclideanAlgorithm(r.buildMonomial(t,1),l,t),g=d[0],y=d[1],D=this.findErrorLocations(g),N=this.findErrorMagnitudes(y,D);for(let U=0;U<D.length;U++){const te=e.length-1-r.log(D[U]);if(te<0)throw new ce("Bad error location");e[te]=P.addOrSubtract(e[te],N[U])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const U=e;e=t,t=U}const n=this.field;let i=e,s=t,l=n.getZero(),d=n.getOne();for(;s.getDegree()>=(r/2|0);){let U=i,te=l;if(i=s,l=d,i.isZero())throw new ce("r_{i-1} was zero");s=U;let se=n.getZero();const pe=i.getCoefficient(i.getDegree()),_e=n.inverse(pe);for(;s.getDegree()>=i.getDegree()&&!s.isZero();){const Pe=s.getDegree()-i.getDegree(),Ue=n.multiply(s.getCoefficient(s.getDegree()),_e);se=se.addOrSubtract(n.buildMonomial(Pe,Ue)),s=s.addOrSubtract(i.multiplyByMonomial(Pe,Ue))}if(d=se.multiply(l).addOrSubtract(te),s.getDegree()>=i.getDegree())throw new Ce("Division algorithm failed to reduce polynomial?")}const g=d.getCoefficient(0);if(g===0)throw new ce("sigmaTilde(0) was zero");const y=n.inverse(g),D=d.multiplyScalar(y),N=s.multiplyScalar(y);return[D,N]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let n=0;const i=this.field;for(let s=1;s<i.getSize()&&n<t;s++)e.evaluateAt(s)===0&&(r[n]=i.inverse(s),n++);if(n!==t)throw new ce("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,n=new Int32Array(r),i=this.field;for(let s=0;s<r;s++){const l=i.inverse(t[s]);let d=1;for(let g=0;g<r;g++)if(s!==g){const y=i.multiply(t[g],l),D=y&1?y&-2:y|1;d=i.multiply(d,D)}n[s]=i.multiply(e.evaluateAt(l),i.inverse(d)),i.getGeneratorBase()!==0&&(n[s]=i.multiply(n[s],l))}return n}}var ke;(function(I){I[I.UPPER=0]="UPPER",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.DIGIT=3]="DIGIT",I[I.PUNCT=4]="PUNCT",I[I.BINARY=5]="BINARY"})(ke||(ke={}));class ve{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),i=ve.convertBoolArrayToByteArray(n),s=ve.getEncodedData(n),l=new re(i,s,null,null);return l.setNumBits(n.length),l}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=ke.UPPER,n=ke.UPPER,i="",s=0;for(;s<t;)if(n===ke.BINARY){if(t-s<5)break;let l=ve.readCode(e,s,5);if(s+=5,l===0){if(t-s<11)break;l=ve.readCode(e,s,11)+31,s+=11}for(let d=0;d<l;d++){if(t-s<8){s=t;break}const g=ve.readCode(e,s,8);i+=de.castAsNonUtf8Char(g),s+=8}n=r}else{let l=n===ke.DIGIT?4:5;if(t-s<l)break;let d=ve.readCode(e,s,l);s+=l;let g=ve.getCharacter(n,d);g.startsWith("CTRL_")?(r=n,n=ve.getTable(g.charAt(5)),g.charAt(6)==="L"&&(r=n)):(i+=g,n=r)}return i}static getTable(e){switch(e){case"L":return ke.LOWER;case"P":return ke.PUNCT;case"M":return ke.MIXED;case"D":return ke.DIGIT;case"B":return ke.BINARY;case"U":default:return ke.UPPER}}static getCharacter(e,t){switch(e){case ke.UPPER:return ve.UPPER_TABLE[t];case ke.LOWER:return ve.LOWER_TABLE[t];case ke.MIXED:return ve.MIXED_TABLE[t];case ke.PUNCT:return ve.PUNCT_TABLE[t];case ke.DIGIT:return ve.DIGIT_TABLE[t];default:throw new Ce("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=P.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=P.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=P.AZTEC_DATA_10):(r=12,t=P.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),i=e.length/r;if(i<n)throw new W;let s=e.length%r,l=new Int32Array(i);for(let N=0;N<i;N++,s+=r)l[N]=ve.readCode(e,s,r);try{new Fe(t).decode(l,i-n)}catch(N){throw new W(N)}let d=(1<<r)-1,g=0;for(let N=0;N<n;N++){let U=l[N];if(U===0||U===d)throw new W;(U===1||U===d-1)&&g++}let y=new Array(n*r-g),D=0;for(let N=0;N<n;N++){let U=l[N];if(U===1||U===d-1)y.fill(U>1,D,D+r-1),D+=r-1;else for(let te=r-1;te>=0;--te)y[D++]=(U&1<<te)!==0}return y}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+r*4,i=new Int32Array(n),s=new Array(this.totalBitsInLayer(r,t));if(t)for(let l=0;l<i.length;l++)i[l]=l;else{let l=n+1+2*O.truncDivision(O.truncDivision(n,2)-1,15),d=n/2,g=O.truncDivision(l,2);for(let y=0;y<d;y++){let D=y+O.truncDivision(y,15);i[d-y-1]=g-D-1,i[d+y]=g+D+1}}for(let l=0,d=0;l<r;l++){let g=(r-l)*4+(t?9:12),y=l*2,D=n-1-y;for(let N=0;N<g;N++){let U=N*2;for(let te=0;te<2;te++)s[d+U+te]=e.get(i[y+te],i[y+N]),s[d+2*g+U+te]=e.get(i[y+N],i[D-te]),s[d+4*g+U+te]=e.get(i[D-te],i[D-N]),s[d+6*g+U+te]=e.get(i[D-N],i[y+te])}d+=g*8}return s}static readCode(e,t,r){let n=0;for(let i=t;i<t+r;i++)n<<=1,e[i]&&(n|=1);return n}static readByte(e,t){let r=e.length-t;return r>=8?ve.readCode(e,t,8):ve.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=ve.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ve.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ve.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ve.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ve.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ve.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ne{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,n){const i=e-r,s=t-n;return Math.sqrt(i*i+s*s)}static sum(e){let t=0;for(let r=0,n=e.length;r!==n;r++){const i=e[r];t+=i}return t}}class Q{static floatToIntBits(e){return e}}Q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class K{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof K){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*Q.floatToIntBits(this.x)+Q.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]);let i,s,l;if(r>=t&&r>=n?(s=e[0],i=e[1],l=e[2]):n>=r&&n>=t?(s=e[1],i=e[0],l=e[2]):(s=e[2],i=e[0],l=e[1]),this.crossProductZ(i,s,l)<0){const d=i;i=l,l=d}e[0]=i,e[1]=s,e[2]=l}static distance(e,t){return ne.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const n=t.x,i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)}}class xe{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class le extends xe{constructor(e,t,r,n,i){super(e,t),this.compact=r,this.nbDatablocks=n,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Y{constructor(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=Y.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),n==null&&(n=e.getHeight()/2|0);const i=t/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=n-i,this.downInit=n+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new L}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,i=!1,s=!0,l=!1,d=!1,g=!1,y=!1,D=!1;const N=this.width,U=this.height;for(;s;){s=!1;let te=!0;for(;(te||!d)&&t<N;)te=this.containsBlackPoint(r,n,t,!1),te?(t++,s=!0,d=!0):d||t++;if(t>=N){i=!0;break}let se=!0;for(;(se||!g)&&n<U;)se=this.containsBlackPoint(e,t,n,!0),se?(n++,s=!0,g=!0):g||n++;if(n>=U){i=!0;break}let pe=!0;for(;(pe||!y)&&e>=0;)pe=this.containsBlackPoint(r,n,e,!1),pe?(e--,s=!0,y=!0):y||e--;if(e<0){i=!0;break}let _e=!0;for(;(_e||!D)&&r>=0;)_e=this.containsBlackPoint(e,t,r,!0),_e?(r--,s=!0,D=!0):D||r--;if(r<0){i=!0;break}s&&(l=!0)}if(!i&&l){const te=t-e;let se=null;for(let Ue=1;se===null&&Ue<te;Ue++)se=this.getBlackPointOnSegment(e,n-Ue,e+Ue,n);if(se==null)throw new L;let pe=null;for(let Ue=1;pe===null&&Ue<te;Ue++)pe=this.getBlackPointOnSegment(e,r+Ue,e+Ue,r);if(pe==null)throw new L;let _e=null;for(let Ue=1;_e===null&&Ue<te;Ue++)_e=this.getBlackPointOnSegment(t,r+Ue,t-Ue,r);if(_e==null)throw new L;let Pe=null;for(let Ue=1;Pe===null&&Ue<te;Ue++)Pe=this.getBlackPointOnSegment(t,n-Ue,t-Ue,n);if(Pe==null)throw new L;return this.centerEdges(Pe,se,_e,pe)}else throw new L}getBlackPointOnSegment(e,t,r,n){const i=ne.round(ne.distance(e,t,r,n)),s=(r-e)/i,l=(n-t)/i,d=this.image;for(let g=0;g<i;g++){const y=ne.round(e+g*s),D=ne.round(t+g*l);if(d.get(y,D))return new K(y,D)}return null}centerEdges(e,t,r,n){const i=e.getX(),s=e.getY(),l=t.getX(),d=t.getY(),g=r.getX(),y=r.getY(),D=n.getX(),N=n.getY(),U=Y.CORR;return i<this.width/2?[new K(D-U,N+U),new K(l+U,d+U),new K(g-U,y-U),new K(i+U,s-U)]:[new K(D+U,N+U),new K(l+U,d-U),new K(g-U,y+U),new K(i-U,s-U)]}containsBlackPoint(e,t,r,n){const i=this.image;if(n){for(let s=e;s<=t;s++)if(i.get(s,r))return!0}else for(let s=e;s<=t;s++)if(i.get(r,s))return!0;return!1}}Y.INIT_SIZE=10,Y.CORR=1;class ge{static checkAndNudgePoints(e,t){const r=e.getWidth(),n=e.getHeight();let i=!0;for(let s=0;s<t.length&&i;s+=2){const l=Math.floor(t[s]),d=Math.floor(t[s+1]);if(l<-1||l>r||d<-1||d>n)throw new L;i=!1,l===-1?(t[s]=0,i=!0):l===r&&(t[s]=r-1,i=!0),d===-1?(t[s+1]=0,i=!0):d===n&&(t[s+1]=n-1,i=!0)}i=!0;for(let s=t.length-2;s>=0&&i;s-=2){const l=Math.floor(t[s]),d=Math.floor(t[s+1]);if(l<-1||l>r||d<-1||d>n)throw new L;i=!1,l===-1?(t[s]=0,i=!0):l===r&&(t[s]=r-1,i=!0),d===-1?(t[s+1]=0,i=!0):d===n&&(t[s+1]=n-1,i=!0)}}}class Ae{constructor(e,t,r,n,i,s,l,d,g){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=i,this.a32=s,this.a13=l,this.a23=d,this.a33=g}static quadrilateralToQuadrilateral(e,t,r,n,i,s,l,d,g,y,D,N,U,te,se,pe){const _e=Ae.quadrilateralToSquare(e,t,r,n,i,s,l,d);return Ae.squareToQuadrilateral(g,y,D,N,U,te,se,pe).times(_e)}transformPoints(e){const t=e.length,r=this.a11,n=this.a12,i=this.a13,s=this.a21,l=this.a22,d=this.a23,g=this.a31,y=this.a32,D=this.a33;for(let N=0;N<t;N+=2){const U=e[N],te=e[N+1],se=i*U+d*te+D;e[N]=(r*U+s*te+g)/se,e[N+1]=(n*U+l*te+y)/se}}transformPointsWithValues(e,t){const r=this.a11,n=this.a12,i=this.a13,s=this.a21,l=this.a22,d=this.a23,g=this.a31,y=this.a32,D=this.a33,N=e.length;for(let U=0;U<N;U++){const te=e[U],se=t[U],pe=i*te+d*se+D;e[U]=(r*te+s*se+g)/pe,t[U]=(n*te+l*se+y)/pe}}static squareToQuadrilateral(e,t,r,n,i,s,l,d){const g=e-r+i-l,y=t-n+s-d;if(g===0&&y===0)return new Ae(r-e,i-r,e,n-t,s-n,t,0,0,1);{const D=r-i,N=l-i,U=n-s,te=d-s,se=D*te-N*U,pe=(g*te-N*y)/se,_e=(D*y-g*U)/se;return new Ae(r-e+pe*r,l-e+_e*l,e,n-t+pe*n,d-t+_e*d,t,pe,_e,1)}}static quadrilateralToSquare(e,t,r,n,i,s,l,d){return Ae.squareToQuadrilateral(e,t,r,n,i,s,l,d).buildAdjoint()}buildAdjoint(){return new Ae(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ae(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Me extends ge{sampleGrid(e,t,r,n,i,s,l,d,g,y,D,N,U,te,se,pe,_e,Pe,Ue){const Le=Ae.quadrilateralToQuadrilateral(n,i,s,l,d,g,y,D,N,U,te,se,pe,_e,Pe,Ue);return this.sampleGridWithTransform(e,t,r,Le)}sampleGridWithTransform(e,t,r,n){if(t<=0||r<=0)throw new L;const i=new ee(t,r),s=new Float32Array(2*t);for(let l=0;l<r;l++){const d=s.length,g=l+.5;for(let y=0;y<d;y+=2)s[y]=y/2+.5,s[y+1]=g;n.transformPoints(s),ge.checkAndNudgePoints(e,s);try{for(let y=0;y<d;y+=2)e.get(Math.floor(s[y]),Math.floor(s[y+1]))&&i.set(y/2,l)}catch{throw new L}}return i}}class Re{static setGridSampler(e){Re.gridSampler=e}static getInstance(){return Re.gridSampler}}Re.gridSampler=new Me;class Ie{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new K(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ze{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let s=r[0];r[0]=r[2],r[2]=s}this.extractParameters(r);let n=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),i=this.getMatrixCornerPoints(r);return new le(n,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new L;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let n=0;for(let s=0;s<4;s++){let l=r[(this.shift+s)%4];this.compact?(n<<=7,n+=l>>1&127):(n<<=10,n+=(l>>2&992)+(l>>1&31))}let i=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=(i>>6)+1,this.nbDataBlocks=(i&63)+1):(this.nbLayers=(i>>11)+1,this.nbDataBlocks=(i&2047)+1)}getRotation(e,t){let r=0;e.forEach((n,i,s)=>{let l=(n>>t-2<<1)+(n&1);r=(r<<3)+l}),r=((r&1)<<11)+(r>>1);for(let n=0;n<4;n++)if(O.bitCount(r^this.EXPECTED_CORNER_BITS[n])<=2)return n;throw new L}getCorrectedParameterData(e,t){let r,n;t?(r=7,n=2):(r=10,n=4);let i=r-n,s=new Int32Array(r);for(let d=r-1;d>=0;--d)s[d]=e&15,e>>=4;try{new Fe(P.AZTEC_PARAM).decode(s,i)}catch{throw new L}let l=0;for(let d=0;d<n;d++)l=(l<<4)+s[d];return l}getBullsEyeCorners(e){let t=e,r=e,n=e,i=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let D=this.getFirstDifferent(t,s,1,-1),N=this.getFirstDifferent(r,s,1,1),U=this.getFirstDifferent(n,s,-1,1),te=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){let se=this.distancePoint(te,D)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(se<.75||se>1.25||!this.isWhiteOrBlackRectangle(D,N,U,te))break}t=D,r=N,n=U,i=te,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new L;this.compact=this.nbCenterLayers===5;let l=new K(t.getX()+.5,t.getY()-.5),d=new K(r.getX()+.5,r.getY()+.5),g=new K(n.getX()-.5,n.getY()+.5),y=new K(i.getX()-.5,i.getY()-.5);return this.expandSquare([l,d,g,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,n;try{let l=new Y(this.image).detect();e=l[0],t=l[1],r=l[2],n=l[3]}catch{let d=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new Ie(d+7,g-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ie(d+7,g+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Ie(d-7,g+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new Ie(d-7,g-7),!1,-1,-1).toResultPoint()}let i=ne.round((e.getX()+n.getX()+t.getX()+r.getX())/4),s=ne.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{let l=new Y(this.image,15,i,s).detect();e=l[0],t=l[1],r=l[2],n=l[3]}catch{e=this.getFirstDifferent(new Ie(i+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ie(i+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Ie(i-7,s+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new Ie(i-7,s-7),!1,-1,-1).toResultPoint()}return i=ne.round((e.getX()+n.getX()+t.getX()+r.getX())/4),s=ne.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new Ie(i,s)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,n,i){let s=Re.getInstance(),l=this.getDimension(),d=l/2-this.nbCenterLayers,g=l/2+this.nbCenterLayers;return s.sampleGrid(e,l,l,d,d,g,d,g,g,d,g,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY())}sampleLine(e,t,r){let n=0,i=this.distanceResultPoint(e,t),s=i/r,l=e.getX(),d=e.getY(),g=s*(t.getX()-e.getX())/i,y=s*(t.getY()-e.getY())/i;for(let D=0;D<r;D++)this.image.get(ne.round(l+D*g),ne.round(d+D*y))&&(n|=1<<r-D-1);return n}isWhiteOrBlackRectangle(e,t,r,n){let i=3;e=new Ie(e.getX()-i,e.getY()+i),t=new Ie(t.getX()-i,t.getY()-i),r=new Ie(r.getX()+i,r.getY()-i),n=new Ie(n.getX()+i,n.getY()+i);let s=this.getColor(n,e);if(s===0)return!1;let l=this.getColor(e,t);return l!==s||(l=this.getColor(t,r),l!==s)?!1:(l=this.getColor(r,n),l===s)}getColor(e,t){let r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,i=(t.getY()-e.getY())/r,s=0,l=e.getX(),d=e.getY(),g=this.image.get(e.getX(),e.getY()),y=Math.ceil(r);for(let N=0;N<y;N++)l+=n,d+=i,this.image.get(ne.round(l),ne.round(d))!==g&&s++;let D=s/r;return D>.1&&D<.9?0:D<=.1===g?1:-1}getFirstDifferent(e,t,r,n){let i=e.getX()+r,s=e.getY()+n;for(;this.isValid(i,s)&&this.image.get(i,s)===t;)i+=r,s+=n;for(i-=r,s-=n;this.isValid(i,s)&&this.image.get(i,s)===t;)i+=r;for(i-=r;this.isValid(i,s)&&this.image.get(i,s)===t;)s+=n;return s-=n,new Ie(i,s)}expandSquare(e,t,r){let n=r/(2*t),i=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,g=new K(l+n*i,d+n*s),y=new K(l-n*i,d-n*s);i=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;let D=new K(l+n*i,d+n*s),N=new K(l-n*i,d-n*s);return[g,D,y,N]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=ne.round(e.getX()),r=ne.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return ne.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return ne.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class He{decode(e,t=null){let r=null,n=new ze(e.getBlackMatrix()),i=null,s=null;try{let y=n.detectMirror(!1);i=y.getPoints(),this.reportFoundResultPoints(t,i),s=new ve().decode(y)}catch(y){r=y}if(s==null)try{let y=n.detectMirror(!0);i=y.getPoints(),this.reportFoundResultPoints(t,i),s=new ve().decode(y)}catch(y){throw r??y}let l=new E(s.getText(),s.getRawBytes(),s.getNumBits(),i,M.AZTEC,b.currentTimeMillis()),d=s.getByteSegments();d!=null&&l.putMetadata(V.BYTE_SEGMENTS,d);let g=s.getECLevel();return g!=null&&l.putMetadata(V.ERROR_CORRECTION_LEVEL,g),l}reportFoundResultPoints(e,t){if(e!=null){let r=e.get($.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach((n,i,s)=>{r.foundPossibleResultPoint(n)})}}reset(){}}class Ye extends G{constructor(e=500){super(new He,e)}}class We{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get($.TRY_HARDER)===!0&&e.isRotateSupported()){const i=e.rotateCounterClockwise(),s=this.doDecode(i,t),l=s.getResultMetadata();let d=270;l!==null&&l.get(V.ORIENTATION)===!0&&(d=d+l.get(V.ORIENTATION)%360),s.putMetadata(V.ORIENTATION,d);const g=s.getResultPoints();if(g!==null){const y=i.getHeight();for(let D=0;D<g.length;D++)g[D]=new K(y-g[D].getY()-1,g[D].getX())}return s}else throw new L}}reset(){}doDecode(e,t){const r=e.getWidth(),n=e.getHeight();let i=new F(r);const s=t&&t.get($.TRY_HARDER)===!0,l=Math.max(1,n>>(s?8:5));let d;s?d=n:d=15;const g=Math.trunc(n/2);for(let y=0;y<d;y++){const D=Math.trunc((y+1)/2),N=(y&1)===0,U=g+l*(N?D:-D);if(U<0||U>=n)break;try{i=e.getBlackRow(U,i)}catch{continue}for(let te=0;te<2;te++){if(te===1&&(i.reverse(),t&&t.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const se=new Map;t.forEach((pe,_e)=>se.set(_e,pe)),se.delete($.NEED_RESULT_POINT_CALLBACK),t=se}try{const se=this.decodeRow(U,i,t);if(te===1){se.putMetadata(V.ORIENTATION,180);const pe=se.getResultPoints();pe!==null&&(pe[0]=new K(r-pe[0].getX()-1,pe[0].getY()),pe[1]=new K(r-pe[1].getX()-1,pe[1].getY()))}return se}catch{}}}throw new L}static recordPattern(e,t,r){const n=r.length;for(let g=0;g<n;g++)r[g]=0;const i=e.getSize();if(t>=i)throw new L;let s=!e.get(t),l=0,d=t;for(;d<i;){if(e.get(d)!==s)r[l]++;else{if(++l===n)break;r[l]=1,s=!s}d++}if(!(l===n||l===n-1&&d===i))throw new L}static recordPatternInReverse(e,t,r){let n=r.length,i=e.get(t);for(;t>0&&n>=0;)e.get(--t)!==i&&(n--,i=!i);if(n>=0)throw new L;We.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const n=e.length;let i=0,s=0;for(let g=0;g<n;g++)i+=e[g],s+=t[g];if(i<s)return Number.POSITIVE_INFINITY;const l=i/s;r*=l;let d=0;for(let g=0;g<n;g++){const y=e[g],D=t[g]*l,N=y>D?y-D:D-y;if(N>r)return Number.POSITIVE_INFINITY;d+=N}return d/i}}class Ne extends We{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let n=0,i=Int32Array.from([0,0,0,0,0,0]),s=r,l=!1;const d=6;for(let g=r;g<t;g++)if(e.get(g)!==l)i[n]++;else{if(n===d-1){let y=Ne.MAX_AVG_VARIANCE,D=-1;for(let N=Ne.CODE_START_A;N<=Ne.CODE_START_C;N++){const U=We.patternMatchVariance(i,Ne.CODE_PATTERNS[N],Ne.MAX_INDIVIDUAL_VARIANCE);U<y&&(y=U,D=N)}if(D>=0&&e.isRange(Math.max(0,s-(g-s)/2),s,!1))return Int32Array.from([s,g,D]);s+=i[0]+i[1],i=i.slice(2,i.length-1),i[n-1]=0,i[n]=0,n--}else n++;i[n]=1,l=!l}throw new L}static decodeCode(e,t,r){We.recordPattern(e,r,t);let n=Ne.MAX_AVG_VARIANCE,i=-1;for(let s=0;s<Ne.CODE_PATTERNS.length;s++){const l=Ne.CODE_PATTERNS[s],d=this.patternMatchVariance(t,l,Ne.MAX_INDIVIDUAL_VARIANCE);d<n&&(n=d,i=s)}if(i>=0)return i;throw new L}decodeRow(e,t,r){const n=r&&r.get($.ASSUME_GS1)===!0,i=Ne.findStartPattern(t),s=i[2];let l=0;const d=new Uint8Array(20);d[l++]=s;let g;switch(s){case Ne.CODE_START_A:g=Ne.CODE_CODE_A;break;case Ne.CODE_START_B:g=Ne.CODE_CODE_B;break;case Ne.CODE_START_C:g=Ne.CODE_CODE_C;break;default:throw new W}let y=!1,D=!1,N="",U=i[0],te=i[1];const se=Int32Array.from([0,0,0,0,0,0]);let pe=0,_e=0,Pe=s,Ue=0,Le=!0,lt=!1,nt=!1;for(;!y;){const Cn=D;switch(D=!1,pe=_e,_e=Ne.decodeCode(t,se,te),d[l++]=_e,_e!==Ne.CODE_STOP&&(Le=!0),_e!==Ne.CODE_STOP&&(Ue++,Pe+=Ue*_e),U=te,te+=se.reduce((m1,C1)=>m1+C1,0),_e){case Ne.CODE_START_A:case Ne.CODE_START_B:case Ne.CODE_START_C:throw new W}switch(g){case Ne.CODE_CODE_A:if(_e<64)nt===lt?N+=String.fromCharCode(32+_e):N+=String.fromCharCode(32+_e+128),nt=!1;else if(_e<96)nt===lt?N+=String.fromCharCode(_e-64):N+=String.fromCharCode(_e+64),nt=!1;else switch(_e!==Ne.CODE_STOP&&(Le=!1),_e){case Ne.CODE_FNC_1:n&&(N.length===0?N+="]C1":N+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_A:!lt&&nt?(lt=!0,nt=!1):lt&&nt?(lt=!1,nt=!1):nt=!0;break;case Ne.CODE_SHIFT:D=!0,g=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_B:g=Ne.CODE_CODE_B;break;case Ne.CODE_CODE_C:g=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:y=!0;break}break;case Ne.CODE_CODE_B:if(_e<96)nt===lt?N+=String.fromCharCode(32+_e):N+=String.fromCharCode(32+_e+128),nt=!1;else switch(_e!==Ne.CODE_STOP&&(Le=!1),_e){case Ne.CODE_FNC_1:n&&(N.length===0?N+="]C1":N+="");break;case Ne.CODE_FNC_2:case Ne.CODE_FNC_3:break;case Ne.CODE_FNC_4_B:!lt&&nt?(lt=!0,nt=!1):lt&&nt?(lt=!1,nt=!1):nt=!0;break;case Ne.CODE_SHIFT:D=!0,g=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_A:g=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_C:g=Ne.CODE_CODE_C;break;case Ne.CODE_STOP:y=!0;break}break;case Ne.CODE_CODE_C:if(_e<100)_e<10&&(N+="0"),N+=_e;else switch(_e!==Ne.CODE_STOP&&(Le=!1),_e){case Ne.CODE_FNC_1:n&&(N.length===0?N+="]C1":N+="");break;case Ne.CODE_CODE_A:g=Ne.CODE_CODE_A;break;case Ne.CODE_CODE_B:g=Ne.CODE_CODE_B;break;case Ne.CODE_STOP:y=!0;break}break}Cn&&(g=g===Ne.CODE_CODE_A?Ne.CODE_CODE_B:Ne.CODE_CODE_A)}const er=te-U;if(te=t.getNextUnset(te),!t.isRange(te,Math.min(t.getSize(),te+(te-U)/2),!1))throw new L;if(Pe-=Ue*pe,Pe%103!==pe)throw new S;const Ar=N.length;if(Ar===0)throw new L;Ar>0&&Le&&(g===Ne.CODE_CODE_C?N=N.substring(0,Ar-2):N=N.substring(0,Ar-1));const tr=(i[1]+i[0])/2,At=U+er/2,Gt=d.length,ir=new Uint8Array(Gt);for(let Cn=0;Cn<Gt;Cn++)ir[Cn]=d[Cn];const mn=[new K(tr,e),new K(At,e)];return new E(N,ir,0,mn,M.CODE_128,new Date().getTime())}}Ne.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ne.MAX_AVG_VARIANCE=.25,Ne.MAX_INDIVIDUAL_VARIANCE=.7,Ne.CODE_SHIFT=98,Ne.CODE_CODE_C=99,Ne.CODE_CODE_B=100,Ne.CODE_CODE_A=101,Ne.CODE_FNC_1=102,Ne.CODE_FNC_2=97,Ne.CODE_FNC_3=96,Ne.CODE_FNC_4_A=101,Ne.CODE_FNC_4_B=100,Ne.CODE_START_A=103,Ne.CODE_START_B=104,Ne.CODE_START_C=105,Ne.CODE_STOP=106;class ot extends We{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let n=this.counters;n.fill(0),this.decodeRowResult="";let i=ot.findAsteriskPattern(t,n),s=t.getNextSet(i[1]),l=t.getSize(),d,g;do{ot.recordPattern(t,s,n);let se=ot.toNarrowWidePattern(n);if(se<0)throw new L;d=ot.patternToChar(se),this.decodeRowResult+=d,g=s;for(let pe of n)s+=pe;s=t.getNextSet(s)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let se of n)y+=se;let D=s-g-y;if(s!==l&&D*2<y)throw new L;if(this.usingCheckDigit){let se=this.decodeRowResult.length-1,pe=0;for(let _e=0;_e<se;_e++)pe+=ot.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(_e));if(this.decodeRowResult.charAt(se)!==ot.ALPHABET_STRING.charAt(pe%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,se)}if(this.decodeRowResult.length===0)throw new L;let N;this.extendedMode?N=ot.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let U=(i[1]+i[0])/2,te=g+y/2;return new E(N,null,0,[new K(U,e),new K(te,e)],M.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),n=e.getNextSet(0),i=0,s=n,l=!1,d=t.length;for(let g=n;g<r;g++)if(e.get(g)!==l)t[i]++;else{if(i===d-1){if(this.toNarrowWidePattern(t)===ot.ASTERISK_ENCODING&&e.isRange(Math.max(0,s-Math.floor((g-s)/2)),s,!1))return[s,g];s+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,l=!l}throw new L}static toNarrowWidePattern(e){let t=e.length,r=0,n;do{let i=2147483647;for(let d of e)d<i&&d>r&&(i=d);r=i,n=0;let s=0,l=0;for(let d=0;d<t;d++){let g=e[d];g>r&&(l|=1<<t-1-d,n++,s+=g)}if(n===3){for(let d=0;d<t&&n>0;d++){let g=e[d];if(g>r&&(n--,g*2>=s))return-1}return l}}while(n>3);return-1}static patternToChar(e){for(let t=0;t<ot.CHARACTER_ENCODINGS.length;t++)if(ot.CHARACTER_ENCODINGS[t]===e)return ot.ALPHABET_STRING.charAt(t);if(e===ot.ASTERISK_ENCODING)return"*";throw new L}static decodeExtended(e){let t=e.length,r="";for(let n=0;n<t;n++){let i=e.charAt(n);if(i==="+"||i==="$"||i==="%"||i==="/"){let s=e.charAt(n+1),l="\0";switch(i){case"+":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)+32);else throw new W;break;case"$":if(s>="A"&&s<="Z")l=String.fromCharCode(s.charCodeAt(0)-64);else throw new W;break;case"%":if(s>="A"&&s<="E")l=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")l=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")l=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")l="\0";else if(s==="V")l="@";else if(s==="W")l="`";else if(s==="X"||s==="Y"||s==="Z")l="";else throw new W;break;case"/":if(s>="A"&&s<="O")l=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")l=":";else throw new W;break}r+=l,n++}else r+=i}return r}}ot.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ot.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ot.ASTERISK_ENCODING=148;class at extends We{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let n=this.decodeStart(t),i=this.decodeEnd(t),s=new H;at.decodeMiddle(t,n[1],i[0],s);let l=s.toString(),d=null;r!=null&&(d=r.get($.ALLOWED_LENGTHS)),d==null&&(d=at.DEFAULT_ALLOWED_LENGTHS);let g=l.length,y=!1,D=0;for(let te of d){if(g===te){y=!0;break}te>D&&(D=te)}if(!y&&g>D&&(y=!0),!y)throw new W;const N=[new K(n[1],e),new K(i[0],e)];return new E(l,null,0,N,M.ITF,new Date().getTime())}static decodeMiddle(e,t,r,n){let i=new Int32Array(10),s=new Int32Array(5),l=new Int32Array(5);for(i.fill(0),s.fill(0),l.fill(0);t<r;){We.recordPattern(e,t,i);for(let g=0;g<5;g++){let y=2*g;s[g]=i[y],l[g]=i[y+1]}let d=at.decodeDigit(s);n.append(d.toString()),d=this.decodeDigit(l),n.append(d.toString()),i.forEach(function(g){t+=g})}}decodeStart(e){let t=at.skipWhiteSpace(e),r=at.findGuardPattern(e,t,at.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=this.narrowLineWidth*10;r=r<t?r:t;for(let n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(r!==0)throw new L}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new L;return r}decodeEnd(e){e.reverse();try{let t=at.skipWhiteSpace(e),r;try{r=at.findGuardPattern(e,t,at.END_PATTERN_REVERSED[0])}catch(i){i instanceof L&&(r=at.findGuardPattern(e,t,at.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let n=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-n,r}finally{e.reverse()}}static findGuardPattern(e,t,r){let n=r.length,i=new Int32Array(n),s=e.getSize(),l=!1,d=0,g=t;i.fill(0);for(let y=t;y<s;y++)if(e.get(y)!==l)i[d]++;else{if(d===n-1){if(We.patternMatchVariance(i,r,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return[g,y];g+=i[0]+i[1],b.arraycopy(i,2,i,0,d-1),i[d-1]=0,i[d]=0,d--}else d++;i[d]=1,l=!l}throw new L}static decodeDigit(e){let t=at.MAX_AVG_VARIANCE,r=-1,n=at.PATTERNS.length;for(let i=0;i<n;i++){let s=at.PATTERNS[i],l=We.patternMatchVariance(e,s,at.MAX_INDIVIDUAL_VARIANCE);l<t?(t=l,r=i):l===t&&(r=-1)}if(r>=0)return r%10;throw new L}}at.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],at.MAX_AVG_VARIANCE=.38,at.MAX_INDIVIDUAL_VARIANCE=.5,at.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],at.START_PATTERN=Int32Array.from([1,1,1,1]),at.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class yt extends We{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,r,n=0,i=Int32Array.from([0,0,0]);for(;!t;){i=Int32Array.from([0,0,0]),r=yt.findGuardPattern(e,n,!1,this.START_END_PATTERN,i);let s=r[0];n=r[1];let l=s-(n-s);l>=0&&(t=e.isRange(l,s,!1))}return r}static checkChecksum(e){return yt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return yt.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new W;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new W;r+=i}return(1e3-r)%10}static decodeEnd(e,t){return yt.findGuardPattern(e,t,!1,yt.START_END_PATTERN,new Int32Array(yt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))}static findGuardPattern(e,t,r,n,i){let s=e.getSize();t=r?e.getNextUnset(t):e.getNextSet(t);let l=0,d=t,g=n.length,y=r;for(let D=t;D<s;D++)if(e.get(D)!==y)i[l]++;else{if(l===g-1){if(We.patternMatchVariance(i,n,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return Int32Array.from([d,D]);d+=i[0]+i[1];let N=i.slice(2,i.length-1);for(let U=0;U<l-1;U++)i[U]=N[U];i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,y=!y}throw new L}static decodeDigit(e,t,r,n){this.recordPattern(e,r,t);let i=this.MAX_AVG_VARIANCE,s=-1,l=n.length;for(let d=0;d<l;d++){let g=n[d],y=We.patternMatchVariance(t,g,yt.MAX_INDIVIDUAL_VARIANCE);y<i&&(i=y,s=d)}if(s>=0)return s;throw new L}}yt.MAX_AVG_VARIANCE=.48,yt.MAX_INDIVIDUAL_VARIANCE=.7,yt.START_END_PATTERN=Int32Array.from([1,1,1]),yt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),yt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),yt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Yt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),s=n.toString(),l=Yt.parseExtensionString(s),d=[new K((r[0]+r[1])/2,e),new K(i,e)],g=new E(s,null,0,d,M.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&g.putAllMetadata(l),g}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1],l=0;for(let g=0;g<5&&s<i;g++){let y=yt.decodeDigit(e,n,s,yt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+y%10);for(let D of n)s+=D;y>=10&&(l|=1<<4-g),g!==4&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(r.length!==5)throw new L;let d=this.determineCheckDigit(l);if(Yt.extensionChecksum(r.toString())!==d)throw new L;return s}static extensionChecksum(e){let t=e.length,r=0;for(let n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;r*=3;for(let n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new L}static parseExtensionString(e){if(e.length!==5)return null;let t=Yt.parseExtension5String(e);return t==null?null:new Map([[V.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let r=parseInt(e.substring(1)),n=(r/100).toString(),i=r%100,s=i<10?"0"+i:i.toString();return t+n+"."+s}}class Rr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),s=n.toString(),l=Rr.parseExtensionString(s),d=[new K((r[0]+r[1])/2,e),new K(i,e)],g=new E(s,null,0,d,M.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&g.putAllMetadata(l),g}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1],l=0;for(let d=0;d<2&&s<i;d++){let g=yt.decodeDigit(e,n,s,yt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);for(let y of n)s+=y;g>=10&&(l|=1<<1-d),d!==1&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(r.length!==2)throw new L;if(parseInt(r.toString())%4!==l)throw new L;return s}static parseExtensionString(e){return e.length!==2?null:new Map([[V.ISSUE_NUMBER,parseInt(e)]])}}class en{static decodeRow(e,t,r){let n=yt.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Yt().decodeRow(e,t,n)}catch{return new Rr().decodeRow(e,t,n)}}}en.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class tt extends yt{constructor(){super(),this.decodeRowStringBuffer="",tt.L_AND_G_PATTERNS=tt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=tt.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[t.length-n-1];tt.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let n=tt.findStartGuardPattern(t),i=r==null?null:r.get($.NEED_RESULT_POINT_CALLBACK);if(i!=null){const Le=new K((n[0]+n[1])/2,e);i.foundPossibleResultPoint(Le)}let s=this.decodeMiddle(t,n,this.decodeRowStringBuffer),l=s.rowOffset,d=s.resultString;if(i!=null){const Le=new K(l,e);i.foundPossibleResultPoint(Le)}let g=this.decodeEnd(t,l);if(i!=null){const Le=new K((g[0]+g[1])/2,e);i.foundPossibleResultPoint(Le)}let y=g[1],D=y+(y-g[0]);if(D>=t.getSize()||!t.isRange(y,D,!1))throw new L;let N=d.toString();if(N.length<8)throw new W;if(!tt.checkChecksum(N))throw new S;let U=(n[1]+n[0])/2,te=(g[1]+g[0])/2,se=this.getBarcodeFormat(),pe=[new K(U,e),new K(te,e)],_e=new E(N,null,0,pe,se,new Date().getTime()),Pe=0;try{let Le=en.decodeRow(e,t,g[1]);_e.putMetadata(V.UPC_EAN_EXTENSION,Le.getText()),_e.putAllMetadata(Le.getResultMetadata()),_e.addResultPoints(Le.getResultPoints()),Pe=Le.getText().length}catch{}let Ue=r==null?null:r.get($.ALLOWED_EAN_EXTENSIONS);if(Ue!=null){let Le=!1;for(let lt in Ue)if(Pe.toString()===lt){Le=!0;break}if(!Le)throw new L}return _e}decodeEnd(e,t){return tt.findGuardPattern(e,t,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return tt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return tt.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new W;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new W;r+=i}return(1e3-r)%10}}class Qt extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1],l=0;for(let g=0;g<6&&s<i;g++){let y=tt.decodeDigit(e,n,s,tt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+y%10);for(let D of n)s+=D;y>=10&&(l|=1<<5-g)}r=Qt.determineFirstDigit(r,l),s=tt.findGuardPattern(e,s,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&s<i;g++){let y=tt.decodeDigit(e,n,s,tt.L_PATTERNS);r+=String.fromCharCode(48+y);for(let D of n)s+=D}return{rowOffset:s,resultString:r}}getBarcodeFormat(){return M.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new L}}Qt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ur extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1];for(let d=0;d<4&&s<i;d++){let g=tt.decodeDigit(e,n,s,tt.L_PATTERNS);r+=String.fromCharCode(48+g);for(let y of n)s+=y}s=tt.findGuardPattern(e,s,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&s<i;d++){let g=tt.decodeDigit(e,n,s,tt.L_PATTERNS);r+=String.fromCharCode(48+g);for(let y of n)s+=y}return{rowOffset:s,resultString:r}}getBarcodeFormat(){return M.EAN_8}}class fr extends tt{constructor(){super(...arguments),this.ean13Reader=new Qt}getBarcodeFormat(){return M.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let r=new E(t.substring(1),null,null,e.getResultPoints(),M.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new L}reset(){this.ean13Reader.reset()}}class zt extends tt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters.map(g=>g);n[0]=0,n[1]=0,n[2]=0,n[3]=0;const i=e.getSize();let s=t[1],l=0;for(let g=0;g<6&&s<i;g++){const y=zt.decodeDigit(e,n,s,zt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+y%10);for(let D of n)s+=D;y>=10&&(l|=1<<5-g)}let d=zt.determineNumSysAndCheckDigit(r,l);return{rowOffset:s,resultString:d}}decodeEnd(e,t){return zt.findGuardPatternWithoutCounters(e,t,!0,zt.MIDDLE_END_PATTERN)}checkChecksum(e){return tt.checkChecksum(zt.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n]){let i=String.fromCharCode(48+r),s=String.fromCharCode(48+n);return i+e+s}throw L.getNotFoundInstance()}getBarcodeFormat(){return M.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(i=>i.charCodeAt(0)),r=new H;r.append(e.charAt(0));let n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}zt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),zt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class br extends We{constructor(e){super();let t=e==null?null:e.get($.POSSIBLE_FORMATS),r=[];u(t)?(r.push(new Qt),r.push(new fr),r.push(new ur),r.push(new zt)):(t.indexOf(M.EAN_13)>-1&&r.push(new Qt),t.indexOf(M.UPC_A)>-1&&r.push(new fr),t.indexOf(M.EAN_8)>-1&&r.push(new ur),t.indexOf(M.UPC_E)>-1&&r.push(new zt)),this.readers=r}decodeRow(e,t,r){for(let n of this.readers)try{const i=n.decodeRow(e,t,r),s=i.getBarcodeFormat()===M.EAN_13&&i.getText().charAt(0)==="0",l=r==null?null:r.get($.POSSIBLE_FORMATS),d=l==null||l.includes(M.UPC_A);if(s&&d){const g=i.getRawBytes(),y=new E(i.getText().substring(1),g,g?g.length:null,i.getResultPoints(),M.UPC_A);return y.putAllMetadata(i.getResultMetadata()),y}return i}catch{}throw new L}reset(){for(let e of this.readers)e.reset()}}class Et extends We{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(We.patternMatchVariance(e,t[r],Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return r;throw new L}static count(e){return ne.sum(new Int32Array(e))}static increment(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]>n&&(n=t[i],r=i);e[r]++}static decrement(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]<n&&(n=t[i],r=i);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t+e[2]+e[3],n=t/r;if(n>=Et.MIN_FINDER_PATTERN_RATIO&&n<=Et.MAX_FINDER_PATTERN_RATIO){let i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;for(let l of e)l>s&&(s=l),l<i&&(i=l);return s<10*i}return!1}}Et.MAX_AVG_VARIANCE=.2,Et.MAX_INDIVIDUAL_VARIANCE=.45,Et.MIN_FINDER_PATTERN_RATIO=9.5/12,Et.MAX_FINDER_PATTERN_RATIO=12.5/14;class jr{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof jr))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class tn{constructor(e,t,r,n,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new K(r,i)),this.resultPoints.push(new K(n,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof tn))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class hr{constructor(){}static getRSSvalue(e,t,r){let n=0;for(let d of e)n+=d;let i=0,s=0,l=e.length;for(let d=0;d<l-1;d++){let g;for(g=1,s|=1<<d;g<e[d];g++,s&=~(1<<d)){let y=hr.combins(n-g-1,l-d-2);if(r&&s===0&&n-g-(l-d-1)>=l-d-1&&(y-=hr.combins(n-g-(l-d),l-d-2)),l-d-1>1){let D=0;for(let N=n-g-(l-d-2);N>t;N--)D+=hr.combins(n-g-N-1,l-d-3);y-=D*(l-1-d)}else n-g>t&&y--;i+=y}n-=g}return i}static combins(e,t){let r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);let i=1,s=1;for(let l=e;l>r;l--)i*=l,s<=n&&(i/=s,s++);for(;s<=n;)i/=s,s++;return i}}class $n{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let r=12*t,n=new F(r),i=0,l=e[0].getRightChar().getValue();for(let d=11;d>=0;--d)l&1<<d&&n.set(i),i++;for(let d=1;d<e.length;++d){let g=e[d],y=g.getLeftChar().getValue();for(let D=11;D>=0;--D)y&1<<D&&n.set(i),i++;if(g.getRightChar()!=null){let D=g.getRightChar().getValue();for(let N=11;N>=0;--N)D&1<<N&&n.set(i),i++}}return n}}class Mt{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class dr{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class jt extends dr{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===jt.FNC1}}jt.FNC1="$";class Fr extends dr{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class xr extends dr{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new W;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===xr.FNC1}isSecondDigitFNC1(){return this.secondDigit===xr.FNC1}isAnyFNC1(){return this.firstDigit===xr.FNC1||this.secondDigit===xr.FNC1}}xr.FNC1=10;class Ve{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new L;let t=e.substring(0,2);for(let i of Ve.TWO_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(2,i[2],e):Ve.processFixedAI(2,i[1],e);if(e.length<3)throw new L;let r=e.substring(0,3);for(let i of Ve.THREE_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(3,i[2],e):Ve.processFixedAI(3,i[1],e);for(let i of Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,i[2],e):Ve.processFixedAI(4,i[1],e);if(e.length<4)throw new L;let n=e.substring(0,4);for(let i of Ve.FOUR_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===Ve.VARIABLE_LENGTH?Ve.processVariableAI(4,i[2],e):Ve.processFixedAI(4,i[1],e);throw new L}static processFixedAI(e,t,r){if(r.length<e)throw new L;let n=r.substring(0,e);if(r.length<e+t)throw new L;let i=r.substring(e,e+t),s=r.substring(e+t),l="("+n+")"+i,d=Ve.parseFieldsInGeneralPurpose(s);return d==null?l:l+d}static processVariableAI(e,t,r){let n=r.substring(0,e),i;r.length<e+t?i=r.length:i=e+t;let s=r.substring(e,i),l=r.substring(i),d="("+n+")"+s,g=Ve.parseFieldsInGeneralPurpose(l);return g==null?d:d+g}}Ve.VARIABLE_LENGTH=[],Ve.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ve.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ve.VARIABLE_LENGTH,20],["22",Ve.VARIABLE_LENGTH,29],["30",Ve.VARIABLE_LENGTH,8],["37",Ve.VARIABLE_LENGTH,8],["90",Ve.VARIABLE_LENGTH,30],["91",Ve.VARIABLE_LENGTH,30],["92",Ve.VARIABLE_LENGTH,30],["93",Ve.VARIABLE_LENGTH,30],["94",Ve.VARIABLE_LENGTH,30],["95",Ve.VARIABLE_LENGTH,30],["96",Ve.VARIABLE_LENGTH,30],["97",Ve.VARIABLE_LENGTH,3],["98",Ve.VARIABLE_LENGTH,30],["99",Ve.VARIABLE_LENGTH,30]],Ve.THREE_DIGIT_DATA_LENGTH=[["240",Ve.VARIABLE_LENGTH,30],["241",Ve.VARIABLE_LENGTH,30],["242",Ve.VARIABLE_LENGTH,6],["250",Ve.VARIABLE_LENGTH,30],["251",Ve.VARIABLE_LENGTH,30],["253",Ve.VARIABLE_LENGTH,17],["254",Ve.VARIABLE_LENGTH,20],["400",Ve.VARIABLE_LENGTH,30],["401",Ve.VARIABLE_LENGTH,30],["402",17],["403",Ve.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ve.VARIABLE_LENGTH,20],["421",Ve.VARIABLE_LENGTH,15],["422",3],["423",Ve.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ve.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ve.VARIABLE_LENGTH,15],["391",Ve.VARIABLE_LENGTH,18],["392",Ve.VARIABLE_LENGTH,15],["393",Ve.VARIABLE_LENGTH,18],["703",Ve.VARIABLE_LENGTH,30]],Ve.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ve.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ve.VARIABLE_LENGTH,20],["8003",Ve.VARIABLE_LENGTH,30],["8004",Ve.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ve.VARIABLE_LENGTH,30],["8008",Ve.VARIABLE_LENGTH,12],["8018",18],["8020",Ve.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ve.VARIABLE_LENGTH,70],["8200",Ve.VARIABLE_LENGTH,70]];class fn{constructor(e){this.buffer=new H,this.information=e}decodeAllCodes(e,t){let r=t,n=null;do{let i=this.decodeGeneralPurposeField(r,n),s=Ve.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&e.append(s),i.isRemaining()?n=""+i.getRemainingValue():n=null,r===i.getNewPosition())break;r=i.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let i=this.extractNumericValueFromBitArray(e,4);return i===0?new xr(this.information.getSize(),xr.FNC1,xr.FNC1):new xr(this.information.getSize(),i-1,xr.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),r=(t-8)/11,n=(t-8)%11;return new xr(e+7,r,n)}extractNumericValueFromBitArray(e,t){return fn.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let n=0;for(let i=0;i<r;++i)e.get(t+i)&&(n|=1<<r-i-1);return n}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new Fr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Fr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new Fr(this.current.getPosition(),this.buffer.toString()):t=new Fr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Mt(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Fr(this.current.getPosition(),this.buffer.toString());return new Mt(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Mt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Fr(this.current.getPosition(),this.buffer.toString());return new Mt(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Mt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Fr(this.current.getPosition(),this.buffer.toString());return new Mt(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Mt(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new jt(e+5,jt.FNC1);if(t>=5&&t<15)return new jt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new jt(e+7,""+(r+1));if(r>=90&&r<116)return new jt(e+7,""+(r+7));let n=this.extractNumericValueFromBitArray(e,8),i;switch(n){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new W}return new jt(e+8,i)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new jt(e+5,jt.FNC1);if(t>=5&&t<15)return new jt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new jt(e+6,""+(r+33));let n;switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new Ce("Decoding invalid alphanumeric value: "+r)}return new jt(e+6,n)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Si{constructor(e){this.information=e,this.generalDecoder=new fn(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Kt extends Si{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let n=0;n<4;++n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*n,10);i/100===0&&e.append("0"),i/10===0&&e.append("0"),e.append(i)}Kt.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let n=0;n<13;n++){let i=e.charAt(n+t).charCodeAt(0)-48;r+=n&1?i:3*i}r=10-r%10,r===10&&(r=0),e.append(r)}}Kt.GTIN_SIZE=40;class hn extends Kt{constructor(e){super(e)}parseInformation(){let e=new H;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(hn.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,hn.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,hn.HEADER_SIZE+44)}}hn.HEADER_SIZE=4;class Zn extends Si{constructor(e){super(e)}parseInformation(){let e=new H;return this.getGeneralDecoder().decodeAllCodes(e,Zn.HEADER_SIZE)}}Zn.HEADER_SIZE=5;class Qn extends Kt{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);let i=this.checkWeight(n),s=1e5;for(let l=0;l<5;++l)i/s===0&&e.append("0"),s/=10;e.append(i)}}class _r extends Qn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=_r.HEADER_SIZE+Qn.GTIN_SIZE+_r.WEIGHT_SIZE)throw new L;let e=new H;return this.encodeCompressedGtin(e,_r.HEADER_SIZE),this.encodeCompressedWeight(e,_r.HEADER_SIZE+Qn.GTIN_SIZE,_r.WEIGHT_SIZE),e.toString()}}_r.HEADER_SIZE=5,_r.WEIGHT_SIZE=15;class Va extends _r{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Ga extends _r{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Sr extends Kt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Sr.HEADER_SIZE+Kt.GTIN_SIZE)throw new L;let e=new H;this.encodeCompressedGtin(e,Sr.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Sr.HEADER_SIZE+Kt.GTIN_SIZE,Sr.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Sr.HEADER_SIZE+Kt.GTIN_SIZE+Sr.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Sr.HEADER_SIZE=8,Sr.LAST_DIGIT_SIZE=2;class Zt extends Kt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Zt.HEADER_SIZE+Kt.GTIN_SIZE)throw new L;let e=new H;this.encodeCompressedGtin(e,Zt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Zt.HEADER_SIZE+Kt.GTIN_SIZE,Zt.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Zt.HEADER_SIZE+Kt.GTIN_SIZE+Zt.LAST_DIGIT_SIZE,Zt.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let n=this.getGeneralDecoder().decodeGeneralPurposeField(Zt.HEADER_SIZE+Kt.GTIN_SIZE+Zt.LAST_DIGIT_SIZE+Zt.FIRST_THREE_DIGITS_SIZE,null);return e.append(n.getNewString()),e.toString()}}Zt.HEADER_SIZE=8,Zt.LAST_DIGIT_SIZE=2,Zt.FIRST_THREE_DIGITS_SIZE=10;class Dt extends Qn{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE+Dt.DATE_SIZE)throw new L;let e=new H;return this.encodeCompressedGtin(e,Dt.HEADER_SIZE),this.encodeCompressedWeight(e,Dt.HEADER_SIZE+Dt.GTIN_SIZE,Dt.WEIGHT_SIZE),this.encodeCompressedDate(e,Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,Dt.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let n=r%32;r/=32;let i=r%12+1;r/=12;let s=r;s/10==0&&e.append("0"),e.append(s),i/10==0&&e.append("0"),e.append(i),n/10==0&&e.append("0"),e.append(n)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}Dt.HEADER_SIZE=8,Dt.WEIGHT_SIZE=20,Dt.DATE_SIZE=16;function ho(I){try{if(I.get(1))return new hn(I);if(!I.get(2))return new Zn(I);switch(fn.extractNumericValueFromBitArray(I,1,4)){case 4:return new Va(I);case 5:return new Ga(I)}switch(fn.extractNumericValueFromBitArray(I,1,5)){case 12:return new Sr(I);case 13:return new Zt(I)}switch(fn.extractNumericValueFromBitArray(I,1,7)){case 56:return new Dt(I,"310","11");case 57:return new Dt(I,"320","11");case 58:return new Dt(I,"310","13");case 59:return new Dt(I,"320","13");case 60:return new Dt(I,"310","15");case 61:return new Dt(I,"320","15");case 62:return new Dt(I,"310","17");case 63:return new Dt(I,"320","17")}}catch(e){throw console.log(e),new Ce("unknown decoder: "+I)}}class Wr{constructor(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Wr?Wr.equalsOrNull(e.leftchar,t.leftchar)&&Wr.equalsOrNull(e.rightchar,t.rightchar)&&Wr.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:Wr.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ii{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof Ii?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach((n,i)=>{t.forEach(s=>{n.getLeftChar().getValue()===s.getLeftChar().getValue()&&n.getRightChar().getValue()===s.getRightChar().getValue()&&n.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}}class Oe extends Et{constructor(e){super(...arguments),this.pairs=new Array(Oe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return Oe.constructResult(this.decodeRow2pairs(e,t))}catch(n){this.verbose&&console.log(n)}return this.pairs.length=0,this.startFromEven=!0,Oe.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof L){if(!this.pairs.length)throw new L;r=!0}}if(this.checkChecksum())return this.pairs;let n;if(this.rows.length?n=!0:n=!1,this.storeRow(e,!1),n){let i=this.checkRowsBoolean(!1);if(i!=null||(i=this.checkRowsBoolean(!0),i!=null))return i}throw new L}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let n=this.rows[r];this.pairs.length=0;for(let s of e)this.pairs.push(s.getPairs());if(this.pairs.push(n.getPairs()),!Oe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let i=new Array(e);i.push(n);try{return this.checkRows(i,r+1)}catch(s){this.verbose&&console.log(s)}}throw new L}static isValidSequence(e){for(let t of Oe.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let n=0;n<e.length;n++)if(e[n].getFinderPattern().getValue()!=t[n]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,n=!1,i=!1;for(;r<this.rows.length;){let s=this.rows[r];if(s.getRowNumber()>e){i=s.isEquivalent(this.pairs);break}n=s.isEquivalent(this.pairs),r++}i||n||Oe.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Ii(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length){for(let n of r.getPairs())for(let i of e)if(Wr.equals(n,i))break}}static isPartialRow(e,t){for(let r of t){let n=!0;for(let i of e){let s=!1;for(let l of r.getPairs())if(i.equals(l)){s=!0;break}if(!s){n=!1;break}}if(n)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=$n.buildBitArray(e),n=ho(t).parseInformation(),i=e[0].getFinderPattern().getResultPoints(),s=e[e.length-1].getFinderPattern().getResultPoints(),l=[i[0],i[1],s[0],s[1]];return new E(n,null,null,l,M.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let n=r.getChecksumPortion(),i=2;for(let l=1;l<this.pairs.size();++l){let d=this.pairs.get(l);n+=d.getLeftChar().getChecksumPortion(),i++;let g=d.getRightChar();g!=null&&(n+=g.getChecksumPortion(),i++)}return n%=211,211*(i-4)+n==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let n=t.length%2==0;this.startFromEven&&(n=!n);let i,s=!0,l=-1;do this.findNextPair(e,t,l),i=this.parseFoundFinderPattern(e,r,n),i==null?l=Oe.getNextSecondBar(e,this.startEnd[0]):s=!1;while(s);let d=this.decodeDataCharacter(e,i,n,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new L;let g;try{g=this.decodeDataCharacter(e,i,n,!1)}catch(y){g=null,this.verbose&&console.log(y)}return new Wr(d,g,i,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,r){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s;r>=0?s=r:this.isEmptyPair(t)?s=0:s=t[t.length-1].getFinderPattern().getStartEnd()[1];let l=t.length%2!=0;this.startFromEven&&(l=!l);let d=!1;for(;s<i&&(d=!e.get(s),!!d);)s++;let g=0,y=s;for(let D=s;D<i;D++)if(e.get(D)!=d)n[g]++;else{if(g==3){if(l&&Oe.reverseCounters(n),Oe.isFinderPattern(n)){this.startEnd[0]=y,this.startEnd[1]=D;return}l&&Oe.reverseCounters(n),y+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,g--}else g++;n[g]=1,d=!d}throw new L}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}}parseFoundFinderPattern(e,t,r){let n,i,s;if(r){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,n=this.startEnd[0]-g,i=g,s=this.startEnd[1]}else i=this.startEnd[0],s=e.getNextUnset(this.startEnd[1]+1),n=s-this.startEnd[1];let l=this.getDecodeFinderCounters();b.arraycopy(l,0,l,1,l.length-1),l[0]=n;let d;try{d=this.parseFinderValue(l,Oe.FINDER_PATTERNS)}catch{return null}return new tn(d,[i,s],i,s,t)}decodeDataCharacter(e,t,r,n){let i=this.getDataCharacterCounters();for(let At=0;At<i.length;At++)i[At]=0;if(n)Oe.recordPatternInReverse(e,t.getStartEnd()[0],i);else{Oe.recordPattern(e,t.getStartEnd()[1],i);for(let At=0,Gt=i.length-1;At<Gt;At++,Gt--){let ir=i[At];i[At]=i[Gt],i[Gt]=ir}}let s=17,l=ne.sum(new Int32Array(i))/s,d=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(l-d)/d>.3)throw new L;let g=this.getOddCounts(),y=this.getEvenCounts(),D=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let At=0;At<i.length;At++){let Gt=1*i[At]/l,ir=Gt+.5;if(ir<1){if(Gt<.3)throw new L;ir=1}else if(ir>8){if(Gt>8.7)throw new L;ir=8}let mn=At/2;At&1?(y[mn]=ir,N[mn]=Gt-ir):(g[mn]=ir,D[mn]=Gt-ir)}this.adjustOddEvenCounts(s);let U=4*t.getValue()+(r?0:2)+(n?0:1)-1,te=0,se=0;for(let At=g.length-1;At>=0;At--){if(Oe.isNotA1left(t,r,n)){let Gt=Oe.WEIGHTS[U][2*At];se+=g[At]*Gt}te+=g[At]}let pe=0;for(let At=y.length-1;At>=0;At--)if(Oe.isNotA1left(t,r,n)){let Gt=Oe.WEIGHTS[U][2*At+1];pe+=y[At]*Gt}let _e=se+pe;if(te&1||te>13||te<4)throw new L;let Pe=(13-te)/2,Ue=Oe.SYMBOL_WIDEST[Pe],Le=9-Ue,lt=hr.getRSSvalue(g,Ue,!0),nt=hr.getRSSvalue(y,Le,!1),er=Oe.EVEN_TOTAL_SUBSET[Pe],Ar=Oe.GSUM[Pe],tr=lt*er+nt+Ar;return new jr(tr,_e)}static isNotA1left(e,t,r){return!(e.getValue()==0&&t&&r)}adjustOddEvenCounts(e){let t=ne.sum(new Int32Array(this.getOddCounts())),r=ne.sum(new Int32Array(this.getEvenCounts())),n=!1,i=!1;t>13?i=!0:t<4&&(n=!0);let s=!1,l=!1;r>13?l=!0:r<4&&(s=!0);let d=t+r-e,g=(t&1)==1,y=(r&1)==0;if(d==1)if(g){if(y)throw new L;i=!0}else{if(!y)throw new L;l=!0}else if(d==-1)if(g){if(y)throw new L;n=!0}else{if(!y)throw new L;s=!0}else if(d==0){if(g){if(!y)throw new L;t<r?(n=!0,l=!0):(i=!0,s=!0)}else if(y)throw new L}else throw new L;if(n){if(i)throw new L;Oe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&Oe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(l)throw new L;Oe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&Oe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Oe.SYMBOL_WIDEST=[7,5,4,3,1],Oe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Oe.GSUM=[0,348,1388,2948,3988],Oe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Oe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Oe.FINDER_PAT_A=0,Oe.FINDER_PAT_B=1,Oe.FINDER_PAT_C=2,Oe.FINDER_PAT_D=3,Oe.FINDER_PAT_E=4,Oe.FINDER_PAT_F=5,Oe.FINDER_PATTERN_SEQUENCES=[[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_C,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_E,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D,Oe.FINDER_PAT_C],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_E,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D,Oe.FINDER_PAT_D,Oe.FINDER_PAT_F],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_E,Oe.FINDER_PAT_B,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_F,Oe.FINDER_PAT_F],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_D],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_E],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_F,Oe.FINDER_PAT_F],[Oe.FINDER_PAT_A,Oe.FINDER_PAT_A,Oe.FINDER_PAT_B,Oe.FINDER_PAT_B,Oe.FINDER_PAT_C,Oe.FINDER_PAT_D,Oe.FINDER_PAT_D,Oe.FINDER_PAT_E,Oe.FINDER_PAT_E,Oe.FINDER_PAT_F,Oe.FINDER_PAT_F]],Oe.MAX_PAIRS=11;class Xa extends jr{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Bt extends Et{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const n=this.decodePair(t,!1,e,r);Bt.addOrTally(this.possibleLeftPairs,n),t.reverse();let i=this.decodePair(t,!0,e,r);Bt.addOrTally(this.possibleRightPairs,i),t.reverse();for(let s of this.possibleLeftPairs)if(s.getCount()>1){for(let l of this.possibleRightPairs)if(l.getCount()>1&&Bt.checkChecksum(s,l))return Bt.constructResult(s,l)}throw new L}static addOrTally(e,t){if(t==null)return;let r=!1;for(let n of e)if(n.getValue()===t.getValue()){n.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),i=new H;for(let g=13-n.length;g>0;g--)i.append("0");i.append(n);let s=0;for(let g=0;g<13;g++){let y=i.charAt(g).charCodeAt(0)-48;s+=g&1?y:3*y}s=10-s%10,s===10&&(s=0),i.append(s.toString());let l=e.getFinderPattern().getResultPoints(),d=t.getFinderPattern().getResultPoints();return new E(i.toString(),null,0,[l[0],l[1],d[0],d[1]],M.RSS_14,new Date().getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n}decodePair(e,t,r,n){try{let i=this.findFinderPattern(e,t),s=this.parseFoundFinderPattern(e,r,t,i),l=n==null?null:n.get($.NEED_RESULT_POINT_CALLBACK);if(l!=null){let y=(i[0]+i[1])/2;t&&(y=e.getSize()-1-y),l.foundPossibleResultPoint(new K(y,r))}let d=this.decodeDataCharacter(e,s,!0),g=this.decodeDataCharacter(e,s,!1);return new Xa(1597*d.getValue()+g.getValue(),d.getChecksumPortion()+4*g.getChecksumPortion(),s)}catch{return null}}decodeDataCharacter(e,t,r){let n=this.getDataCharacterCounters();for(let pe=0;pe<n.length;pe++)n[pe]=0;if(r)We.recordPatternInReverse(e,t.getStartEnd()[0],n);else{We.recordPattern(e,t.getStartEnd()[1]+1,n);for(let pe=0,_e=n.length-1;pe<_e;pe++,_e--){let Pe=n[pe];n[pe]=n[_e],n[_e]=Pe}}let i=r?16:15,s=ne.sum(new Int32Array(n))/i,l=this.getOddCounts(),d=this.getEvenCounts(),g=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let pe=0;pe<n.length;pe++){let _e=n[pe]/s,Pe=Math.floor(_e+.5);Pe<1?Pe=1:Pe>8&&(Pe=8);let Ue=Math.floor(pe/2);pe&1?(d[Ue]=Pe,y[Ue]=_e-Pe):(l[Ue]=Pe,g[Ue]=_e-Pe)}this.adjustOddEvenCounts(r,i);let D=0,N=0;for(let pe=l.length-1;pe>=0;pe--)N*=9,N+=l[pe],D+=l[pe];let U=0,te=0;for(let pe=d.length-1;pe>=0;pe--)U*=9,U+=d[pe],te+=d[pe];let se=N+3*U;if(r){if(D&1||D>12||D<4)throw new L;let pe=(12-D)/2,_e=Bt.OUTSIDE_ODD_WIDEST[pe],Pe=9-_e,Ue=hr.getRSSvalue(l,_e,!1),Le=hr.getRSSvalue(d,Pe,!0),lt=Bt.OUTSIDE_EVEN_TOTAL_SUBSET[pe],nt=Bt.OUTSIDE_GSUM[pe];return new jr(Ue*lt+Le+nt,se)}else{if(te&1||te>10||te<4)throw new L;let pe=(10-te)/2,_e=Bt.INSIDE_ODD_WIDEST[pe],Pe=9-_e,Ue=hr.getRSSvalue(l,_e,!0),Le=hr.getRSSvalue(d,Pe,!1),lt=Bt.INSIDE_ODD_TOTAL_SUBSET[pe],nt=Bt.INSIDE_GSUM[pe];return new jr(Le*lt+Ue+nt,se)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let n=e.getSize(),i=!1,s=0;for(;s<n&&(i=!e.get(s),t!==i);)s++;let l=0,d=s;for(let g=s;g<n;g++)if(e.get(g)!==i)r[l]++;else{if(l===3){if(Et.isFinderPattern(r))return[d,g];d+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,l--}else l++;r[l]=1,i=!i}throw new L}parseFoundFinderPattern(e,t,r,n){let i=e.get(n[0]),s=n[0]-1;for(;s>=0&&i!==e.get(s);)s--;s++;const l=n[0]-s,d=this.getDecodeFinderCounters(),g=new Int32Array(d.length);b.arraycopy(d,0,g,1,d.length-1),g[0]=l;const y=this.parseFinderValue(g,Bt.FINDER_PATTERNS);let D=s,N=n[1];return r&&(D=e.getSize()-1-D,N=e.getSize()-1-N),new tn(y,[s,n[1]],D,N,t)}adjustOddEvenCounts(e,t){let r=ne.sum(new Int32Array(this.getOddCounts())),n=ne.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1,l=!1,d=!1;e?(r>12?s=!0:r<4&&(i=!0),n>12?d=!0:n<4&&(l=!0)):(r>11?s=!0:r<5&&(i=!0),n>10?d=!0:n<4&&(l=!0));let g=r+n-t,y=(r&1)===(e?1:0),D=(n&1)===1;if(g===1)if(y){if(D)throw new L;s=!0}else{if(!D)throw new L;d=!0}else if(g===-1)if(y){if(D)throw new L;i=!0}else{if(!D)throw new L;l=!0}else if(g===0){if(y){if(!D)throw new L;r<n?(i=!0,d=!0):(s=!0,l=!0)}else if(D)throw new L}else throw new L;if(i){if(s)throw new L;Et.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&Et.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(d)throw new L;Et.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&Et.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Bt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Bt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Bt.OUTSIDE_GSUM=[0,161,961,2015,2715],Bt.INSIDE_GSUM=[0,336,1036,1516],Bt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Bt.INSIDE_ODD_WIDEST=[2,4,6,8],Bt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class dn extends We{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const r=e?e.get($.POSSIBLE_FORMATS):null,n=e&&e.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(M.EAN_13)||r.includes(M.UPC_A)||r.includes(M.EAN_8)||r.includes(M.UPC_E))&&this.readers.push(new br(e)),r.includes(M.CODE_39)&&this.readers.push(new ot(n)),r.includes(M.CODE_128)&&this.readers.push(new Ne),r.includes(M.ITF)&&this.readers.push(new at),r.includes(M.RSS_14)&&this.readers.push(new Bt),r.includes(M.RSS_EXPANDED)&&this.readers.push(new Oe(this.verbose))):(this.readers.push(new br(e)),this.readers.push(new ot),this.readers.push(new br(e)),this.readers.push(new Ne),this.readers.push(new at),this.readers.push(new Bt),this.readers.push(new Oe(this.verbose)))}decodeRow(e,t,r){for(let n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(e,t,r)}catch{}throw new L}reset(){this.readers.forEach(e=>e.reset())}}class Ya extends G{constructor(e=500,t){super(new dn(t),e,t)}}class pt{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class xt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ut{constructor(e,t,r,n,i,s){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=i,this.ecBlocks=s;let l=0;const d=s.getECCodewords(),g=s.getECBlocks();for(let y of g)l+=y.getCount()*(y.getDataCodewords()+d);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(e&1||t&1)throw new W;for(let r of ut.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new W}toString(){return""+this.versionNumber}static buildVersions(){return[new ut(1,10,10,8,8,new pt(5,new xt(1,3))),new ut(2,12,12,10,10,new pt(7,new xt(1,5))),new ut(3,14,14,12,12,new pt(10,new xt(1,8))),new ut(4,16,16,14,14,new pt(12,new xt(1,12))),new ut(5,18,18,16,16,new pt(14,new xt(1,18))),new ut(6,20,20,18,18,new pt(18,new xt(1,22))),new ut(7,22,22,20,20,new pt(20,new xt(1,30))),new ut(8,24,24,22,22,new pt(24,new xt(1,36))),new ut(9,26,26,24,24,new pt(28,new xt(1,44))),new ut(10,32,32,14,14,new pt(36,new xt(1,62))),new ut(11,36,36,16,16,new pt(42,new xt(1,86))),new ut(12,40,40,18,18,new pt(48,new xt(1,114))),new ut(13,44,44,20,20,new pt(56,new xt(1,144))),new ut(14,48,48,22,22,new pt(68,new xt(1,174))),new ut(15,52,52,24,24,new pt(42,new xt(2,102))),new ut(16,64,64,14,14,new pt(56,new xt(2,140))),new ut(17,72,72,16,16,new pt(36,new xt(4,92))),new ut(18,80,80,18,18,new pt(48,new xt(4,114))),new ut(19,88,88,20,20,new pt(56,new xt(4,144))),new ut(20,96,96,22,22,new pt(68,new xt(4,174))),new ut(21,104,104,24,24,new pt(56,new xt(6,136))),new ut(22,120,120,18,18,new pt(68,new xt(6,175))),new ut(23,132,132,20,20,new pt(62,new xt(8,163))),new ut(24,144,144,22,22,new pt(62,new xt(8,156),new xt(2,155))),new ut(25,8,18,6,16,new pt(7,new xt(1,5))),new ut(26,8,32,6,14,new pt(11,new xt(1,10))),new ut(27,12,26,10,24,new pt(14,new xt(1,16))),new ut(28,12,36,10,16,new pt(18,new xt(1,22))),new ut(29,16,36,14,16,new pt(24,new xt(1,32))),new ut(30,16,48,14,22,new pt(28,new xt(1,49)))]}}ut.VERSIONS=ut.buildVersions();class Di{constructor(e){const t=e.getHeight();if(t<8||t>144||t&1)throw new W;this.version=Di.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ee(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return ut.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,n=0;const i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth();let l=!1,d=!1,g=!1,y=!1;do if(r===i&&n===0&&!l)e[t++]=this.readCorner1(i,s)&255,r-=2,n+=2,l=!0;else if(r===i-2&&n===0&&s&3&&!d)e[t++]=this.readCorner2(i,s)&255,r-=2,n+=2,d=!0;else if(r===i+4&&n===2&&!(s&7)&&!g)e[t++]=this.readCorner3(i,s)&255,r-=2,n+=2,g=!0;else if(r===i-2&&n===0&&(s&7)===4&&!y)e[t++]=this.readCorner4(i,s)&255,r-=2,n+=2,y=!0;else{do r<i&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,i,s)&255),r-=2,n+=2;while(r>=0&&n<s);r+=1,n+=3;do r>=0&&n<s&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,i,s)&255),r+=2,n-=2;while(r<i&&n>=0);r+=3,n+=1}while(r<i||n<s);if(t!==this.version.getTotalCodewords())throw new W;return e}readModule(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,n){let i=0;return this.readModule(e-2,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-2,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t,r,n)&&(i|=1),i<<=1,this.readModule(e,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e,t,r,n)&&(i|=1),i}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new w("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=t/n|0,l=r/i|0,d=s*n,g=l*i,y=new ee(g,d);for(let D=0;D<s;++D){const N=D*n;for(let U=0;U<l;++U){const te=U*i;for(let se=0;se<n;++se){const pe=D*(n+2)+1+se,_e=N+se;for(let Pe=0;Pe<i;++Pe){const Ue=U*(i+2)+1+Pe;if(e.get(Ue,pe)){const Le=te+Pe;y.set(Le,_e)}}}}}return y}}class Ti{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let n=0;const i=r.getECBlocks();for(let se of i)n+=se.getCount();const s=new Array(n);let l=0;for(let se of i)for(let pe=0;pe<se.getCount();pe++){const _e=se.getDataCodewords(),Pe=r.getECCodewords()+_e;s[l++]=new Ti(_e,new Uint8Array(Pe))}const g=s[0].codewords.length-r.getECCodewords(),y=g-1;let D=0;for(let se=0;se<y;se++)for(let pe=0;pe<l;pe++)s[pe].codewords[se]=e[D++];const N=t.getVersionNumber()===24,U=N?8:l;for(let se=0;se<U;se++)s[se].codewords[g-1]=e[D++];const te=s[0].codewords.length;for(let se=g;se<te;se++)for(let pe=0;pe<l;pe++){const _e=N?(pe+8)%l:pe,Pe=N&&_e>7?se-1:se;s[_e].codewords[Pe]=e[D++]}if(D!==e.length)throw new w;return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Bi{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new w(""+e);let t=0,r=this.bitOffset,n=this.byteOffset;const i=this.bytes;if(r>0){const s=8-r,l=e<s?e:s,d=s-l,g=255>>8-l<<d;t=(i[n]&g)>>d,e-=l,r+=l,r===8&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|i[n]&255,n++,e-=8;if(e>0){const s=8-e,l=255>>s<<s;t=t<<e|(i[n]&l)>>s,r+=e}}return this.bitOffset=r,this.byteOffset=n,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ft;(function(I){I[I.PAD_ENCODE=0]="PAD_ENCODE",I[I.ASCII_ENCODE=1]="ASCII_ENCODE",I[I.C40_ENCODE=2]="C40_ENCODE",I[I.TEXT_ENCODE=3]="TEXT_ENCODE",I[I.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",I[I.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",I[I.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ft||(Ft={}));class Vr{static decode(e){const t=new Bi(e),r=new H,n=new H,i=new Array;let s=Ft.ASCII_ENCODE;do if(s===Ft.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,n);else{switch(s){case Ft.C40_ENCODE:this.decodeC40Segment(t,r);break;case Ft.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Ft.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Ft.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Ft.BASE256_ENCODE:this.decodeBase256Segment(t,r,i);break;default:throw new W}s=Ft.ASCII_ENCODE}while(s!==Ft.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new re(e,r.toString(),i.length===0?null:i,null)}static decodeAsciiSegment(e,t,r){let n=!1;do{let i=e.readBits(8);if(i===0)throw new W;if(i<=128)return n&&(i+=128),t.append(String.fromCharCode(i-1)),Ft.ASCII_ENCODE;if(i===129)return Ft.PAD_ENCODE;if(i<=229){const s=i-130;s<10&&t.append("0"),t.append(""+s)}else switch(i){case 230:return Ft.C40_ENCODE;case 231:return Ft.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:n=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return Ft.ANSIX12_ENCODE;case 239:return Ft.TEXT_ENCODE;case 240:return Ft.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new W;break}}while(e.available()>0);return Ft.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const n=[];let i=0;do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),n);for(let l=0;l<3;l++){const d=n[l];switch(i){case 0:if(d<3)i=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else throw new W;break;case 1:r?(t.append(String.fromCharCode(d+128)),r=!1):t.append(String.fromCharCode(d)),i=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else switch(d){case 27:t.append("");break;case 30:r=!0;break;default:throw new W}i=0;break;case 3:r?(t.append(String.fromCharCode(d+224)),r=!1):t.append(String.fromCharCode(d+96)),i=0;break;default:throw new W}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,n=[],i=0;do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),n);for(let l=0;l<3;l++){const d=n[l];switch(i){case 0:if(d<3)i=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else throw new W;break;case 1:r?(t.append(String.fromCharCode(d+128)),r=!1):t.append(String.fromCharCode(d)),i=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else switch(d){case 27:t.append("");break;case 30:r=!0;break;default:throw new W}i=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g),i=0}else throw new W;break;default:throw new W}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(e.available()===8)return;const n=e.readBits(8);if(n===254)return;this.parseTwoBytes(n,e.readBits(8),r);for(let i=0;i<3;i++){const s=r[i];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new W;break}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let n=(e<<8)+t-1,i=Math.floor(n/1600);r[0]=i,n-=i*1600,i=Math.floor(n/40),r[1]=i,r[2]=n-i*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let n=e.readBits(6);if(n===31){const i=8-e.getBitOffset();i!==8&&e.readBits(i);return}n&32||(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let n=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),n++);let s;if(i===0?s=e.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(e.readBits(8),n++),s<0)throw new W;const l=new Uint8Array(s);for(let d=0;d<s;d++){if(e.available()<8)throw new W;l[d]=this.unrandomize255State(e.readBits(8),n++)}r.push(l);try{t.append(he.decode(l,de.ISO88591))}catch(d){throw new Ce("Platform does not support required encoding: "+d.message)}}static unrandomize255State(e,t){const r=149*t%255+1,n=e-r;return n>=0?n:n+256}}Vr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Vr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Vr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Vr.TEXT_SHIFT2_SET_CHARS=Vr.C40_SHIFT2_SET_CHARS,Vr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class qa{constructor(){this.rsDecoder=new Fe(P.DATA_MATRIX_FIELD_256)}decode(e){const t=new Di(e),r=t.getVersion(),n=t.readCodewords(),i=Ti.getDataBlocks(n,r);let s=0;for(let g of i)s+=g.getNumDataCodewords();const l=new Uint8Array(s),d=i.length;for(let g=0;g<d;g++){const y=i[g],D=y.getCodewords(),N=y.getNumDataCodewords();this.correctErrors(D,N);for(let U=0;U<N;U++)l[U*d+g]=D[U]}return Vr.decode(l)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new S}for(let n=0;n<t;n++)e[n]=r[n]}}class Rt{constructor(e){this.image=e,this.rectangleDetector=new Y(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new L;t=this.shiftToModuleCenter(t);const r=t[0],n=t[1],i=t[2],s=t[3];let l=this.transitionsBetween(r,s)+1,d=this.transitionsBetween(i,s)+1;(l&1)===1&&(l+=1),(d&1)===1&&(d+=1),4*l<7*d&&4*d<7*l&&(l=d=Math.max(l,d));let g=Rt.sampleGrid(this.image,r,n,i,s,l,d);return new xe(g,[r,n,i,s])}static shiftPoint(e,t,r){let n=(t.getX()-e.getX())/(r+1),i=(t.getY()-e.getY())/(r+1);return new K(e.getX()+n,e.getY()+i)}static moveAway(e,t,r){let n=e.getX(),i=e.getY();return n<t?n-=1:n+=1,i<r?i-=1:i+=1,new K(n,i)}detectSolid1(e){let t=e[0],r=e[1],n=e[3],i=e[2],s=this.transitionsBetween(t,r),l=this.transitionsBetween(r,n),d=this.transitionsBetween(n,i),g=this.transitionsBetween(i,t),y=s,D=[i,t,r,n];return y>l&&(y=l,D[0]=t,D[1]=r,D[2]=n,D[3]=i),y>d&&(y=d,D[0]=r,D[1]=n,D[2]=i,D[3]=t),y>g&&(D[0]=n,D[1]=i,D[2]=t,D[3]=r),D}detectSolid2(e){let t=e[0],r=e[1],n=e[2],i=e[3],s=this.transitionsBetween(t,i),l=Rt.shiftPoint(r,n,(s+1)*4),d=Rt.shiftPoint(n,r,(s+1)*4),g=this.transitionsBetween(l,t),y=this.transitionsBetween(d,i);return g<y?(e[0]=t,e[1]=r,e[2]=n,e[3]=i):(e[0]=r,e[1]=n,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],n=e[2],i=e[3],s=this.transitionsBetween(t,i),l=this.transitionsBetween(r,i),d=Rt.shiftPoint(t,r,(l+1)*4),g=Rt.shiftPoint(n,r,(s+1)*4);s=this.transitionsBetween(d,i),l=this.transitionsBetween(g,i);let y=new K(i.getX()+(n.getX()-r.getX())/(s+1),i.getY()+(n.getY()-r.getY())/(s+1)),D=new K(i.getX()+(t.getX()-r.getX())/(l+1),i.getY()+(t.getY()-r.getY())/(l+1));if(!this.isValid(y))return this.isValid(D)?D:null;if(!this.isValid(D))return y;let N=this.transitionsBetween(d,y)+this.transitionsBetween(g,y),U=this.transitionsBetween(d,D)+this.transitionsBetween(g,D);return N>U?y:D}shiftToModuleCenter(e){let t=e[0],r=e[1],n=e[2],i=e[3],s=this.transitionsBetween(t,i)+1,l=this.transitionsBetween(n,i)+1,d=Rt.shiftPoint(t,r,l*4),g=Rt.shiftPoint(n,r,s*4);s=this.transitionsBetween(d,i)+1,l=this.transitionsBetween(g,i)+1,(s&1)===1&&(s+=1),(l&1)===1&&(l+=1);let y=(t.getX()+r.getX()+n.getX()+i.getX())/4,D=(t.getY()+r.getY()+n.getY()+i.getY())/4;t=Rt.moveAway(t,y,D),r=Rt.moveAway(r,y,D),n=Rt.moveAway(n,y,D),i=Rt.moveAway(i,y,D);let N,U;return d=Rt.shiftPoint(t,r,l*4),d=Rt.shiftPoint(d,i,s*4),N=Rt.shiftPoint(r,t,l*4),N=Rt.shiftPoint(N,n,s*4),g=Rt.shiftPoint(n,i,l*4),g=Rt.shiftPoint(g,r,s*4),U=Rt.shiftPoint(i,n,l*4),U=Rt.shiftPoint(U,t,s*4),[d,N,g,U]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,n,i,s,l){return Re.getInstance().sampleGrid(e,s,l,.5,.5,s-.5,.5,s-.5,l-.5,.5,l-.5,t.getX(),t.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),i=Math.trunc(t.getX()),s=Math.trunc(t.getY()),l=Math.abs(s-n)>Math.abs(i-r);if(l){let se=r;r=n,n=se,se=i,i=s,s=se}let d=Math.abs(i-r),g=Math.abs(s-n),y=-d/2,D=n<s?1:-1,N=r<i?1:-1,U=0,te=this.image.get(l?n:r,l?r:n);for(let se=r,pe=n;se!==i;se+=N){let _e=this.image.get(l?pe:se,l?se:pe);if(_e!==te&&(U++,te=_e),y+=g,y>0){if(pe===s)break;pe+=D,y-=d}}return U}}class Gr{constructor(){this.decoder=new qa}decode(e,t=null){let r,n;if(t!=null&&t.has($.PURE_BARCODE)){const g=Gr.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(g),n=Gr.NO_POINTS}else{const g=new Rt(e.getBlackMatrix()).detect();r=this.decoder.decode(g.getBits()),n=g.getPoints()}const i=r.getRawBytes(),s=new E(r.getText(),i,8*i.length,n,M.DATA_MATRIX,b.currentTimeMillis()),l=r.getByteSegments();l!=null&&s.putMetadata(V.BYTE_SEGMENTS,l);const d=r.getECLevel();return d!=null&&s.putMetadata(V.ERROR_CORRECTION_LEVEL,d),s}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new L;const n=this.moduleSize(t,e);let i=t[1];const s=r[1];let l=t[0];const g=(r[0]-l+1)/n,y=(s-i+1)/n;if(g<=0||y<=0)throw new L;const D=n/2;i+=D,l+=D;const N=new ee(g,y);for(let U=0;U<y;U++){const te=i+U*n;for(let se=0;se<g;se++)e.get(l+se*n,te)&&N.set(se,U)}return N}static moduleSize(e,t){const r=t.getWidth();let n=e[0];const i=e[1];for(;n<r&&t.get(n,i);)n++;if(n===r)throw new L;const s=n-e[0];if(s===0)throw new L;return s}}Gr.NO_POINTS=[];class $a extends G{constructor(e=500){super(new Gr,e)}}var xn;(function(I){I[I.L=0]="L",I[I.M=1]="M",I[I.Q=2]="Q",I[I.H=3]="H"})(xn||(xn={}));class vt{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,vt.FOR_BITS.set(r,this),vt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return vt.L;case"M":return vt.M;case"Q":return vt.Q;case"H":return vt.H;default:throw new m(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof vt))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=vt.FOR_BITS.size)throw new w;return vt.FOR_BITS.get(e)}}vt.FOR_BITS=new Map,vt.FOR_VALUE=new Map,vt.L=new vt(xn.L,"L",1),vt.M=new vt(xn.M,"M",0),vt.Q=new vt(xn.Q,"Q",3),vt.H=new vt(xn.H,"H",2);class qt{constructor(e){this.errorCorrectionLevel=vt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return O.bitCount(e^t)}static decodeFormatInformation(e,t){const r=qt.doDecodeFormatInformation(e,t);return r!==null?r:qt.doDecodeFormatInformation(e^qt.FORMAT_INFO_MASK_QR,t^qt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,n=0;for(const i of qt.FORMAT_INFO_DECODE_LOOKUP){const s=i[0];if(s===e||s===t)return new qt(i[1]);let l=qt.numBitsDiffering(e,s);l<r&&(n=i[1],r=l),e!==t&&(l=qt.numBitsDiffering(t,s),l<r&&(n=i[1],r=l))}return r<=3?new qt(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof qt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}qt.FORMAT_INFO_MASK_QR=21522,qt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class we{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qe{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let n=0;const i=r[0].getECCodewordsPerBlock(),s=r[0].getECBlocks();for(const l of s)n+=l.getCount()*(l.getDataCodewords()+i);this.totalCodewords=n}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new W;try{return this.getVersionForNumber((e-17)/4)}catch{throw new W}}static getVersionForNumber(e){if(e<1||e>40)throw new w;return qe.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let n=0;n<qe.VERSION_DECODE_INFO.length;n++){const i=qe.VERSION_DECODE_INFO[n];if(i===e)return qe.getVersionForNumber(n+7);const s=qt.numBitsDiffering(e,i);s<t&&(r=n+7,t=s)}return t<=3?qe.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new ee(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let n=0;n<r;n++){const i=this.alignmentPatternCenters[n]-2;for(let s=0;s<r;s++)n===0&&(s===0||s===r-1)||n===r-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,i,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}qe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),qe.VERSIONS=[new qe(1,new Int32Array(0),new we(7,new k(1,19)),new we(10,new k(1,16)),new we(13,new k(1,13)),new we(17,new k(1,9))),new qe(2,Int32Array.from([6,18]),new we(10,new k(1,34)),new we(16,new k(1,28)),new we(22,new k(1,22)),new we(28,new k(1,16))),new qe(3,Int32Array.from([6,22]),new we(15,new k(1,55)),new we(26,new k(1,44)),new we(18,new k(2,17)),new we(22,new k(2,13))),new qe(4,Int32Array.from([6,26]),new we(20,new k(1,80)),new we(18,new k(2,32)),new we(26,new k(2,24)),new we(16,new k(4,9))),new qe(5,Int32Array.from([6,30]),new we(26,new k(1,108)),new we(24,new k(2,43)),new we(18,new k(2,15),new k(2,16)),new we(22,new k(2,11),new k(2,12))),new qe(6,Int32Array.from([6,34]),new we(18,new k(2,68)),new we(16,new k(4,27)),new we(24,new k(4,19)),new we(28,new k(4,15))),new qe(7,Int32Array.from([6,22,38]),new we(20,new k(2,78)),new we(18,new k(4,31)),new we(18,new k(2,14),new k(4,15)),new we(26,new k(4,13),new k(1,14))),new qe(8,Int32Array.from([6,24,42]),new we(24,new k(2,97)),new we(22,new k(2,38),new k(2,39)),new we(22,new k(4,18),new k(2,19)),new we(26,new k(4,14),new k(2,15))),new qe(9,Int32Array.from([6,26,46]),new we(30,new k(2,116)),new we(22,new k(3,36),new k(2,37)),new we(20,new k(4,16),new k(4,17)),new we(24,new k(4,12),new k(4,13))),new qe(10,Int32Array.from([6,28,50]),new we(18,new k(2,68),new k(2,69)),new we(26,new k(4,43),new k(1,44)),new we(24,new k(6,19),new k(2,20)),new we(28,new k(6,15),new k(2,16))),new qe(11,Int32Array.from([6,30,54]),new we(20,new k(4,81)),new we(30,new k(1,50),new k(4,51)),new we(28,new k(4,22),new k(4,23)),new we(24,new k(3,12),new k(8,13))),new qe(12,Int32Array.from([6,32,58]),new we(24,new k(2,92),new k(2,93)),new we(22,new k(6,36),new k(2,37)),new we(26,new k(4,20),new k(6,21)),new we(28,new k(7,14),new k(4,15))),new qe(13,Int32Array.from([6,34,62]),new we(26,new k(4,107)),new we(22,new k(8,37),new k(1,38)),new we(24,new k(8,20),new k(4,21)),new we(22,new k(12,11),new k(4,12))),new qe(14,Int32Array.from([6,26,46,66]),new we(30,new k(3,115),new k(1,116)),new we(24,new k(4,40),new k(5,41)),new we(20,new k(11,16),new k(5,17)),new we(24,new k(11,12),new k(5,13))),new qe(15,Int32Array.from([6,26,48,70]),new we(22,new k(5,87),new k(1,88)),new we(24,new k(5,41),new k(5,42)),new we(30,new k(5,24),new k(7,25)),new we(24,new k(11,12),new k(7,13))),new qe(16,Int32Array.from([6,26,50,74]),new we(24,new k(5,98),new k(1,99)),new we(28,new k(7,45),new k(3,46)),new we(24,new k(15,19),new k(2,20)),new we(30,new k(3,15),new k(13,16))),new qe(17,Int32Array.from([6,30,54,78]),new we(28,new k(1,107),new k(5,108)),new we(28,new k(10,46),new k(1,47)),new we(28,new k(1,22),new k(15,23)),new we(28,new k(2,14),new k(17,15))),new qe(18,Int32Array.from([6,30,56,82]),new we(30,new k(5,120),new k(1,121)),new we(26,new k(9,43),new k(4,44)),new we(28,new k(17,22),new k(1,23)),new we(28,new k(2,14),new k(19,15))),new qe(19,Int32Array.from([6,30,58,86]),new we(28,new k(3,113),new k(4,114)),new we(26,new k(3,44),new k(11,45)),new we(26,new k(17,21),new k(4,22)),new we(26,new k(9,13),new k(16,14))),new qe(20,Int32Array.from([6,34,62,90]),new we(28,new k(3,107),new k(5,108)),new we(26,new k(3,41),new k(13,42)),new we(30,new k(15,24),new k(5,25)),new we(28,new k(15,15),new k(10,16))),new qe(21,Int32Array.from([6,28,50,72,94]),new we(28,new k(4,116),new k(4,117)),new we(26,new k(17,42)),new we(28,new k(17,22),new k(6,23)),new we(30,new k(19,16),new k(6,17))),new qe(22,Int32Array.from([6,26,50,74,98]),new we(28,new k(2,111),new k(7,112)),new we(28,new k(17,46)),new we(30,new k(7,24),new k(16,25)),new we(24,new k(34,13))),new qe(23,Int32Array.from([6,30,54,78,102]),new we(30,new k(4,121),new k(5,122)),new we(28,new k(4,47),new k(14,48)),new we(30,new k(11,24),new k(14,25)),new we(30,new k(16,15),new k(14,16))),new qe(24,Int32Array.from([6,28,54,80,106]),new we(30,new k(6,117),new k(4,118)),new we(28,new k(6,45),new k(14,46)),new we(30,new k(11,24),new k(16,25)),new we(30,new k(30,16),new k(2,17))),new qe(25,Int32Array.from([6,32,58,84,110]),new we(26,new k(8,106),new k(4,107)),new we(28,new k(8,47),new k(13,48)),new we(30,new k(7,24),new k(22,25)),new we(30,new k(22,15),new k(13,16))),new qe(26,Int32Array.from([6,30,58,86,114]),new we(28,new k(10,114),new k(2,115)),new we(28,new k(19,46),new k(4,47)),new we(28,new k(28,22),new k(6,23)),new we(30,new k(33,16),new k(4,17))),new qe(27,Int32Array.from([6,34,62,90,118]),new we(30,new k(8,122),new k(4,123)),new we(28,new k(22,45),new k(3,46)),new we(30,new k(8,23),new k(26,24)),new we(30,new k(12,15),new k(28,16))),new qe(28,Int32Array.from([6,26,50,74,98,122]),new we(30,new k(3,117),new k(10,118)),new we(28,new k(3,45),new k(23,46)),new we(30,new k(4,24),new k(31,25)),new we(30,new k(11,15),new k(31,16))),new qe(29,Int32Array.from([6,30,54,78,102,126]),new we(30,new k(7,116),new k(7,117)),new we(28,new k(21,45),new k(7,46)),new we(30,new k(1,23),new k(37,24)),new we(30,new k(19,15),new k(26,16))),new qe(30,Int32Array.from([6,26,52,78,104,130]),new we(30,new k(5,115),new k(10,116)),new we(28,new k(19,47),new k(10,48)),new we(30,new k(15,24),new k(25,25)),new we(30,new k(23,15),new k(25,16))),new qe(31,Int32Array.from([6,30,56,82,108,134]),new we(30,new k(13,115),new k(3,116)),new we(28,new k(2,46),new k(29,47)),new we(30,new k(42,24),new k(1,25)),new we(30,new k(23,15),new k(28,16))),new qe(32,Int32Array.from([6,34,60,86,112,138]),new we(30,new k(17,115)),new we(28,new k(10,46),new k(23,47)),new we(30,new k(10,24),new k(35,25)),new we(30,new k(19,15),new k(35,16))),new qe(33,Int32Array.from([6,30,58,86,114,142]),new we(30,new k(17,115),new k(1,116)),new we(28,new k(14,46),new k(21,47)),new we(30,new k(29,24),new k(19,25)),new we(30,new k(11,15),new k(46,16))),new qe(34,Int32Array.from([6,34,62,90,118,146]),new we(30,new k(13,115),new k(6,116)),new we(28,new k(14,46),new k(23,47)),new we(30,new k(44,24),new k(7,25)),new we(30,new k(59,16),new k(1,17))),new qe(35,Int32Array.from([6,30,54,78,102,126,150]),new we(30,new k(12,121),new k(7,122)),new we(28,new k(12,47),new k(26,48)),new we(30,new k(39,24),new k(14,25)),new we(30,new k(22,15),new k(41,16))),new qe(36,Int32Array.from([6,24,50,76,102,128,154]),new we(30,new k(6,121),new k(14,122)),new we(28,new k(6,47),new k(34,48)),new we(30,new k(46,24),new k(10,25)),new we(30,new k(2,15),new k(64,16))),new qe(37,Int32Array.from([6,28,54,80,106,132,158]),new we(30,new k(17,122),new k(4,123)),new we(28,new k(29,46),new k(14,47)),new we(30,new k(49,24),new k(10,25)),new we(30,new k(24,15),new k(46,16))),new qe(38,Int32Array.from([6,32,58,84,110,136,162]),new we(30,new k(4,122),new k(18,123)),new we(28,new k(13,46),new k(32,47)),new we(30,new k(48,24),new k(14,25)),new we(30,new k(42,15),new k(32,16))),new qe(39,Int32Array.from([6,26,54,82,110,138,166]),new we(30,new k(20,117),new k(4,118)),new we(28,new k(40,47),new k(7,48)),new we(30,new k(43,24),new k(22,25)),new we(30,new k(10,15),new k(67,16))),new qe(40,Int32Array.from([6,30,58,86,114,142,170]),new we(30,new k(19,118),new k(6,119)),new we(28,new k(18,47),new k(31,48)),new we(30,new k(34,24),new k(34,25)),new we(30,new k(20,15),new k(61,16)))];var kt;(function(I){I[I.DATA_MASK_000=0]="DATA_MASK_000",I[I.DATA_MASK_001=1]="DATA_MASK_001",I[I.DATA_MASK_010=2]="DATA_MASK_010",I[I.DATA_MASK_011=3]="DATA_MASK_011",I[I.DATA_MASK_100=4]="DATA_MASK_100",I[I.DATA_MASK_101=5]="DATA_MASK_101",I[I.DATA_MASK_110=6]="DATA_MASK_110",I[I.DATA_MASK_111=7]="DATA_MASK_111"})(kt||(kt={}));class gr{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)}}gr.values=new Map([[kt.DATA_MASK_000,new gr(kt.DATA_MASK_000,(I,e)=>(I+e&1)===0)],[kt.DATA_MASK_001,new gr(kt.DATA_MASK_001,(I,e)=>(I&1)===0)],[kt.DATA_MASK_010,new gr(kt.DATA_MASK_010,(I,e)=>e%3===0)],[kt.DATA_MASK_011,new gr(kt.DATA_MASK_011,(I,e)=>(I+e)%3===0)],[kt.DATA_MASK_100,new gr(kt.DATA_MASK_100,(I,e)=>(Math.floor(I/2)+Math.floor(e/3)&1)===0)],[kt.DATA_MASK_101,new gr(kt.DATA_MASK_101,(I,e)=>I*e%6===0)],[kt.DATA_MASK_110,new gr(kt.DATA_MASK_110,(I,e)=>I*e%6<3)],[kt.DATA_MASK_111,new gr(kt.DATA_MASK_111,(I,e)=>(I+e+I*e%3&1)===0)]]);class Za{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new W;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const t=this.bitMatrix.getHeight();let r=0;const n=t-7;for(let i=t-1;i>=n;i--)r=this.copyBit(8,i,r);for(let i=t-8;i<t;i++)r=this.copyBit(i,8,r);if(this.parsedFormatInfo=qt.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new W}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return qe.getVersionForNumber(t);let r=0;const n=e-11;for(let s=5;s>=0;s--)for(let l=e-9;l>=n;l--)r=this.copyBit(l,s,r);let i=qe.decodeVersionInformation(r);if(i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;r=0;for(let s=5;s>=0;s--)for(let l=e-9;l>=n;l--)r=this.copyBit(s,l,r);if(i=qe.decodeVersionInformation(r),i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new W}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=gr.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);const i=t.buildFunctionPattern();let s=!0;const l=new Uint8Array(t.getTotalCodewords());let d=0,g=0,y=0;for(let D=n-1;D>0;D-=2){D===6&&D--;for(let N=0;N<n;N++){const U=s?n-1-N:N;for(let te=0;te<2;te++)i.get(D-te,U)||(y++,g<<=1,this.bitMatrix.get(D-te,U)&&(g|=1),y===8&&(l[d++]=g,y=0,g=0))}s=!s}if(d!==t.getTotalCodewords())throw new W;return l}remask(){if(this.parsedFormatInfo===null)return;const e=gr.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let n=t+1,i=e.getHeight();n<i;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))}}class Oi{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new w;const n=t.getECBlocksForLevel(r);let i=0;const s=n.getECBlocks();for(const te of s)i+=te.getCount();const l=new Array(i);let d=0;for(const te of s)for(let se=0;se<te.getCount();se++){const pe=te.getDataCodewords(),_e=n.getECCodewordsPerBlock()+pe;l[d++]=new Oi(pe,new Uint8Array(_e))}const g=l[0].codewords.length;let y=l.length-1;for(;y>=0&&l[y].codewords.length!==g;)y--;y++;const D=g-n.getECCodewordsPerBlock();let N=0;for(let te=0;te<D;te++)for(let se=0;se<d;se++)l[se].codewords[te]=e[N++];for(let te=y;te<d;te++)l[te].codewords[D]=e[N++];const U=l[0].codewords.length;for(let te=D;te<U;te++)for(let se=0;se<d;se++){const pe=se<y?te:te+1;l[se].codewords[pe]=e[N++]}return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var pr;(function(I){I[I.TERMINATOR=0]="TERMINATOR",I[I.NUMERIC=1]="NUMERIC",I[I.ALPHANUMERIC=2]="ALPHANUMERIC",I[I.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",I[I.BYTE=4]="BYTE",I[I.ECI=5]="ECI",I[I.KANJI=6]="KANJI",I[I.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",I[I.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",I[I.HANZI=9]="HANZI"})(pr||(pr={}));class $e{constructor(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,$e.FOR_BITS.set(n,this),$e.FOR_VALUE.set(e,this)}static forBits(e){const t=$e.FOR_BITS.get(e);if(t===void 0)throw new w;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof $e))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}$e.FOR_BITS=new Map,$e.FOR_VALUE=new Map,$e.TERMINATOR=new $e(pr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),$e.NUMERIC=new $e(pr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),$e.ALPHANUMERIC=new $e(pr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),$e.STRUCTURED_APPEND=new $e(pr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),$e.BYTE=new $e(pr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),$e.ECI=new $e(pr.ECI,"ECI",Int32Array.from([0,0,0]),7),$e.KANJI=new $e(pr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),$e.FNC1_FIRST_POSITION=new $e(pr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),$e.FNC1_SECOND_POSITION=new $e(pr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),$e.HANZI=new $e(pr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Tt{static decode(e,t,r,n){const i=new Bi(e);let s=new H;const l=new Array;let d=-1,g=-1;try{let y=null,D=!1,N;do{if(i.available()<4)N=$e.TERMINATOR;else{const U=i.readBits(4);N=$e.forBits(U)}switch(N){case $e.TERMINATOR:break;case $e.FNC1_FIRST_POSITION:case $e.FNC1_SECOND_POSITION:D=!0;break;case $e.STRUCTURED_APPEND:if(i.available()<16)throw new W;d=i.readBits(8),g=i.readBits(8);break;case $e.ECI:const U=Tt.parseECIValue(i);if(y=ae.getCharacterSetECIByValue(U),y===null)throw new W;break;case $e.HANZI:const te=i.readBits(4),se=i.readBits(N.getCharacterCountBits(t));te===Tt.GB2312_SUBSET&&Tt.decodeHanziSegment(i,s,se);break;default:const pe=i.readBits(N.getCharacterCountBits(t));switch(N){case $e.NUMERIC:Tt.decodeNumericSegment(i,s,pe);break;case $e.ALPHANUMERIC:Tt.decodeAlphanumericSegment(i,s,pe,D);break;case $e.BYTE:Tt.decodeByteSegment(i,s,pe,y,l,n);break;case $e.KANJI:Tt.decodeKanjiSegment(i,s,pe);break;default:throw new W}break}}while(N!==$e.TERMINATOR)}catch{throw new W}return new re(e,s.toString(),l.length===0?null:l,r===null?null:r.toString(),d,g)}static decodeHanziSegment(e,t,r){if(r*13>e.available())throw new W;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const s=e.readBits(13);let l=s/96<<8&4294967295|s%96;l<959?l+=41377:l+=42657,n[i]=l>>8&255,n[i+1]=l&255,i+=2,r--}try{t.append(he.decode(n,de.GB2312))}catch(s){throw new W(s)}}static decodeKanjiSegment(e,t,r){if(r*13>e.available())throw new W;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const s=e.readBits(13);let l=s/192<<8&4294967295|s%192;l<7936?l+=33088:l+=49472,n[i]=l>>8,n[i+1]=l,i+=2,r--}try{t.append(he.decode(n,de.SHIFT_JIS))}catch(s){throw new W(s)}}static decodeByteSegment(e,t,r,n,i,s){if(8*r>e.available())throw new W;const l=new Uint8Array(r);for(let g=0;g<r;g++)l[g]=e.readBits(8);let d;n===null?d=de.guessEncoding(l,s):d=n.getName();try{t.append(he.decode(l,d))}catch(g){throw new W(g)}i.push(l)}static toAlphaNumericChar(e){if(e>=Tt.ALPHANUMERIC_CHARS.length)throw new W;return Tt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,n){const i=t.length();for(;r>1;){if(e.available()<11)throw new W;const s=e.readBits(11);t.append(Tt.toAlphaNumericChar(Math.floor(s/45))),t.append(Tt.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new W;t.append(Tt.toAlphaNumericChar(e.readBits(6)))}if(n)for(let s=i;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,""))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new W;const n=e.readBits(10);if(n>=1e3)throw new W;t.append(Tt.toAlphaNumericChar(Math.floor(n/100))),t.append(Tt.toAlphaNumericChar(Math.floor(n/10)%10)),t.append(Tt.toAlphaNumericChar(n%10)),r-=3}if(r===2){if(e.available()<7)throw new W;const n=e.readBits(7);if(n>=100)throw new W;t.append(Tt.toAlphaNumericChar(Math.floor(n/10))),t.append(Tt.toAlphaNumericChar(n%10))}else if(r===1){if(e.available()<4)throw new W;const n=e.readBits(4);if(n>=10)throw new W;t.append(Tt.toAlphaNumericChar(n))}}static parseECIValue(e){const t=e.readBits(8);if(!(t&128))return t&127;if((t&192)===128){const r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){const r=e.readBits(16);return(t&31)<<16&4294967295|r}throw new W}}Tt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Tt.GB2312_SUBSET=1;class xo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Qa{constructor(){this.rsDecoder=new Fe(P.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(ee.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new Za(e);let n=null;try{return this.decodeBitMatrixParser(r,t)}catch(i){n=i}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const i=this.decodeBitMatrixParser(r,t);return i.setOther(new xo(!0)),i}catch(i){throw n!==null?n:i}}decodeBitMatrixParser(e,t){const r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),s=Oi.getDataBlocks(i,r,n);let l=0;for(const y of s)l+=y.getNumDataCodewords();const d=new Uint8Array(l);let g=0;for(const y of s){const D=y.getCodewords(),N=y.getNumDataCodewords();this.correctErrors(D,N);for(let U=0;U<N;U++)d[g++]=D[U]}return Tt.decode(d,r,n,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new S}for(let n=0;n<t;n++)e[n]=r[n]}}class Ni extends K{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=(this.getX()+t)/2,i=(this.getY()+e)/2,s=(this.estimatedModuleSize+r)/2;return new Ni(n,i,s)}}class Kn{constructor(e,t,r,n,i,s,l){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=i,this.moduleSize=s,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=this.width,n=e+r,i=this.startY+t/2,s=new Int32Array(3),l=this.image;for(let d=0;d<t;d++){const g=i+(d&1?-Math.floor((d+1)/2):Math.floor((d+1)/2));s[0]=0,s[1]=0,s[2]=0;let y=e;for(;y<n&&!l.get(y,g);)y++;let D=0;for(;y<n;){if(l.get(y,g))if(D===1)s[1]++;else if(D===2){if(this.foundPatternCross(s)){const N=this.handlePossibleCenter(s,g,y);if(N!==null)return N}s[0]=s[2],s[1]=1,s[2]=0,D=1}else s[++D]++;else D===1&&D++,s[D]++;y++}if(this.foundPatternCross(s)){const N=this.handlePossibleCenter(s,g,n);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new L}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0}crossCheckVertical(e,t,r,n){const i=this.image,s=i.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;let d=e;for(;d>=0&&i.get(t,d)&&l[1]<=r;)l[1]++,d--;if(d<0||l[1]>r)return NaN;for(;d>=0&&!i.get(t,d)&&l[0]<=r;)l[0]++,d--;if(l[0]>r)return NaN;for(d=e+1;d<s&&i.get(t,d)&&l[1]<=r;)l[1]++,d++;if(d===s||l[1]>r)return NaN;for(;d<s&&!i.get(t,d)&&l[2]<=r;)l[2]++,d++;if(l[2]>r)return NaN;const g=l[0]+l[1]+l[2];return 5*Math.abs(g-n)>=2*n?NaN:this.foundPatternCross(l)?Kn.centerFromEnd(l,d):NaN}handlePossibleCenter(e,t,r){const n=e[0]+e[1]+e[2],i=Kn.centerFromEnd(e,r),s=this.crossCheckVertical(t,i,2*e[1],n);if(!isNaN(s)){const l=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(l,s,i))return g.combineEstimate(s,i,l);const d=new Ni(i,s,l);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class Mi extends K{constructor(e,t,r,n){super(e,t),this.estimatedModuleSize=r,this.count=n,n===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=this.count+1,i=(this.count*this.getX()+t)/n,s=(this.count*this.getY()+e)/n,l=(this.count*this.estimatedModuleSize+r)/n;return new Mi(i,s,l,n)}}class Ka{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Pt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get($.TRY_HARDER)!==void 0,r=e!=null&&e.get($.PURE_BARCODE)!==void 0,n=this.image,i=n.getHeight(),s=n.getWidth();let l=Math.floor(3*i/(4*Pt.MAX_MODULES));(l<Pt.MIN_SKIP||t)&&(l=Pt.MIN_SKIP);let d=!1;const g=new Int32Array(5);for(let D=l-1;D<i&&!d;D+=l){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let N=0;for(let U=0;U<s;U++)if(n.get(U,D))(N&1)===1&&N++,g[N]++;else if(N&1)g[N]++;else if(N===4)if(Pt.foundPatternCross(g)){if(this.handlePossibleCenter(g,D,U,r)===!0)if(l=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const se=this.findRowSkip();se>g[2]&&(D+=se-g[2]-l,U=s-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,N=3;continue}N=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,N=3;else g[++N]++;Pt.foundPatternCross(g)&&this.handlePossibleCenter(g,D,s,r)===!0&&(l=g[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return K.orderBestPatterns(y),new Ka(y)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let i=0;i<5;i++){const s=e[i];if(s===0)return!1;t+=s}if(t<7)return!1;const r=t/7,n=r/2;return Math.abs(r-e[0])<n&&Math.abs(r-e[1])<n&&Math.abs(3*r-e[2])<3*n&&Math.abs(r-e[3])<n&&Math.abs(r-e[4])<n}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,n){const i=this.getCrossCheckStateCount();let s=0;const l=this.image;for(;e>=s&&t>=s&&l.get(t-s,e-s);)i[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!l.get(t-s,e-s)&&i[1]<=r;)i[1]++,s++;if(e<s||t<s||i[1]>r)return!1;for(;e>=s&&t>=s&&l.get(t-s,e-s)&&i[0]<=r;)i[0]++,s++;if(i[0]>r)return!1;const d=l.getHeight(),g=l.getWidth();for(s=1;e+s<d&&t+s<g&&l.get(t+s,e+s);)i[2]++,s++;if(e+s>=d||t+s>=g)return!1;for(;e+s<d&&t+s<g&&!l.get(t+s,e+s)&&i[3]<r;)i[3]++,s++;if(e+s>=d||t+s>=g||i[3]>=r)return!1;for(;e+s<d&&t+s<g&&l.get(t+s,e+s)&&i[4]<r;)i[4]++,s++;if(i[4]>=r)return!1;const y=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(y-n)<2*n&&Pt.foundPatternCross(i)}crossCheckVertical(e,t,r,n){const i=this.image,s=i.getHeight(),l=this.getCrossCheckStateCount();let d=e;for(;d>=0&&i.get(t,d);)l[2]++,d--;if(d<0)return NaN;for(;d>=0&&!i.get(t,d)&&l[1]<=r;)l[1]++,d--;if(d<0||l[1]>r)return NaN;for(;d>=0&&i.get(t,d)&&l[0]<=r;)l[0]++,d--;if(l[0]>r)return NaN;for(d=e+1;d<s&&i.get(t,d);)l[2]++,d++;if(d===s)return NaN;for(;d<s&&!i.get(t,d)&&l[3]<r;)l[3]++,d++;if(d===s||l[3]>=r)return NaN;for(;d<s&&i.get(t,d)&&l[4]<r;)l[4]++,d++;if(l[4]>=r)return NaN;const g=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(g-n)>=2*n?NaN:Pt.foundPatternCross(l)?Pt.centerFromEnd(l,d):NaN}crossCheckHorizontal(e,t,r,n){const i=this.image,s=i.getWidth(),l=this.getCrossCheckStateCount();let d=e;for(;d>=0&&i.get(d,t);)l[2]++,d--;if(d<0)return NaN;for(;d>=0&&!i.get(d,t)&&l[1]<=r;)l[1]++,d--;if(d<0||l[1]>r)return NaN;for(;d>=0&&i.get(d,t)&&l[0]<=r;)l[0]++,d--;if(l[0]>r)return NaN;for(d=e+1;d<s&&i.get(d,t);)l[2]++,d++;if(d===s)return NaN;for(;d<s&&!i.get(d,t)&&l[3]<r;)l[3]++,d++;if(d===s||l[3]>=r)return NaN;for(;d<s&&i.get(d,t)&&l[4]<r;)l[4]++,d++;if(l[4]>=r)return NaN;const g=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(g-n)>=n?NaN:Pt.foundPatternCross(l)?Pt.centerFromEnd(l,d):NaN}handlePossibleCenter(e,t,r,n){const i=e[0]+e[1]+e[2]+e[3]+e[4];let s=Pt.centerFromEnd(e,r),l=this.crossCheckVertical(t,Math.floor(s),e[2],i);if(!isNaN(l)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(l),e[2],i),!isNaN(s)&&(!n||this.crossCheckDiagonal(Math.floor(l),Math.floor(s),e[2],i)))){const d=i/7;let g=!1;const y=this.possibleCenters;for(let D=0,N=y.length;D<N;D++){const U=y[D];if(U.aboutEquals(d,l,s)){y[D]=U.combineEstimate(l,s,d),g=!0;break}}if(!g){const D=new Mi(s,l,d);y.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const r of this.possibleCenters)if(r.getCount()>=Pt.CENTER_QUORUM)if(t==null)t=r;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-r.getX())-Math.abs(t.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const s of this.possibleCenters)s.getCount()>=Pt.CENTER_QUORUM&&(e++,t+=s.getEstimatedModuleSize());if(e<3)return!1;const n=t/r;let i=0;for(const s of this.possibleCenters)i+=Math.abs(s.getEstimatedModuleSize()-n);return i<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new L;const t=this.possibleCenters;let r;if(e>3){let n=0,i=0;for(const d of this.possibleCenters){const g=d.getEstimatedModuleSize();n+=g,i+=g*g}r=n/e;let s=Math.sqrt(i/e-r*r);t.sort((d,g)=>{const y=Math.abs(g.getEstimatedModuleSize()-r),D=Math.abs(d.getEstimatedModuleSize()-r);return y<D?-1:y>D?1:0});const l=Math.max(.2*r,s);for(let d=0;d<t.length&&t.length>3;d++){const g=t[d];Math.abs(g.getEstimatedModuleSize()-r)>l&&(t.splice(d,1),d--)}}if(t.length>3){let n=0;for(const i of t)n+=i.getEstimatedModuleSize();r=n/t.length,t.sort((i,s)=>{if(s.getCount()===i.getCount()){const l=Math.abs(s.getEstimatedModuleSize()-r),d=Math.abs(i.getEstimatedModuleSize()-r);return l<d?1:l>d?-1:0}else return s.getCount()-i.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}Pt.CENTER_QUORUM=2,Pt.MIN_SKIP=3,Pt.MAX_MODULES=57;class Tn{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get($.NEED_RESULT_POINT_CALLBACK);const r=new Pt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),i=this.calculateModuleSize(t,r,n);if(i<1)throw new L("No pattern found in proccess finder.");const s=Tn.computeDimension(t,r,n,i),l=qe.getProvisionalVersionForDimension(s),d=l.getDimensionForVersion()-7;let g=null;if(l.getAlignmentPatternCenters().length>0){const U=r.getX()-t.getX()+n.getX(),te=r.getY()-t.getY()+n.getY(),se=1-3/d,pe=Math.floor(t.getX()+se*(U-t.getX())),_e=Math.floor(t.getY()+se*(te-t.getY()));for(let Pe=4;Pe<=16;Pe<<=1)try{g=this.findAlignmentInRegion(i,pe,_e,Pe);break}catch(Ue){if(!(Ue instanceof L))throw Ue}}const y=Tn.createTransform(t,r,n,g,s),D=Tn.sampleGrid(this.image,y,s);let N;return g===null?N=[n,t,r]:N=[n,t,r,g],new xe(D,N)}static createTransform(e,t,r,n,i){const s=i-3.5;let l,d,g,y;return n!==null?(l=n.getX(),d=n.getY(),g=s-3,y=g):(l=t.getX()-e.getX()+r.getX(),d=t.getY()-e.getY()+r.getY(),g=s,y=s),Ae.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,g,y,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),l,d,r.getX(),r.getY())}static sampleGrid(e,t,r){return Re.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,n){const i=ne.round(K.distance(e,t)/n),s=ne.round(K.distance(e,r)/n);let l=Math.floor((i+s)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new L("Dimensions could be not found.")}return l}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,n){let i=this.sizeOfBlackWhiteBlackRun(e,t,r,n),s=1,l=e-(r-e);l<0?(s=e/(e-l),l=0):l>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);let d=Math.floor(t-(n-t)*s);return s=1,d<0?(s=t/(t-d),d=0):d>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(d-t),d=this.image.getHeight()-1),l=Math.floor(e+(l-e)*s),i+=this.sizeOfBlackWhiteBlackRun(e,t,l,d),i-1}sizeOfBlackWhiteBlackRun(e,t,r,n){const i=Math.abs(n-t)>Math.abs(r-e);if(i){let U=e;e=t,t=U,U=r,r=n,n=U}const s=Math.abs(r-e),l=Math.abs(n-t);let d=-s/2;const g=e<r?1:-1,y=t<n?1:-1;let D=0;const N=r+g;for(let U=e,te=t;U!==N;U+=g){const se=i?te:U,pe=i?U:te;if(D===1===this.image.get(se,pe)){if(D===2)return ne.distance(U,te,e,t);D++}if(d+=l,d>0){if(te===n)break;te+=y,d-=s}}return D===2?ne.distance(r+g,n,e,t):NaN}findAlignmentInRegion(e,t,r,n){const i=Math.floor(n*e),s=Math.max(0,t-i),l=Math.min(this.image.getWidth()-1,t+i);if(l-s<e*3)throw new L("Alignment top exceeds estimated module size.");const d=Math.max(0,r-i),g=Math.min(this.image.getHeight()-1,r+i);if(g-d<e*3)throw new L("Alignment bottom exceeds estimated module size.");return new Kn(this.image,s,d,l-s,g-d,e,this.resultPointCallback).find()}}class Xr{constructor(){this.decoder=new Qa}getDecoder(){return this.decoder}decode(e,t){let r,n;if(t!=null&&t.get($.PURE_BARCODE)!==void 0){const d=Xr.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(d,t),n=Xr.NO_POINTS}else{const d=new Tn(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(d.getBits(),t),n=d.getPoints()}r.getOther()instanceof xo&&r.getOther().applyMirroredCorrection(n);const i=new E(r.getText(),r.getRawBytes(),void 0,n,M.QR_CODE,void 0),s=r.getByteSegments();s!==null&&i.putMetadata(V.BYTE_SEGMENTS,s);const l=r.getECLevel();return l!==null&&i.putMetadata(V.ERROR_CORRECTION_LEVEL,l),r.hasStructuredAppend()&&(i.putMetadata(V.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),i.putMetadata(V.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new L;const n=this.moduleSize(t,e);let i=t[1],s=r[1],l=t[0],d=r[0];if(l>=d||i>=s)throw new L;if(s-i!==d-l&&(d=l+(s-i),d>=e.getWidth()))throw new L;const g=Math.round((d-l+1)/n),y=Math.round((s-i+1)/n);if(g<=0||y<=0)throw new L;if(y!==g)throw new L;const D=Math.floor(n/2);i+=D,l+=D;const N=l+Math.floor((g-1)*n)-d;if(N>0){if(N>D)throw new L;l-=N}const U=i+Math.floor((y-1)*n)-s;if(U>0){if(U>D)throw new L;i-=U}const te=new ee(g,y);for(let se=0;se<y;se++){const pe=i+Math.floor(se*n);for(let _e=0;_e<g;_e++)e.get(l+Math.floor(_e*n),pe)&&te.set(_e,se)}return te}static moduleSize(e,t){const r=t.getHeight(),n=t.getWidth();let i=e[0],s=e[1],l=!0,d=0;for(;i<n&&s<r;){if(l!==t.get(i,s)){if(++d===5)break;l=!l}i++,s++}if(i===n||s===r)throw new L;return(i-e[0])/7}}Xr.NO_POINTS=new Array;class Qe{PDF417Common(){}static getBitCountSum(e){return ne.sum(e)}static toIntArray(e){if(e==null||!e.length)return Qe.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const n of e)t[r++]=n;return t}static getCodeword(e){const t=B.binarySearch(Qe.SYMBOL_TABLE,e&262143);return t<0?-1:(Qe.CODEWORD_TABLE[t]-1)%Qe.NUMBER_OF_CODEWORDS}}Qe.NUMBER_OF_CODEWORDS=929,Qe.MAX_CODEWORDS_IN_BARCODE=Qe.NUMBER_OF_CODEWORDS-1,Qe.MIN_ROWS_IN_BARCODE=3,Qe.MAX_ROWS_IN_BARCODE=90,Qe.MODULES_IN_CODEWORD=17,Qe.MODULES_IN_STOP_PATTERN=18,Qe.BARS_IN_MODULE=8,Qe.EMPTY_INT_ARRAY=new Int32Array([]),Qe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Qe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ja{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class st{static detectMultiple(e,t,r){let n=e.getBlackMatrix(),i=st.detect(r,n);return i.length||(n=n.clone(),n.rotate180(),i=st.detect(r,n)),new Ja(n,i)}static detect(e,t){const r=new Array;let n=0,i=0,s=!1;for(;n<t.getHeight();){const l=st.findVertices(t,n,i);if(l[0]==null&&l[3]==null){if(!s)break;s=!1,i=0;for(const d of r)d[1]!=null&&(n=Math.trunc(Math.max(n,d[1].getY()))),d[3]!=null&&(n=Math.max(n,Math.trunc(d[3].getY())));n+=st.ROW_STEP;continue}if(s=!0,r.push(l),!e)break;l[2]!=null?(i=Math.trunc(l[2].getX()),n=Math.trunc(l[2].getY())):(i=Math.trunc(l[4].getX()),n=Math.trunc(l[4].getY()))}return r}static findVertices(e,t,r){const n=e.getHeight(),i=e.getWidth(),s=new Array(8);return st.copyToResult(s,st.findRowsWithPattern(e,n,i,t,r,st.START_PATTERN),st.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),st.copyToResult(s,st.findRowsWithPattern(e,n,i,t,r,st.STOP_PATTERN),st.INDEXES_STOP_PATTERN),s}static copyToResult(e,t,r){for(let n=0;n<r.length;n++)e[r[n]]=t[n]}static findRowsWithPattern(e,t,r,n,i,s){const l=new Array(4);let d=!1;const g=new Int32Array(s.length);for(;n<t;n+=st.ROW_STEP){let D=st.findGuardPattern(e,i,n,r,!1,s,g);if(D!=null){for(;n>0;){const N=st.findGuardPattern(e,i,--n,r,!1,s,g);if(N!=null)D=N;else{n++;break}}l[0]=new K(D[0],n),l[1]=new K(D[1],n),d=!0;break}}let y=n+1;if(d){let D=0,N=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);for(;y<t;y++){const U=st.findGuardPattern(e,N[0],y,r,!1,s,g);if(U!=null&&Math.abs(N[0]-U[0])<st.MAX_PATTERN_DRIFT&&Math.abs(N[1]-U[1])<st.MAX_PATTERN_DRIFT)N=U,D=0;else{if(D>st.SKIPPED_ROW_COUNT_MAX)break;D++}}y-=D+1,l[2]=new K(N[0],y),l[3]=new K(N[1],y)}return y-n<st.BARCODE_MIN_HEIGHT&&B.fill(l,null),l}static findGuardPattern(e,t,r,n,i,s,l){B.fillWithin(l,0,l.length,0);let d=t,g=0;for(;e.get(d,r)&&d>0&&g++<st.MAX_PIXEL_DRIFT;)d--;let y=d,D=0,N=s.length;for(let U=i;y<n;y++)if(e.get(y,r)!==U)l[D]++;else{if(D===N-1){if(st.patternMatchVariance(l,s,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return new Int32Array([d,y]);d+=l[0]+l[1],b.arraycopy(l,2,l,0,D-1),l[D-1]=0,l[D]=0,D--}else D++;l[D]=1,U=!U}return D===N-1&&st.patternMatchVariance(l,s,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE?new Int32Array([d,y-1]):null}static patternMatchVariance(e,t,r){let n=e.length,i=0,s=0;for(let g=0;g<n;g++)i+=e[g],s+=t[g];if(i<s)return 1/0;let l=i/s;r*=l;let d=0;for(let g=0;g<n;g++){let y=e[g],D=t[g]*l,N=y>D?y-D:D-y;if(N>r)return 1/0;d+=N}return d/i}}st.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),st.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),st.MAX_AVG_VARIANCE=.42,st.MAX_INDIVIDUAL_VARIANCE=.8,st.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),st.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),st.MAX_PIXEL_DRIFT=3,st.MAX_PATTERN_DRIFT=5,st.SKIPPED_ROW_COUNT_MAX=25,st.ROW_STEP=5,st.BARCODE_MIN_HEIGHT=10;class Wt{constructor(e,t){if(t.length===0)throw new w;this.field=e;let r=t.length;if(r>1&&t[0]===0){let n=1;for(;n<r&&t[n]===0;)n++;n===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-n),b.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let n=0;for(let i of this.coefficients)n=this.field.add(n,i);return n}let t=this.coefficients[0],r=this.coefficients.length;for(let n=1;n<r;n++)t=this.field.add(this.field.multiply(e,t),this.coefficients[n]);return t}add(e){if(!this.field.equals(e.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let s=t;t=r,r=s}let n=new Int32Array(r.length),i=r.length-t.length;b.arraycopy(r,0,n,0,i);for(let s=i;s<r.length;s++)n[s]=this.field.add(t[s-i],r[s]);return new Wt(this.field,n)}subtract(e){if(!this.field.equals(e.field))throw new w("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Wt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Wt(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,s=new Int32Array(r+i-1);for(let l=0;l<r;l++){let d=t[l];for(let g=0;g<i;g++)s[l+g]=this.field.add(s[l+g],this.field.multiply(d,n[g]))}return new Wt(this.field,s)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new Wt(this.field,t)}multiplyScalar(e){if(e===0)return new Wt(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new Wt(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new w;if(t===0)return new Wt(this.field,new Int32Array([0]));let r=this.coefficients.length,n=new Int32Array(r+e);for(let i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new Wt(this.field,n)}toString(){let e=new H;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class e1{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new w;return this.logTable[e]}inverse(e){if(e===0)throw new q;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Ri extends e1{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let n=0;n<e;n++)this.expTable[n]=r,r=r*t%e;for(let n=0;n<e-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new Wt(this,new Int32Array([0])),this.one=new Wt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new w;if(t===0)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new Wt(this,r)}}Ri.PDF417_GF=new Ri(Qe.NUMBER_OF_CODEWORDS,3);class go{constructor(){this.field=Ri.PDF417_GF}decode(e,t,r){let n=new Wt(this.field,e),i=new Int32Array(t),s=!1;for(let te=t;te>0;te--){let se=n.evaluateAt(this.field.exp(te));i[t-te]=se,se!==0&&(s=!0)}if(!s)return 0;let l=this.field.getOne();if(r!=null)for(const te of r){let se=this.field.exp(e.length-1-te),pe=new Wt(this.field,new Int32Array([this.field.subtract(0,se),1]));l=l.multiply(pe)}let d=new Wt(this.field,i),g=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),d,t),y=g[0],D=g[1],N=this.findErrorLocations(y),U=this.findErrorMagnitudes(D,y,N);for(let te=0;te<N.length;te++){let se=e.length-1-this.field.log(N[te]);if(se<0)throw S.getChecksumInstance();e[se]=this.field.subtract(e[se],U[te])}return N.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let N=e;e=t,t=N}let n=e,i=t,s=this.field.getZero(),l=this.field.getOne();for(;i.getDegree()>=Math.round(r/2);){let N=n,U=s;if(n=i,s=l,n.isZero())throw S.getChecksumInstance();i=N;let te=this.field.getZero(),se=n.getCoefficient(n.getDegree()),pe=this.field.inverse(se);for(;i.getDegree()>=n.getDegree()&&!i.isZero();){let _e=i.getDegree()-n.getDegree(),Pe=this.field.multiply(i.getCoefficient(i.getDegree()),pe);te=te.add(this.field.buildMonomial(_e,Pe)),i=i.subtract(n.multiplyByMonomial(_e,Pe))}l=te.multiply(s).subtract(U).negative()}let d=l.getCoefficient(0);if(d===0)throw S.getChecksumInstance();let g=this.field.inverse(d),y=l.multiply(g),D=i.multiply(g);return[y,D]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),n=0;for(let i=1;i<this.field.getSize()&&n<t;i++)e.evaluateAt(i)===0&&(r[n]=this.field.inverse(i),n++);if(n!==t)throw S.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let n=t.getDegree(),i=new Int32Array(n);for(let g=1;g<=n;g++)i[n-g]=this.field.multiply(g,t.getCoefficient(g));let s=new Wt(this.field,i),l=r.length,d=new Int32Array(l);for(let g=0;g<l;g++){let y=this.field.inverse(r[g]),D=this.field.subtract(0,e.evaluateAt(y)),N=this.field.inverse(s.evaluateAt(y));d[g]=this.field.multiply(D,N)}return d}}class rn{constructor(e,t,r,n,i){e instanceof rn?this.constructor_2(e):this.constructor_1(e,t,r,n,i)}constructor_1(e,t,r,n,i){const s=t==null||r==null,l=n==null||i==null;if(s&&l)throw new L;s?(t=new K(0,n.getY()),r=new K(0,i.getY())):l&&(n=new K(e.getWidth()-1,t.getY()),i=new K(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new rn(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let n=this.topLeft,i=this.bottomLeft,s=this.topRight,l=this.bottomRight;if(e>0){let d=r?this.topLeft:this.topRight,g=Math.trunc(d.getY()-e);g<0&&(g=0);let y=new K(d.getX(),g);r?n=y:s=y}if(t>0){let d=r?this.bottomLeft:this.bottomRight,g=Math.trunc(d.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let y=new K(d.getX(),g);r?i=y:l=y}return new rn(this.image,n,i,s,l)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class t1{constructor(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Bn{constructor(){this.buffer=""}static form(e,t){let r=-1;function n(s,l,d,g,y,D){if(s==="%%")return"%";if(t[++r]===void 0)return;s=g?parseInt(g.substr(1)):void 0;let N=y?parseInt(y.substr(1)):void 0,U;switch(D){case"s":U=t[r];break;case"c":U=t[r][0];break;case"f":U=parseFloat(t[r]).toFixed(s);break;case"p":U=parseFloat(t[r]).toPrecision(s);break;case"e":U=parseFloat(t[r]).toExponential(s);break;case"x":U=parseInt(t[r]).toString(N||16);break;case"d":U=parseFloat(parseInt(t[r],N||10).toPrecision(s)).toFixed(0);break}U=typeof U=="object"?JSON.stringify(U):(+U).toString(N);let te=parseInt(d),se=d&&d[0]+""=="0"?"0":" ";for(;U.length<te;)U=l!==void 0?U+se:se+U;return U}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}format(e,...t){this.buffer+=Bn.form(e,t)}toString(){return this.buffer}}class On{constructor(e){this.boundingBox=new rn(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let r=1;r<On.MAX_NEARBY_DISTANCE;r++){let n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&(t=this.codewords[n],t!=null)||(n=this.imageRowToCodewordIndex(e)+r,n<this.codewords.length&&(t=this.codewords[n],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Bn;let t=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue())}return e.toString()}}On.MAX_NEARBY_DISTANCE=5;class Nn{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,n]of this.values.entries()){const i={getKey:()=>r,getValue:()=>n};i.getValue()>e?(e=i.getValue(),t=[],t.push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return Qe.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class po extends On{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(n.getY())),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=-1,g=1,y=0;for(let D=s;D<l;D++){if(t[D]==null)continue;let N=t[D],U=N.getRowNumber()-d;if(U===0)y++;else if(U===1)g=Math.max(g,y),y=1,d=N.getRowNumber();else if(U<0||N.getRowNumber()>=e.getRowCount()||U>D)t[D]=null;else{let te;g>2?te=(g-2)*U:te=U;let se=te>=D;for(let pe=1;pe<=te&&!se;pe++)se=t[D-pe]!=null;se?t[D]=null:(d=N.getRowNumber(),y=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let n=r.getRowNumber();if(n>=t.length)continue;t[n]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),s=this.imageRowToCodewordIndex(Math.trunc(n.getY())),l=this.getCodewords(),d=-1;for(let g=i;g<s;g++){if(l[g]==null)continue;let y=l[g];y.setRowNumberAsRowIndicatorColumn();let D=y.getRowNumber()-d;D===0||(D===1?d=y.getRowNumber():y.getRowNumber()>=e.getRowCount()?l[g]=null:d=y.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Nn,r=new Nn,n=new Nn,i=new Nn;for(let l of e){if(l==null)continue;l.setRowNumberAsRowIndicatorColumn();let d=l.getValue()%30,g=l.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:r.setValue(d*3+1);break;case 1:i.setValue(d/3),n.setValue(d%3);break;case 2:t.setValue(d+1);break}}if(t.getValue().length===0||r.getValue().length===0||n.getValue().length===0||i.getValue().length===0||t.getValue()[0]<1||r.getValue()[0]+n.getValue()[0]<Qe.MIN_ROWS_IN_BARCODE||r.getValue()[0]+n.getValue()[0]>Qe.MAX_ROWS_IN_BARCODE)return null;let s=new t1(t.getValue()[0],r.getValue()[0],n.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,s),s}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(e[r]==null)continue;let i=n.getValue()%30,s=n.getRowNumber();if(s>t.getRowCount()){e[r]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:i*3+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(i/3)!==t.getErrorCorrectionLevel()||i%3!==t.getRowCountLowerPart())&&(e[r]=null);break;case 2:i+1!==t.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Mn{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Qe.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let r=this.detectionResultColumns[t].getCodewords();for(let n=0;n<r.length;n++)r[n]!=null&&(r[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(let n=1;n<=this.barcodeColumnCount;n++){let i=this.detectionResultColumns[n].getCodewords()[r];i!=null&&(i.setRowNumber(e[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[n].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let n=t[r].getRowNumber(),i=0;for(let s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){let l=this.detectionResultColumns[s].getCodewords()[r];l!=null&&(i=Mn.adjustRowNumberIfValid(n,i,l),l.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let n=t[r].getRowNumber(),i=0;for(let s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){let l=this.detectionResultColumns[s].getCodewords()[r];l!=null&&(i=Mn.adjustRowNumberIfValid(n,i,l),l.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let n=r[t],i=this.detectionResultColumns[e-1].getCodewords(),s=i;this.detectionResultColumns[e+1]!=null&&(s=this.detectionResultColumns[e+1].getCodewords());let l=new Array(14);l[2]=i[t],l[3]=s[t],t>0&&(l[0]=r[t-1],l[4]=i[t-1],l[5]=s[t-1]),t>1&&(l[8]=r[t-2],l[10]=i[t-2],l[11]=s[t-2]),t<r.length-1&&(l[1]=r[t+1],l[6]=i[t+1],l[7]=s[t+1]),t<r.length-2&&(l[9]=r[t+2],l[12]=i[t+2],l[13]=s[t+2]);for(let d of l)if(Mn.adjustRowNumber(n,d))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Bn;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let n=0;n<this.barcodeColumnCount+2;n++){if(this.detectionResultColumns[n]==null){t.format("    |   ");continue}let i=this.detectionResultColumns[n].getCodewords()[r];if(i==null){t.format("    |   ");continue}t.format(" %3d|%3d",i.getRowNumber(),i.getValue())}t.format("%n")}return t.toString()}}class Rn{constructor(e,t,r,n){this.rowNumber=Rn.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Rn.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Rn.BARCODE_ROW_UNKNOWN=-1;class Jt{static initialize(){for(let e=0;e<Qe.SYMBOL_TABLE.length;e++){let t=Qe.SYMBOL_TABLE[e],r=t&1;for(let n=0;n<Qe.BARS_IN_MODULE;n++){let i=0;for(;(t&1)===r;)i+=1,t>>=1;r=t&1,Jt.RATIOS_TABLE[e]||(Jt.RATIOS_TABLE[e]=new Array(Qe.BARS_IN_MODULE)),Jt.RATIOS_TABLE[e][Qe.BARS_IN_MODULE-n-1]=Math.fround(i/Qe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=Jt.getDecodedCodewordValue(Jt.sampleBitCounts(e));return t!==-1?t:Jt.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=ne.sum(e),r=new Int32Array(Qe.BARS_IN_MODULE),n=0,i=0;for(let s=0;s<Qe.MODULES_IN_CODEWORD;s++){let l=t/(2*Qe.MODULES_IN_CODEWORD)+s*t/Qe.MODULES_IN_CODEWORD;i+e[n]<=l&&(i+=e[n],n++),r[n]++}return r}static getDecodedCodewordValue(e){let t=Jt.getBitValue(e);return Qe.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let n=0;n<e[r];n++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=ne.sum(e),r=new Array(Qe.BARS_IN_MODULE);if(t>1)for(let s=0;s<r.length;s++)r[s]=Math.fround(e[s]/t);let n=Q.MAX_VALUE,i=-1;this.bSymbolTableReady||Jt.initialize();for(let s=0;s<Jt.RATIOS_TABLE.length;s++){let l=0,d=Jt.RATIOS_TABLE[s];for(let g=0;g<Qe.BARS_IN_MODULE;g++){let y=Math.fround(d[g]-r[g]);if(l+=Math.fround(y*y),l>=n)break}l<n&&(n=l,i=Qe.SYMBOL_TABLE[s])}return i}}Jt.bSymbolTableReady=!1,Jt.RATIOS_TABLE=new Array(Qe.SYMBOL_TABLE.length).map(I=>new Array(Qe.BARS_IN_MODULE));class mo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class Co{static parseLong(e,t=void 0){return parseInt(e,t)}}class wo extends x{}wo.kind="NullPointerException";class r1{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(e==null)throw new wo;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new T;if(r===0)return;for(let n=0;n<r;n++)this.write(e[t+n])}flush(){}close(){}}class n1 extends x{}class i1 extends r1{constructor(e=32){if(super(),this.count=0,e<0)throw new w("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new n1;r=O.MAX_VALUE}this.buf=B.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new T;this.ensureCapacity(this.count+r),b.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return B.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ct;(function(I){I[I.ALPHA=0]="ALPHA",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.PUNCT=3]="PUNCT",I[I.ALPHA_SHIFT=4]="ALPHA_SHIFT",I[I.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function Ao(){if(typeof window<"u")return window.BigInt||null;if(typeof et<"u")return et.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Jn;function Yr(I){if(typeof Jn>"u"&&(Jn=Ao()),Jn===null)throw new Error("BigInt is not supported!");return Jn(I)}function o1(){let I=[];I[0]=Yr(1);let e=Yr(900);I[1]=e;for(let t=2;t<16;t++)I[t]=I[t-1]*e;return I}class be{static decode(e,t){let r=new H(""),n=ae.ISO8859_1;r.enableDecoding(n);let i=1,s=e[i++],l=new mo;for(;i<e[0];){switch(s){case be.TEXT_COMPACTION_MODE_LATCH:i=be.textCompaction(e,i,r);break;case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:i=be.byteCompaction(s,e,n,i,r);break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case be.NUMERIC_COMPACTION_MODE_LATCH:i=be.numericCompaction(e,i,r);break;case be.ECI_CHARSET:ae.getCharacterSetECIByValue(e[i++]);break;case be.ECI_GENERAL_PURPOSE:i+=2;break;case be.ECI_USER_DEFINED:i++;break;case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=be.decodeMacroBlock(e,i,l);break;case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:throw new W;default:i--,i=be.textCompaction(e,i,r);break}if(i<e.length)s=e[i++];else throw W.getFormatInstance()}if(r.length()===0)throw W.getFormatInstance();let d=new re(null,r.toString(),null,t);return d.setOther(l),d}static decodeMacroBlock(e,t,r){if(t+be.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw W.getFormatInstance();let n=new Int32Array(be.NUMBER_OF_SEQUENCE_CODEWORDS);for(let l=0;l<be.NUMBER_OF_SEQUENCE_CODEWORDS;l++,t++)n[l]=e[t];r.setSegmentIndex(O.parseInt(be.decodeBase900toBase10(n,be.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new H;t=be.textCompaction(e,t,i),r.setFileId(i.toString());let s=-1;for(e[t]===be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let l=new H;t=be.textCompaction(e,t+1,l),r.setFileName(l.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new H;t=be.textCompaction(e,t+1,d),r.setSender(d.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new H;t=be.textCompaction(e,t+1,g),r.setAddressee(g.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new H;t=be.numericCompaction(e,t+1,y),r.setSegmentCount(O.parseInt(y.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let D=new H;t=be.numericCompaction(e,t+1,D),r.setTimestamp(Co.parseLong(D.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new H;t=be.numericCompaction(e,t+1,N),r.setChecksum(O.parseInt(N.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let U=new H;t=be.numericCompaction(e,t+1,U),r.setFileSize(Co.parseLong(U.toString()));break;default:throw W.getFormatInstance()}break;case be.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw W.getFormatInstance()}if(s!==-1){let l=t-s;r.isLastSegment()&&l--,r.setOptionalData(B.copyOfRange(e,s,s+l))}return t}static textCompaction(e,t,r){let n=new Int32Array((e[0]-t)*2),i=new Int32Array((e[0]-t)*2),s=0,l=!1;for(;t<e[0]&&!l;){let d=e[t++];if(d<be.TEXT_COMPACTION_MODE_LATCH)n[s]=d/30,n[s+1]=d%30,s+=2;else switch(d){case be.TEXT_COMPACTION_MODE_LATCH:n[s++]=be.TEXT_COMPACTION_MODE_LATCH;break;case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:t--,l=!0;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[s]=be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[t++],i[s]=d,s++;break}}return be.decodeTextCompaction(n,i,s,r),t}static decodeTextCompaction(e,t,r,n){let i=Ct.ALPHA,s=Ct.ALPHA,l=0;for(;l<r;){let d=e[l],g="";switch(i){case Ct.ALPHA:if(d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case be.LL:i=Ct.LOWER;break;case be.ML:i=Ct.MIXED;break;case be.PS:s=i,i=Ct.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break;case Ct.LOWER:if(d<26)g=String.fromCharCode(97+d);else switch(d){case 26:g=" ";break;case be.AS:s=i,i=Ct.ALPHA_SHIFT;break;case be.ML:i=Ct.MIXED;break;case be.PS:s=i,i=Ct.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break;case Ct.MIXED:if(d<be.PL)g=be.MIXED_CHARS[d];else switch(d){case be.PL:i=Ct.PUNCT;break;case 26:g=" ";break;case be.LL:i=Ct.LOWER;break;case be.AL:i=Ct.ALPHA;break;case be.PS:s=i,i=Ct.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break;case Ct.PUNCT:if(d<be.PAL)g=be.PUNCT_CHARS[d];else switch(d){case be.PAL:i=Ct.ALPHA;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(i=s,d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(i=s,d<be.PAL)g=be.PUNCT_CHARS[d];else switch(d){case be.PAL:i=Ct.ALPHA;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break}g!==""&&n.append(g),l++}}static byteCompaction(e,t,r,n,i){let s=new i1,l=0,d=0,g=!1;switch(e){case be.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),D=t[n++];for(;n<t[0]&&!g;)switch(y[l++]=D,d=900*d+D,D=t[n++],D){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:n--,g=!0;break;default:if(l%5===0&&l>0){for(let N=0;N<6;++N)s.write(Number(Yr(d)>>Yr(8*(5-N))));d=0,l=0}break}n===t[0]&&D<be.TEXT_COMPACTION_MODE_LATCH&&(y[l++]=D);for(let N=0;N<l;N++)s.write(y[N]);break;case be.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!g;){let N=t[n++];if(N<be.TEXT_COMPACTION_MODE_LATCH)l++,d=900*d+N;else switch(N){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:n--,g=!0;break}if(l%5===0&&l>0){for(let U=0;U<6;++U)s.write(Number(Yr(d)>>Yr(8*(5-U))));d=0,l=0}}break}return i.append(he.decode(s.toByteArray(),r)),n}static numericCompaction(e,t,r){let n=0,i=!1,s=new Int32Array(be.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let l=e[t++];if(t===e[0]&&(i=!0),l<be.TEXT_COMPACTION_MODE_LATCH)s[n]=l,n++;else switch(l){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:t--,i=!0;break}(n%be.MAX_NUMERIC_CODEWORDS===0||l===be.NUMERIC_COMPACTION_MODE_LATCH||i)&&n>0&&(r.append(be.decodeBase900toBase10(s,n)),n=0)}return t}static decodeBase900toBase10(e,t){let r=Yr(0);for(let i=0;i<t;i++)r+=be.EXP900[t-i-1]*Yr(e[i]);let n=r.toString();if(n.charAt(0)!=="1")throw new W;return n.substring(1)}}be.TEXT_COMPACTION_MODE_LATCH=900,be.BYTE_COMPACTION_MODE_LATCH=901,be.NUMERIC_COMPACTION_MODE_LATCH=902,be.BYTE_COMPACTION_MODE_LATCH_6=924,be.ECI_USER_DEFINED=925,be.ECI_GENERAL_PURPOSE=926,be.ECI_CHARSET=927,be.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,be.MACRO_PDF417_TERMINATOR=922,be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,be.MAX_NUMERIC_CODEWORDS=15,be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,be.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,be.PL=25,be.LL=27,be.AS=27,be.ML=28,be.AL=28,be.PS=29,be.PAL=29,be.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,be.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",be.EXP900=Ao()?o1():[],be.NUMBER_OF_SEQUENCE_CODEWORDS=2;class ct{constructor(){}static decode(e,t,r,n,i,s,l){let d=new rn(e,t,r,n,i),g=null,y=null,D;for(let te=!0;;te=!1){if(t!=null&&(g=ct.getRowIndicatorColumn(e,d,t,!0,s,l)),n!=null&&(y=ct.getRowIndicatorColumn(e,d,n,!1,s,l)),D=ct.merge(g,y),D==null)throw L.getNotFoundInstance();let se=D.getBoundingBox();if(te&&se!=null&&(se.getMinY()<d.getMinY()||se.getMaxY()>d.getMaxY()))d=se;else break}D.setBoundingBox(d);let N=D.getBarcodeColumnCount()+1;D.setDetectionResultColumn(0,g),D.setDetectionResultColumn(N,y);let U=g!=null;for(let te=1;te<=N;te++){let se=U?te:N-te;if(D.getDetectionResultColumn(se)!==void 0)continue;let pe;se===0||se===N?pe=new po(d,se===0):pe=new On(d),D.setDetectionResultColumn(se,pe);let _e=-1,Pe=_e;for(let Ue=d.getMinY();Ue<=d.getMaxY();Ue++){if(_e=ct.getStartColumn(D,se,Ue,U),_e<0||_e>d.getMaxX()){if(Pe===-1)continue;_e=Pe}let Le=ct.detectCodeword(e,d.getMinX(),d.getMaxX(),U,_e,Ue,s,l);Le!=null&&(pe.setCodeword(Ue,Le),Pe=_e,s=Math.min(s,Le.getWidth()),l=Math.max(l,Le.getWidth()))}}return ct.createDecoderResult(D)}static merge(e,t){if(e==null&&t==null)return null;let r=ct.getBarcodeMetadata(e,t);if(r==null)return null;let n=rn.merge(ct.adjustBoundingBox(e),ct.adjustBoundingBox(t));return new Mn(r,n)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let r=ct.getMax(t),n=0;for(let l of t)if(n+=r-l,l>0)break;let i=e.getCodewords();for(let l=0;n>0&&i[l]==null;l++)n--;let s=0;for(let l=t.length-1;l>=0&&(s+=r-t[l],!(t[l]>0));l--);for(let l=i.length-1;s>0&&i[l]==null;l--)s--;return e.getBoundingBox().addMissingRows(n,s,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let n;return t==null||(n=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,n,i,s){let l=new po(t,n);for(let d=0;d<2;d++){let g=d===0?1:-1,y=Math.trunc(Math.trunc(r.getX()));for(let D=Math.trunc(Math.trunc(r.getY()));D<=t.getMaxY()&&D>=t.getMinY();D+=g){let N=ct.detectCodeword(e,0,e.getWidth(),n,y,D,i,s);N!=null&&(l.setCodeword(D,N),n?y=N.getStartX():y=N.getEndX())}}return l}static adjustCodewordCount(e,t){let r=t[0][1],n=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-ct.getNumberOfECCodeWords(e.getBarcodeECLevel());if(n.length===0){if(i<1||i>Qe.MAX_CODEWORDS_IN_BARCODE)throw L.getNotFoundInstance();r.setValue(i)}else n[0]!==i&&r.setValue(i)}static createDecoderResult(e){let t=ct.createBarcodeMatrix(e);ct.adjustCodewordCount(e,t);let r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],s=new Array;for(let d=0;d<e.getBarcodeRowCount();d++)for(let g=0;g<e.getBarcodeColumnCount();g++){let y=t[d][g+1].getValue(),D=d*e.getBarcodeColumnCount()+g;y.length===0?r.push(D):y.length===1?n[D]=y[0]:(s.push(D),i.push(y))}let l=new Array(i.length);for(let d=0;d<l.length;d++)l[d]=i[d];return ct.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,Qe.toIntArray(r),Qe.toIntArray(s),l)}static createDecoderResultFromAmbiguousValues(e,t,r,n,i){let s=new Int32Array(n.length),l=100;for(;l-- >0;){for(let d=0;d<s.length;d++)t[n[d]]=i[d][s[d]];try{return ct.decodeCodewords(t,e,r)}catch(d){if(!(d instanceof S))throw d}if(s.length===0)throw S.getChecksumInstance();for(let d=0;d<s.length;d++)if(s[d]<i[d].length-1){s[d]++;break}else if(s[d]=0,d===s.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]=new Nn;let r=0;for(let n of e.getDetectionResultColumns()){if(n!=null){for(let i of n.getCodewords())if(i!=null){let s=i.getRowNumber();if(s>=0){if(s>=t.length)continue;t[s][r].setValue(i.getValue())}}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,n){let i=n?1:-1,s=null;if(ct.isValidBarcodeColumn(e,t-i)&&(s=e.getDetectionResultColumn(t-i).getCodeword(r)),s!=null)return n?s.getEndX():s.getStartX();if(s=e.getDetectionResultColumn(t).getCodewordNearby(r),s!=null)return n?s.getStartX():s.getEndX();if(ct.isValidBarcodeColumn(e,t-i)&&(s=e.getDetectionResultColumn(t-i).getCodewordNearby(r)),s!=null)return n?s.getEndX():s.getStartX();let l=0;for(;ct.isValidBarcodeColumn(e,t-i);){t-=i;for(let d of e.getDetectionResultColumn(t).getCodewords())if(d!=null)return(n?d.getEndX():d.getStartX())+i*l*(d.getEndX()-d.getStartX());l++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,n,i,s,l,d){i=ct.adjustCodewordStartColumn(e,t,r,n,i,s);let g=ct.getModuleBitCount(e,t,r,n,i,s);if(g==null)return null;let y,D=ne.sum(g);if(n)y=i+D;else{for(let te=0;te<g.length/2;te++){let se=g[te];g[te]=g[g.length-1-te],g[g.length-1-te]=se}y=i,i=y-D}if(!ct.checkCodewordSkew(D,l,d))return null;let N=Jt.getDecodedValue(g),U=Qe.getCodeword(N);return U===-1?null:new Rn(i,y,ct.getCodewordBucketNumber(N),U)}static getModuleBitCount(e,t,r,n,i,s){let l=i,d=new Int32Array(8),g=0,y=n?1:-1,D=n;for(;(n?l<r:l>=t)&&g<d.length;)e.get(l,s)===D?(d[g]++,l+=y):(g++,D=!D);return g===d.length||l===(n?r:t)&&g===d.length-1?d:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,n,i,s){let l=i,d=n?-1:1;for(let g=0;g<2;g++){for(;(n?l>=t:l<r)&&n===e.get(l,s);){if(Math.abs(i-l)>ct.CODEWORD_SKEW_SIZE)return i;l+=d}d=-d,n=!n}return l}static checkCodewordSkew(e,t,r){return t-ct.CODEWORD_SKEW_SIZE<=e&&e<=r+ct.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(e.length===0)throw W.getFormatInstance();let n=1<<t+1,i=ct.correctErrors(e,r,n);ct.verifyCodewordCount(e,n);let s=be.decode(e,""+t);return s.setErrorsCorrected(i),s.setErasures(r.length),s}static correctErrors(e,t,r){if(t!=null&&t.length>r/2+ct.MAX_ERRORS||r<0||r>ct.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return ct.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw W.getFormatInstance();let r=e[0];if(r>e.length)throw W.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw W.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,n=t.length-1;for(;!((e&1)!==r&&(r=e&1,n--,n<0));)t[n]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return ct.getCodewordBucketNumber(ct.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Bn;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let n=0;n<e[r].length;n++){let i=e[r][n];i.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()}}ct.CODEWORD_SKEW_SIZE=2,ct.MAX_ERRORS=3,ct.MAX_EC_CODEWORDS=512,ct.errorCorrection=new go;class Vt{decode(e,t=null){let r=Vt.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw L.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return Vt.decode(e,t,!0)}catch(r){throw r instanceof W||r instanceof S?L.getNotFoundInstance():r}}static decode(e,t,r){const n=new Array,i=st.detectMultiple(e,t,r);for(const s of i.getPoints()){const l=ct.decode(i.getBits(),s[4],s[5],s[6],s[7],Vt.getMinCodewordWidth(s),Vt.getMaxCodewordWidth(s)),d=new E(l.getText(),l.getRawBytes(),void 0,s,M.PDF_417);d.putMetadata(V.ERROR_CORRECTION_LEVEL,l.getECLevel());const g=l.getOther();g!=null&&d.putMetadata(V.PDF417_EXTRA_METADATA,g),n.push(d)}return n.map(s=>s)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?O.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Vt.getMaxWidth(e[0],e[4]),Vt.getMaxWidth(e[6],e[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.max(Vt.getMaxWidth(e[1],e[5]),Vt.getMaxWidth(e[7],e[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Vt.getMinWidth(e[0],e[4]),Vt.getMinWidth(e[6],e[2])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN),Math.min(Vt.getMinWidth(e[1],e[5]),Vt.getMinWidth(e[7],e[3])*Qe.MODULES_IN_CODEWORD/Qe.MODULES_IN_STOP_PATTERN)))}reset(){}}class ei extends x{}ei.kind="ReaderException";class yo{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!u(e)&&e.get($.TRY_HARDER)===!0,r=u(e)?null:e.get($.POSSIBLE_FORMATS),n=new Array;if(!u(r)){const i=r.some(s=>s===M.UPC_A||s===M.UPC_E||s===M.EAN_13||s===M.EAN_8||s===M.CODABAR||s===M.CODE_39||s===M.CODE_93||s===M.CODE_128||s===M.ITF||s===M.RSS_14||s===M.RSS_EXPANDED);i&&!t&&n.push(new dn(e,this.verbose)),r.includes(M.QR_CODE)&&n.push(new Xr),r.includes(M.DATA_MATRIX)&&n.push(new Gr),r.includes(M.AZTEC)&&n.push(new He),r.includes(M.PDF_417)&&n.push(new Vt),i&&t&&n.push(new dn(e,this.verbose))}n.length===0&&(t||n.push(new dn(e,this.verbose)),n.push(new Xr),n.push(new Gr),n.push(new He),n.push(new Vt),t&&n.push(new dn(e,this.verbose))),this.readers=n}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ei("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(r){if(r instanceof ei)continue}throw new L("No MultiFormat Readers were able to detect the code.")}}class s1 extends G{constructor(e=null,t=500){const r=new yo;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class a1 extends G{constructor(e=500){super(new Vt,e)}}class c1 extends G{constructor(e=500){super(new Xr,e)}}var Fi;(function(I){I[I.ERROR_CORRECTION=0]="ERROR_CORRECTION",I[I.CHARACTER_SET=1]="CHARACTER_SET",I[I.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",I[I.MIN_SIZE=3]="MIN_SIZE",I[I.MAX_SIZE=4]="MAX_SIZE",I[I.MARGIN=5]="MARGIN",I[I.PDF417_COMPACT=6]="PDF417_COMPACT",I[I.PDF417_COMPACTION=7]="PDF417_COMPACTION",I[I.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",I[I.AZTEC_LAYERS=9]="AZTEC_LAYERS",I[I.QR_VERSION=10]="QR_VERSION"})(Fi||(Fi={}));var Lt=Fi;class Li{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new j(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const n=this.field;for(let i=t.length;i<=e;i++){const s=r.multiply(new j(n,Int32Array.from([1,n.exp(i-1+n.getGeneratorBase())])));t.push(s),r=s}}return t[e]}encode(e,t){if(t===0)throw new w("No error correction bytes");const r=e.length-t;if(r<=0)throw new w("No data bytes provided");const n=this.buildGenerator(t),i=new Int32Array(r);b.arraycopy(e,0,i,0,r);let s=new j(this.field,i);s=s.multiplyByMonomial(t,1);const d=s.divide(n)[1].getCoefficients(),g=t-d.length;for(let y=0;y<g;y++)e[r+y]=0;b.arraycopy(d,0,e,r+g,d.length)}}class Ot{constructor(){}static applyMaskPenaltyRule1(e){return Ot.applyMaskPenaltyRule1Internal(e,!0)+Ot.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let s=0;s<i-1;s++){const l=r[s];for(let d=0;d<n-1;d++){const g=l[d];g===l[d+1]&&g===r[s+1][d]&&g===r[s+1][d+1]&&t++}}return Ot.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let s=0;s<i;s++)for(let l=0;l<n;l++){const d=r[s];l+6<n&&d[l]===1&&d[l+1]===0&&d[l+2]===1&&d[l+3]===1&&d[l+4]===1&&d[l+5]===0&&d[l+6]===1&&(Ot.isWhiteHorizontal(d,l-4,l)||Ot.isWhiteHorizontal(d,l+7,l+11))&&t++,s+6<i&&r[s][l]===1&&r[s+1][l]===0&&r[s+2][l]===1&&r[s+3][l]===1&&r[s+4][l]===1&&r[s+5][l]===0&&r[s+6][l]===1&&(Ot.isWhiteVertical(r,l,s-4,s)||Ot.isWhiteVertical(r,l,s+7,s+11))&&t++}return t*Ot.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let n=t;n<r;n++)if(e[n]===1)return!1;return!0}static isWhiteVertical(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(let i=r;i<n;i++)if(e[i][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let d=0;d<i;d++){const g=r[d];for(let y=0;y<n;y++)g[y]===1&&t++}const s=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-s)*10/s)*Ot.N4}static getDataMaskBit(e,t,r){let n,i;switch(e){case 0:n=r+t&1;break;case 1:n=r&1;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:i=r*t,n=(i&1)+i%3;break;case 6:i=r*t,n=(i&1)+i%3&1;break;case 7:i=r*t,n=i%3+(r+t&1)&1;break;default:throw new w("Invalid mask pattern: "+e)}return n===0}static applyMaskPenaltyRule1Internal(e,t){let r=0;const n=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),s=e.getArray();for(let l=0;l<n;l++){let d=0,g=-1;for(let y=0;y<i;y++){const D=t?s[l][y]:s[y][l];D===g?d++:(d>=5&&(r+=Ot.N1+(d-5)),d=1,g=D)}d>=5&&(r+=Ot.N1+(d-5))}return r}}Ot.N1=3,Ot.N2=3,Ot.N3=40,Ot.N4=10;class ti{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)B.fill(t,e)}equals(e){if(!(e instanceof ti))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let r=0,n=this.height;r<n;++r){const i=this.bytes[r],s=t.bytes[r];for(let l=0,d=this.width;l<d;++l)if(i[l]!==s[l])return!1}return!0}toString(){const e=new H;for(let t=0,r=this.height;t<r;++t){const n=this.bytes[t];for(let i=0,s=this.width;i<s;++i)switch(n[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class nn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new H;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<nn.NUM_MASK_PATTERNS}}nn.NUM_MASK_PATTERNS=8;class wt extends x{}wt.kind="WriterException";class Ze{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,n,i){Ze.clearMatrix(i),Ze.embedBasicPatterns(r,i),Ze.embedTypeInfo(t,n,i),Ze.maybeEmbedVersionInfo(r,i),Ze.embedDataBits(e,n,i)}static embedBasicPatterns(e,t){Ze.embedPositionDetectionPatternsAndSeparators(t),Ze.embedDarkDotAtLeftBottomCorner(t),Ze.maybeEmbedPositionAdjustmentPatterns(e,t),Ze.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const n=new F;Ze.makeTypeInfoBits(e,t,n);for(let i=0,s=n.getSize();i<s;++i){const l=n.get(n.getSize()-1-i),d=Ze.TYPE_INFO_COORDINATES[i],g=d[0],y=d[1];if(r.setBoolean(g,y,l),i<8){const D=r.getWidth()-i-1;r.setBoolean(D,8,l)}else{const N=r.getHeight()-7+(i-8);r.setBoolean(8,N,l)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new F;Ze.makeVersionInfoBits(e,r);let n=6*3-1;for(let i=0;i<6;++i)for(let s=0;s<3;++s){const l=r.get(n);n--,t.setBoolean(i,t.getHeight()-11+s,l),t.setBoolean(t.getHeight()-11+s,i,l)}}static embedDataBits(e,t,r){let n=0,i=-1,s=r.getWidth()-1,l=r.getHeight()-1;for(;s>0;){for(s===6&&(s-=1);l>=0&&l<r.getHeight();){for(let d=0;d<2;++d){const g=s-d;if(!Ze.isEmpty(r.get(g,l)))continue;let y;n<e.getSize()?(y=e.get(n),++n):y=!1,t!==255&&Ot.getDataMaskBit(t,g,l)&&(y=!y),r.setBoolean(g,l,y)}l+=i}i=-i,l+=i,s-=2}if(n!==e.getSize())throw new wt("Not all bits consumed: "+n+"/"+e.getSize())}static findMSBSet(e){return 32-O.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new w("0 polynomial");const r=Ze.findMSBSet(t);for(e<<=r-1;Ze.findMSBSet(e)>=r;)e^=t<<Ze.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!nn.isValidMaskPattern(t))throw new wt("Invalid mask pattern");const n=e.getBits()<<3|t;r.appendBits(n,5);const i=Ze.calculateBCHCode(n,Ze.TYPE_INFO_POLY);r.appendBits(i,10);const s=new F;if(s.appendBits(Ze.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new wt("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=Ze.calculateBCHCode(e.getVersionNumber(),Ze.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new wt("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;Ze.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),Ze.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new wt;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let n=0;n<8;++n){if(!Ze.isEmpty(r.get(e+n,t)))throw new wt;r.setNumber(e+n,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let n=0;n<7;++n){if(!Ze.isEmpty(r.get(e,t+n)))throw new wt;r.setNumber(e,t+n,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let n=0;n<5;++n){const i=Ze.POSITION_ADJUSTMENT_PATTERN[n];for(let s=0;s<5;++s)r.setNumber(e+s,t+n,i[s])}}static embedPositionDetectionPattern(e,t,r){for(let n=0;n<7;++n){const i=Ze.POSITION_DETECTION_PATTERN[n];for(let s=0;s<7;++s)r.setNumber(e+s,t+n,i[s])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Ze.POSITION_DETECTION_PATTERN[0].length;Ze.embedPositionDetectionPattern(0,0,e),Ze.embedPositionDetectionPattern(e.getWidth()-t,0,e),Ze.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;Ze.embedHorizontalSeparationPattern(0,r-1,e),Ze.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Ze.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const n=7;Ze.embedVerticalSeparationPattern(n,0,e),Ze.embedVerticalSeparationPattern(e.getHeight()-n-1,0,e),Ze.embedVerticalSeparationPattern(n,e.getHeight()-n,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,n=Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let i=0,s=n.length;i!==s;i++){const l=n[i];if(l>=0)for(let d=0;d!==s;d++){const g=n[d];g>=0&&Ze.isEmpty(t.get(g,l))&&Ze.embedPositionAdjustmentPattern(g-2,l-2,t)}}}}Ze.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ze.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ze.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ze.VERSION_INFO_POLY=7973,Ze.TYPE_INFO_POLY=1335,Ze.TYPE_INFO_MASK_PATTERN=21522;class l1{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class St{constructor(){}static calculateMaskPenalty(e){return Ot.applyMaskPenaltyRule1(e)+Ot.applyMaskPenaltyRule2(e)+Ot.applyMaskPenaltyRule3(e)+Ot.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let n=St.DEFAULT_BYTE_MODE_ENCODING;const i=r!==null&&r.get(Lt.CHARACTER_SET)!==void 0;i&&(n=r.get(Lt.CHARACTER_SET).toString());const s=this.chooseMode(e,n),l=new F;if(s===$e.BYTE&&(i||St.DEFAULT_BYTE_MODE_ENCODING!==n)){const Ue=ae.getCharacterSetECIByName(n);Ue!==void 0&&this.appendECI(Ue,l)}this.appendModeInfo(s,l);const d=new F;this.appendBytes(e,s,d,n);let g;if(r!==null&&r.get(Lt.QR_VERSION)!==void 0){const Ue=Number.parseInt(r.get(Lt.QR_VERSION).toString(),10);g=qe.getVersionForNumber(Ue);const Le=this.calculateBitsNeeded(s,l,d,g);if(!this.willFit(Le,g,t))throw new wt("Data too big for requested version")}else g=this.recommendVersion(t,s,l,d);const y=new F;y.appendBitArray(l);const D=s===$e.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(D,g,s,y),y.appendBitArray(d);const N=g.getECBlocksForLevel(t),U=g.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(U,y);const te=this.interleaveWithECBytes(y,g.getTotalCodewords(),U,N.getNumBlocks()),se=new nn;se.setECLevel(t),se.setMode(s),se.setVersion(g);const pe=g.getDimensionForVersion(),_e=new ti(pe,pe),Pe=this.chooseMaskPattern(te,t,g,_e);return se.setMaskPattern(Pe),Ze.buildMatrix(te,t,g,Pe,_e),se.setMatrix(_e),se}static recommendVersion(e,t,r,n){const i=this.calculateBitsNeeded(t,r,n,qe.getVersionForNumber(1)),s=this.chooseVersion(i,e),l=this.calculateBitsNeeded(t,r,n,s);return this.chooseVersion(l,e)}static calculateBitsNeeded(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()}static getAlphanumericCode(e){return e<St.ALPHANUMERIC_TABLE.length?St.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(ae.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return $e.KANJI;let r=!1,n=!1;for(let i=0,s=e.length;i<s;++i){const l=e.charAt(i);if(St.isDigit(l))r=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)n=!0;else return $e.BYTE}return n?$e.ALPHANUMERIC:r?$e.NUMERIC:$e.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=he.encode(e,ae.SJIS)}catch{return!1}const r=t.length;if(r%2!==0)return!1;for(let n=0;n<r;n+=2){const i=t[n]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0}static chooseMaskPattern(e,t,r,n){let i=Number.MAX_SAFE_INTEGER,s=-1;for(let l=0;l<nn.NUM_MASK_PATTERNS;l++){Ze.buildMatrix(e,t,r,l,n);let d=this.calculateMaskPenalty(n);d<i&&(i=d,s=l)}return s}static chooseVersion(e,t){for(let r=1;r<=40;r++){const n=qe.getVersionForNumber(r);if(St.willFit(e,n,t))return n}throw new wt("Data too big")}static willFit(e,t,r){const n=t.getTotalCodewords(),s=t.getECBlocksForLevel(r).getTotalECCodewords(),l=n-s,d=(e+7)/8;return l>=d}static terminateBits(e,t){const r=e*8;if(t.getSize()>r)throw new wt("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let s=0;s<4&&t.getSize()<r;++s)t.appendBit(!1);const n=t.getSize()&7;if(n>0)for(let s=n;s<8;s++)t.appendBit(!1);const i=e-t.getSizeInBytes();for(let s=0;s<i;++s)t.appendBits(s&1?17:236,8);if(t.getSize()!==r)throw new wt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,n,i,s){if(n>=r)throw new wt("Block ID too large");const l=e%r,d=r-l,g=Math.floor(e/r),y=g+1,D=Math.floor(t/r),N=D+1,U=g-D,te=y-N;if(U!==te)throw new wt("EC bytes mismatch");if(r!==d+l)throw new wt("RS blocks mismatch");if(e!==(D+U)*d+(N+te)*l)throw new wt("Total bytes mismatch");n<d?(i[0]=D,s[0]=U):(i[0]=N,s[0]=te)}static interleaveWithECBytes(e,t,r,n){if(e.getSizeInBytes()!==r)throw new wt("Number of bits and data bytes does not match");let i=0,s=0,l=0;const d=new Array;for(let y=0;y<n;++y){const D=new Int32Array(1),N=new Int32Array(1);St.getNumDataBytesAndNumECBytesForBlockID(t,r,n,y,D,N);const U=D[0],te=new Uint8Array(U);e.toBytes(8*i,te,0,U);const se=St.generateECBytes(te,N[0]);d.push(new l1(te,se)),s=Math.max(s,U),l=Math.max(l,se.length),i+=D[0]}if(r!==i)throw new wt("Data bytes does not match offset");const g=new F;for(let y=0;y<s;++y)for(const D of d){const N=D.getDataBytes();y<N.length&&g.appendBits(N[y],8)}for(let y=0;y<l;++y)for(const D of d){const N=D.getErrorCorrectionBytes();y<N.length&&g.appendBits(N[y],8)}if(t!==g.getSizeInBytes())throw new wt("Interleaving error: "+t+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,t){const r=e.length,n=new Int32Array(r+t);for(let s=0;s<r;s++)n[s]=e[s]&255;new Li(P.QR_CODE_FIELD_256).encode(n,t);const i=new Uint8Array(t);for(let s=0;s<t;s++)i[s]=n[r+s];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,n){const i=r.getCharacterCountBits(t);if(e>=1<<i)throw new wt(e+" is bigger than "+((1<<i)-1));n.appendBits(e,i)}static appendBytes(e,t,r,n){switch(t){case $e.NUMERIC:St.appendNumericBytes(e,r);break;case $e.ALPHANUMERIC:St.appendAlphanumericBytes(e,r);break;case $e.BYTE:St.append8BitBytes(e,r,n);break;case $e.KANJI:St.appendKanjiBytes(e,r);break;default:throw new wt("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=St.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=St.getDigit(e.charAt(n));if(n+2<r){const s=St.getDigit(e.charAt(n+1)),l=St.getDigit(e.charAt(n+2));t.appendBits(i*100+s*10+l,10),n+=3}else if(n+1<r){const s=St.getDigit(e.charAt(n+1));t.appendBits(i*10+s,7),n+=2}else t.appendBits(i,4),n++}}static appendAlphanumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=St.getAlphanumericCode(e.charCodeAt(n));if(i===-1)throw new wt;if(n+1<r){const s=St.getAlphanumericCode(e.charCodeAt(n+1));if(s===-1)throw new wt;t.appendBits(i*45+s,11),n+=2}else t.appendBits(i,6),n++}}static append8BitBytes(e,t,r){let n;try{n=he.encode(e,r)}catch(i){throw new wt(i)}for(let i=0,s=n.length;i!==s;i++){const l=n[i];t.appendBits(l,8)}}static appendKanjiBytes(e,t){let r;try{r=he.encode(e,ae.SJIS)}catch(i){throw new wt(i)}const n=r.length;for(let i=0;i<n;i+=2){const s=r[i]&255,l=r[i+1]&255,d=s<<8&4294967295|l;let g=-1;if(d>=33088&&d<=40956?g=d-33088:d>=57408&&d<=60351&&(g=d-49472),g===-1)throw new wt("Invalid byte sequence");const y=(g>>8)*192+(g&255);t.appendBits(y,13)}}static appendECI(e,t){t.appendBits($e.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}St.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),St.DEFAULT_BYTE_MODE_ENCODING=ae.UTF8.getName();class on{write(e,t,r,n=null){if(e.length===0)throw new w("Found empty contents");if(t<0||r<0)throw new w("Requested dimensions are too small: "+t+"x"+r);let i=vt.L,s=on.QUIET_ZONE_SIZE;n!==null&&(n.get(Lt.ERROR_CORRECTION)!==void 0&&(i=vt.fromString(n.get(Lt.ERROR_CORRECTION).toString())),n.get(Lt.MARGIN)!==void 0&&(s=Number.parseInt(n.get(Lt.MARGIN).toString(),10)));const l=St.encode(e,i,n);return this.renderResult(l,t,r,s)}writeToDom(e,t,r,n,i=null){typeof e=="string"&&(e=document.querySelector(e));const s=this.write(t,r,n,i);e&&e.appendChild(s)}renderResult(e,t,r,n){const i=e.getMatrix();if(i===null)throw new Ce;const s=i.getWidth(),l=i.getHeight(),d=s+n*2,g=l+n*2,y=Math.max(t,d),D=Math.max(r,g),N=Math.min(Math.floor(y/d),Math.floor(D/g)),U=Math.floor((y-s*N)/2),te=Math.floor((D-l*N)/2),se=this.createSVGElement(y,D);for(let pe=0,_e=te;pe<l;pe++,_e+=N)for(let Pe=0,Ue=U;Pe<s;Pe++,Ue+=N)if(i.get(Pe,pe)===1){const Le=this.createSvgRectElement(Ue,_e,N,N);se.appendChild(Le)}return se}createSVGElement(e,t){const r=document.createElementNS(on.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,n){const i=document.createElementNS(on.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",n.toString()),i.setAttributeNS(null,"fill","#000000"),i}}on.QUIET_ZONE_SIZE=4,on.SVG_NS="http://www.w3.org/2000/svg";class gn{encode(e,t,r,n,i){if(e.length===0)throw new w("Found empty contents");if(t!==M.QR_CODE)throw new w("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new w(`Requested dimensions are too small: ${r}x${n}`);let s=vt.L,l=gn.QUIET_ZONE_SIZE;i!==null&&(i.get(Lt.ERROR_CORRECTION)!==void 0&&(s=vt.fromString(i.get(Lt.ERROR_CORRECTION).toString())),i.get(Lt.MARGIN)!==void 0&&(l=Number.parseInt(i.get(Lt.MARGIN).toString(),10)));const d=St.encode(e,s,i);return gn.renderResult(d,r,n,l)}static renderResult(e,t,r,n){const i=e.getMatrix();if(i===null)throw new Ce;const s=i.getWidth(),l=i.getHeight(),d=s+n*2,g=l+n*2,y=Math.max(t,d),D=Math.max(r,g),N=Math.min(Math.floor(y/d),Math.floor(D/g)),U=Math.floor((y-s*N)/2),te=Math.floor((D-l*N)/2),se=new ee(y,D);for(let pe=0,_e=te;pe<l;pe++,_e+=N)for(let Pe=0,Ue=U;Pe<s;Pe++,Ue+=N)i.get(Pe,pe)===1&&se.setRegion(Ue,_e,N,N);return se}}gn.QUIET_ZONE_SIZE=4;class u1{encode(e,t,r,n,i){let s;switch(t){case M.QR_CODE:s=new gn;break;default:throw new w("No encoder available for format "+t)}return s.encode(e,t,r,n,i)}}class Ir extends ye{constructor(e,t,r,n,i,s,l,d){if(super(s,l),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=n,this.top=i,n+s>t||i+l>r)throw new w("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(s,l)}getRow(e,t){if(e<0||e>=this.getHeight())throw new w("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return b.arraycopy(this.yuvData,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return b.arraycopy(this.yuvData,i,n,0,r),n;for(let s=0;s<t;s++){const l=s*e;b.arraycopy(this.yuvData,i,n,l,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Ir(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,n,!1)}renderThumbnail(){const e=this.getWidth()/Ir.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Ir.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),n=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let s=0;s<t;s++){const l=s*e;for(let d=0;d<e;d++){const g=n[i+d*Ir.THUMBNAIL_SCALE_FACTOR]&255;r[l+d]=4278190080|g*65793}i+=this.dataWidth*Ir.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Ir.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ir.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let n=0,i=this.top*this.dataWidth+this.left;n<t;n++,i+=this.dataWidth){const s=i+e/2;for(let l=i,d=i+e-1;l<s;l++,d--){const g=r[l];r[l]=r[d],r[d]=g}}}invert(){return new Te(this)}}Ir.THUMBNAIL_SCALE_FACTOR=2;class ki extends ye{constructor(e,t,r,n,i,s,l){if(super(t,r),this.dataWidth=n,this.dataHeight=i,this.left=s,this.top=l,e.BYTES_PER_ELEMENT===4){const d=t*r,g=new Uint8ClampedArray(d);for(let y=0;y<d;y++){const D=e[y],N=D>>16&255,U=D>>7&510,te=D&255;g[y]=(N+U+te)/4&255}this.luminances=g}else this.luminances=e;if(n===void 0&&(this.dataWidth=t),i===void 0&&(this.dataHeight=r),s===void 0&&(this.left=0),l===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new w("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return b.arraycopy(this.luminances,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return b.arraycopy(this.luminances,i,n,0,r),n;for(let s=0;s<t;s++){const l=s*e;b.arraycopy(this.luminances,i,n,l,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new ki(this.luminances,r,n,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new Te(this)}}class Eo extends ae{static forName(e){return this.getCharacterSetECIByName(e)}}class Pi{}Pi.ISO_8859_1=ae.ISO8859_1;class vo{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class bo{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class f1{constructor(e){this.previous=e}getPrevious(){return this.previous}}class pn extends f1{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new pn(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new pn(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+O.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Ui extends pn{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new Ui(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function h1(I,e,t){return new Ui(I,e,t)}function Fn(I,e,t){return new pn(I,e,t)}const d1=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qr=0,ri=1,mr=2,_o=3,Dr=4,x1=new pn(null,0,0),Hi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function g1(I){for(let e of I)B.fill(e,-1);return I[qr][Dr]=0,I[ri][Dr]=0,I[ri][qr]=28,I[_o][Dr]=0,I[mr][Dr]=0,I[mr][qr]=15,I}const So=g1(B.createInt32Array(6,6));class Tr{constructor(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,n=this.token;if(e!==this.mode){let s=Hi[this.mode][e];n=Fn(n,s&65535,s>>16),r+=s>>16}let i=e===mr?4:5;return n=Fn(n,t,i),new Tr(n,e,0,r+i)}shiftAndAppend(e,t){let r=this.token,n=this.mode===mr?4:5;return r=Fn(r,So[this.mode][e],n),r=Fn(r,t,5),new Tr(r,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,n=this.bitCount;if(this.mode===Dr||this.mode===mr){let l=Hi[r][qr];t=Fn(t,l&65535,l>>16),n+=l>>16,r=qr}let i=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new Tr(t,r,this.binaryShiftByteCount+1,n+i);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=h1(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Tr(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Hi[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=Tr.calculateBinaryShiftCost(e)-Tr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let n=this.endBinaryShift(e.length).token;n!==null;n=n.getPrevious())t.unshift(n);let r=new F;for(const n of t)n.appendTo(r,e);return r}toString(){return de.format("%s bits=%d bytes=%d",d1[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Tr.INITIAL_STATE=new Tr(x1,qr,0,0);function p1(I){const e=de.getCharCode(" "),t=de.getCharCode("."),r=de.getCharCode(",");I[qr][e]=1;const n=de.getCharCode("Z"),i=de.getCharCode("A");for(let N=i;N<=n;N++)I[qr][N]=N-i+2;I[ri][e]=1;const s=de.getCharCode("z"),l=de.getCharCode("a");for(let N=l;N<=s;N++)I[ri][N]=N-l+2;I[mr][e]=1;const d=de.getCharCode("9"),g=de.getCharCode("0");for(let N=g;N<=d;N++)I[mr][N]=N-g+2;I[mr][r]=12,I[mr][t]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<y.length;N++)I[_o][de.getCharCode(y[N])]=N;const D=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<D.length;N++)de.getCharCode(D[N])>0&&(I[Dr][de.getCharCode(D[N])]=N);return I}const zi=p1(B.createInt32Array(5,256));class Ln{constructor(e){this.text=e}encode(){const e=de.getCharCode(" "),t=de.getCharCode(`
`);let r=bo.singletonList(Tr.INITIAL_STATE);for(let i=0;i<this.text.length;i++){let s,l=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case de.getCharCode("\r"):s=l===t?2:0;break;case de.getCharCode("."):s=l===e?3:0;break;case de.getCharCode(","):s=l===e?4:0;break;case de.getCharCode(":"):s=l===e?5:0;break;default:s=0}s>0?(r=Ln.updateStateListForPair(r,i,s),i++):r=this.updateStateListForChar(r,i)}return bo.min(r,(i,s)=>i.getBitCount()-s.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let n of e)this.updateStateForChar(n,t,r);return Ln.simplifyStates(r)}updateStateForChar(e,t,r){let n=this.text[t]&255,i=zi[e.getMode()][n]>0,s=null;for(let l=0;l<=Dr;l++){let d=zi[l][n];if(d>0){if(s==null&&(s=e.endBinaryShift(t)),!i||l===e.getMode()||l===mr){const g=s.latchAndAppend(l,d);r.push(g)}if(!i&&So[e.getMode()][l]>=0){const g=s.shiftAndAppend(l,d);r.push(g)}}}if(e.getBinaryShiftByteCount()>0||zi[e.getMode()][n]===0){let l=e.addBinaryShiftChar(t);r.push(l)}}static updateStateListForPair(e,t,r){const n=[];for(let i of e)this.updateStateForPair(i,t,r,n);return this.simplifyStates(n)}static updateStateForPair(e,t,r,n){let i=e.endBinaryShift(t);if(n.push(i.latchAndAppend(Dr,r)),e.getMode()!==Dr&&n.push(i.shiftAndAppend(Dr,r)),r===3||r===4){let s=i.latchAndAppend(mr,16-r).latchAndAppend(mr,1);n.push(s)}if(e.getBinaryShiftByteCount()>0){let s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(s)}}static simplifyStates(e){let t=[];for(const r of e){let n=!0;for(const i of t){if(i.isBetterThanOrEqualTo(r)){n=!1;break}r.isBetterThanOrEqualTo(i)&&(t=t.filter(s=>s!==i))}n&&t.push(r)}return t}}class ht{constructor(){}static encodeBytes(e){return ht.encode(e,ht.DEFAULT_EC_PERCENT,ht.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let n=new Ln(e).encode(),i=O.truncDivision(n.getSize()*t,100)+11,s=n.getSize()+i,l,d,g,y,D;if(r!==ht.DEFAULT_AZTEC_LAYERS){if(l=r<0,d=Math.abs(r),d>(l?ht.MAX_NB_BITS_COMPACT:ht.MAX_NB_BITS))throw new w(de.format("Illegal value %s for layers",r));g=ht.totalBitsInLayer(d,l),y=ht.WORD_SIZE[d];let Le=g-g%y;if(D=ht.stuffBits(n,y),D.getSize()+i>Le)throw new w("Data to large for user specified layer");if(l&&D.getSize()>y*64)throw new w("Data to large for user specified layer")}else{y=0,D=null;for(let Le=0;;Le++){if(Le>ht.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(l=Le<=3,d=l?Le+1:Le,g=ht.totalBitsInLayer(d,l),s>g)continue;(D==null||y!==ht.WORD_SIZE[d])&&(y=ht.WORD_SIZE[d],D=ht.stuffBits(n,y));let lt=g-g%y;if(!(l&&D.getSize()>y*64)&&D.getSize()+i<=lt)break}}let N=ht.generateCheckWords(D,g,y),U=D.getSize()/y,te=ht.generateModeMessage(l,d,U),se=(l?11:14)+d*4,pe=new Int32Array(se),_e;if(l){_e=se;for(let Le=0;Le<pe.length;Le++)pe[Le]=Le}else{_e=se+1+2*O.truncDivision(O.truncDivision(se,2)-1,15);let Le=O.truncDivision(se,2),lt=O.truncDivision(_e,2);for(let nt=0;nt<Le;nt++){let er=nt+O.truncDivision(nt,15);pe[Le-nt-1]=lt-er-1,pe[Le+nt]=lt+er+1}}let Pe=new ee(_e);for(let Le=0,lt=0;Le<d;Le++){let nt=(d-Le)*4+(l?9:12);for(let er=0;er<nt;er++){let Ar=er*2;for(let tr=0;tr<2;tr++)N.get(lt+Ar+tr)&&Pe.set(pe[Le*2+tr],pe[Le*2+er]),N.get(lt+nt*2+Ar+tr)&&Pe.set(pe[Le*2+er],pe[se-1-Le*2-tr]),N.get(lt+nt*4+Ar+tr)&&Pe.set(pe[se-1-Le*2-tr],pe[se-1-Le*2-er]),N.get(lt+nt*6+Ar+tr)&&Pe.set(pe[se-1-Le*2-er],pe[Le*2+tr])}lt+=nt*8}if(ht.drawModeMessage(Pe,l,_e,te),l)ht.drawBullsEye(Pe,O.truncDivision(_e,2),5);else{ht.drawBullsEye(Pe,O.truncDivision(_e,2),7);for(let Le=0,lt=0;Le<O.truncDivision(se,2)-1;Le+=15,lt+=16)for(let nt=O.truncDivision(_e,2)&1;nt<_e;nt+=2)Pe.set(O.truncDivision(_e,2)-lt,nt),Pe.set(O.truncDivision(_e,2)+lt,nt),Pe.set(nt,O.truncDivision(_e,2)-lt),Pe.set(nt,O.truncDivision(_e,2)+lt)}let Ue=new vo;return Ue.setCompact(l),Ue.setSize(_e),Ue.setLayers(d),Ue.setCodeWords(U),Ue.setMatrix(Pe),Ue}static drawBullsEye(e,t,r){for(let n=0;n<r;n+=2)for(let i=t-n;i<=t+n;i++)e.set(i,t-n),e.set(i,t+n),e.set(t-n,i),e.set(t+n,i);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let n=new F;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=ht.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=ht.generateCheckWords(n,40,4)),n}static drawModeMessage(e,t,r,n){let i=O.truncDivision(r,2);if(t)for(let s=0;s<7;s++){let l=i-3+s;n.get(s)&&e.set(l,i-5),n.get(s+7)&&e.set(i+5,l),n.get(20-s)&&e.set(l,i+5),n.get(27-s)&&e.set(i-5,l)}else for(let s=0;s<10;s++){let l=i-5+s+O.truncDivision(s,5);n.get(s)&&e.set(l,i-7),n.get(s+10)&&e.set(i+7,l),n.get(29-s)&&e.set(l,i+7),n.get(39-s)&&e.set(i-7,l)}}static generateCheckWords(e,t,r){let n=e.getSize()/r,i=new Li(ht.getGF(r)),s=O.truncDivision(t,r),l=ht.bitsToWords(e,r,s);i.encode(l,s-n);let d=t%r,g=new F;g.appendBits(0,d);for(const y of Array.from(l))g.appendBits(y,r);return g}static bitsToWords(e,t,r){let n=new Int32Array(r),i,s;for(i=0,s=e.getSize()/t;i<s;i++){let l=0;for(let d=0;d<t;d++)l|=e.get(i*t+d)?1<<t-d-1:0;n[i]=l}return n}static getGF(e){switch(e){case 4:return P.AZTEC_PARAM;case 6:return P.AZTEC_DATA_6;case 8:return P.AZTEC_DATA_8;case 10:return P.AZTEC_DATA_10;case 12:return P.AZTEC_DATA_12;default:throw new w("Unsupported word size "+e)}}static stuffBits(e,t){let r=new F,n=e.getSize(),i=(1<<t)-2;for(let s=0;s<n;s+=t){let l=0;for(let d=0;d<t;d++)(s+d>=n||e.get(s+d))&&(l|=1<<t-1-d);(l&i)===i?(r.appendBits(l&i,t),s--):l&i?r.appendBits(l,t):(r.appendBits(l|1,t),s--)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ht.DEFAULT_EC_PERCENT=33,ht.DEFAULT_AZTEC_LAYERS=0,ht.MAX_NB_BITS=32,ht.MAX_NB_BITS_COMPACT=4,ht.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ni{encode(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)}encodeWithHints(e,t,r,n,i){let s=Pi.ISO_8859_1,l=ht.DEFAULT_EC_PERCENT,d=ht.DEFAULT_AZTEC_LAYERS;return i!=null&&(i.has(Lt.CHARACTER_SET)&&(s=Eo.forName(i.get(Lt.CHARACTER_SET).toString())),i.has(Lt.ERROR_CORRECTION)&&(l=O.parseInt(i.get(Lt.ERROR_CORRECTION).toString())),i.has(Lt.AZTEC_LAYERS)&&(d=O.parseInt(i.get(Lt.AZTEC_LAYERS).toString()))),ni.encodeLayers(e,t,r,n,s,l,d)}static encodeLayers(e,t,r,n,i,s,l){if(t!==M.AZTEC)throw new w("Can only encode AZTEC, but got "+t);let d=ht.encode(de.getBytes(e,i),s,l);return ni.renderResult(d,r,n)}static renderResult(e,t,r){let n=e.getMatrix();if(n==null)throw new Ce;let i=n.getWidth(),s=n.getHeight(),l=Math.max(t,i),d=Math.max(r,s),g=Math.min(l/i,d/s),y=(l-i*g)/2,D=(d-s*g)/2,N=new ee(l,d);for(let U=0,te=D;U<s;U++,te+=g)for(let se=0,pe=y;se<i;se++,pe+=g)n.get(se,U)&&N.setRegion(pe,te,g,g);return N}}a.AbstractExpandedDecoder=Si,a.ArgumentException=m,a.ArithmeticException=q,a.AztecCode=vo,a.AztecCodeReader=He,a.AztecCodeWriter=ni,a.AztecDecoder=ve,a.AztecDetector=ze,a.AztecDetectorResult=le,a.AztecEncoder=ht,a.AztecHighLevelEncoder=Ln,a.AztecPoint=Ie,a.BarcodeFormat=M,a.Binarizer=_,a.BinaryBitmap=v,a.BitArray=F,a.BitMatrix=ee,a.BitSource=Bi,a.BrowserAztecCodeReader=Ye,a.BrowserBarcodeReader=Ya,a.BrowserCodeReader=G,a.BrowserDatamatrixCodeReader=$a,a.BrowserMultiFormatReader=s1,a.BrowserPDF417Reader=a1,a.BrowserQRCodeReader=c1,a.BrowserQRCodeSvgWriter=on,a.CharacterSetECI=ae,a.ChecksumException=S,a.Code128Reader=Ne,a.Code39Reader=ot,a.DataMatrixDecodedBitStreamParser=Vr,a.DataMatrixReader=Gr,a.DecodeHintType=$,a.DecoderResult=re,a.DefaultGridSampler=Me,a.DetectorResult=xe,a.EAN13Reader=Qt,a.EncodeHintType=Lt,a.Exception=x,a.FormatException=W,a.GenericGF=P,a.GenericGFPoly=j,a.GlobalHistogramBinarizer=ue,a.GridSampler=ge,a.GridSamplerInstance=Re,a.HTMLCanvasElementLuminanceSource=Se,a.HybridBinarizer=Z,a.ITFReader=at,a.IllegalArgumentException=w,a.IllegalStateException=Ce,a.InvertedLuminanceSource=Te,a.LuminanceSource=ye,a.MathUtils=ne,a.MultiFormatOneDReader=dn,a.MultiFormatReader=yo,a.MultiFormatWriter=u1,a.NotFoundException=L,a.OneDReader=We,a.PDF417DecodedBitStreamParser=be,a.PDF417DecoderErrorCorrection=go,a.PDF417Reader=Vt,a.PDF417ResultMetadata=mo,a.PerspectiveTransform=Ae,a.PlanarYUVLuminanceSource=Ir,a.QRCodeByteMatrix=ti,a.QRCodeDataMask=gr,a.QRCodeDecodedBitStreamParser=Tt,a.QRCodeDecoderErrorCorrectionLevel=vt,a.QRCodeDecoderFormatInformation=qt,a.QRCodeEncoder=St,a.QRCodeEncoderQRCode=nn,a.QRCodeMaskUtil=Ot,a.QRCodeMatrixUtil=Ze,a.QRCodeMode=$e,a.QRCodeReader=Xr,a.QRCodeVersion=qe,a.QRCodeWriter=gn,a.RGBLuminanceSource=ki,a.RSS14Reader=Bt,a.RSSExpandedReader=Oe,a.ReaderException=ei,a.ReedSolomonDecoder=Fe,a.ReedSolomonEncoder=Li,a.ReedSolomonException=ce,a.Result=E,a.ResultMetadataType=V,a.ResultPoint=K,a.StringUtils=de,a.UnsupportedOperationException=oe,a.VideoInputDevice=ie,a.WhiteRectangleDetector=Y,a.WriterException=wt,a.ZXingArrays=B,a.ZXingCharset=Eo,a.ZXingInteger=O,a.ZXingStandardCharsets=Pi,a.ZXingStringBuilder=H,a.ZXingStringEncoding=he,a.ZXingSystem=b,a.createAbstractExpandedDecoder=ho,Object.defineProperty(a,"__esModule",{value:!0})})})(W0,W0.exports);var It=W0.exports;const Bu=ua(It),Ou=w1({__proto__:null,default:Bu},[It]);var Is=function(){function o(c,a,u){if(this.formatMap=new Map([[Ge.QR_CODE,It.BarcodeFormat.QR_CODE],[Ge.AZTEC,It.BarcodeFormat.AZTEC],[Ge.CODABAR,It.BarcodeFormat.CODABAR],[Ge.CODE_39,It.BarcodeFormat.CODE_39],[Ge.CODE_93,It.BarcodeFormat.CODE_93],[Ge.CODE_128,It.BarcodeFormat.CODE_128],[Ge.DATA_MATRIX,It.BarcodeFormat.DATA_MATRIX],[Ge.MAXICODE,It.BarcodeFormat.MAXICODE],[Ge.ITF,It.BarcodeFormat.ITF],[Ge.EAN_13,It.BarcodeFormat.EAN_13],[Ge.EAN_8,It.BarcodeFormat.EAN_8],[Ge.PDF_417,It.BarcodeFormat.PDF_417],[Ge.RSS_14,It.BarcodeFormat.RSS_14],[Ge.RSS_EXPANDED,It.BarcodeFormat.RSS_EXPANDED],[Ge.UPC_A,It.BarcodeFormat.UPC_A],[Ge.UPC_E,It.BarcodeFormat.UPC_E],[Ge.UPC_EAN_EXTENSION,It.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Ou)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=a,this.logger=u;var h=this.createZXingFormats(c),f=new Map;f.set(It.DecodeHintType.POSSIBLE_FORMATS,h),f.set(It.DecodeHintType.TRY_HARDER,!1),this.hints=f}return o.prototype.decodeAsync=function(c){var a=this;return new Promise(function(u,h){try{u(a.decode(c))}catch(f){h(f)}})},o.prototype.decode=function(c){var a=new It.MultiFormatReader(this.verbose,this.hints),u=new It.HTMLCanvasElementLuminanceSource(c),h=new It.BinaryBitmap(new It.HybridBinarizer(u)),f=a.decode(h);return{text:f.text,format:ka.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},o.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(a,u,h){c.set(a,u)}),c},o.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},o.prototype.createZXingFormats=function(c){for(var a=[],u=0,h=c;u<h.length;u++){var f=h[u];this.formatMap.has(f)?a.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return a},o.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},o}(),Nu=function(o,c,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(w){p(w)}}function A(m){try{x(u.throw(m))}catch(w){p(w)}}function x(m){m.done?f(m.value):h(m.value).then(C,A)}x((u=u.apply(o,c||[])).next())})},Mu=function(o,c){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return A([x,m])}}function A(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ds=function(){function o(c,a,u){if(this.formatMap=new Map([[Ge.QR_CODE,"qr_code"],[Ge.AZTEC,"aztec"],[Ge.CODABAR,"codabar"],[Ge.CODE_39,"code_39"],[Ge.CODE_93,"code_93"],[Ge.CODE_128,"code_128"],[Ge.DATA_MATRIX,"data_matrix"],[Ge.ITF,"itf"],[Ge.EAN_13,"ean_13"],[Ge.EAN_8,"ean_8"],[Ge.PDF_417,"pdf417"],[Ge.UPC_A,"upc_a"],[Ge.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!o.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=a,this.logger=u;var h=this.createBarcodeDetectorFormats(c);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return o.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var c=new BarcodeDetector({formats:["qr_code"]});return typeof c<"u"},o.prototype.decodeAsync=function(c){return Nu(this,void 0,void 0,function(){var a,u;return Mu(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(c)];case 1:if(a=h.sent(),!a||a.length===0)throw"No barcode or QR code detected.";return u=this.selectLargestBarcode(a),[2,{text:u.rawValue,format:ka.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}]}})})},o.prototype.selectLargestBarcode=function(c){for(var a=null,u=0,h=0,f=c;h<f.length;h++){var p=f[h],C=p.boundingBox.width*p.boundingBox.height;C>u&&(u=C,a=p)}if(!a)throw"No largest barcode found";return a},o.prototype.createBarcodeDetectorFormats=function(c){for(var a=[],u=0,h=c;u<h.length;u++){var f=h[u];this.formatMap.has(f)?a.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:a}},o.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},o.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(a,u,h){c.set(a,u)}),c},o.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},o}(),Ts=function(o,c,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(w){p(w)}}function A(m){try{x(u.throw(m))}catch(w){p(w)}}function x(m){m.done?f(m.value):h(m.value).then(C,A)}x((u=u.apply(o,c||[])).next())})},Bs=function(o,c){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return A([x,m])}}function A(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ru=function(){function o(c,a,u,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=u,a&&Ds.isSupported()?(this.primaryDecoder=new Ds(c,u,h),this.secondaryDecoder=new Is(c,u,h)):this.primaryDecoder=new Is(c,u,h)}return o.prototype.decodeAsync=function(c){return Ts(this,void 0,void 0,function(){var a;return Bs(this,function(u){switch(u.label){case 0:a=performance.now(),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(c)];case 2:return[2,u.sent()];case 3:return this.possiblyLogPerformance(a),[7];case 4:return[2]}})})},o.prototype.decodeRobustlyAsync=function(c){return Ts(this,void 0,void 0,function(){var a,u;return Bs(this,function(h){switch(h.label){case 0:a=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(c)];case 2:return[2,h.sent()];case 3:if(u=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(c)];throw u;case 4:return this.possiblyLogPerformance(a),[7];case 5:return[2]}})})},o.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},o.prototype.possiblyLogPerformance=function(c){if(this.verbose){var a=performance.now()-c;this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()}},o.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var c=0,a=0,u=this.executionResults;a<u.length;a++){var h=u[a];c+=h}var f=c/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},o}(),uo=function(){var o=function(c,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(u[f]=h[f])},o(c,a)};return function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(c,a);function u(){this.constructor=c}c.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),mi=function(o,c,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(w){p(w)}}function A(m){try{x(u.throw(m))}catch(w){p(w)}}function x(m){m.done?f(m.value):h(m.value).then(C,A)}x((u=u.apply(o,c||[])).next())})},Ci=function(o,c){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return A([x,m])}}function A(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},za=function(){function o(c,a){this.name=c,this.track=a}return o.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},o.prototype.apply=function(c){var a={};a[this.name]=c;var u={advanced:[a]};return this.track.applyConstraints(u)},o.prototype.value=function(){var c=this.track.getSettings();if(this.name in c){var a=c[this.name];return a}return null},o}(),Fu=function(o){uo(c,o);function c(a,u){return o.call(this,a,u)||this}return c.prototype.min=function(){return this.getCapabilities().min},c.prototype.max=function(){return this.getCapabilities().max},c.prototype.step=function(){return this.getCapabilities().step},c.prototype.apply=function(a){var u={};u[this.name]=a;var h={advanced:[u]};return this.track.applyConstraints(h)},c.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),u=a[this.name];return{min:u.min,max:u.max,step:u.step}},c.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},c}(za),Lu=function(o){uo(c,o);function c(a){return o.call(this,"zoom",a)||this}return c}(Fu),ku=function(o){uo(c,o);function c(a){return o.call(this,"torch",a)||this}return c}(za),Pu=function(){function o(c){this.track=c}return o.prototype.zoomFeature=function(){return new Lu(this.track)},o.prototype.torchFeature=function(){return new ku(this.track)},o}(),Uu=function(){function o(c,a,u){this.isClosed=!1,this.parentElement=c,this.mediaStream=a,this.callbacks=u,this.surface=this.createVideoElement(this.parentElement.clientWidth),c.append(this.surface)}return o.prototype.createVideoElement=function(c){var a=document.createElement("video");return a.style.width="".concat(c,"px"),a.style.display="block",a.muted=!0,a.setAttribute("muted","true"),a.playsInline=!0,a},o.prototype.setupSurface=function(){var c=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var a=function(){var u=c.surface.clientWidth,h=c.surface.clientHeight;c.callbacks.onRenderSurfaceReady(u,h),c.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.srcObject=this.mediaStream,this.surface.play()},o.create=function(c,a,u,h){return mi(this,void 0,void 0,function(){var f,p;return Ci(this,function(C){switch(C.label){case 0:return f=new o(c,a,h),u.aspectRatio?(p={aspectRatio:u.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:C.sent(),C.label=2;case 2:return f.setupSurface(),[2,f]}})})},o.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},o.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},o.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},o.prototype.resume=function(c){this.failIfClosed();var a=this,u=function(){setTimeout(c,200),a.surface.removeEventListener("playing",u)};this.surface.addEventListener("playing",u),this.surface.play()},o.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},o.prototype.getSurface=function(){return this.failIfClosed(),this.surface},o.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},o.prototype.applyVideoConstraints=function(c){return mi(this,void 0,void 0,function(){return Ci(this,function(a){if("aspectRatio"in c)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(c)]})})},o.prototype.close=function(){if(this.isClosed)return Promise.resolve();var c=this;return new Promise(function(a,u){var h=c.mediaStream.getVideoTracks(),f=h.length,p=0;c.mediaStream.getVideoTracks().forEach(function(C){c.mediaStream.removeTrack(C),C.stop(),++p,p>=f&&(c.isClosed=!0,c.parentElement.removeChild(c.surface),a())})})},o.prototype.getCapabilities=function(){return new Pu(this.getFirstTrackOrFail())},o}(),Hu=function(){function o(c){this.mediaStream=c}return o.prototype.render=function(c,a,u){return mi(this,void 0,void 0,function(){return Ci(this,function(h){return[2,Uu.create(c,this.mediaStream,a,u)]})})},o.create=function(c){return mi(this,void 0,void 0,function(){var a,u;return Ci(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return a={audio:!1,video:c},[4,navigator.mediaDevices.getUserMedia(a)];case 1:return u=h.sent(),[2,new o(u)]}})})},o}(),Os=function(o,c,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(w){p(w)}}function A(m){try{x(u.throw(m))}catch(w){p(w)}}function x(m){m.done?f(m.value):h(m.value).then(C,A)}x((u=u.apply(o,c||[])).next())})},Ns=function(o,c){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return A([x,m])}}function A(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},zu=function(){function o(){}return o.failIfNotSupported=function(){return Os(this,void 0,void 0,function(){return Ns(this,function(c){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new o]})})},o.prototype.create=function(c){return Os(this,void 0,void 0,function(){return Ns(this,function(a){return[2,Hu.create(c)]})})},o}(),ju=function(o,c,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(w){p(w)}}function A(m){try{x(u.throw(m))}catch(w){p(w)}}function x(m){m.done?f(m.value):h(m.value).then(C,A)}x((u=u.apply(o,c||[])).next())})},Wu=function(o,c){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return A([x,m])}}function A(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Vu=function(){function o(){}return o.retrieve=function(){if(navigator.mediaDevices)return o.getCamerasFromMediaDevices();var c=MediaStreamTrack;return MediaStreamTrack&&c.getSources?o.getCamerasFromMediaStreamTrack():o.rejectWithError()},o.rejectWithError=function(){var c=yn.unableToQuerySupportedDevices();return o.isHttpsOrLocalhost()||(c=yn.insecureContextCameraQueryError()),Promise.reject(c)},o.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var c=location.host.split(":")[0];return c==="127.0.0.1"||c==="localhost"},o.getCamerasFromMediaDevices=function(){return ju(this,void 0,void 0,function(){var c,a,u,h,f,p,C;return Wu(this,function(A){switch(A.label){case 0:return c=function(x){for(var m=x.getVideoTracks(),w=0,v=m;w<v.length;w++){var S=v[w];S.enabled=!1,S.stop(),x.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return a=A.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(u=A.sent(),h=[],f=0,p=u;f<p.length;f++)C=p[f],C.kind==="videoinput"&&h.push({id:C.deviceId,label:C.label});return c(a),[2,h]}})})},o.getCamerasFromMediaStreamTrack=function(){return new Promise(function(c,a){var u=function(f){for(var p=[],C=0,A=f;C<A.length;C++){var x=A[C];x.kind==="video"&&p.push({id:x.id,label:x.label})}c(p)},h=MediaStreamTrack;h.getSources(u)})},o}(),Nt;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.NOT_STARTED=1]="NOT_STARTED",o[o.SCANNING=2]="SCANNING",o[o.PAUSED=3]="PAUSED"})(Nt||(Nt={}));var Gu=function(){function o(){this.state=Nt.NOT_STARTED,this.onGoingTransactionNewState=Nt.UNKNOWN}return o.prototype.directTransition=function(c){this.failIfTransitionOngoing(),this.validateTransition(c),this.state=c},o.prototype.startTransition=function(c){return this.failIfTransitionOngoing(),this.validateTransition(c),this.onGoingTransactionNewState=c,this},o.prototype.execute=function(){if(this.onGoingTransactionNewState===Nt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var c=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Nt.UNKNOWN,this.directTransition(c)},o.prototype.cancel=function(){if(this.onGoingTransactionNewState===Nt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Nt.UNKNOWN},o.prototype.getState=function(){return this.state},o.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Nt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},o.prototype.validateTransition=function(c){switch(this.state){case Nt.UNKNOWN:throw"Transition from unknown is not allowed";case Nt.NOT_STARTED:this.failIfNewStateIs(c,[Nt.PAUSED]);break;case Nt.SCANNING:break;case Nt.PAUSED:break}},o.prototype.failIfNewStateIs=function(c,a){for(var u=0,h=a;u<h.length;u++){var f=h[u];if(c===f)throw"Cannot transition from ".concat(this.state," to ").concat(c)}},o}(),Xu=function(){function o(c){this.stateManager=c}return o.prototype.startTransition=function(c){return this.stateManager.startTransition(c)},o.prototype.directTransition=function(c){this.stateManager.directTransition(c)},o.prototype.getState=function(){return this.stateManager.getState()},o.prototype.canScanFile=function(){return this.stateManager.getState()===Nt.NOT_STARTED},o.prototype.isScanning=function(){return this.stateManager.getState()!==Nt.NOT_STARTED},o.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Nt.SCANNING},o.prototype.isPaused=function(){return this.stateManager.getState()===Nt.PAUSED},o}(),Yu=function(){function o(){}return o.create=function(){return new Xu(new Gu)},o}(),qu=function(){var o=function(c,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(u[f]=h[f])},o(c,a)};return function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(c,a);function u(){this.constructor=c}c.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),or=function(o){qu(c,o);function c(){return o!==null&&o.apply(this,arguments)||this}return c.DEFAULT_WIDTH=300,c.DEFAULT_WIDTH_OFFSET=2,c.FILE_SCAN_MIN_HEIGHT=300,c.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,c.MIN_QR_BOX_SIZE=50,c.SHADED_LEFT=1,c.SHADED_RIGHT=2,c.SHADED_TOP=3,c.SHADED_BOTTOM=4,c.SHADED_REGION_ELEMENT_ID="qr-shaded-region",c.VERBOSE=!1,c.BORDER_SHADER_DEFAULT_COLOR="#ffffff",c.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",c}(Er),$u=function(){function o(c,a){this.logger=a,this.fps=or.SCAN_DEFAULT_FPS,c?(c.fps&&(this.fps=c.fps),this.disableFlip=c.disableFlip===!0,this.qrbox=c.qrbox,this.aspectRatio=c.aspectRatio,this.videoConstraints=c.videoConstraints):this.disableFlip=or.DEFAULT_DISABLE_FLIP}return o.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ha.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},o.prototype.isShadedBoxEnabled=function(){return!Br(this.qrbox)},o.create=function(c,a){return new o(c,a)},o}(),Ms=function(){function o(c,a){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(c))throw"HTML Element with id=".concat(c," not found");this.elementId=c,this.verbose=!1;var u;typeof a=="boolean"?this.verbose=a===!0:a&&(u=a,this.verbose=u.verbose===!0,u.experimentalFeatures),this.logger=new Ua(this.verbose),this.qrcode=new Ru(this.getSupportedFormats(a),this.getUseBarCodeDetectorIfSupported(u),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Yu.create()}return o.prototype.start=function(c,a,u,h){var f=this;if(!c)throw"cameraIdOrConfig is required";if(!u||typeof u!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;h?p=h:p=this.verbose?this.logger.log:function(){};var C=$u.create(a,this.logger);this.clearElement();var A=!1;C.videoConstraints&&(C.isMediaStreamConstraintsValid()?A=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=A,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:or.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var w=this,v=this.stateManagerProxy.startTransition(Nt.SCANNING);return new Promise(function(S,_){var b=x?C.videoConstraints:w.createVideoConstraints(c);if(!b){v.cancel(),_("videoConstraints should be defined");return}var T={};(!x||C.aspectRatio)&&(T.aspectRatio=C.aspectRatio);var R={onRenderSurfaceReady:function(B,O){w.setupUi(B,O,C),w.isScanning=!0,w.foreverScan(C,u,p)}};zu.failIfNotSupported().then(function(B){B.create(b).then(function(O){return O.render(f.element,T,R).then(function(F){w.renderedCamera=F,v.execute(),S(null)}).catch(function(F){v.cancel(),_(F)})}).catch(function(O){v.cancel(),_(yn.errorGettingUserMedia(O))})}).catch(function(B){v.cancel(),_(yn.cameraStreamingNotSupported())})})},o.prototype.pause=function(c){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Nt.PAUSED),this.showPausedState(),(Br(c)||c!==!0)&&(c=!1),c&&this.renderedCamera&&this.renderedCamera.pause()},o.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var c=this,a=function(){c.stateManagerProxy.directTransition(Nt.SCANNING),c.hidePausedState()};if(!this.renderedCamera.isPaused()){a();return}this.renderedCamera.resume(function(){a()})},o.prototype.getState=function(){return this.stateManagerProxy.getState()},o.prototype.stop=function(){var c=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var a=this.stateManagerProxy.startTransition(Nt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var u=function(){if(c.element){var f=document.getElementById(or.SHADED_REGION_ELEMENT_ID);f&&c.element.removeChild(f)}},h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),u(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),a.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},o.prototype.scanFile=function(c,a){return this.scanFileV2(c,a).then(function(u){return u.decodedText})},o.prototype.scanFileV2=function(c,a){var u=this;if(!c||!(c instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Br(a)&&(a=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,f){u.possiblyCloseLastScanImageFile(),u.clearElement(),u.lastScanImageFile=URL.createObjectURL(c);var p=new Image;p.onload=function(){var C=p.width,A=p.height,x=document.getElementById(u.elementId),m=x.clientWidth?x.clientWidth:or.DEFAULT_WIDTH,w=Math.max(x.clientHeight?x.clientHeight:A,or.FILE_SCAN_MIN_HEIGHT),v=u.computeCanvasDrawConfig(C,A,m,w);if(a){var S=u.createCanvasElement(m,w,"qr-canvas-visible");S.style.display="inline-block",x.appendChild(S);var _=S.getContext("2d");if(!_)throw"Unable to get 2d context from canvas";_.canvas.width=m,_.canvas.height=w,_.drawImage(p,0,0,C,A,v.x,v.y,v.width,v.height)}var b=or.FILE_SCAN_HIDDEN_CANVAS_PADDING,T=Math.max(p.width,v.width),R=Math.max(p.height,v.height),B=T+2*b,O=R+2*b,F=u.createCanvasElement(B,O);x.appendChild(F);var J=F.getContext("2d");if(!J)throw"Unable to get 2d context from canvas";J.canvas.width=B,J.canvas.height=O,J.drawImage(p,0,0,C,A,b,b,T,R);try{u.qrcode.decodeRobustlyAsync(F).then(function($){h(_s.createFromQrcodeResult($))}).catch(f)}catch($){f("QR code parse error, error = ".concat($))}},p.onerror=f,p.onabort=f,p.onstalled=f,p.onsuspend=f,p.src=URL.createObjectURL(c)})},o.prototype.clear=function(){this.clearElement()},o.getCameras=function(){return Vu.retrieve()},o.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},o.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},o.prototype.applyVideoConstraints=function(c){if(c){if(!Ha.isMediaStreamConstraintsValid(c,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(c)},o.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},o.prototype.getSupportedFormats=function(c){var a=[Ge.QR_CODE,Ge.AZTEC,Ge.CODABAR,Ge.CODE_39,Ge.CODE_93,Ge.CODE_128,Ge.DATA_MATRIX,Ge.MAXICODE,Ge.ITF,Ge.EAN_13,Ge.EAN_8,Ge.PDF_417,Ge.RSS_14,Ge.RSS_EXPANDED,Ge.UPC_A,Ge.UPC_E,Ge.UPC_EAN_EXTENSION];if(!c||typeof c=="boolean"||!c.formatsToSupport)return a;if(!Array.isArray(c.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(c.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var u=[],h=0,f=c.formatsToSupport;h<f.length;h++){var p=f[h];Du(p)?u.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(u.length===0)throw"None of formatsToSupport match supported values.";return u},o.prototype.getUseBarCodeDetectorIfSupported=function(c){if(Br(c))return!0;if(!Br(c.useBarCodeDetectorIfSupported))return c.useBarCodeDetectorIfSupported!==!1;if(Br(c.experimentalFeatures))return!0;var a=c.experimentalFeatures;return Br(a.useBarCodeDetectorIfSupported)?!0:a.useBarCodeDetectorIfSupported!==!1},o.prototype.validateQrboxSize=function(c,a,u){var h=this,f=u.qrbox;this.validateQrboxConfig(f);var p=this.toQrdimensions(c,a,f),C=function(x){if(x<or.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(or.MIN_QR_BOX_SIZE,"px.")},A=function(x){return x>c&&(h.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=c),x};C(p.width),C(p.height),p.width=A(p.width)},o.prototype.validateQrboxConfig=function(c){if(typeof c!="number"&&typeof c!="function"&&(c.width===void 0||c.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},o.prototype.toQrdimensions=function(c,a,u){if(typeof u=="number")return{width:u,height:u};if(typeof u=="function")try{return u(c,a)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return u},o.prototype.setupUi=function(c,a,u){u.isShadedBoxEnabled()&&this.validateQrboxSize(c,a,u);var h=Br(u.qrbox)?{width:c,height:a}:u.qrbox;this.validateQrboxConfig(h);var f=this.toQrdimensions(c,a,h);f.height>a&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=u.isShadedBoxEnabled()&&f.height<=a,C={x:0,y:0,width:c,height:a},A=p?this.getShadedRegionBounds(c,a,f):C,x=this.createCanvasElement(A.width,A.height),m={willReadFrequently:!0},w=x.getContext("2d",m);w.canvas.width=A.width,w.canvas.height=A.height,this.element.append(x),p&&this.possiblyInsertShadingElement(this.element,c,a,f),this.createScannerPausedUiElement(this.element),this.qrRegion=A,this.context=w,this.canvasElement=x},o.prototype.createScannerPausedUiElement=function(c){var a=document.createElement("div");a.innerText=yn.scannerPaused(),a.style.display="none",a.style.position="absolute",a.style.top="0px",a.style.zIndex="1",a.style.background="rgba(9, 9, 9, 0.46)",a.style.color="#FFECEC",a.style.textAlign="center",a.style.width="100%",c.appendChild(a),this.scannerPausedUiElement=a},o.prototype.scanContext=function(c,a){var u=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return c(h.text,_s.createFromQrcodeResult(h)),u.possiblyUpdateShaders(!0),!0}).catch(function(h){u.possiblyUpdateShaders(!1);var f=yn.codeParseError(h);return a(f,Pa.createFrom(f)),!1})},o.prototype.foreverScan=function(c,a,u){var h=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),p=f.videoWidth/f.clientWidth,C=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var A=this.qrRegion.width*p,x=this.qrRegion.height*C,m=this.qrRegion.x*p,w=this.qrRegion.y*C;this.context.drawImage(f,m,w,A,x,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(c,a,u)},h.getTimeoutFps(c.fps))};this.scanContext(a,u).then(function(S){!S&&c.disableFlip!==!0?(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(a,u).finally(function(){v()})):v()}).catch(function(S){h.logger.logError("Error happend while scanning context",S),v()})}},o.prototype.createVideoConstraints=function(c){if(typeof c=="string")return{deviceId:{exact:c}};if(typeof c=="object"){var a="facingMode",u="deviceId",h={user:!0,environment:!0},f="exact",p=function(_){if(_ in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(_,"'")},C=Object.keys(c);if(C.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(C.length," keys");var A=Object.keys(c)[0];if(A!==a&&A!==u)throw"Only '".concat(a,"' and '").concat(u,"' ")+" are supported for 'cameraIdOrConfig'";if(A===a){var x=c.facingMode;if(typeof x=="string"){if(p(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(p(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var m=typeof x;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var w=c.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(f in w)return{deviceId:{exact:w["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var v=typeof w;throw"Invalid type of 'deviceId' = ".concat(v)}}}var S=typeof c;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},o.prototype.computeCanvasDrawConfig=function(c,a,u,h){if(c<=u&&a<=h){var f=(u-c)/2,p=(h-a)/2;return{x:f,y:p,width:c,height:a}}else{var C=c,A=a;return c>u&&(a=u/c*a,c=u),a>h&&(c=h/a*c,a=h),this.logger.log("Image downsampled from "+"".concat(C,"X").concat(A)+" to ".concat(c,"X").concat(a,".")),this.computeCanvasDrawConfig(c,a,u,h)}},o.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var c=document.getElementById(this.elementId);c&&(c.innerHTML="")},o.prototype.possiblyUpdateShaders=function(c){this.qrMatch!==c&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(a){a.style.backgroundColor=c?or.BORDER_SHADER_MATCH_COLOR:or.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=c)},o.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},o.prototype.createCanvasElement=function(c,a,u){var h=c,f=a,p=document.createElement("canvas");return p.style.width="".concat(h,"px"),p.style.height="".concat(f,"px"),p.style.display="none",p.id=Br(u)?"qr-canvas":u,p},o.prototype.getShadedRegionBounds=function(c,a,u){if(u.width>c||u.height>a)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(c-u.width)/2,y:(a-u.height)/2,width:u.width,height:u.height}},o.prototype.possiblyInsertShadingElement=function(c,a,u,h){if(!(a-h.width<1||u-h.height<1)){var f=document.createElement("div");f.style.position="absolute";var p=(a-h.width)/2,C=(u-h.height)/2;if(f.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(or.SHADED_REGION_ELEMENT_ID),a-h.width<11||u-h.height<11)this.hasBorderShaders=!1;else{var A=5,x=40;this.insertShaderBorders(f,x,A,-A,null,0,!0),this.insertShaderBorders(f,x,A,-A,null,0,!1),this.insertShaderBorders(f,x,A,null,-A,0,!0),this.insertShaderBorders(f,x,A,null,-A,0,!1),this.insertShaderBorders(f,A,x+A,-A,null,-A,!0),this.insertShaderBorders(f,A,x+A,null,-A,-A,!0),this.insertShaderBorders(f,A,x+A,-A,null,-A,!1),this.insertShaderBorders(f,A,x+A,null,-A,-A,!1),this.hasBorderShaders=!0}c.append(f)}},o.prototype.insertShaderBorders=function(c,a,u,h,f,p,C){var A=document.createElement("div");A.style.position="absolute",A.style.backgroundColor=or.BORDER_SHADER_DEFAULT_COLOR,A.style.width="".concat(a,"px"),A.style.height="".concat(u,"px"),h!==null&&(A.style.top="".concat(h,"px")),f!==null&&(A.style.bottom="".concat(f,"px")),C?A.style.left="".concat(p,"px"):A.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(A),c.appendChild(A)},o.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},o.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},o.prototype.getTimeoutFps=function(c){return 1e3/c},o}(),fo="data:image/svg+xml;base64,",Zu=fo+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Qu=fo+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Rs=fo+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Ku="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Fs=function(){function o(){}return o.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},o}(),Ju=function(){function o(){this.data=Fs.createDefault();var c=localStorage.getItem(o.LOCAL_STORAGE_KEY);c?this.data=JSON.parse(c):this.reset()}return o.prototype.hasCameraPermissions=function(){return this.data.hasPermission},o.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},o.prototype.setHasPermission=function(c){this.data.hasPermission=c,this.flush()},o.prototype.setLastUsedCameraId=function(c){this.data.lastUsedCameraId=c,this.flush()},o.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},o.prototype.reset=function(){this.data=Fs.createDefault(),this.flush()},o.prototype.flush=function(){localStorage.setItem(o.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},o.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",o}(),ef=function(){function o(){this.infoDiv=document.createElement("div")}return o.prototype.renderInto=function(c){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ss.poweredBy();var a=document.createElement("a");a.innerText="ScanApp",a.href="https://scanapp.org",a.target="new",a.style.color="white",this.infoDiv.appendChild(a);var u=document.createElement("br"),h=document.createElement("br");this.infoDiv.appendChild(u),this.infoDiv.appendChild(h);var f=document.createElement("a");f.innerText=Ss.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),c.appendChild(this.infoDiv)},o.prototype.show=function(){this.infoDiv.style.display="block"},o.prototype.hide=function(){this.infoDiv.style.display="none"},o}(),tf=function(){function o(c,a){this.isShowingInfoIcon=!0,this.onTapIn=c,this.onTapOut=a,this.infoIcon=document.createElement("img")}return o.prototype.renderInto=function(c){var a=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Rs,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(u){return a.onHoverIn()},this.infoIcon.onmouseout=function(u){return a.onHoverOut()},this.infoIcon.onclick=function(u){return a.onClick()},c.appendChild(this.infoIcon)},o.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},o.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},o.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Ku,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Rs,this.infoIcon.style.opacity="0.6")},o}(),rf=function(){function o(){var c=this;this.infoDiv=new ef,this.infoIcon=new tf(function(){c.infoDiv.show()},function(){c.infoDiv.hide()})}return o.prototype.renderInto=function(c){this.infoDiv.renderInto(c),this.infoIcon.renderInto(c)},o}(),nf=function(o,c,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(w){p(w)}}function A(m){try{x(u.throw(m))}catch(w){p(w)}}function x(m){m.done?f(m.value):h(m.value).then(C,A)}x((u=u.apply(o,c||[])).next())})},of=function(o,c){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return A([x,m])}}function A(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ls=function(){function o(){}return o.hasPermissions=function(){return nf(this,void 0,void 0,function(){var c,a,u,h;return of(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(c=f.sent(),a=0,u=c;a<u.length;a++)if(h=u[a],h.kind==="videoinput"&&h.label)return[2,!0];return[2,!1]}})})},o}(),$r=function(){function o(c){this.supportedScanTypes=this.validateAndReturnScanTypes(c)}return o.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},o.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},o.prototype.isCameraScanRequired=function(){for(var c=0,a=this.supportedScanTypes;c<a.length;c++){var u=a[c];if(o.isCameraScanType(u))return!0}return!1},o.isCameraScanType=function(c){return c===Kr.SCAN_TYPE_CAMERA},o.isFileScanType=function(c){return c===Kr.SCAN_TYPE_FILE},o.prototype.validateAndReturnScanTypes=function(c){if(!c||c.length===0)return Er.DEFAULT_SUPPORTED_SCAN_TYPE;var a=Er.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(c.length>a)throw"Max ".concat(a," values expected for ")+"supportedScanTypes";for(var u=0,h=c;u<h.length;u++){var f=h[u];if(!Er.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return c},o}(),ar=function(){function o(){}return o.ALL_ELEMENT_CLASS="html5-qrcode-element",o.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",o.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",o.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",o.TORCH_BUTTON_ID="html5-qrcode-button-torch",o.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",o.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",o.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",o.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",o.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",o.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",o}(),Ur=function(){function o(){}return o.createElement=function(c,a){var u=document.createElement(c);return u.id=a,u.classList.add(ar.ALL_ELEMENT_CLASS),c==="button"&&u.setAttribute("type","button"),u},o}(),ja=function(o,c,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(w){p(w)}}function A(m){try{x(u.throw(m))}catch(w){p(w)}}function x(m){m.done?f(m.value):h(m.value).then(C,A)}x((u=u.apply(o,c||[])).next())})},Wa=function(o,c){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return A([x,m])}}function A(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ks=function(){function o(c,a,u){this.isTorchOn=!1,this.torchCapability=c,this.buttonController=a,this.onTorchActionFailureCallback=u}return o.prototype.isTorchEnabled=function(){return this.isTorchOn},o.prototype.flipState=function(){return ja(this,void 0,void 0,function(){var c,a;return Wa(this,function(u){switch(u.label){case 0:this.buttonController.disable(),c=!this.isTorchOn,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.torchCapability.apply(c)];case 2:return u.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),c),[3,4];case 3:return a=u.sent(),this.propagateFailure(c,a),this.buttonController.enable(),[3,4];case 4:return[2]}})})},o.prototype.updateUiBasedOnLatestSettings=function(c,a){c===a?(this.buttonController.setText(a?mt.torchOffButton():mt.torchOnButton()),this.isTorchOn=a):this.propagateFailure(a),this.buttonController.enable()},o.prototype.propagateFailure=function(c,a){var u=c?mt.torchOnFailedMessage():mt.torchOffFailedMessage();a&&(u+="; Error = "+a),this.onTorchActionFailureCallback(u)},o.prototype.reset=function(){this.isTorchOn=!1},o}(),sf=function(){function o(c,a){this.onTorchActionFailureCallback=a,this.torchButton=Ur.createElement("button",ar.TORCH_BUTTON_ID),this.torchController=new ks(c,this,a)}return o.prototype.render=function(c,a){var u=this;this.torchButton.innerText=mt.torchOnButton(),this.torchButton.style.display=a.display,this.torchButton.style.marginLeft=a.marginLeft;var h=this;this.torchButton.addEventListener("click",function(f){return ja(u,void 0,void 0,function(){return Wa(this,function(p){switch(p.label){case 0:return[4,h.torchController.flipState()];case 1:return p.sent(),h.torchController.isTorchEnabled()?(h.torchButton.classList.remove(ar.TORCH_BUTTON_CLASS_TORCH_OFF),h.torchButton.classList.add(ar.TORCH_BUTTON_CLASS_TORCH_ON)):(h.torchButton.classList.remove(ar.TORCH_BUTTON_CLASS_TORCH_ON),h.torchButton.classList.add(ar.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),c.appendChild(this.torchButton)},o.prototype.updateTorchCapability=function(c){this.torchController=new ks(c,this,this.onTorchActionFailureCallback)},o.prototype.getTorchButton=function(){return this.torchButton},o.prototype.hide=function(){this.torchButton.style.display="none"},o.prototype.show=function(){this.torchButton.style.display="inline-block"},o.prototype.disable=function(){this.torchButton.disabled=!0},o.prototype.enable=function(){this.torchButton.disabled=!1},o.prototype.setText=function(c){this.torchButton.innerText=c},o.prototype.reset=function(){this.torchButton.innerText=mt.torchOnButton(),this.torchController.reset()},o.create=function(c,a,u,h){var f=new o(a,h);return f.render(c,u),f},o}(),af=function(){function o(c,a,u){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=a?"block":"none",c.appendChild(this.fileBasedScanRegion);var h=document.createElement("label");h.setAttribute("for",this.getFileScanInputId()),h.style.display="inline-block",this.fileBasedScanRegion.appendChild(h),this.fileSelectionButton=Ur.createElement("button",ar.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(C){h.click()}),h.append(this.fileSelectionButton),this.fileScanInput=Ur.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",h.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(C){if(!(C==null||C.target==null)){var A=C.target;if(!(A.files&&A.files.length===0)){var x=A.files,m=x[0],w=m.name;f.setImageNameToButton(w),u(m)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(C){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(C){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(C){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(C){C.stopPropagation(),C.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var A=C.dataTransfer;if(A){var x=A.files;if(!x||x.length===0)return;for(var m=!1,w=0;w<x.length;++w){var v=x.item(w);if(v){var S=/image.*/;if(v.type.match(S)){m=!0;var _=v.name;f.setImageNameToButton(_),u(v),p.innerText=mt.dragAndDropMessage();break}}}m||(p.innerText=mt.dragAndDropMessageOnlyImages())}})}return o.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},o.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},o.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},o.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},o.prototype.createFileBasedScanRegion=function(){var c=document.createElement("div");return c.style.textAlign="center",c.style.margin="auto",c.style.width="80%",c.style.maxWidth="600px",c.style.border=this.fileBasedScanRegionDefaultBorder(),c.style.padding="10px",c.style.marginBottom="10px",c},o.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},o.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},o.prototype.createDragAndDropMessage=function(){var c=document.createElement("div");return c.innerText=mt.dragAndDropMessage(),c.style.fontWeight="400",c},o.prototype.setImageNameToButton=function(c){var a=20;if(c.length>a){var u=c.substring(0,8),h=c.length,f=c.substring(h-8,h);c="".concat(u,"....").concat(f)}var p=mt.fileSelectionChooseAnother()+" - "+c;this.fileSelectionButton.innerText=p},o.prototype.setInitialValueToButton=function(){var c=mt.fileSelectionChooseImage()+" - "+mt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=c},o.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},o.create=function(c,a,u){var h=new o(c,a,u);return h},o}(),cf=function(){function o(c){this.selectElement=Ur.createElement("select",ar.CAMERA_SELECTION_SELECT_ID),this.cameras=c,this.options=[]}return o.prototype.render=function(c){var a=document.createElement("span");a.style.marginRight="10px";var u=this.cameras.length;if(u===0)throw new Error("No cameras found");if(u===1)a.style.display="none";else{var h=mt.selectCamera();a.innerText="".concat(h," (").concat(this.cameras.length,")  ")}for(var f=1,p=0,C=this.cameras;p<C.length;p++){var A=C[p],x=A.id,m=A.label==null?x:A.label;(!m||m==="")&&(m=[mt.anonymousCameraPrefix(),f++].join(" "));var w=document.createElement("option");w.value=x,w.innerText=m,this.options.push(w),this.selectElement.appendChild(w)}a.appendChild(this.selectElement),c.appendChild(a)},o.prototype.disable=function(){this.selectElement.disabled=!0},o.prototype.isDisabled=function(){return this.selectElement.disabled===!0},o.prototype.enable=function(){this.selectElement.disabled=!1},o.prototype.getValue=function(){return this.selectElement.value},o.prototype.hasValue=function(c){for(var a=0,u=this.options;a<u.length;a++){var h=u[a];if(h.value===c)return!0}return!1},o.prototype.setValue=function(c){if(!this.hasValue(c))throw new Error("".concat(c," is not present in the camera list."));this.selectElement.value=c},o.prototype.hasSingleItem=function(){return this.cameras.length===1},o.prototype.numCameras=function(){return this.cameras.length},o.create=function(c,a){var u=new o(a);return u.render(c),u},o}(),lf=function(){function o(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ur.createElement("input",ar.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return o.prototype.render=function(c,a){this.zoomElementContainer.style.display=a?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",c.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var u=mt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(u),this.rangeText.style.marginRight="10px";var h=this;this.rangeInput.addEventListener("input",function(){return h.onValueChange()}),this.rangeInput.addEventListener("change",function(){return h.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},o.prototype.onValueChange=function(){var c=mt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},o.prototype.setValues=function(c,a,u,h){this.rangeInput.min=c.toString(),this.rangeInput.max=a.toString(),this.rangeInput.step=h.toString(),this.rangeInput.value=u.toString(),this.onValueChange()},o.prototype.show=function(){this.zoomElementContainer.style.display="block"},o.prototype.hide=function(){this.zoomElementContainer.style.display="none"},o.prototype.setOnCameraZoomValueChangeCallback=function(c){this.onChangeCallback=c},o.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},o.create=function(c,a){var u=new o;return u.render(c,a),u},o}(),sr;(function(o){o[o.STATUS_DEFAULT=0]="STATUS_DEFAULT",o[o.STATUS_SUCCESS=1]="STATUS_SUCCESS",o[o.STATUS_WARNING=2]="STATUS_WARNING",o[o.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(sr||(sr={}));function uf(o){return{fps:o.fps,qrbox:o.qrbox,aspectRatio:o.aspectRatio,disableFlip:o.disableFlip,videoConstraints:o.videoConstraints}}function ff(o,c){return{formatsToSupport:o.formatsToSupport,useBarCodeDetectorIfSupported:o.useBarCodeDetectorIfSupported,experimentalFeatures:o.experimentalFeatures,verbose:c}}var hf=function(){function o(c,a,u){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=c,this.config=this.createConfig(a),this.verbose=u===!0,!document.getElementById(c))throw"HTML Element with id=".concat(c," not found");this.scanTypeSelector=new $r(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ua(this.verbose),this.persistedDataManager=new Ju,a.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return o.prototype.render=function(c,a){var u=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,p){if(c)c(f,p);else{if(u.lastMatchFound===f)return;u.lastMatchFound=f,u.setHeaderMessage(mt.lastMatch(f),sr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,p){a&&a(f,p)};var h=document.getElementById(this.elementId);if(!h)throw"HTML Element with id=".concat(this.elementId," not found");h.innerHTML="",this.createBasicLayout(h),this.html5Qrcode=new Ms(this.getScanRegionId(),ff(this.config,this.verbose))},o.prototype.pause=function(c){(Br(c)||c!==!0)&&(c=!1),this.getHtml5QrcodeOrFail().pause(c)},o.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},o.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},o.prototype.clear=function(){var c=this,a=function(){var u=document.getElementById(c.elementId);u&&(u.innerHTML="",c.resetBasicLayout(u))};return this.html5Qrcode?new Promise(function(u,h){if(!c.html5Qrcode){u();return}c.html5Qrcode.isScanning?c.html5Qrcode.stop().then(function(f){if(!c.html5Qrcode){u();return}c.html5Qrcode.clear(),a(),u()}).catch(function(f){c.verbose&&c.logger.logError("Unable to stop qrcode scanner",f),h(f)}):(c.html5Qrcode.clear(),a(),u())}):Promise.resolve()},o.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},o.prototype.applyVideoConstraints=function(c){return this.getHtml5QrcodeOrFail().applyVideoConstraints(c)},o.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},o.prototype.createConfig=function(c){return c?(c.fps||(c.fps=Er.SCAN_DEFAULT_FPS),c.rememberLastUsedCamera!==!Er.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(c.rememberLastUsedCamera=Er.DEFAULT_REMEMBER_LAST_CAMERA_USED),c.supportedScanTypes||(c.supportedScanTypes=Er.DEFAULT_SUPPORTED_SCAN_TYPE),c):{fps:Er.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Er.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Er.DEFAULT_SUPPORTED_SCAN_TYPE}},o.prototype.createBasicLayout=function(c){c.style.position="relative",c.style.padding="0px",c.style.border="1px solid silver",this.createHeader(c);var a=document.createElement("div"),u=this.getScanRegionId();a.id=u,a.style.width="100%",a.style.minHeight="100px",a.style.textAlign="center",c.appendChild(a),$r.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var h=document.createElement("div"),f=this.getDashboardId();h.id=f,h.style.width="100%",c.appendChild(h),this.setupInitialDashboard(h)},o.prototype.resetBasicLayout=function(c){c.style.border="none"},o.prototype.setupInitialDashboard=function(c){this.createSection(c),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},o.prototype.createHeader=function(c){var a=document.createElement("div");a.style.textAlign="left",a.style.margin="0px",c.appendChild(a);var u=new rf;u.renderInto(a);var h=document.createElement("div");h.id=this.getHeaderMessageContainerId(),h.style.display="none",h.style.textAlign="center",h.style.fontSize="14px",h.style.padding="2px 10px",h.style.margin="4px",h.style.borderTop="1px solid #f6f6f6",a.appendChild(h)},o.prototype.createSection=function(c){var a=document.createElement("div");a.id=this.getDashboardSectionId(),a.style.width="100%",a.style.padding="10px 0px 10px 0px",a.style.textAlign="left",c.appendChild(a)},o.prototype.createCameraListUi=function(c,a,u){var h=this;h.showHideScanTypeSwapLink(!1),h.setHeaderMessage(mt.cameraPermissionRequesting());var f=function(){u||h.createPermissionButton(c,a)};Ms.getCameras().then(function(p){h.persistedDataManager.setHasPermission(!0),h.showHideScanTypeSwapLink(!0),h.resetHeaderMessage(),p&&p.length>0?(c.removeChild(a),h.renderCameraSelection(p)):(h.setHeaderMessage(mt.noCameraFound(),sr.STATUS_WARNING),f())}).catch(function(p){h.persistedDataManager.setHasPermission(!1),u?u.disabled=!1:f(),h.setHeaderMessage(p,sr.STATUS_WARNING),h.showHideScanTypeSwapLink(!0)})},o.prototype.createPermissionButton=function(c,a){var u=this,h=Ur.createElement("button",this.getCameraPermissionButtonId());h.innerText=mt.cameraPermissionTitle(),h.addEventListener("click",function(){h.disabled=!0,u.createCameraListUi(c,a,h)}),a.appendChild(h)},o.prototype.createPermissionsUi=function(c,a){var u=this;if($r.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Ls.hasPermissions().then(function(h){h?u.createCameraListUi(c,a):(u.persistedDataManager.setHasPermission(!1),u.createPermissionButton(c,a))}).catch(function(h){u.persistedDataManager.setHasPermission(!1),u.createPermissionButton(c,a)});return}this.createPermissionButton(c,a)},o.prototype.createSectionControlPanel=function(){var c=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");c.appendChild(a);var u=document.createElement("div");u.id=this.getDashboardSectionCameraScanRegionId(),u.style.display=$r.isCameraScanType(this.currentScanType)?"block":"none",a.appendChild(u);var h=document.createElement("div");h.style.textAlign="center",u.appendChild(h),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(u,h),this.renderFileScanUi(a)},o.prototype.renderFileScanUi=function(c){var a=$r.isFileScanType(this.currentScanType),u=this,h=function(f){if(!u.html5Qrcode)throw"html5Qrcode not defined";$r.isFileScanType(u.currentScanType)&&(u.setHeaderMessage(mt.loadingImage()),u.html5Qrcode.scanFileV2(f,!0).then(function(p){u.resetHeaderMessage(),u.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){u.setHeaderMessage(p,sr.STATUS_WARNING),u.qrCodeErrorCallback(p,Pa.createFrom(p))}))};this.fileSelectionUi=af.create(c,a,h)},o.prototype.renderCameraSelection=function(c){var a=this,u=this,h=document.getElementById(this.getDashboardSectionCameraScanRegionId());h.style.textAlign="center";var f=lf.create(h,!1),p=function(b){var T=b.zoomFeature();if(T.isSupported()){f.setOnCameraZoomValueChangeCallback(function(B){T.apply(B)});var R=1;a.config.defaultZoomValueIfSupported&&(R=a.config.defaultZoomValueIfSupported),R=Tu(R,T.min(),T.max()),f.setValues(T.min(),T.max(),R,T.step()),f.show()}},C=cf.create(h,c),A=document.createElement("span"),x=Ur.createElement("button",ar.CAMERA_START_BUTTON_ID);x.innerText=mt.scanButtonStartScanningText(),A.appendChild(x);var m=Ur.createElement("button",ar.CAMERA_STOP_BUTTON_ID);m.innerText=mt.scanButtonStopScanningText(),m.style.display="none",m.disabled=!0,A.appendChild(m);var w,v=function(b){if(!b.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(b.torchFeature()):w=sf.create(A,b.torchFeature(),{display:"none",marginLeft:"5px"},function(T){u.setHeaderMessage(T,sr.STATUS_WARNING)}),w.show()};h.appendChild(A);var S=function(b){b||(x.style.display="none"),x.innerText=mt.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,b&&(x.style.display="inline-block")};if(x.addEventListener("click",function(b){x.innerText=mt.scanButtonScanningStarting(),C.disable(),x.disabled=!0,x.style.opacity="0.5",a.scanTypeSelector.hasMoreThanOneScanType()&&u.showHideScanTypeSwapLink(!1),u.resetHeaderMessage();var T=C.getValue();u.persistedDataManager.setLastUsedCameraId(T),u.html5Qrcode.start(T,uf(u.config),u.qrCodeSuccessCallback,u.qrCodeErrorCallback).then(function(R){m.disabled=!1,m.style.display="inline-block",S(!1);var B=u.html5Qrcode.getRunningTrackCameraCapabilities();a.config.showTorchButtonIfSupported===!0&&v(B),a.config.showZoomSliderIfSupported===!0&&p(B)}).catch(function(R){u.showHideScanTypeSwapLink(!0),C.enable(),S(!0),u.setHeaderMessage(R,sr.STATUS_WARNING)})}),C.hasSingleItem()&&x.click(),m.addEventListener("click",function(b){if(!u.html5Qrcode)throw"html5Qrcode not defined";m.disabled=!0,u.html5Qrcode.stop().then(function(T){a.scanTypeSelector.hasMoreThanOneScanType()&&u.showHideScanTypeSwapLink(!0),C.enable(),x.disabled=!1,m.style.display="none",x.style.display="inline-block",w&&(w.reset(),w.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),u.insertCameraScanImageToScanRegion()}).catch(function(T){m.disabled=!1,u.setHeaderMessage(T,sr.STATUS_WARNING)})}),u.persistedDataManager.getLastUsedCameraId()){var _=u.persistedDataManager.getLastUsedCameraId();C.hasValue(_)?(C.setValue(_),x.click()):u.persistedDataManager.resetLastUsedCameraId()}},o.prototype.createSectionSwap=function(){var c=this,a=mt.textIfCameraScanSelected(),u=mt.textIfFileScanSelected(),h=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var p=Ur.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=$r.isCameraScanType(this.currentScanType)?a:u,p.addEventListener("click",function(){if(!c.sectionSwapAllowed){c.verbose&&c.logger.logError("Section swap called when not allowed");return}c.resetHeaderMessage(),c.fileSelectionUi.resetValue(),c.sectionSwapAllowed=!1,$r.isCameraScanType(c.currentScanType)?(c.clearScanRegion(),c.getCameraScanRegion().style.display="none",c.fileSelectionUi.show(),p.innerText=u,c.currentScanType=Kr.SCAN_TYPE_FILE,c.insertFileScanImageToScanRegion()):(c.clearScanRegion(),c.getCameraScanRegion().style.display="block",c.fileSelectionUi.hide(),p.innerText=a,c.currentScanType=Kr.SCAN_TYPE_CAMERA,c.insertCameraScanImageToScanRegion(),c.startCameraScanIfPermissionExistsOnSwap()),c.sectionSwapAllowed=!0}),f.appendChild(p),h.appendChild(f)},o.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var c=this,a=this;if(this.persistedDataManager.hasCameraPermissions()){Ls.hasPermissions().then(function(u){if(u){var h=document.getElementById(a.getCameraPermissionButtonId());if(!h)throw c.logger.logError("Permission button not found, fail;"),"Permission button not found";h.click()}else a.persistedDataManager.setHasPermission(!1)}).catch(function(u){a.persistedDataManager.setHasPermission(!1)});return}},o.prototype.resetHeaderMessage=function(){var c=document.getElementById(this.getHeaderMessageContainerId());c.style.display="none"},o.prototype.setHeaderMessage=function(c,a){a||(a=sr.STATUS_DEFAULT);var u=this.getHeaderMessageDiv();switch(u.innerText=c,u.style.display="block",a){case sr.STATUS_SUCCESS:u.style.background="rgba(106, 175, 80, 0.26)",u.style.color="#477735";break;case sr.STATUS_WARNING:u.style.background="rgba(203, 36, 49, 0.14)",u.style.color="#cb2431";break;case sr.STATUS_DEFAULT:default:u.style.background="rgba(0, 0, 0, 0)",u.style.color="rgb(17, 17, 17)";break}},o.prototype.showHideScanTypeSwapLink=function(c){this.scanTypeSelector.hasMoreThanOneScanType()&&(c!==!0&&(c=!1),this.sectionSwapAllowed=c,this.getDashboardSectionSwapLink().style.display=c?"inline-block":"none")},o.prototype.insertCameraScanImageToScanRegion=function(){var c=this,a=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){a.innerHTML="<br>",a.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(u){a.innerHTML="<br>",a.appendChild(c.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Zu,this.cameraScanImage.alt=mt.cameraScanAltText()},o.prototype.insertFileScanImageToScanRegion=function(){var c=this,a=document.getElementById(this.getScanRegionId());if(this.fileScanImage){a.innerHTML="<br>",a.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(u){a.innerHTML="<br>",a.appendChild(c.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Qu,this.fileScanImage.alt=mt.fileScanAltText()},o.prototype.clearScanRegion=function(){var c=document.getElementById(this.getScanRegionId());c.innerHTML=""},o.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},o.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},o.prototype.getDashboardSectionSwapLinkId=function(){return ar.SCAN_TYPE_CHANGE_ANCHOR_ID},o.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},o.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},o.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},o.prototype.getCameraPermissionButtonId=function(){return ar.CAMERA_PERMISSION_BUTTON_ID},o.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},o.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},o.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},o}(),df=Xe("<ul class=inline><li>Camera</li><li>Manual"),xf=Xe('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),gf=Xe('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><div><p class=" centerBx"></p><p class=" centerBx">'),pf=Xe("<div id=qr-reader style=width:300px>"),mf=Xe("<slot name=plans><div></div><div>"),Cf=Xe('<div class="_dsplFlx flxWrp spaceAround centerBx">'),wf=Xe('<div><div class="_dsplFlx flxWrp spaceAround centerBx"style=margin-top:15px></div><div class="_dsplFlx flxWrp spaceAround centerBx"style=margin-top:15px></div><div class=tab>'),Af=Xe('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Escanear</h2></div><div style=padding:16px></div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class=centerBx100 style=margin-top:20px>'),yf=Xe("<div class=loader>Loading...");function Ef(){const[o,c]=nr({lbs:"",price:0}),[a,u]=nr({lbs:"",price:0}),[h,f]=nr({}),[p,C]=Ke(""),[A,x]=Ke(),[m,w]=Ke(),[v,S]=Ke(""),[_,b]=Ke(""),[T,R]=Ke(""),[B,O]=Ke("");let F;const[J,$]=Ke(0),[W,fe]=_1(),ae=ie=>()=>fe(()=>$(ie)),oe=(ie,Ee)=>{c({[ie]:Ee}),O(vr())};Gn(()=>{H()}),Mr(()=>x(!1));function he(){return"geolocation"in navigator}function de(ie){u({latitude:ie?.coords?.latitude,longitude:ie?.coords?.longitude})}function H(){he()?navigator.geolocation.getCurrentPosition(de):showMessage("Geolocation isn't supported by your browser")}const ee=(ie,Ee)=>{S(Ee),b(ie),setTimeout(()=>{b("")},5800)},L=ie=>{R(ie),setTimeout(()=>{R("")},8e3)},ue=(ie,Ee)=>{ie!==m()&&(w(ie),setTimeout(()=>{w("")},3e3),Z(ie))},Z=ie=>{ie||(ie=p()),C("");let Ee={timeStamp:new Date().getTime(),latitude:a?.latitude,longitude:a?.longitude,statusId:o?.status},G=ie.split("/"),E={idairguide:G?.[0],":search0":G?.[1],":search1":G?.[3]};G.length>4&&G?.[0].length===12?ye(E,Ee):ee("El codigo escaneado es incorrecto","error"),F?.focus()},ye=async(ie,Ee)=>{let G=await vf(ie),E=Object.keys(G)?.[0];if(G[E]?.cidentity){let z=G[E]?.statusHistory||[];if(z.push(Ee),ie.ssg_track_key=E,G[E]?.street?.split(","),f(""),f(G[E]),L(vr()),ee("","success"),G[E]?.currentStatus!==Ee.statusId){let M={statusHistory:z,currentStatus:Ee.statusId};await bf(ie,M),ee("ok","success")}else ee("Este codigo ya fue escaneado en esta locacion","warning")}else ee("No se encontro este manifiesto","error")},Te=()=>{x(!0);var ie=new hf("qr-reader",{fps:10,qrbox:200});ie.render(ue)};un(ue,400);let Se={error:{"--err-bx-color":"var(--background-red-ssg)","--err-bx-bgcolor":"var(--background-red35-ssg)",svg:"var(--err-bx-color)",icon:"alert"},success:{"--err-bx-color":"var(--hrm-palette-tertiary60)","--err-bx-bgcolor":"var(--hrm-palette-tertiary90)",svg:"var(--err-bx-color)",icon:"success"},warning:{"--err-bx-color":"#FF6F1D","--err-bx-bgcolor":"#ffdb99",svg:"var(--err-bx-color)",icon:"info"}};return(()=>{var ie=Af(),Ee=ie.firstChild,G=Ee.nextSibling,E=G.nextSibling,z=E.nextSibling;return Be(E,De(ro,{list:Ic,lbl_empty:"Funciones de Escaneado",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return o?.status},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",hasDebounce:!1,onSelect:M=>oe("status",M.id),width:"260px"})),Be(z,De(Je,{get when(){return o?.status},get children(){return[(()=>{var M=df(),X=M.firstChild,V=X.nextSibling;return Ro(X,"click",ae(0)),Ro(V,"click",ae(1)),bt(re=>{var me=J()===0,j=J()===1;return me!==re.e&&X.classList.toggle("selected",re.e=me),j!==re.t&&V.classList.toggle("selected",re.t=j),re},{e:void 0,t:void 0}),M})(),(()=>{var M=wf(),X=M.firstChild,V=X.nextSibling,re=V.nextSibling;return Be(X,De(Je,{get when(){return _()},get children(){var me=xf(),j=me.firstChild,q=j.nextSibling;return Be(j,De(lr,{get name(){return Se?.[v()]?.icon},size:32,get color(){return Se?.[v()]?.svg}})),Be(q,_),bt(P=>Hr(me,Se?.[v()],P)),me}})),Be(V,De(Je,{get when(){return T()},get children(){var me=gf(),j=me.firstChild,q=j.nextSibling,P=q.firstChild,ce=P.nextSibling;return Be(j,De(lr,{name:"success",size:32,get color(){return Se?.success?.svg}})),Be(P,()=>h?.consigneeInfo?.ybcity),Be(ce,()=>h?.consigneeInfo?.ybestate),bt(Ce=>Hr(me,Se?.success,Ce)),me}})),Be(re,De(bi,{get fallback(){return yf()},get children(){return De(L1,{get children(){return[De(Vi,{get when(){return J()===0},get children(){return De(Je,{get when(){return A()},get fallback(){return De(kl,{color:"rgb(200 25 60 / .9)",label:"scannear",handleClick:Te})},get children(){var me=mf(),j=me.firstChild,q=j.nextSibling;return me._$owner=Ai(),Be(me,De(Je,{get when(){return A()},get children(){return pf()}}),q),me}})}}),De(Vi,{get when(){return J()===1},get children(){var me=Cf();return Be(me,De(Z0,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--hrm-palette-tertiary80)",ref(j){var q=F;typeof q=="function"?q(j):F=j},get value(){return p()},placeholder:"codigo ...",colors:"#2b2b2b",handleClick:C,onEnter:Z})),me}}),De(Vi,{get when(){return J()===2},get children(){return De(Child,{page:"Tres"})}})]}})}})),bt(()=>re.classList.toggle("pending",!!W())),M})()]}})),bt(()=>Qr(ie,$0.App)),ie})()}const vf=async o=>(await Sn({params:o,query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2"}))?.data,bf=async(o,c)=>(await Sn({params:o,query:"updateLogisticYabaExpress",data2update:c}))?.data;wr(["click"]);var _f=Xe('<div class=" tr_bar_10 _dsplFlx"><div class="icon_status centerBx"></div><div class=guide_number><h5>'),Sf=Xe('<p class="tr_bar_30 textleft fullName_consigne">'),If=Xe("<div style=margin-right:4vw>"),Df=Xe('<h4 class="tr_bar_20 textleft">'),Tf=Xe("<div class=bag_number><h5>"),Bf=Xe('<div class="_dsplFlx bottombx"><p></p><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),Of=Xe('<div class="_dsplFlx bottombx"><h5>'),Nf=Xe('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx topbx centerBx">');function Mf(o){nr({search:"",status:"AERO_33"});const[c,a]=Ke(""),[u,h]=Ke("");un(h,400),no(a);const f=v=>v?" "+v:"",p=()=>{let v=o?.item?.consigneeInfo;return f(v?.firstName)+f(v?.middleName)+f(v?.lastName)+f(v?.lastName2)},C=()=>{let v=o?.item?.consigneeInfo,S=f(v?.altPhoneNumber);return f(v?.phoneNumber)+(S?" |"+S:"")};o?.item?.street?.split(",");const A=()=>{let v=o?.item?.statusHistory||[];return o?.item?.statusHistory?v.reduce((S,_)=>{if(_.statusId==="AERO_33")return Math.min(S,_.timeStamp)},1/0):null},x=()=>{let v=o?.item?.street.split(",");return v.slice(0,v.length-2).join(",")},m=()=>{let v=o?.item?.hbls.length;const S=o?.item?.hbls.reduce((T,R)=>T+`${T?"/":""}${R.hbl}/${R.quantity}/${R.weight}`,"");let _=`${o?.item?.idairguide}/${o?.item?.cidentity}/${v}/${S}`,b={};b.id=vr(),b.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},b.content=De(ya,{val:_}),Aa(b)},w=()=>{let v=o?.item?.ssg_track_key;B0?.[v]?Ps(v,0):Ps(v,1)};return De(Je,{get when(){return o?.item?.guia},get children(){var v=Nf(),S=v.firstChild;return Be(S,De(Je,{get when(){return o?.item?.guia},get children(){return[(()=>{var _=_f(),b=_.firstChild,T=b.nextSibling,R=T.firstChild;return b.$$click=w,Be(b,De(lr,{get name(){return B0?.[o?.item?.ssg_track_key]?"check_circle_outline":"radio_unchecked"},get color(){return B0?.[o?.item?.ssg_track_key]?"var(--background-red-ssg)":"var(--hrm_palette-imput-label_gray)"}})),Be(R,()=>o?.item?.guia),Be(_,A,null),_})(),(()=>{var _=Sf();return Be(_,p),_})(),If(),(()=>{var _=Df();return Be(_,C),_})()]}}),null),Be(S,De(Pr,{}),null),Be(S,De(Je,{get when(){return o?.item?.bagnumber},get children(){var _=Tf(),b=_.firstChild;return _.$$click=m,Be(b,()=>o?.item?.bagnumber),_}}),null),Be(v,De(Je,{get when(){return o?.item?.consigneeInfo?.ybcity},get children(){var _=Bf(),b=_.firstChild,T=b.nextSibling,R=T.firstChild,B=R.nextSibling,O=B.nextSibling;return Be(b,x),Be(_,De(Pr,{}),T),Be(R,()=>o?.item?.consigneeInfo?.ybcity),Be(O,()=>o?.item?.consigneeInfo?.ybestate),_}}),null),Be(v,De(Je,{when:!1,get children(){var _=Of(),b=_.firstChild;return Be(_,De(Pr,{}),b),Be(b,()=>o?.item?.nameshipper),Be(_,De(Pr,{}),null),_}}),null),v}})}wr(["click"]);var Rf=Xe("<div style=padding:4px>"),Ff=Xe('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Manifiestos</h2></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div style="width:94vw;margin:0 auto;">'),Lf=Xe("<div> <!>."),kf=Xe("<div> ");const[B0,Ps]=nr({}),[Pf,Wf]=Ke("");function Uf(){const[o,c]=nr({search:"",status:""});nr({});const[a,u]=Ke("");Ke("");const h=un(u,400),f=(A,x)=>{c({[A]:x}),h(vr())};Mr(()=>{}),Gn(()=>{});const[p,{refetch:C}]=V0(a,async A=>{let x=o?.manifest?.id;const m=await Hf(o.search,x,o.status);return xa(m)});return(()=>{var A=Ff(),x=A.firstChild,m=x.nextSibling,w=m.firstChild,v=m.nextSibling;return Be(A,()=>(Pf(),""),x),Be(w,De(ro,{list:la,lbl_empty:"Manifiesto",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return o?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:S=>f("manifest",S),width:"260px"})),Be(m,De(Je,{get when(){return o?.manifest?.id},get children(){var S=Rf();return Be(S,De(Z0,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return o?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:_=>f("search",_)})),S}}),null),Be(v,De(Zs,{fallback:S=>(()=>{var _=Lf(),b=_.firstChild,T=b.nextSibling;return T.nextSibling,Be(_,()=>S.toString(),T),_})(),get children(){return De(bi,{get fallback(){return(()=>{var S=kf();return S.firstChild,Be(S,De(lo,{stroke:"rgb(200 25 60 / 1)",size:62}),null),S})()},get children(){return De(Je,{get when(){return p()},get children(){return De(jn,{get each(){return p()},children:S=>De(Mf,{item:S})})}})}})}})),bt(()=>Qr(A,$0.App)),A})()}const Hf=async(o,c)=>{let a={params:{idairguide:c,":status":"YABA_39"},query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4 AND !* contain :search5 AND currentStatus = :status"};if(o&&o.split(" ").map((u,h)=>{u&&(a.params[":search"+h]=u.trim())}),c&&Object.keys(a.params).length>=2){const u=await Sn(a);return console.log(u),u?.data?.error?{}:u?.data}return{}};wr(["click","mousemove","mouseout"]);const zf=document.getElementById("root"),jf=o=>_t(()=>o.children);H1(()=>[De(xu,{}),De(Je,{get when(){return z0()},get fallback(){return De(au,{})},get children(){return De(pc,{root:jf,get children(){return[De(Yi,{path:"/",component:bu}),De(Yi,{path:"/scan",component:Ef}),De(Yi,{path:"/manifest",component:Uf})]}})}}),De(vl,{})],zf);
