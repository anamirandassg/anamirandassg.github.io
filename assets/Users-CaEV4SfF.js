const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ButonHrm-Dx0Bvr7a.js","assets/index-CQuD3DCq.js","assets/index-mNJWtuMT.css","assets/SVG-C7kEtqG-.js","assets/Util-DZlMHKqJ.js","assets/ButonHrm-BSeWNUGQ.css","assets/CheckBoxSlide-Dq_Xbcr2.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/InputHr-CThNFDCi.js","assets/InputHr-BXFw4d2l.css","assets/DropDwnSearch-B7oQF0Nt.js","assets/debounces-CIWj1gH4.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as k,_ as $,c as M,a as j,p as z,i as a,f as i,S as g,F as x,h as R,m as K,j as V,d as Y,t as b,b as Q,q as N,g as C}from"./index-CQuD3DCq.js";import{u as q}from"./debounces-CIWj1gH4.js";import{a as X,e as c,O as U,g as w,f as G}from"./Util-DZlMHKqJ.js";import{OpenModal as Z,CloseModal as ee}from"./DialogHRM-CjlPBnUE.js";import{c as re}from"./ShowQRPrintLabel-DzfQH_lE.js";import"./PDFButton-ClnWeH7R.js";import"./qrcode-DHy8FFhS.js";import"./fontkit.es-DkuHxdU6.js";import"./InitPrintServices-QWHeDiid.js";import"./Toast-93Yb8nPc.js";var te=b('<div><div><div class="_dsplFlx bottombx lowbordr spaceAround"><h5>Buscar usuarios</h5></div></div><div style="width:94vw;margin:0 auto;">'),se=b('<div class="_dsplFlx bottombx "><div><h5></h5><h4>'),ie=b('<div class="client_item_box gWXAaj jlytmu">'),le=b('<div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px>'),oe=b('<div><div class=" spaceAround centerBx"><div class=" bottombx lowbordr spaceAround centerBx"><h5>Actualizar Usuario</h5><h4></h4></div></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div class=hseparator></div><div class="bottombx lowbordr centerBx"><h5>Permisos</h5></div><div class=hseparator></div><div class=" bottombx lowbordr centerBx"><h5>Almacenes'),O=b('<div class="_dsplFlx itmAc"><span class=checklabel>');const ae=k(()=>$(()=>import("./ButonHrm-Dx0Bvr7a.js"),__vite__mapDeps([0,1,2,3,4,5]))),P=k(()=>$(()=>import("./CheckBoxSlide-Dq_Xbcr2.js"),__vite__mapDeps([6,1,2,7]))),ne=k(()=>$(()=>import("./InputHr-CThNFDCi.js"),__vite__mapDeps([8,1,2,9]))),f=k(()=>$(()=>import("./DropDwnSearch-B7oQF0Nt.js"),__vite__mapDeps([10,1,2,11,3,4,12]))),[m,p]=M({accessLogistic:{}}),[L,I]=M({stores:{}}),[u,S]=M({priv:{}});function Ce(){const[e,n]=j(""),t=q(n,400),[s,{refetch:r}]=z(e,async l=>await ve(l));return(()=>{var l=te(),d=l.firstChild,v=d.firstChild,_=d.nextSibling;return a(d,i(ne,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return e()},placeholder:"usuarios ...",colors:"#2b2b2b",handleClick:t}),v),a(_,i(g,{get when(){return s()},get children(){return i(g,{get when(){return s()},get children(){return i(x,{get each(){return s()},children:(h,F)=>i(ce,{item:h})})}})}})),l})()}const ce=e=>{const n=()=>{I("stores",void 0),p("accessLogistic",void 0),S("priv",void 0),setTimeout(()=>{p("accessLogistic",e?.item?.accessLogistic),I("stores",e?.item?.accessStores||{});let r={ISADMIN:e?.item?.ISADMIN,HIDDE2O:e?.item?.HIDDE2O,IsSSGLogistic:e?.item?.IsSSGLogistic,workgroup:e?.item?.workgroup,agency:e?.item?.agency,agencyStore:e?.item?.agencyStore,businessYId:e?.item?.businessYId};S("priv",r)},700);let t=X(),s={};s.id=t,s.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},s.content=i(de,{get id(){return e?.item?.userId},modalId:t}),Z(s)};return(()=>{var t=ie();return a(t,i(g,{get when(){return e?.item?.email},get children(){var s=se(),r=s.firstChild,l=r.firstChild,d=l.nextSibling;return r.$$click=n,a(l,()=>e?.item?.name),a(d,()=>e?.item?.email),R(()=>K(r,` bottombx lowbordr spaceAround ${V()?"":"centerBx"}`)),s}})),t})()},de=e=>{const n=r=>{re(r)},t=async()=>{let r=JSON.parse(JSON.stringify({accessLogistic:{...m?.accessLogistic}})),l=JSON.parse(JSON.stringify(u?.priv)),d=JSON.parse(JSON.stringify({accessStores:{...L?.stores}})),v={...r,...l,...d};console.log(v),await me(e?.id,v),ee(e?.modalId)},s=(r,l)=>{S("priv",r,l)};return Q(()=>{}),(()=>{var r=oe(),l=r.firstChild,d=l.firstChild,v=d.firstChild,_=v.nextSibling,h=l.nextSibling,F=h.firstChild,D=h.nextSibling,J=D.firstChild,E=D.nextSibling,T=E.firstChild,A=E.nextSibling,W=A.nextSibling,B=W.nextSibling;return B.nextSibling,r.style.setProperty("max-height","80vh"),r.style.setProperty("overflow","auto"),r.style.setProperty("background","#ffffff"),r.style.setProperty("border-radius","13"),r.style.setProperty("padding","10px 19px"),_.$$click=()=>n(e?.id),a(_,()=>e?.id),a(l,i(ae,{color:"rgb(200 25 60 / 1)",label:"Actualizar",handleClick:t}),null),a(r,i(g,{get when(){return N(()=>!!C?.profile?.isAdmin)()&&c("M023009")?.bussinesSSGList},get children(){var o=le(),y=o.firstChild;return a(y,i(f,{get list(){return c("M023009")?.bussinesSSGList},lbl_empty:"Business",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return u?.priv?.businessYId},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:H=>s("businessYId",H.id),width:"260px"})),o}}),h),a(F,i(f,{get list(){return c("M023009")?.agencies},lbl_empty:"Agencia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return u?.priv?.agency?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:o=>s("agency",o),width:"260px"})),a(J,i(f,{get list(){return c("M023009")?.workGroup},lbl_empty:"Work Group",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return u?.priv?.workgroup?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:o=>s("workgroup",o),width:"260px"})),a(T,i(f,{get list(){return c("M023009")?.stores},lbl_empty:"Agency Store Id",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return u?.priv?.agencyStore?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:o=>s("agencyStore",o),width:"260px"})),a(r,()=>u?.workgroup?.label,A),a(r,i(g,{get when(){return N(()=>!!C?.profile?.isAdmin)()&&c("M023009")?.admLogistiFunc},get children(){return i(x,{get each(){return U(c("M023009")?.admLogistiFunc)},children:(o,y)=>i(ue,{key:o,get val(){return u?.[o]},get item(){return c("M023009")?.admLogistiFunc?.[o]},adm:!0})})}}),A),a(r,i(g,{get when(){return c("M023009")?.accessLogistiFunc},get children(){return i(x,{get each(){return U(c("M023009")?.accessLogistiFunc)},children:(o,y)=>i(ge,{key:o,get val(){return m?.accessLogistic?.[o]},get item(){return c("M023009")?.accessLogistiFunc?.[o]}})})}}),B),a(r,i(g,{get when(){return c("M023009")?.stores},get children(){return i(x,{get each(){return c("M023009")?.stores},children:(o,y)=>i(be,{get key(){return o.id},get val(){return L?.stores},item:o})})}}),null),R(o=>(o=V()?"90vw":"720px")!=null?r.style.setProperty("width",o):r.style.removeProperty("width")),r})()},ue=e=>{const n=t=>{S("priv",e?.key,t)};return(()=>{var t=O(),s=t.firstChild;return a(s,()=>e?.item?.label),a(t,i(P,{get initValue(){return!!u?.priv?.[e?.key]},updChange:r=>n(r),color:"var(--background-red-ssg)"}),null),t})()},ge=e=>{const n=t=>{if(m?.accessLogistic||p("accessLogistic",{}),m?.accessLogistic?.[e?.key])p("accessLogistic",e?.key,"isActive",t);else{let s={...e?.item};s.isActive=t,m?.accessLogistic?p("accessLogistic",e?.key,s):e?.key+""}};return(()=>{var t=O(),s=t.firstChild;return a(s,()=>e?.item?.label),a(t,i(P,{get initValue(){return!!m?.accessLogistic?.[e?.key]?.isActive},updChange:r=>n(r),color:"var(--background-red-ssg)"}),null),t})()},ve=async e=>{e.length>0;let n={params:{limit:250}};e&&e.split(" ").map((l,d)=>{l&&(n.params[":search"+d]=l.trim())});let t=C?.profile?.isAdmin?w(992004):w(992006);n={...n,...t};const r=await G(n);return r&&!r.error?r:null},me=async(e,n)=>{let t={params:{userId:e},data2update:n},s=w(999009);t={...t,...s};const l=await G(t);return l&&!l.error?l:null},be=e=>{const n=t=>{I("stores",e?.key,t||void 0)};return(()=>{var t=O(),s=t.firstChild;return a(s,()=>e?.item?.label),a(t,i(P,{get initValue(){return L?.stores?.[e?.key]},updChange:r=>n(r),color:"var(--background-red-ssg)"}),null),t})()};Y(["click"]);export{Ce as default};
