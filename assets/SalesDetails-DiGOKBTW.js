const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-CNyyL-vs.js","assets/index-i8UwSibR.js","assets/index-DaYrm968.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-C5yvsjOu.js","assets/debounces-C8AwctGF.js","assets/SVG-DyP6fYvf.js","assets/Util-B8-DWw-6.js","assets/DropDwnSearch-DMkLkRPc.css","assets/CheckBoxSlide-C8qkI9Je.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/FlexSpace-D3YlFcAO.js","assets/ButonHrm-C4pn7oN1.js","assets/ButonHrm-BSeWNUGQ.css","assets/UpdInventory-wjqs_kaF.js","assets/DialogHRM-Cjd6MYEy.js","assets/DialogHRM-V9_lZntj.css","assets/DashProducts-B1AO4pXt.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InputHr-BQujK-DH.js","assets/InputHr-BXFw4d2l.css"])))=>i.map(i=>d[i]);
import{l as T,_ as D,c as j,r as Ce,a as K,o as ve,b as ye,e as M,i as t,f as a,S as O,F as X,h as Y,g as q,k as me,j as oe,m as de,p as xe,d as Se,t as A}from"./index-i8UwSibR.js";import{h as Ie,e as ae,g as L,f as R,m as Oe,b as ie,T as Ae,O as z,E as be,a as Z,R as we}from"./Util-B8-DWw-6.js";import{u as Ee}from"./debounces-C8AwctGF.js";import"./DialogHRM-Cjd6MYEy.js";import{g as pe,a as he}from"./handelImagesServices-DzQNChRW.js";import{LookupInventory as _e}from"./DashInventoryMov-C323DDHw.js";import{LookupProducts as ee}from"./DashProducts-B1AO4pXt.js";import{a as ke}from"./print_invoice_service-qh4vXypV.js";import{OpenToast as te}from"./Toast-D_AIkvVg.js";import"./browser-image-compression-BVJ4p9S0.js";import"./App.module-CbHnVtRQ.js";import"./fontkit.es-BHcUmD3g.js";import"./InitPrintServices-BhTuseMZ.js";import"./qrcode-DHy8FFhS.js";var Pe=A('<div style="padding:50px 0"><section class=qsuVSc><section class=bLl6je><section class=dvPdhb>'),qe=A('<div style=margin:15px class=" spaceAround centerBx">'),Be=A('<section class=KgyCAd><section class=WirBi><div class=EMijzc><p class=jhB0af>Agregar reserva</p><section class="Jm2qx centerBx flxWrp spaceAround "><span class=label aria-hidden=true>Mercancia:</span><select class=RIw0b aria-label=merchandise></select><div class="centerBx bottombx "><h5 class="">Solo Arancel</h5></div></section><div style=margin:15px class=" spaceAround centerBx">'),je=A('<section class=qsuVSc><section class=bLl6je><section class=dvPdhb></section></section><section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b">'),Te=A("<option> "),De=A('<section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b"><div class=kDdWge><div class=QCNFEe><p class=jhB0af>Sumario de la orden</p></div><div class=qntUl><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Subtotal</span><span data-test-integ-cart-subtotal-value="">$</span></p><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Estimated tax</span><span data-test-integ-cart-subtotal-value="">$</span></p><p class=B7xUP><span data-test-integ-cart-subtotal-label=""class=OGw7rb>Estimated total</span><span data-test-integ-cart-subtotal-value=""class=OGw7rb> $</span></p></div></div><div class=oPYFfd><section class=BQHvme><section class=wo08ff><span class=PwY8l2>Fecha:</span><span class=PwY8l33> </span></section><section class=wo08ff><span class=PwY8l2>Invoice:</span><span class=PwY8l33></span></section><section class=wo08ff><span class=PwY8l2>Almacen:</span><span class=PwY8l33> </span></section></section></div><section class=JM2zDb>'),ge=A("<section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Remove"),Ne=A('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),Le=A("<span class=arancelSep> | "),Re=A('<span class="arancel pricePq"> $'),Ue=A('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price=""class=pricePq>$</span>'),Ve=A("<div style=padding:4px>"),Fe=A('<div style=padding:8px><div class=" centerBx"><p class=jhB0af>Envia</p><div class="icon_status centerBx "style="margin:0 4px"></div></div><div class="bottombx flxWrp spaceAround centerBx"><h4 class=centerBx></h4><h4 class="centerBx phonesNum"></h4></div><div class=separator></div><div class=centerBx><p class=jhB0af>Recibe</p><div class="icon_status centerBx "style="margin:0 4px"></div></div><div class="bottombx spaceAround "><h5></h5><h4></h4><h4 class=" textleft phonesNum"></h4></div><div class="bottombx flxWrp spaceAround centerBx"><p class="textleft "></p><h4></h4></div><div><p class=" textleft "></p></div><div style=padding:4px>'),Ye=A('<section class="h6rxkc ">'),Me=A('<section class=KgyCAd><section class=WirBi><section class=""><div class=QCNFEe><p class=jhB0af>Agregar mercancias</p></div><section class="EMijzc centerBx"><div class="icon_status centerBx "style="margin:0 4px"></div><div class="icon_status centerBx "style="margin:0 4px">'),Qe=A('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),Ge=A('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),Je=A('<div class="centerBx flxWrp">');T(()=>D(()=>import("./LoadingColorSpinner-CNyyL-vs.js"),__vite__mapDeps([0,1,2,3])));const ue=T(()=>D(()=>import("./DropDwnSearch-C5yvsjOu.js"),__vite__mapDeps([4,1,2,5,6,7,8]))),He=T(()=>D(()=>import("./CheckBoxSlide-C8qkI9Je.js"),__vite__mapDeps([9,1,2,10]))),ne=T(()=>D(()=>import("./FlexSpace-D3YlFcAO.js"),__vite__mapDeps([11,1,2]))),F=T(()=>D(()=>import("./ButonHrm-C4pn7oN1.js"),__vite__mapDeps([12,1,2,6,7,13])));T(()=>D(()=>import("./UpdInventory-wjqs_kaF.js"),__vite__mapDeps([14,1,2,7,15,16,5,17,18,19,11])));const W=T(()=>D(()=>import("./InputHr-BQujK-DH.js"),__vite__mapDeps([20,1,2,21]))),le=T(()=>D(()=>import("./SVG-DyP6fYvf.js"),__vite__mapDeps([6,1,2,7]))),[I,B]=j({manifestObj:{}});let ze=864e5;function $t(){const[e,n]=Ce();j(),j(),j();const[c,u]=K("");Ee(u,400),ve(()=>{}),ye(()=>{});const g=async()=>{if(e?.mId){let m={":search0":e?.mId,businessId:q?.profile?.businessYId},i=await $e(m);B("manifestObj",i[e?.mId])}};return M(async()=>{B("manifestObj",void 0),g()}),(()=>{var m=Pe(),i=m.firstChild,r=i.firstChild,$=r.firstChild;return t(m,a(O,{get when(){return I?.manifestObj?.packagesOrder},get children(){return a(Ke,{})}}),i),t($,a(O,{get when(){return I?.manifestObj?.products},get children(){return a(X,{get each(){return I?.manifestObj?.products},children:(_,s)=>a(Ze,{itm:_})})}})),t(i,a(O,{get when(){return I?.manifestObj?.packagesOrder&&!I?.manifestObj?.isCompleted},get children(){return a(it,{})}}),null),t(i,a(Xe,{get item(){return I?.manifestObj},get list(){return I?.manifestObj}}),null),m})()}let We=[{label:"escojer",id:""},{label:"MISCELANEAS",id:"MISCELANEAS"},{label:"UTILES DEL HOGAR",id:"UTILES DEL HOGAR"},{label:"VENTILADOR",id:"VENTILADOR"},{label:"TV",id:"TV"},{label:"CELULAR",id:"CELULAR"},{label:"TABLETS",id:"TABLETS"},{label:"LAPTOPS",id:"LAPTOPS"},{label:"PLAYSTATION",id:"PLAYSTATION"},{label:"BICICLETAS",id:"BICICLETAS"},{label:"GENERADOR",id:"GENERADOR"},{label:"SERVICIO DE RAPEADO",id:"SERVICIO DE RAPEADO"},{label:"TRANSPORTACION",id:"TRANSPORTACION"},{label:"OTROS SERVICIO",id:"OTROS SERVICIO"}];const Ke=e=>{const n={type:"",qty:0,arancel:0,price:0},[c,u]=j(n),g=(i,r)=>{u({[i]:r})},m=i=>{let r={...c};r.key=we();let $=I?.manifestObj?.reservas||[],_=ie($);_.push(r),B("manifestObj","reservas",_),u("type",""),u("qty",""),u("price",""),u("arancel","")};return(()=>{var i=je(),r=i.firstChild,$=r.firstChild,_=r.nextSibling,s=_.firstChild,l=s.firstChild;return t($,a(O,{get when(){return I?.manifestObj?.reservas},get children(){return a(X,{get each(){return I?.manifestObj?.reservas},children:(d,f)=>a(et,{itm:d})})}})),t(i,a(O,{get when(){return!I?.manifestObj?.isCompleted},get children(){var d=Be(),f=d.firstChild,o=f.firstChild,h=o.firstChild,p=h.nextSibling,x=p.firstChild,C=x.nextSibling,v=C.nextSibling,y=v.firstChild,w=p.nextSibling;return C.addEventListener("change",b=>{g("type",b?.target?.value)}),t(C,a(X,{each:We,children:(b,S)=>(()=>{var P=Te();return P.firstChild,t(P,()=>b.label,null),Y(()=>P.selected=b.id===c?.type),Y(()=>P.value=b.id),P})()})),t(v,a(He,{get initValue(){return c?.onlyTariff},updChange:b=>g("onlyTariff",b),color:"var(--background-red-ssg)"}),y),t(w,a(O,{get when(){return!c?.onlyTariff&&c?.type},get children(){return a(W,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.qty||""},label:"cantidad (lbs)",colors:"#2b2b2b",handleClick:b=>g("qty",b)})}}),null),t(w,a(O,{get when(){return c?.qty&&c?.type},get children(){return a(W,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.price||""},label:"precio",colors:"#2b2b2b",handleClick:b=>g("price",b)})}}),null),t(w,a(O,{get when(){return c?.type},get children(){return a(W,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.arancel||""},label:"Arancel",colors:"#2b2b2b",handleClick:b=>g("arancel",b)})}}),null),t(w,a(O,{get when(){return(c?.price&&c?.qty||c?.onlyTariff&&c?.arancel)&&c?.type},get children(){var b=qe();return t(b,a(F,{color:"#646cff",label:"Agregar",handleClick:m})),b}}),null),d}}),_),t(l,a(tt,{get item(){return I?.manifestObj?.shipper_consignee}})),i})()},Xe=e=>{const n=m=>{let i=0;return e?.item?.products?.map(r=>{i+=V(r?.qty)*V(r?.salePrice)*-1}),e?.item?.reservas?.map(r=>{i+=V(r?.qty)*V(r?.price)+V(r?.arancel)}),i},c=async m=>{let i={...e?.item};i.amount=n();let r=await ke(i);window.open(r)},u=async()=>{let m={...e?.item},i={params:{businessId:q?.profile?.businessYId,id:m.ssg_sorder_key},form:{isCompleted:!1}},r=L(431007);i={...i,...r}},g=async m=>{let i=ie(e?.item);i.isCompleted=!0,i.dayNum=i?.createDate/ze;let r={params:{businessId:q?.profile?.businessYId,id:i.ssg_sorder_key},form:i},$=L(431007);r={...r,...$},await R(r);let _={params:{businessId:q?.profile?.businessYId},form:i},s=L(139003);_={..._,...s},await R(_);let l={":search0":i.ssg_sorder_key,businessId:q?.profile?.businessYId},d=await $e(l);B("manifestObj",d[i.ssg_sorder_key])};return(()=>{var m=De(),i=m.firstChild,r=i.firstChild,$=r.firstChild,_=$.firstChild,s=_.nextSibling,l=s.firstChild,d=l.firstChild,f=d.nextSibling;f.firstChild;var o=l.nextSibling,h=o.firstChild,p=h.nextSibling;p.firstChild;var x=o.nextSibling,C=x.firstChild,v=C.nextSibling;v.firstChild;var y=$.nextSibling,w=y.firstChild,b=w.firstChild,S=b.firstChild,P=S.nextSibling;P.firstChild;var U=b.nextSibling,Q=U.firstChild,se=Q.nextSibling,N=U.nextSibling,re=N.firstChild,G=re.nextSibling;G.firstChild;var k=y.nextSibling;return t(f,()=>n().toFixed(2),null),t(p,()=>(n()*.06).toFixed(2),null),t(v,()=>(n()*.06+n()).toFixed(2),null),t(P,()=>Ie(e?.item?.createDate),null),t(se,()=>e?.item?.invoice),t(G,()=>ae("storeGroupBy")?.[e?.item?.store]?.label,null),t(k,a(O,{get when(){return e?.item?.isCompleted},get children(){return a(F,{color:"#646cff",label:"Imprimir",handleClick:c})}}),null),t(k,a(O,{get when(){return!e?.item?.isCompleted},get children(){return a(F,{color:"#646cff",label:"Confirmar",handleClick:g})}}),null),t(k,a(O,{get when(){return e?.item?.isCompleted&&q?.profile?.isAdmin},get children(){return a(F,{color:"#646cff",label:"arrow",handleClick:u})}}),null),m})()},Ze=e=>{const[n,c]=j(),u=()=>n?.[e?.itm?.product?.id]?.productImageUrl?pe()+he()+"/"+n?.[e?.itm?.product?.id]?.productImageUrl:null,g=async()=>{let i=e?.itm?.product?.id,r=`${i}`,$=await ee(r);$?.[i]?.productImageUrl&&c(i,$?.[i])};M(()=>{g()});const m=()=>{let i=ie(I?.manifestObj?.products);delete i[e?.itm?.product?.id],B("manifestObj","products",i)};return(()=>{var i=Ne(),r=i.firstChild,$=r.firstChild,_=$.firstChild,s=_.firstChild,l=s.firstChild,d=s.nextSibling,f=d.firstChild,o=f.firstChild,h=o.firstChild;h.firstChild;var p=f.nextSibling,x=p.firstChild,C=x.firstChild,v=C.nextSibling,y=x.nextSibling,w=y.firstChild;return w.firstChild,t(h,()=>e?.itm?.product?.label,null),t(v,()=>e?.itm?.qty*-1),t(w,()=>(e?.itm?.salePrice*1).toFixed(2),null),t(p,a(O,{get when(){return!I?.manifestObj?.isCompleted},get children(){var b=ge(),S=b.firstChild,P=S.firstChild;return P.$$click=m,b}}),null),Y(()=>me(l,"src",u())),i})()},et=e=>{const[n,c]=j(),u=async()=>{let m=e?.itm?.product?.id,i=`${m}`,r=await ee(i);r?.[m]?.productImageUrl&&c(m,r?.[m])};M(()=>{u()});const g=()=>{let i=ie(I?.manifestObj?.reservas).filter(r=>r.key!==e?.itm?.key);B("manifestObj","reservas",i)};return(()=>{var m=Ue(),i=m.firstChild,r=i.firstChild,$=r.firstChild,_=$.firstChild,s=_.firstChild,l=s.firstChild,d=l.firstChild;d.firstChild;var f=s.nextSibling,o=f.firstChild,h=o.firstChild,p=h.nextSibling,x=o.nextSibling,C=x.firstChild;return C.firstChild,t(d,()=>e?.itm?.type,null),t(p,()=>e?.itm?.qty*1),t(C,()=>(e?.itm?.price*1).toFixed(2),null),t(x,a(O,{get when(){return e?.itm?.arancel},get children(){return[Le(),(()=>{var v=Re();return v.firstChild,t(v,()=>(e?.itm?.arancel*1).toFixed(2),null),v})()]}}),null),t(f,a(O,{get when(){return!I?.manifestObj?.isCompleted},get children(){var v=ge(),y=v.firstChild,w=y.firstChild;return w.$$click=g,v}}),null),m})()},tt=e=>{const[n,c]=K(),u=s=>s?" "+s:"",g=s=>u(s?.firstName)+u(s?.middleName)+u(s?.lastName)+u(s?.lastName2),m=s=>{let l=u(s?.altPhoneNumber);return u(s?.phoneNumber)+(l?" |"+l:"")},i=()=>{let s=q?.profile?.agency?.id;if(s){let l=e?.item,d=`;${E(l?.name)};;N/A;${E(l?.phoneNumberS)};${Ae(l?.dob)};CUB;;;${s}`;$("shipper",d)}},r=async()=>{let s=q?.profile?.agency?.id;if(s&&e?.item?.citiId&&n()?.id){let l=e?.item,d=`;${E(l?.firstName)};${E(l?.middleName)};${E(l?.lastName)};${E(l?.lastName2)};N/A;${E(l?.cid)};CUB;${E(l?.phoneNumber)};${E(l?.altPhoneNumber)};${E(l?.ybstreet)};${E(l?.ybstreetNo)};${E(l?.ybbetwen1)};${E(l?.ybbetwen2)};${E(l?.ybreparto)};;${l?.citiId};${n()?.id};${E(l?.email)};;${s}`;$("consignee",d)}},$=async(s,l,d)=>{let f=`funcname=insertRecord&option=${s}&params=${l}`,o={query:"querySolveGlobal"};o.params={query:f},await R(o)},_=(s,l)=>{B("manifestObj","shipper_consignee",s,l)};return M(()=>{if(e?.item?.ybestate){let s=ae("M023009")?.provincias?.filter?.(l=>l.label===e?.item?.ybestate)?.[0];if(s?.id&&c(s),e?.item?.ybcity){let l=s?.cities?.filter?.(d=>d.label===e?.item?.ybcity)?.[0];l?.id&&B("manifestObj","shipper_consignee","citiId",l?.id)}}}),a(O,{get when(){return e?.item?.name},get children(){var s=Fe(),l=s.firstChild,d=l.firstChild,f=d.nextSibling,o=l.nextSibling,h=o.firstChild,p=h.nextSibling,x=o.nextSibling,C=x.nextSibling,v=C.firstChild,y=v.nextSibling,w=C.nextSibling,b=w.firstChild,S=b.nextSibling,P=S.nextSibling,U=w.nextSibling,Q=U.firstChild,se=Q.nextSibling,N=U.nextSibling,re=N.firstChild,G=N.nextSibling;return t(l,a(ne,{}),f),f.$$click=i,t(f,a(le,{name:"send",size:22,color:"#646cff"})),t(h,()=>e?.item?.name),t(p,()=>e?.item?.phoneNumberS),t(C,a(ne,{}),y),y.$$click=r,t(y,a(le,{name:"send",size:22,color:"#646cff"})),t(b,()=>e?.item?.cid),t(S,()=>g(e?.item)),t(P,()=>m(e?.item)),t(Q,()=>fe(e?.item)),t(se,()=>e?.item?.ybreparto),t(re,fe),t(N,a(ne,{}),null),t(G,a(ue,{get list(){return ae("M023009")?.provincias},lbl_empty:"Provincia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return n()?.id},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:k=>c(k),width:"260px"})),t(s,a(O,{get when(){return n()},get children(){var k=Ve();return t(k,a(ue,{get list(){return n()?.cities},lbl_empty:"Cities",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.item?.citiId},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:J=>_("citiId",J.id),width:"260px"})),k}}),null),Y(k=>{var J=`    ${oe()?"isMobile":""}`,ce=` ${oe(),"centerBx"} bottombx flxWrp  centerBx`;return J!==k.e&&de(s,k.e=J),ce!==k.t&&de(N,k.t=ce),k},{e:void 0,t:void 0}),s}})},Ct=async(e,n)=>{let c={params:e,data2update:n},u=L(431007);return c={...c,...u},await R(c)},$e=async e=>{let n={params:e},c=L(431002);return n={...n,...c},await R(n)},vt=async e=>{let n=[];e.map(c=>{let u={params:{id:c?.ssg_track_key,idairguide:"all"}},g=L(802002);u={...u,...g},n.push(u)}),Oe(n,lt)},lt=async e=>{const c=await R(e);if(c)return c},it=e=>{const[n,c]=K(""),[u,g]=K(1),m=()=>{u()===1&&n().length>8&&i(n())},i=async s=>{let l=q?.profile?.agencyStore?.id,d=`${s}`,f=await ee(d),o=z(f)?.[0],h=`${o} ${l}`,p=await _e(h),x=0,C=0;z(p)?.map(b=>{p[b]?.products?.map(S=>{o===S?.product?.id&&(x+=S?.price*1*S?.qty*1,C+=S?.qty*1)})});let v=1,y={};I?.manifestObj?.products?.map(b=>{let S={...b};o===b.product.id&&(S.qty=S.qty*-1),y[b.product.id]=S}),y?.[o]&&(v=y?.[o].qty*1+1);const w=C?x/C:0;if(C&&C-v>=0){if(y?.[o])y[o].qty=v*-1;else{let S={product:{id:o,label:f?.[o]?.name,code:f?.[o]?.code},qty:v*-1,price:w,salePrice:f?.[o]?.salePrice};y[o]=S}let b=be(y);B("manifestObj","products",b),c(""),te({text:f?.[o]?.name+" agregado al carrito",timeout:3500,theme:"blue",id:Z()})}else te({text:"Sin Existencia",timeout:3500,theme:"red",id:Z()})},[r,{refetch:$}]=xe(n,async s=>{if(u()===2&&s.length>4){const l=await ee(s);let d=[];return z(l).map(f=>{let o=l[f];d.push(o)}),d}else return[]}),_=()=>{c(""),g(1)};return(()=>{var s=Me(),l=s.firstChild,d=l.firstChild,f=d.firstChild,o=f.nextSibling,h=o.firstChild,p=h.nextSibling;return t(d,a(O,{get when(){return r()?.length>0},get children(){var x=Ye();return t(x,a(X,{get each(){return r()},children:(C,v)=>a(st,{itm:C,clearTx:_})})),x}}),o),t(o,a(W,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return n()},placeholder:"buscar productos ...",colors:"#2b2b2b",handleClick:c,onEnter:m}),h),h.$$click=()=>g(1),t(h,a(le,{name:"qrcode-scan",size:22,get color(){return u()===1?"#646cff":""}})),p.$$click=()=>g(2),t(p,a(le,{name:"keyboard",size:22,get color(){return u()===2?"#646cff":""}})),s})()},st=e=>{const[n,c]=j(),u=()=>n?.prod?.productImageUrl?pe()+he()+"/"+n?.prod?.productImageUrl:null;M(()=>{c("prod",e?.itm)}),Array.from(Array(10).keys());const g=async m=>{let i=q?.profile?.agencyStore?.id,r=n?.prod?.ssg_product_key,$=`${r} ${i}`,_=await _e($),s=0,l=0;z(_)?.map(h=>{_[h]?.products?.map(p=>{r===p?.product?.id&&(s+=p?.price*1*p?.qty*1,l+=p?.qty*1)})});let d=1,f={};I?.manifestObj?.products?.map(h=>{let p={...h};r===h.product.id&&(p.qty=p.qty*-1),f[h.product.id]=p}),f?.[r]&&(d=f?.[r].qty*1+1);const o=l?s/l:0;if(console.log(o,l,s),l&&l-d>=0){if(f?.[r])f[r].qty=d*-1;else{let p={product:{id:r,label:n?.prod?.name,code:n?.prod?.code},qty:d*-1,price:o,salePrice:n?.prod?.salePrice};f[r]=p}let h=be(f);B("manifestObj","products",h),e?.clearTx(),te({text:n?.prod?.name+" agregado al carrito",timeout:3500,theme:"blue",id:Z()})}else e?.clearTx(),te({text:"Sin Existencia",timeout:3500,theme:"red",id:Z()})};return(()=>{var m=Qe(),i=m.firstChild,r=i.firstChild,$=r.firstChild,_=$.firstChild,s=_.firstChild,l=_.nextSibling,d=l.firstChild,f=d.firstChild,o=f.firstChild;o.firstChild;var h=d.nextSibling,p=h.firstChild,x=p.nextSibling,C=x.firstChild;return C.firstChild,t(o,()=>e?.itm?.name,null),t(p,a(F,{color:"#646cff",label:"Agregar",handleClick:g})),t(C,()=>(e?.itm?.salePrice*1).toFixed(2),null),Y(()=>me(s,"src",u())),m})()},H=(e,n)=>n?(()=>{var c=Ge(),u=c.firstChild,g=u.nextSibling;return t(u," "+e),t(g,n),c})():"",fe=e=>(()=>{var n=Je();return t(n,()=>H("Calle",e?.ybstreet),null),t(n,()=>H("#",e?.ybstreetNo),null),t(n,()=>H("E/",e?.ybbetwen1),null),t(n,()=>H("y",e?.ybbetwen2),null),n})(),V=e=>e?e*1:0,E=e=>e?e.toString().toUpperCase().trim():"";Se(["click"]);export{$t as default,lt as fetchCSVInve,fe as getAddress,V as isValNum,vt as loadInventory,Ct as updConfirmSale};
