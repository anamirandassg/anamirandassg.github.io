const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-CCZARMkx.js","assets/index-BarDAHU6.js","assets/index-CKmXtXsd.css","assets/InputHr-BD6u0NXE.js","assets/InputHr-M3rJ9grQ.css"])))=>i.map(i=>d[i]);
import{l as P,_ as B,a as y,c as Q,f as J,p as K,q as U,b as ee,i as o,d as c,k as A,s as te,S as H,B as re,F as se,m as M,A as O,E as ne,e as ae,t as m,N as V,y as ie,g as x,G as oe,n as N}from"./index-BarDAHU6.js";import{scannedQRs as j}from"./Scanning-KQ45C82x.js";import le from"./FlexSpace-DmdG3UG5.js";var ce=m('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),de=m('<div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div class="icon_status centerBx"></div></div><div class=scrollH>'),ge=m("<div> <!>."),ue=m("<div> "),pe=m('<div><div><p></p><div class="centerBx bottombx"><h5></h5><div class=vertseparator></div><h4>');const be=P(()=>B(()=>import("./LoadingColorSpinner-CCZARMkx.js"),__vite__mapDeps([0,1,2]))),ye=P(()=>B(()=>import("./InputHr-BD6u0NXE.js"),__vite__mapDeps([3,1,2,4]))),z=P(()=>B(()=>import("./index-BarDAHU6.js").then(d=>d.a6),__vite__mapDeps([1,2])));function $e(d){const[g,$]=y([{estate:"Pinar del Rio",city:"Consolacion del Sur",tracking:"PRI4591-14431"}]),[R,u]=Q({}),[F,C]=y(""),[T,he]=y(""),[I,W]=y(""),[_e,D]=y(""),[k,q]=y("");J(()=>{console.log(j)}),K(()=>{}),U(()=>{});const f=(s,a)=>{W(a),D(s),setTimeout(()=>{D("")},300)},v=s=>{q(s),setTimeout(()=>{q("")},3e3)},X=s=>{if(s||(s=F()),s=s.split("'").join("-"),C(""),k())return;let a={timeStamp:new Date().getTime(),latitude:V?.latitude,longitude:V?.longitude,statusId:d?.status,userId:ie?.profile?.userId},t=s.split("/");s.split("-").length>3&&(t=s.split("-"));let e=t?.[0],p="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const r=new RegExp(p);let l=t.length>4&&e.length===12,i=e.length===13&&r.test(e),n={idairguide:t?.[0],":search0":t?.[1],":search1":t?.[3]};i&&(n={idairguide:"175-2383"+e.slice(3,7),":search0":e});let b="^[0-9]{4}-[1-9]{4}";const S=new RegExp(b);let h=e.length===9&&S.test(e);h&&(n={idairguide:"175-2383"+e.slice(0,4),":search0":e}),i||l||h?Y(n,a):(f("","error"),u({consigneeInfo:{ybestate:"Codigo Incorrecto"}}),v(x()))},Y=async(s,a)=>{let t=await fe(s),e=Object.keys(t)?.[0];if(t[e]?.cidentity){let p=t[e]?.statusHistory||[];p.push(a),s.ssg_track_key=e;let r=t[e]?.estate||t[e]?.consigneeInfo?.ybestate,l=t[e]?.city||t[e]?.consigneeInfo?.ybcity,i={estate:r,city:l,tracking:t[e]?.tracking,currentStatus:t[e]?.currentStatus};if(u(""),u(t[e]),v(x()),f("","success"),!oe?.roles?.[r])f("","warning"),u({consigneeInfo:{ybestate:"Zona incorrecta"}}),v(x());else if(t[e]?.currentStatus!==a.statusId){let n={statusHistory:p,currentStatus:a.statusId};await ve(s,n),$([...g(),i])}else f("","warning"),u({consigneeInfo:{ybcity:"Fue escaneado",ybestate:t[e]?.consigneeInfo?.ybestate}}),v(x())}else f("","error"),u({consigneeInfo:{ybestate:"Error con manifiesto"}}),v(x())};let E={error:{"--err-bx-color":"var(--background-red-ssg)","--err-bx-bgcolor":"var(--background-red35-ssg)",svg:"var(--err-bx-color)",icon:"alert"},success:{"--err-bx-color":"var(--hrm-palette-tertiary60)","--err-bx-bgcolor":"var(--hrm-palette-tertiary90)",svg:"var(--err-bx-color)",icon:"success"},warning:{"--err-bx-color":"#FF6F1D","--err-bx-bgcolor":"#ffdb99",svg:"var(--err-bx-color)",icon:"info"}};return ee(T,async s=>j?.codes),(()=>{var s=de(),a=s.firstChild,t=a.nextSibling,e=t.firstChild,p=t.nextSibling;return a.style.setProperty("padding","16px"),o(a,c(H,{get when(){return k()},get children(){var r=ce(),l=r.firstChild,i=l.nextSibling;return o(l,c(z,{get name(){return E?.[I()]?.icon},size:32,get color(){return E?.[I()]?.svg}})),o(i,()=>R?.consigneeInfo?.ybestate),A(n=>te(r,E?.[I()],n)),r}})),t.style.setProperty("padding","16px"),t.style.setProperty("margin-top","35px"),o(t,c(ye,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--hrm-palette-tertiary80)",get value(){return F()},placeholder:"codigo ...",colors:"#2b2b2b",handleClick:C,onEnter:X}),e),e.$$click=()=>C(""),o(e,c(z,{name:"Xclose",size:32,color:"#2b2b2b"})),o(p,c(ne,{fallback:r=>(()=>{var l=ge(),i=l.firstChild,n=i.nextSibling;return n.nextSibling,o(l,()=>r.toString(),n),l})(),get children(){return c(re,{get fallback(){return(()=>{var r=ue();return r.firstChild,o(r,c(be,{stroke:"rgb(200 25 60 / 1)",size:62}),null),r})()},get children(){return c(H,{get when(){return g()},get children(){return c(se,{get each(){return g()},children:(r,l)=>(console.log(r),(()=>{var i=pe(),n=i.firstChild,b=n.firstChild,S=b.nextSibling,h=S.firstChild,w=h.nextSibling,Z=w.nextSibling;return i.style.setProperty("padding","16px"),b.style.setProperty("padding","8px"),o(b,()=>r?.tracking),o(n,c(le,{}),S),o(h,()=>r?.city),o(Z,()=>r?.estate),A(_=>{var L=`client_item_box gWXAaj jlytmu manifest  ${M()?"isMobile":"centerBx"}`,G=` title_scan centerBx ${M(),""} `;return L!==_.e&&O(n,_.e=L),G!==_.t&&O(b,_.t=G),_},{e:void 0,t:void 0}),i})())})}})}})}})),A(r=>(r=k()?"block":"none")!=null?a.style.setProperty("display",r):a.style.removeProperty("display")),s})()}const fe=async d=>await N({params:d,query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2"}),ve=async(d,g)=>await N({params:d,query:"updateLogisticYabaExpress",data2update:g});ae(["click"]);export{$e as default};
