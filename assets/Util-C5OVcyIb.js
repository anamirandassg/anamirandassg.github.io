var Q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ji(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Pn={exports:{}};function Ni(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var St={exports:{}};const $i={},zi=Object.freeze(Object.defineProperty({__proto__:null,default:$i},Symbol.toStringTag,{value:"Module"})),Mi=ji(zi);var y0;function Z(){return y0||(y0=1,function(e,t){(function(r,n){e.exports=n()})(Q,function(){var r=r||function(n,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Q<"u"&&Q.crypto&&(s=Q.crypto),!s&&typeof Ni=="function")try{s=Mi}catch{}var u=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},h=Object.create||function(){function c(){}return function(a){var o;return c.prototype=a,o=new c,c.prototype=null,o}}(),d={},l=d.lib={},_=l.Base=function(){return{extend:function(c){var a=h(this);return c&&a.mixIn(c),(!a.hasOwnProperty("init")||this.init===a.init)&&(a.init=function(){a.$super.init.apply(this,arguments)}),a.init.prototype=a,a.$super=this,a},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var a in c)c.hasOwnProperty(a)&&(this[a]=c[a]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=_.extend({init:function(c,a){c=this.words=c||[],a!=i?this.sigBytes=a:this.sigBytes=c.length*4},toString:function(c){return(c||m).stringify(this)},concat:function(c){var a=this.words,o=c.words,p=this.sigBytes,g=c.sigBytes;if(this.clamp(),p%4)for(var C=0;C<g;C++){var b=o[C>>>2]>>>24-C%4*8&255;a[p+C>>>2]|=b<<24-(p+C)%4*8}else for(var S=0;S<g;S+=4)a[p+S>>>2]=o[S>>>2];return this.sigBytes+=g,this},clamp:function(){var c=this.words,a=this.sigBytes;c[a>>>2]&=4294967295<<32-a%4*8,c.length=n.ceil(a/4)},clone:function(){var c=_.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var a=[],o=0;o<c;o+=4)a.push(u());return new f.init(a,c)}}),x=d.enc={},m=x.Hex={stringify:function(c){for(var a=c.words,o=c.sigBytes,p=[],g=0;g<o;g++){var C=a[g>>>2]>>>24-g%4*8&255;p.push((C>>>4).toString(16)),p.push((C&15).toString(16))}return p.join("")},parse:function(c){for(var a=c.length,o=[],p=0;p<a;p+=2)o[p>>>3]|=parseInt(c.substr(p,2),16)<<24-p%8*4;return new f.init(o,a/2)}},A=x.Latin1={stringify:function(c){for(var a=c.words,o=c.sigBytes,p=[],g=0;g<o;g++){var C=a[g>>>2]>>>24-g%4*8&255;p.push(String.fromCharCode(C))}return p.join("")},parse:function(c){for(var a=c.length,o=[],p=0;p<a;p++)o[p>>>2]|=(c.charCodeAt(p)&255)<<24-p%4*8;return new f.init(o,a)}},B=x.Utf8={stringify:function(c){try{return decodeURIComponent(escape(A.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return A.parse(unescape(encodeURIComponent(c)))}},y=l.BufferedBlockAlgorithm=_.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(c){typeof c=="string"&&(c=B.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var a,o=this._data,p=o.words,g=o.sigBytes,C=this.blockSize,b=C*4,S=g/b;c?S=n.ceil(S):S=n.max((S|0)-this._minBufferSize,0);var D=S*C,F=n.min(D*4,g);if(D){for(var I=0;I<D;I+=C)this._doProcessBlock(p,I);a=p.splice(0,D),o.sigBytes-=F}return new f.init(a,F)},clone:function(){var c=_.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0});l.Hasher=y.extend({cfg:_.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){y.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){c&&this._append(c);var a=this._doFinalize();return a},blockSize:16,_createHelper:function(c){return function(a,o){return new c.init(o).finalize(a)}},_createHmacHelper:function(c){return function(a,o){return new v.HMAC.init(c,o).finalize(a)}}});var v=d.algo={};return d}(Math);return r})}(St)),St.exports}var kt={exports:{}},m0;function Ct(){return m0||(m0=1,function(e,t){(function(r,n){e.exports=n(Z())})(Q,function(r){return function(n){var i=r,s=i.lib,u=s.Base,h=s.WordArray,d=i.x64={};d.Word=u.extend({init:function(l,_){this.high=l,this.low=_}}),d.WordArray=u.extend({init:function(l,_){l=this.words=l||[],_!=n?this.sigBytes=_:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,_=l.length,f=[],x=0;x<_;x++){var m=l[x];f.push(m.high),f.push(m.low)}return h.create(f,this.sigBytes)},clone:function(){for(var l=u.clone.call(this),_=l.words=this.words.slice(0),f=_.length,x=0;x<f;x++)_[x]=_[x].clone();return l}})}(),r})}(kt)),kt.exports}var qt={exports:{}},A0;function Ki(){return A0||(A0=1,function(e,t){(function(r,n){e.exports=n(Z())})(Q,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,s=i.WordArray,u=s.init,h=s.init=function(d){if(d instanceof ArrayBuffer&&(d=new Uint8Array(d)),(d instanceof Int8Array||typeof Uint8ClampedArray<"u"&&d instanceof Uint8ClampedArray||d instanceof Int16Array||d instanceof Uint16Array||d instanceof Int32Array||d instanceof Uint32Array||d instanceof Float32Array||d instanceof Float64Array)&&(d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength)),d instanceof Uint8Array){for(var l=d.byteLength,_=[],f=0;f<l;f++)_[f>>>2]|=d[f]<<24-f%4*8;u.call(this,_,l)}else u.apply(this,arguments)};h.prototype=s}}(),r.lib.WordArray})}(qt)),qt.exports}var Ot={exports:{}},B0;function Ui(){return B0||(B0=1,function(e,t){(function(r,n){e.exports=n(Z())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,u=n.enc;u.Utf16=u.Utf16BE={stringify:function(d){for(var l=d.words,_=d.sigBytes,f=[],x=0;x<_;x+=2){var m=l[x>>>2]>>>16-x%4*8&65535;f.push(String.fromCharCode(m))}return f.join("")},parse:function(d){for(var l=d.length,_=[],f=0;f<l;f++)_[f>>>1]|=d.charCodeAt(f)<<16-f%2*16;return s.create(_,l*2)}},u.Utf16LE={stringify:function(d){for(var l=d.words,_=d.sigBytes,f=[],x=0;x<_;x+=2){var m=h(l[x>>>2]>>>16-x%4*8&65535);f.push(String.fromCharCode(m))}return f.join("")},parse:function(d){for(var l=d.length,_=[],f=0;f<l;f++)_[f>>>1]|=h(d.charCodeAt(f)<<16-f%2*16);return s.create(_,l*2)}};function h(d){return d<<8&4278255360|d>>>8&16711935}}(),r.enc.Utf16})}(Ot)),Ot.exports}var Rt={exports:{}},C0;function Ge(){return C0||(C0=1,function(e,t){(function(r,n){e.exports=n(Z())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,u=n.enc;u.Base64={stringify:function(d){var l=d.words,_=d.sigBytes,f=this._map;d.clamp();for(var x=[],m=0;m<_;m+=3)for(var A=l[m>>>2]>>>24-m%4*8&255,B=l[m+1>>>2]>>>24-(m+1)%4*8&255,y=l[m+2>>>2]>>>24-(m+2)%4*8&255,v=A<<16|B<<8|y,c=0;c<4&&m+c*.75<_;c++)x.push(f.charAt(v>>>6*(3-c)&63));var a=f.charAt(64);if(a)for(;x.length%4;)x.push(a);return x.join("")},parse:function(d){var l=d.length,_=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var x=0;x<_.length;x++)f[_.charCodeAt(x)]=x}var m=_.charAt(64);if(m){var A=d.indexOf(m);A!==-1&&(l=A)}return h(d,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function h(d,l,_){for(var f=[],x=0,m=0;m<l;m++)if(m%4){var A=_[d.charCodeAt(m-1)]<<m%4*2,B=_[d.charCodeAt(m)]>>>6-m%4*2,y=A|B;f[x>>>2]|=y<<24-x%4*8,x++}return s.create(f,x)}}(),r.enc.Base64})}(Rt)),Rt.exports}var Pt={exports:{}},E0;function Wi(){return E0||(E0=1,function(e,t){(function(r,n){e.exports=n(Z())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,u=n.enc;u.Base64url={stringify:function(d,l){l===void 0&&(l=!0);var _=d.words,f=d.sigBytes,x=l?this._safe_map:this._map;d.clamp();for(var m=[],A=0;A<f;A+=3)for(var B=_[A>>>2]>>>24-A%4*8&255,y=_[A+1>>>2]>>>24-(A+1)%4*8&255,v=_[A+2>>>2]>>>24-(A+2)%4*8&255,c=B<<16|y<<8|v,a=0;a<4&&A+a*.75<f;a++)m.push(x.charAt(c>>>6*(3-a)&63));var o=x.charAt(64);if(o)for(;m.length%4;)m.push(o);return m.join("")},parse:function(d,l){l===void 0&&(l=!0);var _=d.length,f=l?this._safe_map:this._map,x=this._reverseMap;if(!x){x=this._reverseMap=[];for(var m=0;m<f.length;m++)x[f.charCodeAt(m)]=m}var A=f.charAt(64);if(A){var B=d.indexOf(A);B!==-1&&(_=B)}return h(d,_,x)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function h(d,l,_){for(var f=[],x=0,m=0;m<l;m++)if(m%4){var A=_[d.charCodeAt(m-1)]<<m%4*2,B=_[d.charCodeAt(m)]>>>6-m%4*2,y=A|B;f[x>>>2]|=y<<24-x%4*8,x++}return s.create(f,x)}}(),r.enc.Base64url})}(Pt)),Pt.exports}var Tt={exports:{}},D0;function Ye(){return D0||(D0=1,function(e,t){(function(r,n){e.exports=n(Z())})(Q,function(r){return function(n){var i=r,s=i.lib,u=s.WordArray,h=s.Hasher,d=i.algo,l=[];(function(){for(var B=0;B<64;B++)l[B]=n.abs(n.sin(B+1))*4294967296|0})();var _=d.MD5=h.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(B,y){for(var v=0;v<16;v++){var c=y+v,a=B[c];B[c]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360}var o=this._hash.words,p=B[y+0],g=B[y+1],C=B[y+2],b=B[y+3],S=B[y+4],D=B[y+5],F=B[y+6],I=B[y+7],O=B[y+8],j=B[y+9],z=B[y+10],M=B[y+11],U=B[y+12],w=B[y+13],q=B[y+14],L=B[y+15],E=o[0],k=o[1],P=o[2],T=o[3];E=f(E,k,P,T,p,7,l[0]),T=f(T,E,k,P,g,12,l[1]),P=f(P,T,E,k,C,17,l[2]),k=f(k,P,T,E,b,22,l[3]),E=f(E,k,P,T,S,7,l[4]),T=f(T,E,k,P,D,12,l[5]),P=f(P,T,E,k,F,17,l[6]),k=f(k,P,T,E,I,22,l[7]),E=f(E,k,P,T,O,7,l[8]),T=f(T,E,k,P,j,12,l[9]),P=f(P,T,E,k,z,17,l[10]),k=f(k,P,T,E,M,22,l[11]),E=f(E,k,P,T,U,7,l[12]),T=f(T,E,k,P,w,12,l[13]),P=f(P,T,E,k,q,17,l[14]),k=f(k,P,T,E,L,22,l[15]),E=x(E,k,P,T,g,5,l[16]),T=x(T,E,k,P,F,9,l[17]),P=x(P,T,E,k,M,14,l[18]),k=x(k,P,T,E,p,20,l[19]),E=x(E,k,P,T,D,5,l[20]),T=x(T,E,k,P,z,9,l[21]),P=x(P,T,E,k,L,14,l[22]),k=x(k,P,T,E,S,20,l[23]),E=x(E,k,P,T,j,5,l[24]),T=x(T,E,k,P,q,9,l[25]),P=x(P,T,E,k,b,14,l[26]),k=x(k,P,T,E,O,20,l[27]),E=x(E,k,P,T,w,5,l[28]),T=x(T,E,k,P,C,9,l[29]),P=x(P,T,E,k,I,14,l[30]),k=x(k,P,T,E,U,20,l[31]),E=m(E,k,P,T,D,4,l[32]),T=m(T,E,k,P,O,11,l[33]),P=m(P,T,E,k,M,16,l[34]),k=m(k,P,T,E,q,23,l[35]),E=m(E,k,P,T,g,4,l[36]),T=m(T,E,k,P,S,11,l[37]),P=m(P,T,E,k,I,16,l[38]),k=m(k,P,T,E,z,23,l[39]),E=m(E,k,P,T,w,4,l[40]),T=m(T,E,k,P,p,11,l[41]),P=m(P,T,E,k,b,16,l[42]),k=m(k,P,T,E,F,23,l[43]),E=m(E,k,P,T,j,4,l[44]),T=m(T,E,k,P,U,11,l[45]),P=m(P,T,E,k,L,16,l[46]),k=m(k,P,T,E,C,23,l[47]),E=A(E,k,P,T,p,6,l[48]),T=A(T,E,k,P,I,10,l[49]),P=A(P,T,E,k,q,15,l[50]),k=A(k,P,T,E,D,21,l[51]),E=A(E,k,P,T,U,6,l[52]),T=A(T,E,k,P,b,10,l[53]),P=A(P,T,E,k,z,15,l[54]),k=A(k,P,T,E,g,21,l[55]),E=A(E,k,P,T,O,6,l[56]),T=A(T,E,k,P,L,10,l[57]),P=A(P,T,E,k,F,15,l[58]),k=A(k,P,T,E,w,21,l[59]),E=A(E,k,P,T,S,6,l[60]),T=A(T,E,k,P,M,10,l[61]),P=A(P,T,E,k,C,15,l[62]),k=A(k,P,T,E,j,21,l[63]),o[0]=o[0]+E|0,o[1]=o[1]+k|0,o[2]=o[2]+P|0,o[3]=o[3]+T|0},_doFinalize:function(){var B=this._data,y=B.words,v=this._nDataBytes*8,c=B.sigBytes*8;y[c>>>5]|=128<<24-c%32;var a=n.floor(v/4294967296),o=v;y[(c+64>>>9<<4)+15]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360,y[(c+64>>>9<<4)+14]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,B.sigBytes=(y.length+1)*4,this._process();for(var p=this._hash,g=p.words,C=0;C<4;C++){var b=g[C];g[C]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}return p},clone:function(){var B=h.clone.call(this);return B._hash=this._hash.clone(),B}});function f(B,y,v,c,a,o,p){var g=B+(y&v|~y&c)+a+p;return(g<<o|g>>>32-o)+y}function x(B,y,v,c,a,o,p){var g=B+(y&c|v&~c)+a+p;return(g<<o|g>>>32-o)+y}function m(B,y,v,c,a,o,p){var g=B+(y^v^c)+a+p;return(g<<o|g>>>32-o)+y}function A(B,y,v,c,a,o,p){var g=B+(v^(y|~c))+a+p;return(g<<o|g>>>32-o)+y}i.MD5=h._createHelper(_),i.HmacMD5=h._createHmacHelper(_)}(Math),r.MD5})}(Tt)),Tt.exports}var It={exports:{}},b0;function Tn(){return b0||(b0=1,function(e,t){(function(r,n){e.exports=n(Z())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,u=i.Hasher,h=n.algo,d=[],l=h.SHA1=u.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(_,f){for(var x=this._hash.words,m=x[0],A=x[1],B=x[2],y=x[3],v=x[4],c=0;c<80;c++){if(c<16)d[c]=_[f+c]|0;else{var a=d[c-3]^d[c-8]^d[c-14]^d[c-16];d[c]=a<<1|a>>>31}var o=(m<<5|m>>>27)+v+d[c];c<20?o+=(A&B|~A&y)+1518500249:c<40?o+=(A^B^y)+1859775393:c<60?o+=(A&B|A&y|B&y)-1894007588:o+=(A^B^y)-899497514,v=y,y=B,B=A<<30|A>>>2,A=m,m=o}x[0]=x[0]+m|0,x[1]=x[1]+A|0,x[2]=x[2]+B|0,x[3]=x[3]+y|0,x[4]=x[4]+v|0},_doFinalize:function(){var _=this._data,f=_.words,x=this._nDataBytes*8,m=_.sigBytes*8;return f[m>>>5]|=128<<24-m%32,f[(m+64>>>9<<4)+14]=Math.floor(x/4294967296),f[(m+64>>>9<<4)+15]=x,_.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var _=u.clone.call(this);return _._hash=this._hash.clone(),_}});n.SHA1=u._createHelper(l),n.HmacSHA1=u._createHmacHelper(l)}(),r.SHA1})}(It)),It.exports}var Lt={exports:{}},w0;function Kr(){return w0||(w0=1,function(e,t){(function(r,n){e.exports=n(Z())})(Q,function(r){return function(n){var i=r,s=i.lib,u=s.WordArray,h=s.Hasher,d=i.algo,l=[],_=[];(function(){function m(v){for(var c=n.sqrt(v),a=2;a<=c;a++)if(!(v%a))return!1;return!0}function A(v){return(v-(v|0))*4294967296|0}for(var B=2,y=0;y<64;)m(B)&&(y<8&&(l[y]=A(n.pow(B,1/2))),_[y]=A(n.pow(B,1/3)),y++),B++})();var f=[],x=d.SHA256=h.extend({_doReset:function(){this._hash=new u.init(l.slice(0))},_doProcessBlock:function(m,A){for(var B=this._hash.words,y=B[0],v=B[1],c=B[2],a=B[3],o=B[4],p=B[5],g=B[6],C=B[7],b=0;b<64;b++){if(b<16)f[b]=m[A+b]|0;else{var S=f[b-15],D=(S<<25|S>>>7)^(S<<14|S>>>18)^S>>>3,F=f[b-2],I=(F<<15|F>>>17)^(F<<13|F>>>19)^F>>>10;f[b]=D+f[b-7]+I+f[b-16]}var O=o&p^~o&g,j=y&v^y&c^v&c,z=(y<<30|y>>>2)^(y<<19|y>>>13)^(y<<10|y>>>22),M=(o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25),U=C+M+O+_[b]+f[b],w=z+j;C=g,g=p,p=o,o=a+U|0,a=c,c=v,v=y,y=U+w|0}B[0]=B[0]+y|0,B[1]=B[1]+v|0,B[2]=B[2]+c|0,B[3]=B[3]+a|0,B[4]=B[4]+o|0,B[5]=B[5]+p|0,B[6]=B[6]+g|0,B[7]=B[7]+C|0},_doFinalize:function(){var m=this._data,A=m.words,B=this._nDataBytes*8,y=m.sigBytes*8;return A[y>>>5]|=128<<24-y%32,A[(y+64>>>9<<4)+14]=n.floor(B/4294967296),A[(y+64>>>9<<4)+15]=B,m.sigBytes=A.length*4,this._process(),this._hash},clone:function(){var m=h.clone.call(this);return m._hash=this._hash.clone(),m}});i.SHA256=h._createHelper(x),i.HmacSHA256=h._createHmacHelper(x)}(Math),r.SHA256})}(Lt)),Lt.exports}var Ht={exports:{}},F0;function Gi(){return F0||(F0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Kr())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,u=n.algo,h=u.SHA256,d=u.SHA224=h.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=h._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=h._createHelper(d),n.HmacSHA224=h._createHmacHelper(d)}(),r.SHA224})}(Ht)),Ht.exports}var jt={exports:{}},S0;function In(){return S0||(S0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Ct())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.Hasher,u=n.x64,h=u.Word,d=u.WordArray,l=n.algo;function _(){return h.create.apply(h,arguments)}var f=[_(1116352408,3609767458),_(1899447441,602891725),_(3049323471,3964484399),_(3921009573,2173295548),_(961987163,4081628472),_(1508970993,3053834265),_(2453635748,2937671579),_(2870763221,3664609560),_(3624381080,2734883394),_(310598401,1164996542),_(607225278,1323610764),_(1426881987,3590304994),_(1925078388,4068182383),_(2162078206,991336113),_(2614888103,633803317),_(3248222580,3479774868),_(3835390401,2666613458),_(4022224774,944711139),_(264347078,2341262773),_(604807628,2007800933),_(770255983,1495990901),_(1249150122,1856431235),_(1555081692,3175218132),_(1996064986,2198950837),_(2554220882,3999719339),_(2821834349,766784016),_(2952996808,2566594879),_(3210313671,3203337956),_(3336571891,1034457026),_(3584528711,2466948901),_(113926993,3758326383),_(338241895,168717936),_(666307205,1188179964),_(773529912,1546045734),_(1294757372,1522805485),_(1396182291,2643833823),_(1695183700,2343527390),_(1986661051,1014477480),_(2177026350,1206759142),_(2456956037,344077627),_(2730485921,1290863460),_(2820302411,3158454273),_(3259730800,3505952657),_(3345764771,106217008),_(3516065817,3606008344),_(3600352804,1432725776),_(4094571909,1467031594),_(275423344,851169720),_(430227734,3100823752),_(506948616,1363258195),_(659060556,3750685593),_(883997877,3785050280),_(958139571,3318307427),_(1322822218,3812723403),_(1537002063,2003034995),_(1747873779,3602036899),_(1955562222,1575990012),_(2024104815,1125592928),_(2227730452,2716904306),_(2361852424,442776044),_(2428436474,593698344),_(2756734187,3733110249),_(3204031479,2999351573),_(3329325298,3815920427),_(3391569614,3928383900),_(3515267271,566280711),_(3940187606,3454069534),_(4118630271,4000239992),_(116418474,1914138554),_(174292421,2731055270),_(289380356,3203993006),_(460393269,320620315),_(685471733,587496836),_(852142971,1086792851),_(1017036298,365543100),_(1126000580,2618297676),_(1288033470,3409855158),_(1501505948,4234509866),_(1607167915,987167468),_(1816402316,1246189591)],x=[];(function(){for(var A=0;A<80;A++)x[A]=_()})();var m=l.SHA512=s.extend({_doReset:function(){this._hash=new d.init([new h.init(1779033703,4089235720),new h.init(3144134277,2227873595),new h.init(1013904242,4271175723),new h.init(2773480762,1595750129),new h.init(1359893119,2917565137),new h.init(2600822924,725511199),new h.init(528734635,4215389547),new h.init(1541459225,327033209)])},_doProcessBlock:function(A,B){for(var y=this._hash.words,v=y[0],c=y[1],a=y[2],o=y[3],p=y[4],g=y[5],C=y[6],b=y[7],S=v.high,D=v.low,F=c.high,I=c.low,O=a.high,j=a.low,z=o.high,M=o.low,U=p.high,w=p.low,q=g.high,L=g.low,E=C.high,k=C.low,P=b.high,T=b.low,$=S,R=D,H=F,N=I,K=O,W=j,ee=z,ne=M,te=U,ie=w,_e=q,X=L,J=E,V=k,ge=P,le=T,re=0;re<80;re++){var pe,me,xt=x[re];if(re<16)me=xt.high=A[B+re*2]|0,pe=xt.low=A[B+re*2+1]|0;else{var o0=x[re-15],Qe=o0.high,nt=o0.low,bi=(Qe>>>1|nt<<31)^(Qe>>>8|nt<<24)^Qe>>>7,c0=(nt>>>1|Qe<<31)^(nt>>>8|Qe<<24)^(nt>>>7|Qe<<25),u0=x[re-2],Xe=u0.high,it=u0.low,wi=(Xe>>>19|it<<13)^(Xe<<3|it>>>29)^Xe>>>6,f0=(it>>>19|Xe<<13)^(it<<3|Xe>>>29)^(it>>>6|Xe<<26),l0=x[re-7],Fi=l0.high,Si=l0.low,x0=x[re-16],ki=x0.high,d0=x0.low;pe=c0+Si,me=bi+Fi+(pe>>>0<c0>>>0?1:0),pe=pe+f0,me=me+wi+(pe>>>0<f0>>>0?1:0),pe=pe+d0,me=me+ki+(pe>>>0<d0>>>0?1:0),xt.high=me,xt.low=pe}var qi=te&_e^~te&J,h0=ie&X^~ie&V,Oi=$&H^$&K^H&K,Ri=R&N^R&W^N&W,Pi=($>>>28|R<<4)^($<<30|R>>>2)^($<<25|R>>>7),v0=(R>>>28|$<<4)^(R<<30|$>>>2)^(R<<25|$>>>7),Ti=(te>>>14|ie<<18)^(te>>>18|ie<<14)^(te<<23|ie>>>9),Ii=(ie>>>14|te<<18)^(ie>>>18|te<<14)^(ie<<23|te>>>9),p0=f[re],Li=p0.high,_0=p0.low,Ae=le+Ii,Ie=ge+Ti+(Ae>>>0<le>>>0?1:0),Ae=Ae+h0,Ie=Ie+qi+(Ae>>>0<h0>>>0?1:0),Ae=Ae+_0,Ie=Ie+Li+(Ae>>>0<_0>>>0?1:0),Ae=Ae+pe,Ie=Ie+me+(Ae>>>0<pe>>>0?1:0),g0=v0+Ri,Hi=Pi+Oi+(g0>>>0<v0>>>0?1:0);ge=J,le=V,J=_e,V=X,_e=te,X=ie,ie=ne+Ae|0,te=ee+Ie+(ie>>>0<ne>>>0?1:0)|0,ee=K,ne=W,K=H,W=N,H=$,N=R,R=Ae+g0|0,$=Ie+Hi+(R>>>0<Ae>>>0?1:0)|0}D=v.low=D+R,v.high=S+$+(D>>>0<R>>>0?1:0),I=c.low=I+N,c.high=F+H+(I>>>0<N>>>0?1:0),j=a.low=j+W,a.high=O+K+(j>>>0<W>>>0?1:0),M=o.low=M+ne,o.high=z+ee+(M>>>0<ne>>>0?1:0),w=p.low=w+ie,p.high=U+te+(w>>>0<ie>>>0?1:0),L=g.low=L+X,g.high=q+_e+(L>>>0<X>>>0?1:0),k=C.low=k+V,C.high=E+J+(k>>>0<V>>>0?1:0),T=b.low=T+le,b.high=P+ge+(T>>>0<le>>>0?1:0)},_doFinalize:function(){var A=this._data,B=A.words,y=this._nDataBytes*8,v=A.sigBytes*8;B[v>>>5]|=128<<24-v%32,B[(v+128>>>10<<5)+30]=Math.floor(y/4294967296),B[(v+128>>>10<<5)+31]=y,A.sigBytes=B.length*4,this._process();var c=this._hash.toX32();return c},clone:function(){var A=s.clone.call(this);return A._hash=this._hash.clone(),A},blockSize:1024/32});n.SHA512=s._createHelper(m),n.HmacSHA512=s._createHmacHelper(m)}(),r.SHA512})}(jt)),jt.exports}var Nt={exports:{}},k0;function Yi(){return k0||(k0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Ct(),In())})(Q,function(r){return function(){var n=r,i=n.x64,s=i.Word,u=i.WordArray,h=n.algo,d=h.SHA512,l=h.SHA384=d.extend({_doReset:function(){this._hash=new u.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var _=d._doFinalize.call(this);return _.sigBytes-=16,_}});n.SHA384=d._createHelper(l),n.HmacSHA384=d._createHmacHelper(l)}(),r.SHA384})}(Nt)),Nt.exports}var $t={exports:{}},q0;function Qi(){return q0||(q0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Ct())})(Q,function(r){return function(n){var i=r,s=i.lib,u=s.WordArray,h=s.Hasher,d=i.x64,l=d.Word,_=i.algo,f=[],x=[],m=[];(function(){for(var y=1,v=0,c=0;c<24;c++){f[y+5*v]=(c+1)*(c+2)/2%64;var a=v%5,o=(2*y+3*v)%5;y=a,v=o}for(var y=0;y<5;y++)for(var v=0;v<5;v++)x[y+5*v]=v+(2*y+3*v)%5*5;for(var p=1,g=0;g<24;g++){for(var C=0,b=0,S=0;S<7;S++){if(p&1){var D=(1<<S)-1;D<32?b^=1<<D:C^=1<<D-32}p&128?p=p<<1^113:p<<=1}m[g]=l.create(C,b)}})();var A=[];(function(){for(var y=0;y<25;y++)A[y]=l.create()})();var B=_.SHA3=h.extend({cfg:h.cfg.extend({outputLength:512}),_doReset:function(){for(var y=this._state=[],v=0;v<25;v++)y[v]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(y,v){for(var c=this._state,a=this.blockSize/2,o=0;o<a;o++){var p=y[v+2*o],g=y[v+2*o+1];p=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,g=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360;var C=c[o];C.high^=g,C.low^=p}for(var b=0;b<24;b++){for(var S=0;S<5;S++){for(var D=0,F=0,I=0;I<5;I++){var C=c[S+5*I];D^=C.high,F^=C.low}var O=A[S];O.high=D,O.low=F}for(var S=0;S<5;S++)for(var j=A[(S+4)%5],z=A[(S+1)%5],M=z.high,U=z.low,D=j.high^(M<<1|U>>>31),F=j.low^(U<<1|M>>>31),I=0;I<5;I++){var C=c[S+5*I];C.high^=D,C.low^=F}for(var w=1;w<25;w++){var D,F,C=c[w],q=C.high,L=C.low,E=f[w];E<32?(D=q<<E|L>>>32-E,F=L<<E|q>>>32-E):(D=L<<E-32|q>>>64-E,F=q<<E-32|L>>>64-E);var k=A[x[w]];k.high=D,k.low=F}var P=A[0],T=c[0];P.high=T.high,P.low=T.low;for(var S=0;S<5;S++)for(var I=0;I<5;I++){var w=S+5*I,C=c[w],$=A[w],R=A[(S+1)%5+5*I],H=A[(S+2)%5+5*I];C.high=$.high^~R.high&H.high,C.low=$.low^~R.low&H.low}var C=c[0],N=m[b];C.high^=N.high,C.low^=N.low}},_doFinalize:function(){var y=this._data,v=y.words;this._nDataBytes*8;var c=y.sigBytes*8,a=this.blockSize*32;v[c>>>5]|=1<<24-c%32,v[(n.ceil((c+1)/a)*a>>>5)-1]|=128,y.sigBytes=v.length*4,this._process();for(var o=this._state,p=this.cfg.outputLength/8,g=p/8,C=[],b=0;b<g;b++){var S=o[b],D=S.high,F=S.low;D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,F=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,C.push(F),C.push(D)}return new u.init(C,p)},clone:function(){for(var y=h.clone.call(this),v=y._state=this._state.slice(0),c=0;c<25;c++)v[c]=v[c].clone();return y}});i.SHA3=h._createHelper(B),i.HmacSHA3=h._createHmacHelper(B)}(Math),r.SHA3})}($t)),$t.exports}var zt={exports:{}},O0;function Xi(){return O0||(O0=1,function(e,t){(function(r,n){e.exports=n(Z())})(Q,function(r){/** @preserve
			(c) 2012 by CÃ©dric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,s=i.lib,u=s.WordArray,h=s.Hasher,d=i.algo,l=u.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),_=u.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=u.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),x=u.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=u.create([0,1518500249,1859775393,2400959708,2840853838]),A=u.create([1352829926,1548603684,1836072691,2053994217,0]),B=d.RIPEMD160=h.extend({_doReset:function(){this._hash=u.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(g,C){for(var b=0;b<16;b++){var S=C+b,D=g[S];g[S]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var F=this._hash.words,I=m.words,O=A.words,j=l.words,z=_.words,M=f.words,U=x.words,w,q,L,E,k,P,T,$,R,H;P=w=F[0],T=q=F[1],$=L=F[2],R=E=F[3],H=k=F[4];for(var N,b=0;b<80;b+=1)N=w+g[C+j[b]]|0,b<16?N+=y(q,L,E)+I[0]:b<32?N+=v(q,L,E)+I[1]:b<48?N+=c(q,L,E)+I[2]:b<64?N+=a(q,L,E)+I[3]:N+=o(q,L,E)+I[4],N=N|0,N=p(N,M[b]),N=N+k|0,w=k,k=E,E=p(L,10),L=q,q=N,N=P+g[C+z[b]]|0,b<16?N+=o(T,$,R)+O[0]:b<32?N+=a(T,$,R)+O[1]:b<48?N+=c(T,$,R)+O[2]:b<64?N+=v(T,$,R)+O[3]:N+=y(T,$,R)+O[4],N=N|0,N=p(N,U[b]),N=N+H|0,P=H,H=R,R=p($,10),$=T,T=N;N=F[1]+L+R|0,F[1]=F[2]+E+H|0,F[2]=F[3]+k+P|0,F[3]=F[4]+w+T|0,F[4]=F[0]+q+$|0,F[0]=N},_doFinalize:function(){var g=this._data,C=g.words,b=this._nDataBytes*8,S=g.sigBytes*8;C[S>>>5]|=128<<24-S%32,C[(S+64>>>9<<4)+14]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,g.sigBytes=(C.length+1)*4,this._process();for(var D=this._hash,F=D.words,I=0;I<5;I++){var O=F[I];F[I]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return D},clone:function(){var g=h.clone.call(this);return g._hash=this._hash.clone(),g}});function y(g,C,b){return g^C^b}function v(g,C,b){return g&C|~g&b}function c(g,C,b){return(g|~C)^b}function a(g,C,b){return g&b|C&~b}function o(g,C,b){return g^(C|~b)}function p(g,C){return g<<C|g>>>32-C}i.RIPEMD160=h._createHelper(B),i.HmacRIPEMD160=h._createHmacHelper(B)}(),r.RIPEMD160})}(zt)),zt.exports}var Mt={exports:{}},R0;function Ur(){return R0||(R0=1,function(e,t){(function(r,n){e.exports=n(Z())})(Q,function(r){(function(){var n=r,i=n.lib,s=i.Base,u=n.enc,h=u.Utf8,d=n.algo;d.HMAC=s.extend({init:function(l,_){l=this._hasher=new l.init,typeof _=="string"&&(_=h.parse(_));var f=l.blockSize,x=f*4;_.sigBytes>x&&(_=l.finalize(_)),_.clamp();for(var m=this._oKey=_.clone(),A=this._iKey=_.clone(),B=m.words,y=A.words,v=0;v<f;v++)B[v]^=1549556828,y[v]^=909522486;m.sigBytes=A.sigBytes=x,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var _=this._hasher,f=_.finalize(l);_.reset();var x=_.finalize(this._oKey.clone().concat(f));return x}})})()})}(Mt)),Mt.exports}var Kt={exports:{}},P0;function Ji(){return P0||(P0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Kr(),Ur())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.Base,u=i.WordArray,h=n.algo,d=h.SHA256,l=h.HMAC,_=h.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:d,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,x){for(var m=this.cfg,A=l.create(m.hasher,f),B=u.create(),y=u.create([1]),v=B.words,c=y.words,a=m.keySize,o=m.iterations;v.length<a;){var p=A.update(x).finalize(y);A.reset();for(var g=p.words,C=g.length,b=p,S=1;S<o;S++){b=A.finalize(b),A.reset();for(var D=b.words,F=0;F<C;F++)g[F]^=D[F]}B.concat(p),c[0]++}return B.sigBytes=a*4,B}});n.PBKDF2=function(f,x,m){return _.create(m).compute(f,x)}}(),r.PBKDF2})}(Kt)),Kt.exports}var Ut={exports:{}},T0;function Le(){return T0||(T0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Tn(),Ur())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.Base,u=i.WordArray,h=n.algo,d=h.MD5,l=h.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:d,iterations:1}),init:function(_){this.cfg=this.cfg.extend(_)},compute:function(_,f){for(var x,m=this.cfg,A=m.hasher.create(),B=u.create(),y=B.words,v=m.keySize,c=m.iterations;y.length<v;){x&&A.update(x),x=A.update(_).finalize(f),A.reset();for(var a=1;a<c;a++)x=A.finalize(x),A.reset();B.concat(x)}return B.sigBytes=v*4,B}});n.EvpKDF=function(_,f,x){return l.create(x).compute(_,f)}}(),r.EvpKDF})}(Ut)),Ut.exports}var Wt={exports:{}},I0;function de(){return I0||(I0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Le())})(Q,function(r){r.lib.Cipher||function(n){var i=r,s=i.lib,u=s.Base,h=s.WordArray,d=s.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var _=l.Base64,f=i.algo,x=f.EvpKDF,m=s.Cipher=d.extend({cfg:u.extend(),createEncryptor:function(D,F){return this.create(this._ENC_XFORM_MODE,D,F)},createDecryptor:function(D,F){return this.create(this._DEC_XFORM_MODE,D,F)},init:function(D,F,I){this.cfg=this.cfg.extend(I),this._xformMode=D,this._key=F,this.reset()},reset:function(){d.reset.call(this),this._doReset()},process:function(D){return this._append(D),this._process()},finalize:function(D){D&&this._append(D);var F=this._doFinalize();return F},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function D(F){return typeof F=="string"?S:g}return function(F){return{encrypt:function(I,O,j){return D(O).encrypt(F,I,O,j)},decrypt:function(I,O,j){return D(O).decrypt(F,I,O,j)}}}}()});s.StreamCipher=m.extend({_doFinalize:function(){var D=this._process(!0);return D},blockSize:1});var A=i.mode={},B=s.BlockCipherMode=u.extend({createEncryptor:function(D,F){return this.Encryptor.create(D,F)},createDecryptor:function(D,F){return this.Decryptor.create(D,F)},init:function(D,F){this._cipher=D,this._iv=F}}),y=A.CBC=function(){var D=B.extend();D.Encryptor=D.extend({processBlock:function(I,O){var j=this._cipher,z=j.blockSize;F.call(this,I,O,z),j.encryptBlock(I,O),this._prevBlock=I.slice(O,O+z)}}),D.Decryptor=D.extend({processBlock:function(I,O){var j=this._cipher,z=j.blockSize,M=I.slice(O,O+z);j.decryptBlock(I,O),F.call(this,I,O,z),this._prevBlock=M}});function F(I,O,j){var z,M=this._iv;M?(z=M,this._iv=n):z=this._prevBlock;for(var U=0;U<j;U++)I[O+U]^=z[U]}return D}(),v=i.pad={},c=v.Pkcs7={pad:function(D,F){for(var I=F*4,O=I-D.sigBytes%I,j=O<<24|O<<16|O<<8|O,z=[],M=0;M<O;M+=4)z.push(j);var U=h.create(z,O);D.concat(U)},unpad:function(D){var F=D.words[D.sigBytes-1>>>2]&255;D.sigBytes-=F}};s.BlockCipher=m.extend({cfg:m.cfg.extend({mode:y,padding:c}),reset:function(){var D;m.reset.call(this);var F=this.cfg,I=F.iv,O=F.mode;this._xformMode==this._ENC_XFORM_MODE?D=O.createEncryptor:(D=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==D?this._mode.init(this,I&&I.words):(this._mode=D.call(O,this,I&&I.words),this._mode.__creator=D)},_doProcessBlock:function(D,F){this._mode.processBlock(D,F)},_doFinalize:function(){var D,F=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(F.pad(this._data,this.blockSize),D=this._process(!0)):(D=this._process(!0),F.unpad(D)),D},blockSize:128/32});var a=s.CipherParams=u.extend({init:function(D){this.mixIn(D)},toString:function(D){return(D||this.formatter).stringify(this)}}),o=i.format={},p=o.OpenSSL={stringify:function(D){var F,I=D.ciphertext,O=D.salt;return O?F=h.create([1398893684,1701076831]).concat(O).concat(I):F=I,F.toString(_)},parse:function(D){var F,I=_.parse(D),O=I.words;return O[0]==1398893684&&O[1]==1701076831&&(F=h.create(O.slice(2,4)),O.splice(0,4),I.sigBytes-=16),a.create({ciphertext:I,salt:F})}},g=s.SerializableCipher=u.extend({cfg:u.extend({format:p}),encrypt:function(D,F,I,O){O=this.cfg.extend(O);var j=D.createEncryptor(I,O),z=j.finalize(F),M=j.cfg;return a.create({ciphertext:z,key:I,iv:M.iv,algorithm:D,mode:M.mode,padding:M.padding,blockSize:D.blockSize,formatter:O.format})},decrypt:function(D,F,I,O){O=this.cfg.extend(O),F=this._parse(F,O.format);var j=D.createDecryptor(I,O).finalize(F.ciphertext);return j},_parse:function(D,F){return typeof D=="string"?F.parse(D,this):D}}),C=i.kdf={},b=C.OpenSSL={execute:function(D,F,I,O,j){if(O||(O=h.random(64/8)),j)var z=x.create({keySize:F+I,hasher:j}).compute(D,O);else var z=x.create({keySize:F+I}).compute(D,O);var M=h.create(z.words.slice(F),I*4);return z.sigBytes=F*4,a.create({key:z,iv:M,salt:O})}},S=s.PasswordBasedCipher=g.extend({cfg:g.cfg.extend({kdf:b}),encrypt:function(D,F,I,O){O=this.cfg.extend(O);var j=O.kdf.execute(I,D.keySize,D.ivSize,O.salt,O.hasher);O.iv=j.iv;var z=g.encrypt.call(this,D,F,j.key,O);return z.mixIn(j),z},decrypt:function(D,F,I,O){O=this.cfg.extend(O),F=this._parse(F,O.format);var j=O.kdf.execute(I,D.keySize,D.ivSize,F.salt,O.hasher);O.iv=j.iv;var z=g.decrypt.call(this,D,F,j.key,O);return z}})}()})}(Wt)),Wt.exports}var Gt={exports:{}},L0;function Zi(){return L0||(L0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),de())})(Q,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,u){var h=this._cipher,d=h.blockSize;i.call(this,s,u,d,h),this._prevBlock=s.slice(u,u+d)}}),n.Decryptor=n.extend({processBlock:function(s,u){var h=this._cipher,d=h.blockSize,l=s.slice(u,u+d);i.call(this,s,u,d,h),this._prevBlock=l}});function i(s,u,h,d){var l,_=this._iv;_?(l=_.slice(0),this._iv=void 0):l=this._prevBlock,d.encryptBlock(l,0);for(var f=0;f<h;f++)s[u+f]^=l[f]}return n}(),r.mode.CFB})}(Gt)),Gt.exports}var Yt={exports:{}},H0;function Vi(){return H0||(H0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),de())})(Q,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,u){var h=this._cipher,d=h.blockSize,l=this._iv,_=this._counter;l&&(_=this._counter=l.slice(0),this._iv=void 0);var f=_.slice(0);h.encryptBlock(f,0),_[d-1]=_[d-1]+1|0;for(var x=0;x<d;x++)s[u+x]^=f[x]}});return n.Decryptor=i,n}(),r.mode.CTR})}(Yt)),Yt.exports}var Qt={exports:{}},j0;function ea(){return j0||(j0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),de())})(Q,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(h){if((h>>24&255)===255){var d=h>>16&255,l=h>>8&255,_=h&255;d===255?(d=0,l===255?(l=0,_===255?_=0:++_):++l):++d,h=0,h+=d<<16,h+=l<<8,h+=_}else h+=1<<24;return h}function s(h){return(h[0]=i(h[0]))===0&&(h[1]=i(h[1])),h}var u=n.Encryptor=n.extend({processBlock:function(h,d){var l=this._cipher,_=l.blockSize,f=this._iv,x=this._counter;f&&(x=this._counter=f.slice(0),this._iv=void 0),s(x);var m=x.slice(0);l.encryptBlock(m,0);for(var A=0;A<_;A++)h[d+A]^=m[A]}});return n.Decryptor=u,n}(),r.mode.CTRGladman})}(Qt)),Qt.exports}var Xt={exports:{}},N0;function ta(){return N0||(N0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),de())})(Q,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,u){var h=this._cipher,d=h.blockSize,l=this._iv,_=this._keystream;l&&(_=this._keystream=l.slice(0),this._iv=void 0),h.encryptBlock(_,0);for(var f=0;f<d;f++)s[u+f]^=_[f]}});return n.Decryptor=i,n}(),r.mode.OFB})}(Xt)),Xt.exports}var Jt={exports:{}},$0;function ra(){return $0||($0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),de())})(Q,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),n.Decryptor=n.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),n}(),r.mode.ECB})}(Jt)),Jt.exports}var Zt={exports:{}},z0;function na(){return z0||(z0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),de())})(Q,function(r){return r.pad.AnsiX923={pad:function(n,i){var s=n.sigBytes,u=i*4,h=u-s%u,d=s+h-1;n.clamp(),n.words[d>>>2]|=h<<24-d%4*8,n.sigBytes+=h},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(Zt)),Zt.exports}var Vt={exports:{}},M0;function ia(){return M0||(M0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),de())})(Q,function(r){return r.pad.Iso10126={pad:function(n,i){var s=i*4,u=s-n.sigBytes%s;n.concat(r.lib.WordArray.random(u-1)).concat(r.lib.WordArray.create([u<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(Vt)),Vt.exports}var er={exports:{}},K0;function aa(){return K0||(K0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),de())})(Q,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(er)),er.exports}var tr={exports:{}},U0;function sa(){return U0||(U0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),de())})(Q,function(r){return r.pad.ZeroPadding={pad:function(n,i){var s=i*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var i=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},r.pad.ZeroPadding})}(tr)),tr.exports}var rr={exports:{}},W0;function oa(){return W0||(W0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),de())})(Q,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(rr)),rr.exports}var nr={exports:{}},G0;function ca(){return G0||(G0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),de())})(Q,function(r){return function(n){var i=r,s=i.lib,u=s.CipherParams,h=i.enc,d=h.Hex,l=i.format;l.Hex={stringify:function(_){return _.ciphertext.toString(d)},parse:function(_){var f=d.parse(_);return u.create({ciphertext:f})}}}(),r.format.Hex})}(nr)),nr.exports}var ir={exports:{}},Y0;function ua(){return Y0||(Y0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Ge(),Ye(),Le(),de())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.BlockCipher,u=n.algo,h=[],d=[],l=[],_=[],f=[],x=[],m=[],A=[],B=[],y=[];(function(){for(var a=[],o=0;o<256;o++)o<128?a[o]=o<<1:a[o]=o<<1^283;for(var p=0,g=0,o=0;o<256;o++){var C=g^g<<1^g<<2^g<<3^g<<4;C=C>>>8^C&255^99,h[p]=C,d[C]=p;var b=a[p],S=a[b],D=a[S],F=a[C]*257^C*16843008;l[p]=F<<24|F>>>8,_[p]=F<<16|F>>>16,f[p]=F<<8|F>>>24,x[p]=F;var F=D*16843009^S*65537^b*257^p*16843008;m[C]=F<<24|F>>>8,A[C]=F<<16|F>>>16,B[C]=F<<8|F>>>24,y[C]=F,p?(p=b^a[a[a[D^b]]],g^=a[a[g]]):p=g=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],c=u.AES=s.extend({_doReset:function(){var a;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var o=this._keyPriorReset=this._key,p=o.words,g=o.sigBytes/4,C=this._nRounds=g+6,b=(C+1)*4,S=this._keySchedule=[],D=0;D<b;D++)D<g?S[D]=p[D]:(a=S[D-1],D%g?g>6&&D%g==4&&(a=h[a>>>24]<<24|h[a>>>16&255]<<16|h[a>>>8&255]<<8|h[a&255]):(a=a<<8|a>>>24,a=h[a>>>24]<<24|h[a>>>16&255]<<16|h[a>>>8&255]<<8|h[a&255],a^=v[D/g|0]<<24),S[D]=S[D-g]^a);for(var F=this._invKeySchedule=[],I=0;I<b;I++){var D=b-I;if(I%4)var a=S[D];else var a=S[D-4];I<4||D<=4?F[I]=a:F[I]=m[h[a>>>24]]^A[h[a>>>16&255]]^B[h[a>>>8&255]]^y[h[a&255]]}}},encryptBlock:function(a,o){this._doCryptBlock(a,o,this._keySchedule,l,_,f,x,h)},decryptBlock:function(a,o){var p=a[o+1];a[o+1]=a[o+3],a[o+3]=p,this._doCryptBlock(a,o,this._invKeySchedule,m,A,B,y,d);var p=a[o+1];a[o+1]=a[o+3],a[o+3]=p},_doCryptBlock:function(a,o,p,g,C,b,S,D){for(var F=this._nRounds,I=a[o]^p[0],O=a[o+1]^p[1],j=a[o+2]^p[2],z=a[o+3]^p[3],M=4,U=1;U<F;U++){var w=g[I>>>24]^C[O>>>16&255]^b[j>>>8&255]^S[z&255]^p[M++],q=g[O>>>24]^C[j>>>16&255]^b[z>>>8&255]^S[I&255]^p[M++],L=g[j>>>24]^C[z>>>16&255]^b[I>>>8&255]^S[O&255]^p[M++],E=g[z>>>24]^C[I>>>16&255]^b[O>>>8&255]^S[j&255]^p[M++];I=w,O=q,j=L,z=E}var w=(D[I>>>24]<<24|D[O>>>16&255]<<16|D[j>>>8&255]<<8|D[z&255])^p[M++],q=(D[O>>>24]<<24|D[j>>>16&255]<<16|D[z>>>8&255]<<8|D[I&255])^p[M++],L=(D[j>>>24]<<24|D[z>>>16&255]<<16|D[I>>>8&255]<<8|D[O&255])^p[M++],E=(D[z>>>24]<<24|D[I>>>16&255]<<16|D[O>>>8&255]<<8|D[j&255])^p[M++];a[o]=w,a[o+1]=q,a[o+2]=L,a[o+3]=E},keySize:256/32});n.AES=s._createHelper(c)}(),r.AES})}(ir)),ir.exports}var ar={exports:{}},Q0;function fa(){return Q0||(Q0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Ge(),Ye(),Le(),de())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,u=i.BlockCipher,h=n.algo,d=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],_=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],x=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=h.DES=u.extend({_doReset:function(){for(var v=this._key,c=v.words,a=[],o=0;o<56;o++){var p=d[o]-1;a[o]=c[p>>>5]>>>31-p%32&1}for(var g=this._subKeys=[],C=0;C<16;C++){for(var b=g[C]=[],S=_[C],o=0;o<24;o++)b[o/6|0]|=a[(l[o]-1+S)%28]<<31-o%6,b[4+(o/6|0)]|=a[28+(l[o+24]-1+S)%28]<<31-o%6;b[0]=b[0]<<1|b[0]>>>31;for(var o=1;o<7;o++)b[o]=b[o]>>>(o-1)*4+3;b[7]=b[7]<<5|b[7]>>>27}for(var D=this._invSubKeys=[],o=0;o<16;o++)D[o]=g[15-o]},encryptBlock:function(v,c){this._doCryptBlock(v,c,this._subKeys)},decryptBlock:function(v,c){this._doCryptBlock(v,c,this._invSubKeys)},_doCryptBlock:function(v,c,a){this._lBlock=v[c],this._rBlock=v[c+1],A.call(this,4,252645135),A.call(this,16,65535),B.call(this,2,858993459),B.call(this,8,16711935),A.call(this,1,1431655765);for(var o=0;o<16;o++){for(var p=a[o],g=this._lBlock,C=this._rBlock,b=0,S=0;S<8;S++)b|=f[S][((C^p[S])&x[S])>>>0];this._lBlock=C,this._rBlock=g^b}var D=this._lBlock;this._lBlock=this._rBlock,this._rBlock=D,A.call(this,1,1431655765),B.call(this,8,16711935),B.call(this,2,858993459),A.call(this,16,65535),A.call(this,4,252645135),v[c]=this._lBlock,v[c+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function A(v,c){var a=(this._lBlock>>>v^this._rBlock)&c;this._rBlock^=a,this._lBlock^=a<<v}function B(v,c){var a=(this._rBlock>>>v^this._lBlock)&c;this._lBlock^=a,this._rBlock^=a<<v}n.DES=u._createHelper(m);var y=h.TripleDES=u.extend({_doReset:function(){var v=this._key,c=v.words;if(c.length!==2&&c.length!==4&&c.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var a=c.slice(0,2),o=c.length<4?c.slice(0,2):c.slice(2,4),p=c.length<6?c.slice(0,2):c.slice(4,6);this._des1=m.createEncryptor(s.create(a)),this._des2=m.createEncryptor(s.create(o)),this._des3=m.createEncryptor(s.create(p))},encryptBlock:function(v,c){this._des1.encryptBlock(v,c),this._des2.decryptBlock(v,c),this._des3.encryptBlock(v,c)},decryptBlock:function(v,c){this._des3.decryptBlock(v,c),this._des2.encryptBlock(v,c),this._des1.decryptBlock(v,c)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=u._createHelper(y)}(),r.TripleDES})}(ar)),ar.exports}var sr={exports:{}},X0;function la(){return X0||(X0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Ge(),Ye(),Le(),de())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,u=n.algo,h=u.RC4=s.extend({_doReset:function(){for(var _=this._key,f=_.words,x=_.sigBytes,m=this._S=[],A=0;A<256;A++)m[A]=A;for(var A=0,B=0;A<256;A++){var y=A%x,v=f[y>>>2]>>>24-y%4*8&255;B=(B+m[A]+v)%256;var c=m[A];m[A]=m[B],m[B]=c}this._i=this._j=0},_doProcessBlock:function(_,f){_[f]^=d.call(this)},keySize:256/32,ivSize:0});function d(){for(var _=this._S,f=this._i,x=this._j,m=0,A=0;A<4;A++){f=(f+1)%256,x=(x+_[f])%256;var B=_[f];_[f]=_[x],_[x]=B,m|=_[(_[f]+_[x])%256]<<24-A*8}return this._i=f,this._j=x,m}n.RC4=s._createHelper(h);var l=u.RC4Drop=h.extend({cfg:h.cfg.extend({drop:192}),_doReset:function(){h._doReset.call(this);for(var _=this.cfg.drop;_>0;_--)d.call(this)}});n.RC4Drop=s._createHelper(l)}(),r.RC4})}(sr)),sr.exports}var or={exports:{}},J0;function xa(){return J0||(J0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Ge(),Ye(),Le(),de())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,u=n.algo,h=[],d=[],l=[],_=u.Rabbit=s.extend({_doReset:function(){for(var x=this._key.words,m=this.cfg.iv,A=0;A<4;A++)x[A]=(x[A]<<8|x[A]>>>24)&16711935|(x[A]<<24|x[A]>>>8)&4278255360;var B=this._X=[x[0],x[3]<<16|x[2]>>>16,x[1],x[0]<<16|x[3]>>>16,x[2],x[1]<<16|x[0]>>>16,x[3],x[2]<<16|x[1]>>>16],y=this._C=[x[2]<<16|x[2]>>>16,x[0]&4294901760|x[1]&65535,x[3]<<16|x[3]>>>16,x[1]&4294901760|x[2]&65535,x[0]<<16|x[0]>>>16,x[2]&4294901760|x[3]&65535,x[1]<<16|x[1]>>>16,x[3]&4294901760|x[0]&65535];this._b=0;for(var A=0;A<4;A++)f.call(this);for(var A=0;A<8;A++)y[A]^=B[A+4&7];if(m){var v=m.words,c=v[0],a=v[1],o=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,p=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360,g=o>>>16|p&4294901760,C=p<<16|o&65535;y[0]^=o,y[1]^=g,y[2]^=p,y[3]^=C,y[4]^=o,y[5]^=g,y[6]^=p,y[7]^=C;for(var A=0;A<4;A++)f.call(this)}},_doProcessBlock:function(x,m){var A=this._X;f.call(this),h[0]=A[0]^A[5]>>>16^A[3]<<16,h[1]=A[2]^A[7]>>>16^A[5]<<16,h[2]=A[4]^A[1]>>>16^A[7]<<16,h[3]=A[6]^A[3]>>>16^A[1]<<16;for(var B=0;B<4;B++)h[B]=(h[B]<<8|h[B]>>>24)&16711935|(h[B]<<24|h[B]>>>8)&4278255360,x[m+B]^=h[B]},blockSize:128/32,ivSize:64/32});function f(){for(var x=this._X,m=this._C,A=0;A<8;A++)d[A]=m[A];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<d[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<d[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<d[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<d[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<d[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<d[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<d[6]>>>0?1:0)|0,this._b=m[7]>>>0<d[7]>>>0?1:0;for(var A=0;A<8;A++){var B=x[A]+m[A],y=B&65535,v=B>>>16,c=((y*y>>>17)+y*v>>>15)+v*v,a=((B&4294901760)*B|0)+((B&65535)*B|0);l[A]=c^a}x[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,x[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,x[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,x[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,x[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,x[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,x[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,x[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=s._createHelper(_)}(),r.Rabbit})}(or)),or.exports}var cr={exports:{}},Z0;function da(){return Z0||(Z0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Ge(),Ye(),Le(),de())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,u=n.algo,h=[],d=[],l=[],_=u.RabbitLegacy=s.extend({_doReset:function(){var x=this._key.words,m=this.cfg.iv,A=this._X=[x[0],x[3]<<16|x[2]>>>16,x[1],x[0]<<16|x[3]>>>16,x[2],x[1]<<16|x[0]>>>16,x[3],x[2]<<16|x[1]>>>16],B=this._C=[x[2]<<16|x[2]>>>16,x[0]&4294901760|x[1]&65535,x[3]<<16|x[3]>>>16,x[1]&4294901760|x[2]&65535,x[0]<<16|x[0]>>>16,x[2]&4294901760|x[3]&65535,x[1]<<16|x[1]>>>16,x[3]&4294901760|x[0]&65535];this._b=0;for(var y=0;y<4;y++)f.call(this);for(var y=0;y<8;y++)B[y]^=A[y+4&7];if(m){var v=m.words,c=v[0],a=v[1],o=(c<<8|c>>>24)&16711935|(c<<24|c>>>8)&4278255360,p=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360,g=o>>>16|p&4294901760,C=p<<16|o&65535;B[0]^=o,B[1]^=g,B[2]^=p,B[3]^=C,B[4]^=o,B[5]^=g,B[6]^=p,B[7]^=C;for(var y=0;y<4;y++)f.call(this)}},_doProcessBlock:function(x,m){var A=this._X;f.call(this),h[0]=A[0]^A[5]>>>16^A[3]<<16,h[1]=A[2]^A[7]>>>16^A[5]<<16,h[2]=A[4]^A[1]>>>16^A[7]<<16,h[3]=A[6]^A[3]>>>16^A[1]<<16;for(var B=0;B<4;B++)h[B]=(h[B]<<8|h[B]>>>24)&16711935|(h[B]<<24|h[B]>>>8)&4278255360,x[m+B]^=h[B]},blockSize:128/32,ivSize:64/32});function f(){for(var x=this._X,m=this._C,A=0;A<8;A++)d[A]=m[A];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<d[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<d[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<d[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<d[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<d[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<d[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<d[6]>>>0?1:0)|0,this._b=m[7]>>>0<d[7]>>>0?1:0;for(var A=0;A<8;A++){var B=x[A]+m[A],y=B&65535,v=B>>>16,c=((y*y>>>17)+y*v>>>15)+v*v,a=((B&4294901760)*B|0)+((B&65535)*B|0);l[A]=c^a}x[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,x[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,x[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,x[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,x[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,x[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,x[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,x[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=s._createHelper(_)}(),r.RabbitLegacy})}(cr)),cr.exports}var ur={exports:{}},V0;function ha(){return V0||(V0=1,function(e,t){(function(r,n,i){e.exports=n(Z(),Ge(),Ye(),Le(),de())})(Q,function(r){return function(){var n=r,i=n.lib,s=i.BlockCipher,u=n.algo;const h=16,d=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var _={pbox:[],sbox:[]};function f(y,v){let c=v>>24&255,a=v>>16&255,o=v>>8&255,p=v&255,g=y.sbox[0][c]+y.sbox[1][a];return g=g^y.sbox[2][o],g=g+y.sbox[3][p],g}function x(y,v,c){let a=v,o=c,p;for(let g=0;g<h;++g)a=a^y.pbox[g],o=f(y,a)^o,p=a,a=o,o=p;return p=a,a=o,o=p,o=o^y.pbox[h],a=a^y.pbox[h+1],{left:a,right:o}}function m(y,v,c){let a=v,o=c,p;for(let g=h+1;g>1;--g)a=a^y.pbox[g],o=f(y,a)^o,p=a,a=o,o=p;return p=a,a=o,o=p,o=o^y.pbox[1],a=a^y.pbox[0],{left:a,right:o}}function A(y,v,c){for(let C=0;C<4;C++){y.sbox[C]=[];for(let b=0;b<256;b++)y.sbox[C][b]=l[C][b]}let a=0;for(let C=0;C<h+2;C++)y.pbox[C]=d[C]^v[a],a++,a>=c&&(a=0);let o=0,p=0,g=0;for(let C=0;C<h+2;C+=2)g=x(y,o,p),o=g.left,p=g.right,y.pbox[C]=o,y.pbox[C+1]=p;for(let C=0;C<4;C++)for(let b=0;b<256;b+=2)g=x(y,o,p),o=g.left,p=g.right,y.sbox[C][b]=o,y.sbox[C][b+1]=p;return!0}var B=u.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var y=this._keyPriorReset=this._key,v=y.words,c=y.sigBytes/4;A(_,v,c)}},encryptBlock:function(y,v){var c=x(_,y[v],y[v+1]);y[v]=c.left,y[v+1]=c.right},decryptBlock:function(y,v){var c=m(_,y[v],y[v+1]);y[v]=c.left,y[v+1]=c.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=s._createHelper(B)}(),r.Blowfish})}(ur)),ur.exports}(function(e,t){(function(r,n,i){e.exports=n(Z(),Ct(),Ki(),Ui(),Ge(),Wi(),Ye(),Tn(),Kr(),Gi(),In(),Yi(),Qi(),Xi(),Ur(),Ji(),Le(),de(),Zi(),Vi(),ea(),ta(),ra(),na(),ia(),aa(),sa(),oa(),ca(),ua(),fa(),la(),xa(),da(),ha())})(Q,function(r){return r})})(Pn);var va=Pn.exports;const ke=Mr(va);var Ln={exports:{}};(function(e,t){(function(r){e.exports=r()})(function(r){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(v,c){var a=v[0],o=v[1],p=v[2],g=v[3];a+=(o&p|~o&g)+c[0]-680876936|0,a=(a<<7|a>>>25)+o|0,g+=(a&o|~a&p)+c[1]-389564586|0,g=(g<<12|g>>>20)+a|0,p+=(g&a|~g&o)+c[2]+606105819|0,p=(p<<17|p>>>15)+g|0,o+=(p&g|~p&a)+c[3]-1044525330|0,o=(o<<22|o>>>10)+p|0,a+=(o&p|~o&g)+c[4]-176418897|0,a=(a<<7|a>>>25)+o|0,g+=(a&o|~a&p)+c[5]+1200080426|0,g=(g<<12|g>>>20)+a|0,p+=(g&a|~g&o)+c[6]-1473231341|0,p=(p<<17|p>>>15)+g|0,o+=(p&g|~p&a)+c[7]-45705983|0,o=(o<<22|o>>>10)+p|0,a+=(o&p|~o&g)+c[8]+1770035416|0,a=(a<<7|a>>>25)+o|0,g+=(a&o|~a&p)+c[9]-1958414417|0,g=(g<<12|g>>>20)+a|0,p+=(g&a|~g&o)+c[10]-42063|0,p=(p<<17|p>>>15)+g|0,o+=(p&g|~p&a)+c[11]-1990404162|0,o=(o<<22|o>>>10)+p|0,a+=(o&p|~o&g)+c[12]+1804603682|0,a=(a<<7|a>>>25)+o|0,g+=(a&o|~a&p)+c[13]-40341101|0,g=(g<<12|g>>>20)+a|0,p+=(g&a|~g&o)+c[14]-1502002290|0,p=(p<<17|p>>>15)+g|0,o+=(p&g|~p&a)+c[15]+1236535329|0,o=(o<<22|o>>>10)+p|0,a+=(o&g|p&~g)+c[1]-165796510|0,a=(a<<5|a>>>27)+o|0,g+=(a&p|o&~p)+c[6]-1069501632|0,g=(g<<9|g>>>23)+a|0,p+=(g&o|a&~o)+c[11]+643717713|0,p=(p<<14|p>>>18)+g|0,o+=(p&a|g&~a)+c[0]-373897302|0,o=(o<<20|o>>>12)+p|0,a+=(o&g|p&~g)+c[5]-701558691|0,a=(a<<5|a>>>27)+o|0,g+=(a&p|o&~p)+c[10]+38016083|0,g=(g<<9|g>>>23)+a|0,p+=(g&o|a&~o)+c[15]-660478335|0,p=(p<<14|p>>>18)+g|0,o+=(p&a|g&~a)+c[4]-405537848|0,o=(o<<20|o>>>12)+p|0,a+=(o&g|p&~g)+c[9]+568446438|0,a=(a<<5|a>>>27)+o|0,g+=(a&p|o&~p)+c[14]-1019803690|0,g=(g<<9|g>>>23)+a|0,p+=(g&o|a&~o)+c[3]-187363961|0,p=(p<<14|p>>>18)+g|0,o+=(p&a|g&~a)+c[8]+1163531501|0,o=(o<<20|o>>>12)+p|0,a+=(o&g|p&~g)+c[13]-1444681467|0,a=(a<<5|a>>>27)+o|0,g+=(a&p|o&~p)+c[2]-51403784|0,g=(g<<9|g>>>23)+a|0,p+=(g&o|a&~o)+c[7]+1735328473|0,p=(p<<14|p>>>18)+g|0,o+=(p&a|g&~a)+c[12]-1926607734|0,o=(o<<20|o>>>12)+p|0,a+=(o^p^g)+c[5]-378558|0,a=(a<<4|a>>>28)+o|0,g+=(a^o^p)+c[8]-2022574463|0,g=(g<<11|g>>>21)+a|0,p+=(g^a^o)+c[11]+1839030562|0,p=(p<<16|p>>>16)+g|0,o+=(p^g^a)+c[14]-35309556|0,o=(o<<23|o>>>9)+p|0,a+=(o^p^g)+c[1]-1530992060|0,a=(a<<4|a>>>28)+o|0,g+=(a^o^p)+c[4]+1272893353|0,g=(g<<11|g>>>21)+a|0,p+=(g^a^o)+c[7]-155497632|0,p=(p<<16|p>>>16)+g|0,o+=(p^g^a)+c[10]-1094730640|0,o=(o<<23|o>>>9)+p|0,a+=(o^p^g)+c[13]+681279174|0,a=(a<<4|a>>>28)+o|0,g+=(a^o^p)+c[0]-358537222|0,g=(g<<11|g>>>21)+a|0,p+=(g^a^o)+c[3]-722521979|0,p=(p<<16|p>>>16)+g|0,o+=(p^g^a)+c[6]+76029189|0,o=(o<<23|o>>>9)+p|0,a+=(o^p^g)+c[9]-640364487|0,a=(a<<4|a>>>28)+o|0,g+=(a^o^p)+c[12]-421815835|0,g=(g<<11|g>>>21)+a|0,p+=(g^a^o)+c[15]+530742520|0,p=(p<<16|p>>>16)+g|0,o+=(p^g^a)+c[2]-995338651|0,o=(o<<23|o>>>9)+p|0,a+=(p^(o|~g))+c[0]-198630844|0,a=(a<<6|a>>>26)+o|0,g+=(o^(a|~p))+c[7]+1126891415|0,g=(g<<10|g>>>22)+a|0,p+=(a^(g|~o))+c[14]-1416354905|0,p=(p<<15|p>>>17)+g|0,o+=(g^(p|~a))+c[5]-57434055|0,o=(o<<21|o>>>11)+p|0,a+=(p^(o|~g))+c[12]+1700485571|0,a=(a<<6|a>>>26)+o|0,g+=(o^(a|~p))+c[3]-1894986606|0,g=(g<<10|g>>>22)+a|0,p+=(a^(g|~o))+c[10]-1051523|0,p=(p<<15|p>>>17)+g|0,o+=(g^(p|~a))+c[1]-2054922799|0,o=(o<<21|o>>>11)+p|0,a+=(p^(o|~g))+c[8]+1873313359|0,a=(a<<6|a>>>26)+o|0,g+=(o^(a|~p))+c[15]-30611744|0,g=(g<<10|g>>>22)+a|0,p+=(a^(g|~o))+c[6]-1560198380|0,p=(p<<15|p>>>17)+g|0,o+=(g^(p|~a))+c[13]+1309151649|0,o=(o<<21|o>>>11)+p|0,a+=(p^(o|~g))+c[4]-145523070|0,a=(a<<6|a>>>26)+o|0,g+=(o^(a|~p))+c[11]-1120210379|0,g=(g<<10|g>>>22)+a|0,p+=(a^(g|~o))+c[2]+718787259|0,p=(p<<15|p>>>17)+g|0,o+=(g^(p|~a))+c[9]-343485551|0,o=(o<<21|o>>>11)+p|0,v[0]=a+v[0]|0,v[1]=o+v[1]|0,v[2]=p+v[2]|0,v[3]=g+v[3]|0}function s(v){var c=[],a;for(a=0;a<64;a+=4)c[a>>2]=v.charCodeAt(a)+(v.charCodeAt(a+1)<<8)+(v.charCodeAt(a+2)<<16)+(v.charCodeAt(a+3)<<24);return c}function u(v){var c=[],a;for(a=0;a<64;a+=4)c[a>>2]=v[a]+(v[a+1]<<8)+(v[a+2]<<16)+(v[a+3]<<24);return c}function h(v){var c=v.length,a=[1732584193,-271733879,-1732584194,271733878],o,p,g,C,b,S;for(o=64;o<=c;o+=64)i(a,s(v.substring(o-64,o)));for(v=v.substring(o-64),p=v.length,g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<p;o+=1)g[o>>2]|=v.charCodeAt(o)<<(o%4<<3);if(g[o>>2]|=128<<(o%4<<3),o>55)for(i(a,g),o=0;o<16;o+=1)g[o]=0;return C=c*8,C=C.toString(16).match(/(.*?)(.{0,8})$/),b=parseInt(C[2],16),S=parseInt(C[1],16)||0,g[14]=b,g[15]=S,i(a,g),a}function d(v){var c=v.length,a=[1732584193,-271733879,-1732584194,271733878],o,p,g,C,b,S;for(o=64;o<=c;o+=64)i(a,u(v.subarray(o-64,o)));for(v=o-64<c?v.subarray(o-64):new Uint8Array(0),p=v.length,g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<p;o+=1)g[o>>2]|=v[o]<<(o%4<<3);if(g[o>>2]|=128<<(o%4<<3),o>55)for(i(a,g),o=0;o<16;o+=1)g[o]=0;return C=c*8,C=C.toString(16).match(/(.*?)(.{0,8})$/),b=parseInt(C[2],16),S=parseInt(C[1],16)||0,g[14]=b,g[15]=S,i(a,g),a}function l(v){var c="",a;for(a=0;a<4;a+=1)c+=n[v>>a*8+4&15]+n[v>>a*8&15];return c}function _(v){var c;for(c=0;c<v.length;c+=1)v[c]=l(v[c]);return v.join("")}_(h("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function v(c,a){return c=c|0||0,c<0?Math.max(c+a,0):Math.min(c,a)}ArrayBuffer.prototype.slice=function(c,a){var o=this.byteLength,p=v(c,o),g=o,C,b,S,D;return a!==r&&(g=v(a,o)),p>g?new ArrayBuffer(0):(C=g-p,b=new ArrayBuffer(C),S=new Uint8Array(b),D=new Uint8Array(this,p,C),S.set(D),b)}}();function f(v){return/[\u0080-\uFFFF]/.test(v)&&(v=unescape(encodeURIComponent(v))),v}function x(v,c){var a=v.length,o=new ArrayBuffer(a),p=new Uint8Array(o),g;for(g=0;g<a;g+=1)p[g]=v.charCodeAt(g);return c?p:o}function m(v){return String.fromCharCode.apply(null,new Uint8Array(v))}function A(v,c,a){var o=new Uint8Array(v.byteLength+c.byteLength);return o.set(new Uint8Array(v)),o.set(new Uint8Array(c),v.byteLength),o}function B(v){var c=[],a=v.length,o;for(o=0;o<a-1;o+=2)c.push(parseInt(v.substr(o,2),16));return String.fromCharCode.apply(String,c)}function y(){this.reset()}return y.prototype.append=function(v){return this.appendBinary(f(v)),this},y.prototype.appendBinary=function(v){this._buff+=v,this._length+=v.length;var c=this._buff.length,a;for(a=64;a<=c;a+=64)i(this._hash,s(this._buff.substring(a-64,a)));return this._buff=this._buff.substring(a-64),this},y.prototype.end=function(v){var c=this._buff,a=c.length,o,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g;for(o=0;o<a;o+=1)p[o>>2]|=c.charCodeAt(o)<<(o%4<<3);return this._finish(p,a),g=_(this._hash),v&&(g=B(g)),this.reset(),g},y.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},y.prototype.setState=function(v){return this._buff=v.buff,this._length=v.length,this._hash=v.hash,this},y.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},y.prototype._finish=function(v,c){var a=c,o,p,g;if(v[a>>2]|=128<<(a%4<<3),a>55)for(i(this._hash,v),a=0;a<16;a+=1)v[a]=0;o=this._length*8,o=o.toString(16).match(/(.*?)(.{0,8})$/),p=parseInt(o[2],16),g=parseInt(o[1],16)||0,v[14]=p,v[15]=g,i(this._hash,v)},y.hash=function(v,c){return y.hashBinary(f(v),c)},y.hashBinary=function(v,c){var a=h(v),o=_(a);return c?B(o):o},y.ArrayBuffer=function(){this.reset()},y.ArrayBuffer.prototype.append=function(v){var c=A(this._buff.buffer,v),a=c.length,o;for(this._length+=v.byteLength,o=64;o<=a;o+=64)i(this._hash,u(c.subarray(o-64,o)));return this._buff=o-64<a?new Uint8Array(c.buffer.slice(o-64)):new Uint8Array(0),this},y.ArrayBuffer.prototype.end=function(v){var c=this._buff,a=c.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p,g;for(p=0;p<a;p+=1)o[p>>2]|=c[p]<<(p%4<<3);return this._finish(o,a),g=_(this._hash),v&&(g=B(g)),this.reset(),g},y.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},y.ArrayBuffer.prototype.getState=function(){var v=y.prototype.getState.call(this);return v.buff=m(v.buff),v},y.ArrayBuffer.prototype.setState=function(v){return v.buff=x(v.buff,!0),y.prototype.setState.call(this,v)},y.ArrayBuffer.prototype.destroy=y.prototype.destroy,y.ArrayBuffer.prototype._finish=y.prototype._finish,y.ArrayBuffer.hash=function(v,c){var a=d(new Uint8Array(v)),o=_(a);return c?B(o):o},y})})(Ln);var pa=Ln.exports;const Er=Mr(pa);var dt,_a=new Uint8Array(16);function ga(){if(!dt&&(dt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dt(_a)}const ya=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ma(e){return typeof e=="string"&&ya.test(e)}var he=[];for(var fr=0;fr<256;++fr)he.push((fr+256).toString(16).substr(1));function Aa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(he[e[t+0]]+he[e[t+1]]+he[e[t+2]]+he[e[t+3]]+"-"+he[e[t+4]]+he[e[t+5]]+"-"+he[e[t+6]]+he[e[t+7]]+"-"+he[e[t+8]]+he[e[t+9]]+"-"+he[e[t+10]]+he[e[t+11]]+he[e[t+12]]+he[e[t+13]]+he[e[t+14]]+he[e[t+15]]).toLowerCase();if(!ma(r))throw TypeError("Stringified UUID is invalid");return r}function Wr(e,t,r){e=e||{};var n=e.random||(e.rng||ga)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Aa(n)}var Et={};Et.stringify=function(t){var r=[];r.push({obj:t});for(var n="",i,s,u,h,d,l,_,f,x,m,A;i=r.pop();)if(s=i.obj,u=i.prefix||"",h=i.val||"",n+=u,h)n+=h;else if(typeof s!="object")n+=typeof s>"u"?null:JSON.stringify(s);else if(s===null)n+="null";else if(Array.isArray(s)){for(r.push({val:"]"}),d=s.length-1;d>=0;d--)l=d===0?"":",",r.push({obj:s[d],prefix:l});r.push({val:"["})}else{_=[];for(f in s)s.hasOwnProperty(f)&&_.push(f);for(r.push({val:"}"}),d=_.length-1;d>=0;d--)x=_[d],m=s[x],A=d>0?",":"",A+=JSON.stringify(x)+":",r.push({obj:m,prefix:A});r.push({val:"{"})}return n};function Je(e,t,r){var n=r[r.length-1];e===n.element&&(r.pop(),n=r[r.length-1]);var i=n.element,s=n.index;if(Array.isArray(i))i.push(e);else if(s===t.length-2){var u=t.pop();i[u]=e}else t.push(e)}Et.parse=function(e){for(var t=[],r=[],n=0,i,s,u,h,d,l,_,f,x;;){if(i=e[n++],i==="}"||i==="]"||typeof i>"u"){if(t.length===1)return t.pop();Je(t.pop(),t,r);continue}switch(i){case" ":case"	":case`
`:case":":case",":break;case"n":n+=3,Je(null,t,r);break;case"t":n+=3,Je(!0,t,r);break;case"f":n+=4,Je(!1,t,r);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(s="",n--;;)if(u=e[n++],/[\d\.\-e\+]/.test(u))s+=u;else{n--;break}Je(parseFloat(s),t,r);break;case'"':for(h="",d=void 0,l=0;_=e[n++],_!=='"'||d==="\\"&&l%2===1;)h+=_,d=_,d==="\\"?l++:l=0;Je(JSON.parse('"'+h+'"'),t,r);break;case"[":f={element:[],index:t.length},t.push(f.element),r.push(f);break;case"{":x={element:{},index:t.length},t.push(x.element),r.push(x);break;default:throw new Error("unexpectedly reached end of input: "+i)}}};function xe(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Ba=xe;xe.EventEmitter=xe;xe.prototype._events=void 0;xe.prototype._maxListeners=void 0;xe.defaultMaxListeners=10;xe.prototype.setMaxListeners=function(e){if(!Ca(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};xe.prototype.emit=function(e){var t,r,n,i,s,u;if(this._events||(this._events={}),e==="error"&&(!this._events.error||ot(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(r=this._events[e],Hn(r))return!1;if(Pe(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(ot(r))for(i=Array.prototype.slice.call(arguments,1),u=r.slice(),n=u.length,s=0;s<n;s++)u[s].apply(this,i);return!0};xe.prototype.addListener=function(e,t){var r;if(!Pe(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Pe(t.listener)?t.listener:t),this._events[e]?ot(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,ot(this._events[e])&&!this._events[e].warned&&(Hn(this._maxListeners)?r=xe.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};xe.prototype.on=xe.prototype.addListener;xe.prototype.once=function(e,t){if(!Pe(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this};xe.prototype.removeListener=function(e,t){var r,n,i,s;if(!Pe(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||Pe(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(ot(r)){for(s=i;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};xe.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],Pe(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this};xe.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:Pe(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};xe.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Pe(t))return 1;if(t)return t.length}return 0};xe.listenerCount=function(e,t){return e.listenerCount(t)};function Pe(e){return typeof e=="function"}function Ca(e){return typeof e=="number"}function ot(e){return typeof e=="object"&&e!==null}function Hn(e){return e===void 0}const Te=Mr(Ba);function Ea(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer||typeof Blob<"u"&&e instanceof Blob}function Da(e){return e instanceof ArrayBuffer?e.slice(0):e.slice(0,e.size,e.type)}var jn=Function.prototype.toString,ba=jn.call(Object);function wa(e){var t=Object.getPrototypeOf(e);if(t===null)return!0;var r=t.constructor;return typeof r=="function"&&r instanceof r&&jn.call(r)==ba}function fe(e){var t,r,n;if(!e||typeof e!="object")return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=fe(e[r]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(Ea(e))return Da(e);if(!wa(e))return e;t={};for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=fe(e[r]);typeof i<"u"&&(t[r]=i)}return t}function Nn(e){var t=!1;return function(...r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)}}function $n(e){return function(...t){t=fe(t);var r=this,n=typeof t[t.length-1]=="function"?t.pop():!1,i=new Promise(function(s,u){var h;try{var d=Nn(function(l,_){l?u(l):s(_)});t.push(d),h=e.apply(r,t),h&&typeof h.then=="function"&&s(h)}catch(l){u(l)}});return n&&i.then(function(s){n(null,s)},n),i}}function Fa(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],i=0;i<r.length-1;i++)n.push(r[i]);e.constructor.emit("debug",n);var s=r[r.length-1];r[r.length-1]=function(u,h){var d=["api",e.name,t];d=d.concat(u?["error",u]:["success",h]),e.constructor.emit("debug",d),s(u,h)}}}function se(e,t){return $n(function(...r){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return Fa(n,e,r),this.taskqueue.isReady?t.apply(this,r):new Promise(function(i,s){n.taskqueue.addTask(function(u){u?s(u):i(n[e].apply(n,r))})})})}function ut(e,t){for(var r={},n=0,i=t.length;n<i;n++){var s=t[n];s in e&&(r[s]=e[s])}return r}var Sa=6;function en(e){return e}function ka(e){return[{ok:e}]}function zn(e,t,r){var n=t.docs,i=new Map;n.forEach(function(B){i.has(B.id)?i.get(B.id).push(B):i.set(B.id,[B])});var s=i.size,u=0,h=new Array(s);function d(){var B=[];h.forEach(function(y){y.docs.forEach(function(v){B.push({id:y.id,docs:[v]})})}),r(null,{results:B})}function l(){++u===s&&d()}function _(B,y,v){h[B]={id:y,docs:v},l()}var f=[];i.forEach(function(B,y){f.push(y)});var x=0;function m(){if(!(x>=f.length)){var B=Math.min(x+Sa,f.length),y=f.slice(x,B);A(y,x),x+=y.length}}function A(B,y){B.forEach(function(v,c){var a=y+c,o=i.get(v),p=ut(o[0],["atts_since","attachments"]);p.open_revs=o.map(function(C){return C.rev}),p.open_revs=p.open_revs.filter(en);var g=en;p.open_revs.length===0&&(delete p.open_revs,g=ka),["revs","attachments","binary","ajax","latest"].forEach(function(C){C in t&&(p[C]=t[C])}),e.get(v,p,function(C,b){var S;C?S=[{error:C}]:S=g(b),_(a,v,S),m()})})}m()}var Dr;try{localStorage.setItem("_pouch_check_localstorage",1),Dr=!!localStorage.getItem("_pouch_check_localstorage")}catch{Dr=!1}function gt(){return Dr}const Oe=typeof queueMicrotask=="function"?queueMicrotask:function(t){Promise.resolve().then(t)};class qa extends Te{constructor(){super(),this._listeners={},gt()&&addEventListener("storage",t=>{this.emit(t.key)})}addListener(t,r,n,i){if(this._listeners[r])return;var s=!1,u=this;function h(){if(!u._listeners[r])return;if(s){s="waiting";return}s=!0;var d=ut(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function l(){s=!1}n.changes(d).on("change",function(_){_.seq>i.since&&!i.cancelled&&(i.since=_.seq,i.onChange(_))}).on("complete",function(){s==="waiting"&&Oe(h),s=!1}).on("error",l)}this._listeners[r]=h,this.on(t,h)}removeListener(t,r){r in this._listeners&&(super.removeListener(t,this._listeners[r]),delete this._listeners[r])}notifyLocalWindows(t){gt()&&(localStorage[t]=localStorage[t]==="a"?"b":"a")}notify(t){this.emit(t),this.notifyLocalWindows(t)}}function Ee(e){if(typeof console<"u"&&typeof console[e]=="function"){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function Oa(e,t){var r=6e5;e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t=t+1,t>r&&(e=r>>1,t=r);var n=Math.random(),i=t-e;return~~(i*n+e)}function Ra(e){var t=0;return e||(t=2e3),Oa(e,t)}function br(e,t){Ee("info","The above "+e+" is totally normal. "+t)}class ae extends Error{constructor(t,r,n){super(),this.status=t,this.name=r,this.message=n,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}}new ae(401,"unauthorized","Name or password is incorrect.");var Pa=new ae(400,"bad_request","Missing JSON list of 'docs'"),Be=new ae(404,"not_found","missing"),tt=new ae(409,"conflict","Document update conflict"),Mn=new ae(400,"bad_request","_id field must contain a string"),Ta=new ae(412,"missing_id","_id is required for puts"),Ia=new ae(400,"bad_request","Only reserved document ids may start with underscore.");new ae(412,"precondition_failed","Database not open");var Gr=new ae(500,"unknown_error","Database encountered an unknown error"),Kn=new ae(500,"badarg","Some query argument is invalid");new ae(400,"invalid_request","Request was invalid");var La=new ae(400,"query_parse_error","Some query parameter is invalid"),tn=new ae(500,"doc_validation","Bad special document member"),Dt=new ae(400,"bad_request","Something wrong with the request"),lr=new ae(400,"bad_request","Document must be a JSON object");new ae(404,"not_found","Database not found");var Yr=new ae(500,"indexed_db_went_bad","unknown");new ae(500,"web_sql_went_bad","unknown");new ae(500,"levelDB_went_went_bad","unknown");new ae(403,"forbidden","Forbidden by design doc validate_doc_update function");var pt=new ae(400,"bad_request","Invalid rev format");new ae(412,"file_exists","The database could not be created, the file already exists.");var Ha=new ae(412,"missing_stub","A pre-existing attachment stub wasn't found");new ae(413,"invalid_url","Provided URL is invalid");function Y(e,t){function r(n){for(var i=Object.getOwnPropertyNames(e),s=0,u=i.length;s<u;s++)typeof e[i[s]]!="function"&&(this[i[s]]=e[i[s]]);this.stack===void 0&&(this.stack=new Error().stack),n!==void 0&&(this.reason=n)}return r.prototype=ae.prototype,new r(t)}function rt(e){if(typeof e!="object"){var t=e;e=Gr,e.data=t}return"error"in e&&e.error==="conflict"&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=new Error().stack),e}function ja(e,t,r){try{return!e(t,r)}catch(i){var n="Filter function threw: "+i.toString();return Y(Dt,n)}}function Qr(e){var t={},r=e.filter&&typeof e.filter=="function";return t.query=e.query_params,function(i){i.doc||(i.doc={});var s=r&&ja(e.filter,i.doc,t);if(typeof s=="object")return s;if(s)return!1;if(!e.include_docs)delete i.doc;else if(!e.attachments)for(var u in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,u)&&(i.doc._attachments[u].stub=!0);return!0}}function Un(e){var t;if(e?typeof e!="string"?t=Y(Mn):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Y(Ia)):t=Y(Ta),t)throw t}function qe(e){return typeof e._remote=="boolean"?e._remote:typeof e.type=="function"?(Ee("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),e.type()==="http"):!1}function Na(e,t){return"listenerCount"in e?e.listenerCount(t):Te.listenerCount(e,t)}function wr(e){if(!e)return null;var t=e.split("/");return t.length===2?t:t.length===1?[e,e]:null}function rn(e){var t=wr(e);return t?t.join("/"):null}var nn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],an="queryKey",$a=/(?:^|&)([^&=]*)=?([^&]*)/g,za=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Wn(e){for(var t=za.exec(e),r={},n=14;n--;){var i=nn[n],s=t[n]||"",u=["user","password"].indexOf(i)!==-1;r[i]=u?decodeURIComponent(s):s}return r[an]={},r[nn[12]].replace($a,function(h,d,l){d&&(r[an][d]=l)}),r}function Xr(e,t){var r=[],n=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r.push(i),n.push(t[i]));return r.push(e),Function.apply(null,r).apply(null,n)}function yt(e,t,r){return e.get(t).catch(function(n){if(n.status!==404)throw n;return{}}).then(function(n){var i=n._rev,s=r(n);return s?(s._id=t,s._rev=i,Ma(e,s,r)):{updated:!1,rev:i}})}function Ma(e,t,r){return e.put(t).then(function(n){return{updated:!0,rev:n.rev}},function(n){if(n.status!==409)throw n;return yt(e,t._id,r)})}var Jr=function(e){return atob(e)},ft=function(e){return btoa(e)};function Zr(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(s){if(s.name!=="TypeError")throw s;for(var r=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,n=new r,i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function Ka(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}function Vr(e,t){return Zr([Ka(e)],{type:t})}function e0(e,t){return Vr(Jr(e),t)}function Ua(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return t}function Gn(e,t){var r=new FileReader,n=typeof r.readAsBinaryString=="function";r.onloadend=function(i){var s=i.target.result||"";if(n)return t(s);t(Ua(s))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function Yn(e,t){Gn(e,function(r){t(r)})}function t0(e,t){Yn(e,function(r){t(ft(r))})}function Wa(e,t){var r=new FileReader;r.onloadend=function(n){var i=n.target.result||new ArrayBuffer(0);t(i)},r.readAsArrayBuffer(e)}var Ga=self.setImmediate||self.setTimeout,Ya=32768;function Qa(e){return ft(e)}function Xa(e,t,r,n,i){(r>0||n<t.size)&&(t=t.slice(r,n)),Wa(t,function(s){e.append(s),i()})}function Ja(e,t,r,n,i){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),i()}function r0(e,t){var r=typeof e=="string",n=r?e.length:e.size,i=Math.min(Ya,n),s=Math.ceil(n/i),u=0,h=r?new Er:new Er.ArrayBuffer,d=r?Ja:Xa;function l(){Ga(f)}function _(){var x=h.end(!0),m=Qa(x);t(m),h.destroy()}function f(){var x=u*i,m=x+i;u++,u<s?d(h,e,x,m,l):d(h,e,x,m,_)}f()}function Qn(e){return Er.hash(e)}function Xn(e,t){if(!t)return Wr().replace(/-/g,"").toLowerCase();var r=Object.assign({},e);return delete r._rev_tree,Qn(JSON.stringify(r))}var bt=Wr;function Ke(e){for(var t,r,n,i=e.rev_tree.slice(),s;s=i.pop();){var u=s.ids,h=u[2],d=s.pos;if(h.length){for(var l=0,_=h.length;l<_;l++)i.push({pos:d+1,ids:h[l]});continue}var f=!!u[1].deleted,x=u[0];(!t||(n!==f?n:r!==d?r<d:t<x))&&(t=x,r=d,n=f)}return r+"-"+t}function Ue(e,t){for(var r=e.slice(),n;n=r.pop();)for(var i=n.pos,s=n.ids,u=s[2],h=t(u.length===0,i,s[0],n.ctx,s[1]),d=0,l=u.length;d<l;d++)r.push({pos:i+1,ids:u[d],ctx:h})}function Za(e,t){return e.pos-t.pos}function n0(e){var t=[];Ue(e,function(i,s,u,h,d){i&&t.push({rev:s+"-"+u,pos:s,opts:d})}),t.sort(Za).reverse();for(var r=0,n=t.length;r<n;r++)delete t[r].pos;return t}function i0(e){for(var t=Ke(e),r=n0(e.rev_tree),n=[],i=0,s=r.length;i<s;i++){var u=r[i];u.rev!==t&&!u.opts.deleted&&n.push(u.rev)}return n}function Va(e){var t=[];return Ue(e.rev_tree,function(r,n,i,s,u){u.status==="available"&&!r&&(t.push(n+"-"+i),u.status="missing")}),t}function es(e,t){let r=[];const n=e.slice();let i;for(;i=n.pop();){const{pos:s,ids:u}=i,h=`${s}-${u[0]}`,d=u[2];if(r.push(h),h===t){if(d.length!==0)throw new Error("The requested revision is not a leaf");return r.reverse()}(d.length===0||d.length>1)&&(r=[]);for(let l=0,_=d.length;l<_;l++)n.push({pos:s+1,ids:d[l]})}if(r.length===0)throw new Error("The requested revision does not exist");return r.reverse()}function Jn(e){for(var t=[],r=e.slice(),n;n=r.pop();){var i=n.pos,s=n.ids,u=s[0],h=s[1],d=s[2],l=d.length===0,_=n.history?n.history.slice():[];_.push({id:u,opts:h}),l&&t.push({pos:i+1-_.length,ids:_});for(var f=0,x=d.length;f<x;f++)r.push({pos:i+1,ids:d[f],history:_})}return t.reverse()}function ts(e,t){return e.pos-t.pos}function rs(e,t,r){for(var n=0,i=e.length,s;n<i;)s=n+i>>>1,r(e[s],t)<0?n=s+1:i=s;return n}function ns(e,t,r){var n=rs(e,t,r);e.splice(n,0,t)}function sn(e,t){for(var r,n,i=t,s=e.length;i<s;i++){var u=e[i],h=[u.id,u.opts,[]];n?(n[2].push(h),n=h):r=n=h}return r}function is(e,t){return e[0]<t[0]?-1:1}function on(e,t){for(var r=[{tree1:e,tree2:t}],n=!1;r.length>0;){var i=r.pop(),s=i.tree1,u=i.tree2;(s[1].status||u[1].status)&&(s[1].status=s[1].status==="available"||u[1].status==="available"?"available":"missing");for(var h=0;h<u[2].length;h++){if(!s[2][0]){n="new_leaf",s[2][0]=u[2][h];continue}for(var d=!1,l=0;l<s[2].length;l++)s[2][l][0]===u[2][h][0]&&(r.push({tree1:s[2][l],tree2:u[2][h]}),d=!0);d||(n="new_branch",ns(s[2],u[2][h],is))}}return{conflicts:n,tree:e}}function Zn(e,t,r){var n=[],i=!1,s=!1,u;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var h=0,d=e.length;h<d;h++){var l=e[h];if(l.pos===t.pos&&l.ids[0]===t.ids[0])u=on(l.ids,t.ids),n.push({pos:l.pos,ids:u.tree}),i=i||u.conflicts,s=!0;else if(r!==!0){var _=l.pos<t.pos?l:t,f=l.pos<t.pos?t:l,x=f.pos-_.pos,m=[],A=[];for(A.push({ids:_.ids,diff:x,parent:null,parentIdx:null});A.length>0;){var B=A.pop();if(B.diff===0){B.ids[0]===f.ids[0]&&m.push(B);continue}for(var y=B.ids[2],v=0,c=y.length;v<c;v++)A.push({ids:y[v],diff:B.diff-1,parent:B.ids,parentIdx:v})}var a=m[0];a?(u=on(a.ids,f.ids),a.parent[2][a.parentIdx]=u.tree,n.push({pos:_.pos,ids:_.ids}),i=i||u.conflicts,s=!0):n.push(l)}else n.push(l)}return s||n.push(t),n.sort(ts),{tree:n,conflicts:i||"internal_node"}}function as(e,t){for(var r=Jn(e),n,i,s=0,u=r.length;s<u;s++){var h=r[s],d=h.ids,l;if(d.length>t){n||(n={});var _=d.length-t;l={pos:h.pos+_,ids:sn(d,_)};for(var f=0;f<_;f++){var x=h.pos+f+"-"+d[f].id;n[x]=!0}}else l={pos:h.pos,ids:sn(d,0)};i?i=Zn(i,l,!0).tree:i=[l]}return n&&Ue(i,function(m,A,B){delete n[A+"-"+B]}),{tree:i,revs:n?Object.keys(n):[]}}function Vn(e,t,r){var n=Zn(e,t),i=as(n.tree,r);return{tree:i.tree,stemmedRevs:i.revs,conflicts:n.conflicts}}function ss(e,t){for(var r=e.slice(),n=t.split("-"),i=parseInt(n[0],10),s=n[1],u;u=r.pop();){if(u.pos===i&&u.ids[0]===s)return!0;for(var h=u.ids[2],d=0,l=h.length;d<l;d++)r.push({pos:u.pos+1,ids:h[d]})}return!1}function os(e){return e.ids}function Re(e,t){t||(t=Ke(e));for(var r=t.substring(t.indexOf("-")+1),n=e.rev_tree.map(os),i;i=n.pop();){if(i[0]===r)return!!i[1].deleted;n=n.concat(i[2])}}function Me(e){return typeof e=="string"&&e.startsWith("_local/")}function cs(e,t){for(var r=t.rev_tree.slice(),n;n=r.pop();){var i=n.pos,s=n.ids,u=s[0],h=s[1],d=s[2],l=d.length===0,_=n.history?n.history.slice():[];if(_.push({id:u,pos:i,opts:h}),l)for(var f=0,x=_.length;f<x;f++){var m=_[f],A=m.pos+"-"+m.id;if(A===e)return i+"-"+u}for(var B=0,y=d.length;B<y;B++)r.push({pos:i+1,ids:d[B],history:_})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function us(e,t,r,n){try{e.emit("change",t,r,n)}catch(i){Ee("error",'Error in .on("change", function):',i)}}function fs(e,t,r){var n=[{rev:e._rev}];r.style==="all_docs"&&(n=n0(t.rev_tree).map(function(s){return{rev:s.rev}}));var i={id:t.id,changes:n,doc:e};return Re(t,e._rev)&&(i.deleted=!0),r.conflicts&&(i.doc._conflicts=i0(t),i.doc._conflicts.length||delete i.doc._conflicts),i}class ls extends Te{constructor(t,r,n){super(),this.db=t,r=r?fe(r):{};var i=r.complete=Nn((h,d)=>{h?Na(this,"error")>0&&this.emit("error",h):this.emit("complete",d),this.removeAllListeners(),t.removeListener("destroyed",s)});n&&(this.on("complete",function(h){n(null,h)}),this.on("error",n));const s=()=>{this.cancel()};t.once("destroyed",s),r.onChange=(h,d,l)=>{this.isCancelled||us(this,h,d,l)};var u=new Promise(function(h,d){r.complete=function(l,_){l?d(l):h(_)}});this.once("cancel",function(){t.removeListener("destroyed",s),r.complete(null,{status:"cancelled"})}),this.then=u.then.bind(u),this.catch=u.catch.bind(u),this.then(function(h){i(null,h)},i),t.taskqueue.isReady?this.validateChanges(r):t.taskqueue.addTask(h=>{h?r.complete(h):this.isCancelled?this.emit("cancel"):this.validateChanges(r)})}cancel(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")}validateChanges(t){var r=t.complete;G._changesFilterPlugin?G._changesFilterPlugin.validate(t,n=>{if(n)return r(n);this.doChanges(t)}):this.doChanges(t)}doChanges(t){var r=t.complete;if(t=fe(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=fs,t.since==="latest"&&(t.since="now"),t.since||(t.since=0),t.since==="now"){this.db.info().then(i=>{if(this.isCancelled){r(null,{status:"cancelled"});return}t.since=i.update_seq,this.doChanges(t)},r);return}if(G._changesFilterPlugin){if(G._changesFilterPlugin.normalize(t),G._changesFilterPlugin.shouldFilter(this,t))return G._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(i){i in t&&Ee("warn",'The "'+i+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=t.limit===0?1:t.limit,t.complete=r;var n=this.db._changes(t);if(n&&typeof n.cancel=="function"){const i=this.cancel;this.cancel=(...s)=>{n.cancel(),i.apply(this,s)}}}}function xr(e,t){return function(r,n){r||n[0]&&n[0].error?(r=r||n[0],r.docId=t,e(r)):e(null,n.length?n[0]:n)}}function xs(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),i=0;i<n.length;i++){var s=n[i];r._attachments[s]=ut(r._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}function ds(e,t){if(e._id===t._id){const r=e._revisions?e._revisions.start:0,n=t._revisions?t._revisions.start:0;return r-n}return e._id<t._id?-1:1}function hs(e){var t={},r=[];return Ue(e,function(n,i,s,u){var h=i+"-"+s;return n&&(t[h]=0),u!==void 0&&r.push({from:u,to:h}),h}),r.reverse(),r.forEach(function(n){t[n.from]===void 0?t[n.from]=1+t[n.to]:t[n.from]=Math.min(t[n.from],1+t[n.to])}),t}function vs(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}function ei(e){var t=e._compactionQueue[0],r=t.opts,n=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(i){i&&i.last_seq&&(r.last_seq=i.last_seq),e._compact(r,function(s,u){s?n(s):n(null,u),Oe(function(){e._compactionQueue.shift(),e._compactionQueue.length&&ei(e)})})})}function ps(e,t,r){return e.get("_local/purges").then(function(n){const i=n.purgeSeq+1;return n.purges.push({docId:t,rev:r,purgeSeq:i}),n.purges.length>self.purged_infos_limit&&n.purges.splice(0,n.purges.length-self.purged_infos_limit),n.purgeSeq=i,n}).catch(function(n){if(n.status!==404)throw n;return{_id:"_local/purges",purges:[{docId:t,rev:r,purgeSeq:0}],purgeSeq:0}}).then(function(n){return e.put(n)})}function _s(e){return e.charAt(0)==="_"?e+" is not a valid attachment name, attachment names cannot start with '_'":!1}function dr(e){return e===null||typeof e!="object"||Array.isArray(e)}const gs=/^\d+-[^-]*$/;function hr(e){return typeof e=="string"&&gs.test(e)}class ti extends Te{_setup(){this.post=se("post",function(t,r,n){if(typeof r=="function"&&(n=r,r={}),dr(t))return n(Y(lr));this.bulkDocs({docs:[t]},r,xr(n,t._id))}).bind(this),this.put=se("put",function(t,r,n){if(typeof r=="function"&&(n=r,r={}),dr(t))return n(Y(lr));if(Un(t._id),"_rev"in t&&!hr(t._rev))return n(Y(pt));if(Me(t._id)&&typeof this._putLocal=="function")return t._deleted?this._removeLocal(t,n):this._putLocal(t,n);const i=u=>{typeof this._put=="function"&&r.new_edits!==!1?this._put(t,r,u):this.bulkDocs({docs:[t]},r,xr(u,t._id))};r.force&&t._rev?(s(),i(function(u){var h=u?null:{ok:!0,id:t._id,rev:t._rev};n(u,h)})):i(n);function s(){var u=t._rev.split("-"),h=u[1],d=parseInt(u[0],10),l=d+1,_=Xn();t._revisions={start:l,ids:[_,h]},t._rev=l+"-"+_,r.new_edits=!1}}).bind(this),this.putAttachment=se("putAttachment",function(t,r,n,i,s){var u=this;typeof s=="function"&&(s=i,i=n,n=null),typeof s>"u"&&(s=i,i=n,n=null),s||Ee("warn","Attachment",r,"on document",t,"is missing content_type");function h(d){var l="_rev"in d?parseInt(d._rev,10):0;return d._attachments=d._attachments||{},d._attachments[r]={content_type:s,data:i,revpos:++l},u.put(d)}return u.get(t).then(function(d){if(d._rev!==n)throw Y(tt);return h(d)},function(d){if(d.reason===Be.message)return h({_id:t});throw d})}).bind(this),this.removeAttachment=se("removeAttachment",function(t,r,n,i){this.get(t,(s,u)=>{if(s){i(s);return}if(u._rev!==n){i(Y(tt));return}if(!u._attachments)return i();delete u._attachments[r],Object.keys(u._attachments).length===0&&delete u._attachments,this.put(u,i)})}).bind(this),this.remove=se("remove",function(t,r,n,i){var s;typeof r=="string"?(s={_id:t,_rev:r},typeof n=="function"&&(i=n,n={})):(s=t,typeof r=="function"?(i=r,n={}):(i=n,n=r)),n=n||{},n.was_delete=!0;var u={_id:s._id,_rev:s._rev||n.rev};if(u._deleted=!0,Me(u._id)&&typeof this._removeLocal=="function")return this._removeLocal(s,i);this.bulkDocs({docs:[u]},n,xr(i,u._id))}).bind(this),this.revsDiff=se("revsDiff",function(t,r,n){typeof r=="function"&&(n=r,r={});var i=Object.keys(t);if(!i.length)return n(null,{});var s=0,u=new Map;function h(l,_){u.has(l)||u.set(l,{missing:[]}),u.get(l).missing.push(_)}function d(l,_){var f=t[l].slice(0);Ue(_,function(x,m,A,B,y){var v=m+"-"+A,c=f.indexOf(v);c!==-1&&(f.splice(c,1),y.status!=="available"&&h(l,v))}),f.forEach(function(x){h(l,x)})}i.forEach(function(l){this._getRevisionTree(l,function(_,f){if(_&&_.status===404&&_.message==="missing")u.set(l,{missing:t[l]});else{if(_)return n(_);d(l,f)}if(++s===i.length){var x={};return u.forEach(function(m,A){x[A]=m}),n(null,x)}})},this)}).bind(this),this.bulkGet=se("bulkGet",function(t,r){zn(this,t,r)}).bind(this),this.compactDocument=se("compactDocument",function(t,r,n){this._getRevisionTree(t,(i,s)=>{if(i)return n(i);var u=hs(s),h=[],d=[];Object.keys(u).forEach(function(l){u[l]>r&&h.push(l)}),Ue(s,function(l,_,f,x,m){var A=_+"-"+f;m.status==="available"&&h.indexOf(A)!==-1&&d.push(A)}),this._doCompaction(t,d,n)})}).bind(this),this.compact=se("compact",function(t,r){typeof t=="function"&&(r=t,t={}),t=t||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:t,callback:r}),this._compactionQueue.length===1&&ei(this)}).bind(this),this.get=se("get",function(t,r,n){if(typeof r=="function"&&(n=r,r={}),r=r||{},typeof t!="string")return n(Y(Mn));if(Me(t)&&typeof this._getLocal=="function")return this._getLocal(t,n);var i=[];const s=()=>{var d=[],l=i.length;if(!l)return n(null,d);i.forEach(_=>{this.get(t,{rev:_,revs:r.revs,latest:r.latest,attachments:r.attachments,binary:r.binary},function(f,x){if(f)d.push({missing:_});else{for(var m,A=0,B=d.length;A<B;A++)if(d[A].ok&&d[A].ok._rev===x._rev){m=!0;break}m||d.push({ok:x})}l--,l||n(null,d)})})};if(r.open_revs){if(r.open_revs==="all")this._getRevisionTree(t,function(d,l){if(d)return n(d);i=n0(l).map(function(_){return _.rev}),s()});else if(Array.isArray(r.open_revs)){i=r.open_revs;for(var u=0;u<i.length;u++){var h=i[u];if(!hr(h))return n(Y(pt))}s()}else return n(Y(Gr,"function_clause"));return}return this._get(t,r,(d,l)=>{if(d)return d.docId=t,n(d);var _=l.doc,f=l.metadata,x=l.ctx;if(r.conflicts){var m=i0(f);m.length&&(_._conflicts=m)}if(Re(f,_._rev)&&(_._deleted=!0),r.revs||r.revs_info){for(var A=_._rev.split("-"),B=parseInt(A[0],10),y=A[1],v=Jn(f.rev_tree),c=null,a=0;a<v.length;a++){var o=v[a];const O=o.ids.findIndex(j=>j.id===y);var p=O===B-1;(p||!c&&O!==-1)&&(c=o)}if(!c)return d=new Error("invalid rev tree"),d.docId=t,n(d);const F=_._rev.split("-")[1],I=c.ids.findIndex(O=>O.id===F)+1;var g=c.ids.length-I;if(c.ids.splice(I,g),c.ids.reverse(),r.revs&&(_._revisions={start:c.pos+c.ids.length-1,ids:c.ids.map(function(O){return O.id})}),r.revs_info){var C=c.pos+c.ids.length;_._revs_info=c.ids.map(function(O){return C--,{rev:C+"-"+O.id,status:O.opts.status}})}}if(r.attachments&&_._attachments){var b=_._attachments,S=Object.keys(b).length;if(S===0)return n(null,_);Object.keys(b).forEach(F=>{this._getAttachment(_._id,F,b[F],{binary:r.binary,metadata:f,ctx:x},function(I,O){var j=_._attachments[F];j.data=O,delete j.stub,delete j.length,--S||n(null,_)})})}else{if(_._attachments)for(var D in _._attachments)Object.prototype.hasOwnProperty.call(_._attachments,D)&&(_._attachments[D].stub=!0);n(null,_)}})}).bind(this),this.getAttachment=se("getAttachment",function(t,r,n,i){n instanceof Function&&(i=n,n={}),this._get(t,n,(s,u)=>{if(s)return i(s);if(u.doc._attachments&&u.doc._attachments[r])n.ctx=u.ctx,n.binary=!0,n.metadata=u.metadata,this._getAttachment(t,r,u.doc._attachments[r],n,i);else return i(Y(Be))})}).bind(this),this.allDocs=se("allDocs",function(t,r){if(typeof t=="function"&&(r=t,t={}),t.skip=typeof t.skip<"u"?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return r(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(i){return i in t})[0];if(n){r(Y(La,"Query parameter `"+n+"` is not compatible with multi-get"));return}if(!qe(this)&&(vs(t),t.keys.length===0))return this._allDocs({limit:0},r)}return this._allDocs(t,r)}).bind(this),this.close=se("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}).bind(this),this.info=se("info",function(t){this._info((r,n)=>{if(r)return t(r);n.db_name=n.db_name||this.name,n.auto_compaction=!!(this.auto_compaction&&!qe(this)),n.adapter=this.adapter,t(null,n)})}).bind(this),this.id=se("id",function(t){return this._id(t)}).bind(this),this.bulkDocs=se("bulkDocs",function(t,r,n){if(typeof r=="function"&&(n=r,r={}),r=r||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(Y(Pa));for(var i=0;i<t.docs.length;++i){const d=t.docs[i];if(dr(d))return n(Y(lr));if("_rev"in d&&!hr(d._rev))return n(Y(pt))}var s;if(t.docs.forEach(function(d){d._attachments&&Object.keys(d._attachments).forEach(function(l){s=s||_s(l),d._attachments[l].content_type||Ee("warn","Attachment",l,"on document",d._id,"is missing content_type")})}),s)return n(Y(Dt,s));"new_edits"in r||("new_edits"in t?r.new_edits=t.new_edits:r.new_edits=!0);var u=this;!r.new_edits&&!qe(u)&&t.docs.sort(ds),xs(t.docs);var h=t.docs.map(function(d){return d._id});this._bulkDocs(t,r,function(d,l){if(d)return n(d);if(r.new_edits||(l=l.filter(function(x){return x.error})),!qe(u))for(var _=0,f=l.length;_<f;_++)l[_].id=l[_].id||h[_];n(null,l)})}).bind(this),this.registerDependentDatabase=se("registerDependentDatabase",function(t,r){var n=fe(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(t,n);function s(u){return u.dependentDbs=u.dependentDbs||{},u.dependentDbs[t]?!1:(u.dependentDbs[t]=!0,u)}yt(this,"_local/_pouch_dependentDbs",s).then(function(){r(null,{db:i})}).catch(r)}).bind(this),this.destroy=se("destroy",function(t,r){typeof t=="function"&&(r=t,t={});var n="use_prefix"in this?this.use_prefix:!0;const i=()=>{this._destroy(t,(s,u)=>{if(s)return r(s);this._destroyed=!0,this.emit("destroyed"),r(null,u||{ok:!0})})};if(qe(this))return i();this.get("_local/_pouch_dependentDbs",(s,u)=>{if(s)return s.status!==404?r(s):i();var h=u.dependentDbs,d=this.constructor,l=Object.keys(h).map(_=>{var f=n?_.replace(new RegExp("^"+d.prefix),""):_;return new d(f,this.__opts).destroy()});Promise.all(l).then(i,r)})}).bind(this)}_compact(t,r){var n={return_docs:!1,last_seq:t.last_seq||0,since:t.last_seq||0},i=[],s,u=0;const h=_=>{this.activeTasks.update(s,{completed_items:++u}),i.push(this.compactDocument(_.id,0))},d=_=>{this.activeTasks.remove(s,_),r(_)},l=_=>{var f=_.last_seq;Promise.all(i).then(()=>yt(this,"_local/compaction",x=>!x.last_seq||x.last_seq<f?(x.last_seq=f,x):!1)).then(()=>{this.activeTasks.remove(s),r(null,{ok:!0})}).catch(d)};this.info().then(_=>{s=this.activeTasks.add({name:"database_compaction",total_items:_.update_seq-n.last_seq}),this.changes(n).on("change",h).on("complete",l).on("error",d)})}changes(t,r){return typeof t=="function"&&(r=t,t={}),t=t||{},t.return_docs="return_docs"in t?t.return_docs:!t.live,new ls(this,t,r)}type(){return typeof this._type=="function"?this._type():this.adapter}}ti.prototype.purge=se("_purge",function(e,t,r){if(typeof this._purge>"u")return r(Y(Gr,"Purge is not implemented in the "+this.adapter+" adapter."));var n=this;n._getRevisionTree(e,(i,s)=>{if(i)return r(i);if(!s)return r(Y(Be));let u;try{u=es(s,t)}catch(h){return r(h.message||h)}n._purge(e,u,(h,d)=>{if(h)return r(h);ps(n,e,t).then(function(){return r(null,d)})})})});class ys{constructor(){this.isReady=!1,this.failed=!1,this.queue=[]}execute(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()}fail(t){this.failed=t,this.execute()}ready(t){this.isReady=!0,this.db=t,this.execute()}addTask(t){this.queue.push(t),this.failed&&this.execute()}}function ms(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=G.adapters,i=G.preferredAdapters,s=G.prefix,u=t.adapter;if(!u)for(var h=0;h<i.length;++h){if(u=i[h],u==="idb"&&"websql"in n&&gt()&&localStorage["_pouch__websqldb_"+s+e]){Ee("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var d=n[u],l=d&&"use_prefix"in d?d.use_prefix:!0;return{name:l?s+e:e,adapter:u}}function As(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e}})}function ri(e,t){let r=function(...n){if(!(this instanceof r))return new r(...n);t.apply(this,n)};return As(r,e),r}function Bs(e){function t(n){e.removeListener("closed",r),n||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)}class cn extends ti{constructor(t,r){super(),this._setup(t,r)}_setup(t,r){if(super._setup(),r=r||{},t&&typeof t=="object"&&(r=t,t=r.name,delete r.name),r.deterministic_revs===void 0&&(r.deterministic_revs=!0),this.__opts=r=fe(r),this.auto_compaction=r.auto_compaction,this.purged_infos_limit=r.purged_infos_limit||1e3,this.prefix=G.prefix,typeof t!="string")throw new Error("Missing/invalid DB name");var n=(r.prefix||"")+t,i=ms(n,r);if(r.name=i.name,r.adapter=r.adapter||i.adapter,this.name=t,this._adapter=r.adapter,G.emit("debug",["adapter","Picked adapter: ",r.adapter]),!G.adapters[r.adapter]||!G.adapters[r.adapter].valid())throw new Error("Invalid Adapter: "+r.adapter);if(r.view_adapter&&(!G.adapters[r.view_adapter]||!G.adapters[r.view_adapter].valid()))throw new Error("Invalid View Adapter: "+r.view_adapter);this.taskqueue=new ys,this.adapter=r.adapter,G.adapters[r.adapter].call(this,r,s=>{if(s)return this.taskqueue.fail(s);Bs(this),this.emit("created",this),G.emit("created",this.name),this.taskqueue.ready(this)})}}const G=ri(cn,function(e,t){cn.prototype._setup.call(this,e,t)});var ni=fetch,Ve=Headers;class Cs{constructor(){this.tasks={}}list(){return Object.values(this.tasks)}add(t){const r=Wr();return this.tasks[r]={id:r,name:t.name,total_items:t.total_items,created_at:new Date().toJSON()},r}get(t){return this.tasks[t]}remove(t,r){return delete this.tasks[t],this.tasks}update(t,r){const n=this.tasks[t];if(typeof n<"u"){const i={id:n.id,name:n.name,created_at:n.created_at,total_items:r.total_items||n.total_items,completed_items:r.completed_items||n.completed_items,updated_at:new Date().toJSON()};this.tasks[t]=i}return this.tasks}}G.adapters={};G.preferredAdapters=[];G.prefix="_pouch_";var un=new Te;function Es(e){Object.keys(Te.prototype).forEach(function(r){typeof Te.prototype[r]=="function"&&(e[r]=un[r].bind(un))});var t=e._destructionListeners=new Map;e.on("ref",function(n){t.has(n.name)||t.set(n.name,[]),t.get(n.name).push(n)}),e.on("unref",function(n){if(t.has(n.name)){var i=t.get(n.name),s=i.indexOf(n);s<0||(i.splice(s,1),i.length>1?t.set(n.name,i):t.delete(n.name))}}),e.on("destroyed",function(n){if(t.has(n)){var i=t.get(n);t.delete(n),i.forEach(function(s){s.emit("destroyed",!0)})}})}Es(G);G.adapter=function(e,t,r){t.valid()&&(G.adapters[e]=t,r&&G.preferredAdapters.push(e))};G.plugin=function(e){if(typeof e=="function")e(G);else{if(typeof e!="object"||Object.keys(e).length===0)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){G.prototype[t]=e[t]})}return this.__defaults&&(G.__defaults=Object.assign({},this.__defaults)),G};G.defaults=function(e){let t=ri(G,function(r,n){n=n||{},r&&typeof r=="object"&&(n=r,r=n.name,delete n.name),n=Object.assign({},t.__defaults,n),G.call(this,r,n)});return t.preferredAdapters=G.preferredAdapters.slice(),Object.keys(G).forEach(function(r){r in t||(t[r]=G[r])}),t.__defaults=Object.assign({},this.__defaults,e),t};G.fetch=function(e,t){return ni(e,t)};G.prototype.activeTasks=G.activeTasks=new Cs;var Ds="9.0.0";function a0(e,t){for(var r=e,n=0,i=t.length;n<i;n++){var s=t[n];if(r=r[s],!r)break}return r}function bs(e,t){return e<t?-1:e>t?1:0}function s0(e){for(var t=[],r="",n=0,i=e.length;n<i;n++){var s=e[n];n>0&&e[n-1]==="\\"&&(s==="$"||s===".")?r=r.substring(0,r.length-1)+s:s==="."?(t.push(r),r=""):r+=s}return t.push(r),t}var ws=["$or","$nor","$not"];function ii(e){return ws.indexOf(e)>-1}function ai(e){return Object.keys(e)[0]}function Fs(e){return e[ai(e)]}function ct(e){var t={},r={$or:!0,$nor:!0};return e.forEach(function(n){Object.keys(n).forEach(function(i){var s=n[i];if(typeof s!="object"&&(s={$eq:s}),ii(i))if(s instanceof Array){if(r[i]){r[i]=!1,t[i]=s;return}var u=[];t[i].forEach(function(d){Object.keys(s).forEach(function(l){var _=s[l],f=Math.max(Object.keys(d).length,Object.keys(_).length),x=ct([d,_]);Object.keys(x).length<=f||u.push(x)})}),t[i]=u}else t[i]=ct([s]);else{var h=t[i]=t[i]||{};Object.keys(s).forEach(function(d){var l=s[d];if(d==="$gt"||d==="$gte")return Ss(d,l,h);if(d==="$lt"||d==="$lte")return ks(d,l,h);if(d==="$ne")return qs(l,h);if(d==="$eq")return Os(l,h);if(d==="$regex")return Rs(l,h);h[d]=l})}})}),t}function Ss(e,t,r){typeof r.$eq<"u"||(typeof r.$gte<"u"?e==="$gte"?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):typeof r.$gt<"u"?e==="$gte"?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}function ks(e,t,r){typeof r.$eq<"u"||(typeof r.$lte<"u"?e==="$lte"?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):typeof r.$lt<"u"?e==="$lte"?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}function qs(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function Os(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function Rs(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}function si(e){for(var t in e){if(Array.isArray(e))for(var r in e)e[r].$and&&(e[r]=ct(e[r].$and));var n=e[t];typeof n=="object"&&si(n)}return e}function oi(e,t){for(var r in e){r==="$and"&&(t=!0);var n=e[r];typeof n=="object"&&(t=oi(n,t))}return t}function Ps(e){var t=fe(e);oi(t,!1)&&(t=si(t),"$and"in t&&(t=ct(t.$and))),["$or","$nor"].forEach(function(u){u in t&&t[u].forEach(function(h){for(var d=Object.keys(h),l=0;l<d.length;l++){var _=d[l],f=h[_];(typeof f!="object"||f===null)&&(h[_]={$eq:f})}})}),"$not"in t&&(t.$not=ct([t.$not]));for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n],s=t[i];(typeof s!="object"||s===null)&&(s={$eq:s}),t[i]=s}return Fr(t),t}function Fr(e){Object.keys(e).forEach(function(t){var r=e[t];Array.isArray(r)?r.forEach(function(n){n&&typeof n=="object"&&Fr(n)}):t==="$ne"?e.$ne=[r]:t==="$regex"?e.$regex=[r]:r&&typeof r=="object"&&Fr(r)})}function Ts(e,t,r){for(var n="",i=r-e.length;n.length<i;)n+=t;return n}function Is(e,t,r){var n=Ts(e,t,r);return n+e}var ci=-324,Sr=3,kr="";function oe(e,t){if(e===t)return 0;e=We(e),t=We(t);var r=qr(e),n=qr(t);if(r-n!==0)return r-n;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return zs(e,t)}return Array.isArray(e)?$s(e,t):Ms(e,t)}function We(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=We(t[n])}else{if(e instanceof Date)return e.toJSON();if(e!==null){e={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];typeof s<"u"&&(e[i]=We(s))}}}}return e}function Ls(e){if(e!==null)switch(typeof e){case"boolean":return e?1:0;case"number":return Ks(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,i=r.length,s="";if(t)for(;++n<i;)s+=be(r[n]);else for(;++n<i;){var u=r[n];s+=be(u)+be(e[u])}return s}return""}function be(e){var t="\0";return e=We(e),qr(e)+kr+Ls(e)+t}function Hs(e,t){var r=t,n,i=e[t]==="1";if(i)n=0,t++;else{var s=e[t]==="0";t++;var u="",h=e.substring(t,t+Sr),d=parseInt(h,10)+ci;for(s&&(d=-d),t+=Sr;;){var l=e[t];if(l==="\0")break;u+=l,t++}u=u.split("."),u.length===1?n=parseInt(u,10):n=parseFloat(u[0]+"."+u[1]),s&&(n=n-10),d!==0&&(n=parseFloat(n+"e"+d))}return{num:n,length:t-r}}function js(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var i=n.element,s=n.index;if(Array.isArray(i))i.push(r);else if(s===e.length-2){var u=e.pop();i[u]=r}else e.push(r)}}function Ns(e){for(var t=[],r=[],n=0;;){var i=e[n++];if(i==="\0"){if(t.length===1)return t.pop();js(t,r);continue}switch(i){case"1":t.push(null);break;case"2":t.push(e[n]==="1"),n++;break;case"3":var s=Hs(e,n);t.push(s.num),n+=s.length;break;case"4":for(var u="";;){var h=e[n];if(h==="\0")break;u+=h,n++}u=u.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(u);break;case"5":var d={element:[],index:t.length};t.push(d.element),r.push(d);break;case"6":var l={element:{},index:t.length};t.push(l.element),r.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}}}function $s(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=oe(e[n],t[n]);if(i!==0)return i}return e.length===t.length?0:e.length>t.length?1:-1}function zs(e,t){return e===t?0:e>t?1:-1}function Ms(e,t){for(var r=Object.keys(e),n=Object.keys(t),i=Math.min(r.length,n.length),s=0;s<i;s++){var u=oe(r[s],n[s]);if(u!==0||(u=oe(e[r[s]],t[n[s]]),u!==0))return u}return r.length===n.length?0:r.length>n.length?1:-1}function qr(e){var t=["boolean","number","string","object"],r=t.indexOf(typeof e);if(~r)return e===null?1:Array.isArray(e)?5:r<3?r+2:r+3;if(Array.isArray(e))return 5}function Ks(e){if(e===0)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,i=n?"0":"2",s=(n?-r:r)-ci,u=Is(s.toString(),"0",Sr);i+=kr+u;var h=Math.abs(parseFloat(t[0]));n&&(h=10-h);var d=h.toFixed(20);return d=d.replace(/\.?0+$/,""),i+=kr+d,i}function Us(e){function t(r){return e.map(function(n){var i=ai(n),s=s0(i),u=a0(r,s);return u})}return function(r,n){var i=t(r.doc),s=t(n.doc),u=oe(i,s);return u!==0?u:bs(r.doc._id,n.doc._id)}}function Ws(e,t,r){if(e=e.filter(function(u){return et(u.doc,t.selector,r)}),t.sort){var n=Us(t.sort);e=e.sort(n),typeof t.sort[0]!="string"&&Fs(t.sort[0])==="desc"&&(e=e.reverse())}if("limit"in t||"skip"in t){var i=t.skip||0,s=("limit"in t?t.limit:e.length)+i;e=e.slice(i,s)}return e}function et(e,t,r){return r.every(function(n){var i=t[n],s=s0(n),u=a0(e,s);return ii(n)?Gs(n,i,e):mt(i,e,s,u)})}function mt(e,t,r,n){return e?typeof e=="object"?Object.keys(e).every(function(i){var s=e[i];if(i.indexOf("$")===0)return fn(i,t,s,r,n);var u=s0(i);if(n===void 0&&typeof s!="object"&&u.length>0)return!1;var h=a0(n,u);return typeof s=="object"?mt(s,t,r,h):fn("$eq",t,s,u,h)}):e===n:!0}function Gs(e,t,r){return e==="$or"?t.some(function(n){return et(r,n,Object.keys(n))}):e==="$not"?!et(r,t,Object.keys(t)):!t.find(function(n){return et(r,n,Object.keys(n))})}function fn(e,t,r,n,i){if(!xn[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return xn[e](t,r,n,i)}function at(e){return typeof e<"u"&&e!==null}function He(e){return typeof e<"u"}function Ys(e,t){if(typeof e!="number"||parseInt(e,10)!==e)return!1;var r=t[0],n=t[1];return e%r===n}function ln(e,t){return t.some(function(r){return e instanceof Array?e.some(function(n){return oe(r,n)===0}):oe(r,e)===0})}function Qs(e,t){return t.every(function(r){return e.some(function(n){return oe(r,n)===0})})}function Xs(e,t){return e.length===t}function Js(e,t){var r=new RegExp(t);return r.test(e)}function Zs(e,t){switch(t){case"null":return e===null;case"boolean":return typeof e=="boolean";case"number":return typeof e=="number";case"string":return typeof e=="string";case"array":return e instanceof Array;case"object":return{}.toString.call(e)==="[object Object]"}}var xn={$elemMatch:function(e,t,r,n){return!Array.isArray(n)||n.length===0?!1:typeof n[0]=="object"&&n[0]!==null?n.some(function(i){return et(i,t,Object.keys(t))}):n.some(function(i){return mt(t,e,r,i)})},$allMatch:function(e,t,r,n){return!Array.isArray(n)||n.length===0?!1:typeof n[0]=="object"&&n[0]!==null?n.every(function(i){return et(i,t,Object.keys(t))}):n.every(function(i){return mt(t,e,r,i)})},$eq:function(e,t,r,n){return He(n)&&oe(n,t)===0},$gte:function(e,t,r,n){return He(n)&&oe(n,t)>=0},$gt:function(e,t,r,n){return He(n)&&oe(n,t)>0},$lte:function(e,t,r,n){return He(n)&&oe(n,t)<=0},$lt:function(e,t,r,n){return He(n)&&oe(n,t)<0},$exists:function(e,t,r,n){return t?He(n):!He(n)},$mod:function(e,t,r,n){return at(n)&&Ys(n,t)},$ne:function(e,t,r,n){return t.every(function(i){return oe(n,i)!==0})},$in:function(e,t,r,n){return at(n)&&ln(n,t)},$nin:function(e,t,r,n){return at(n)&&!ln(n,t)},$size:function(e,t,r,n){return at(n)&&Array.isArray(n)&&Xs(n,t)},$all:function(e,t,r,n){return Array.isArray(n)&&Qs(n,t)},$regex:function(e,t,r,n){return at(n)&&typeof n=="string"&&t.every(function(i){return Js(n,i)})},$type:function(e,t,r,n){return Zs(n,t)}};function Vs(e,t){if(typeof t!="object")throw new Error("Selector error: expected a JSON object");t=Ps(t);var r={doc:e},n=Ws([r],{selector:t},Object.keys(t));return n&&n.length===1}function eo(e){return Xr(`"use strict";
return `+e+";",{})}function to(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return Xr(t,{})}function ro(e,t){if(e.selector&&e.filter&&e.filter!=="_selector"){var r=typeof e.filter=="string"?e.filter:"function";return t(new Error('selector invalid for filter "'+r+'"'))}t()}function no(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&typeof e.filter=="string"&&(e.filter==="_view"?e.view=rn(e.view):e.filter=rn(e.filter))}function io(e,t){return t.filter&&typeof t.filter=="string"&&!t.doc_ids&&!qe(e.db)}function ao(e,t){var r=t.complete;if(t.filter==="_view"){if(!t.view||typeof t.view!="string"){var n=Y(Dt,"`view` filter parameter not found or invalid.");return r(n)}var i=wr(t.view);e.db.get("_design/"+i[0],function(u,h){if(e.isCancelled)return r(null,{status:"cancelled"});if(u)return r(rt(u));var d=h&&h.views&&h.views[i[1]]&&h.views[i[1]].map;if(!d)return r(Y(Be,h.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=to(d),e.doChanges(t)})}else if(t.selector)t.filter=function(u){return Vs(u,t.selector)},e.doChanges(t);else{var s=wr(t.filter);e.db.get("_design/"+s[0],function(u,h){if(e.isCancelled)return r(null,{status:"cancelled"});if(u)return r(rt(u));var d=h&&h.filters&&h.filters[s[1]];if(!d)return r(Y(Be,h&&h.filters?"missing json key: "+s[1]:"missing json key: filters"));t.filter=eo(d),e.doChanges(t)})}}function so(e){e._changesFilterPlugin={validate:ro,normalize:no,shouldFilter:io,filter:ao}}G.plugin(so);G.version=Ds;function oo(e,t,r){return new Promise(function(n){var i=Zr([""]);let s;{const u=r;s=e.objectStore(t).put(i,u)}s.onsuccess=function(){var u=navigator.userAgent.match(/Chrome\/(\d+)/),h=navigator.userAgent.match(/Edge\//);n(h||!u||parseInt(u[1],10)>=43)},s.onerror=e.onabort=function(u){u.preventDefault(),u.stopPropagation(),n(!1)}}).catch(function(){return!1})}function ui(e){return e.reduce(function(t,r){return t[r]=!0,t},{})}var co=ui(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),uo=ui(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function dn(e){if(!/^\d+-/.test(e))return Y(pt);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function fo(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,i=[n[0],t,[]],s=1,u=n.length;s<u;s++)i=[n[s],{status:"missing"},[i]];return[{pos:r,ids:i}]}function fi(e,t,r){r||(r={deterministic_revs:!0});var n,i,s,u={status:"available"};if(e._deleted&&(u.deleted=!0),t)if(e._id||(e._id=bt()),i=Xn(e,r.deterministic_revs),e._rev){if(s=dn(e._rev),s.error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[i,u,[]]]]}],n=s.prefix+1}else e._rev_tree=[{pos:1,ids:[i,u,[]]}],n=1;else if(e._revisions&&(e._rev_tree=fo(e._revisions,u),n=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if(s=dn(e._rev),s.error)return s;n=s.prefix,i=s.id,e._rev_tree=[{pos:n,ids:[i,u,[]]}]}Un(e._id),e._rev=n+"-"+i;var h={metadata:{},data:{}};for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)){var l=d[0]==="_";if(l&&!co[d]){var _=Y(tn,d);throw _.message=tn.message+": "+d,_}else l&&!uo[d]?h.metadata[d.slice(1)]=e[d]:h.data[d]=e[d]}return h}function lo(e){try{return Jr(e)}catch{var t=Y(Kn,"Attachment is not a valid base64 string");return{error:t}}}function xo(e,t,r){var n=lo(e.data);if(n.error)return r(n.error);e.length=n.length,t==="blob"?e.data=Vr(n,e.content_type):t==="base64"?e.data=ft(n):e.data=n,r0(n,function(i){e.digest="md5-"+i,r()})}function ho(e,t,r){r0(e.data,function(n){e.digest="md5-"+n,e.length=e.data.size||e.data.length||0,t==="binary"?Yn(e.data,function(i){e.data=i,r()}):t==="base64"?t0(e.data,function(i){e.data=i,r()}):r()})}function vo(e,t,r){if(e.stub)return r();typeof e.data=="string"?xo(e,t,r):ho(e,t,r)}function po(e,t,r){if(!e.length)return r();var n=0,i;e.forEach(function(u){var h=u.data&&u.data._attachments?Object.keys(u.data._attachments):[],d=0;if(!h.length)return s();function l(f){i=f,d++,d===h.length&&s()}for(var _ in u.data._attachments)Object.prototype.hasOwnProperty.call(u.data._attachments,_)&&vo(u.data._attachments[_],t,l)});function s(){n++,e.length===n&&(i?r(i):r())}}function _o(e,t,r,n,i,s,u,h){if(ss(t.rev_tree,r.metadata.rev)&&!h)return n[i]=r,s();var d=t.winningRev||Ke(t),l="deleted"in t?t.deleted:Re(t,d),_="deleted"in r.metadata?r.metadata.deleted:Re(r.metadata),f=/^1-/.test(r.metadata.rev);if(l&&!_&&h&&f){var x=r.data;x._rev=d,x._id=r.metadata.id,r=fi(x,h)}var m=Vn(t.rev_tree,r.metadata.rev_tree[0],e),A=h&&(l&&_&&m.conflicts!=="new_leaf"||!l&&m.conflicts!=="new_leaf"||l&&!_&&m.conflicts==="new_branch");if(A){var B=Y(tt);return n[i]=B,s()}var y=r.metadata.rev;r.metadata.rev_tree=m.tree,r.stemmedRevs=m.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var v=Ke(r.metadata),c=Re(r.metadata,v),a=l===c?0:l<c?-1:1,o;y===v?o=c:o=Re(r.metadata,y),u(r,v,c,o,!0,a,i,s)}function go(e){return e.metadata.rev_tree[0].ids[1].status==="missing"}function yo(e,t,r,n,i,s,u,h,d){e=e||1e3;function l(B,y,v){var c=Ke(B.metadata),a=Re(B.metadata,c);if("was_delete"in h&&a)return s[y]=Y(Be,"deleted"),v();var o=_&&go(B);if(o){var p=Y(tt);return s[y]=p,v()}var g=a?0:1;u(B,c,a,a,!1,g,y,v)}var _=h.new_edits,f=new Map,x=0,m=t.length;function A(){++x===m&&d&&d()}t.forEach(function(B,y){if(B._id&&Me(B._id)){var v=B._deleted?"_removeLocal":"_putLocal";r[v](B,{ctx:i},function(a,o){s[y]=a||o,A()});return}var c=B.metadata.id;f.has(c)?(m--,f.get(c).push([B,y])):f.set(c,[[B,y]])}),f.forEach(function(B,y){var v=0;function c(){++v<B.length?a():A()}function a(){var o=B[v],p=o[0],g=o[1];if(n.has(y))_o(e,n.get(y),p,s,g,c,u,_);else{var C=Vn([],p.metadata.rev_tree[0],e);p.metadata.rev_tree=C.tree,p.stemmedRevs=C.stemmedRevs||[],l(p,g,c)}}a()})}var mo=5,ce="document-store",ve="by-sequence",Ce="attach-store",$e="attach-seq-store",ye="meta-store",Fe="local-store",vr="detect-blob-support";function Ao(e){try{return JSON.parse(e)}catch{return Et.parse(e)}}function Bo(e){try{return JSON.stringify(e)}catch{return Et.stringify(e)}}function Se(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(Y(Yr,r,t.type))}}function Or(e,t,r){return{data:Bo(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function ze(e){if(!e)return null;var t=Ao(e.data);return t.winningRev=e.winningRev,t.deleted=e.deletedOrLocal==="1",t.seq=e.seq,t}function At(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function li(e,t,r,n){r?n(e?typeof e!="string"?e:e0(e,t):Zr([""],{type:t})):e?typeof e!="string"?Gn(e,function(i){n(ft(i))}):n(e):n("")}function xi(e,t,r,n){var i=Object.keys(e._attachments||{});if(!i.length)return n&&n();var s=0;function u(){++s===i.length&&n&&n()}function h(d,l){var _=d._attachments[l],f=_.digest,x=r.objectStore(Ce).get(f);x.onsuccess=function(m){_.body=m.target.result.body,u()}}i.forEach(function(d){t.attachments&&t.include_docs?h(e,d):(e._attachments[d].stub=!0,u())})}function Rr(e,t){return Promise.all(e.map(function(r){if(r.doc&&r.doc._attachments){var n=Object.keys(r.doc._attachments);return Promise.all(n.map(function(i){var s=r.doc._attachments[i];if("body"in s){var u=s.body,h=s.content_type;return new Promise(function(d){li(u,h,t,function(l){r.doc._attachments[i]=Object.assign(ut(s,["digest","content_type"]),{data:l}),d()})})}}))}}))}function di(e,t,r){var n=[],i=r.objectStore(ve),s=r.objectStore(Ce),u=r.objectStore($e),h=e.length;function d(){h--,h||l()}function l(){n.length&&n.forEach(function(_){var f=u.index("digestSeq").count(IDBKeyRange.bound(_+"::",_+"::ï¿¿",!1,!1));f.onsuccess=function(x){var m=x.target.result;m||s.delete(_)}})}e.forEach(function(_){var f=i.index("_doc_id_rev"),x=t+"::"+_;f.getKey(x).onsuccess=function(m){var A=m.target.result;if(typeof A!="number")return d();i.delete(A);var B=u.index("seq").openCursor(IDBKeyRange.only(A));B.onsuccess=function(y){var v=y.target.result;if(v){var c=v.value.digestSeq.split("::")[0];n.push(c),u.delete(v.primaryKey),v.continue()}else d()}}})}function we(e,t,r){try{return{txn:e.transaction(t,r)}}catch(n){return{error:n}}}var st=new qa;function Co(e,t,r,n,i,s){for(var u=t.docs,h,d,l,_,f,x,m,A,B=0,y=u.length;B<y;B++){var v=u[B];v._id&&Me(v._id)||(v=u[B]=fi(v,r.new_edits,e),v.error&&!m&&(m=v))}if(m)return s(m);var c=!1,a=0,o=new Array(u.length),p=new Map,g=!1,C=n._meta.blobSupport?"blob":"base64";po(u,C,function(E){if(E)return s(E);b()});function b(){var E=[ce,ve,Ce,Fe,$e,ye],k=we(i,E,"readwrite");if(k.error)return s(k.error);h=k.txn,h.onabort=Se(s),h.ontimeout=Se(s),h.oncomplete=O,d=h.objectStore(ce),l=h.objectStore(ve),_=h.objectStore(Ce),f=h.objectStore($e),x=h.objectStore(ye),x.get(ye).onsuccess=function(P){A=P.target.result,F()},z(function(P){if(P)return g=!0,s(P);I()})}function S(){c=!0,F()}function D(){yo(e.revs_limit,u,n,p,h,o,M,r,S)}function F(){!A||!c||(A.docCount+=a,x.put(A))}function I(){if(!u.length)return;var E=0;function k(){++E===u.length&&D()}function P(N){var K=ze(N.target.result);K&&p.set(K.id,K),k()}for(var T=0,$=u.length;T<$;T++){var R=u[T];if(R._id&&Me(R._id)){k();continue}var H=d.get(R.metadata.id);H.onsuccess=P}}function O(){g||(st.notify(n._meta.name),s(null,o))}function j(E,k){var P=_.get(E);P.onsuccess=function(T){if(T.target.result)k();else{var $=Y(Ha,"unknown stub attachment with digest "+E);$.status=412,k($)}}}function z(E){var k=[];if(u.forEach(function(R){R.data&&R.data._attachments&&Object.keys(R.data._attachments).forEach(function(H){var N=R.data._attachments[H];N.stub&&k.push(N.digest)})}),!k.length)return E();var P=0,T;function $(){++P===k.length&&E(T)}k.forEach(function(R){j(R,function(H){H&&!T&&(T=H),$()})})}function M(E,k,P,T,$,R,H,N){E.metadata.winningRev=k,E.metadata.deleted=P;var K=E.data;K._id=E.metadata.id,K._rev=E.metadata.rev,T&&(K._deleted=!0);var W=K._attachments&&Object.keys(K._attachments).length;if(W)return w(E,k,P,$,H,N);a+=R,F(),U(E,k,P,$,H,N)}function U(E,k,P,T,$,R){var H=E.data,N=E.metadata;H._doc_id_rev=N.id+"::"+N.rev,delete H._id,delete H._rev;function K(te){var ie=E.stemmedRevs||[];T&&n.auto_compaction&&(ie=ie.concat(Va(E.metadata))),ie&&ie.length&&di(ie,E.metadata.id,h),N.seq=te.target.result;var _e=Or(N,k,P),X=d.put(_e);X.onsuccess=ee}function W(te){te.preventDefault(),te.stopPropagation();var ie=l.index("_doc_id_rev"),_e=ie.getKey(H._doc_id_rev);_e.onsuccess=function(X){var J=l.put(H,X.target.result);J.onsuccess=K}}function ee(){o[$]={ok:!0,id:N.id,rev:N.rev},p.set(E.metadata.id,E.metadata),q(E,N.seq,R)}var ne=l.put(H);ne.onsuccess=K,ne.onerror=W}function w(E,k,P,T,$,R){var H=E.data,N=0,K=Object.keys(H._attachments);function W(){N===K.length&&U(E,k,P,T,$,R)}function ee(){N++,W()}K.forEach(function(ne){var te=E.data._attachments[ne];if(te.stub)N++,W();else{var ie=te.data;delete te.data,te.revpos=parseInt(k,10);var _e=te.digest;L(_e,ie,ee)}})}function q(E,k,P){var T=0,$=Object.keys(E.data._attachments||{});if(!$.length)return P();function R(){++T===$.length&&P()}function H(K){var W=E.data._attachments[K].digest,ee=f.put({seq:k,digestSeq:W+"::"+k});ee.onsuccess=R,ee.onerror=function(ne){ne.preventDefault(),ne.stopPropagation(),R()}}for(var N=0;N<$.length;N++)H($[N])}function L(E,k,P){var T=_.count(E);T.onsuccess=function($){var R=$.target.result;if(R)return P();var H={digest:E,body:k},N=_.put(H);N.onsuccess=P}}}function hi(e,t,r,n,i){n===-1&&(n=1e3);var s=typeof e.getAll=="function"&&typeof e.getAllKeys=="function"&&n>1&&!r,u,h,d;function l(m){h=m.target.result,u&&i(u,h,d)}function _(m){u=m.target.result,h&&i(u,h,d)}function f(){if(!u.length)return i();var m=u[u.length-1],A;if(t&&t.upper)try{A=IDBKeyRange.bound(m,t.upper,!0,t.upperOpen)}catch(B){if(B.name==="DataError"&&B.code===0)return i()}else A=IDBKeyRange.lowerBound(m,!0);t=A,u=null,h=null,e.getAll(t,n).onsuccess=l,e.getAllKeys(t,n).onsuccess=_}function x(m){var A=m.target.result;if(!A)return i();i([A.key],[A.value],A)}s?(d={continue:f},e.getAll(t,n).onsuccess=l,e.getAllKeys(t,n).onsuccess=_):r?e.openCursor(t,"prev").onsuccess=x:e.openCursor(t).onsuccess=x}function Eo(e,t,r){if(typeof e.getAll=="function"){e.getAll(t).onsuccess=r;return}var n=[];function i(s){var u=s.target.result;u?(n.push(u.value),u.continue()):r({target:{result:n}})}e.openCursor(t).onsuccess=i}function Do(e,t,r){var n=new Array(e.length),i=0;e.forEach(function(s,u){t.get(s).onsuccess=function(h){h.target.result?n[u]=h.target.result:n[u]={key:s,error:"not_found"},i++,i===e.length&&r(e,n,{})}})}function bo(e,t,r,n,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(n)return IDBKeyRange.only(n)}catch(s){return{error:s}}return null}function wo(e,t,r){var n="startkey"in e?e.startkey:!1,i="endkey"in e?e.endkey:!1,s="key"in e?e.key:!1,u="keys"in e?e.keys:!1,h=e.skip||0,d=typeof e.limit=="number"?e.limit:-1,l=e.inclusive_end!==!1,_,f;if(!u&&(_=bo(n,i,l,s,e.descending),f=_&&_.error,f&&!(f.name==="DataError"&&f.code===0)))return r(Y(Yr,f.name,f.message));var x=[ce,ve,ye];e.attachments&&x.push(Ce);var m=we(t,x,"readonly");if(m.error)return r(m.error);var A=m.txn;A.oncomplete=I,A.onabort=Se(r);var B=A.objectStore(ce),y=A.objectStore(ve),v=A.objectStore(ye),c=y.index("_doc_id_rev"),a=[],o,p;v.get(ye).onsuccess=function(O){o=O.target.result.docCount},e.update_seq&&(y.openKeyCursor(null,"prev").onsuccess=O=>{var j=O.target.result;j&&j.key&&(p=j.key)});function g(O,j,z){var M=O.id+"::"+z;c.get(M).onsuccess=function(w){if(j.doc=At(w.target.result)||{},e.conflicts){var q=i0(O);q.length&&(j.doc._conflicts=q)}xi(j.doc,e,A)}}function C(O,j){var z={id:j.id,key:j.id,value:{rev:O}},M=j.deleted;M?u&&(a.push(z),z.value.deleted=!0,z.doc=null):h--<=0&&(a.push(z),e.include_docs&&g(j,z,O))}function b(O){for(var j=0,z=O.length;j<z&&a.length!==d;j++){var M=O[j];if(M.error&&u){a.push(M);continue}var U=ze(M),w=U.winningRev;C(w,U)}}function S(O,j,z){z&&(b(j),a.length<d&&z.continue())}function D(O){var j=O.target.result;e.descending&&(j=j.reverse()),b(j)}function F(){var O={total_rows:o,offset:e.skip,rows:a};e.update_seq&&p!==void 0&&(O.update_seq=p),r(null,O)}function I(){e.attachments?Rr(a,e.binary).then(F):F()}if(!(f||d===0)){if(u)return Do(u,B,S);if(d===-1)return Eo(B,_,D);hi(B,_,e.descending,d+h,S)}}function Fo(e,t){var r=e.objectStore(ce).index("deletedOrLocal");r.count(IDBKeyRange.only("0")).onsuccess=function(n){t(n.target.result)}}var Pr=!1,Tr=[];function So(e,t,r,n){try{e(t,r)}catch(i){n.emit("error",i)}}function hn(){Pr||!Tr.length||(Pr=!0,Tr.shift()())}function ko(e,t,r){Tr.push(function(){e(function(s,u){So(t,s,u,r),Pr=!1,Oe(function(){hn()})})}),hn()}function qo(e,t,r,n){if(e=fe(e),e.continuous){var i=r+":"+bt();return st.addListener(r,i,t,e),st.notify(r),{cancel:function(){st.removeListener(r,i)}}}var s=e.doc_ids&&new Set(e.doc_ids);e.since=e.since||0;var u=e.since,h="limit"in e?e.limit:-1;h===0&&(h=1);var d=[],l=0,_=Qr(e),f=new Map,x,m,A,B;function y(b,S,D){if(!D||!b.length)return;var F=new Array(b.length),I=new Array(b.length);function O(M,U){var w=e.processChange(U,M,e);u=w.seq=M.seq;var q=_(w);return typeof q=="object"?Promise.reject(q):q?(l++,e.return_docs&&d.push(w),e.attachments&&e.include_docs?new Promise(function(L){xi(U,e,x,function(){Rr([w],e.binary).then(function(){L(w)})})}):Promise.resolve(w)):Promise.resolve()}function j(){for(var M=[],U=0,w=F.length;U<w&&l!==h;U++){var q=F[U];if(q){var L=I[U];M.push(O(L,q))}}Promise.all(M).then(function(E){for(var k=0,P=E.length;k<P;k++)E[k]&&e.onChange(E[k])}).catch(e.complete),l!==h&&D.continue()}var z=0;S.forEach(function(M,U){var w=At(M),q=b[U];c(w,q,function(L,E){I[U]=L,F[U]=E,++z===b.length&&j()})})}function v(b,S,D,F){if(D.seq!==S)return F();if(D.winningRev===b._rev)return F(D,b);var I=b._id+"::"+D.winningRev,O=B.get(I);O.onsuccess=function(j){F(D,At(j.target.result))}}function c(b,S,D){if(s&&!s.has(b._id))return D();var F=f.get(b._id);if(F)return v(b,S,F,D);A.get(b._id).onsuccess=function(I){F=ze(I.target.result),f.set(b._id,F),v(b,S,F,D)}}function a(){e.complete(null,{results:d,last_seq:u})}function o(){!e.continuous&&e.attachments?Rr(d).then(a):a()}var p=[ce,ve];e.attachments&&p.push(Ce);var g=we(n,p,"readonly");if(g.error)return e.complete(g.error);x=g.txn,x.onabort=Se(e.complete),x.oncomplete=o,m=x.objectStore(ve),A=x.objectStore(ce),B=m.index("_doc_id_rev");var C=e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null;hi(m,C,e.descending,h,y)}var Ze=new Map,pr,_r=new Map;function vi(e,t){var r=this;ko(function(n){Oo(r,e,n)},t,r.constructor)}function Oo(e,t,r){var n=t.name,i=null,s=null;e._meta=null;function u(y){return function(v,c){v&&v instanceof Error&&!v.reason&&s&&(v.reason=s),y(v,c)}}function h(y){var v=y.createObjectStore(ce,{keyPath:"id"});y.createObjectStore(ve,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),y.createObjectStore(Ce,{keyPath:"digest"}),y.createObjectStore(ye,{keyPath:"id",autoIncrement:!1}),y.createObjectStore(vr),v.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),y.createObjectStore(Fe,{keyPath:"_id"});var c=y.createObjectStore($e,{autoIncrement:!0});c.createIndex("seq","seq"),c.createIndex("digestSeq","digestSeq",{unique:!0})}function d(y,v){var c=y.objectStore(ce);c.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),c.openCursor().onsuccess=function(a){var o=a.target.result;if(o){var p=o.value,g=Re(p);p.deletedOrLocal=g?"1":"0",c.put(p),o.continue()}else v()}}function l(y){y.createObjectStore(Fe,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function _(y,v){var c=y.objectStore(Fe),a=y.objectStore(ce),o=y.objectStore(ve),p=a.openCursor();p.onsuccess=function(g){var C=g.target.result;if(C){var b=C.value,S=b.id,D=Me(S),F=Ke(b);if(D){var I=S+"::"+F,O=S+"::",j=S+"::~",z=o.index("_doc_id_rev"),M=IDBKeyRange.bound(O,j,!1,!1),U=z.openCursor(M);U.onsuccess=function(w){if(U=w.target.result,!U)a.delete(C.primaryKey),C.continue();else{var q=U.value;q._doc_id_rev===I&&c.put(q),o.delete(U.primaryKey),U.continue()}}}else C.continue()}else v&&v()}}function f(y){var v=y.createObjectStore($e,{autoIncrement:!0});v.createIndex("seq","seq"),v.createIndex("digestSeq","digestSeq",{unique:!0})}function x(y,v){var c=y.objectStore(ve),a=y.objectStore(Ce),o=y.objectStore($e),p=a.count();p.onsuccess=function(g){var C=g.target.result;if(!C)return v();c.openCursor().onsuccess=function(b){var S=b.target.result;if(!S)return v();for(var D=S.value,F=S.primaryKey,I=Object.keys(D._attachments||{}),O={},j=0;j<I.length;j++){var z=D._attachments[I[j]];O[z.digest]=!0}var M=Object.keys(O);for(j=0;j<M.length;j++){var U=M[j];o.put({seq:F,digestSeq:U+"::"+F})}S.continue()}}}function m(y){function v(p){return p.data?ze(p):(p.deleted=p.deletedOrLocal==="1",p)}var c=y.objectStore(ve),a=y.objectStore(ce),o=a.openCursor();o.onsuccess=function(p){var g=p.target.result;if(!g)return;var C=v(g.value);C.winningRev=C.winningRev||Ke(C);function b(){var D=C.id+"::",F=C.id+"::ï¿¿",I=c.index("_doc_id_rev").openCursor(IDBKeyRange.bound(D,F)),O=0;I.onsuccess=function(j){var z=j.target.result;if(!z)return C.seq=O,S();var M=z.primaryKey;M>O&&(O=M),z.continue()}}function S(){var D=Or(C,C.winningRev,C.deleted),F=a.put(D);F.onsuccess=function(){g.continue()}}if(C.seq)return S();b()}}e._remote=!1,e.type=function(){return"idb"},e._id=$n(function(y){y(null,e._meta.instanceId)}),e._bulkDocs=function(v,c,a){Co(t,v,c,e,i,u(a))},e._get=function(v,c,a){var o,p,g,C=c.ctx;if(!C){var b=we(i,[ce,ve,Ce],"readonly");if(b.error)return a(b.error);C=b.txn}function S(){a(g,{doc:o,metadata:p,ctx:C})}C.objectStore(ce).get(v).onsuccess=function(D){if(p=ze(D.target.result),!p)return g=Y(Be,"missing"),S();var F;if(c.rev)F=c.latest?cs(c.rev,p):c.rev;else{F=p.winningRev;var I=Re(p);if(I)return g=Y(Be,"deleted"),S()}var O=C.objectStore(ve),j=p.id+"::"+F;O.index("_doc_id_rev").get(j).onsuccess=function(z){if(o=z.target.result,o&&(o=At(o)),!o)return g=Y(Be,"missing"),S();S()}}},e._getAttachment=function(y,v,c,a,o){var p;if(a.ctx)p=a.ctx;else{var g=we(i,[ce,ve,Ce],"readonly");if(g.error)return o(g.error);p=g.txn}var C=c.digest,b=c.content_type;p.objectStore(Ce).get(C).onsuccess=function(S){var D=S.target.result.body;li(D,b,a.binary,function(F){o(null,F)})}},e._info=function(v){var c,a,o=we(i,[ye,ve],"readonly");if(o.error)return v(o.error);var p=o.txn;p.objectStore(ye).get(ye).onsuccess=function(g){a=g.target.result.docCount},p.objectStore(ve).openKeyCursor(null,"prev").onsuccess=function(g){var C=g.target.result;c=C?C.key:0},p.oncomplete=function(){v(null,{doc_count:a,update_seq:c,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(v,c){wo(v,i,u(c))},e._changes=function(v){return qo(v,e,n,i)},e._close=function(y){i.close(),Ze.delete(n),y()},e._getRevisionTree=function(y,v){var c=we(i,[ce],"readonly");if(c.error)return v(c.error);var a=c.txn,o=a.objectStore(ce).get(y);o.onsuccess=function(p){var g=ze(p.target.result);g?v(null,g.rev_tree):v(Y(Be))}},e._doCompaction=function(y,v,c){var a=[ce,ve,Ce,$e],o=we(i,a,"readwrite");if(o.error)return c(o.error);var p=o.txn,g=p.objectStore(ce);g.get(y).onsuccess=function(C){var b=ze(C.target.result);Ue(b.rev_tree,function(F,I,O,j,z){var M=I+"-"+O;v.indexOf(M)!==-1&&(z.status="missing")}),di(v,y,p);var S=b.winningRev,D=b.deleted;p.objectStore(ce).put(Or(b,S,D))},p.onabort=Se(c),p.oncomplete=function(){c()}},e._getLocal=function(y,v){var c=we(i,[Fe],"readonly");if(c.error)return v(c.error);var a=c.txn,o=a.objectStore(Fe).get(y);o.onerror=Se(v),o.onsuccess=function(p){var g=p.target.result;g?(delete g._doc_id_rev,v(null,g)):v(Y(Be))}},e._putLocal=function(y,v,c){typeof v=="function"&&(c=v,v={}),delete y._revisions;var a=y._rev,o=y._id;a?y._rev="0-"+(parseInt(a.split("-")[1],10)+1):y._rev="0-1";var p=v.ctx,g;if(!p){var C=we(i,[Fe],"readwrite");if(C.error)return c(C.error);p=C.txn,p.onerror=Se(c),p.oncomplete=function(){g&&c(null,g)}}var b=p.objectStore(Fe),S;a?(S=b.get(o),S.onsuccess=function(D){var F=D.target.result;if(!F||F._rev!==a)c(Y(tt));else{var I=b.put(y);I.onsuccess=function(){g={ok:!0,id:y._id,rev:y._rev},v.ctx&&c(null,g)}}}):(S=b.add(y),S.onerror=function(D){c(Y(tt)),D.preventDefault(),D.stopPropagation()},S.onsuccess=function(){g={ok:!0,id:y._id,rev:y._rev},v.ctx&&c(null,g)})},e._removeLocal=function(y,v,c){typeof v=="function"&&(c=v,v={});var a=v.ctx;if(!a){var o=we(i,[Fe],"readwrite");if(o.error)return c(o.error);a=o.txn,a.oncomplete=function(){p&&c(null,p)}}var p,g=y._id,C=a.objectStore(Fe),b=C.get(g);b.onerror=Se(c),b.onsuccess=function(S){var D=S.target.result;!D||D._rev!==y._rev?c(Y(Be)):(C.delete(g),p={ok:!0,id:g,rev:"0-0"},v.ctx&&c(null,p))}},e._destroy=function(y,v){st.removeAllListeners(n);var c=_r.get(n);c&&c.result&&(c.result.close(),Ze.delete(n));var a=indexedDB.deleteDatabase(n);a.onsuccess=function(){_r.delete(n),gt()&&n in localStorage&&delete localStorage[n],v(null,{ok:!0})},a.onerror=Se(v)};var A=Ze.get(n);if(A)return i=A.idb,e._meta=A.global,Oe(function(){r(null,e)});var B=indexedDB.open(n,mo);_r.set(n,B),B.onupgradeneeded=function(y){var v=y.target.result;if(y.oldVersion<1)return h(v);var c=y.currentTarget.transaction;y.oldVersion<3&&l(v),y.oldVersion<4&&f(v);var a=[d,_,x,m],o=y.oldVersion;function p(){var g=a[o-1];o++,g&&g(c,p)}p()},B.onsuccess=function(y){i=y.target.result,i.onversionchange=function(){i.close(),Ze.delete(n)},i.onabort=function(S){Ee("error","Database has a global failure",S.target.error),s=S.target.error,i.close(),Ze.delete(n)};var v=i.transaction([ye,vr,ce],"readwrite"),c=!1,a,o,p,g;function C(){typeof p>"u"||!c||(e._meta={name:n,instanceId:g,blobSupport:p},Ze.set(n,{idb:i,global:e._meta}),r(null,e))}function b(){if(!(typeof o>"u"||typeof a>"u")){var S=n+"_id";S in a?g=a[S]:a[S]=g=bt(),a.docCount=o,v.objectStore(ye).put(a)}}v.objectStore(ye).get(ye).onsuccess=function(S){a=S.target.result||{id:ye},b()},Fo(v,function(S){o=S,b()}),pr||(pr=oo(v,vr,"key")),pr.then(function(S){p=S,C()}),v.oncomplete=function(){c=!0,C()},v.onabort=Se(r)},B.onerror=function(y){var v=y.target.error&&y.target.error.message;v?v.indexOf("stored database is a higher version")!==-1&&(v=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):v="Failed to open indexedDB, are you in private browsing mode?",Ee("error",v),r(Y(Yr,v))}}vi.valid=function(){try{return typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}};function Ro(e){e.adapter("idb",vi,!0)}function Po(e,t){return new Promise(function(r,n){var i=0,s=0,u=0,h=e.length,d;function l(){i++,e[s++]().then(f,x)}function _(){++u===h?d?n(d):r():m()}function f(){i--,_()}function x(A){i--,d=d||A,_()}function m(){for(;i<t&&s<h;)l()}m()})}const To=25,Io=50,ht=5e3,Lo=1e4,gr={};function yr(e){const t=e.doc||e.ok,r=t&&t._attachments;r&&Object.keys(r).forEach(function(n){const i=r[n];i.data=e0(i.data,i.content_type)})}function je(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):e.startsWith("_local/")?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function vn(e){return!e._attachments||!Object.keys(e._attachments)?Promise.resolve():Promise.all(Object.keys(e._attachments).map(function(t){const r=e._attachments[t];if(r.data&&typeof r.data!="string")return new Promise(function(n){t0(r.data,n)}).then(function(n){r.data=n})}))}function Ho(e){if(!e.prefix)return!1;const t=Wn(e.prefix).protocol;return t==="http"||t==="https"}function jo(e,t){if(Ho(t)){const i=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(i)}const r=Wn(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});const n=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=n.pop(),r.db.indexOf("%")===-1&&(r.db=encodeURIComponent(r.db)),r.path=n.join("/"),r}function ue(e,t){return _t(e,e.db+"/"+t)}function _t(e,t){const r=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+r+t}function vt(e){const t=Object.keys(e);return t.length===0?"":"?"+t.map(r=>r+"="+encodeURIComponent(e[r])).join("&")}function No(e){const t=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=t.indexOf("msie")!==-1,n=t.indexOf("trident")!==-1,i=t.indexOf("edge")!==-1,s=!("method"in e)||e.method==="GET";return(r||n||i)&&s}function Ir(e,t){const r=this,n=jo(e.name,e),i=ue(n,"");e=fe(e);const s=async function(f,x){if(x=x||{},x.headers=x.headers||new Ve,x.credentials="include",e.auth||n.auth){const B=e.auth||n.auth,y=B.username+":"+B.password,v=ft(unescape(encodeURIComponent(y)));x.headers.set("Authorization","Basic "+v)}const m=e.headers||{};return Object.keys(m).forEach(function(B){x.headers.append(B,m[B])}),No(x)&&(f+=(f.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now()),await(e.fetch||ni)(f,x)};function u(f,x){return se(f,function(...m){l().then(function(){return x.apply(this,m)}).catch(function(A){m.pop()(A)})}).bind(r)}async function h(f,x){const m={};x=x||{},x.headers=x.headers||new Ve,x.headers.get("Content-Type")||x.headers.set("Content-Type","application/json"),x.headers.get("Accept")||x.headers.set("Accept","application/json");const A=await s(f,x);m.ok=A.ok,m.status=A.status;const B=await A.json();if(m.data=B,!m.ok)throw m.data.status=m.status,rt(m.data);return Array.isArray(m.data)&&(m.data=m.data.map(function(y){return y.error||y.missing?rt(y):y})),m}let d;async function l(){return e.skip_setup?Promise.resolve():d||(d=h(i).catch(function(f){return f&&f.status&&f.status===404?(br(404,"PouchDB is just detecting if the remote exists."),h(i,{method:"PUT"})):Promise.reject(f)}).catch(function(f){return f&&f.status&&f.status===412?!0:Promise.reject(f)}),d.catch(function(){d=null}),d)}Oe(function(){t(null,r)}),r._remote=!0,r.type=function(){return"http"},r.id=u("id",async function(f){let x;try{x=await(await s(_t(n,""))).json()}catch{x={}}const m=x&&x.uuid?x.uuid+n.db:ue(n,"");f(null,m)}),r.compact=u("compact",async function(f,x){typeof f=="function"&&(x=f,f={}),f=fe(f),await h(ue(n,"_compact"),{method:"POST"});function m(){r.info(function(A,B){B&&!B.compact_running?x(null,{ok:!0}):setTimeout(m,f.interval||200)})}m()}),r.bulkGet=se("bulkGet",function(f,x){const m=this;async function A(c){const a={};f.revs&&(a.revs=!0),f.attachments&&(a.attachments=!0),f.latest&&(a.latest=!0);try{const o=await h(ue(n,"_bulk_get"+vt(a)),{method:"POST",body:JSON.stringify({docs:f.docs})});f.attachments&&f.binary&&o.data.results.forEach(function(p){p.docs.forEach(yr)}),c(null,o.data)}catch(o){c(o)}}function B(){const c=Io,a=Math.ceil(f.docs.length/c);let o=0;const p=new Array(a);function g(C){return function(b,S){p[C]=S.results,++o===a&&x(null,{results:p.flat()})}}for(let C=0;C<a;C++){const b=ut(f,["revs","attachments","binary","latest"]);b.docs=f.docs.slice(C*c,Math.min(f.docs.length,(C+1)*c)),zn(m,b,g(C))}}const y=_t(n,""),v=gr[y];typeof v!="boolean"?A(function(c,a){c?(gr[y]=!1,br(c.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),B()):(gr[y]=!0,x(null,a))}):v?A(x):B()}),r._info=async function(f){try{await l();const m=await(await s(ue(n,""))).json();m.host=ue(n,""),f(null,m)}catch(x){f(x)}},r.fetch=async function(f,x){await l();const m=f.substring(0,1)==="/"?_t(n,f.substring(1)):ue(n,f);return s(m,x)},r.get=u("get",async function(f,x,m){typeof x=="function"&&(m=x,x={}),x=fe(x);const A={};x.revs&&(A.revs=!0),x.revs_info&&(A.revs_info=!0),x.latest&&(A.latest=!0),x.open_revs&&(x.open_revs!=="all"&&(x.open_revs=JSON.stringify(x.open_revs)),A.open_revs=x.open_revs),x.rev&&(A.rev=x.rev),x.conflicts&&(A.conflicts=x.conflicts),x.update_seq&&(A.update_seq=x.update_seq),f=je(f);function B(c){const a=c._attachments,o=a&&Object.keys(a);if(!a||!o.length)return;async function p(C){const b=a[C],S=je(c._id)+"/"+_(C)+"?rev="+c._rev,D=await s(ue(n,S));let F;"buffer"in D?F=await D.buffer():F=await D.blob();let I;if(x.binary){const O=Object.getOwnPropertyDescriptor(F.__proto__,"type");(!O||O.set)&&(F.type=b.content_type),I=F}else I=await new Promise(function(O){t0(F,O)});delete b.stub,delete b.length,b.data=I}const g=o.map(function(C){return function(){return p(C)}});return Po(g,5)}function y(c){return Array.isArray(c)?Promise.all(c.map(function(a){if(a.ok)return B(a.ok)})):B(c)}const v=ue(n,f+vt(A));try{const c=await h(v);x.attachments&&await y(c.data),m(null,c.data)}catch(c){c.docId=f,m(c)}}),r.remove=u("remove",async function(f,x,m,A){let B;typeof x=="string"?(B={_id:f,_rev:x},typeof m=="function"&&(A=m,m={})):(B=f,typeof x=="function"?(A=x,m={}):(A=m,m=x));const y=B._rev||m.rev,v=ue(n,je(B._id))+"?rev="+y;try{const c=await h(v,{method:"DELETE"});A(null,c.data)}catch(c){A(c)}});function _(f){return f.split("/").map(encodeURIComponent).join("/")}r.getAttachment=u("getAttachment",async function(f,x,m,A){typeof m=="function"&&(A=m,m={});const B=m.rev?"?rev="+m.rev:"",y=ue(n,je(f))+"/"+_(x)+B;let v;try{const c=await s(y,{method:"GET"});if(!c.ok)throw c;v=c.headers.get("content-type");let a;if(typeof process<"u"&&!process.browser&&typeof c.buffer=="function"?a=await c.buffer():a=await c.blob(),typeof process<"u"&&!process.browser){const o=Object.getOwnPropertyDescriptor(a.__proto__,"type");(!o||o.set)&&(a.type=v)}A(null,a)}catch(c){A(c)}}),r.removeAttachment=u("removeAttachment",async function(f,x,m,A){const B=ue(n,je(f)+"/"+_(x))+"?rev="+m;try{const y=await h(B,{method:"DELETE"});A(null,y.data)}catch(y){A(y)}}),r.putAttachment=u("putAttachment",async function(f,x,m,A,B,y){typeof B=="function"&&(y=B,B=A,A=m,m=null);const v=je(f)+"/"+_(x);let c=ue(n,v);if(m&&(c+="?rev="+m),typeof A=="string"){let a;try{a=Jr(A)}catch{return y(Y(Kn,"Attachment is not a valid base64 string"))}A=a?Vr(a,B):""}try{const a=await h(c,{headers:new Ve({"Content-Type":B}),method:"PUT",body:A});y(null,a.data)}catch(a){y(a)}}),r._bulkDocs=async function(f,x,m){f.new_edits=x.new_edits;try{await l(),await Promise.all(f.docs.map(vn));const A=await h(ue(n,"_bulk_docs"),{method:"POST",body:JSON.stringify(f)});m(null,A.data)}catch(A){m(A)}},r._put=async function(f,x,m){try{await l(),await vn(f);const A=await h(ue(n,je(f._id)),{method:"PUT",body:JSON.stringify(f)});m(null,A.data)}catch(A){A.docId=f&&f._id,m(A)}},r.allDocs=u("allDocs",async function(f,x){typeof f=="function"&&(x=f,f={}),f=fe(f);const m={};let A,B="GET";f.conflicts&&(m.conflicts=!0),f.update_seq&&(m.update_seq=!0),f.descending&&(m.descending=!0),f.include_docs&&(m.include_docs=!0),f.attachments&&(m.attachments=!0),f.key&&(m.key=JSON.stringify(f.key)),f.start_key&&(f.startkey=f.start_key),f.startkey&&(m.startkey=JSON.stringify(f.startkey)),f.end_key&&(f.endkey=f.end_key),f.endkey&&(m.endkey=JSON.stringify(f.endkey)),typeof f.inclusive_end<"u"&&(m.inclusive_end=!!f.inclusive_end),typeof f.limit<"u"&&(m.limit=f.limit),typeof f.skip<"u"&&(m.skip=f.skip);const y=vt(m);typeof f.keys<"u"&&(B="POST",A={keys:f.keys});try{const v=await h(ue(n,"_all_docs"+y),{method:B,body:JSON.stringify(A)});f.include_docs&&f.attachments&&f.binary&&v.data.rows.forEach(yr),x(null,v.data)}catch(v){x(v)}}),r._changes=function(f){const x="batch_size"in f?f.batch_size:To;f=fe(f),f.continuous&&!("heartbeat"in f)&&(f.heartbeat=Lo);let m="timeout"in f?f.timeout:30*1e3;"timeout"in f&&f.timeout&&m-f.timeout<ht&&(m=f.timeout+ht),"heartbeat"in f&&f.heartbeat&&m-f.heartbeat<ht&&(m=f.heartbeat+ht);const A={};"timeout"in f&&f.timeout&&(A.timeout=f.timeout);const B=typeof f.limit<"u"?f.limit:!1;let y=B;if(f.style&&(A.style=f.style),(f.include_docs||f.filter&&typeof f.filter=="function")&&(A.include_docs=!0),f.attachments&&(A.attachments=!0),f.continuous&&(A.feed="longpoll"),f.seq_interval&&(A.seq_interval=f.seq_interval),f.conflicts&&(A.conflicts=!0),f.descending&&(A.descending=!0),f.update_seq&&(A.update_seq=!0),"heartbeat"in f&&f.heartbeat&&(A.heartbeat=f.heartbeat),f.filter&&typeof f.filter=="string"&&(A.filter=f.filter),f.view&&typeof f.view=="string"&&(A.filter="_view",A.view=f.view),f.query_params&&typeof f.query_params=="object")for(const b in f.query_params)Object.prototype.hasOwnProperty.call(f.query_params,b)&&(A[b]=f.query_params[b]);let v="GET",c;f.doc_ids?(A.filter="_doc_ids",v="POST",c={doc_ids:f.doc_ids}):f.selector&&(A.filter="_selector",v="POST",c={selector:f.selector});const a=new AbortController;let o;const p=async function(b,S){if(f.aborted)return;A.since=b,typeof A.since=="object"&&(A.since=JSON.stringify(A.since)),f.descending?B&&(A.limit=y):A.limit=!B||y>x?x:y;const D=ue(n,"_changes"+vt(A)),F={signal:a.signal,method:v,body:JSON.stringify(c)};if(o=b,!f.aborted)try{await l();const I=await h(D,F);S(null,I.data)}catch(I){S(I)}},g={results:[]},C=function(b,S){if(f.aborted)return;let D=0;if(S&&S.results){D=S.results.length,g.last_seq=S.last_seq;let I=null,O=null;typeof S.pending=="number"&&(I=S.pending),(typeof g.last_seq=="string"||typeof g.last_seq=="number")&&(O=g.last_seq),f.query_params,S.results=S.results.filter(function(j){y--;const z=Qr(f)(j);return z&&(f.include_docs&&f.attachments&&f.binary&&yr(j),f.return_docs&&g.results.push(j),f.onChange(j,I,O)),z})}else if(b){f.aborted=!0,f.complete(b);return}S&&S.last_seq&&(o=S.last_seq);const F=B&&y<=0||S&&D<x||f.descending;f.continuous&&!(B&&y<=0)||!F?Oe(function(){p(o,C)}):f.complete(null,g)};return p(f.since||0,C),{cancel:function(){f.aborted=!0,a.abort()}}},r.revsDiff=u("revsDiff",async function(f,x,m){typeof x=="function"&&(m=x,x={});try{const A=await h(ue(n,"_revs_diff"),{method:"POST",body:JSON.stringify(f)});m(null,A.data)}catch(A){m(A)}}),r._close=function(f){f()},r._destroy=async function(f,x){try{const m=await h(ue(n,""),{method:"DELETE"});x(null,m)}catch(m){m.status===404?x(null,{ok:!0}):x(m)}}}Ir.valid=function(){return!0};function $o(e){e.adapter("http",Ir,!1),e.adapter("https",Ir,!1)}class Ne extends Error{constructor(t){super(),this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Ne)}catch{}}}class wt extends Error{constructor(t){super(),this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,wt)}catch{}}}class Ft extends Error{constructor(t){super(),this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Ft)}catch{}}}function pi(e,t){return t&&e.then(function(r){Oe(function(){t(null,r)})},function(r){Oe(function(){t(r)})}),e}function zo(e){return function(...t){var r=t.pop(),n=e.apply(this,t);return typeof r=="function"&&pi(n,r),n}}function Mo(e,t){return e.then(function(r){return t().then(function(){return r})},function(r){return t().then(function(){throw r})})}function mr(e,t){return function(){var r=arguments,n=this;return e.add(function(){return t.apply(n,r)})}}function pn(e){var t=new Set(e),r=new Array(t.size),n=-1;return t.forEach(function(i){r[++n]=i}),r}function Ar(e){var t=new Array(e.size),r=-1;return e.forEach(function(n,i){t[++r]=i}),t}function _n(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new Ft(t)}function Lr(e){for(var t=0,r=0,n=e.length;r<n;r++){var i=e[r];if(typeof i!="number")if(Array.isArray(i)){t=typeof t=="number"?[t]:t;for(var s=0,u=i.length;s<u;s++){var h=i[s];if(typeof h!="number")throw _n("_sum");typeof t[s]>"u"?t.push(h):t[s]+=h}}else throw _n("_sum");else typeof t=="number"?t+=i:t[0]+=i}return t}var Ko=Ee.bind(null,"log"),Uo=Array.isArray,Wo=JSON.parse;function _i(e,t){return Xr("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Lr,log:Ko,isArray:Uo,toJSON:Wo})}class Hr{constructor(){this.promise=Promise.resolve()}add(t){return this.promise=this.promise.catch(()=>{}).then(()=>t()),this.promise}finish(){return this.promise}}function gn(e){if(!e)return"undefined";switch(typeof e){case"function":return e.toString();case"string":return e.toString();default:return JSON.stringify(e)}}function Go(e,t){return gn(e)+gn(t)+"undefined"}async function yn(e,t,r,n,i,s){const u=Go(r,n);let h;if(!i&&(h=e._cachedViews=e._cachedViews||{},h[u]))return h[u];const d=e.info().then(async function(l){const _=l.db_name+"-mrview-"+(i?"temp":Qn(u));function f(y){y.views=y.views||{};let v=t;v.indexOf("/")===-1&&(v=t+"/"+t);const c=y.views[v]=y.views[v]||{};if(!c[_])return c[_]=!0,y}await yt(e,"_local/"+s,f);const m=(await e.registerDependentDatabase(_)).db;m.auto_compaction=!0;const A={name:_,db:m,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};let B;try{B=await A.db.get("_local/lastSeq")}catch(y){if(y.status!==404)throw y}return A.seq=B?B.seq:0,h&&A.db.once("destroyed",function(){delete h[u]}),A});return h&&(h[u]=d),d}const mn={},An=new Hr,Yo=50;function Br(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function Qo(e){return e.length===1&&/^1-/.test(e[0].rev)}function Bn(e,t,r){try{e.emit("error",t)}catch{Ee("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),Ee("error",t,r)}}function Xo(e,t,r,n){function i(w,q,L){try{q(L)}catch(E){Bn(w,E,{fun:q,doc:L})}}function s(w,q,L,E,k){try{return{output:q(L,E,k)}}catch(P){return Bn(w,P,{fun:q,keys:L,values:E,rereduce:k}),{error:P}}}function u(w,q){const L=oe(w.key,q.key);return L!==0?L:oe(w.value,q.value)}function h(w,q,L){return L=L||0,typeof q=="number"?w.slice(L,q+L):L>0?w.slice(L):w}function d(w){const q=w.value;return q&&typeof q=="object"&&q._id||w.id}function l(w){for(const q of w.rows){const L=q.doc&&q.doc._attachments;if(L)for(const E of Object.keys(L)){const k=L[E];L[E].data=e0(k.data,k.content_type)}}}function _(w){return function(q){return w.include_docs&&w.attachments&&w.binary&&l(q),q}}function f(w,q,L,E){let k=q[w];typeof k<"u"&&(E&&(k=encodeURIComponent(JSON.stringify(k))),L.push(w+"="+k))}function x(w){if(typeof w<"u"){const q=Number(w);return!isNaN(q)&&q===parseInt(w,10)?q:w}}function m(w){return w.group_level=x(w.group_level),w.limit=x(w.limit),w.skip=x(w.skip),w}function A(w){if(w){if(typeof w!="number")return new Ne(`Invalid value for integer: "${w}"`);if(w<0)return new Ne(`Invalid value for positive integer: "${w}"`)}}function B(w,q){const L=w.descending?"endkey":"startkey",E=w.descending?"startkey":"endkey";if(typeof w[L]<"u"&&typeof w[E]<"u"&&oe(w[L],w[E])>0)throw new Ne("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(q.reduce&&w.reduce!==!1){if(w.include_docs)throw new Ne("{include_docs:true} is invalid for reduce");if(w.keys&&w.keys.length>1&&!w.group&&!w.group_level)throw new Ne("Multi-key fetches for reduce views must use {group: true}")}for(const k of["group_level","limit","skip"]){const P=A(w[k]);if(P)throw P}}async function y(w,q,L){let E=[],k,P="GET",T;if(f("reduce",L,E),f("include_docs",L,E),f("attachments",L,E),f("limit",L,E),f("descending",L,E),f("group",L,E),f("group_level",L,E),f("skip",L,E),f("stale",L,E),f("conflicts",L,E),f("startkey",L,E,!0),f("start_key",L,E,!0),f("endkey",L,E,!0),f("end_key",L,E,!0),f("inclusive_end",L,E),f("key",L,E,!0),f("update_seq",L,E),E=E.join("&"),E=E===""?"":"?"+E,typeof L.keys<"u"){const N=`keys=${encodeURIComponent(JSON.stringify(L.keys))}`;N.length+E.length+1<=2e3?E+=(E[0]==="?"?"&":"?")+N:(P="POST",typeof q=="string"?k={keys:L.keys}:q.keys=L.keys)}if(typeof q=="string"){const H=Br(q),N=await w.fetch("_design/"+H[0]+"/_view/"+H[1]+E,{headers:new Ve({"Content-Type":"application/json"}),method:P,body:JSON.stringify(k)});T=N.ok;const K=await N.json();if(!T)throw K.status=N.status,rt(K);for(const W of K.rows)if(W.value&&W.value.error&&W.value.error==="builtin_reduce_error")throw new Error(W.reason);return new Promise(function(W){W(K)}).then(_(L))}k=k||{};for(const H of Object.keys(q))Array.isArray(q[H])?k[H]=q[H]:k[H]=q[H].toString();const $=await w.fetch("_temp_view"+E,{headers:new Ve({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(k)});T=$.ok;const R=await $.json();if(!T)throw R.status=$.status,rt(R);return new Promise(function(H){H(R)}).then(_(L))}function v(w,q,L){return new Promise(function(E,k){w._query(q,L,function(P,T){if(P)return k(P);E(T)})})}function c(w){return new Promise(function(q,L){w._viewCleanup(function(E,k){if(E)return L(E);q(k)})})}function a(w){return function(q){if(q.status===404)return w;throw q}}async function o(w,q,L){const E="_local/doc_"+w,k={_id:E,keys:[]},P=L.get(w),T=P[0],$=P[1];function R(){return Qo($)?Promise.resolve(k):q.db.get(E).catch(a(k))}function H(ee){return ee.keys.length?q.db.allDocs({keys:ee.keys,include_docs:!0}):Promise.resolve({rows:[]})}function N(ee,ne){const te=[],ie=new Set;for(const X of ne.rows){const J=X.doc;if(J&&(te.push(J),ie.add(J._id),J._deleted=!T.has(J._id),!J._deleted)){const V=T.get(J._id);"value"in V&&(J.value=V.value)}}const _e=Ar(T);for(const X of _e)if(!ie.has(X)){const J={_id:X},V=T.get(X);"value"in V&&(J.value=V.value),te.push(J)}return ee.keys=pn(_e.concat(ee.keys)),te.push(ee),te}const K=await R(),W=await H(K);return N(K,W)}function p(w){return w.sourceDB.get("_local/purges").then(function(q){const L=q.purgeSeq;return w.db.get("_local/purgeSeq").then(function(E){return E._rev}).catch(a(void 0)).then(function(E){return w.db.put({_id:"_local/purgeSeq",_rev:E,purgeSeq:L})})}).catch(function(q){if(q.status!==404)throw q})}function g(w,q,L){var E="_local/lastSeq";return w.db.get(E).catch(a({_id:E,seq:0})).then(function(k){var P=Ar(q);return Promise.all(P.map(function(T){return o(T,w,q)})).then(function(T){var $=T.flat();return k.seq=L,$.push(k),w.db.bulkDocs({docs:$})}).then(()=>p(w))})}function C(w){const q=typeof w=="string"?w:w.name;let L=mn[q];return L||(L=mn[q]=new Hr),L}async function b(w,q){return mr(C(w),function(){return S(w,q)})()}async function S(w,q){let L,E,k;function P(X,J){const V={id:E._id,key:We(X)};typeof J<"u"&&J!==null&&(V.value=We(J)),L.push(V)}const T=t(w.mapFun,P);let $=w.seq||0;function R(){return w.sourceDB.info().then(function(X){k=w.sourceDB.activeTasks.add({name:"view_indexing",total_items:X.update_seq-$})})}function H(X,J){return function(){return g(w,X,J)}}let N=0;const K={view:w.name,indexed_docs:N};w.sourceDB.emit("indexing",K);const W=new Hr;async function ee(){const X=await w.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:$,limit:q.changes_batch_size}),J=await ne();return te(X,J)}function ne(){return w.db.get("_local/purgeSeq").then(function(X){return X.purgeSeq}).catch(a(-1)).then(function(X){return w.sourceDB.get("_local/purges").then(function(J){const V=J.purges.filter(function(le,re){return re>X}).map(le=>le.docId),ge=V.filter(function(le,re){return V.indexOf(le)===re});return Promise.all(ge.map(function(le){return w.sourceDB.get(le).then(function(re){return{docId:le,doc:re}}).catch(a({docId:le}))}))}).catch(a([]))})}function te(X,J){const V=X.results;if(!V.length&&!J.length)return;for(const re of J)if(V.findIndex(function(me){return me.id===re.docId})<0){const me={_id:re.docId,doc:{_id:re.docId,_deleted:1},changes:[]};re.doc&&(me.doc=re.doc,me.changes.push({rev:re.doc._rev})),V.push(me)}const ge=ie(V);W.add(H(ge,$)),N=N+V.length;const le={view:w.name,last_seq:X.last_seq,results_count:V.length,indexed_docs:N};if(w.sourceDB.emit("indexing",le),w.sourceDB.activeTasks.update(k,{completed_items:N}),!(V.length<q.changes_batch_size))return ee()}function ie(X){const J=new Map;for(const V of X){if(V.doc._id[0]!=="_"){L=[],E=V.doc,E._deleted||i(w.sourceDB,T,E),L.sort(u);const ge=_e(L);J.set(V.doc._id,[ge,V.changes])}$=V.seq}return J}function _e(X){const J=new Map;let V;for(let ge=0,le=X.length;ge<le;ge++){const re=X[ge],pe=[re.key,re.id];ge>0&&oe(re.key,V)===0&&pe.push(ge),J.set(be(pe),re),V=re.key}return J}try{await R(),await ee(),await W.finish(),w.seq=$,w.sourceDB.activeTasks.remove(k)}catch(X){w.sourceDB.activeTasks.remove(k,X)}}function D(w,q,L){L.group_level===0&&delete L.group_level;const E=L.group||L.group_level,k=r(w.reduceFun),P=[],T=isNaN(L.group_level)?Number.POSITIVE_INFINITY:L.group_level;for(const $ of q){const R=P[P.length-1];let H=E?$.key:null;if(E&&Array.isArray(H)&&(H=H.slice(0,T)),R&&oe(R.groupKey,H)===0){R.keys.push([$.key,$.id]),R.values.push($.value);continue}P.push({keys:[[$.key,$.id]],values:[$.value],groupKey:H})}q=[];for(const $ of P){const R=s(w.sourceDB,k,$.keys,$.values,!1);if(R.error&&R.error instanceof Ft)throw R.error;q.push({value:R.error?null:R.output,key:$.groupKey})}return{rows:h(q,L.limit,L.skip)}}function F(w,q){return mr(C(w),function(){return I(w,q)})()}async function I(w,q){let L;const E=w.reduceFun&&q.reduce!==!1,k=q.skip||0;typeof q.keys<"u"&&!q.keys.length&&(q.limit=0,delete q.keys);async function P($){$.include_docs=!0;const R=await w.db.allDocs($);return L=R.total_rows,R.rows.map(function(H){if("value"in H.doc&&typeof H.doc.value=="object"&&H.doc.value!==null){const K=Object.keys(H.doc.value).sort(),W=["id","key","value"];if(!(K<W||K>W))return H.doc.value}const N=Ns(H.doc._id);return{key:N[0],id:N[1],value:"value"in H.doc?H.doc.value:null}})}async function T($){let R;if(E?R=D(w,$,q):typeof q.keys>"u"?R={total_rows:L,offset:k,rows:$}:R={total_rows:L,offset:k,rows:h($,q.limit,q.skip)},q.update_seq&&(R.update_seq=w.seq),q.include_docs){const H=pn($.map(d)),N=await w.sourceDB.allDocs({keys:H,include_docs:!0,conflicts:q.conflicts,attachments:q.attachments,binary:q.binary}),K=new Map;for(const W of N.rows)K.set(W.id,W.doc);for(const W of $){const ee=d(W),ne=K.get(ee);ne&&(W.doc=ne)}}return R}if(typeof q.keys<"u"){const R=q.keys.map(function(K){const W={startkey:be([K]),endkey:be([K,{}])};return q.update_seq&&(W.update_seq=!0),P(W)}),N=(await Promise.all(R)).flat();return T(N)}else{const $={descending:q.descending};q.update_seq&&($.update_seq=!0);let R,H;if("start_key"in q&&(R=q.start_key),"startkey"in q&&(R=q.startkey),"end_key"in q&&(H=q.end_key),"endkey"in q&&(H=q.endkey),typeof R<"u"&&($.startkey=q.descending?be([R,{}]):be([R])),typeof H<"u"){let K=q.inclusive_end!==!1;q.descending&&(K=!K),$.endkey=be(K?[H,{}]:[H])}if(typeof q.key<"u"){const K=be([q.key]),W=be([q.key,{}]);$.descending?($.endkey=K,$.startkey=W):($.startkey=K,$.endkey=W)}E||(typeof q.limit=="number"&&($.limit=q.limit),$.skip=k);const N=await P($);return T(N)}}async function O(w){return(await w.fetch("_view_cleanup",{headers:new Ve({"Content-Type":"application/json"}),method:"POST"})).json()}async function j(w){try{const q=await w.get("_local/"+e),L=new Map;for(const R of Object.keys(q.views)){const H=Br(R),N="_design/"+H[0],K=H[1];let W=L.get(N);W||(W=new Set,L.set(N,W)),W.add(K)}const E={keys:Ar(L),include_docs:!0},k=await w.allDocs(E),P={};for(const R of k.rows){const H=R.key.substring(8);for(const N of L.get(R.key)){let K=H+"/"+N;q.views[K]||(K=N);const W=Object.keys(q.views[K]),ee=R.doc&&R.doc.views&&R.doc.views[N];for(const ne of W)P[ne]=P[ne]||ee}}const $=Object.keys(P).filter(function(R){return!P[R]}).map(function(R){return mr(C(R),function(){return new w.constructor(R,w.__opts).destroy()})()});return Promise.all($).then(function(){return{ok:!0}})}catch(q){if(q.status===404)return{ok:!0};throw q}}async function z(w,q,L){if(typeof w._query=="function")return v(w,q,L);if(qe(w))return y(w,q,L);const E={changes_batch_size:w.__opts.view_update_changes_batch_size||Yo};if(typeof q!="string")return B(L,q),An.add(async function(){const k=await yn(w,"temp_view/temp_view",q.map,q.reduce,!0,e);return Mo(b(k,E).then(function(){return F(k,L)}),function(){return k.db.destroy()})}),An.finish();{const k=q,P=Br(k),T=P[0],$=P[1],R=await w.get("_design/"+T);if(q=R.views&&R.views[$],!q)throw new wt(`ddoc ${R._id} has no view named ${$}`);n(R,$),B(L,q);const H=await yn(w,k,q.map,q.reduce,!1,e);return L.stale==="ok"||L.stale==="update_after"?(L.stale==="update_after"&&Oe(function(){b(H,E)}),F(H,L)):(await b(H,E),F(H,L))}}function M(w,q,L){const E=this;typeof q=="function"&&(L=q,q={}),q=q?m(q):{},typeof w=="function"&&(w={map:w});const k=Promise.resolve().then(function(){return z(E,w,q)});return pi(k,L),k}const U=zo(function(){const w=this;return typeof w._viewCleanup=="function"?c(w):qe(w)?O(w):j(w)});return{query:M,viewCleanup:U}}var Cr={_sum:function(e,t){return Lr(t)},_count:function(e,t){return t.length},_stats:function(e,t){function r(n){for(var i=0,s=0,u=n.length;s<u;s++){var h=n[s];i+=h*h}return i}return{sum:Lr(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:r(t)}}};function Jo(e){if(/^_sum/.test(e))return Cr._sum;if(/^_count/.test(e))return Cr._count;if(/^_stats/.test(e))return Cr._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}function Zo(e,t){if(typeof e=="function"&&e.length===2){var r=e;return function(n){return r(n,t)}}else return _i(e.toString(),t)}function Vo(e){var t=e.toString(),r=Jo(t);return r||_i(t)}function ec(e,t){var r=e.views&&e.views[t];if(typeof r.map!="string")throw new wt("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof r.map)}var tc="mrviews",gi=Xo(tc,Zo,Vo,ec);function rc(e,t,r){return gi.query.call(this,e,t,r)}function nc(e){return gi.viewCleanup.call(this,e)}var ic={query:rc,viewCleanup:nc};function ac(e,t,r){return!e._attachments||!e._attachments[r]||e._attachments[r].digest!==t._attachments[r].digest}function Cn(e,t){var r=Object.keys(t._attachments);return Promise.all(r.map(function(n){return e.getAttachment(t._id,n,{rev:t._rev})}))}function sc(e,t,r){var n=qe(t)&&!qe(e),i=Object.keys(r._attachments);return n?e.get(r._id).then(function(s){return Promise.all(i.map(function(u){return ac(s,r,u)?t.getAttachment(r._id,u):e.getAttachment(s._id,u)}))}).catch(function(s){if(s.status!==404)throw s;return Cn(t,r)}):Cn(t,r)}function oc(e){var t=[];return Object.keys(e).forEach(function(r){var n=e[r].missing;n.forEach(function(i){t.push({id:r,rev:i})})}),{docs:t,revs:!0,latest:!0}}function cc(e,t,r,n){r=fe(r);var i=[],s=!0;function u(){var d=oc(r);if(d.docs.length)return e.bulkGet(d).then(function(l){if(n.cancelled)throw new Error("cancelled");return Promise.all(l.results.map(function(_){return Promise.all(_.docs.map(function(f){var x=f.ok;return f.error&&(s=!1),!x||!x._attachments?x:sc(t,e,x).then(m=>{var A=Object.keys(x._attachments);return m.forEach(function(B,y){var v=x._attachments[A[y]];delete v.stub,delete v.length,v.data=B}),x})}))})).then(function(_){i=i.concat(_.flat().filter(Boolean))})})}function h(){return{ok:s,docs:i}}return Promise.resolve().then(u).then(h)}var En=1,Dn="pouchdb",uc=5,De=0;function jr(e,t,r,n,i){return e.get(t).catch(function(s){if(s.status===404)return(e.adapter==="http"||e.adapter==="https")&&br(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:t,history:[],replicator:Dn,version:En};throw s}).then(function(s){if(!i.cancelled&&s.last_seq!==r)return s.history=(s.history||[]).filter(function(u){return u.session_id!==n}),s.history.unshift({last_seq:r,session_id:n}),s.history=s.history.slice(0,uc),s.version=En,s.replicator=Dn,s.session_id=n,s.last_seq=r,e.put(s).catch(function(u){if(u.status===409)return jr(e,t,r,n,i);throw u})})}class bn{constructor(t,r,n,i,s={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0}){this.src=t,this.target=r,this.id=n,this.returnValue=i,this.opts=s,typeof s.writeSourceCheckpoint>"u"&&(s.writeSourceCheckpoint=!0),typeof s.writeTargetCheckpoint>"u"&&(s.writeTargetCheckpoint=!0)}writeCheckpoint(t,r){var n=this;return this.updateTarget(t,r).then(function(){return n.updateSource(t,r)})}updateTarget(t,r){return this.opts.writeTargetCheckpoint?jr(this.target,this.id,t,r,this.returnValue):Promise.resolve(!0)}updateSource(t,r){if(this.opts.writeSourceCheckpoint){var n=this;return jr(this.src,this.id,t,r,this.returnValue).catch(function(i){if(Fn(i))return n.opts.writeSourceCheckpoint=!1,!0;throw i})}else return Promise.resolve(!0)}getCheckpoint(){var t=this;return!t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?Promise.resolve(De):t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(r){return r.last_seq||De}).catch(function(r){if(r.status!==404)throw r;return De}):t.target.get(t.id).then(function(r){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?r.last_seq||De:t.src.get(t.id).then(function(n){if(r.version!==n.version)return De;var i;return r.version?i=r.version.toString():i="undefined",i in wn?wn[i](r,n):De},function(n){if(n.status===404&&r.last_seq)return t.src.put({_id:t.id,last_seq:De}).then(function(){return De},function(i){return Fn(i)?(t.opts.writeSourceCheckpoint=!1,r.last_seq):De});throw n})}).catch(function(r){if(r.status!==404)throw r;return De})}}var wn={undefined:function(e,t){return oe(e.last_seq,t.last_seq)===0?t.last_seq:0},1:function(e,t){return fc(t,e).last_seq}};function fc(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:yi(e.history,t.history)}function yi(e,t){var r=e[0],n=e.slice(1),i=t[0],s=t.slice(1);if(!r||t.length===0)return{last_seq:De,history:[]};var u=r.session_id;if(Nr(u,t))return{last_seq:r.last_seq,history:e};var h=i.session_id;return Nr(h,n)?{last_seq:i.last_seq,history:s}:yi(n,s)}function Nr(e,t){var r=t[0],n=t.slice(1);return!e||t.length===0?!1:e===r.session_id?!0:Nr(e,n)}function Fn(e){return typeof e.status=="number"&&Math.floor(e.status/100)===4}function mi(e,t,r,n,i){return this instanceof bn?mi:new bn(e,t,r,n,i)}var Sn=0;function lc(e,t,r,n){if(e.retry===!1){t.emit("error",r),t.removeAllListeners();return}if(typeof e.back_off_function!="function"&&(e.back_off_function=Ra),t.emit("requestError",r),t.state==="active"||t.state==="pending"){t.emit("paused",r),t.state="stopped";var i=function(){e.current_back_off=Sn},s=function(){t.removeListener("active",i)};t.once("paused",s),t.once("active",i)}e.current_back_off=e.current_back_off||Sn,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(n,e.current_back_off)}function xc(e){return Object.keys(e).sort(oe).reduce(function(t,r){return t[r]=e[r],t},{})}function dc(e,t,r){var n=r.doc_ids?r.doc_ids.sort(oe):"",i=r.filter?r.filter.toString():"",s="",u="",h="";return r.selector&&(h=JSON.stringify(r.selector)),r.filter&&r.query_params&&(s=JSON.stringify(xc(r.query_params))),r.filter&&r.filter==="_view"&&(u=r.view.toString()),Promise.all([e.id(),t.id()]).then(function(d){var l=d[0]+d[1]+i+u+s+n+h;return new Promise(function(_){r0(l,_)})}).then(function(d){return d=d.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+d})}function Ai(e,t,r,n,i){var s=[],u,h={seq:0,changes:[],docs:[]},d=!1,l=!1,_=!1,f=0,x=0,m=r.continuous||r.live||!1,A=r.batch_size||100,B=r.batches_limit||10,y=r.style||"all_docs",v=!1,c=r.doc_ids,a=r.selector,o,p,g=[],C=bt(),b;i=i||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var S={};n.ready(e,t);function D(){return p?Promise.resolve():dc(e,t,r).then(function(R){o=R;var H={};r.checkpoint===!1?H={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:r.checkpoint==="source"?H={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:r.checkpoint==="target"?H={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:H={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},p=new mi(e,t,o,n,H)})}function F(){if(g=[],u.docs.length!==0){var R=u.docs,H={timeout:r.timeout};return t.bulkDocs({docs:R,new_edits:!1},H).then(function(N){if(n.cancelled)throw w(),new Error("cancelled");var K=Object.create(null);N.forEach(function(ee){ee.error&&(K[ee.id]=ee)});var W=Object.keys(K).length;i.doc_write_failures+=W,i.docs_written+=R.length-W,R.forEach(function(ee){var ne=K[ee._id];if(ne){i.errors.push(ne);var te=(ne.name||"").toLowerCase();if(te==="unauthorized"||te==="forbidden")n.emit("denied",fe(ne));else throw ne}else g.push(ee)})},function(N){throw i.doc_write_failures+=R.length,N})}}function I(){if(u.error)throw new Error("There was a problem getting docs.");i.last_seq=x=u.seq;var R=fe(i);return g.length&&(R.docs=g,typeof u.pending=="number"&&(R.pending=u.pending,delete u.pending),n.emit("change",R)),d=!0,e.info().then(function(H){var N=e.activeTasks.get(b);if(!(!u||!N)){var K=N.completed_items||0,W=parseInt(H.update_seq,10)-parseInt(f,10);e.activeTasks.update(b,{completed_items:K+u.changes.length,total_items:W})}}),p.writeCheckpoint(u.seq,C).then(function(){if(n.emit("checkpoint",{checkpoint:u.seq}),d=!1,n.cancelled)throw w(),new Error("cancelled");u=void 0,k()}).catch(function(H){throw $(H),H})}function O(){var R={};return u.changes.forEach(function(H){n.emit("checkpoint",{revs_diff:H}),H.id!=="_user/"&&(R[H.id]=H.changes.map(function(N){return N.rev}))}),t.revsDiff(R).then(function(H){if(n.cancelled)throw w(),new Error("cancelled");u.diffs=H})}function j(){return cc(e,t,u.diffs,n).then(function(R){u.error=!R.ok,R.docs.forEach(function(H){delete u.diffs[H._id],i.docs_read++,u.docs.push(H)})})}function z(){if(!(n.cancelled||u)){if(s.length===0){M(!0);return}u=s.shift(),n.emit("checkpoint",{start_next_batch:u.seq}),O().then(j).then(F).then(I).then(z).catch(function(R){U("batch processing terminated with error",R)})}}function M(R){if(h.changes.length===0){s.length===0&&!u&&((m&&S.live||l)&&(n.state="pending",n.emit("paused")),l&&w());return}(R||l||h.changes.length>=A)&&(s.push(h),h={seq:0,changes:[],docs:[]},(n.state==="pending"||n.state==="stopped")&&(n.state="active",n.emit("active")),z())}function U(R,H){_||(H.message||(H.message=R),i.ok=!1,i.status="aborting",s=[],h={seq:0,changes:[],docs:[]},w(H))}function w(R){if(!_&&!(n.cancelled&&(i.status="cancelled",d)))if(i.status=i.status||"complete",i.end_time=new Date().toISOString(),i.last_seq=x,_=!0,e.activeTasks.remove(b,R),R){R=Y(R),R.result=i;var H=(R.name||"").toLowerCase();H==="unauthorized"||H==="forbidden"?(n.emit("error",R),n.removeAllListeners()):lc(r,n,R,function(){Ai(e,t,r,n)})}else n.emit("complete",i),n.removeAllListeners()}function q(R,H,N){if(n.cancelled)return w();typeof H=="number"&&(h.pending=H);var K=Qr(r)(R);if(!K){var W=e.activeTasks.get(b);if(W){var ee=W.completed_items||0;e.activeTasks.update(b,{completed_items:++ee})}return}h.seq=R.seq||N,h.changes.push(R),n.emit("checkpoint",{pending_batch:h.seq}),Oe(function(){M(s.length===0&&S.live)})}function L(R){if(v=!1,n.cancelled)return w();if(R.results.length>0)S.since=R.results[R.results.length-1].seq,k(),M(!0);else{var H=function(){m?(S.live=!0,k()):l=!0,M(!0)};!u&&R.results.length===0?(d=!0,p.writeCheckpoint(R.last_seq,C).then(function(){if(d=!1,i.last_seq=x=R.last_seq,n.cancelled)throw w(),new Error("cancelled");H()}).catch($)):H()}}function E(R){if(v=!1,n.cancelled)return w();U("changes rejected",R)}function k(){if(!(!v&&!l&&s.length<B))return;v=!0;function R(){N.cancel()}function H(){n.removeListener("cancel",R)}n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",R);var N=e.changes(S).on("change",q);N.then(H,H),N.then(L).catch(E),r.retry&&(n._changes=N,n._abortChanges=R)}function P(R){return e.info().then(function(H){var N=typeof r.since>"u"?parseInt(H.update_seq,10)-parseInt(R,10):parseInt(H.update_seq,10);return b=e.activeTasks.add({name:`${m?"continuous ":""}replication from ${H.db_name}`,total_items:N}),R})}function T(){D().then(function(){if(n.cancelled){w();return}return p.getCheckpoint().then(P).then(function(R){x=R,f=R,S={since:x,limit:A,batch_size:A,style:y,doc_ids:c,selector:a,return_docs:!0},r.filter&&(typeof r.filter!="string"?S.include_docs=!0:S.filter=r.filter),"heartbeat"in r&&(S.heartbeat=r.heartbeat),"timeout"in r&&(S.timeout=r.timeout),r.query_params&&(S.query_params=r.query_params),r.view&&(S.view=r.view),k()})}).catch(function(R){U("getCheckpoint rejected with ",R)})}function $(R){d=!1,U("writeCheckpoint completed with error",R)}if(n.cancelled){w();return}n._addedListeners||(n.once("cancel",w),typeof r.complete=="function"&&(n.once("error",r.complete),n.once("complete",function(R){r.complete(null,R)})),n._addedListeners=!0),typeof r.since>"u"?T():D().then(function(){return d=!0,p.writeCheckpoint(r.since,C)}).then(function(){if(d=!1,n.cancelled){w();return}x=r.since,T()}).catch($)}class hc extends Te{constructor(){super(),this.cancelled=!1,this.state="pending";const t=new Promise((r,n)=>{this.once("complete",r),this.once("error",n)});this.then=function(r,n){return t.then(r,n)},this.catch=function(r){return t.catch(r)},this.catch(function(){})}cancel(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")}ready(t,r){if(this._readyCalled)return;this._readyCalled=!0;const n=()=>{this.cancel()};t.once("destroyed",n),r.once("destroyed",n);function i(){t.removeListener("destroyed",n),r.removeListener("destroyed",n)}this.once("complete",i),this.once("error",i)}}function Bt(e,t){var r=t.PouchConstructor;return typeof e=="string"?new r(e,t):e}function $r(e,t,r,n){if(typeof r=="function"&&(n=r,r={}),typeof r>"u"&&(r={}),r.doc_ids&&!Array.isArray(r.doc_ids))throw Y(Dt,"`doc_ids` filter parameter is not a list.");r.complete=n,r=fe(r),r.continuous=r.continuous||r.live,r.retry="retry"in r?r.retry:!1,r.PouchConstructor=r.PouchConstructor||this;var i=new hc(r),s=Bt(e,r),u=Bt(t,r);return Ai(s,u,r,i),i}function vc(e,t,r,n){return typeof r=="function"&&(n=r,r={}),typeof r>"u"&&(r={}),r=fe(r),r.PouchConstructor=r.PouchConstructor||this,e=Bt(e,r),t=Bt(t,r),new pc(e,t,r,n)}class pc extends Te{constructor(t,r,n,i){super(),this.canceled=!1;const s=n.push?Object.assign({},n,n.push):n,u=n.pull?Object.assign({},n,n.pull):n;this.push=$r(t,r,s),this.pull=$r(r,t,u),this.pushPaused=!0,this.pullPaused=!0;const h=a=>{this.emit("change",{direction:"pull",change:a})},d=a=>{this.emit("change",{direction:"push",change:a})},l=a=>{this.emit("denied",{direction:"push",doc:a})},_=a=>{this.emit("denied",{direction:"pull",doc:a})},f=()=>{this.pushPaused=!0,this.pullPaused&&this.emit("paused")},x=()=>{this.pullPaused=!0,this.pushPaused&&this.emit("paused")},m=()=>{this.pushPaused=!1,this.pullPaused&&this.emit("active",{direction:"push"})},A=()=>{this.pullPaused=!1,this.pushPaused&&this.emit("active",{direction:"pull"})};let B={};const y=a=>(o,p)=>{(o==="change"&&(p===h||p===d)||o==="denied"&&(p===_||p===l)||o==="paused"&&(p===x||p===f)||o==="active"&&(p===A||p===m))&&(o in B||(B[o]={}),B[o][a]=!0,Object.keys(B[o]).length===2&&this.removeAllListeners(o))};n.live&&(this.push.on("complete",this.pull.cancel.bind(this.pull)),this.pull.on("complete",this.push.cancel.bind(this.push)));function v(a,o,p){a.listeners(o).indexOf(p)==-1&&a.on(o,p)}this.on("newListener",function(a){a==="change"?(v(this.pull,"change",h),v(this.push,"change",d)):a==="denied"?(v(this.pull,"denied",_),v(this.push,"denied",l)):a==="active"?(v(this.pull,"active",A),v(this.push,"active",m)):a==="paused"&&(v(this.pull,"paused",x),v(this.push,"paused",f))}),this.on("removeListener",function(a){a==="change"?(this.pull.removeListener("change",h),this.push.removeListener("change",d)):a==="denied"?(this.pull.removeListener("denied",_),this.push.removeListener("denied",l)):a==="active"?(this.pull.removeListener("active",A),this.push.removeListener("active",m)):a==="paused"&&(this.pull.removeListener("paused",x),this.push.removeListener("paused",f))}),this.pull.on("removeListener",y("pull")),this.push.on("removeListener",y("push"));const c=Promise.all([this.push,this.pull]).then(a=>{const o={push:a[0],pull:a[1]};return this.emit("complete",o),i&&i(null,o),this.removeAllListeners(),o},a=>{if(this.cancel(),i?i(a):this.emit("error",a),this.removeAllListeners(),i)throw a});this.then=function(a,o){return c.then(a,o)},this.catch=function(a){return c.catch(a)}}cancel(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}}function _c(e){e.replicate=$r,e.sync=vc,Object.defineProperty(e.prototype,"replicate",{get:function(){var t=this;return typeof this.replicateMethods>"u"&&(this.replicateMethods={from:function(r,n,i){return t.constructor.replicate(r,t,n,i)},to:function(r,n,i){return t.constructor.replicate(t,r,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(t,r,n){return this.constructor.sync(this,t,r,n)}}G.plugin(Ro).plugin($o).plugin(ic).plugin(_c);const gc=()=>"https://qvamarkets.com/",Bi=()=>"https://qvamarkets.com/";let wc=new G("paramsS"),Fc=new G("userDbProfile"),kn=new G("Guias"),Sc=new G("Scanned");new G("linkManifest");let kc=new G("listManifest"),qc=new G("saleCart"),Oc=new G("inventoryLocation"),Rc=new G("ScannedLocations");const Pc=()=>{kn.destroy(),setTimeout(()=>{kn=new G("Guias")},450)};function yc(){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwyxz",t=16,r="",n=0;n<t;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}function Tc(){for(var e="0123456789BCDFGKSY",t=9,r="",n=0;n<t;n++)r+=e.charAt(Math.floor(Math.random()*e.length));return r}function Ic(e){for(var t="0123456789BCDFGKSY",r=e||4,n="",i=0;i<r;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}function Lc(e){for(var t="0123456789",r=e,n="",i=0;i<r;i++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}const Hc=()=>[{id:"35",label:"35"},{id:"36",label:"36"},{id:"37",label:"37"},{id:"38",label:"38"},{id:"39",label:"39"},{id:"40",label:"40"},{id:"41",label:"41"},{id:"42",label:"42"},{id:"43",label:"43"},{id:"44",label:"44"},{id:"45",label:"45"},{id:"46",label:"46"},{id:"47",label:"47"},{id:"2501",label:"2501"},{id:"2502",label:"2502"},{id:"2503",label:"2503"},{id:"2504",label:"2504"},{id:"2505",label:"2505"},{id:"2506",label:"2506"},{id:"2507",label:"2507"},{id:"2508",label:"2508"}],jc=["total","YABA_09","YABA_11","YABA_13","YABA_14","YABA_22","AERO_28","AERO_33","YABA_39","YABA_40","YABA_41","YABA_42","YABA_46","YABA_50","YABA_52","YABA_54","YABA_56","YABA_70","YABA_78","YABA_99","SSG_148","SSG_149"],zr={},Nc=(e,t)=>{zr[e]=t},Ci=e=>e?zr[e]:zr;function Ei(e){try{return JSON.parse(e),!0}catch{return!1}}function $c(e,t){t=t||"id";var r={};return e.length>0?e.map(n=>{r[n[t]]=n}):r=null,r}function zc(e){var t=[];return e&&Object.keys(e).map(r=>{t.push(e[r])}),t}const Mc={en:["S","M","T","W","T","F","S"],es:["D","L","M","M","J","V","S"]},Kc=async(e,t,r)=>{for(let n of e.map((i,s)=>()=>t(i,s,e,r)))await n()},Uc=async(e,t)=>{let r="",n=gc()+"gql_api",i={method:"post",headers:{"Content-Type":"application/json",Authorization:`${r}`},body:JSON.stringify(e)};try{return(await fetch(n,i)).json()}catch{return null}};function qn(e,t){try{var r=ke.enc.Base64.parse(t),n=null;return n=ke.AES.encrypt(e,r,{mode:ke.mode.ECB,padding:ke.pad.Pkcs7}),n.ciphertext.toString(ke.enc.Base64)}catch{return null}}function On(e,t){var r=ke.enc.Base64.parse(t),n=ke.AES.decrypt(e,r,{mode:ke.mode.ECB,padding:ke.pad.Pkcs7});return n.toString(ke.enc.Utf8)}function mc(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}const Wc=e=>Bi()+"gql_api/getStatic?fileName="+e,Gc=async(e,t)=>{const r=JSON.stringify(e);var n={};let i=Ci("sectionKey");var s=yc();let u=qn(s,i),h=qn(r,s);if(!h)return{};const d={};d.d=h,d.k=u;let l=JSON.stringify(d);var _=mc(Bc()),f=Bi()+"gql_v9";let x={method:"post",headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Authorization:`${_}`},body:l};var B=await(await fetch(f,x)).json();const{data:y}=B;if(y&&y.d){let v=On(y.k,i),c=On(y.d,v);Ei(c)&&(n=JSON.parse(c))}return n};function Yc(e){var t=[];if(e)try{t=Object.keys(e)}catch{for(var r in e)t.push(r)}return t}const Ac=()=>"querys_callback",Bc=()=>"ssg_logistic_tkn",Cc={en:["","January","February","March","April","May","June","July","August","September","October","November","December"],es:["","Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]};function Qc(e,t){let r="es";var n=new Date(e);return`${Cc[r][n.getMonth()+1]} ${n.getDate()}, ${n.getFullYear()}`}function Xc(e){var t=e?new Date(e):new Date;let r=t.getMonth()+1,n=t.getDate();return`${r>9?r:"0"+r}/${n>9?n:"0"+n}/${t.getFullYear()}`}function Jc(e){var t=new Date(e);let r=t.getHours(),n=t.getMinutes(),i=t.getSeconds();return`${r>9?r:"0"+r}:${n>9?n:"0"+n}:${i>9?i:"0"+i}`}function Zc(){return new Date().getTime()}function Vc(e,t,r){var n=0,i=window.setInterval(function(){e(),++n===r&&window.clearInterval(i)},t)}const eu=(e,t,r,n)=>{let i=0,s={};return e.map(u=>{Di(t?.[u],r?.[u])||(i=1,s[u]=t[u])}),{hasChange:i,data:s}},Di=(e,t)=>Object.prototype.toString.call(e)===Object.prototype.toString.call(t)?Object.prototype.toString.call(e)==="[object Object]"||Object.prototype.toString.call(e)==="[object Array]"?Object.keys(e).length!==Object.keys(t).length?!1:Object.keys(e).every(function(r){return Di(e[r],t[r])}):e===t:!1,lt=e=>{if(/([^\u0000-\u00ff])/.test(e))throw Error("String must be ASCII");var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r,n,i,s,u,h,d,l,_=[],f="",x;if(x=e.length%3,x>0)for(;x++<3;)f+="=",e+="\0";for(x=0;x<e.length;x+=3)r=e.charCodeAt(x),n=e.charCodeAt(x+1),i=e.charCodeAt(x+2),s=r<<16|n<<8|i,u=s>>18&63,h=s>>12&63,d=s>>6&63,l=s&63,_[x/3]=t.charAt(u)+t.charAt(h)+t.charAt(d)+t.charAt(l);return e=_.join(""),e=e.slice(0,e.length-f.length)+f,e},tu=(e,t,r=!0)=>e&&e.sort((i,s)=>{let u=i[t],h=s[t];return u<h?r?-1:1:u>h?r?1:-1:0}),ru={error:{"--err-bx-color":"var(--background-red-ssg)","--err-bx-bgcolor":"var(--background-red35-ssg)",svg:"var(--err-bx-color)",icon:"alert"},success:{"--err-bx-color":"var(--hrm-palette-tertiary60)","--err-bx-bgcolor":"var(--hrm-palette-tertiary90)",svg:"var(--err-bx-color)",icon:"success"},warning:{"--err-bx-color":"#FF6F1D","--err-bx-bgcolor":"#ffdb99",svg:"var(--err-bx-color)",icon:"info"}},nu=(e,t)=>{const r=(u,h)=>h===null?"":h,n=Object.keys(t[0]);let i=t.map(u=>n.map(h=>JSON.stringify(u[h],r)).join(","));i.unshift(n.join(",")),i=i.join(`\r
`);var s=document.createElement("a");s.setAttribute("href","data:text/csv;charset=utf-8,%EF%BB%BF"+encodeURIComponent(i)),s.setAttribute("download",e),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},iu=e=>({...Ci(Ac())})[e],au=()=>{if(!window.DATAMatrix){let e=null;e=setInterval(()=>{window.DATAMatrix&&e&&clearInterval(e)},1600)}},su=e=>{const t=document.createElement("script");t.src=e,t.refer,t.async,document.head.appendChild(t)};function ou(e){e=Number(e);var t=new Date(e);return`${bc[t.getMonth()+1]} ${t.getDate()}, ${t.getFullYear()}`}function cu(e){return e||""}function Rn(e){return e!=null}const uu=(e,t)=>{let r=[],n=[];const i=Dc(t,e+1),s=new Date(t,e,1).getDay(),h=7-new Date(t,e,i).getDay()-1;for(let d=s;d>0;d--)n.push({day:"",isActive:!1,prevLastDay:!0});for(let d=1;d<=i;d++)d===new Date().getDate()&&e===new Date().getMonth()&&t===new Date().getFullYear()?n.push({day:d,isToday:!0,isActive:!1}):n.push({day:d,isActive:!1}),new Date(t,e,d).getDay()===6&&(r.push(n),n=[]);for(let d=1;d<=h;d++)n.push({day:"",nextDay:!0,isActive:!1}),d===h&&(r.push(n),n=[]);return r};function fu(e){var t=e?new Date(e):new Date;let r=t.getMonth()+1,n=t.getDate();return`${t.getFullYear()}-${r>9?r:"0"+r}-${n>9?n:"0"+n}`}function Ec(e){return e%100!==0&&(e%4===0||e%400===0)?29:28}function Dc(e,t){if(!Rn(e)||!Rn(t))return null;var r=parseInt(e.toString()),n=parseInt(t.toString());return[0,31,Ec(r),31,30,31,30,31,31,30,31,30,31][n]}const bc=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function lu(e){return JSON.parse(JSON.stringify(e))}const xu=lt("guias_all"),du=lt("Scanned");lt("linkManifest");const hu=lt("listManifest"),vu=lt("ScannedLocations"),pu=(e,t)=>new Promise((r,n)=>{e.get(t,function(s,u){r(s?null:Ei(u?.bdata)?JSON.parse(u?.bdata):null)})}),_u=async(e,t,r)=>new Promise((n,i)=>{e.get(t,function(u,h){if(!u)h.bdata=JSON.stringify(r),e.put(h,function(l,_){n()});else{let d={};d.id=t,d._id=t,e.post(d,function(_,f){n()})}})});export{Pc as $,Bc as A,gc as B,Ei as C,mc as D,zc as E,tu as F,_u as G,hu as H,kc as I,Lc as J,Zc as K,Tc as L,qc as M,Mr as N,Yc as O,ou as P,uu as Q,Cc as R,cu as S,pu as T,du as U,Sc as V,xu as W,kn as X,vu as Y,Rc as Z,Mc as _,yc as a,Q as a0,fu as a1,Di as a2,eu as a3,lu as b,Ic as c,Wc as d,Ci as e,Gc as f,iu as g,Xc as h,Oc as i,Jc as j,Uc as k,Hc as l,Kc as m,nu as n,Vc as o,Qc as p,Ac as q,$c as r,jc as s,ru as t,Nc as u,wc as v,Fc as w,su as x,au as y,On as z};
