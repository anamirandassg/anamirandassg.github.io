const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-BDhRA3_j.js","assets/index-CUMqyv7M.js","assets/index-NFdrrltd.css","assets/SVG-DIuptYEy.js","assets/index-Ci0zXM0r.js","assets/ButonHrm-B1uWNt_J.js","assets/Util-DErZaF9J.js","assets/ButonHrm-BSeWNUGQ.css","assets/InputHr-DHXL4V7J.js","assets/InputHr-M3rJ9grQ.css","assets/ShowQR-DE7cH1Oy.js","assets/globalSignal-DV4goPGp.js","assets/ShowQRPrintLabel-BhRZdlDH.js","assets/PDFButton-B_0lS8EG.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-BKe7DAJ7.js","assets/InitPrintServices-NgpjRc8z.js","assets/Toast-BUKibtkL.js","assets/Toast-DLpFKn-Q.css","assets/ItemOnConsigner-BXDErliz.js","assets/DialogHRM-Bofk-2Rq.js","assets/DialogHRM-V9_lZntj.css","assets/ContainerElasticView-pWOFoVeZ.js","assets/ContainerElasticView-LzOd6fDI.css","assets/DropDwnSearch---PZlY10.js","assets/debounces-CWZEP-ZR.js","assets/DropDwnSearch-DMkLkRPc.css","assets/CheckBoxSlide-BmYcS9GA.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{l as N,_ as A,a as L,d as i,i as t,e as ue,t as g,S as _,f as O,n as ie,k as U,j as me,g as ge,w as W,r as p,x as oe,M as Y,b as ee,F as ce,m as he,q as _e,y as be}from"./index-CUMqyv7M.js";import{a as R,p as ve,c as $e,g as Z,O as ye,b as G,f as q}from"./Util-DErZaF9J.js";import{OpenModal as re,CloseModal as fe}from"./DialogHRM-Bofk-2Rq.js";import xe from"./ContainerElasticView-pWOFoVeZ.js";import{i as P}from"./globalSignal-DV4goPGp.js";import{c as we}from"./ShowQRPrintLabel-BhRZdlDH.js";import"./index-Ci0zXM0r.js";import"./SVG-DIuptYEy.js";/* empty css                             */import"./PDFButton-B_0lS8EG.js";import"./qrcode-C5vWJp7P.js";import"./fontkit.es-BKe7DAJ7.js";import"./InitPrintServices-NgpjRc8z.js";import"./Toast-BUKibtkL.js";var ke=g("<img width=48 height=24 class=picture-profile alt=ssg decoding=async>"),H=g('<div class="icon_status centerBx">'),Se=g("<div class=guide_number><h5>"),Ce=g('<div class=" tr_bar_10 _dsplFlx">'),ne=g("<div class=bag_number><h5>"),Be=g("<div class=bottombx><h5>"),Ie=g("<div><div>"),Pe=g('<p class="tr_bar_30 textleft fullName_consigne">'),Ne=g("<div style=margin-right:4vw>"),Ae=g('<h4 class="tr_bar_20 textleft">'),Ee=g("<div class=centerBx><div>"),De=g("<p>"),Me=g("<div class=separator> "),He=g('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),Le=g('<div class="centerBx bottombx"style=margin-top:10px;><h5>is SSG'),Oe=g('<div class="centerBx bottombx"style=margin-top:10px;><h5>is Paid'),J=g("<div style=padding:4px>"),Te=g('<div><div class="_dsplFlx topbx centerBx"></div><div class="centerBx bottombx"><div class="centerBx bottombx flxWrp"><h4></h4><div class=vertseparator></div><h5></h5><div class=vertseparator></div><h4></h4></div></div><div class="centerBx bottombx flxWrp">'),ze=g('<ul class=inline><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Movimientos</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">HBLS</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Embarcador</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Agency'),Ve=g("<div class=tab>"),Q=g("<div class=loader>Loading..."),de=g("<div>"),Fe=g('<div class="centerBx bottombx"><h4 class=""></h4><h5>el <!> a las <!> por</h5><h4 class="">'),Re=g('<div class="centerBx bottombx"><h4 class=""></h4>|<div class="icon_status centerBx"></div><h5> KG</h5>|<div class="icon_status centerBx"></div><h5> LB</h5>|<h4 class=""></h4><div class="icon_status centerBx">'),pe=g("<h5>"),Ge=g("<h4>"),qe=g("<div class=bottombx><div><h4></h4></div><div><h5>"),Qe=g("<div class=bottombx><div><h4>"),We=g('<div><div style=max-height:220px></div><div class="centerBx flxWrp spaceAround ">'),Ye=g('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),je=g('<div class="centerBx flxWrp">');const K=N(()=>A(()=>import("./FlexSpace-BDhRA3_j.js"),__vite__mapDeps([0,1,2]))),w=N(()=>A(()=>import("./SVG-DIuptYEy.js"),__vite__mapDeps([3,1,2,4]))),Ue=N(()=>A(()=>import("./ButonHrm-B1uWNt_J.js"),__vite__mapDeps([5,1,2,3,4,6,7]))),le=N(()=>A(()=>import("./InputHr-DHXL4V7J.js"),__vite__mapDeps([8,1,2,9]))),Ke=N(()=>A(()=>import("./ShowQR-DE7cH1Oy.js"),__vite__mapDeps([10,1,2,11,12,13,4,14,15,16,6,17,18]))),Xe=N(()=>A(()=>import("./ItemOnConsigner-BXDErliz.js"),__vite__mapDeps([19,1,2,6,4,20,21,22,3,23,11,13,14,15,17,18,5,7]))),Ze=N(()=>A(()=>import("./DropDwnSearch---PZlY10.js"),__vite__mapDeps([24,1,2,25,3,4,26]))),ae=N(()=>A(()=>import("./CheckBoxSlide-BmYcS9GA.js"),__vite__mapDeps([27,1,2,28])));let X={YABA_99:"check_circle"};function Ct(e){const[r,a]=L(0),s=n=>n?" "+n:"",d=()=>{let n=e?.item?.consigneeInfo;return s(n?.firstName)+s(n?.middleName)+s(n?.lastName)+s(n?.lastName2)},u=()=>{let n=e?.item?.consigneeInfo,c=s(n?.altPhoneNumber);return s(n?.phoneNumber)+(c?" |"+c:"")},o=()=>{let n=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let c=n.reduce((b,y)=>Math.min(b,y.timeStamp),1/0);return Math.floor((new Date().getTime()-c)/864e5)}else return null},$=async()=>{let c={ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"};e?.item?.bagnumber&&await ct({id:e?.item?.bagnumber}),e?.item?.hbls?.map(async b=>{}),await st(c),e?.refresh()},f=n=>{let c="";if(n)c=n,n.indexOf("/")>0&&(c=e?.item?.hblS.split("/")?.[2]);else if(e?.item?.hblS){let y=e?.item?.hblS;c=`${e?.item?.idairguide}/${e?.item?.cidentity}/${y}`}let b={};b.id=Z(),b.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},b.content=i(Ke,{val:c,get item(){return e?.item}}),re(b)},z=async n=>{let c=await dt(e?.item?.cidentity),b=ye(c)?.[0],y=Z(),x={};x.id=y,x.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},x.content=i(ut,{get item(){return c?.[b]},get it(){return e?.item},modalId:y}),re(x)},S=n=>{let c=n,b="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const y=new RegExp(b);return c.length===13&&y.test(c)&&(c=c.slice(3,12)),c},V=async n=>{await T({ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"},{isSSG:n?"1":null})},F=async n=>{await T({ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"},{isPaid:n?"isPaid":null})},B=async n=>{await T({ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"},{billedBy:n})};return i(_,{get when(){return e?.item?.cidentity},get children(){var n=Te(),c=n.firstChild,b=c.nextSibling,y=b.firstChild,x=y.firstChild,k=x.nextSibling,E=k.nextSibling,D=E.nextSibling,I=D.nextSibling,M=b.nextSibling;return t(c,i(_,{get when(){return e?.item?.cidentity},get children(){return[(()=>{var l=Ce();return t(l,i(_,{get when(){return e?.item?.isSSG},get children(){var m=ke();return O(()=>ie(m,"src",R("SSG.webp"))),m}}),null),t(l,i(_,{get when(){return X[e?.item?.currentStatus]},get children(){var m=H();return m.$$click=()=>a(!r()),t(m,i(w,{get name(){return X?.[e?.item?.currentStatus]},size:32,color:"var(--hrm-palette-tertiary60)"})),m}}),null),t(l,i(_,{get when(){return e?.item?.isPaid},get children(){var m=H();return t(m,i(w,{name:"money_outline",size:32})),m}}),null),t(l,i(_,{get when(){return!X[e?.item?.currentStatus]},get children(){var m=H();return m.$$click=()=>a(!r()),t(m,i(w,{get name(){return R("M023009")?.statusListIcons?.[e?.item?.currentStatus]},size:32})),m}}),null),t(l,i(_,{get when(){return o()},get children(){var m=Se(),v=m.firstChild;return t(v,o),m}}),null),l})(),i(_,{get when(){return P()},get children(){return[i(K,{}),(()=>{var l=Ie(),m=l.firstChild;return t(m,i(_,{get when(){return e?.item?.bagnumber},get children(){var v=ne(),h=v.firstChild;return v.$$click=()=>f(e?.item?.bagnumber),t(h,()=>e?.item?.bagnumber),v}})),t(l,i(_,{get when(){return e?.item?.tracking},get children(){var v=Be(),h=v.firstChild;return v.$$click=()=>f(S(e?.item?.tracking)),t(h,()=>S(e?.item?.tracking)),v}}),null),l})()]}}),i(_,{get when(){return!P()},get children(){return[(()=>{var l=Pe();return t(l,d),O(()=>ie(l,"data-name",`${e?.item?.cidentity}`)),l})(),Ne(),(()=>{var l=Ae();return t(l,u),l})()]}})]}}),null),t(c,i(K,{}),null),t(c,i(_,{get when(){return!P()},get children(){var l=Ee(),m=l.firstChild;return t(m,i(_,{get when(){return e?.item?.bagnumber},get children(){var v=ne(),h=v.firstChild;return v.$$click=()=>f(e?.item?.bagnumber),t(h,()=>S(e?.item?.bagnumber)),v}})),l}}),null),t(c,i(_,{get when(){return U?.profile?.isAdmin},get children(){var l=H();return l.$$click=z,t(l,i(w,{name:"home",size:24})),l}}),null),t(c,i(_,{get when(){return!e?.item?.bagnumber||U?.profile?.isAdmin},get children(){var l=H();return l.$$click=$,t(l,i(w,{name:"outline_delete",size:24})),l}}),null),t(b,i(_,{get when(){return!P()&&e?.item?.consigneeInfo?.ybstreet},get children(){var l=De();return t(l,()=>se(e?.item?.consigneeInfo)),l}}),y),t(b,i(K,{}),y),t(x,()=>e?.item?.consigneeInfo?.ybreparto),t(E,()=>e?.item?.consigneeInfo?.ybcity),t(I,()=>e?.item?.consigneeInfo?.ybestate),t(n,i(_,{get when(){return P()&&e?.item?.consigneeInfo?.ybcity},get children(){return[Me(),(()=>{var l=He(),m=l.firstChild,v=m.nextSibling,h=v.nextSibling,C=h.nextSibling;return t(m,d),t(h,u),t(C,()=>se(e?.item?.consigneeInfo)),l})()]}}),M),t(M,i(_,{get when(){return me(()=>!!(r()&&_e()))()&&!P()},get children(){return[(()=>{var l=Le(),m=l.firstChild;return t(l,i(ae,{get initValue(){return e?.item?.isSSG},updChange:V,color:"var(--background-red-ssg)"}),m),l})(),i(_,{get when(){return U?.profile?.isAdmin},get children(){return[(()=>{var l=Oe(),m=l.firstChild;return t(l,i(ae,{get initValue(){return e?.item?.isPaid},updChange:F,color:"var(--background-red-ssg)"}),m),l})(),(()=>{var l=J();return t(l,i(Ze,{get list(){return R("M023009")?.usersListSSG},lbl_empty:"Billed by",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.item?.billedBy},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:m=>B(m?.id),width:"260px"})),l})()]}})]}})),t(n,i(Je,{get item(){return e?.item}}),null),O(()=>ge(n,`client_item_box gWXAaj jlytmu ${P()?"isMobile":""}`)),n}})}const Je=e=>{const[r,a]=L(0),[s,d]=be(),u=o=>()=>d(()=>a(o));return i(xe,{get children(){return[(()=>{var o=ze(),$=o.firstChild,f=$.firstChild,z=f.firstChild,S=$.nextSibling,V=S.firstChild,F=V.firstChild,B=S.nextSibling,n=B.firstChild,c=n.firstChild,b=B.nextSibling,y=b.firstChild,x=y.firstChild;return W($,"click",u(1),!0),t(z,i(w,{name:"list_dot",size:24})),W(S,"click",u(2),!0),t(F,i(w,{name:"receipt",size:24})),W(B,"click",u(3),!0),t(c,i(w,{name:"send",size:24})),W(b,"click",u(4),!0),t(x,i(w,{name:"store",size:24})),O(k=>{var E=r()===1,D=r()===2,I=r()===3,M=r()===4;return E!==k.e&&$.classList.toggle("selected",k.e=E),D!==k.t&&S.classList.toggle("selected",k.t=D),I!==k.a&&B.classList.toggle("selected",k.a=I),M!==k.o&&b.classList.toggle("selected",k.o=M),k},{e:void 0,t:void 0,a:void 0,o:void 0}),o})(),(()=>{var o=Ve();return t(o,i(p,{get fallback(){return Q()},get children(){return i(oe,{get children(){return[i(Y,{get when(){return r()===1},get children(){return i(_,{get when(){return r()===1},get children(){return i(et,{index:1,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key},get currentStatus(){return e?.item?.currentStatus}})}})}}),i(Y,{get when(){return r()===2},get children(){return i(_,{get when(){return r()===2},get children(){return i(it,{index:2,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(Y,{get when(){return r()===3},get children(){return i(_,{get when(){return r()===3},get children(){return i(lt,{index:3,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(Y,{get when(){return r()===4},get children(){return i(_,{get when(){return r()===4},get children(){return i(at,{index:4,get agency(){return e?.item?.agency},get id(){return e?.item?.ssg_track_key}})}})}})]}})}})),O(()=>o.classList.toggle("pending",!!s())),o})()]}})},et=e=>{const[r,{refetch:a}]=ee(e?.id,async s=>{const d=await te(e?.idairguide,e?.id,["statusHistory","deliveryUserName","deliveryTime"]);let u=d?.statusHistory;if(d?.deliveryTime){let o={statusId:e?.currentStatus,timeStamp:d?.deliveryTime,userName:d?.deliveryUserName};u.push(o)}return u});return i(p,{get fallback(){return Q()},get children(){var s=de();return t(s,i(ce,{get each(){return r()},children:d=>i(tt,{item:d})})),s}})},tt=e=>(()=>{var r=Fe(),a=r.firstChild,s=a.nextSibling,d=s.firstChild,u=d.nextSibling,o=u.nextSibling,$=o.nextSibling;$.nextSibling;var f=s.nextSibling;return t(a,()=>R("M023009")?.statusObjDesc[e?.item?.statusId]),t(s,()=>ve(e?.item?.timeStamp),u),t(s,()=>$e(e?.item?.timeStamp),$),t(f,()=>e?.item?.userName),r})(),it=e=>{const[r,{refetch:a}]=ee(e?.id,async u=>(await te(e?.idairguide,e?.id,["hbls"]))?.hbls),s=async(u,o)=>{let $=[];r().map(f=>{f.hbl===u&&(f={...f,...o}),$.push(f)}),await T({ssg_track_key:e?.id,idairguide:"all"},{hbls:$}),a()},d=async u=>{let o=[];r().map($=>{$.hbl!==u&&o.push($)}),await T({ssg_track_key:e?.id,idairguide:"all"},{hbls:o}),a()};return i(p,{get fallback(){return Q()},get children(){var u=de();return t(u,i(ce,{get each(){return r()},children:o=>i(nt,{item:o,updHbls:s,rmvHbls:d})})),u}})},rt=2.20462,nt=e=>{const[r,a]=L(0),[s,d]=L(0),[u,o]=L(0),[$,f]=L(0),z=n=>{we(n)};he(()=>{e?.item?.pricePerPound&&o(e?.item?.pricePerPound),e?.item?.dutyFee&&f(e?.item?.dutyFee)});const S=(n,c,b)=>{e?.updHbls(e?.item?.hbl,{[n]:c}),b?a(!1):d(!1)},V=()=>{let n=e?.item?.pricePerPound;return n?"$ "+(n*1).toFixed(2):" agregar precio por libra"},F=()=>{let n=e?.item?.dutyFee;return n?"$ "+(n*1).toFixed(2):" agregar aranceles"},B=()=>{e?.rmvHbls(e?.item?.hbl)};return(()=>{var n=Re(),c=n.firstChild,b=c.nextSibling,y=b.nextSibling,x=y.nextSibling,k=x.firstChild,E=x.nextSibling,D=E.nextSibling,I=D.nextSibling,M=I.firstChild,l=I.nextSibling,m=l.nextSibling,v=m.nextSibling;return c.$$click=()=>z(e?.item?.hbl),t(c,()=>e?.item?.hbl),t(y,i(w,{name:"weight-kilogram",size:20})),t(x,()=>e?.item?.weight,k),t(D,i(w,{name:"weight-pound",size:20})),t(I,()=>(e?.item?.weight*rt).toFixed(2),M),t(m,()=>e?.item?.namegood),t(n,i(_,{get when(){return r()},get fallback(){return["|",(()=>{var h=H();return t(h,i(w,{name:"money",size:20})),h})(),(()=>{var h=pe();return h.$$click=()=>a(!r()),t(h,V),h})()]},get children(){var h=J();return t(h,i(le,{width:"160px",backColor:"#ffffff",borderColor:"#b2b2b2",type:"number",borderActiveColor:"var(--background-red-ssg)",get value(){return u()},placeholder:"Precio por Libra",colors:"#2b2b2b",handleClick:C=>o(C),onEnter:C=>S("pricePerPound",C,1)})),h}}),v),t(n,i(_,{get when(){return s()},get fallback(){return["|",(()=>{var h=H();return t(h,i(w,{name:"warehouse",size:20})),h})(),(()=>{var h=Ge();return h.$$click=()=>d(!s()),t(h,F),h})()]},get children(){var h=J();return t(h,i(le,{width:"160px",backColor:"#ffffff",borderColor:"#b2b2b2",type:"number",borderActiveColor:"var(--background-red-ssg)",get value(){return $()},placeholder:"Aranceles",colors:"#2b2b2b",handleClick:C=>f(C),onEnter:C=>S("dutyFee",C)})),h}}),v),v.$$click=B,t(v,i(w,{name:"outline_delete",size:20})),n})()},lt=e=>{const[r,{refetch:a}]=ee(e?.id,async s=>await te(e?.idairguide,e?.id,["nameshipper","shipperInfo:phoneNumber"]));return i(p,{get fallback(){return Q()},get children(){var s=qe(),d=s.firstChild,u=d.firstChild,o=d.nextSibling,$=o.firstChild;return t(u,()=>r()?.nameshipper),t($,()=>r()?.shipperInfo?.phoneNumber),s}})},at=e=>{const r=()=>R("M023009")?.agencies?.filter(s=>e?.agency===s?.id?.toString())?.[0];return i(p,{get fallback(){return Q()},get children(){var a=Qe(),s=a.firstChild,d=s.firstChild;return t(d,()=>r()?.label),a}})},st=async e=>{let r={params:e},a=G(809005);return r={...r,...a},(await q(r))?.data},ct=async e=>{let r={params:e},a=G(409098);return r={...r,...a},(await q(r))?.data},te=async(e,r,a)=>{let s={params:{id:r,idairguide:"all"},fldsQry:a},d=G(802002);s={...s,...d};const u=await q(s);return u?.data?.error?{}:u},dt=async e=>{if(e.length>4){let r={params:{}};e&&e.split(" ").map((d,u)=>{d&&(r.params[":search"+u]=d.trim())});let a=G(401001);return r={...r,...a},await q(r)}else return{}},T=async(e,r)=>{let a={params:e,data2update:r},s=G(809004);return a={...a,...s},await q(a)},ut=e=>{const r=async()=>{let a={consigneeInfo:{cid:e?.item?.cid,firstName:e?.item?.firstName,lastName:e?.item?.lastName,lastName2:e?.item?.lastName2,middleName:e?.item?.middleName,phoneNumber:e?.item?.phoneNumber,ybapt:e?.item?.ybapt,ybbetwen1:e?.item?.ybbetwen1,ybbetwen2:e?.item?.ybbetwen2,ybcity:e?.item?.ybcity,ybestate:e?.item?.ybestate,ybreparto:e?.item?.ybreparto,ybstreet:e?.item?.ybstreet,ybstreetNo:e?.item?.ybstreetNo},city:e?.item?.ybcity,estate:e?.item?.ybestate};await T({ssg_track_key:e?.it?.ssg_track_key,idairguide:"all"},a),fe(e?.modalId)};return(()=>{var a=We(),s=a.firstChild,d=s.nextSibling;return a.style.setProperty("height","clamp(20vh, 45vh, 80vh)"),a.style.setProperty("overflow","auto"),a.style.setProperty("background","#ffffff"),a.style.setProperty("border-radius","13"),a.style.setProperty("padding","10px 19px"),t(s,i(Xe,{get item(){return e?.item},refresh:()=>isOpenDebounced(Z())})),t(d,i(Ue,{color:"rgb(200 25 60 / 1)",label:"Actualizar",handleClick:r})),O(u=>(u=P()?"96vw":"920px")!=null?a.style.setProperty("width",u):a.style.removeProperty("width")),a})()},j=(e,r)=>r?(()=>{var a=Ye(),s=a.firstChild,d=s.nextSibling;return t(s," "+e),t(d,r),a})():"",se=e=>(()=>{var r=je();return t(r,()=>j("Calle",e?.ybstreet),null),t(r,()=>j("#",e?.ybstreetNo),null),t(r,()=>j("E/",e?.ybbetwen1),null),t(r,()=>j("y",e?.ybbetwen2),null),r})();ue(["click"]);export{Ct as default,se as getAddress};
