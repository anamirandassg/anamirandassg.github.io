const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-DKQYefyC.js","assets/index-DltPbqHD.js","assets/index-B8bAFC38.css","assets/SVG-CT3adiDl.js","assets/AddInventory-DsuZx8Tu.js","assets/DialogHRM-ByNTJ52m.js","assets/DialogHRM-V9_lZntj.css","assets/debounces-DLGJQUQ8.js","assets/DashProducts-C9T0ZvvN.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InventoryOut-BY_LadZp.js","assets/DashInventory-vT0dgiFP.js","assets/Toast-DMBf6yw2.js","assets/Toast-DLpFKn-Q.css","assets/DropDwnSearch--e5RSuwW.js","assets/DropDwnSearch-DMkLkRPc.css","assets/LoadingColorSpinner-D0jtX9Ue.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-UnN3COgO.js","assets/InputHr-BXFw4d2l.css","assets/CheckBoxSlide-Cz1zeBmv.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/ItemOnGroupInventory-DpQBtouQ.js"])))=>i.map(i=>d[i]);
import{l as v,_ as x,a as S,c as V,o as N,b as M,C as j,i as r,e,D as q,Q as B,S as i,R as H,F as Q,O as D,h as W,j as z,k as G,r as c,n as A,x as F,t as a,p as X}from"./index-DltPbqHD.js";import"./DialogHRM-ByNTJ52m.js";import{validStores as Y}from"./AddInventory-DsuZx8Tu.js";import{u as K}from"./debounces-DLGJQUQ8.js";import"./DashProducts-C9T0ZvvN.js";import"./App.module-CbHnVtRQ.js";import"./FlexSpace-DKQYefyC.js";var J=a('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:16px><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px>'),U=a("<div> <!>."),Z=a("<div> "),L=a('<p class=" textleft fullName_consigne">Producto'),ee=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>'),te=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Existencia'),k=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Costo'),re=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Total'),T=a('<div><div class="_dsplFlx bottombx centerBx"><div class="_dsplFlx bottombx tr_bar_40">'),le=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Envio'),ie=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Precio'),ne=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Venta'),se=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Ganancia'),w=a('<div class="_dsplFlx bottombx tr_bar_15 red"><h5>$'),oe=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>$'),ae=a("<div><h5>$"),de=a('<div class="_dsplFlx bottombx centerBx"><div class="_dsplFlx bottombx tr_bar_40 "><h4>Resume</h4>');const C=v(()=>x(()=>import("./FlexSpace-DKQYefyC.js"),__vite__mapDeps([0,1,2])));v(()=>x(()=>import("./SVG-CT3adiDl.js"),__vite__mapDeps([3,1,2])));v(()=>x(()=>import("./AddInventory-DsuZx8Tu.js"),__vite__mapDeps([4,1,2,5,6,7,8,9,10,0])));v(()=>x(()=>import("./InventoryOut-BY_LadZp.js"),__vite__mapDeps([11,1,2,5,6,7,8,9,10,0,12,13,14,4])));const I=v(()=>x(()=>import("./DropDwnSearch--e5RSuwW.js"),__vite__mapDeps([15,1,2,7,3,16]))),ce=v(()=>x(()=>import("./LoadingColorSpinner-D0jtX9Ue.js"),__vite__mapDeps([17,1,2,18]))),ue=v(()=>x(()=>import("./InputHr-UnN3COgO.js"),__vite__mapDeps([19,1,2,20])));v(()=>x(()=>import("./CheckBoxSlide-Cz1zeBmv.js"),__vite__mapDeps([21,1,2,22])));const _e=v(()=>x(()=>import("./ItemOnGroupInventory-DpQBtouQ.js"),__vite__mapDeps([23,1,2,5,6,4,7,8,9,10,0])));function ye(){const[t,s]=S({}),[n,y]=S({}),[l,$]=V({store:"",search:""}),[E,o]=S(""),d=K(o,400),P=(_,m)=>{$({[_]:m}),d(X())};return N(()=>{}),M(()=>{}),j(E,async _=>{let m=`${l?.store} ${l?.search} `;if(!l?.store)return[];const f=await he(m,l?.type);let h={},b={cost:0,shipingCost:0,salePrice:0};return D(f).map(O=>{let g=f[O];g.products.map(u=>{if(l?.type&&g?.type!==l?.type)return;h[u.product?.id]||(h[u.product?.id]={productName:u.product?.label,stock:0,invoices:{},cost:0,price:0,shipingCost:0,salePrice:0});let R=l?.type==="SALES"?-1:1;h[u.product?.id].stock+=p(u.qty),h[u.product?.id].salePrice+=p(u.salePrice),l?.type==="SALES"&&(b.cost+=p(u.price)*p(u.qty),b.shipingCost+=p(g.weight)*p(g.pricePerPound)*R,b.salePrice+=p(u.salePrice)),h[u.product?.id].price+=p(u.price)*p(u.qty),h[u.product?.id].shipingCost+=p(g.weight)*p(g.pricePerPound)*R,h[u.product?.id].invoices[g.invoice]={weight:g.weight,pricePerPound:g.pricePerPound}})}),y(b),s(h),[]}),[(()=>{var _=J(),m=_.firstChild,f=m.nextSibling,h=f.nextSibling;return r(m,e(ue,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return l?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:b=>P("search",b)})),r(f,e(I,{list:[{id:"ENTRY",label:"ENTRADAS"},{id:"TRANSFER",label:"TRANSFERENCIAS"},{id:"SALES",label:"VENTAS"}],lbl_empty:"Tipo de Movimiento",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return l?.type},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:b=>P("type",b.id),width:"260px"})),r(h,e(I,{get list(){return Y()},lbl_empty:"Almacen",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return l?.store},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:b=>P("store",b.id),width:"260px"})),_})(),e(i,{get when(){return q(()=>!!l?.store)()&&t()},get children(){return e(B,{fallback:_=>(()=>{var m=U(),f=m.firstChild,h=f.nextSibling;return h.nextSibling,r(m,()=>_.toString(),h),m})(),get children(){return[e(i,{get when(){return l?.type!=="SALES"},get children(){return e(me,{})}}),e(i,{get when(){return l?.type==="SALES"},get children(){return e(pe,{get item(){return n()}})}}),e(H,{get fallback(){return(()=>{var _=Z();return _.firstChild,r(_,e(ce,{stroke:"rgb(200 25 60 / 1)",size:62}),null),_})()},get children(){return e(i,{get when(){return t()},get children(){return e(Q,{get each(){return D(t())},children:(_,m)=>e(_e,{get item(){return t()?.[_]},refetch:()=>{},get isSales(){return l?.type==="SALES"}})})}})}})]}})}})]}const he=async(t,s)=>{let n={params:{businessId:W?.profile?.businessYId}};t&&t.split(" ").map(($,E)=>{$&&(n.params[":search"+E]=$.trim())}),s&&(n.params[":type"]=s.trim());let y=z(132001);n={...n,...y};const l=await G(n);return l?.error?{}:l},p=t=>t?t*1:0,me=()=>(()=>{var t=T(),s=t.firstChild,n=s.firstChild;return r(n,e(i,{when:1,get children(){return L()}})),r(s,e(C,{}),null),r(s,e(i,{get when(){return!c()},get children(){return ee()}}),null),r(s,e(C,{}),null),r(s,e(i,{get when(){return!c()},get children(){return te()}}),null),r(s,e(i,{get when(){return!c()},get children(){return k()}}),null),r(s,e(i,{get when(){return!c()},get children(){return re()}}),null),A(()=>F(t,`client_item_box gWXAaj jlytmu inventory ${c()?"isMobile":""}`)),t})(),pe=t=>(()=>{var s=T(),n=s.firstChild,y=n.firstChild;return r(y,e(i,{when:1,get children(){return L()}})),r(n,e(C,{}),null),r(n,e(i,{get when(){return!c()},get children(){return le()}}),null),r(n,e(C,{}),null),r(n,e(i,{get when(){return!c()},get children(){return ie()}}),null),r(n,e(i,{get when(){return!c()},get children(){return k()}}),null),r(n,e(i,{get when(){return!c()},get children(){return ne()}}),null),r(n,e(i,{get when(){return!c()},get children(){return se()}}),null),r(s,e(i,{get when(){return t?.item?.salePrice&&t?.item?.cost},get children(){var l=de(),$=l.firstChild,E=$.firstChild;return E.style.setProperty("color","#4d4d4d"),r(l,e(C,{}),null),r(l,e(i,{get when(){return!c()&&t?.item?.shipingCost},get children(){var o=w(),d=o.firstChild;return d.firstChild,r(d,()=>t?.item?.shipingCost?.toFixed(2),null),o}}),null),r(l,e(C,{}),null),r(l,e(i,{get when(){return!c()&&t?.item?.cost},get children(){var o=w(),d=o.firstChild;return d.firstChild,r(d,()=>t?.item?.cost?.toFixed(2),null),o}}),null),r(l,e(i,{get when(){return!c()&&t?.item?.cost&&t?.item?.shipingCost},get children(){var o=w(),d=o.firstChild;return d.firstChild,r(d,()=>(t?.item?.shipingCost+t?.item?.cost).toFixed(2),null),o}}),null),r(l,e(i,{get when(){return!c()&&t?.item?.salePrice},get children(){var o=oe(),d=o.firstChild;return d.firstChild,r(d,()=>t?.item?.salePrice?.toFixed(2),null),o}}),null),r(l,e(i,{get when(){return!c()&&t?.item?.salePrice&&t?.item?.shipingCost&&t?.item?.cost},get children(){var o=ae(),d=o.firstChild;return d.firstChild,r(d,()=>(t?.item?.salePrice+(t?.item?.shipingCost+t?.item?.cost)).toFixed(2),null),A(()=>F(o,`_dsplFlx bottombx tr_bar_15  ${t?.item?.salePrice-(t?.item?.shipingCost+t?.item?.cost)>0?"green":"red"}`)),o}}),null),l}}),null),A(()=>F(s,`client_item_box gWXAaj jlytmu inventory ${c()?"isMobile":""}`)),s})();export{he as LookupInventory,ye as default,p as isValNum};
