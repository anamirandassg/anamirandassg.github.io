const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SVG-CvC3scd9.js","assets/index-CQ7LNxaB.js","assets/index-NFdrrltd.css","assets/index-Ci0zXM0r.js","assets/InputHr-Dn7BvEkL.js","assets/InputHr-M3rJ9grQ.css","assets/ButonHrm-BVVtuOAh.js","assets/Util-DErZaF9J.js","assets/ButonHrm-BSeWNUGQ.css","assets/DropDwnFetchSearch-KYqtaypc.js","assets/debounces-Bud72QmB.js","assets/DropDwnSearch-DMkLkRPc.css","assets/DropDwnSearch-CjTu4j1Z.js"])))=>i.map(i=>d[i]);
import{l as u,_ as v,c as B,a as S,m as oe,i as l,d as i,f as le,e as ie,t as m,v as se,j as de,S as h,F as ae,k as O}from"./index-CQ7LNxaB.js";import{i as ne}from"./globalSignal-CZuww2AS.js";import{a as R,g as W,b as ce,f as be}from"./Util-DErZaF9J.js";import{CloseModal as pe}from"./DialogHRM-CFsJT5DH.js";import{u as ue}from"./debounces-Bud72QmB.js";import{LookupProducts as ve}from"./DashProducts-Dpl1Gt1b.js";import T from"./FlexSpace-BgaoLnqk.js";import"./index-Ci0zXM0r.js";import"./App.module-CbHnVtRQ.js";var V=m("<div style=padding:4px>"),_e=m('<div style="margin:15px 0"class=" spaceAround centerBx">'),fe=m('<div><div><div class="_dsplFlx flxWrp spaceAround "><div><div class="_dsplFlx bottombx lowbordr"><h5>Entrada</h5></div></div><div class="_dsplFlx bottombx "></div></div><div class="_dsplFlx bottombx flxWrp spaceAround txtWrap"><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div class=hseparator></div><div style=padding:4px>'),ge=m('<div class="bottombx centerBx unit"><div class=tr_bar_50><h5></h5></div><div class="bottombx centerBx unit tr_bar_20"><h5>Cantidad:</h5><div class=bag_number><h5></h5></div></div><div class="bottombx centerBx unit tr_bar_20"><h5>Precio:</h5><div class=unitBx><h5>$</h5></div></div><div class="icon_status centerBx tr_bar_10">');const he=u(()=>v(()=>import("./SVG-CvC3scd9.js"),__vite__mapDeps([0,1,2,3]))),p=u(()=>v(()=>import("./InputHr-Dn7BvEkL.js"),__vite__mapDeps([4,1,2,5]))),L=u(()=>v(()=>import("./ButonHrm-BVVtuOAh.js"),__vite__mapDeps([6,1,2,0,3,7,8]))),me=u(()=>v(()=>import("./DropDwnFetchSearch-KYqtaypc.js"),__vite__mapDeps([9,1,2,10,0,3,11]))),xe=u(()=>v(()=>import("./DropDwnSearch-CjTu4j1Z.js"),__vite__mapDeps([12,1,2,10,0,3,11])));function Fe(x){const[_,a]=B(),[t,d]=B({invoice:"",seller:"",description:""}),[Ce,H]=S(""),[y,w]=S(null),[b,P]=S([]),j=ue(H,400),n=(r,o)=>{d({[r]:o}),j(W())},z=async r=>{let o={invoice:t?.invoice,store:t?.store,seller:t?.seller,description:t?.description,products:b()};await ye(o),pe(x?.modalId)};oe(()=>{let r=[];R("M023009")?.provincias.map(o=>{let s=o.label;se?.roles?.[s]?.isActive&&r.push(o)}),a("prov",r)});const Q=async r=>{let o=await ve(r),s=[];return Object.keys(o).map(c=>{s.push({id:c,label:o[c]?.name,code:o[c]?.code})}),s},Y=async r=>{let o={product:y(),qty:t?.qty,price:t?.price};P([...b(),o]),d({qty:0}),d({price:0}),w(null)},G=r=>{P(o=>o.filter((s,c)=>s.product.id!==r))};return(()=>{var r=fe(),o=r.firstChild,s=o.firstChild,c=s.firstChild,J=c.nextSibling,C=s.nextSibling,A=C.firstChild,D=A.nextSibling,I=D.nextSibling,E=I.nextSibling,K=E.nextSibling,N=K.nextSibling;return r.style.setProperty("height","clamp(60vh, 70vh, 80vh)"),r.style.setProperty("overflow","auto"),r.style.setProperty("background","#ffffff"),r.style.setProperty("border-radius","13"),r.style.setProperty("padding","10px 19px"),l(J,i(h,{get when(){return de(()=>!!(t?.invoice&&t?.store&&t?.seller))()&&b()?.length>0},get children(){return i(L,{color:"#047db7ff",icon:"save",label:"Salvar",handleClick:z})}})),C.style.setProperty("padding","16px"),l(A,i(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return t?.invoice},placeholder:"Factura",colors:"#2b2b2b",handleClick:e=>n("invoice",e)})),l(D,i(xe,{get list(){return R("M023009")?.stores},lbl_empty:"Almacen",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return t?.store},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:e=>n("store",e.id),width:"360px"})),l(I,i(p,{width:"360px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return t?.seller},placeholder:"Vendedor",colors:"#2b2b2b",handleClick:e=>n("seller",e)})),l(E,i(p,{width:"460px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return t?.description},placeholder:"Descripcion",colors:"#2b2b2b",handleClick:e=>n("description",e)})),l(N,i(me,{callback:Q,lbl_empty:"Productos",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return y()},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:w,width:"360px"})),l(C,i(h,{get when(){return y()?.id},get children(){return[(()=>{var e=V();return l(e,i(p,{width:"130px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return t?.qty},placeholder:"Cantidad",colors:"#2b2b2b",handleClick:f=>n("qty",f)})),e})(),(()=>{var e=V();return l(e,i(p,{width:"130px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return t?.price},placeholder:"Precio",colors:"#2b2b2b",handleClick:f=>n("price",f)})),e})(),i(h,{get when(){return t?.price&&t?.qty},get children(){var e=_e();return l(e,i(L,{color:"#041e49ff",icon:"plus",label:"Agregar",handleClick:Y})),e}})]}}),null),l(o,i(h,{get when(){return b()},get children(){return i(ae,{get each(){return b()},children:(e,f)=>(()=>{var g=ge(),F=g.firstChild,U=F.firstChild,k=F.nextSibling,X=k.firstChild,Z=X.nextSibling,ee=Z.firstChild,$=k.nextSibling,re=$.firstChild,te=re.nextSibling,M=te.firstChild;M.firstChild;var q=$.nextSibling;return l(U,()=>e?.product?.label),l(g,i(T,{}),k),l(ee,()=>(e?.qty*1).toFixed(2)),l(g,i(T,{}),$),l(M,()=>(e?.price*1).toFixed(2),null),q.$$click=()=>G(e?.product?.id),l(q,i(he,{name:"outline_delete",size:24})),g})()})}}),null),le(e=>(e=ne()?"96vw":"920px")!=null?r.style.setProperty("width",e):r.style.removeProperty("width")),r})()}const ye=async x=>{let _={ssg_inventory_key:W(),createDate:new Date().getTime(),businessId:O?.profile?.businessYId};_={...x,..._};let a={params:{businessId:O?.profile?.businessYId},form:_},t=ce(139003);a={...a,...t};const d=await be(a);return console.log(a),console.log(d),d?.data?.error?{}:d?.data};ie(["click"]);export{Fe as default};
