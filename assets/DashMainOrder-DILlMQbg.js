const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-VgGDq_PE.js","assets/index-B9OoOeu1.js","assets/index-B8bAFC38.css","assets/SVG-CAUXY-_B.js","assets/LoadingColorSpinner-D4GRluY_.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-Dig5NvcJ.js","assets/InputHr-BXFw4d2l.css","assets/ButonHrm-B_aeZVMn.js","assets/ButonHrm-BSeWNUGQ.css","assets/PickDate-B3ujzSTZ.js","assets/DialogHRM-Nz34R2Bs.js","assets/DialogHRM-V9_lZntj.css","assets/DropDwnSearch-BGg1OEgj.js","assets/debounces-T0gsWK0X.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as E,_ as O,c as H,a as C,o as se,b as ee,d as K,i,e as n,u as ce,S as Q,f as de,g as Y,h as J,j as A,k as M,m as D,n as ue,p as re,s as be,t as g,q as I,r as q,O as te,v as fe,w as me}from"./index-B9OoOeu1.js";import"./browser-image-compression-BVJ4p9S0.js";import{OpenToast as R}from"./Toast-B6brb46Z.js";import"./AddInventory-C4AsqTrH.js";import"./fontkit.es-DH4QHzrK.js";import"./qrcode-DHy8FFhS.js";import{u as le}from"./debounces-T0gsWK0X.js";import{OpenModal as pe,CloseModal as he}from"./DialogHRM-Nz34R2Bs.js";import"./DashProducts-HEwjToJc.js";import"./App.module-CbHnVtRQ.js";import"./FlexSpace-VgGDq_PE.js";var ve=g('<div style="padding:50px 0 0 0"><section class="qsuVSc mainM">'),ge=g('<section class="bLl6je "><section class="dvPdhb "><div class="QCNFEe centerBx"><p class=jhB0af>Confirmar</p></div><section class="EMijzc centerBx">'),Ce=g('<section class="Mijzc12 ">'),W=g("<section class=Mijzc12>"),_e=g('<section class=KgyCAd><section class=WirBi><div class="QCNFEe centerBx spaceAround"><p class=jhB0af>Envia</p></div><div class="text-sm text-center text-muted-foreground">buscar coincidencias con su numero de telefono</div><section class="EMijzc "></section><section class="EMijzc centerBx flxWrp spaceAround">'),xe=g('<div class=" centerBx flxWrp spaceAround">'),j=g('<section class="Mijzc12 centerBx flxWrp spaceAround">'),U=g("<div class=separator>"),ye=g("<div style=padding:4px>"),ke=g('<section class="Mijzc12 centerBx flxWrp spaceAround"><div style=padding:4px>'),$e=g('<section class="rtS8wf InvE "><div class=X3QHFf><section class=WirBi><div class="QCNFEe centerBx spaceAround"><p class=jhB0af>Recibe</p></div><div class="text-sm text-center text-muted-foreground">buscar coincidencias con el carnet de identidad</div><section class="EMijzc centerBx flxWrp spaceAround"></section><section class=""><section class="Mijzc12 centerBx "></section><section class="EMijzc centerBx"><section class=pFJUxe><section class=DHk3Fe>'),Ne=g('<div class=save><div class="container savings"><div class="bento-text standardSubheading3">'),we=g('<div><div class=QCNFEe><p class=jhB0af>Confirmar Orden</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Desea enviar la orden</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">');const oe=E(()=>O(()=>import("./FlexSpace-VgGDq_PE.js"),__vite__mapDeps([0,1,2]))),Se=E(()=>O(()=>import("./SVG-CAUXY-_B.js"),__vite__mapDeps([3,1,2])));E(()=>O(()=>import("./LoadingColorSpinner-D4GRluY_.js"),__vite__mapDeps([4,1,2,5])));const h=E(()=>O(()=>import("./InputHr-Dig5NvcJ.js"),__vite__mapDeps([6,1,2,7]))),V=E(()=>O(()=>import("./ButonHrm-B_aeZVMn.js"),__vite__mapDeps([8,1,2,3,9])));E(()=>O(()=>import("./PickDate-B3ujzSTZ.js"),__vite__mapDeps([10,1,2,11,12])));const G=E(()=>O(()=>import("./DropDwnSearch-BGg1OEgj.js"),__vite__mapDeps([13,1,2,14,3,15]))),[He,Ke]=H({items:{}}),Je="348723orh2idsffs",Ie={name:"",phoneNumberS:"",dob:""},ne={firstName:"",lastName:"",lastName2:"",middleName:"",email:"",phoneNumber:"",altPhoneNumber:"",cid:"",ybstreetNo:"",ybstreet:"",ybbetwen1:"",ybbetwen2:"",ybapt:"",ybreparto:""},[S,X]=H({frm:{...Ie}}),[f,w]=H({frm:{...ne}});function Ue(){C(0),C("");const[e,t]=C("");le(t,400),se(()=>{}),ee(()=>{}),K(()=>{o()});const o=async()=>{};return(()=>{var u=ve(),l=u.firstChild;return i(l,n(Ee,{}),null),i(l,n(Oe,{}),null),i(l,n(Pe,{}),null),u})()}const Ee=e=>{const t=ce(),o=async r=>{let a=new Date,c=I(),v=Object.assign({},q(S?.frm),q(f?.frm)),_={type:"SALES",invoice:a.getFullYear()+me(12),description:"",store:A?.profile?.agencyStore?.id,ssg_inventory_key:c,ssg_sorder_key:c,createDate:a.getTime(),shipper_consignee:v,packagesOrder:!0,businessId:A?.profile?.businessYId},x={params:{businessId:A?.profile?.businessYId},form:_},$=M(431005),y={...x,...$};(await D(y))?.error||(he(r),t("/orders",{replace:!0}))},u=()=>{let r=I(),a={};a.id=r,a.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},a.content=n(Me,{modalId:r,completeOrder:()=>o(r)}),pe(a)},l=()=>{let r=Object.assign({},q(S?.frm),q(f?.frm));return r.name&&r.phoneNumberS&&r.phoneNumber&&r.cid&&r.firstName&&r.lastName&&r.lastName2&&r.ybstreet};return n(Q,{get when(){return l()},get children(){var r=ge(),a=r.firstChild,c=a.firstChild,v=c.nextSibling;return i(v,n(oe,{}),null),i(v,n(V,{color:"#1967d2",placeholder:"Enviar Orden",icon:"outline_cart",handleClick:u}),null),r}})},Oe=e=>{const[t,o]=C(0),[u,l]=C(!1),r=async()=>{let c=S?.frm?.phoneNumberS;if(c=c?.split(" ")?.join(""),c=c?.split("(")?.join(""),c=c?.split(")")?.join(""),c=c?.split("-")?.join(""),!(typeof c!="number"&&!isNaN(c)&&c.length===10)){R({text:c+" no es un numero de telefono valido ",timeout:3500,theme:"red",id:I()}),o(1);return}let _=await Be(c),x=te(_)?.[0];if(_?.[x]?.name?.toLowerCase()?.indexOf(S?.frm?.name?.toLowerCase())>=0){let y=_?.[x]?.dob.split("-"),m={dob:Y(y[1]+"/"+y[2]+"/"+y[0]),name:_?.[x]?.name};console.log(m),X("frm",m),o(1)}else{R({text:" la informacion no coincide ",timeout:3500,theme:"red",id:I()}),o(1);return}},a=(c,v)=>{X("frm",c,v)};return(()=>{var c=_e(),v=c.firstChild,_=v.firstChild,x=_.nextSibling,$=x.nextSibling,y=$.nextSibling;return i($,n(Q,{get when(){return!u()},get fallback(){return(()=>{var m=xe();return i(m,n(Ae,{placeholder:"buscar coincidencias con el carnet identidad",icon:"info",backColor:"#edf4fd",color:"#1967d2"})),m})()},get children(){return[(()=>{var m=Ce();return i(m,n(Z,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",colors:"#2b2b2b",placeholder:"(123) 456-7890",upd:b=>a("phoneNumberS",b),get value(){return S?.frm?.phoneNumberS},index:1,maxLength:14,format:de})),m})(),(()=>{var m=W();return i(m,n(Z,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"MM/DD/YYYY",colors:"#2b2b2b",upd:b=>a("dob",Y(b)),get value(){return S?.frm?.dob},index:2,format:Y,maxLength:10})),m})(),(()=>{var m=W();return i(m,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Nombre",colors:"#2b2b2b",handleClick:b=>a("name",b),get value(){return S?.frm?.name},validations:{required:!0},index:2})),m})()]}})),i(y,n(V,{color:"#1967d2",label:"Buscar coincidencias",icon:"search",handleClick:r})),c})()},Pe=e=>{const[t,o]=C(),[u,l]=C(""),r=le(l,400),a=(p,L)=>{w("frm",p,L),r(I())};C("");const[c,v]=C(0),[_,x]=C("");K(()=>{x(A?.profile?.agencyStore?.id)});const $=async()=>{let p=f?.frm?.cid;if(!(typeof p!="number"&&!isNaN(p)&&p.length===11)){R({text:p+" no es un carnet de identidad valido ",timeout:3500,theme:"red",id:I()}),v(1);return}let k=await je(p);console.log(k);let P=te(k)?.[0];if(k[P]?.cid){console.log(k[P]);let T=e?.item?.ybestate;if(T){let B=J("M023009")?.provincias?.filter?.(N=>N.label===T)?.[0];if(B?.id&&o(B),e?.item?.ybcity){let N=B?.cities?.filter?.(z=>z.label===e?.item?.ybcity)?.[0];N?.id&&(k[P].citiId=N?.id)}}w("frm",k[P]),v(1)}else{v(1),w("frm",ne),R({text:"no encontramos ninguna coincidencia ",timeout:3500,theme:"red",id:I()});return}},y=p=>{w("frm","provinceId",p.id),w("frm","ybestate",p.label),o(p)},m=p=>{w("frm","citiId",p.id),w("frm","ybcity",p.label),console.log(f?.frm)};let b=3;return(()=>{var p=$e(),L=p.firstChild,k=L.firstChild,P=k.firstChild,T=P.nextSibling,B=T.nextSibling,N=B.nextSibling,z=N.firstChild,ae=z.nextSibling;return i(B,n(V,{color:"#1967d2",label:"Buscar coincidencias",icon:"search",handleClick:$})),i(z,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",colors:"#2b2b2b",placeholder:"carnet de identidad",handleClick:s=>a("cid",s),get value(){return f?.frm?.cid},validations:{required:!0,number:!0,cid:!0},index:1+b})),i(N,n(Q,{get when(){return c()===1},get children(){return[(()=>{var s=j();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",cel:!0,colors:"#2b2b2b",placeholder:"1er nombre",handleClick:d=>a("firstName",d),get value(){return f?.frm?.firstName},validations:{required:!0},index:2+b}),null),i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"2do nombre",colors:"#2b2b2b",handleClick:d=>a("middleName",d),get value(){return f?.frm?.middleName},index:3+b}),null),s})(),(()=>{var s=j();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"1er Apellido",colors:"#2b2b2b",handleClick:d=>a("lastName",d),get value(){return f?.frm?.lastName},validations:{required:!0},index:4+b}),null),i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"2do Apellido",colors:"#2b2b2b",handleClick:d=>a("lastName2",d),get value(){return f?.frm?.lastName2},validations:{required:!0},index:5+b}),null),s})(),U(),(()=>{var s=j();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Telefono Principal",colors:"#2b2b2b",handleClick:d=>a("phoneNumber",d),get value(){return f?.frm?.phoneNumber},validations:{required:!0,number:!0,cubaphone:!0},index:6+b}),null),i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Telefono Alternativo",colors:"#2b2b2b",handleClick:d=>a("altPhoneNumber",d),get value(){return f?.frm?.altPhoneNumber},validations:{required:!1,number:!0,cubaphone:!0},index:7+b}),null),s})(),U(),(()=>{var s=j();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Calle",colors:"#2b2b2b",handleClick:d=>a("ybstreet",d),get value(){return f?.frm?.ybstreet},validations:{required:!0},index:8+b}),null),i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"No Calle",colors:"#2b2b2b",handleClick:d=>a("ybstreetNo",d),get value(){return f?.frm?.ybstreetNo},validations:{required:!0},index:9+b}),null),s})(),(()=>{var s=j();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Entre calle",colors:"#2b2b2b",handleClick:d=>a("ybbetwen1",d),get value(){return f?.frm?.ybbetwen1},index:10+b}),null),i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Y calle",colors:"#2b2b2b",handleClick:d=>a("ybbetwen2",d),get value(){return f?.frm?.ybbetwen2},index:11+b}),null),s})(),(()=>{var s=j();return i(s,n(h,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Reparto",colors:"#2b2b2b",handleClick:d=>a("ybreparto",d),get value(){return f?.frm?.ybreparto},index:12+b})),s})(),(()=>{var s=ke(),d=s.firstChild;return i(d,n(G,{get list(){return J("M023009")?.provincias},lbl_empty:"Provincia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return f?.frm?.provinceId},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:F=>y(F),width:"260px"})),i(s,n(Q,{get when(){return t()},get children(){var F=ye();return i(F,n(G,{get list(){return t()?.cities},lbl_empty:"Municipio",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return f?.frm?.citiId},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:ie=>m(ie),width:"260px"})),F}}),null),s})()]}}),ae),p})()},Ge=async(e,t)=>{let o={params:{businessId:A?.profile?.businessYId}};e&&e.split(" ").map((r,a)=>{r&&(o.params[":search"+a]=r.trim())});let u=M(122001);o={...o,...u},o.params[":search0"];const l=await D(o);return l?.error?{}:l},Xe=e=>new Promise((t,o)=>{ue.get(e,function(l,r){t(r)})}),Ze=async(e,t)=>{let o={params:{businessId:A?.profile?.businessYId,":store":t.trim()}};e&&e.split(" ").map((r,a)=>{r&&(o.params[":search"+a]=r.trim())});let u=M(132001);o={...o,...u},o.params[":search0"];const l=await D(o);return l?.error?{}:l},Be=async e=>{if(e.length===10){let t={params:{}};e&&e.split(" ").map((l,r)=>{l&&(t.params[":search"+r]=l.trim())});let o=M(421001);return t={...t,...o},await D(t)}else return{}},je=async e=>{if(e.length===11){let t={params:{}};e&&e.split(" ").map((l,r)=>{l&&(t.params[":search"+r]=l.trim())});let o=M(401001);return t={...t,...o},await D(t)}else return{}},Ae=e=>{const t=()=>({"--bento-badge-background-color":e?.backColor,"--bento-badge-text-color":e?.color});return(()=>{var o=Ne(),u=o.firstChild,l=u.firstChild;return i(u,n(Se,{get name(){return e.icon},size:16,color:"var(--bento-badge-text-color)"}),l),i(l,()=>e.placeholder),re(r=>be(o,t(),r)),o})()};function Me(e){return(()=>{var t=we(),o=t.firstChild,u=o.nextSibling,l=u.nextSibling,r=l.nextSibling;return t.style.setProperty("max-height","80vh"),t.style.setProperty("overflow","auto"),t.style.setProperty("background","#fff"),t.style.setProperty("border-radius","11px"),t.style.setProperty("padding"," 0 21px"),i(r,n(oe,{}),null),i(r,n(V,{color:"#646cff",icon:"send",placeholder:"Completar Orden",get handleClick(){return e.completeOrder}}),null),re(a=>(a=fe()?"96vw":"420px")!=null?t.style.setProperty("width",a):t.style.removeProperty("width")),t})()}function Z(e){const[t,o]=C("");K(()=>{e?.value&&!t()&&o(e?.value)}),ee(()=>{let l=e?.value;l&&l!==t()&&o(e?.value)});const u=l=>{e.format&&(l=e.format(l)),l===t()&&o(l+" "),e?.upd(l),o(l)};return(()=>{var l=W();return i(l,n(h,{get width(){return e.width},get backColor(){return e.backColor},get borderColor(){return e.borderColor},get placeholder(){return e.placeholder},get colors(){return e.colors},handleClick:r=>u(r),get value(){return t()},get index(){return e.index},get maxLength(){return e.maxLength}})),l})()}export{Ze as LookupInventory,Ge as LookupProducts,Ue as default,Xe as getCartId,He as inventoryItems,Je as inventoryKey,Ke as setInventoryItems};
