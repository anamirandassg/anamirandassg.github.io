const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-CX3ByAb5.js","assets/index-B4oG2JHr.js","assets/index-BrazvMxG.css","assets/DropDwnSearch-DfiKpxli.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ContainerElasticView-ByG2o217.js","assets/ContainerElasticView-LzOd6fDI.css","assets/ButonHrm-BVJs24pB.js","assets/ButonHrm-BPLzySnX.css","assets/CheckBoxSlide-Bg1Rf_rW.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/InputHr-BXWO_jQC.js","assets/InputHr-M3rJ9grQ.css","assets/ItemOnEnvios-Bw03srCO.js","assets/FlexSpace-BGdv23PT.js","assets/ShowQR-D2V6cKJS.js","assets/ItemOnEnviosMobile-Cp21ONg1.js","assets/isMobile-CUkhVou4.js"])))=>i.map(i=>d[i]);
import{l as p,_ as x,c as j,a as I,u as ge,o as _e,n as he,b as me,i as n,d as t,w as K,S as u,x as fe,F as N,f as B,j as F,y as q,g as G,E as ve,v as P,h as z,r as Z,z as U,A as J,k as W,e as be,t as g,Z as $e,B as ye}from"./index-B4oG2JHr.js";var pe=g("<div style=padding:4px>"),xe=g('<div class="icon_status centerBx">'),ke=g('<div class="centerBx bottombx"style=margin-top:10px;><h5>Duplicados'),Ce=g('<div><div class="centerBx bottombx "><h5 class="">Manifiesto Incorrecto'),Ie=g('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround "><div class="icon_status centerBx">'),Se=g('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround ">'),we=g('<div class="client_item_box gWXAaj jlytmu"><div class=centerBx100><div class=plans>'),Ee=g('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div style="width:94vw;margin:0 auto;">'),Ae=g("<div> <!>."),Ge=g("<div> "),Be=g("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),ee=g("<h5 class=totalBagsNo> <!> / "),te=g('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),re=g("<div class=leftMrg> "),De=g("<div class=bottombx><h4>"),Me=g("<div>"),Le=g('<div class="_dsplFlx bottombx lowbordr"><div class=" bottombx spaceAround centerBx"><h5> :</h5><h4>'),Oe=g("<div style=padding:16px;margin-left:20px;>"),Ne=g('<div class="bottombx left centerBx"style=text-align:left;><h4></h4><h5>');const X=p(()=>x(()=>import("./LoadingColorSpinner-CX3ByAb5.js"),__vite__mapDeps([0,1,2]))),Fe=p(()=>x(()=>import("./DropDwnSearch-DfiKpxli.js"),__vite__mapDeps([3,1,2,4]))),Pe=p(()=>x(()=>import("./ContainerElasticView-ByG2o217.js"),__vite__mapDeps([5,1,2,6]))),Ve=p(()=>x(()=>import("./ButonHrm-BVJs24pB.js"),__vite__mapDeps([7,1,2,8]))),Q=p(()=>x(()=>import("./CheckBoxSlide-Bg1Rf_rW.js"),__vite__mapDeps([9,1,2,10]))),Re=p(()=>x(()=>import("./InputHr-BXWO_jQC.js"),__vite__mapDeps([11,1,2,12]))),V=p(()=>x(()=>import("./index-B4oG2JHr.js").then(e=>e.a6),__vite__mapDeps([1,2]))),Te=p(()=>x(()=>import("./ItemOnEnvios-Bw03srCO.js"),__vite__mapDeps([13,1,2,14,15,5,6]))),je=p(()=>x(()=>import("./ItemOnEnviosMobile-Cp21ONg1.js"),__vite__mapDeps([16,1,2,14,15,5,6,17])));function Ue(){const[e,l]=j({list:{manifest:{id:"175-23834613",label:""},search:"",status:""}}),[r,o]=j({}),[a,d]=j({}),[h,k]=I(""),[_,S]=I(64),[w,C]=I(!1),[b,E]=I(!1),[R,L]=I(""),A=ge(k,400),O=(m,$)=>{l("list",{[m]:$}),A(G())},se=()=>{C(!w()),A(G())},ie=()=>{E(!b()),A(G())};_e(()=>{}),he(()=>{});const le=()=>{S(m=>m+64)},ae=m=>{let $=Math.ceil(m?.length/64);ye(le,1250,$)},[D,{refetch:Qe}]=me(h,async m=>{let $=e?.list?.manifest?.id;R()!==$&&L($);const f=await We(e?.list?.search,$,e?.list?.status),T=await Xe($);o(T),d("prov",void 0),S(0);let y=[],s={};return w()?B(f).map(c=>{let i=f[c];$e?.[i?.zone]?.[i?.consigneeInfo?.ybestate]||y.push(i)}):b()?B(f).map(c=>{let i=f[c];i?.currentStatus||y.push(i)}):(B(f).map(c=>{let i=f[c];s[i?.consigneeInfo?.ybestate]||(s[i?.consigneeInfo?.ybestate]={cities:{},total:0}),s[i?.consigneeInfo?.ybestate].cities?.[i?.consigneeInfo?.ybcity]||(s[i?.consigneeInfo?.ybestate].cities[i?.consigneeInfo?.ybcity]=0),s[i?.consigneeInfo?.ybestate].cities[i?.consigneeInfo?.ybcity]+=1,s[i?.consigneeInfo?.ybestate].total+=1,y.push(i)}),d("prov",s)),ae(y),y}),H=()=>D()?.length,oe=m=>{l("list",{manifest:m,status:void 0}),A(G())},ce=()=>{He(D())},ue=()=>{Ye(D())},de=()=>{e.status};return(()=>{var m=Ee(),$=m.firstChild,f=$.nextSibling,T=f.firstChild,y=f.nextSibling;return n(m,t(u,{get when(){return K?.profile?.isAdmin},get children(){return t(Ve,{color:"rgb(200 25 60 / 1)",label:"updManifest",handleClick:ce})}}),f),n(T,t(Fe,{list:fe,lbl_empty:"Manifiesto",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:s=>oe(s),width:"260px"})),n(f,t(u,{get when(){return e?.list?.manifest?.id},get children(){return[(()=>{var s=pe();return n(s,t(Re,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return e?.list?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:c=>O("search",c)})),s})(),(()=>{var s=Ce(),c=s.firstChild,i=c.firstChild;return n(c,t(Q,{get initValue(){return w()},updChange:se,color:"var(--background-red-ssg)"}),i),n(s,t(u,{get when(){return K?.profile?.isAdmin},get children(){var v=ke(),Y=v.firstChild;return n(v,t(Q,{get initValue(){return b()},updChange:ie,color:"var(--background-red-ssg)"}),Y),n(v,t(u,{get when(){return b()},get children(){var M=xe();return M.$$click=ue,n(M,t(V,{name:"outline_delete",size:24})),M}}),null),v}}),null),s})()]}}),null),n(y,t(u,{get when(){return!1},get children(){var s=Ie(),c=s.firstChild,i=c.firstChild;return i.$$click=de,n(i,t(V,{name:"outline_renew",size:24})),s}}),null),n(y,t(u,{get when(){return e?.list?.manifest?.id},get children(){var s=Se(),c=s.firstChild;return n(c,t(u,{get when(){return r?.total},get children(){return t(N,{get each(){return B(r)},children:(i,v)=>F()?t(qe,{keyG:i,total:H,get status(){return e?.list?.status},get amount(){return r?.[i]},updForm:O}):t(ze,{keyG:i,total:H,get status(){return e?.list?.status},get amount(){return r?.[i]},updForm:O})})}})),s}}),null),n(y,t(u,{get when(){return a?.prov},get children(){var s=we(),c=s.firstChild,i=c.firstChild;return n(i,t(u,{get when(){return a?.prov},get children(){return t(N,{get each(){return B(a?.prov)},children:(v,Y)=>t(Ke,{ism:v,get item(){return a?.prov?.[v]},updS:M=>O("search",M)})})}})),s}}),null),n(y,t(ve,{fallback:s=>(()=>{var c=Ae(),i=c.firstChild,v=i.nextSibling;return v.nextSibling,n(c,()=>s.toString(),v),c})(),get children(){return t(q,{get fallback(){return(()=>{var s=Ge();return s.firstChild,n(s,t(X,{stroke:"rgb(200 25 60 / 1)",size:62}),null),s})()},get children(){return t(u,{get when(){return D()},get children(){return t(N,{get each(){return D()?.slice(0,_())},children:(s,c)=>[t(u,{get when(){return!F()},get children(){return t(Te,{item:s,refresh:()=>A(G())})}}),t(u,{get when(){return F()},get children(){return t(je,{item:s,refresh:()=>A(G())})}})]})}})}})}}),null),m})()}const ze=e=>{const[l,r]=I(!1),[o,a]=I(0),d=()=>{let _=e?.keyG;e?.keyG==="total"&&(_=null),e?.updForm("status",_)},h=()=>{l()||!F()&&e?.keyG!=="total"&&(a(P?.[e?.keyG]?.length*8.5+"px"),r(!0))},k=()=>{a("0px"),l()&&r(!1)};return t(u,{get when(){return e?.amount>0},get children(){return t(q,{get fallback(){return(()=>{var _=re();return _.firstChild,n(_,t(X,{stroke:"rgb(200 25 60 / 1)",size:32}),null),_})()},get children(){var _=te(),S=_.firstChild,w=S.nextSibling;return _.$$mouseout=k,_.$$mousemove=h,_.$$click=d,n(_,t(u,{get when(){return l()},get children(){var C=Be(),b=C.firstChild,E=b.firstChild,R=E.firstChild;return n(R,()=>P?.[e?.keyG]),z(L=>(L=o())!=null?b.style.setProperty("width",L):b.style.removeProperty("width")),C}}),S),n(S,t(V,{get name(){return Z?.[e?.keyG]},size:22})),n(_,t(u,{get when(){return e?.keyG==="total"},get children(){var C=ee(),b=C.firstChild,E=b.nextSibling;return E.nextSibling,n(C,()=>e?.total(),E),C}}),w),n(w,()=>e?.amount),z(()=>U(_,`resumeStatus centerBx ${e?.keyG==="total"?"witXs":""}  ${e?.status===e?.keyG?"active":""}`)),_}})}})},qe=e=>{const l=()=>{let r=e?.keyG;e?.keyG==="total"&&(r=null),e?.updForm("status",r)};return t(u,{get when(){return e?.amount>0},get children(){return t(q,{get fallback(){return(()=>{var r=re();return r.firstChild,n(r,t(X,{stroke:"rgb(200 25 60 / 1)",size:32}),null),r})()},get children(){var r=te(),o=r.firstChild,a=o.nextSibling;return r.$$click=l,n(o,t(V,{get name(){return Z?.[e?.keyG]},size:22})),n(r,t(u,{get when(){return P?.[e?.keyG]},get children(){var d=De(),h=d.firstChild;return n(h,()=>P?.[e?.keyG]),d}}),a),n(r,t(u,{get when(){return e?.keyG==="total"},get children(){var d=ee(),h=d.firstChild,k=h.nextSibling;return k.nextSibling,n(d,()=>e?.total(),k),d}}),a),n(a,()=>e?.amount),z(()=>U(r,`resumeStatus centerBx  spaceAround ${e?.status===e?.keyG?"active":""}`)),r}})}})},We=async(e,l,r)=>{let o={params:{idairguide:l,":status":r},fldsQry:["street","idairguide","currentStatus","cidentity","ssg_track_key","bagnumber","tracking","consigneeInfo:phoneNumber","consigneeInfo:altPhoneNumber","consigneeInfo:firstName","consigneeInfo:middleName","consigneeInfo:lastName","consigneeInfo:ybestate","consigneeInfo:ybcity","nameshipper"],query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4 AND !* contain :search5 AND currentStatus = :status"};if(e&&e.split(" ").map((a,d)=>{a&&(o.params[":search"+d]=a.trim())}),l&&Object.keys(o.params).length>=2){const a=await W(o);return console.log(o),console.log(a),a?.data?.error?{}:a}return{}},Xe=async e=>{const r=await W({params:{idairguide:e},query:"getGroupStatusLogisticYabaExpress"});return r?.data?.error?{}:r},He=async e=>{e.map(l=>{l?.ssg_track_key,l?.idairguide})},Ye=async e=>{let l=[];e.map(r=>{let o={params:{ssg_track_key:r?.ssg_track_key,idairguide:r?.idairguide},query:"deleteLogisticYabaExpress"};l.push(o)}),J(l,ne)},Je=async(e,l)=>{let r=[];e.map(o=>{let a={params:{ssg_track_key:o?.ssg_track_key,idairguide:o?.idairguide},data2update:{currentStatus:l},query:"updateLogisticYabaExpress"};r.push(a)}),J(r,ne)},ne=async e=>{const r=await W(e);if(r)return r},Ke=e=>(()=>{var l=Me();return n(l,t(u,{get when(){return e?.item?.total>0},get children(){var r=Le(),o=r.firstChild,a=o.firstChild,d=a.firstChild,h=a.nextSibling;return o.$$click=()=>e?.updS(e?.ism),n(a,()=>e?.ism,d),n(h,()=>e?.item?.total),r}}),null),n(l,t(Pe,{get children(){var r=Oe();return n(r,t(u,{get when(){return e?.item?.cities},get children(){return t(N,{get each(){return B(e?.item?.cities)},children:(o,a)=>(()=>{var d=Ne(),h=d.firstChild,k=h.nextSibling;return d.$$click=()=>e?.updS(`${e?.ism} ${o}`),n(h,o),n(k,()=>e?.item?.cities?.[o]),d})()})}})),r}}),null),l})();be(["click","mousemove","mouseout"]);export{Ue as default,Ye as deleteManifest,ne as fetchCSVInve,He as loadManifest,Je as updateManifest};
