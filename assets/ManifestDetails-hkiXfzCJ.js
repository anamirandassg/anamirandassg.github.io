const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-fUSyGZur.js","assets/index-CaXA0mR0.js","assets/index-D4QuRvi-.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-Ena0jYS0.js","assets/debounces-C7Wz-qd_.js","assets/SVG-DEfsU4Im.js","assets/index-Ci0zXM0r.js","assets/DropDwnSearch-DMkLkRPc.css","assets/FlexSpace-BtbIGYXR.js","assets/InputHr-Ov8gpAjA.js","assets/InputHr-M3rJ9grQ.css"])))=>i.map(i=>d[i]);
import{l as k,_ as B,u as z,c as w,a as V,o as Q,h as T,m as H,b as G,i,d as s,f as F,e as J,t as h,z as M,S as g,q as K,F as X,E as U,s as Y,g as q}from"./index-CaXA0mR0.js";import{w as Z,p as ee}from"./manifestList-CT6VCobT.js";import{f as j,e as te,l as re,a as C,O as ie,q as I}from"./Util-D7b_hj3C.js";import{u as se}from"./debounces-C7Wz-qd_.js";import{i as b}from"./globalSignal-wMqKMl0q.js";import"./fontkit.es-DEjOtITv.js";import ne from"./ButonHrm-D6QdGWB_.js";import"./index-Ci0zXM0r.js";/* empty css                 */import"./SVG-DEfsU4Im.js";var R=h("<h5>"),ae=h('<div class=bottombx style=padding:16px><div class="_dsplFlx flxWrp spaceAround centerBx"><h4></h4>|<h4>'),le=h("<div><div>"),P=h("<div> "),ce=h("<div> <!>."),oe=h('<div class="bottombx flxWrp spaceAround centerBx"><h4></h4><div class="icon_status centerBx">'),de=h('<div class="bottombx flxWrp spaceAround centerBx"><h4>'),me=h('<div class="icon_status centerBx">'),ue=h("<h5 class=rpto>"),fe=h('<div><div class=" flxWrp centerBx "style=" margin:0 auto;;padding:8px 9px;"><div class="bag_number centerBx"><div class="icon_status centerBx"></div><h5></h5></div><div class=bottombx><div class="_dsplFlx flxWrp spaceAround centerBx"><h5></h5></div></div></div><div><p class=" textleft "></p><div class=vertseparator>');const D=k(()=>B(()=>import("./LoadingColorSpinner-fUSyGZur.js"),__vite__mapDeps([0,1,2,3])));k(()=>B(()=>import("./DropDwnSearch-Ena0jYS0.js"),__vite__mapDeps([4,1,2,5,6,7,8])));const W=k(()=>B(()=>import("./FlexSpace-BtbIGYXR.js"),__vite__mapDeps([9,1,2])));k(()=>B(()=>import("./InputHr-Ov8gpAjA.js"),__vite__mapDeps([10,1,2,11])));const L=k(()=>B(()=>import("./SVG-DEfsU4Im.js"),__vite__mapDeps([6,1,2,7])));function Ie(){const[r,d]=z(),[t,l]=w({search:""}),[m,a]=w(),[_,v]=w(),[$,O]=w(),[y,E]=V("");se(E,400),Q(()=>{}),T(()=>{});const S=async()=>{if(r?.mId){let u={id:r?.mId},o=await ve(u);l("province",o?.province),l("city",o?.city),l("manifestObj",void 0),v("linked",void 0),l("manifestObj",o),v("linked",{...o?.linkedBags})}};H(async()=>{let u=[];[33,46,40,41,42,50,52,54,56].map(n=>{let f=Z?.[n];M?.roles?.[f?.id]?.isActive&&u.push(f)}),O("list",u);let e=[];ee.map(n=>{let c=n.label;M?.roles?.[c]?.isActive&&e.push(n)}),O("prov",e),S()}),G(y,async u=>{let o=t?.manifest?.id,e=t?.province,n=e&&t?.city,c=[];if(o){const f=await ge(t.search,o,e,n);a("bags",f),ie(f).map(A=>{let x=f[A],N=x.currentStatus;M?.roles?.[N]?.isActive&&N.split("_")?.[1]>=33&&c.push(x)})}return c});const p=async()=>{await he({ssg_manifest_key:r?.mId},{linkedBags:t?.manifestObj?.linkedBags}),S()};return(()=>{var u=le(),o=u.firstChild;return i(u,s(g,{get when(){return t?.manifestObj?.province},get fallback(){return(()=>{var e=P();return e.firstChild,i(e,s(D,{stroke:"rgb(200 25 60 / 1)",size:62}),null),e})()},get children(){var e=ae(),n=e.firstChild,c=n.firstChild,f=c.nextSibling,A=f.nextSibling;return i(c,()=>t?.manifestObj?.name),i(n,s(g,{get when(){return t?.manifestObj?.city},get children(){return["|",(()=>{var x=R();return i(x,()=>t?.manifestObj?.city),x})()]}}),f),i(A,()=>t?.manifestObj?.province),i(n,s(g,{get when(){return!re(t?.manifestObj?.linkedBags,_?.linked)},get children(){return s(ne,{color:"#c8193c",label:"updManifest",handleClick:p})}}),null),e}}),o),i(o,s(U,{fallback:e=>(()=>{var n=ce(),c=n.firstChild,f=c.nextSibling;return f.nextSibling,i(n,()=>e.toString(),f),n})(),get children(){return s(K,{get fallback(){return(()=>{var e=P();return e.firstChild,i(e,s(D,{stroke:"rgb(200 25 60 / 1)",size:62}),null),e})()},get children(){return s(g,{get when(){return t?.manifestObj?.linkedBagsInfo?.length>0},get children(){return s(X,{get each(){return t?.manifestObj?.linkedBagsInfo},children:e=>s(_e,{item:e,get city(){return t?.manifestObj?.city},get manifestObj(){return t?.manifestObj},get isAlready(){return t?.manifestObj?.linkedBags?.[e.ssg_track_key]},setFormsM:l})})}})}})}})),F(e=>Y(o,` ${b(),"width:86vw;"} margin: 0 auto;`,e)),u})()}const _e=r=>{const d=()=>{let a=r?.item?.street.split(",");return a.slice(0,a.length-2).join(",")},t=a=>a?" "+a:"",l=()=>{let a=r?.item?.consigneeInfo;return t(a?.firstName)+t(a?.middleName)+t(a?.lastName)+t(a?.lastName2)},m=a=>{r?.setFormsM("manifestObj","linkedBags",r?.item?.ssg_track_key,void 0)};return s(g,{get when(){return r?.manifestObj?.linkedBags[r?.item?.ssg_track_key]},get children(){var a=fe(),_=a.firstChild,v=_.firstChild,$=v.firstChild,O=$.nextSibling,y=v.nextSibling,E=y.firstChild,S=E.firstChild,p=_.nextSibling,u=p.firstChild,o=u.nextSibling;return i(a,s(g,{get when(){return b()},get children(){var e=oe(),n=e.firstChild,c=n.nextSibling;return i(n,l),i(e,s(W,{}),c),c.$$click=m,i(c,s(L,{name:"outline_delete",size:28,color:"var(--background-red-ssg)"})),e}}),_),i($,s(L,{name:"open_package_file_outline",size:20})),i(O,()=>r?.item?.bagnumber),i(_,s(g,{get when(){return!b()},get children(){var e=de(),n=e.firstChild;return i(n,l),e}}),y),i(_,s(W,{}),y),i(S,()=>r?.item?.idairguide),i(_,s(g,{get when(){return!b()},get children(){var e=me();return e.$$click=m,i(e,s(L,{name:"outline_delete",size:24,color:"var(--background-red-ssg)"})),e}}),null),i(u,d),i(p,s(W,{}),o),i(p,s(g,{get when(){return r?.item?.consigneeInfo?.ybreparto},get children(){return[(()=>{var e=ue();return i(e,()=>r?.item?.consigneeInfo?.ybreparto),e})(),"|"]}}),o),i(p,s(g,{get when(){return!r?.city&&r?.item?.city},get children(){var e=R();return i(e,()=>r?.item?.city),e}}),null),F(e=>{var n=`client_item_box gWXAaj jlytmu manifest ${b()?"isMobile":""}`,c=` ${b(),"centerBx"} bottombx flxWrp  centerBx`;return n!==e.e&&q(a,e.e=n),c!==e.t&&q(p,e.t=c),e},{e:void 0,t:void 0}),a}})},ge=async(r,d,t,l)=>{let m={params:{idairguide:d}};r&&r.split(" ").map((v,$)=>{v&&(m.params[":search"+$]=v.trim())}),t&&(m.params[":estate"]=t),l&&(m.params[":city"]=l);let a={...C(I())}[802001];m={...m,...a};const _=await j(m);return _?.error?{}:_},he=async(r,d)=>{let t={params:r,data2update:d},l={...C(I())}[709002];return t={...t,...l},await j(t)},ve=async r=>{let d={params:r},t={...C(I())}[703003];return d={...d,...t},await j(d)},Ee=async r=>{let d=[];r.map(t=>{let l={params:{id:t?.ssg_track_key,idairguide:t?.idairguide}},m={...C(I())}[802002];l={...l,...m},d.push(l)}),te(d,pe)},pe=async r=>{const t=await j(r);if(t)return t};J(["click"]);export{Ie as default,pe as fetchCSVInve,Ee as loadManifest,he as updLinkedBags};
