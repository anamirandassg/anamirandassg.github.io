const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SVG-BxhdDhEX.js","assets/index-Cq5pUwzb.js","assets/index-BYl1CvbN.css","assets/InputHr-CXKMDPEG.js","assets/InputHr-BXFw4d2l.css","assets/ButonHrm-DwGD_VfM.js","assets/ButonHrm-BSeWNUGQ.css","assets/DropDwnFetchSearch-CXN_PKeg.js","assets/debounces-BLR9w-0T.js","assets/DropDwnSearch-DMkLkRPc.css","assets/DropDwnSearch-DDbRuyoY.js","assets/CheckBoxSlide-Brx7r0HI.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{l as h,_ as g,c as R,a as P,d as ae,i as o,e as t,E as se,S as f,F as ne,p as ce,v as be,h as pe,ay as ue,A as ve,t as k,q as fe,b8 as N,ba as he,j as ge,k as _e,m as me}from"./index-Cq5pUwzb.js";import{CloseModal as xe}from"./DialogHRM-CHZHp-vt.js";import{u as Ce}from"./debounces-BLR9w-0T.js";import{LookupProducts as ye}from"./DashProducts-B685O8yH.js";import H from"./FlexSpace-CvZeKyl1.js";import"./App.module-CbHnVtRQ.js";var y=k("<div style=padding:4px>"),ke=k('<div style="margin:15px 0"class=" spaceAround centerBx">'),Se=k('<div><div><div class="_dsplFlx flxWrp spaceAround "><div><div class="_dsplFlx bottombx lowbordr"><h5>Entrada</h5></div></div><div class="_dsplFlx bottombx "></div></div><div class="_dsplFlx bottombx flxWrp spaceAround txtWrap"><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div class=hseparator></div><div style=padding:4px></div></div><div class="centerBx bottombx "><h5 class="">Tiene gastos de transporte</h5></div><div style=margin:50px>'),$e=k('<div class="bottombx centerBx unit"><div class=tr_bar_50><h5></h5></div><div class="bottombx centerBx unit tr_bar_20"><h5>Cantidad:</h5><div class=bag_number><h5></h5></div></div><div class="bottombx centerBx unit tr_bar_20"><h5>Precio:</h5><div class=unitBx><h5>$</h5></div></div><div class="icon_status centerBx tr_bar_10">');const Ae=h(()=>g(()=>import("./SVG-BxhdDhEX.js"),__vite__mapDeps([0,1,2]))),c=h(()=>g(()=>import("./InputHr-CXKMDPEG.js"),__vite__mapDeps([3,1,2,4]))),W=h(()=>g(()=>import("./ButonHrm-DwGD_VfM.js"),__vite__mapDeps([5,1,2,0,6]))),we=h(()=>g(()=>import("./DropDwnFetchSearch-CXN_PKeg.js"),__vite__mapDeps([7,1,2,8,0,9]))),j=h(()=>g(()=>import("./DropDwnSearch-DDbRuyoY.js"),__vite__mapDeps([10,1,2,8,0,9]))),Pe=h(()=>g(()=>import("./CheckBoxSlide-Brx7r0HI.js"),__vite__mapDeps([11,1,2,12])));function Oe(d){R();const[r,v]=R({invoice:"",seller:"",description:"",hbl:"",transport:""}),[_,S]=P(""),[b,E]=P(null),[p,$]=P([]),z=Ce(S,400),a=(l,i)=>{v({[l]:i}),z(fe())},J=async l=>{let s=N(D,r,d?.frm2).data;he(p(),d?.frm2?.products)||(s.products=p()),console.log(s),await Ee(d?.frm1?.ssg_inventory_key,s),xe(d?.modalId)};ae(()=>{v(d?.frm1),d?.frm1?.products.map(l=>{$([...p(),l])})});const Q=async l=>{let i=await ye(l),s=[];return Object.keys(i).map(u=>{s.push({id:u,label:i[u]?.name,code:i[u]?.code})}),s},Y=async l=>{let i={product:b(),qty:r?.qty,price:r?.price};$([...p(),i]),v({qty:0}),v({price:0}),E(null)},G=l=>{$(i=>i.filter((s,u)=>s.product.id!==l))};let D=["invoice","type","store","seller","description","products","hbl","salePrice","transport","hasTransportExp"];return(()=>{var l=Se(),i=l.firstChild,s=i.firstChild,u=s.firstChild,U=u.nextSibling,m=s.nextSibling,T=m.firstChild,I=T.nextSibling,F=I.nextSibling,V=F.nextSibling,q=V.nextSibling,M=q.nextSibling,K=M.nextSibling,X=K.nextSibling,x=m.nextSibling,Z=x.firstChild,ee=x.nextSibling;return l.style.setProperty("height","clamp(60vh, 70vh, 80vh)"),l.style.setProperty("overflow","auto"),l.style.setProperty("background","#ffffff"),l.style.setProperty("border-radius","13"),l.style.setProperty("padding","10px 19px"),o(U,t(f,{get when(){return se(()=>!!(r?.invoice&&r?.store&&N(D,r,d?.frm2)?.hasChange))()&&p()?.length>0},get children(){return t(W,{color:"#047db7ff",icon:"save",label:"Salvar",handleClick:J})}})),m.style.setProperty("padding","16px"),o(T,t(c,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.invoice},placeholder:"Factura",colors:"#2b2b2b",handleClick:e=>a("invoice",e)})),o(I,t(j,{list:[{id:"ENTRY",label:"ENTRADAS"},{id:"SALES",label:"VENTAS"}],lbl_empty:"Tipo de Movimiento",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return r?.type},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:e=>a("type",e.id),width:"260px"})),o(F,t(j,{get list(){return De()},lbl_empty:"Almacen",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return r?.store},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:e=>a("store",e.id),width:"360px"})),o(V,t(c,{width:"360px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.seller},placeholder:"Vendedor o Comprador",colors:"#2b2b2b",handleClick:e=>a("seller",e)})),o(q,t(c,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.hbl},placeholder:"Hbl",colors:"#2b2b2b",handleClick:e=>a("hbl",e)})),o(M,t(c,{width:"460px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.description},placeholder:"Descripcion",colors:"#2b2b2b",handleClick:e=>a("description",e)})),o(X,t(we,{callback:Q,lbl_empty:"Productos",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return b()},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:E,width:"360px"})),o(m,t(f,{get when(){return b()?.id},get children(){return[(()=>{var e=y();return o(e,t(c,{width:"130px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return r?.qty},placeholder:"Cantidad",colors:"#2b2b2b",handleClick:n=>a("qty",n)})),e})(),(()=>{var e=y();return o(e,t(c,{width:"130px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return r?.price},placeholder:"Precio",colors:"#2b2b2b",handleClick:n=>a("price",n)})),e})(),t(f,{get when(){return r?.type==="SALES"},get children(){var e=y();return o(e,t(c,{width:"130px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return r?.salePrice},placeholder:"Precio de Venta",colors:"#2b2b2b",handleClick:n=>a("salePrice",n)})),e}}),t(f,{get when(){return r?.price&&r?.qty},get children(){var e=ke();return o(e,t(W,{color:"#041e49ff",icon:"plus",label:"Agregar",handleClick:Y})),e}})]}}),null),o(i,t(f,{get when(){return p()},get children(){return t(ne,{get each(){return p()},children:(e,n)=>(()=>{var C=$e(),O=C.firstChild,re=O.firstChild,A=O.nextSibling,te=A.firstChild,oe=te.nextSibling,le=oe.firstChild,w=A.nextSibling,ie=w.firstChild,de=ie.nextSibling,B=de.firstChild;B.firstChild;var L=w.nextSibling;return o(re,()=>e?.product?.label),o(C,t(H,{}),A),o(le,()=>(e?.qty*1).toFixed(2)),o(C,t(H,{}),w),o(B,()=>(e?.price*1).toFixed(2),null),L.$$click=()=>G(e?.product?.id),o(L,t(Ae,{name:"outline_delete",size:24})),C})()})}}),x),o(x,t(Pe,{get initValue(){return r?.hasTransportExp},updChange:e=>a("hasTransportExp",e),color:"var(--background-red-ssg)"}),Z),o(i,t(f,{get when(){return r?.hasTransportExp},get children(){var e=y();return o(e,t(c,{width:"460px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.transport},placeholder:"Transporte",colors:"#2b2b2b",handleClick:n=>a("transport",n)})),e}}),ee),ce(e=>(e=be()?"96vw":"1020px")!=null?l.style.setProperty("width",e):l.style.removeProperty("width")),l})()}const Ee=async(d,r)=>{let v={...r},_={params:{businessId:ge?.profile?.businessYId,id:d},form:v},S=_e(139004);_={..._,...S};{const b=await me(_);return console.log(_),console.log(b),b?.data?.error?{}:b?.data}},De=()=>{let d=[];return pe("M023009")?.stores.map(r=>{ue()[r.id]&&d.push(r)}),d};ve(["click"]);export{Oe as default,De as validStores};
