const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-ClZ3-B0p.js","assets/index-Bi7WmJMv.js","assets/index-lCkr9jrN.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-DajCAglg.js","assets/InputHr-M3rJ9grQ.css","assets/SVG-t32KrDyi.js","assets/DropDwnSearch-CGa-znyM.js","assets/debounces-BCqOsi4E.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ContainerElasticView-CP7qtfEd.js","assets/ContainerElasticView-LzOd6fDI.css","assets/ButonHrm-B31-k5Bb.js","assets/ButonHrm-BSeWNUGQ.css","assets/CheckBoxSlide-qwRvA13J.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/ItemOnEnvios-Ca3Pru6K.js","assets/DialogHRM-C7nnZ4rp.js","assets/DialogHRM-V9_lZntj.css","assets/ShowQRPrintLabel-X886Rxl7.js","assets/PDFButton-Dq9myv3J.js","assets/qrcode-DHy8FFhS.js","assets/fontkit.es-nDm7vnFZ.js","assets/InitPrintServices-sqkKOuss.js","assets/Toast-6yD9BVdp.js","assets/Toast-DLpFKn-Q.css","assets/ShowPdfResume-mcdzrXTw.js"])))=>i.map(i=>d[i]);
import{l as B,_ as D,c as ie,a as M,r as je,k as qe,b as Qe,s as We,i as n,d as t,n as ae,S as h,D as He,m as Xe,o as G,E as Ue,G as he,H as ne,F as re,O as W,g as J,e as X,f as le,j as P,w as Ye,p as z,I as ve,q as K,h as Je,t as b,J as Ke,K as se,L as Ze}from"./index-Bi7WmJMv.js";import{u as et}from"./debounces-BCqOsi4E.js";import{g as _e,l as tt}from"./ShowQRPrintLabel-X886Rxl7.js";import"./Toast-6yD9BVdp.js";import"./DialogHRM-C7nnZ4rp.js";import"./PDFButton-Dq9myv3J.js";import"./qrcode-DHy8FFhS.js";import"./fontkit.es-nDm7vnFZ.js";import"./InitPrintServices-sqkKOuss.js";var oe=b("<div style=padding:4px>"),Y=b('<div class="icon_status centerBx">'),rt=b('<div class="centerBx bottombx"style=margin-top:10px;><h5>Duplicados'),nt=b('<div><div class="centerBx bottombx "><h5 class="">Manifiesto Incorrecto'),lt=b('<div><div class="_dsplFlx flxWrp spaceAround ">'),st=b('<div><div class="centerBx100 centerBx"><div class=plans></div></div><div class="icon_status centerBx">'),it=b('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2><div class="centerBx bottombx"style=margin-top:10px;><h4></h4></div><div class="centerBx bottombx "><h5 class="">Mostrar Envios</h5></div></div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div><div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround ">'),fe=b("<div> <!>."),be=b("<div> "),at=b("<div class=centerBx><h5 style=margin-left:12px>generando excel"),ot=b("<div class=centerBx><h5 style=margin-left:12px>generando etiquetas"),ct=b("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),ye=b("<h5 class=totalBagsNo> <!> / "),pe=b('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),$e=b("<div class=leftMrg> "),ut=b("<div class=bottombx><h4>"),dt=b('<div class="_dsplFlx bottombx lowbordr"><div class=" bottombx spaceAround centerBx"><h5> :</h5><h4>'),gt=b("<div style=padding:16px;margin-left:20px;>"),mt=b("<div>"),ht=b('<div class="bottombx left centerBx"style=text-align:left;><h4></h4><h5>');const H=B(()=>D(()=>import("./LoadingColorSpinner-ClZ3-B0p.js"),__vite__mapDeps([0,1,2,3]))),_t=B(()=>D(()=>import("./InputHr-DajCAglg.js"),__vite__mapDeps([4,1,2,5]))),O=B(()=>D(()=>import("./SVG-t32KrDyi.js"),__vite__mapDeps([6,1,2]))),ce=B(()=>D(()=>import("./DropDwnSearch-CGa-znyM.js"),__vite__mapDeps([7,1,2,8,6,9]))),ft=B(()=>D(()=>import("./ContainerElasticView-CP7qtfEd.js"),__vite__mapDeps([10,1,2,6,11]))),bt=B(()=>D(()=>import("./ButonHrm-B31-k5Bb.js"),__vite__mapDeps([12,1,2,6,13]))),ue=B(()=>D(()=>import("./CheckBoxSlide-qwRvA13J.js"),__vite__mapDeps([14,1,2,15]))),vt=B(()=>D(()=>import("./ItemOnEnvios-Ca3Pru6K.js"),__vite__mapDeps([16,1,2,17,18,10,6,11,19,20,21,22,23,24,25])));B(()=>D(()=>import("./ShowPdfResume-mcdzrXTw.js"),__vite__mapDeps([26,1,2,19,20,21,22,23,24,25])));function Lt(){const[e,s]=ie({list:{manifest:{id:"",label:""},guia:{id:"",label:""},search:"",status:""}}),[l,a]=ie({}),[c,g]=ie({}),[p,_]=M(""),[u,I]=M(!1),[R,E]=M(64),[A,T]=M(!1),[j,Z]=M(!1),[xe,Ce]=M(""),F=et(_,500);M(!1);const[we,de]=M(!1),[Se,ge]=M(!1),L=(o,i)=>{s("list",{[o]:i}),F(P())},Ie=()=>{T(!A()),F(P())},Me=()=>{I(!u()),F(P())},Ee=()=>{Z(!j()),F(P())};je(()=>{}),qe(()=>{});const Ae=()=>{E(o=>o+64)},Ge=o=>{let i=Math.ceil(o?.length/64);Ze(Ae,1250,i)},[U,{refetch:It}]=Qe(p,async o=>{a(void 0),g("prov",void 0);let i=e?.list?.guia?.id;xe()!==i&&Ce(i);let S={},x=[],C={};var $={};if(i&&(S=await kt(i)),!u())a(S?.sumary),g("prov",S?.provinceGroup);else{let ee=e?.list?.manifest?.id;$=await $t(e?.list?.search,i,ee,e?.list?.status,e?.list?.estate,e?.list?.city,e?.list?.agency?.id),a(S?.sumary),E(0);let N={};if(A())W($).map(v=>{let f=$[v],d=f?.estate||f?.consigneeInfo?.ybestate;N[v]?x.push(f):N[v]=1,G("M023009")?.ZoneCity?.[f?.zone]?.[d]||x.push(f)});else if(j()){let v={};W($).map(f=>{let d=$[f];d?.estate||d?.consigneeInfo?.ybestate,d?.hbls.map(w=>{v[w?.hbl]?(x.push(d),x.push(v[w?.hbl])):v[w?.hbl]=d}),d?.bagnumber})}else W($).map(v=>{let f=$[v],d=f?.estate||f?.consigneeInfo?.ybestate,w=f?.city||f?.consigneeInfo?.ybcity;(d||w)&&(C[d]||(C[d]={cities:{},total:0}),C[d].cities?.[w]||(C[d].cities[w]=0),C[d].cities[w]+=1,C[d].total+=1),x.push(f)}),g("prov",C);Ge(x)}return x}),me=()=>U()?.length,Be=o=>{s("list",{guia:o,status:void 0}),F(P())},De=()=>{wt()},Pe=()=>{Ct(U())},Oe=()=>{},Fe=(o,i)=>{L("estate",o),L("city",i)},Le=(o,i)=>{s("list",{estate:void 0,city:void 0}),F(P())},q=o=>o?" "+o:"",Ne=o=>{let i=o?.consigneeInfo;return q(i?.firstName)+q(i?.middleName)+q(i?.lastName)+q(i?.lastName2)},Ve=o=>{let i=o?.consigneeInfo,S=q(i?.altPhoneNumber);return q(i?.phoneNumber)+(S?" | "+S:"")},ze=async()=>{let o=[];ge(!0),setTimeout(async()=>{let i=[[900115,900114],[900107,900106]],S=new Date().getFullYear().toString().slice(2,4);const x=i.map(async($,ee)=>{let N=$[0],v=$[1],f="SS"+S;const d=await _e(f+""+N),w=await _e(f+""+v);let te={mtrx:d,mtrx2:w,lbl:f+""+N,lbl2:f+""+v};o.push(te)});await Promise.all(x);let C=await tt(o);window.open(C),ge(!1)},760)},Re=async()=>{de(!0);let o=[];U().map(async(i,S)=>{let x=i?.estate||i?.consigneeInfo?.ybestate,C=i?.city||i?.consigneeInfo?.ybcity,$={provincia:x,ciudad:C,nombre:Ne(i),telefonos:Ve(i),bulto:i?.bagnumber,hbls:i?.hblS};o.push($)}),Ke(`guia_${P()}.csv`,o),de(!1)},Te=async o=>{await xt(e?.list?.manifest?.id)};return We(()=>{}),(()=>{var o=it(),i=o.firstChild,S=i.firstChild,x=S.nextSibling,C=x.firstChild,$=x.nextSibling,ee=$.firstChild,N=i.nextSibling,v=N.nextSibling,f=v.firstChild,d=v.nextSibling,w=d.firstChild,te=w.firstChild;return n(C,()=>e?.list?.guia?.id),n($,t(ue,{get initValue(){return u()},updChange:Me,color:"var(--background-red-ssg)"}),ee),n(o,t(h,{get when(){return ae?.profile?.isAdmin},get children(){return t(bt,{color:"rgb(200 25 60 / 1)",label:"updManifest",handleClick:De})}}),v),n(f,t(ce,{get list(){return He()},lbl_empty:"Guia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.guia?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:r=>Be(r),width:"160px"})),n(v,t(h,{get when(){return Xe(()=>!!e?.list?.guia?.id)()&&u()},get children(){return[(()=>{var r=oe();return n(r,t(ce,{get list(){return G("M023009")?.manifestList[e?.list?.guia?.id]},lbl_empty:"Manifiesto",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.manifest?.id},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:m=>L("manifest",m),width:"180px"})),r})(),(()=>{var r=oe();return n(r,t(h,{get when(){return Ue()},get children(){return t(ce,{get list(){return G("M023009")?.agencies},lbl_empty:"Agencia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.agency?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:m=>L("agency",m),width:"260px"})}})),r})(),(()=>{var r=oe();return n(r,t(_t,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return e?.list?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:m=>L("search",m)})),r})(),(()=>{var r=nt(),m=r.firstChild,y=m.firstChild;return n(m,t(ue,{get initValue(){return A()},updChange:Ie,color:"var(--background-red-ssg)"}),y),n(r,t(h,{get when(){return ae?.profile?.isAdmin},get children(){var k=rt(),Q=k.firstChild;return n(k,t(ue,{get initValue(){return j()},updChange:Ee,color:"var(--background-red-ssg)"}),Q),n(k,t(h,{get when(){return j()},get children(){var V=Y();return V.$$click=Pe,n(V,t(O,{name:"outline_delete",size:24})),V}}),null),k}}),null),r})()]}}),null),n(d,t(h,{get when(){return e?.list?.guia?.id},get children(){var r=lt(),m=r.firstChild;return n(m,t(he,{fallback:y=>(()=>{var k=fe(),Q=k.firstChild,V=Q.nextSibling;return V.nextSibling,n(k,()=>y.toString(),V),k})(),get children(){return t(ne,{get fallback(){return(()=>{var y=be();return y.firstChild,n(y,t(H,{stroke:"rgb(200 25 60 / 1)",size:62}),null),y})()},get children(){return t(h,{get when(){return l?.total},get children(){return t(re,{get each(){return W(l)},children:(y,k)=>J()?t(pt,{keyG:y,total:me,get status(){return e?.list?.status},get amount(){return l?.[y]},get showItems(){return u()},updForm:L}):t(yt,{keyG:y,total:me,get showItems(){return u()},get status(){return e?.list?.status},get amount(){return l?.[y]},updForm:L})})}})}})}})),X(()=>le(r,`client_item_box gWXAaj jlytmu ${J()?"isMobile":""}`)),r}}),w),n(te,t(h,{get when(){return u()},get children(){return t(h,{get when(){return!we()},get fallback(){return(()=>{var r=at(),m=r.firstChild;return n(r,t(H,{stroke:"rgb(200 25 60 / 1)",size:32}),m),r})()},get children(){var r=Y();return r.$$click=Re,n(r,t(O,{name:"grid",size:24,color:"firebrick"})),r}})}}),null),n(te,t(h,{get when(){return ae?.profile?.isAdmin},get children(){return[t(h,{get when(){return!Se()},get fallback(){return(()=>{var r=ot(),m=r.firstChild;return n(r,t(H,{stroke:"rgb(200 25 60 / 1)",size:32}),m),r})()},get children(){var r=Y();return r.$$click=ze,n(r,t(O,{name:"printer",size:24,color:"firebrick"})),r}}),(()=>{var r=Y();return r.$$click=Te,n(r,t(O,{name:"tag-outline",size:24})),r})(),(()=>{var r=Y();return r.$$click=Oe,n(r,t(O,{name:"outline_renew",size:24})),r})()]}}),null),n(d,t(h,{get when(){return c?.prov},get children(){var r=st(),m=r.firstChild,y=m.firstChild,k=m.nextSibling;return n(y,t(h,{get when(){return c?.prov},get children(){return t(re,{get each(){return W(c?.prov)},children:(Q,V)=>t(St,{ism:Q,get item(){return c?.prov?.[Q]},updS:Fe})})}})),k.$$click=Le,n(k,t(O,{name:"Xclose",size:22})),X(()=>le(r,`client_item_box gWXAaj jlytmu ${J()?"isMobile":""}`)),r}}),null),n(d,t(he,{fallback:r=>(()=>{var m=fe(),y=m.firstChild,k=y.nextSibling;return k.nextSibling,n(m,()=>r.toString(),k),m})(),get children(){return t(ne,{get fallback(){return(()=>{var r=be();return r.firstChild,n(r,t(H,{stroke:"rgb(200 25 60 / 1)",size:62}),null),r})()},get children(){return t(h,{get when(){return U()},get children(){return t(re,{get each(){return U()?.slice(0,R())},children:(r,m)=>t(vt,{item:r,refresh:()=>F(P())})})}})}})}}),null),X(r=>Ye(d,` ${J()?"":"width:94vw;"} margin: 0 auto;`,r)),o})()}const yt=e=>{const[s,l]=M(!1),[a,c]=M(0),g=()=>{let u=e?.keyG;e?.keyG==="total"&&(u=null),e?.updForm("status",u)},p=()=>{s()||!J()&&e?.keyG!=="total"&&(c(G("M023009")?.statusObjDesc?.[e?.keyG]?.length*8.5+"px"),l(!0))},_=()=>{c("0px"),s()&&l(!1)};return t(h,{get when(){return e?.amount>0},get children(){return t(ne,{get fallback(){return(()=>{var u=$e();return u.firstChild,n(u,t(H,{stroke:"rgb(200 25 60 / 1)",size:32}),null),u})()},get children(){var u=pe(),I=u.firstChild,R=I.nextSibling;return u.$$mouseout=_,u.$$mousemove=p,u.$$click=g,n(u,t(h,{get when(){return s()},get children(){var E=ct(),A=E.firstChild,T=A.firstChild,j=T.firstChild;return n(j,()=>G("M023009")?.statusObjDesc?.[e?.keyG]),X(Z=>(Z=a())!=null?A.style.setProperty("width",Z):A.style.removeProperty("width")),E}}),I),n(I,t(O,{get name(){return G("M023009")?.statusListIcons?.[e?.keyG]},size:22})),n(u,t(h,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var E=ye(),A=E.firstChild,T=A.nextSibling;return T.nextSibling,n(E,()=>e?.total(),T),E}}),R),n(R,()=>e?.amount),X(()=>le(u,`resumeStatus centerBx ${e?.keyG==="total"?"witXs":""}  ${e?.status===e?.keyG?"active":""}`)),u}})}})},pt=e=>{const s=()=>{let l=e?.keyG;e?.keyG==="total"&&(l=null),e?.updForm("status",l)};return t(h,{get when(){return e?.amount>0},get children(){return t(ne,{get fallback(){return(()=>{var l=$e();return l.firstChild,n(l,t(H,{stroke:"rgb(200 25 60 / 1)",size:32}),null),l})()},get children(){var l=pe(),a=l.firstChild,c=a.nextSibling;return l.$$click=s,n(a,t(O,{get name(){return G("M023009")?.statusListIcons?.[e?.keyG]},size:22})),n(l,t(h,{get when(){return G("M023009")?.statusObjDesc?.[e?.keyG]},get children(){var g=ut(),p=g.firstChild;return n(p,()=>G("M023009")?.statusObjDesc?.[e?.keyG]),g}}),c),n(l,t(h,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var g=ye(),p=g.firstChild,_=p.nextSibling;return _.nextSibling,n(g,()=>e?.total(),_),g}}),c),n(c,()=>e?.amount),X(()=>le(l,`resumeStatus centerBx  spaceAround ${e?.status===e?.keyG?"active":""}`)),l}})}})},$t=async(e,s,l,a,c,g,p)=>{let _={params:{idairguide:s},fldsQry:["street","agency","idairguide","currentStatus","cidentity","ssg_track_key","bagnumber","tracking","estate","city","zone","consigneeInfo:phoneNumber","consigneeInfo:altPhoneNumber","consigneeInfo:firstName","consigneeInfo:middleName","consigneeInfo:lastName","consigneeInfo:lastName2","consigneeInfo:ybstreet","consigneeInfo:ybstreetNo","consigneeInfo:ybbetwen1","consigneeInfo:ybbetwen2","consigneeInfo:ybreparto","consigneeInfo:ybestate","consigneeInfo:ybcity","deliveryUserId","deliveryTime","isSSG","hbls"]};e&&e.split(" ").map((I,R)=>{I&&(_.params[":search"+R]=I.trim())}),s&&(_.params[":guia"]=s*1),l&&(_.params[":search5"]=l),a&&(_.params[":status"]=a),c&&(_.params[":estate"]=c),g&&(_.params[":city"]=g),se?.roles?.agency?_.params[":agency"]=se?.roles?.agency+"":p&&(_.params[":agency"]=p);let u=z(802001);if(_={..._,...u},s&&Object.keys(_.params)?.length>=2){const I=await K(_);return I?.data?.error?{}:I}return{}},kt=async e=>{let s={params:{idairguide:guia,":guia":e}},l=z(802004);s={...s,...l},se?.roles?.agency&&(s.params[":agency"]=se?.roles?.agency+"");const a=await K(s);return a?.error?{}:a},xt=async e=>{let s={params:{idairguide:e,":search5":e,checkDuplicate:!0},fldsQry:["street"]},l=z(802001);s={...s,...l};const a=await K(s);return a?.error?{}:a},Nt=async e=>{e.map(s=>{let l={params:{id:s?.ssg_track_key,idairguide:s?.guia}},a=z(802002);l={...l,...a}})},Ct=async e=>{let s=[];e.map(l=>{let a={params:{ssg_track_key:l?.ssg_track_key,idairguide:l?.guia}},c=z(809005);a={...a,...c},s.push(a)}),ve(s,ke)},Vt=async(e,s)=>{let l=[];e.map(a=>{let c={params:{ssg_track_key:a?.ssg_track_key,idairguide:a?.guia},data2update:{currentStatus:s}},g=z(802004);c={...c,...g},l.push(c)}),ve(l,ke)},ke=async e=>{const l=await K(e);if(l)return l},wt=async()=>{let e=z(9898298);const l=await K(e);if(l)return l},St=e=>(()=>{var s=mt();return n(s,t(h,{get when(){return e?.item?.total>0},get children(){var l=dt(),a=l.firstChild,c=a.firstChild,g=c.firstChild,p=c.nextSibling;return a.$$click=()=>e?.updS(e?.ism),n(c,()=>e?.ism,g),n(p,()=>e?.item?.total),l}}),null),n(s,t(ft,{get children(){var l=gt();return n(l,t(h,{get when(){return e?.item?.cities},get children(){return t(re,{get each(){return W(e?.item?.cities)},children:(a,c)=>(()=>{var g=ht(),p=g.firstChild,_=p.nextSibling;return g.$$click=()=>e?.updS(e?.ism,a),n(p,a),n(_,()=>e?.item?.cities?.[a]),g})()})}})),l}}),null),s})();Je(["click","mousemove","mouseout"]);export{yt as StatusGroupItem,Lt as default,Ct as deleteManifest,ke as fetchCSVInve,wt as getList,Nt as loadManifest,Vt as updateManifest};
