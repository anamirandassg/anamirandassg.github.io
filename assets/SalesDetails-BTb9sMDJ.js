const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-Cq45dAt2.js","assets/index-CVqJEYrb.js","assets/index-B8bAFC38.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-HV6QIaZv.js","assets/debounces-BEdkl0xD.js","assets/SVG-Dh1fIzxf.js","assets/DropDwnSearch-DMkLkRPc.css","assets/CheckBoxSlide-BtY2GK7V.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/FlexSpace-BvT8rAuR.js","assets/ButonHrm-CLj_r8Lv.js","assets/ButonHrm-BSeWNUGQ.css","assets/UpdInventory-D3cW4M_J.js","assets/DialogHRM-xJMwKUXL.js","assets/DialogHRM-V9_lZntj.css","assets/DashProducts-C-nZ8TD8.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InputHr-BIuBl-Kd.js","assets/InputHr-BXFw4d2l.css"])))=>i.map(i=>d[i]);
import{l as U,_ as V,c as D,G as Oe,a as J,o as Ie,b as we,d as z,i as t,e as n,S,F as re,n as Q,b0 as ke,J as Pe,E as de,h as N,w as ge,r as me,x as fe,j as L,k as R,U as Ae,C as Ee,z as qe,t as O,q as ae,p as H,b1 as be,O as te,aj as _e,at as je}from"./index-CVqJEYrb.js";import{u as Ne}from"./debounces-BEdkl0xD.js";import{OpenModal as Be}from"./DialogHRM-xJMwKUXL.js";import{g as $e,a as ye}from"./handelImagesServices-DdL8mu9n.js";import{LookupInventory as ve}from"./DashInventoryMov-ZBgWLIOV.js";import{LookupProducts as ie}from"./DashProducts-C-nZ8TD8.js";import{a as Te}from"./print_invoice_service-C3YWLAaK.js";import{OpenToast as se}from"./Toast-C8FUj5oh.js";import"./browser-image-compression-BVJ4p9S0.js";import"./AddInventory-BnLEHPrj.js";import"./FlexSpace-BvT8rAuR.js";import"./App.module-CbHnVtRQ.js";import"./fontkit.es-B9hlNWoP.js";import"./InitPrintServices-2Wm8SOZv.js";import"./qrcode-DHy8FFhS.js";var De=O('<div style="padding:50px 0"><section class=qsuVSc><section class=bLl6je><section class=dvPdhb>'),Le=O('<div style=margin:15px class=" spaceAround centerBx">'),Re=O('<section class=KgyCAd><section class=WirBi><div class=EMijzc><p class=jhB0af>Agregar reserva</p><section class="Jm2qx centerBx flxWrp spaceAround "><span class=label aria-hidden=true>Mercancia:</span><select class=RIw0b aria-label=merchandise></select><div class="centerBx bottombx "><h5 class="">Solo Arancel</h5></div></section><div style=margin:15px class=" spaceAround centerBx"><div style=margin:7px></div><div style=margin:7px>'),Ue=O('<section class=qsuVSc><section class=bLl6je><section class=dvPdhb></section></section><section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b">'),Ve=O("<option> "),Fe=O('<p class=B7xUP><span data-test-integ-cart-subtotal-label="">Estimated tax</span><span data-test-integ-cart-subtotal-value="">$'),Me=O('<section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b"><div class=kDdWge><div class=QCNFEe><p class=jhB0af>Sumario de la orden</p></div><div class="centerBx bottombx "><h5 class="">Taxes</h5></div><div style=margin:15px class=" spaceAround centerBx"></div><div class=qntUl><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Subtotal</span><span data-test-integ-cart-subtotal-value="">$</span></p><p class=B7xUP><span data-test-integ-cart-subtotal-label=""class=OGw7rb>Estimated total</span><span data-test-integ-cart-subtotal-value=""class=OGw7rb> $</span></p></div></div><div class=oPYFfd><section class=BQHvme><section class=wo08ff><span class=PwY8l2>Fecha:</span><span class=PwY8l33> </span></section><section class=wo08ff><span class=PwY8l2>Invoice:</span><span class=PwY8l33></span></section><section class=wo08ff><span class=PwY8l2>Almacen:</span><span class=PwY8l33> </span></section></section></div><section class=JM2zDb>'),Ce=O("<section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Remove"),Qe=O('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),Ye=O("<span class=arancelSep> | "),Ge=O('<span class="arancel pricePq"> $'),Je=O('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price=""class=pricePq>$</span>'),He=O('<div class="icon_status centerBx "style="margin:0 4px">'),ze=O("<div style=padding:4px>"),We=O('<div style=padding:8px><div class=" centerBx"><p class=jhB0af>Envia</p></div><div class="bottombx flxWrp spaceAround centerBx"><h4 class=centerBx></h4><h4 class="centerBx phonesNum"></h4></div><div class=separator></div><div class=centerBx><p class=jhB0af>Recibe</p><div class="icon_status centerBx "style="margin:0 4px"></div></div><div class="bottombx spaceAround "><h5></h5><h4></h4><h4 class=" textleft phonesNum"></h4></div><div class="bottombx flxWrp spaceAround centerBx"><p class="textleft "></p><h4></h4></div><div><p class=" textleft "></p></div><div style=padding:4px>'),Ke=O('<section class="h6rxkc ">'),Xe=O('<section class=KgyCAd><section class=WirBi><section class=""><div class=QCNFEe><p class=jhB0af>Agregar mercancias</p></div><section class="EMijzc centerBx"><div class="icon_status centerBx "style="margin:0 4px"></div><div class="icon_status centerBx "style="margin:0 4px">'),Ze=O('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),et=O('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),tt=O('<div class="centerBx flxWrp">'),lt=O('<div><div class=QCNFEe><p class=jhB0af>Enviar a Solve D Cargo</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Esta seguro de querer enviar a Solve D Cargo tenga en cuenta que puede duplicar la informacion</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">');U(()=>V(()=>import("./LoadingColorSpinner-Cq45dAt2.js"),__vite__mapDeps([0,1,2,3])));const pe=U(()=>V(()=>import("./DropDwnSearch-HV6QIaZv.js"),__vite__mapDeps([4,1,2,5,6,7]))),xe=U(()=>V(()=>import("./CheckBoxSlide-BtY2GK7V.js"),__vite__mapDeps([8,1,2,9]))),le=U(()=>V(()=>import("./FlexSpace-BvT8rAuR.js"),__vite__mapDeps([10,1,2]))),M=U(()=>V(()=>import("./ButonHrm-CLj_r8Lv.js"),__vite__mapDeps([11,1,2,6,12])));U(()=>V(()=>import("./UpdInventory-D3cW4M_J.js"),__vite__mapDeps([13,1,2,14,15,5,16,17,18,10])));const G=U(()=>V(()=>import("./InputHr-BIuBl-Kd.js"),__vite__mapDeps([19,1,2,20]))),ne=U(()=>V(()=>import("./SVG-Dh1fIzxf.js"),__vite__mapDeps([6,1,2]))),[x,q]=D({manifestObj:{}});let rt=864e5;function Pt(){const[e,s]=Oe();D(),D(),D();const[c,b]=J("");Ne(b,400),Ie(()=>{}),we(()=>{});const g=async()=>{if(e?.mId){let o={":search0":e?.mId,businessId:N?.profile?.businessYId},i=await Se(o);q("manifestObj",i[e?.mId])}};return z(async()=>{q("manifestObj",void 0),g()}),(()=>{var o=De(),i=o.firstChild,a=i.firstChild,v=a.firstChild;return t(o,n(S,{get when(){return x?.manifestObj?.packagesOrder},get children(){return n(st,{})}}),i),t(v,n(S,{get when(){return x?.manifestObj?.products},get children(){return n(re,{get each(){return x?.manifestObj?.products},children:(_,p)=>n(at,{itm:_})})}})),t(i,n(S,{get when(){return x?.manifestObj?.packagesOrder&&!x?.manifestObj?.isCompleted},get children(){return n(mt,{})}}),null),t(i,n(nt,{get item(){return x?.manifestObj},get list(){return x?.manifestObj}}),null),o})()}let it=[{label:"escojer",id:""},{label:"MISCELANEAS",id:"MISCELANEAS"},{label:"UTILES DEL HOGAR",id:"UTILES DEL HOGAR"},{label:"VENTILADOR",id:"VENTILADOR"},{label:"TV",id:"TV"},{label:"CELULAR",id:"CELULAR"},{label:"TABLETS",id:"TABLETS"},{label:"LAPTOPS",id:"LAPTOPS"},{label:"PLAYSTATION",id:"PLAYSTATION"},{label:"BICICLETAS",id:"BICICLETAS"},{label:"GENERADOR",id:"GENERADOR"},{label:"SERVICIO DE RAPEADO",id:"SERVICIO DE RAPEADO"},{label:"TRANSPORTACION",id:"TRANSPORTACION"},{label:"OTROS SERVICIO",id:"OTROS SERVICIO"}];const st=e=>{const s={type:"",qty:0,arancel:0,price:0},[c,b]=D({frm:{...s}}),g=(i,a)=>{b("frm",i,a)},o=i=>{let a={...c?.frm};a.key=je();let v=x?.manifestObj?.reservas||[],_=ae(v);_.push(a),console.log(a),q("manifestObj","reservas",_),b("frm",{...s})};return(()=>{var i=Ue(),a=i.firstChild,v=a.firstChild,_=a.nextSibling,p=_.firstChild,$=p.firstChild;return t(v,n(S,{get when(){return x?.manifestObj?.reservas},get children(){return n(re,{get each(){return x?.manifestObj?.reservas},children:(u,f)=>n(ct,{itm:u})})}})),t(i,n(S,{get when(){return!x?.manifestObj?.isCompleted},get children(){var u=Re(),f=u.firstChild,d=f.firstChild,l=d.firstChild,r=l.nextSibling,m=r.firstChild,h=m.nextSibling,y=h.nextSibling,w=y.firstChild,k=r.nextSibling,P=k.firstChild,I=P.nextSibling;return h.addEventListener("change",C=>{g("type",C?.target?.value)}),t(h,n(re,{each:it,children:(C,F)=>(()=>{var j=Ve();return j.firstChild,t(j,()=>C.label,null),Q(()=>j.selected=C.id===c?.frm?.type),Q(()=>j.value=C.id),j})()})),t(y,n(xe,{get initValue(){return c?.frm?.onlyTariff},updChange:C=>g("onlyTariff",C),color:"var(--background-red-ssg)"}),w),t(k,n(S,{get when(){return!c?.frm?.onlyTariff&&c?.frm?.type},get children(){return n(G,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return c?.frm?.qty||""},label:"cantidad (lbs)",colors:"#2b2b2b",type:"number",handleClick:C=>g("qty",ke(C))})}}),P),t(k,n(S,{get when(){return c?.frm?.qty&&c?.frm?.type},get children(){return n(G,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.price||""},label:"precio",colors:"#2b2b2b",handleClick:C=>g("price",C)})}}),I),t(k,n(S,{get when(){return c?.frm?.type},get children(){return n(G,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.arancel||""},label:"Arancel",colors:"#2b2b2b",handleClick:C=>g("arancel",C)})}}),null),t(d,n(S,{get when(){return(c?.frm?.price&&c?.frm?.qty||c?.frm?.onlyTariff&&c?.frm?.arancel)&&c?.frm?.type},get children(){var C=Le();return t(C,n(M,{color:"#646cff",label:"Agregar",handleClick:o})),C}}),null),u}}),_),t($,n(ot,{get item(){return x?.manifestObj?.shipper_consignee}})),i})()},nt=e=>{const s=o=>{let i=0;return e?.item?.products?.map(a=>{i+=Y(a?.qty)*Y(a?.salePrice)*-1}),e?.item?.reservas?.map(a=>{i+=Y(a?.qty)*Y(a?.price)+Y(a?.arancel)}),i},c=async o=>{let i={...e?.item};i.amount=s();let a=await Te(i);window.open(a)},b=async()=>{let o={...e?.item},i={params:{businessId:N?.profile?.businessYId,id:o.ssg_sorder_key},form:{isCompleted:!1}},a=L(431007);i={...i,...a}},g=async o=>{let i=ae(e?.item);i.isCompleted=!0,i.dayNum=i?.createDate/rt;let a={params:{businessId:N?.profile?.businessYId,id:i.ssg_sorder_key},form:i},v=L(431007);a={...a,...v},await R(a);let _={params:{businessId:N?.profile?.businessYId},form:i},p=L(139003);_={..._,...p},await R(_);let $={":search0":i.ssg_sorder_key,businessId:N?.profile?.businessYId},u=await Se($);q("manifestObj",u[i.ssg_sorder_key])};return(()=>{var o=Me(),i=o.firstChild,a=i.firstChild,v=a.firstChild,_=v.firstChild,p=_.nextSibling,$=p.firstChild,u=p.nextSibling,f=u.nextSibling,d=f.firstChild,l=d.firstChild,r=l.nextSibling;r.firstChild;var m=d.nextSibling,h=m.firstChild,y=h.nextSibling;y.firstChild;var w=v.nextSibling,k=w.firstChild,P=k.firstChild,I=P.firstChild,C=I.nextSibling;C.firstChild;var F=P.nextSibling,j=F.firstChild,ce=j.nextSibling,W=F.nextSibling,K=W.firstChild,X=K.nextSibling;X.firstChild;var B=w.nextSibling;return t(p,n(xe,{get initValue(){return x?.manifestObj?.hasTax},updChange:T=>q("manifestObj","hasTax",T),color:"var(--background-red-ssg)"}),$),t(u,n(S,{get when(){return x?.manifestObj?.hasTax},get children(){return n(G,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return x?.manifestObj?.TaxPercent||""},label:"Porciento de Impuestos",colors:"#2b2b2b",type:"number",handleClick:T=>q("manifestObj","TaxPercent",T)})}})),t(r,()=>s().toFixed(2),null),t(f,n(S,{get when(){return x?.manifestObj?.hasTax&&x?.manifestObj?.TaxPercent},get children(){var T=Fe(),oe=T.firstChild,A=oe.nextSibling;return A.firstChild,t(A,()=>(s()*(x?.manifestObj?.TaxPercent/100)).toFixed(2),null),T}}),m),t(y,()=>(s()*.06+s()).toFixed(2),null),t(C,()=>Pe(e?.item?.createDate),null),t(ce,()=>e?.item?.invoice),t(X,()=>de("storeGroupBy")?.[e?.item?.store]?.label,null),t(B,n(S,{get when(){return e?.item?.isCompleted},get children(){return n(M,{color:"#646cff",label:"Imprimir",handleClick:c})}}),null),t(B,n(S,{get when(){return!e?.item?.isCompleted},get children(){return n(M,{color:"#646cff",label:"Confirmar",handleClick:g})}}),null),t(B,n(S,{get when(){return e?.item?.isCompleted&&N?.profile?.isAdmin},get children(){return n(M,{color:"#646cff",label:"arrow",handleClick:b})}}),null),o})()},at=e=>{const[s,c]=D(),b=()=>s?.[e?.itm?.product?.id]?.productImageUrl?$e()+ye()+"/"+s?.[e?.itm?.product?.id]?.productImageUrl:null,g=async()=>{let i=e?.itm?.product?.id,a=`${i}`,v=await ie(a);v?.[i]?.productImageUrl&&c(i,v?.[i])};z(()=>{g()});const o=()=>{let i=ae(x?.manifestObj?.products);delete i[e?.itm?.product?.id],q("manifestObj","products",i)};return(()=>{var i=Qe(),a=i.firstChild,v=a.firstChild,_=v.firstChild,p=_.firstChild,$=p.firstChild,u=p.nextSibling,f=u.firstChild,d=f.firstChild,l=d.firstChild;l.firstChild;var r=f.nextSibling,m=r.firstChild,h=m.firstChild,y=h.nextSibling,w=m.nextSibling,k=w.firstChild;return k.firstChild,t(l,()=>e?.itm?.product?.label,null),t(y,()=>e?.itm?.qty*-1),t(k,()=>(e?.itm?.salePrice*1).toFixed(2),null),t(r,n(S,{get when(){return!x?.manifestObj?.isCompleted},get children(){var P=Ce(),I=P.firstChild,C=I.firstChild;return C.$$click=o,P}}),null),Q(()=>ge($,"src",b())),i})()},ct=e=>{const[s,c]=D(),b=async()=>{let o=e?.itm?.product?.id,i=`${o}`,a=await ie(i);a?.[o]?.productImageUrl&&c(o,a?.[o])};z(()=>{b()});const g=()=>{let i=ae(x?.manifestObj?.reservas).filter(a=>a.key!==e?.itm?.key);q("manifestObj","reservas",i)};return(()=>{var o=Je(),i=o.firstChild,a=i.firstChild,v=a.firstChild,_=v.firstChild,p=_.firstChild,$=p.firstChild,u=$.firstChild;u.firstChild;var f=p.nextSibling,d=f.firstChild,l=d.firstChild,r=l.nextSibling,m=d.nextSibling,h=m.firstChild;return h.firstChild,t(u,()=>e?.itm?.type,null),t(r,()=>e?.itm?.qty*1),t(h,()=>(e?.itm?.price*1).toFixed(2),null),t(m,n(S,{get when(){return e?.itm?.arancel},get children(){return[Ye(),(()=>{var y=Ge();return y.firstChild,t(y,()=>(e?.itm?.arancel*1).toFixed(2),null),y})()]}}),null),t(f,n(S,{get when(){return!x?.manifestObj?.isCompleted},get children(){var y=Ce(),w=y.firstChild,k=w.firstChild;return k.$$click=g,y}}),null),o})()},ot=e=>{const[s,c]=J(),[b,g]=J(!0),o=l=>l?" "+l:"",i=l=>o(l?.firstName)+o(l?.middleName)+o(l?.lastName)+o(l?.lastName2),a=l=>{let r=o(l?.altPhoneNumber);return o(l?.phoneNumber)+(r?" |"+r:"")},v=async()=>{let l={};l.id=H(),l.closeEvent=()=>{},l.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},l.content=n(ft,{confirm:_}),Be(l)},_=async()=>{let l=N?.profile?.agency?.id;if(l&&e?.item?.citiId&&s()?.id){let r=e?.item,m=`;${E(r?.firstName)};${E(r?.middleName)};${E(r?.lastName)};${E(r?.lastName2)};N/A;${E(r?.cid)};CUB;${E(r?.phoneNumber)};${E(r?.altPhoneNumber)};${E(r?.ybstreet)};${E(r?.ybstreetNo)};${E(r?.ybbetwen1)};${E(r?.ybbetwen2)};${E(r?.ybreparto)};;${r?.citiId};${s()?.id};${E(r?.email)};;${l}`;p("consignee",m)}},p=async(l,r,m)=>{let h=`funcname=insertRecord&option=${l}&params=${r}`,y={query:"querySolveGlobal"};y.params={query:h},await R(y)},$=async()=>{let l={params:{id:e?.item?.name,key:"shipper"}},r=L(181009);l={...l,...r};const m=await R(l);let h=be(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],m,e?.item);console.log(h),m.cid===e?.item?.cid&&console.log()},u=async()=>{let l={params:{id:e?.item?.cid,key:"consignee"}},r=L(181009);l={...l,...r};const m=await R(l);return be(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],m,e?.item).hasChange&&m.cid===e?.item?.cid?e?.item:m},f=(l,r)=>{q("manifestObj","shipper_consignee",l,r)},d=async(l,r)=>{let m=await u();console.log(m)};return z(()=>{if(e?.item?.ybestate){let l=de("M023009")?.provincias?.filter?.(r=>r.label===e?.item?.ybestate)?.[0];if(l?.id&&c(l),e?.item?.ybcity){let r=l?.cities?.filter?.(m=>m.label===e?.item?.ybcity)?.[0];r?.id&&q("manifestObj","shipper_consignee","citiId",r?.id)}}d()}),n(S,{get when(){return e?.item?.name},get children(){var l=We(),r=l.firstChild;r.firstChild;var m=r.nextSibling,h=m.firstChild,y=h.nextSibling,w=m.nextSibling,k=w.nextSibling,P=k.firstChild,I=P.nextSibling,C=k.nextSibling,F=C.firstChild,j=F.nextSibling,ce=j.nextSibling,W=C.nextSibling,K=W.firstChild,X=K.nextSibling,B=W.nextSibling,T=B.firstChild,oe=B.nextSibling;return t(r,n(le,{}),null),t(h,()=>e?.item?.name),y.$$click=$,t(y,()=>e?.item?.phoneNumberS),t(k,n(le,{}),I),I.$$click=u,t(I,n(ne,{name:"success",size:22,get color(){return b()?"#37be5fff":"#c6c6c6"}})),t(k,n(S,{get when(){return!b()},get children(){var A=He();return A.$$click=v,t(A,n(ne,{name:"send",size:22,color:"#646cff"})),A}}),null),t(F,()=>e?.item?.cid),t(j,()=>i(e?.item)),t(ce,()=>a(e?.item)),t(K,()=>he(e?.item)),t(X,()=>e?.item?.ybreparto),t(T,he),t(B,n(le,{}),null),t(oe,n(pe,{get list(){return de("M023009")?.provincias},lbl_empty:"Provincia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return s()?.id},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:A=>c(A),width:"260px"})),t(l,n(S,{get when(){return s()},get children(){var A=ze();return t(A,n(pe,{get list(){return s()?.cities},lbl_empty:"Cities",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.item?.citiId},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:Z=>f("citiId",Z.id),width:"260px"})),A}}),null),Q(A=>{var Z=`    ${me()?"isMobile":""}`,ue=` ${me(),"centerBx"} bottombx flxWrp  centerBx`;return Z!==A.e&&fe(l,A.e=Z),ue!==A.t&&fe(B,A.t=ue),A},{e:void 0,t:void 0}),l}})},At=async(e,s)=>{let c={params:e,data2update:s},b=L(431007);return c={...c,...b},await R(c)},Se=async e=>{let s={params:e},c=L(431002);return s={...s,...c},await R(s)},Et=async e=>{let s=[];e.map(c=>{let b={params:{id:c?.ssg_track_key,idairguide:"all"}},g=L(802002);b={...b,...g},s.push(b)}),Ae(s,dt)},dt=async e=>{const c=await R(e);if(c)return c},mt=e=>{const[s,c]=J(""),[b,g]=J(1),o=()=>{b()===1&&s().length>8&&i(s())},i=async p=>{let $=N?.profile?.agencyStore?.id,u=`${p}`,f=await ie(u),d=te(f)?.[0],l=`${d} ${$}`,r=await ve(l),m=0,h=0;te(r)?.map(P=>{r[P]?.products?.map(I=>{d===I?.product?.id&&(m+=I?.price*1*I?.qty*1,h+=I?.qty*1)})});let y=1,w={};x?.manifestObj?.products?.map(P=>{let I={...P};d===P.product.id&&(I.qty=I.qty*-1),w[P.product.id]=I}),w?.[d]&&(y=w?.[d].qty*1+1);const k=h?m/h:0;if(h&&h-y>=0){if(w?.[d])w[d].qty=y*-1;else{let I={product:{id:d,label:f?.[d]?.name,code:f?.[d]?.code},qty:y*-1,price:k,salePrice:f?.[d]?.salePrice};w[d]=I}let P=_e(w);q("manifestObj","products",P),c(""),se({text:f?.[d]?.name+" agregado al carrito",timeout:3500,theme:"blue",id:H()})}else se({text:"Sin Existencia",timeout:3500,theme:"red",id:H()})},[a,{refetch:v}]=Ee(s,async p=>{if(b()===2&&p.length>4){const $=await ie(p);let u=[];return te($).map(f=>{let d=$[f];u.push(d)}),u}else return[]}),_=()=>{c(""),g(1)};return(()=>{var p=Xe(),$=p.firstChild,u=$.firstChild,f=u.firstChild,d=f.nextSibling,l=d.firstChild,r=l.nextSibling;return t(u,n(S,{get when(){return a()?.length>0},get children(){var m=Ke();return t(m,n(re,{get each(){return a()},children:(h,y)=>n(ut,{itm:h,clearTx:_})})),m}}),d),t(d,n(G,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return s()},placeholder:"buscar productos ...",colors:"#2b2b2b",handleClick:c,onEnter:o}),l),l.$$click=()=>g(1),t(l,n(ne,{name:"qrcode-scan",size:22,get color(){return b()===1?"#646cff":""}})),r.$$click=()=>g(2),t(r,n(ne,{name:"keyboard",size:22,get color(){return b()===2?"#646cff":""}})),p})()},ut=e=>{const[s,c]=D(),b=()=>s?.prod?.productImageUrl?$e()+ye()+"/"+s?.prod?.productImageUrl:null;z(()=>{c("prod",e?.itm)}),Array.from(Array(10).keys());const g=async o=>{let i=N?.profile?.agencyStore?.id,a=s?.prod?.ssg_product_key,v=`${a} ${i}`,_=await ve(v),p=0,$=0;te(_)?.map(l=>{_[l]?.products?.map(r=>{a===r?.product?.id&&(p+=r?.price*1*r?.qty*1,$+=r?.qty*1)})});let u=1,f={};x?.manifestObj?.products?.map(l=>{let r={...l};a===l.product.id&&(r.qty=r.qty*-1),f[l.product.id]=r}),f?.[a]&&(u=f?.[a].qty*1+1);const d=$?p/$:0;if(console.log(d,$,p),$&&$-u>=0){if(f?.[a])f[a].qty=u*-1;else{let r={product:{id:a,label:s?.prod?.name,code:s?.prod?.code},qty:u*-1,price:d,salePrice:s?.prod?.salePrice};f[a]=r}let l=_e(f);q("manifestObj","products",l),e?.clearTx(),se({text:s?.prod?.name+" agregado al carrito",timeout:3500,theme:"blue",id:H()})}else e?.clearTx(),se({text:"Sin Existencia",timeout:3500,theme:"red",id:H()})};return(()=>{var o=Ze(),i=o.firstChild,a=i.firstChild,v=a.firstChild,_=v.firstChild,p=_.firstChild,$=_.nextSibling,u=$.firstChild,f=u.firstChild,d=f.firstChild;d.firstChild;var l=u.nextSibling,r=l.firstChild,m=r.nextSibling,h=m.firstChild;return h.firstChild,t(d,()=>e?.itm?.name,null),t(r,n(M,{color:"#646cff",label:"Agregar",handleClick:g})),t(h,()=>(e?.itm?.salePrice*1).toFixed(2),null),Q(()=>ge(p,"src",b())),o})()},ee=(e,s)=>s?(()=>{var c=et(),b=c.firstChild,g=b.nextSibling;return t(b," "+e),t(g,s),c})():"",he=e=>(()=>{var s=tt();return t(s,()=>ee("Calle",e?.ybstreet),null),t(s,()=>ee("#",e?.ybstreetNo),null),t(s,()=>ee("E/",e?.ybbetwen1),null),t(s,()=>ee("y",e?.ybbetwen2),null),s})(),Y=e=>e?e*1:0,E=e=>e?e.toString().toUpperCase().trim():"";function ft(e){return(()=>{var s=lt(),c=s.firstChild,b=c.nextSibling,g=b.nextSibling,o=g.nextSibling;return s.style.setProperty("max-height","80vh"),s.style.setProperty("overflow","auto"),s.style.setProperty("background","#fff"),s.style.setProperty("border-radius","11px"),s.style.setProperty("padding"," 0 21px"),c.style.setProperty("padding","21px"),t(o,n(le,{}),null),t(o,n(M,{color:"#646cff",icon:"send",label:"Enviar",get handleClick(){return e.confirm}}),null),Q(i=>(i=me()?"96vw":"420px")!=null?s.style.setProperty("width",i):s.style.removeProperty("width")),s})()}qe(["click"]);export{Pt as default,dt as fetchCSVInve,he as getAddress,Y as isValNum,Et as loadInventory,At as updConfirmSale};
