const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-BlLJKxTv.js","assets/index-D16NH-Ha.js","assets/index-BRlA1Q7g.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-wfOq6M-R.js","assets/debounces-DJYpvv3-.js","assets/SVG-BFZDkuHM.js","assets/Util-CugZcr5q.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ButonHrm-K9FnUjhd.js","assets/ButonHrm-BSeWNUGQ.css","assets/FlexSpace-a1At56JQ.js","assets/ButonUploadHrm-DN8wqbcX.js","assets/CheckBoxSlide-HoiGfe14.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/InputHr-BYBcT-WZ.js","assets/InputHr-BXFw4d2l.css"])))=>i.map(i=>d[i]);
import{l as F,_ as M,r as ye,c as ee,a as D,o as $e,b as Ce,d as Se,i as t,e as r,S as k,f as re,k as de,m as Ie,q as we,P as ke,F as le,g as ie,h as Be,t as d,j as Pe}from"./index-D16NH-Ha.js";import{e as te,O as ce,h as Ee,g as Q,f as z,m as Oe,a as V,J as Le}from"./Util-CugZcr5q.js";import{u as Ae}from"./debounces-DJYpvv3-.js";import{c as je,i as Ue,g as Fe,a as Me,b as qe,u as De}from"./handelImagesServices-BIxY-eYN.js";import{LookupInventory as Xe}from"./DashInventory-c4xmDV5y.js";import{OpenModal as Ne}from"./DialogHRM-t8Aqv5b6.js";import{a as Ve,b as Re,d as Te}from"./ShowQRPrintLabel-C2QRNPhp.js";import"./browser-image-compression-BVJ4p9S0.js";import"./App.module-CbHnVtRQ.js";import"./fontkit.es-Bw_0IftY.js";import"./qrcode-DHy8FFhS.js";import"./InitPrintServices-kIHy6xNl.js";import"./Toast-DR5ncfch.js";var We=d('<div class="icon_status centerBx">'),Ze=d("<div style=width:300px;max-height:300px;position:relative;><img alt=sf><div>"),Qe=d("<div style=width:300px;position:relative;><img alt=sf>"),ze=d('<div class=" spaceAround centerBx"><h5 class="">Publicar</h5><div style=padding:4px>'),Ye=d('<div><div class=" spaceAround centerBx"><div class=bottombx style=padding:16px><h4></h4><div class="centerBx bottombx "><h5 class="">Publicar</h5></div><div class=" spaceAround centerBx"></div></div></div><div class="elastic_view_bx show"></div><div class=" flxWrp spaceAround "><div class="centerBx flxWrp "style=margin:16px></div><div class="centerBx flxWrp "style=margin:16px></div><div class="centerBx flxWrp "style=margin:16px><div style=margin:15px class=" spaceAround centerBx"></div></div><div class="centerBx flxWrp "style=margin:16px></div><div style=margin:16px><div class=bottombx><h4>Codigos X tallas:</h4></div><div class="centerBx flxWrp "style=margin:16px>'),Ge=d("<div class=hseparator>"),He=d('<div class="bottombx centerBx unit tr_bar_40"><h5>Existencia:</h5><div class=bag_number><h5>'),Je=d('<div class="bottombx centerBx unit tr_bar_40"><h5>Precio Costo:</h5><div class=unitBx><h5>$'),Ke=d('<div class="bottombx centerBx unit"style=padding:30px>'),et=d('<div style="width:640px;margin-left:2vw;padding:30px "><div class="bottombx centerBx unit tr_bar_40"style="padding:10px "><h4>Existencia por Almacen:'),tt=d('<div><div style="width:640px;margin-left:2vw "><div class=hseparator></div><div class="bottombx spaceAround centerBx"><h4>Movimientos</h4></div><div class="bottombx centerBx unit"><div class="icon_status centerBx "style=margin-right:52px></div><div class=tr_bar_20><h5>Fecha</h5></div><div class="tr_bar_10 centerBx"><div class="unitBx "><h5>Qty</h5></div></div><div class="tr_bar_40 "><div class=" centerBx spaceAround"><h4>Factura</h4></div></div><div class="tr_bar_40 centerBx spaceAround"><h4>Almacen</h4></div><div class="tr_bar_10 centerBx"><div class="unitBx "><h5>Precio</h5></div></div></div><div class=hseparator></div></div><div style=padding:30px>'),rt=d("<div> "),lt=d("<div class=centerBx><h5 style=margin-left:12px>Subiendo imagen"),it=d('<div class="bottombx centerBx unit "><h5 class="bottombx centerBx unit tr_bar_50">:</h5><div class=unitBx><h5>'),st=d('<div class="bottombx centerBx unit"><div class="icon_status centerBx bag_number"style=margin-right:12px></div><div class=tr_bar_20><h5></h5></div><div class="tr_bar_20 centerBx"><div class="unitBx "><h5></h5></div></div><div class="tr_bar_30 "><h4></h4></div><div class="tr_bar_30 "><h4>:</h4></div><div class="tr_bar_10 centerBx"><div class="unitBx "><h5>$'),ue=d("<div style=margin:8px>"),at=d('<div class="centerBx flxWrp "><div class="bottombx centerBx unit"><h5>:'),nt=d("<div class=unitBx><h5>"),ot=d('<div class="centerBx flxWrp "><div class="bottombx centerBx unit"><h5></h5><div class=bag_number><h5>'),dt=d('<div><div><div class="_dsplFlx flxWrp spaceAround "><div class="_dsplFlx bottombx lowbordr"><h5>Imprimir Etiqueta</h5></div></div></div><div>'),ct=d('<div class="_dsplFlx bottombx "><h4></h4><div class="icon_status centerBx">');const _e=F(()=>M(()=>import("./LoadingColorSpinner-BlLJKxTv.js"),__vite__mapDeps([0,1,2,3]))),ut=F(()=>M(()=>import("./DropDwnSearch-wfOq6M-R.js"),__vite__mapDeps([4,1,2,5,6,7,8]))),_t=F(()=>M(()=>import("./ButonHrm-K9FnUjhd.js"),__vite__mapDeps([9,1,2,6,7,10]))),pt=F(()=>M(()=>import("./FlexSpace-a1At56JQ.js"),__vite__mapDeps([11,1,2]))),bt=F(()=>M(()=>import("./ButonUploadHrm-DN8wqbcX.js"),__vite__mapDeps([12,1,2,6,7,10]))),vt=F(()=>M(()=>import("./CheckBoxSlide-HoiGfe14.js"),__vite__mapDeps([13,1,2,14]))),ht=F(()=>M(()=>import("./InputHr-BYBcT-WZ.js"),__vite__mapDeps([15,1,2,16]))),se=F(()=>M(()=>import("./SVG-BFZDkuHM.js"),__vite__mapDeps([6,1,2,7])));function Ft(l){const[i,n]=ye(),[e,c]=ee({search:""});ee(),ee();const[v,S]=D(null),[L,B]=D(!1),[A,j]=D(!1),[q,Y]=D(""),[$t,ve]=D("");Ae(ve,400),$e(()=>{}),Ce(()=>{});const ae=async()=>{if(i?.mId){let a={id:i?.mId,businessId:ie?.profile?.businessYId},b=await be(a);if(!b?.codeN){let _="9209"+Le(8),o={id:_,businessId:ie?.profile?.businessYId};(await be(o))?.ssg_product_key||p("codeN",_)}let f=await Xe(i?.mId),y=0,P=0,s=[],u={};ce(f)?.map(_=>{let o=f[_]?.store;f[_]?.products?.map($=>{if(i?.mId===$?.product?.id){let C={...f[_]};delete C.products,C.qty=$?.qty*1,C.price=$?.price*1,y+=$?.price*1*$?.qty*1,u[o]||(u[o]={total:0}),u[o].total+=C.qty,P+=$?.qty*1,s.push(C)}})});const g=y/P;Y(Fe()+Me()+"/"+b?.productImageUrl),c("stockList",s),c("stock",{Balance:y,Total:P,priceCost:g,stockByStore:u}),c("productObj",b)}};Se(async()=>{ae()});const G=async a=>{await gt(i?.mId,a),ae()},ne=async(a,b)=>{let f=await qe(a.type,b,1);if(await De(f,a)){let P={...e?.productObj?.thumbnails};P[b]=1,await G({productImageUrl:b,thumbnails:P}),j(!1),B(!1)}else j(!1)},he=async()=>{if(j(!0),v()?.name.split(".").pop()==="webp"){let a=e?.productObj?.code+"/"+V()+V()+".webp";ne(v()?.file,a)}else{let a=await je(v()?.file,{maxSizeMB:.5,maxWidthOrHeight:1080}),b=await Ue(a),y=await(await fetch(b)).blob(),P=e?.productObj?.code+"/"+V()+V()+".webp";ne(y,P)}},me=a=>{S(a),B(!0)},ge=a=>{G({isPublic:a?"9":null})},p=async(a,b)=>{G({[a]:b})},xe=async(a,b)=>{xt(e?.productObj,a)},fe=async(a,b)=>{let f=V(),y={};y.id=f,y.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},y.content=r(yt,{modalId:f,get item(){return e?.productObj}}),Ne(y)};return(()=>{var a=tt(),b=a.firstChild,f=b.firstChild,y=f.nextSibling,P=y.nextSibling;return P.nextSibling,t(a,r(k,{get when(){return e?.productObj?.code},get fallback(){return(()=>{var s=rt();return s.firstChild,t(s,r(_e,{stroke:"rgb(200 25 60 / 1)",size:62}),null),s})()},get children(){var s=Ye(),u=s.firstChild,g=u.firstChild,_=g.firstChild,o=_.nextSibling,$=o.firstChild,C=o.nextSibling,R=u.nextSibling,H=R.nextSibling,T=H.firstChild,E=T.nextSibling,I=E.nextSibling,O=I.firstChild,X=I.nextSibling,J=X.nextSibling,K=J.firstChild,x=K.nextSibling;return t(u,r(k,{get when(){return v()?.source},get children(){var U=Ze(),N=U.firstChild,W=N.nextSibling;return t(W,r(k,{get when(){return!A()},get fallback(){return(()=>{var h=lt(),Z=h.firstChild;return t(h,r(_e,{stroke:"rgb(200 25 60 / 1)",size:32}),Z),h})()},get children(){var h=We();return h.$$click=he,t(h,r(se,{name:"arrow_up_large",size:24})),h}})),re(h=>{var Z=v()?.source,oe=A()?"floatBtn loading":"floatBtn ";return Z!==h.e&&de(N,"src",h.e=Z),oe!==h.t&&Ie(W,h.t=oe),h},{e:void 0,t:void 0}),U}}),g),t(u,r(k,{get when(){return we(()=>!!q())()&&!v()?.source},get children(){var U=Qe(),N=U.firstChild;return re(()=>de(N,"src",q())),U}}),g),t(_,()=>e?.productObj?.name),t(o,r(vt,{get initValue(){return e?.productObj?.isPublic},updChange:ge,color:"var(--background-red-ssg)"}),$),t(C,r(bt,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"image_outline",label:"Subir Imagen",handleClick:me})),t(g,r(k,{get when(){return ke()},get children(){var U=ze(),N=U.firstChild,W=N.nextSibling;return t(W,r(ut,{get list(){return te("M023009")?.bussinesSSGList},lbl_empty:"Business",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.productObj.businessId},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:h=>xe(h.id),width:"260px"})),U}}),null),t(T,r(m,{get value(){return e?.productObj?.name},label:"Nombre",key:"name",updItem:p,width:"600px"})),t(E,r(pe,{get value(){return e?.productObj?.category},label:"Categoria",key:"category",updItem:p}),null),t(E,r(w,{}),null),t(E,r(pe,{get value(){return e?.productObj?.unit},label:"U/M",key:"unit",updItem:p}),null),t(E,r(w,{}),null),t(E,r(m,{get value(){return e?.productObj?.brand},label:"Marca",key:"brand",updItem:p}),null),t(E,r(w,{}),null),t(E,r(m,{get value(){return e?.productObj?.model},label:"Modelo",key:"model",updItem:p}),null),t(I,r(m,{get value(){return e?.productObj?.ASIN},label:"ASIN",key:"ASIN",updItem:p}),O),t(I,r(w,{}),O),t(I,r(m,{get value(){return e?.productObj?.UPC},label:"UPC",key:"UPC",updItem:p}),O),t(I,r(w,{}),O),t(I,r(m,{get value(){return e?.productObj?.code},label:"codigo SSG",key:"code",updItem:p}),O),t(I,r(m,{get value(){return e?.productObj?.codeN},label:"codigo numerico",key:"codeN",updItem:p}),O),t(O,r(_t,{color:"#016ee6",icon:"printer",label:"Imprimir",handleClick:fe})),t(X,r(m,{get value(){return e?.productObj?.description},label:"Description",key:"description",updItem:p}),null),t(X,r(w,{}),null),t(X,r(m,{get value(){return e?.productObj?.salePrice},label:"Precio Venta",key:"salePrice",updItem:p}),null),t(x,r(m,{get value(){return e?.productObj?.UPC_SIZE_XXXL},label:"XXXL",key:"UPC_SIZE_XXXL",updItem:p}),null),t(x,r(w,{}),null),t(x,r(m,{get value(){return e?.productObj?.UPC_SIZE_XXL},label:"XXL",key:"UPC_SIZE_XXL",updItem:p}),null),t(x,r(w,{}),null),t(x,r(m,{get value(){return e?.productObj?.UPC_SIZE_XL},label:"XL",key:"UPC_SIZE_XL",updItem:p}),null),t(x,r(w,{}),null),t(x,r(m,{get value(){return e?.productObj?.UPC_SIZE_L},label:"L",key:"UPC_SIZE_L",updItem:p}),null),t(x,r(w,{}),null),t(x,r(m,{get value(){return e?.productObj?.UPC_SIZE_M},label:"M",key:"UPC_SIZE_M",updItem:p}),null),t(x,r(w,{}),null),t(x,r(m,{get value(){return e?.productObj?.UPC_SIZE_S},label:"S",key:"UPC_SIZE_S",updItem:p}),null),s}}),b),t(b,r(k,{get when(){return e?.stockList},get children(){return[Ge(),(()=>{var s=Ke();return t(s,r(k,{get when(){return e?.stock?.Total>0},get children(){return[(()=>{var u=He(),g=u.firstChild,_=g.nextSibling,o=_.firstChild;return t(o,()=>(e?.stock?.Total*1).toFixed(2)),u})(),r(pt,{}),(()=>{var u=Je(),g=u.firstChild,_=g.nextSibling,o=_.firstChild;return o.firstChild,t(o,()=>(e?.stock?.priceCost*1).toFixed(2),null),u})()]}})),s})(),(()=>{var s=et();return s.firstChild,t(s,r(le,{get each(){return ce(e?.stock?.stockByStore)},children:(u,g)=>(()=>{var _=it(),o=_.firstChild,$=o.firstChild,C=o.nextSibling,R=C.firstChild;return t(o,()=>te("storeGroupBy")?.[u]?.label,$),t(R,()=>(e?.stock?.stockByStore?.[u]?.total*1).toFixed(2)),_})()}),null),s})()]}}),f),t(b,r(le,{get each(){return e?.stockList},children:(s,u)=>(()=>{var g=st(),_=g.firstChild,o=_.nextSibling,$=o.firstChild,C=o.nextSibling,R=C.firstChild,H=R.firstChild,T=C.nextSibling,E=T.firstChild,I=T.nextSibling,O=I.firstChild,X=O.firstChild,J=I.nextSibling,K=J.firstChild,x=K.firstChild;return x.firstChild,t(_,r(se,{get name(){return mt[s?.type]},size:24,color:"var(--background-red-ssg)"})),t($,()=>Ee(s?.createDate)),t(H,()=>(s?.qty*1).toFixed(2)),t(E,()=>s?.invoice),t(O,()=>te("storeGroupBy")?.[s?.store]?.label,X),t(x,()=>(s?.price*1).toFixed(2),null),g})()}),null),a})()}let mt={ENTRY:"arrow_down_large",SALES:"money_outline",TRANSFER:"arrows_compare"};const w=()=>[ue(),"|",ue()],m=l=>{const[i,n]=D(!1),[e,c]=D(""),v=()=>{l?.updItem(l?.key,e()),n(!1)},S=()=>{let L=i();L||c(l?.value),n(!L)};return(()=>{var L=at(),B=L.firstChild,A=B.firstChild,j=A.firstChild;return A.$$click=S,t(A,()=>l?.label,j),t(B,r(k,{get when(){return i()},get fallback(){return r(k,{get when(){return l?.value},get children(){var q=nt(),Y=q.firstChild;return t(Y,()=>l?.value),q}})},get children(){return r(ht,{get width(){return l?.width||"160px"},backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return e()||""},get placeholder(){return l?.label},colors:"#2b2b2b",handleClick:q=>c(q),onEnter:v})}}),null),L})()},pe=l=>r(k,{get when(){return l?.value},get children(){var i=ot(),n=i.firstChild,e=n.firstChild,c=e.nextSibling,v=c.firstChild;return t(e,()=>l?.label),t(v,()=>l?.value),i}}),gt=async(l,i)=>{let n={params:{id:l,businessId:ie?.profile?.businessYId},form:i},e=Q(129004);return n={...n,...e},await z(n)},xt=async(l,i)=>{let n={...l};n.ssg_product_key=V(),n.businessId=i;let e={params:{businessId:i},form:n},c=Q(129003);e={...e,...c};{const v=await z(e);return v?.data?.error?{}:v?.data}},be=async l=>{let i={params:l},n=Q(122002);return i={...i,...n},await z(i)},Mt=async l=>{let i=[];l.map(n=>{let e={params:{id:n?.ssg_track_key,idairguide:"all"}},c=Q(802002);e={...e,...c},i.push(e)}),Oe(i,ft)},ft=async l=>{const n=await z(l);if(n)return n};function yt(l){const i=async e=>{let c=Ve(e);var v=await Re(c,"image/png");let L={qr:URL.createObjectURL(v),lbl:e,lbl2:l?.item?.name?.toUpperCase()},B=await Te([L]);window.open(B)};let n=[["ASIN","ASIN"],["UPC","UPC"],["code","codigo SSG"],["codeN","codigo numerico"]];return(()=>{var e=dt(),c=e.firstChild;c.firstChild;var v=c.nextSibling;return e.style.setProperty("max-height","80vh"),e.style.setProperty("overflow","auto"),e.style.setProperty("background","#ffffff"),e.style.setProperty("border-radius","13"),e.style.setProperty("padding","10px 19px"),t(c,r(le,{each:n,children:(S,L)=>r(k,{get when(){return l?.item?.[S[0]]},get children(){var B=ct(),A=B.firstChild,j=A.nextSibling;return t(A,()=>S[1]),j.$$click=()=>i(l?.item?.[S[0]]),t(j,r(se,{name:"printer",size:32})),B}})}),null),v.style.setProperty("margin","25px"),re(S=>(S=Pe()?"96vw":"420px")!=null?e.style.setProperty("width",S):e.style.removeProperty("width")),e})()}Be(["click"]);export{Ft as default,ft as fetchCSVInve,Mt as loadProduct,gt as updProducts};
