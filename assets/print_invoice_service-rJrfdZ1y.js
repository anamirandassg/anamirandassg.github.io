import{P as j,S as B,r as e}from"./PDFButton-CTOhKs32.js";import{e as T,h as v}from"./Util-CPOloF-j.js";import{f as J}from"./fontkit.es-Cs7kHC0c.js";import{i as dt,b as K}from"./InitPrintServices-CqcMatcB.js";import"./qrcode-DHy8FFhS.js";import"./Toast-iOGOlOtY.js";let t=0;const _=r=>r?r*1:0,F=r=>r?" "+r:"",st=r=>F(r?.firstName)+F(r?.middleName)+F(r?.lastName)+F(r?.lastName2),ct=r=>{let n=F(r?.altPhoneNumber);return F(r?.phoneNumber)+(n?" |"+n:"")},S=(r,n)=>n?" "+r+" "+n:"",lt=r=>`${S("Calle",r?.ybstreet)}${S("#",r?.ybstreetNo)}${S("E/",r?.ybbetwen1)}${S("y",r?.ybbetwen2)}, ${S("Reparto",r?.ybreparto)},${S("",r?.ybcity)},${S("",r?.ybestate)}`,zt=async r=>{const n=await j.create();n.registerFontkit(J);var i=await n.embedFont(B.TimesRoman),s=await n.embedFont(B.TimesRomanBold),c=await n.embedFont(B.TimesRomanBold);if(T("modernFontReport")){let l=T("Roboto-Bold.ttf");const g=await fetch(l).then(u=>u.arrayBuffer());s=await n.embedFont(g);let y=T("ggSans-Italic.ttf");const b=await fetch(y).then(u=>u.arrayBuffer());i=await n.embedFont(b);let z=T("ggSans-Medium.ttf");const f=await fetch(z).then(u=>u.arrayBuffer());c=await n.embedFont(f)}const a=await dt(n);let o=n.addPage();const{width:m,height:R}=o.getSize(),d=10;t=R-40;const N=a.GSansBold.widthOfTextAtSize("Invoice: ",9),C=a.Lexend_700.widthOfTextAtSize(r?.invoice,10);o.drawText("Invoice: ",{x:580-C-N,y:t,size:9,font:a.GSansBold,color:e(0,0,0)}),o.drawText(r?.invoice,{x:580-C,y:t,size:10,font:a.Lexend_700,color:e(0,0,0)});let G=R-30,$=T("storeGroupBy")?.[r?.store]?.label||"";o.drawText($,{x:20,y:G,size:13,font:s,color:e(0,0,0)}),t=t-20;let I=r?.createDate;const q=a.GSansBold.widthOfTextAtSize("Fecha: ",11),x=a.Lexend_700.widthOfTextAtSize(v(I)+"",12);o.drawText("Fecha: ",{x:580-q-x,y:t,size:11,font:a.GSansBold,color:e(0,0,0)}),o.drawText(v(I)+"",{x:580-x,y:t,size:12,font:a.Lexend_700,color:e(.06,.06,.06)}),t=t-20;let h=r?.shipper_consignee;if(h){let l=h?.name||"",g=h?.phoneNumberS||"";o.drawText("Envia: ",{x:20,y:t,size:12,font:a.roboto_bold,color:e(0,0,0)}),t=t-12,o.drawText(l+"   |   "+g,{x:28,y:t,size:8,font:a.Lexend_700,color:e(0,0,0)}),t=t-20;let y=st(h),b=ct(h),z=lt(h);o.drawText("Recibe: ",{x:20,y:t,size:12,font:a.roboto_bold,color:e(0,0,0)}),t=t-13,o.drawText(h?.cid,{x:28,y:t,size:10,font:a.Lexend_700,color:e(0,0,0)}),t=t-13,o.drawText(y,{x:28,y:t,size:8,font:a.Lexend_700,color:e(0,0,0)}),t=t-13,o.drawText(b,{x:28,y:t,size:8,font:a.Lexend_700,color:e(0,0,0)}),t=t-13,o.drawText(z,{x:28,y:t,size:8,font:a.Lexend_700,color:e(0,0,0)})}if((r?.reservas||[])?.length>0){t=t-40,o.drawRectangle({x:15,y:t+1,width:560,height:.85,color:e(.53,.53,.53),borderColor:e(.53,.53,.53)}),t=t-18,o.drawText("Tipo de envio",{x:20,y:t,size:11,font:a.roboto_bold,color:e(0,0,0)});const l=s.widthOfTextAtSize("Lbs",10);o.drawText("Lbs",{x:320-l,y:t,size:10,font:a.roboto_bold,color:e(0,0,0)});const g=s.widthOfTextAtSize("Precio",10);o.drawText("Precio",{x:400-g,y:t,size:10,font:a.roboto_bold,color:e(0,0,0)});const y=s.widthOfTextAtSize("Aranceles",10);o.drawText("Aranceles",{x:480-y,y:t,size:10,font:a.roboto_bold,color:e(0,0,0)});const b=s.widthOfTextAtSize("Total",10);o.drawText("Total",{x:560-b,y:t,size:10,font:a.roboto_bold,color:e(0,0,0)}),t=t-8,o.drawRectangle({x:15,y:t+1,width:560,height:.95,color:e(.53,.53,.53),borderColor:e(.53,.53,.53)});let z=r?.reservas||[];Array.isArray(z)&&z.map((f,u)=>{const L=f?.type;t=t-16,L&&o.drawText(L+"",{x:20,y:t,size:d,font:i,color:e(0,0,0)});let D=_(f?.qty)?.toFixed(2);const rt=a.Lexend_700.widthOfTextAtSize(D+"",d);o.drawText(D+"",{x:320-rt,y:t,size:d,font:a.Lexend_700,color:e(0,0,0)});let Y=_(f?.price)?.toFixed(2);const at=a.Lexend_700.widthOfTextAtSize(Y+"",d);o.drawText(Y+"",{x:400-at,y:t,size:d,font:a.Lexend_700,color:e(0,0,0)});let H=_(f?.arancel)?.toFixed(2);const nt=a.Lexend_700.widthOfTextAtSize(H+"",d);o.drawText(H+"",{x:480-nt,y:t,size:d,font:a.Lexend_700,color:e(0,0,0)});let P=(_(f?.price)*_(f?.qty)+_(f?.arancel))?.toFixed(2);const it=a.Lexend_700.widthOfTextAtSize(P+"",d);o.drawText(P+"",{x:560-it,y:t,size:d,font:a.Lexend_700,color:e(0,0,0)})})}t=t-50,o.drawRectangle({x:15,y:t+1,width:560,height:.85,color:e(.53,.53,.53),borderColor:e(.53,.53,.53)}),t=t-18,o.drawText("Producto",{x:20,y:t,size:13,font:s,color:e(0,0,0)});const p=s.widthOfTextAtSize("Qty",12);o.drawText("Qty",{x:400-p,y:t,size:12,font:s,color:e(0,0,0)});const O=s.widthOfTextAtSize("Precio",12);o.drawText("Precio",{x:480-O,y:t,size:12,font:s,color:e(0,0,0)});const A=s.widthOfTextAtSize("Total",12);o.drawText("Total",{x:560-A,y:t,size:12,font:s,color:e(0,0,0)}),t=t-8,o.drawRectangle({x:15,y:t+1,width:560,height:.95,color:e(.53,.53,.53),borderColor:e(.53,.53,.53)});let w=r?.products||[];Array.isArray(w)&&w.map((l,g)=>{const y=l?.product?.label;t=t-16,y&&o.drawText(y+"",{x:20,y:t,size:d,font:i,color:e(0,0,0)});let b=l?.qty?(l?.qty*-1).toFixed(2):"0.00";const z=i.widthOfTextAtSize(b+"",d);o.drawText(b+"",{x:400-z,y:t,size:d,font:i,color:e(0,0,0)});let f=l?.qty?(l?.salePrice*1).toFixed(2):"0.00";const u=i.widthOfTextAtSize(f+"",d);o.drawText(f+"",{x:480-u,y:t,size:d,font:i,color:e(0,0,0)});let L=l?.qty?(l?.salePrice*l?.qty*-1).toFixed(2):"0.00";const D=i.widthOfTextAtSize(L+"",d);o.drawText(L+"",{x:560-D,y:t,size:d,font:i,color:e(0,0,0)})}),t=t-28,o.drawRectangle({x:15,y:t+1,width:560,height:.85,color:e(.53,.53,.53),borderColor:e(.53,.53,.53)});let U=500;t=t-20;let k=r?.amount?r?.amount?.toFixed(2):"0.00";const V=i.widthOfTextAtSize(k+"",d);o.drawText(k+"",{x:560-V,y:t,size:d,font:i,color:e(.13,.13,.13)});const X=i.widthOfTextAtSize("SubTotal",d);o.drawText("SubTotal",{x:U-X,y:t,size:d,font:i,color:e(0,0,0)}),t=t-16;let E=r?.hasTax?r?.hasTax?.toFixed(2):"0.00";const Z=i.widthOfTextAtSize(E+"",d);o.drawText(E+"",{x:560-Z,y:t,size:d,font:i,color:e(.13,.13,.13)});const tt=i.widthOfTextAtSize("Taxes",d);o.drawText("Taxes",{x:U-tt,y:t,size:d,font:i,color:e(0,0,0)});let M=r?.hasTax?r?.hasTax+r?.amount:r?.amount*1;t=t-16;let Q=M?M?.toFixed(2):"0.00";const et=c.widthOfTextAtSize(Q+"",11);o.drawText(Q+"",{x:560-et,y:t,size:11,font:c,color:e(0,0,0)});const ot=c.widthOfTextAtSize("Total",11);o.drawText("Total",{x:U-ot,y:t,size:11,font:c,color:e(0,0,0)});{const l=await n.save();return K(l)}},ut=async r=>{const n=await j.create();n.registerFontkit(J);var i=await n.embedFont(B.TimesRoman),s=await n.embedFont(B.TimesRomanBold);if(await n.embedFont(B.TimesRomanBold),T("modernFontReport")){let x=T("Roboto-Bold.ttf");const h=await fetch(x).then(w=>w.arrayBuffer());s=await n.embedFont(h);let W=T("ggSans-Italic.ttf");const p=await fetch(W).then(w=>w.arrayBuffer());i=await n.embedFont(p);let O=T("ggSans-Medium.ttf");const A=await fetch(O).then(w=>w.arrayBuffer());await n.embedFont(A)}let c=n.addPage();const{width:a,height:o}=c.getSize(),m=10;t=o-40;let R=o-30,d=T("storeGroupBy")?.[r?.store]?.label;c.drawText(d,{x:20,y:R,size:13,font:s,color:e(0,0,0)});let N=r?.createDate;const C=i.widthOfTextAtSize("Fecha: ",11),G=s.widthOfTextAtSize(v(N)+"",12);c.drawText("Fecha: ",{x:580-C-G,y:t,size:11,font:i,color:e(0,0,0)}),c.drawText(v(N)+"",{x:580-G,y:t,size:12,font:s,color:e(.06,.06,.06)}),t=t-20,t=t-20,c.drawRectangle({x:15,y:t+1,width:560,height:.85,color:e(.53,.53,.53),borderColor:e(.53,.53,.53)}),t=t-18,c.drawText("Producto",{x:20,y:t,size:13,font:s,color:e(0,0,0)});const $=s.widthOfTextAtSize("Existencia",12);c.drawText("Existencia",{x:480-$,y:t,size:12,font:s,color:e(0,0,0)});const I=s.widthOfTextAtSize("Qty",12);c.drawText("Qty",{x:560-I,y:t,size:12,font:s,color:e(0,0,0)}),t=t-8,c.drawRectangle({x:15,y:t+1,width:560,height:.95,color:e(.53,.53,.53),borderColor:e(.53,.53,.53)});let q=r?.products||[];Array.isArray(q)&&q.map((x,h)=>{const W=x?.product?.label;t=t-16,W&&c.drawText(W+"",{x:20,y:t,size:m,font:i,color:e(0,0,0)});let p=x?.stock?x?.stock*1:"0";const O=i.widthOfTextAtSize(p+"",m);c.drawText(p+"",{x:480-O,y:t,size:m,font:i,color:e(0,0,0)});let A=x?.qty?x?.qty*1:"0";const w=i.widthOfTextAtSize(A+"",m);c.drawText(A+"",{x:560-w,y:t,size:m,font:i,color:e(0,0,0)})});{const x=await n.save();return K(x)}};export{ut as I,zt as a};
