const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SVG-ZQnsUnAA.js","assets/index-iC7Xub7Q.js","assets/index-C8O1wSFC.css","assets/FlexSpace-DKe05THI.js","assets/LoadingColorSpinner-UahTmUFY.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DeliveryCamera-CLh5RRUc.js","assets/ButonHrm-Dlhp27V8.js","assets/ButonHrm-BSeWNUGQ.css","assets/html5-qrcode-scanner-Bh6iDlfX.js","assets/debounces-CuOg7ZI_.js","assets/ItemOnDeliveryList-BYMLxT5n.js","assets/DialogHRM-_jPyme3S.js","assets/DialogHRM-V9_lZntj.css","assets/LinkManifest-BrcT0kyE.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/fontkit.es-BaBbEI0u.js","assets/InitPrintServices-S_kwqzOf.js","assets/DashManifest-DqZkQNjc.js"])))=>i.map(i=>d[i]);
import{l as m,_ as p,e as M,p as D,q as R,i as d,d as a,f as N,h as O,t as S,n as C,c as T,a as I,V as G,u as H,k as W,j as B,S as A,y as j,O as L,F as U,W as K,s as Z,o as Y,B as J}from"./index-iC7Xub7Q.js";import{CloseModal as X,OpenModal as ee}from"./DialogHRM-_jPyme3S.js";import{H as te,a as re}from"./html5-qrcode-scanner-Bh6iDlfX.js";import{LookupManifets as se}from"./DashManifest-DqZkQNjc.js";import{updLinkedBags as ne}from"./LinkManifest-BrcT0kyE.js";import"./fontkit.es-BaBbEI0u.js";import"./App.module-CbHnVtRQ.js";import"./debounces-CuOg7ZI_.js";import"./InitPrintServices-S_kwqzOf.js";var oe=S('<div><div><div class="_dsplFlx bottombx lowbordr"><h5>Confirmar Entrega</h5><div class="icon_status centerBx"></div></div></div><div class=" flxWrp spaceAround centerBx"style="margin:30px 0"><div id=qr-reader style=width:220px>');const ie=m(()=>p(()=>import("./SVG-ZQnsUnAA.js"),__vite__mapDeps([0,1,2]))),ae=m(()=>p(()=>import("./FlexSpace-DKe05THI.js"),__vite__mapDeps([3,1,2])));let k;function le(e){D(()=>{k?.clear()}),R(()=>{setTimeout(()=>{l()},90)});const r=async n=>{let u="kZxxLCeHlz8l3gU8";(await se(u))?.[u]&&(await ne({ssg_manifest_key:u},{linkedUser:C?.profile?.userId}),e?.callback({ssg_manifest_key:u,linkedUser:C?.profile?.userId})),X(e?.modalId)},l=()=>{let n={fps:10,qrbox:{width:250,height:200},supportedScanTypes:[te.SCAN_TYPE_CAMERA],showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,verbose:!0};k=new re("qr-reader",n),k.render(r)};return(()=>{var n=oe(),u=n.firstChild,_=u.firstChild,b=_.firstChild,f=b.nextSibling;return n.style.setProperty("max-height","80vh"),n.style.setProperty("overflow","auto"),n.style.setProperty("background","#ffffff"),n.style.setProperty("border-radius","13"),n.style.setProperty("padding","10px 19px"),b.$$click=r,d(_,a(ae,{}),f),f.$$click=()=>{},d(f,a(ie,{name:"keyboard",size:32,color:"#2b2b2b"})),N($=>($=O()?"92vw":"420px")!=null?n.style.setProperty("width",$):n.style.removeProperty("width")),n})()}M(["click"]);var de=S("<h4>"),ce=S('<div><div class=" flxWrp spaceAround centerBx"><h2>Delivery Manifest</h2><div class="icon_status centerBx"></div></div><div style=padding:16px></div><div class=" flxWrp spaceAround centerBx"><div class=bottombx><h4></h4></div><h5></h5></div><div>'),ue=S("<div> <!>."),me=S("<div> ");const[Ee,Ce]=T(),pe=m(()=>p(()=>import("./LoadingColorSpinner-UahTmUFY.js"),__vite__mapDeps([4,1,2,5])));m(()=>p(()=>import("./DeliveryCamera-CLh5RRUc.js"),__vite__mapDeps([6,1,2,7,0,8,9,10,3])));const ge=m(()=>p(()=>import("./ItemOnDeliveryList-BYMLxT5n.js"),__vite__mapDeps([11,1,2,10,12,13,14,15,16,17,18,19]))),_e=m(()=>p(()=>import("./SVG-ZQnsUnAA.js"),__vite__mapDeps([0,1,2])));m(()=>p(()=>import("./FlexSpace-DKe05THI.js"),__vite__mapDeps([3,1,2])));const[Be,Ae]=I("");function Le(){I([]);const[e,r]=T({});G();const[l,n]=H(),[u,_]=I("");I(0),W(()=>{$()}),D(()=>{}),R(async()=>{console.log(l?.dId);let o=await fe({id:l?.dId});r("detail",o);let s={};o.linkedBagsInfo.map(t=>{let c=Q(t),h=t.cidentity;if(s[c]||(s[c]={city:t?.city,estate:t?.estate,currentStatus:t?.currentStatus,customers:{}}),!s[c].customers[h]){let v={name:he(t),phoneNumber:ve(t),cid:t.cidentity},y={...t,...v};y.bagsNumb=[],s[c].customers[h]=y}s[c].customers[h].bagsNumb.push(t?.bagnumber)}),r("linkedBagsInfo",s),_(B())});function b(){return"geolocation"in navigator}function f(o){J({latitude:o?.coords?.latitude,longitude:o?.coords?.longitude})}function $(){b()?navigator.geolocation.getCurrentPosition(f):showMessage("Geolocation isn't supported by your browser")}const V=o=>{console.log("refreshManif ",o)},q=o=>{let s=B(),t={};t.id=s,t.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},t.content=a(le,{get item(){return props?.item},modalId:s,callback:V}),ee(t)},Q=o=>{let s=o?.street.split(",");return s.slice(0,s.length-2).join(",")};return(()=>{var o=ce(),s=o.firstChild,t=s.firstChild,c=t.nextSibling,h=s.nextSibling,v=h.nextSibling,y=v.firstChild,z=y.firstChild,w=y.nextSibling,P=v.nextSibling;return c.$$click=q,d(c,a(_e,{name:"qr_code",size:32,color:"#2b2b2b"})),d(z,()=>e?.detail?.name),d(v,a(A,{get when(){return e?.detail?.city},get children(){return[(()=>{var i=de();return d(i,()=>e?.detail?.city),i})(),"|"]}}),w),d(w,()=>e?.detail?.province),d(P,a(K,{fallback:i=>(()=>{var x=ue(),F=x.firstChild,E=F.nextSibling;return E.nextSibling,d(x,()=>i.toString(),E),x})(),get children(){return a(j,{get fallback(){return(()=>{var i=me();return i.firstChild,d(i,a(pe,{stroke:"rgb(200 25 60 / 1)",size:62}),null),i})()},get children(){return a(A,{get when(){return L(e?.linkedBagsInfo)?.length>0},get children(){return a(U,{get each(){return L(e?.linkedBagsInfo)},children:(i,x)=>a(ge,{addressId:i,get item(){return e?.linkedBagsInfo?.[i]},get list(){return e?.linkedBagsInfo}})})}})}})}})),N(i=>Z(P,` ${O()?"":"width:94vw;"} margin: 0 auto`,i)),o})()}const fe=async e=>{let r={params:e,query:"getManifestOrderByKeyID"};const l=await Y(r);return console.log(r),console.log(l),l},g=e=>e?" "+e:"",he=e=>{let r=e?.consigneeInfo;return g(r?.firstName)+g(r?.middleName)+g(r?.lastName)+g(r?.lastName2)},ve=e=>{let r=e?.consigneeInfo,l=g(r?.altPhoneNumber);return g(r?.phoneNumber)+(l?" |"+l:"")};M(["click"]);export{Le as default,Ee as scannedQRs,Ce as setScannedQRs,Ae as setStatus,Be as status};
