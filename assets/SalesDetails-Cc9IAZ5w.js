const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-DuJer0N3.js","assets/index-bXmVPeVA.js","assets/index-DI_XrWgU.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-C5IQ2OtU.js","assets/debounces-BvjZhcCh.js","assets/SVG-ORVzkzuM.js","assets/DropDwnSearch-DMkLkRPc.css","assets/CheckBoxSlide-QDmL4g6y.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/FlexSpace-DjQqp7LA.js","assets/ButonHrm-Di0lypS6.js","assets/ButonHrm-BSeWNUGQ.css","assets/UpdInventory-DNazhI0t.js","assets/DialogHRM-DPN6a0LZ.js","assets/DialogHRM-V9_lZntj.css","assets/DashProducts-C12mHtD1.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InputHr-D6X_8jTI.js","assets/InputHr-BXFw4d2l.css"])))=>i.map(i=>d[i]);
import{l as D,_ as Q,c as U,G as ye,a as M,o as Ce,b as xe,d as K,i as t,e as s,S as w,F as z,aH as oe,f as V,aI as we,J as Se,k as ue,m as N,z as se,g as Oe,x as fe,n as F,p as T,U as ke,D as Ie,r as Pe,t as C,aJ as qe,w as ie,al as ae,v as ce,aK as de,O as te,ax as je}from"./index-bXmVPeVA.js";import{u as Be}from"./debounces-BvjZhcCh.js";import{OpenModal as Ee}from"./DialogHRM-DPN6a0LZ.js";import{g as me,a as be}from"./handelImagesServices-xO0Karjh.js";import{LookupInventory as he}from"./DashInventoryMov-CI-MYGUQ.js";import{LookupProducts as le}from"./DashProducts-C12mHtD1.js";import{a as Ae}from"./print_invoice_service-DpL_I4zd.js";import{OpenToast as pe}from"./Toast-sR6JkR9x.js";import"./browser-image-compression-BVJ4p9S0.js";import"./AddInventory-BCGaUsU6.js";import"./FlexSpace-DjQqp7LA.js";import"./App.module-CbHnVtRQ.js";import"./fontkit.es-BdliJL3G.js";import"./InitPrintServices-DXz-Xkpb.js";import"./qrcode-DHy8FFhS.js";var Ne=C('<div style="padding:50px 0"><section class=qsuVSc><section class=bLl6je><section class=dvPdhb>'),ge=C('<div style=margin:15px class=" spaceAround centerBx">'),Te=C('<section class=KgyCAd><section class=WirBi><div class=EMijzc><p class=jhB0af>Agregar reserva</p><section class="Jm2qx centerBx flxWrp spaceAround "><span class=label aria-hidden=true>Mercancia:</span><select class=RIw0b aria-label=merchandise></select><div class="centerBx bottombx "><h5 class="">Solo Arancel</h5></div></section><div style=margin:15px class=" spaceAround centerBx"><div style=margin:7px></div><div style=margin:7px>'),Ue=C('<section class=qsuVSc><section class=bLl6je><section class=dvPdhb></section></section><section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b">'),Fe=C("<option> "),De=C('<div class="centerBx spaceAround"><div class="centerBx bottombx "><h5 class="">Taxes'),Qe=C('<p class=B7xUP><span data-test-integ-cart-subtotal-label="">Taxes Estimado</span><span data-test-integ-cart-subtotal-value="">$'),Me=C('<section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b"><div class=kDdWge><div class=QCNFEe><p class=jhB0af>Sumario de la Orden</p></div><div class=qntUl><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Subtotal</span><span data-test-integ-cart-subtotal-value="">$</span></p><p class=B7xUP><span data-test-integ-cart-subtotal-label=""class=OGw7rb>Total Estimado</span><span data-test-integ-cart-subtotal-value=""class=OGw7rb> $</span></p></div></div><div class=oPYFfd><section class=BQHvme><section class=wo08ff><span class=PwY8l2>Fecha:</span><span class=PwY8l33> </span></section><section class=wo08ff><span class=PwY8l2>Invoice:</span><span class=PwY8l33></span></section><section class=wo08ff><span class=PwY8l2>Almacen:</span><span class=PwY8l33> </span></section></section></div><section class="JM2zDb RW86"><div class="centerBx bottombx flxWrp spaceAround">'),Ve=C('<select class=RIw0b aria-label="Product Quantity">'),_e=C("<section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Remove"),Le=C('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span></section><p class=GehUpe data-test-line-item-price="">'),Je=C("<option selected>"),Re=C("<option>"),Ye=C("<span class=arancelSep> | "),Ge=C('<span class="arancel pricePq"> $'),He=C('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price=""class=pricePq>$</span>'),We=C('<div class=option-header style=padding:17px;margin:5px><span class=option-icon> </span><div class=" centerBx"><span class="option-name ">Env√≠o <!> '),ze=C("<div class=separator>"),Ke=C('<div class="icon_status centerBx "style="margin:0 4px">'),Xe=C('<div style=padding:8px><div class=" centerBx"><p class=jhB0af>Envia</p></div><div class="bottombx flxWrp spaceAround centerBx"><h4 class=centerBx></h4><h4 class="centerBx phonesNum"></h4></div><div class=separator></div><div class=centerBx><p class=jhB0af>Recibe</p><div class="icon_status centerBx "style="margin:0 4px"></div></div><div class="bottombx spaceAround "><h5></h5><h4></h4><h4 class=" textleft phonesNum"></h4></div><div class="bottombx flxWrp spaceAround centerBx"><p class="textleft "></p><h4></h4></div><div class="bottombx flxWrp spaceAround centerBx"><h5 class="textleft "></h5><h4>'),Ze=C('<section class="h6rxkc ">'),et=C('<section class=KgyCAd><section class=WirBi><section class=""><div class=QCNFEe><p class=jhB0af>Agregar mercancias</p></div><section class="EMijzc centerBx"><div class="icon_status centerBx "style="margin:0 4px"></div><div class="icon_status centerBx "style="margin:0 4px">'),tt=C('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),lt=C('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),rt=C('<div class="centerBx flxWrp">'),it=C('<div><div class=QCNFEe><p class=jhB0af>Enviar a Solve D Cargo</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Esta seguro de querer enviar a Solve D Cargo tenga en cuenta que puede duplicar la informacion</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">'),st=C('<div class="centerBx flxWrp "><div class="bottombx centerBx unit"><h5>$'),nt=C("<div class=unitBx><h5>");D(()=>Q(()=>import("./LoadingColorSpinner-DuJer0N3.js"),__vite__mapDeps([0,1,2,3])));D(()=>Q(()=>import("./DropDwnSearch-C5IQ2OtU.js"),__vite__mapDeps([4,1,2,5,6,7])));const $e=D(()=>Q(()=>import("./CheckBoxSlide-QDmL4g6y.js"),__vite__mapDeps([8,1,2,9]))),ne=D(()=>Q(()=>import("./FlexSpace-DjQqp7LA.js"),__vite__mapDeps([10,1,2]))),R=D(()=>Q(()=>import("./ButonHrm-Di0lypS6.js"),__vite__mapDeps([11,1,2,6,12])));D(()=>Q(()=>import("./UpdInventory-DNazhI0t.js"),__vite__mapDeps([13,1,2,14,15,5,16,17,18,10])));const Y=D(()=>Q(()=>import("./InputHr-D6X_8jTI.js"),__vite__mapDeps([19,1,2,20]))),re=D(()=>Q(()=>import("./SVG-ORVzkzuM.js"),__vite__mapDeps([6,1,2]))),[y,j]=U({manifestObj:{}});let at=864e5,ct=Array.from(Array(50).keys());function Nt(){const[e,a]=ye();U(),U(),U();const[c,h]=M("");Be(h,400),Ce(()=>{}),xe(()=>{});const _=async()=>{if(e?.mId){let d={":search0":e?.mId,businessId:N?.profile?.businessYId},n=await ve(d);j("manifestObj",n[e?.mId])}};return K(async()=>{j("manifestObj",void 0),_(),qe()}),(()=>{var d=Ne(),n=d.firstChild,i=n.firstChild,m=i.firstChild;return t(d,s(w,{get when(){return y?.manifestObj?.packagesOrder},get children(){return s(ot,{})}}),n),t(m,s(w,{get when(){return y?.manifestObj?.products},get children(){return s(z,{get each(){return y?.manifestObj?.products},children:(p,u)=>s(ut,{itm:p})})}})),t(n,s(w,{get when(){return y?.manifestObj?.packagesOrder&&!y?.manifestObj?.isCompleted},get children(){return s(ht,{})}}),null),t(n,s(dt,{get item(){return y?.manifestObj},get list(){return y?.manifestObj}}),null),d})()}const ot=e=>{const a={type:"",qty:0,arancel:0,price:0},[c,h]=U({frm:{...a}}),_=(i,m)=>{h("frm",i,m)},d=i=>{let m={...c?.frm};m.key=je();let p=y?.manifestObj?.reservas||[],u=ie(p);u.push(m),console.log(m),j("manifestObj","reservas",u),h("frm",{...a})},n=i=>{_("type",i),oe?.list.filter(p=>p.id===i)?.[0]?.isA?_("onlyTariff",!0):_("onlyTariff",!1)};return(()=>{var i=Ue(),m=i.firstChild,p=m.firstChild,u=m.nextSibling,g=u.firstChild,f=g.firstChild;return t(p,s(w,{get when(){return y?.manifestObj?.reservas},get children(){return s(z,{get each(){return y?.manifestObj?.reservas},children:(b,l)=>s(ft,{itm:b})})}})),t(i,s(w,{get when(){return!y?.manifestObj?.isCompleted},get children(){var b=Te(),l=b.firstChild,r=l.firstChild,o=r.firstChild,$=o.nextSibling,x=$.firstChild,v=x.nextSibling,k=v.nextSibling,I=k.firstChild,O=$.nextSibling,S=O.firstChild,L=S.nextSibling;return v.addEventListener("change",P=>{n(P?.target?.value)}),t(v,s(z,{get each(){return oe?.list},children:(P,X)=>(()=>{var B=Fe();return B.firstChild,t(B,()=>P.label,null),V(()=>B.selected=P.id===c?.frm?.type),V(()=>B.value=P.id),B})()})),t(k,s($e,{get initValue(){return c?.frm?.onlyTariff},updChange:P=>_("onlyTariff",P),color:"var(--background-red-ssg)"}),I),t(O,s(w,{get when(){return!c?.frm?.onlyTariff&&c?.frm?.type},get children(){return s(Y,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return c?.frm?.qty||""},label:"cantidad (lbs)",colors:"#2b2b2b",type:"number",handleClick:P=>_("qty",we(P))})}}),S),t(O,s(w,{get when(){return c?.frm?.qty&&c?.frm?.type},get children(){return s(Y,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.price||""},label:"precio",colors:"#2b2b2b",handleClick:P=>_("price",P)})}}),L),t(O,s(w,{get when(){return c?.frm?.type},get children(){return s(Y,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.arancel||""},label:"Arancel",colors:"#2b2b2b",handleClick:P=>_("arancel",P)})}}),null),t(r,s(w,{get when(){return(c?.frm?.price&&c?.frm?.qty||c?.frm?.onlyTariff&&c?.frm?.arancel)&&c?.frm?.type},get children(){var P=ge();return t(P,s(R,{color:"#646cff",label:"Agregar",handleClick:d})),P}}),null),b}}),u),t(f,s(mt,{get item(){return y?.manifestObj?.shipper_consignee}})),i})()},dt=e=>{const a=d=>{let n=0;return e?.item?.products?.map(i=>{n+=W(i?.qty)*W(i?.salePrice)*-1}),e?.item?.reservas?.map(i=>{n+=W(i?.qty)*W(i?.price)+W(i?.arancel)}),n},c=async d=>{let n={...e?.item};n.amount=a();let i=await Ae(n);window.open(i)},h=async()=>{let d={...e?.item},n={params:{businessId:N?.profile?.businessYId,id:d.ssg_sorder_key},form:{isCompleted:!1}},i=F(431007);n={...n,...i},await T(n)},_=async d=>{let n=ie(e?.item);n.isCompleted=!0,n.dayNum=n?.createDate/at;let i={params:{businessId:N?.profile?.businessYId,id:n.ssg_sorder_key},form:n},m=F(431007);if(i={...i,...m},await T(i),n?.products?.length>0){let g={params:{businessId:N?.profile?.businessYId},form:n},f=F(139003);g={...g,...f},await T(g)}let p={":search0":n.ssg_sorder_key,businessId:N?.profile?.businessYId},u=await ve(p);j("manifestObj",u[n.ssg_sorder_key])};return(()=>{var d=Me(),n=d.firstChild,i=n.firstChild,m=i.firstChild,p=m.firstChild,u=p.nextSibling,g=u.firstChild,f=g.firstChild,b=f.nextSibling;b.firstChild;var l=g.nextSibling,r=l.firstChild,o=r.nextSibling;o.firstChild;var $=m.nextSibling,x=$.firstChild,v=x.firstChild,k=v.firstChild,I=k.nextSibling;I.firstChild;var O=v.nextSibling,S=O.firstChild,L=S.nextSibling,P=O.nextSibling,X=P.firstChild,B=X.nextSibling;B.firstChild;var Z=$.nextSibling,G=Z.firstChild;return t(m,s(w,{get when(){return!y?.manifestObj?.isCompleted},get children(){return[(()=>{var E=De(),A=E.firstChild,J=A.firstChild;return t(A,s($e,{get initValue(){return y?.manifestObj?.hasTax},updChange:H=>j("manifestObj","hasTax",H),color:"var(--background-red-ssg)"}),J),E})(),(()=>{var E=ge();return t(E,s(w,{get when(){return y?.manifestObj?.hasTax},get children(){return s(Y,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return y?.manifestObj?.TaxPercent||""},label:"Porciento de Impuestos",colors:"#2b2b2b",type:"number",handleClick:A=>j("manifestObj","TaxPercent",A)})}})),E})()]}}),u),t(b,()=>a().toFixed(2),null),t(u,s(w,{get when(){return y?.manifestObj?.hasTax&&y?.manifestObj?.TaxPercent},get children(){var E=Qe(),A=E.firstChild,J=A.nextSibling;return J.firstChild,t(J,()=>(a()*(y?.manifestObj?.TaxPercent/100)).toFixed(2),null),E}}),l),t(o,()=>(a()*((y?.manifestObj?.TaxPercent?y?.manifestObj?.TaxPercent:0)/100)+a()).toFixed(2),null),t(I,()=>Se(e?.item?.createDate),null),t(L,()=>e?.item?.invoice),t(B,()=>ue("storeGroupBy")?.[e?.item?.store]?.label,null),t(G,s(R,{color:"#646cff",label:"Imprimir",handleClick:c}),null),t(G,s(w,{get when(){return!e?.item?.isCompleted},get children(){return s(R,{color:"#646cff",label:"Confirmar",handleClick:_})}}),null),t(G,s(w,{get when(){return e?.item?.isCompleted&&N?.profile?.isAdmin},get children(){return s(R,{color:"#646cff",label:"arrow",handleClick:h})}}),null),d})()},ut=e=>{const[a,c]=U(),h=()=>a?.[e?.itm?.product?.id]?.productImageUrl?me()+be()+"/"+a?.[e?.itm?.product?.id]?.productImageUrl:null,_=async()=>{let i=e?.itm?.product?.id,m=`${i}`,p=await le(m);p?.[i]?.productImageUrl&&c(i,p?.[i])};K(()=>{_()});const d=()=>{let i=ie(y?.manifestObj?.products);j("manifestObj","products",i.filter(m=>m.product.id!==e?.itm?.product.id))},n=(i,m)=>{let p={};y?.manifestObj?.products?.map(g=>{let f={...g};e?.itm?.product.id===g.product.id&&(f[i]=m*1),p[g.product.id]=f});let u=ae(p);j("manifestObj","products",u)};return s(w,{get when(){return e?.itm?.product?.id},get children(){var i=Le(),m=i.firstChild,p=m.firstChild,u=p.firstChild,g=u.firstChild,f=g.firstChild,b=g.nextSibling,l=b.firstChild,r=l.firstChild,o=r.firstChild;o.firstChild;var $=l.nextSibling,x=$.firstChild;x.firstChild;var v=x.nextSibling;return t(o,()=>e?.itm?.product?.label,null),t(x,s(w,{get when(){return!y?.manifestObj?.isCompleted},get fallback(){return Math.abs(e?.itm?.qty)},get children(){var k=Ve();return k.addEventListener("change",I=>{console.log(I?.target?.value),n("qty",I?.target?.value*-1)}),t(k,s(z,{each:ct,children:(I,O)=>s(w,{get when(){return I*1+1===Math.abs(e?.itm?.qty)},get fallback(){return(()=>{var S=Re();return S.value=I*1+1+"",t(S,I*1+1),S})()},get children(){var S=Je();return S.value=I*1+1+"",t(S,I*1+1),S}})})),V(()=>se(k,"aria-value",Math.abs(e?.itm?.qty))),k}}),null),t(v,s($t,{value:"",get label(){return`${(e?.itm?.salePrice*1).toFixed(2)}`},key:"salePrice",updItem:n,width:"600px"})),t($,s(w,{get when(){return!y?.manifestObj?.isCompleted},get children(){var k=_e(),I=k.firstChild,O=I.firstChild;return O.$$click=d,k}}),null),V(()=>se(f,"src",h())),i}})},ft=e=>{const[a,c]=U(),h=async()=>{let d=e?.itm?.product?.id,n=`${d}`,i=await le(n);i?.[d]?.productImageUrl&&c(d,i?.[d])};K(()=>{h()});const _=()=>{let n=ie(y?.manifestObj?.reservas).filter(i=>i.key!==e?.itm?.key);j("manifestObj","reservas",n)};return(()=>{var d=He(),n=d.firstChild,i=n.firstChild,m=i.firstChild,p=m.firstChild,u=p.firstChild,g=u.firstChild,f=g.firstChild;f.firstChild;var b=u.nextSibling,l=b.firstChild,r=l.firstChild,o=r.nextSibling,$=l.nextSibling,x=$.firstChild;return x.firstChild,t(f,()=>e?.itm?.type,null),t(o,()=>e?.itm?.qty*1),t(x,()=>(e?.itm?.price*1).toFixed(2),null),t($,s(w,{get when(){return e?.itm?.arancel},get children(){return[Ye(),(()=>{var v=Ge();return v.firstChild,t(v,()=>(e?.itm?.arancel*1).toFixed(2),null),v})()]}}),null),t(b,s(w,{get when(){return!y?.manifestObj?.isCompleted},get children(){var v=_e(),k=v.firstChild,I=k.firstChild;return I.$$click=_,v}}),null),d})()},mt=e=>{const[a,c]=M(),[h,_]=M(!0),d=l=>l?" "+l:"",n=l=>d(l?.firstName)+d(l?.middleName)+d(l?.lastName)+d(l?.lastName2),i=l=>{let r=d(l?.altPhoneNumber);return d(l?.phoneNumber)+(r?" |"+r:"")},m=async()=>{let l={};l.id=ce(),l.closeEvent=()=>{},l.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},l.content=s(_t,{confirm:p}),Ee(l)},p=async()=>{let l=N?.profile?.agency?.id;if(l&&e?.item?.citiId&&e?.item?.provinceId){let r=e?.item,o=`;${q(r?.firstName)};${q(r?.middleName)};${q(r?.lastName)};${q(r?.lastName2)};N/A;${q(r?.cid)};CUB;${q(r?.phoneNumber)};${q(r?.altPhoneNumber)};${q(r?.ybstreet)};${q(r?.ybstreetNo)};${q(r?.ybbetwen1)};${q(r?.ybbetwen2)};${q(r?.ybreparto)};;${r?.citiId};${r?.provinceId};${q(r?.email)};;${l}`;u("consignee",o)}},u=async(l,r,o)=>{let $=`funcname=insertRecord&option=${l}&params=${r}`,x={query:"querySolveGlobal"};x.params={query:$},await T(x)},g=async()=>{let l={params:{id:e?.item?.name,key:"shipper"}},r=F(181009);l={...l,...r};const o=await T(l);let $=de(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],o,e?.item);console.log($),o.cid===e?.item?.cid&&console.log()},f=async()=>{let l={params:{id:e?.item?.cid,key:"consignee"}},r=F(181009);l={...l,...r};const o=await T(l);return console.log(o),de(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],o,e?.item).hasChange&&o.cid===e?.item?.cid?e?.item:o},b=async(l,r)=>{let o=await f();console.log(o)};return K(()=>{if(e?.item?.ybestate){let l=ue("M023009")?.provincias?.filter?.(r=>r.label===e?.item?.ybestate)?.[0];if(l?.id&&c(l),e?.item?.ybcity){let r=l?.cities?.filter?.(o=>o.label===e?.item?.ybcity)?.[0];r?.id&&j("manifestObj","shipper_consignee","citiId",r?.id)}}b()}),console.log(e?.item),s(w,{get when(){return e?.item?.name},get children(){return[s(w,{get when(){return e?.item?.shipping},get children(){return[(()=>{var l=We(),r=l.firstChild;r.firstChild;var o=r.nextSibling,$=o.firstChild,x=$.firstChild,v=x.nextSibling;return v.nextSibling,t(r,()=>e?.item?.shipping==="AEREO"?"‚úàÔ∏è":"üö¢",null),t($,()=>e?.item?.shipping==="AEREO"?"a√©reo":"mar√≠timo",v),l})(),ze()]}}),(()=>{var l=Xe(),r=l.firstChild;r.firstChild;var o=r.nextSibling,$=o.firstChild,x=$.nextSibling,v=o.nextSibling,k=v.nextSibling,I=k.firstChild,O=I.nextSibling,S=k.nextSibling,L=S.firstChild,P=L.nextSibling,X=P.nextSibling,B=S.nextSibling,Z=B.firstChild,G=Z.nextSibling,E=B.nextSibling,A=E.firstChild,J=A.nextSibling;return t(r,s(ne,{}),null),t($,()=>e?.item?.name),x.$$click=g,t(x,()=>e?.item?.phoneNumberS),t(k,s(ne,{}),O),O.$$click=f,t(O,s(re,{name:"success",size:22,get color(){return h()?"#37be5fff":"#c6c6c6"}})),t(k,s(w,{get when(){return!h()},get children(){var H=Ke();return H.$$click=m,t(H,s(re,{name:"send",size:22,color:"#646cff"})),H}}),null),t(L,()=>e?.item?.cid),t(P,()=>n(e?.item)),t(X,()=>i(e?.item)),t(Z,()=>gt(e?.item)),t(G,()=>e?.item?.ybreparto),t(A,()=>e?.item?.ybcity),t(J,()=>e?.item?.ybestate),V(()=>Oe(l,`    ${fe()?"isMobile":""}`)),l})()]}})},Tt=async(e,a)=>{let c={params:e,data2update:a},h=F(431007);return c={...c,...h},await T(c)},ve=async e=>{let a={params:e},c=F(431002);return a={...a,...c},await T(a)},Ut=async e=>{let a=[];e.map(c=>{let h={params:{id:c?.ssg_track_key,idairguide:"all"}},_=F(802002);h={...h,..._},a.push(h)}),ke(a,bt)},bt=async e=>{const c=await T(e);if(c)return c},ht=e=>{const[a,c]=M(""),[h,_]=M(2),d=()=>{h()===1&&a().length>5&&n(a())},n=async u=>{N?.profile?.agencyStore?.id;let g=`${u}`,f=await le(g),b=te(f)?.[0],l=`${b} `,r=await he(l),o=0,$=0;te(r)?.map(O=>{r[O]?.products?.map(S=>{b===S?.product?.id&&(o+=S?.price*1*S?.qty*1,$+=S?.qty*1)})});let x=1,v={};y?.manifestObj?.products?.map(O=>{let S={...O};b===O.product.id&&(S.qty=S.qty*-1),v[O.product.id]=S}),v?.[b]&&(x=v?.[b].qty*1+1);const k=$?o/$:0;if(v?.[b])v[b].qty=x*-1;else{let O={product:{id:b,label:f?.[b]?.name,code:f?.[b]?.code},qty:x*-1,price:k,salePrice:f?.[b]?.salePrice};v[b]=O}let I=ae(v);j("manifestObj","products",I),c(""),pe({text:f?.[b]?.name+" agregado al carrito",timeout:3500,theme:"blue",id:ce()})},[i,{refetch:m}]=Ie(a,async u=>{if(h()===2&&u.length>3){const g=await le(u);let f=[];return te(g).map(b=>{let l=g[b];f.push(l)}),f}else return[]}),p=()=>{c(""),_(2)};return(()=>{var u=et(),g=u.firstChild,f=g.firstChild,b=f.firstChild,l=b.nextSibling,r=l.firstChild,o=r.nextSibling;return t(f,s(w,{get when(){return i()?.length>0},get children(){var $=Ze();return t($,s(z,{get each(){return i()},children:(x,v)=>s(pt,{itm:x,clearTx:p})})),$}}),l),t(l,s(Y,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return a()},placeholder:"buscar productos ...",colors:"#2b2b2b",handleClick:c,onEnter:d}),r),r.$$click=()=>_(1),t(r,s(re,{name:"qrcode-scan",size:22,get color(){return h()===1?"#646cff":""}})),o.$$click=()=>_(2),t(o,s(re,{name:"keyboard",size:22,get color(){return h()===2?"#646cff":""}})),u})()},pt=e=>{const[a,c]=U(),h=()=>a?.prod?.productImageUrl?me()+be()+"/"+a?.prod?.productImageUrl:null;K(()=>{c("prod",e?.itm)});const _=async d=>{N?.profile?.agencyStore?.id;let n=a?.prod?.ssg_product_key,i=`${n}`,m=await he(i),p=0,u=0;te(m)?.map(r=>{m[r]?.products?.map(o=>{n===o?.product?.id&&(p+=o?.price*1*o?.qty*1,u+=o?.qty*1)})});let g=1,f={};y?.manifestObj?.products?.map(r=>{let o={...r};n===r.product.id&&(o.qty=o.qty*-1),f[r.product.id]=o}),f?.[n]&&(g=f?.[n].qty*1+(d||1));const b=u?p/u:0;if(f?.[n])f[n].qty=g*-1;else{let r={product:{id:n,label:a?.prod?.name,code:a?.prod?.code},qty:g*-1,price:b,salePrice:a?.prod?.salePrice};f[n]=r}let l=ae(f);j("manifestObj","products",l),e?.clearTx(),pe({text:a?.prod?.name+" agregado al carrito",timeout:3500,theme:"blue",id:ce()})};return s(w,{get when(){return e?.itm?.name},get children(){var d=tt(),n=d.firstChild,i=n.firstChild,m=i.firstChild,p=m.firstChild,u=p.firstChild,g=p.nextSibling,f=g.firstChild,b=f.firstChild,l=b.firstChild;l.firstChild;var r=f.nextSibling,o=r.firstChild,$=o.nextSibling,x=$.firstChild;return x.firstChild,t(l,()=>e?.itm?.name,null),t(o,s(R,{color:"#646cff",label:"Agregar",handleClick:_})),t(x,()=>(e?.itm?.salePrice*1).toFixed(2),null),V(()=>se(u,"src",h())),d}})},ee=(e,a)=>a?(()=>{var c=lt(),h=c.firstChild,_=h.nextSibling;return t(h," "+e),t(_,a),c})():"",gt=e=>(()=>{var a=rt();return t(a,()=>ee("Calle",e?.ybstreet),null),t(a,()=>ee("#",e?.ybstreetNo),null),t(a,()=>ee("E/",e?.ybbetwen1),null),t(a,()=>ee("y",e?.ybbetwen2),null),a})(),W=e=>e?e*1:0,q=e=>e?e.toString().toUpperCase().trim():"";function _t(e){return(()=>{var a=it(),c=a.firstChild,h=c.nextSibling,_=h.nextSibling,d=_.nextSibling;return a.style.setProperty("max-height","80vh"),a.style.setProperty("overflow","auto"),a.style.setProperty("background","#fff"),a.style.setProperty("border-radius","11px"),a.style.setProperty("padding"," 0 21px"),c.style.setProperty("padding","21px"),t(d,s(ne,{}),null),t(d,s(R,{color:"#646cff",icon:"send",label:"Enviar",get handleClick(){return e.confirm}}),null),V(n=>(n=fe()?"96vw":"420px")!=null?a.style.setProperty("width",n):a.style.removeProperty("width")),a})()}const $t=e=>{const[a,c]=M(!1),[h,_]=M(""),d=()=>{e?.updItem(e?.key,h()),c(!1)},n=()=>{let i=a();i||_(e?.value),c(!i)};return(()=>{var i=st(),m=i.firstChild,p=m.firstChild;return p.firstChild,p.$$click=n,t(p,()=>e?.label,null),t(m,s(w,{get when(){return a()},get fallback(){return s(w,{get when(){return e?.value},get children(){var u=nt(),g=u.firstChild;return t(g,()=>e?.value),u}})},get children(){return s(Y,{width:"110px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return h()||""},get placeholder(){return e?.label},colors:"#2b2b2b",handleClick:u=>_(u),onEnter:d})}}),null),i})()};Pe(["click"]);export{$t as EditInput,Nt as default,bt as fetchCSVInve,gt as getAddress,W as isValNum,Ut as loadInventory,Tt as updConfirmSale};
