const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-UM33Ry_3.js","assets/index-CFRZN5XL.js","assets/index-DGHHyjai.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-BJUTcR2k.js","assets/InputHr-M3rJ9grQ.css","assets/SVG-ElbxxYxP.js","assets/index-Ci0zXM0r.js","assets/DropDwnSearch-Cj3s84nE.js","assets/debounces-DgPXIDtm.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ContainerElasticView-C1mmdxHY.js","assets/ContainerElasticView-LzOd6fDI.css","assets/ButonHrm-Cespk9s-.js","assets/Util-CHzs30Zz.js","assets/ButonHrm-BSeWNUGQ.css","assets/CheckBoxSlide-g9z8O9BX.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/ItemOnEnvios-DtmGx3ow.js","assets/DialogHRM-BPXB8Bcy.js","assets/DialogHRM-V9_lZntj.css","assets/globalSignal-5YhK7z7Y.js","assets/ShowQRPrintLabel-BgRC2dNy.js","assets/fontkit.es-DEjOtITv.js","assets/qrcode-C5vWJp7P.js","assets/InitPrintServices-CUYOHVUf.js","assets/Toast-CS8BryME.js","assets/Toast-DLpFKn-Q.css","assets/ShowPdfResume-DxmLVYrI.js"])))=>i.map(i=>d[i]);
import{l as A,_ as D,c as ne,a as M,o as Le,h as Ne,b as Re,i as r,d as t,f as q,e as je,t as _,k as le,S as h,j as Te,E as ce,q as Z,F as K,g as ee,s as qe,r as te}from"./index-CFRZN5XL.js";import{b as Q,d as Qe,f as re,a as O,O as T,g as G,e as We,s as Ye}from"./Util-CHzs30Zz.js";import{u as He}from"./debounces-DgPXIDtm.js";import{i as H}from"./globalSignal-5YhK7z7Y.js";import{g as ue,l as Xe}from"./ShowQRPrintLabel-BgRC2dNy.js";import"./Toast-CS8BryME.js";import{OpenModal as Ue}from"./DialogHRM-BPXB8Bcy.js";import"./index-Ci0zXM0r.js";import"./fontkit.es-DEjOtITv.js";import"./qrcode-C5vWJp7P.js";import"./InitPrintServices-CUYOHVUf.js";var Je=_("<div style=padding:4px>"),J=_('<div class="icon_status centerBx">'),Ke=_('<div class="centerBx bottombx"style=margin-top:10px;><h5>Duplicados'),Ze=_('<div><div class="centerBx bottombx "><h5 class="">Manifiesto Incorrecto'),et=_('<div><div class="_dsplFlx flxWrp spaceAround ">'),tt=_('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround "><div class="icon_status centerBx"></div><div class="icon_status centerBx">'),rt=_('<div><div class="centerBx100 centerBx"><div class=plans></div></div><div class="icon_status centerBx">'),nt=_('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2><div class="centerBx bottombx"style=margin-top:10px;><h4></h4></div><div class="centerBx bottombx "><h5 class="">Mostrar Envios</h5></div></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div>'),de=_("<div> <!>."),ge=_("<div> "),lt=_("<div class=centerBx><h5 style=margin-left:12px>generando excel"),me=_("<div class=centerBx><h5 style=margin-left:12px>generando etiquetas"),st=_("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),he=_("<h5 class=totalBagsNo> <!> / "),fe=_('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),_e=_("<div class=leftMrg> "),it=_("<div class=bottombx><h4>"),at=_('<div class="_dsplFlx bottombx lowbordr"><div class=" bottombx spaceAround centerBx"><h5> :</h5><h4>'),ot=_("<div style=padding:16px;margin-left:20px;>"),ct=_("<div>"),ut=_('<div class="bottombx left centerBx"style=text-align:left;><h4></h4><h5>');const V=A(()=>D(()=>import("./LoadingColorSpinner-UM33Ry_3.js"),__vite__mapDeps([0,1,2,3]))),dt=A(()=>D(()=>import("./InputHr-BJUTcR2k.js"),__vite__mapDeps([4,1,2,5]))),P=A(()=>D(()=>import("./SVG-ElbxxYxP.js"),__vite__mapDeps([6,1,2,7]))),gt=A(()=>D(()=>import("./DropDwnSearch-Cj3s84nE.js"),__vite__mapDeps([8,1,2,9,6,7,10]))),mt=A(()=>D(()=>import("./ContainerElasticView-C1mmdxHY.js"),__vite__mapDeps([11,1,2,6,7,12]))),ht=A(()=>D(()=>import("./ButonHrm-Cespk9s-.js"),__vite__mapDeps([13,1,2,6,7,14,15]))),se=A(()=>D(()=>import("./CheckBoxSlide-g9z8O9BX.js"),__vite__mapDeps([16,1,2,17]))),ft=A(()=>D(()=>import("./ItemOnEnvios-DtmGx3ow.js"),__vite__mapDeps([18,1,2,14,7,19,20,11,6,12,21,22,23,24,25,26,27]))),_t=A(()=>D(()=>import("./ShowPdfResume-DxmLVYrI.js"),__vite__mapDeps([28,1,2,21,22,23,7,24,25,14,26,27])));function Lt(){const[e,i]=ne({list:{manifest:{id:"",label:""},search:"",status:""}}),[n,a]=ne({}),[m,o]=ne({}),[k,x]=M(""),[d,W]=M(!1),[X,E]=M(64),[B,L]=M(!1),[N,U]=M(!1),[ve,be]=M(""),z=He(x,500),[$e,St]=M(!1),[pe,ie]=M(!1),[ye,ae]=M(!1),Y=(c,l)=>{i("list",{[c]:l}),z(G())},ke=()=>{L(!B()),z(G())},xe=()=>{W(!d()),z(G())},Ce=()=>{U(!N()),z(G())};Le(()=>{}),Ne(()=>{});const we=()=>{E(c=>c+64)},Se=c=>{let l=Math.ceil(c?.length/64);Ye(we,1250,l)},[F,{refetch:It}]=Re(k,async c=>{a(void 0),o("prov",void 0);let l=e?.list?.manifest?.id;ve()!==l&&be(l);let I={},C=[],y={};var w={};if(l&&(I=await pt(l)),!d())a(I?.sumary),o("prov",I?.provinceGroup);else{w=await $t(e?.list?.search,l,e?.list?.status,e?.list?.estate,e?.list?.city),a(I?.sumary),E(0);let j={};B()?T(w).map(p=>{let $=w[p],v=$?.estate||$?.consigneeInfo?.ybestate;j[p]?C.push($):j[p]=1,O("M023009")?.ZoneCity?.[$?.zone]?.[v]||C.push($)}):N()?T(w).map(p=>{let $=w[p];$?.estate||$?.consigneeInfo?.ybestate||C.push($),$?.currentStatus}):(T(w).map(p=>{let $=w[p],v=$?.estate||$?.consigneeInfo?.ybestate,s=$?.city||$?.consigneeInfo?.ybcity;(v||s)&&(y[v]||(y[v]={cities:{},total:0}),y[v].cities?.[s]||(y[v].cities[s]=0),y[v].cities[s]+=1,y[v].total+=1),C.push($)}),o("prov",y)),Se(C)}return C}),oe=()=>F()?.length,Ie=c=>{i("list",{manifest:c,status:void 0}),z(G())},Me=()=>{kt(F())},Ee=()=>{xt(F())},Be=()=>{},Ge=(c,l)=>{Y("estate",c),Y("city",l)},Pe=(c,l)=>{i("list",{estate:void 0,city:void 0}),z(G())},R=c=>c?" "+c:"",Ae=c=>{let l=c?.consigneeInfo;return R(l?.firstName)+R(l?.middleName)+R(l?.lastName)+R(l?.lastName2)},De=c=>{let l=c?.consigneeInfo,I=R(l?.altPhoneNumber);return R(l?.phoneNumber)+(I?" | "+I:"")},Oe=async()=>{let c=[];ae(!0),setTimeout(async()=>{let l=400,I=619124,C=[],y=new Date().getFullYear().toString().slice(2,4);for(let p=0;p<l;p++)C.push(p);const w=C.map(async(p,$)=>{let v=I+p*2,s=v+1;const f=await ue("Y"+y+v),g=await ue("Y"+y+s);let b={mtrx:f,mtrx2:g,lbl:"Y"+y+v,lbl2:"Y"+y+s};c.push(b)});await Promise.all(w);let j=await Xe(c);window.open(j),ae(!1)},760)},ze=async()=>{ie(!0);let c=[];F().map(async(l,I)=>{let C=l?.estate||l?.consigneeInfo?.ybestate,y=l?.city||l?.consigneeInfo?.ybcity,w={provincia:C,ciudad:y,nombre:Ae(l),telefonos:De(l),guia:l?.idairguide,bulto:l?.bagnumber,hbls:l?.hblS};c.push(w)}),We(`listas_caneados_${G()}.csv`,c),ie(!1)},Fe=c=>{let l={};l.id=G(),l.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},l.content=t(_t,{get list(){return F()}}),Ue(l)},Ve=async c=>{await yt(e?.list?.manifest?.id)};return(()=>{var c=nt(),l=c.firstChild,I=l.firstChild,C=I.nextSibling,y=C.firstChild,w=C.nextSibling,j=w.firstChild,p=l.nextSibling,$=p.firstChild,v=p.nextSibling;return r(y,()=>e?.list?.manifest?.id),r(w,t(se,{get initValue(){return d()},updChange:xe,color:"var(--background-red-ssg)"}),j),r(c,t(h,{get when(){return le?.profile?.isAdmin},get children(){return t(ht,{color:"rgb(200 25 60 / 1)",label:"updManifest",handleClick:Me})}}),p),r($,t(gt,{get list(){return O("M023009")?.manifestList},lbl_empty:"Guia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:s=>Ie(s),width:"260px"})),r(p,t(h,{get when(){return Te(()=>!!e?.list?.manifest?.id)()&&d()},get children(){return[(()=>{var s=Je();return r(s,t(dt,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return e?.list?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:f=>Y("search",f)})),s})(),(()=>{var s=Ze(),f=s.firstChild,g=f.firstChild;return r(f,t(se,{get initValue(){return B()},updChange:ke,color:"var(--background-red-ssg)"}),g),r(s,t(h,{get when(){return le?.profile?.isAdmin},get children(){var b=Ke(),u=b.firstChild;return r(b,t(se,{get initValue(){return N()},updChange:Ce,color:"var(--background-red-ssg)"}),u),r(b,t(h,{get when(){return N()},get children(){var S=J();return S.$$click=Ee,r(S,t(P,{name:"outline_delete",size:24})),S}}),null),b}}),null),s})()]}}),null),r(v,t(h,{get when(){return e?.list?.manifest?.id},get children(){var s=et(),f=s.firstChild;return r(f,t(ce,{fallback:g=>(()=>{var b=de(),u=b.firstChild,S=u.nextSibling;return S.nextSibling,r(b,()=>g.toString(),S),b})(),get children(){return t(Z,{get fallback(){return(()=>{var g=ge();return g.firstChild,r(g,t(V,{stroke:"rgb(200 25 60 / 1)",size:62}),null),g})()},get children(){return t(h,{get when(){return n?.total},get children(){return t(K,{get each(){return T(n)},children:(g,b)=>H()?t(bt,{keyG:g,total:oe,get status(){return e?.list?.status},get amount(){return n?.[g]},get showItems(){return d()},updForm:Y}):t(vt,{keyG:g,total:oe,get showItems(){return d()},get status(){return e?.list?.status},get amount(){return n?.[g]},updForm:Y})})}})}})}})),q(()=>ee(s,`client_item_box gWXAaj jlytmu ${H()?"isMobile":""}`)),s}}),null),r(v,t(h,{get when(){return le?.profile?.isAdmin},get children(){var s=tt(),f=s.firstChild,g=f.firstChild,b=g.nextSibling;return r(f,t(h,{get when(){return d()},get children(){return t(h,{get when(){return!pe()},get fallback(){return(()=>{var u=lt(),S=u.firstChild;return r(u,t(V,{stroke:"rgb(200 25 60 / 1)",size:32}),S),u})()},get children(){var u=J();return u.$$click=ze,r(u,t(P,{name:"grid",size:24,color:"firebrick"})),u}})}}),g),r(f,t(h,{get when(){return!ye()},get fallback(){return(()=>{var u=me(),S=u.firstChild;return r(u,t(V,{stroke:"rgb(200 25 60 / 1)",size:32}),S),u})()},get children(){var u=J();return u.$$click=Oe,r(u,t(P,{name:"printer",size:24,color:"firebrick"})),u}}),g),g.$$click=Ve,r(g,t(P,{name:"tag-outline",size:24})),b.$$click=Be,r(b,t(P,{name:"outline_renew",size:24})),r(f,t(h,{get when(){return!$e()},get fallback(){return(()=>{var u=me(),S=u.firstChild;return r(u,t(V,{stroke:"rgb(200 25 60 / 1)",size:32}),S),u})()},get children(){var u=J();return u.$$click=Fe,r(u,t(P,{name:"printer",size:32})),u}}),null),s}}),null),r(v,t(h,{get when(){return m?.prov},get children(){var s=rt(),f=s.firstChild,g=f.firstChild,b=f.nextSibling;return r(g,t(h,{get when(){return m?.prov},get children(){return t(K,{get each(){return T(m?.prov)},children:(u,S)=>t(wt,{ism:u,get item(){return m?.prov?.[u]},updS:Ge})})}})),b.$$click=Pe,r(b,t(P,{name:"Xclose",size:22})),q(()=>ee(s,`client_item_box gWXAaj jlytmu ${H()?"isMobile":""}`)),s}}),null),r(v,t(ce,{fallback:s=>(()=>{var f=de(),g=f.firstChild,b=g.nextSibling;return b.nextSibling,r(f,()=>s.toString(),b),f})(),get children(){return t(Z,{get fallback(){return(()=>{var s=ge();return s.firstChild,r(s,t(V,{stroke:"rgb(200 25 60 / 1)",size:62}),null),s})()},get children(){return t(h,{get when(){return F()},get children(){return t(K,{get each(){return F()?.slice(0,X())},children:(s,f)=>t(ft,{item:s,refresh:()=>z(G())})})}})}})}}),null),q(s=>qe(v,` ${H()?"":"width:94vw;"} margin: 0 auto;`,s)),c})()}const vt=e=>{const[i,n]=M(!1),[a,m]=M(0),o=()=>{let d=e?.keyG;e?.keyG==="total"&&(d=null),e?.updForm("status",d)},k=()=>{i()||!H()&&e?.keyG!=="total"&&(m(O("M023009")?.statusObjDesc?.[e?.keyG]?.length*8.5+"px"),n(!0))},x=()=>{m("0px"),i()&&n(!1)};return t(h,{get when(){return e?.amount>0},get children(){return t(Z,{get fallback(){return(()=>{var d=_e();return d.firstChild,r(d,t(V,{stroke:"rgb(200 25 60 / 1)",size:32}),null),d})()},get children(){var d=fe(),W=d.firstChild,X=W.nextSibling;return d.$$mouseout=x,d.$$mousemove=k,d.$$click=o,r(d,t(h,{get when(){return i()},get children(){var E=st(),B=E.firstChild,L=B.firstChild,N=L.firstChild;return r(N,()=>O("M023009")?.statusObjDesc?.[e?.keyG]),q(U=>(U=a())!=null?B.style.setProperty("width",U):B.style.removeProperty("width")),E}}),W),r(W,t(P,{get name(){return O("M023009")?.statusListIcons?.[e?.keyG]},size:22})),r(d,t(h,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var E=he(),B=E.firstChild,L=B.nextSibling;return L.nextSibling,r(E,()=>e?.total(),L),E}}),X),r(X,()=>e?.amount),q(()=>ee(d,`resumeStatus centerBx ${e?.keyG==="total"?"witXs":""}  ${e?.status===e?.keyG?"active":""}`)),d}})}})},bt=e=>{const i=()=>{let n=e?.keyG;e?.keyG==="total"&&(n=null),e?.updForm("status",n)};return t(h,{get when(){return e?.amount>0},get children(){return t(Z,{get fallback(){return(()=>{var n=_e();return n.firstChild,r(n,t(V,{stroke:"rgb(200 25 60 / 1)",size:32}),null),n})()},get children(){var n=fe(),a=n.firstChild,m=a.nextSibling;return n.$$click=i,r(a,t(P,{get name(){return O("M023009")?.statusListIcons?.[e?.keyG]},size:22})),r(n,t(h,{get when(){return O("M023009")?.statusObjDesc?.[e?.keyG]},get children(){var o=it(),k=o.firstChild;return r(k,()=>O("M023009")?.statusObjDesc?.[e?.keyG]),o}}),m),r(n,t(h,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var o=he(),k=o.firstChild,x=k.nextSibling;return x.nextSibling,r(o,()=>e?.total(),x),o}}),m),r(m,()=>e?.amount),q(()=>ee(n,`resumeStatus centerBx  spaceAround ${e?.status===e?.keyG?"active":""}`)),n}})}})},$t=async(e,i,n,a,m)=>{let o={params:{idairguide:i,":search5":i},fldsQry:["street","agency","idairguide","currentStatus","cidentity","ssg_track_key","bagnumber","tracking","estate","city","zone","consigneeInfo:phoneNumber","consigneeInfo:altPhoneNumber","consigneeInfo:firstName","consigneeInfo:middleName","consigneeInfo:lastName","consigneeInfo:ybestate","consigneeInfo:ybcity"]};e&&e.split(" ").map((x,d)=>{x&&(o.params[":search"+d]=x.trim())}),n&&(o.params[":status"]=n),a&&(o.params[":estate"]=a),m&&(o.params[":city"]=m),te?.roles?.agency&&(o.params[":agency"]=te?.roles?.agency+"");let k=Q(802001);if(o={...o,...k},i&&Object.keys(o.params)?.length>=2){const x=await re(o);return x?.data?.error?{}:x}return{}},pt=async e=>{let i={params:{idairguide:e}},n=Q(802004);i={...i,...n},te?.roles?.agency&&(i.params[":agency"]=te?.roles?.agency+"");const a=await re(i);return a?.error?{}:a},yt=async e=>{let i={params:{idairguide:e,":search5":e,checkDuplicate:!0},fldsQry:["street"]},n=Q(802001);i={...i,...n};const a=await re(i);return a?.error?{}:a},kt=async e=>{e.map(i=>{let n={params:{id:i?.ssg_track_key,idairguide:i?.idairguide}},a=Q(802002);n={...n,...a}})},xt=async e=>{e.map(i=>{let n={params:{ssg_track_key:i?.ssg_track_key,idairguide:i?.idairguide}},a=Q(802005);n={...n,...a}})},Nt=async(e,i)=>{let n=[];e.map(a=>{let m={params:{ssg_track_key:a?.ssg_track_key,idairguide:a?.idairguide},data2update:{currentStatus:i}},o=Q(802004);m={...m,...o},n.push(m)}),Qe(n,Ct)},Ct=async e=>{const n=await re(e);if(n)return n},wt=e=>(()=>{var i=ct();return r(i,t(h,{get when(){return e?.item?.total>0},get children(){var n=at(),a=n.firstChild,m=a.firstChild,o=m.firstChild,k=m.nextSibling;return a.$$click=()=>e?.updS(e?.ism),r(m,()=>e?.ism,o),r(k,()=>e?.item?.total),n}}),null),r(i,t(mt,{get children(){var n=ot();return r(n,t(h,{get when(){return e?.item?.cities},get children(){return t(K,{get each(){return T(e?.item?.cities)},children:(a,m)=>(()=>{var o=ut(),k=o.firstChild,x=k.nextSibling;return o.$$click=()=>e?.updS(e?.ism,a),r(k,a),r(x,()=>e?.item?.cities?.[a]),o})()})}})),n}}),null),i})();je(["click","mousemove","mouseout"]);export{vt as StatusGroupItem,Lt as default,xt as deleteManifest,Ct as fetchCSVInve,kt as loadManifest,Nt as updateManifest};
