function d1(s,c){for(var a=0;a<c.length;a++){const u=c[a];if(typeof u!="string"&&!Array.isArray(u)){for(const d in u)if(d!=="default"&&!(d in s)){const h=Object.getOwnPropertyDescriptor(u,d);h&&Object.defineProperty(s,d,h.get?h:{enumerable:!0,get:()=>u[d]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))u(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const A of h.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&u(A)}).observe(document,{childList:!0,subtree:!0});function a(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function u(d){if(d.ep)return;d.ep=!0;const h=a(d);fetch(d.href,h)}})();const Oe={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Is(this.context.count)},getNextContextId(){return Is(this.context.count++)}};function Is(s){const c=String(s),a=c.length-1;return Oe.context.id+(a?String.fromCharCode(96+a):"")+c}function Rn(s){Oe.context=s}const x1=(s,c)=>s===c,yr=Symbol("solid-proxy"),O0=Symbol("solid-track"),li={equals:x1};let kn=null,Lo=Wo;const ir=1,Un=2,ko={owned:null,cleanups:null,context:null,owner:null},Vi={};var Te=null;let fe=null,g1=null,Ye=null,kt=null,_t=null,wi=0;function An(s,c){const a=Ye,u=Te,d=s.length===0,h=c===void 0?u:c,A=d?ko:{owned:null,cleanups:null,context:h?h.context:null,owner:h},p=d?s:()=>s(()=>Ft(()=>jr(A)));Te=A,Ye=null;try{return $t(p,!0)}finally{Ye=a,Te=u}}function Se(s,c){c=c?Object.assign({},li,c):li;const a={value:s,observers:null,observerSlots:null,comparator:c.equals||void 0},u=d=>(typeof d=="function"&&(fe&&fe.running&&fe.sources.has(a)?d=d(a.tValue):d=d(a.value)),jo(a,d));return[zo.bind(a),u]}function Ss(s,c,a){const u=Vn(s,c,!0,ir);En(u)}function tt(s,c,a){const u=Vn(s,c,!1,ir);En(u)}function Wn(s,c,a){Lo=b1;const u=Vn(s,c,!1,ir),d=Qr&&bi(Qr);d&&(u.suspense=d),u.user=!0,_t?_t.push(u):En(u)}function st(s,c,a){a=a?Object.assign({},li,a):li;const u=Vn(s,c,!0,0);return u.observers=null,u.observerSlots=null,u.comparator=a.equals||void 0,En(u),zo.bind(u)}function A1(s){return s&&typeof s=="object"&&"then"in s}function G0(s,c,a){let u,d,h;arguments.length===2&&typeof c=="object"||arguments.length===1?(u=!0,d=s,h=c||{}):(u=s,d=c,h={});let A=null,p=Vi,w=null,x=!1,E=!1,m="initialValue"in h,v=typeof u=="function"&&st(u);const _=new Set,[B,D]=(h.storage||Se)(h.initialValue),[N,F]=Se(void 0),[S,T]=Se(void 0,{equals:!1}),[M,z]=Se(m?"ready":"unresolved");Oe.context&&(w=Oe.getNextContextId(),h.ssrLoadFrom==="initial"?p=h.initialValue:Oe.load&&Oe.has(w)&&(p=Oe.load(w)));function U(H,V,G,X){return A===H&&(A=null,X!==void 0&&(m=!0),(H===p||V===p)&&h.onHydrated&&queueMicrotask(()=>h.onHydrated(X,{value:V})),p=Vi,fe&&H&&x?(fe.promises.delete(H),x=!1,$t(()=>{fe.running=!0,L(V,G)},!1)):L(V,G)),V}function L(H,V){$t(()=>{V===void 0&&D(()=>H),z(V!==void 0?"errored":m?"ready":"unresolved"),F(V);for(const G of _.keys())G.decrement();_.clear()},!1)}function q(){const H=Qr&&bi(Qr),V=B(),G=N();if(G!==void 0&&!A)throw G;return Ye&&!Ye.user&&H&&Ss(()=>{S(),A&&(H.resolved&&fe&&x?fe.promises.add(A):_.has(H)||(H.increment(),_.add(H)))}),V}function W(H=!0){if(H!==!1&&E)return;E=!1;const V=v?v():u;if(x=fe&&fe.running,V==null||V===!1){U(A,Ft(B));return}fe&&A&&fe.promises.delete(A);const G=p!==Vi?p:Ft(()=>d(V,{value:B(),refetching:H}));return A1(G)?(A=G,"value"in G?(G.status==="success"?U(A,G.value,void 0,V):U(A,void 0,R0(G.value),V),G):(E=!0,queueMicrotask(()=>E=!1),$t(()=>{z(m?"refreshing":"pending"),T()},!1),G.then(X=>U(G,X,void 0,V),X=>U(G,void 0,R0(X),V)))):(U(A,G,void 0,V),G)}return Object.defineProperties(q,{state:{get:()=>M()},error:{get:()=>N()},loading:{get(){const H=M();return H==="pending"||H==="refreshing"}},latest:{get(){if(!m)return q();const H=N();if(H&&!A)throw H;return B()}}}),v?Ss(()=>W(!1)):W(!1),[q,{refetch:W,mutate:D}]}function Po(s){return $t(s,!1)}function Ft(s){if(Ye===null)return s();const c=Ye;Ye=null;try{return s()}finally{Ye=c}}function X0(s,c,a){const u=Array.isArray(s);let d,h=a&&a.defer;return A=>{let p;if(u){p=Array(s.length);for(let x=0;x<s.length;x++)p[x]=s[x]()}else p=s();if(h)return h=!1,A;const w=Ft(()=>c(p,d,A));return d=p,w}}function Y0(s){Wn(()=>Ft(s))}function br(s){return Te===null||(Te.cleanups===null?Te.cleanups=[s]:Te.cleanups.push(s)),s}function p1(s,c){kn||(kn=Symbol("error")),Te=Vn(void 0,void 0,!0),Te.context={...Te.context,[kn]:[c]},fe&&fe.running&&fe.sources.add(Te);try{return s()}catch(a){Gn(a)}finally{Te=Te.owner}}function M0(){return Ye}function mi(){return Te}function Uo(s,c){const a=Te,u=Ye;Te=s,Ye=null;try{return $t(c,!0)}catch(d){Gn(d)}finally{Te=a,Ye=u}}function Ho(s){if(fe&&fe.running)return s(),fe.done;const c=Ye,a=Te;return Promise.resolve().then(()=>{Ye=c,Te=a;let u;return Qr&&(u=fe||(fe={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),u.done||(u.done=new Promise(d=>u.resolve=d)),u.running=!0),$t(s,!1),Ye=Te=null,u?u.done:void 0})}const[C1,_s]=Se(!1);function E1(){return[C1,Ho]}function w1(s){_t.push.apply(_t,s),s.length=0}function yi(s,c){const a=Symbol("context");return{id:a,Provider:v1(a),defaultValue:s}}function bi(s){let c;return Te&&Te.context&&(c=Te.context[s.id])!==void 0?c:s.defaultValue}function vi(s){const c=st(s),a=st(()=>F0(c()));return a.toArray=()=>{const u=a();return Array.isArray(u)?u:u!=null?[u]:[]},a}let Qr;function m1(){return Qr||(Qr=yi())}function zo(){const s=fe&&fe.running;if(this.sources&&(s?this.tState:this.state))if((s?this.tState:this.state)===ir)En(this);else{const c=kt;kt=null,$t(()=>fi(this),!1),kt=c}if(Ye){const c=this.observers?this.observers.length:0;Ye.sources?(Ye.sources.push(this),Ye.sourceSlots.push(c)):(Ye.sources=[this],Ye.sourceSlots=[c]),this.observers?(this.observers.push(Ye),this.observerSlots.push(Ye.sources.length-1)):(this.observers=[Ye],this.observerSlots=[Ye.sources.length-1])}return s&&fe.sources.has(this)?this.tValue:this.value}function jo(s,c,a){let u=fe&&fe.running&&fe.sources.has(s)?s.tValue:s.value;if(!s.comparator||!s.comparator(u,c)){if(fe){const d=fe.running;(d||!a&&fe.sources.has(s))&&(fe.sources.add(s),s.tValue=c),d||(s.value=c)}else s.value=c;s.observers&&s.observers.length&&$t(()=>{for(let d=0;d<s.observers.length;d+=1){const h=s.observers[d],A=fe&&fe.running;A&&fe.disposed.has(h)||((A?!h.tState:!h.state)&&(h.pure?kt.push(h):_t.push(h),h.observers&&Vo(h)),A?h.tState=ir:h.state=ir)}if(kt.length>1e6)throw kt=[],new Error},!1)}return c}function En(s){if(!s.fn)return;jr(s);const c=wi;Ds(s,fe&&fe.running&&fe.sources.has(s)?s.tValue:s.value,c),fe&&!fe.running&&fe.sources.has(s)&&queueMicrotask(()=>{$t(()=>{fe&&(fe.running=!0),Ye=Te=s,Ds(s,s.tValue,c),Ye=Te=null},!1)})}function Ds(s,c,a){let u;const d=Te,h=Ye;Ye=Te=s;try{u=s.fn(c)}catch(A){return s.pure&&(fe&&fe.running?(s.tState=ir,s.tOwned&&s.tOwned.forEach(jr),s.tOwned=void 0):(s.state=ir,s.owned&&s.owned.forEach(jr),s.owned=null)),s.updatedAt=a+1,Gn(A)}finally{Ye=h,Te=d}(!s.updatedAt||s.updatedAt<=a)&&(s.updatedAt!=null&&"observers"in s?jo(s,u,!0):fe&&fe.running&&s.pure?(fe.sources.add(s),s.tValue=u):s.value=u,s.updatedAt=a)}function Vn(s,c,a,u=ir,d){const h={fn:s,state:u,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:c,owner:Te,context:Te?Te.context:null,pure:a};return fe&&fe.running&&(h.state=0,h.tState=u),Te===null||Te!==ko&&(fe&&fe.running&&Te.pure?Te.tOwned?Te.tOwned.push(h):Te.tOwned=[h]:Te.owned?Te.owned.push(h):Te.owned=[h]),h}function ui(s){const c=fe&&fe.running;if((c?s.tState:s.state)===0)return;if((c?s.tState:s.state)===Un)return fi(s);if(s.suspense&&Ft(s.suspense.inFallback))return s.suspense.effects.push(s);const a=[s];for(;(s=s.owner)&&(!s.updatedAt||s.updatedAt<wi);){if(c&&fe.disposed.has(s))return;(c?s.tState:s.state)&&a.push(s)}for(let u=a.length-1;u>=0;u--){if(s=a[u],c){let d=s,h=a[u+1];for(;(d=d.owner)&&d!==h;)if(fe.disposed.has(d))return}if((c?s.tState:s.state)===ir)En(s);else if((c?s.tState:s.state)===Un){const d=kt;kt=null,$t(()=>fi(s,a[0]),!1),kt=d}}}function $t(s,c){if(kt)return s();let a=!1;c||(kt=[]),_t?a=!0:_t=[],wi++;try{const u=s();return y1(a),u}catch(u){a||(_t=null),kt=null,Gn(u)}}function y1(s){if(kt&&(Wo(kt),kt=null),s)return;let c;if(fe){if(!fe.promises.size&&!fe.queue.size){const u=fe.sources,d=fe.disposed;_t.push.apply(_t,fe.effects),c=fe.resolve;for(const h of _t)"tState"in h&&(h.state=h.tState),delete h.tState;fe=null,$t(()=>{for(const h of d)jr(h);for(const h of u){if(h.value=h.tValue,h.owned)for(let A=0,p=h.owned.length;A<p;A++)jr(h.owned[A]);h.tOwned&&(h.owned=h.tOwned),delete h.tValue,delete h.tOwned,h.tState=0}_s(!1)},!1)}else if(fe.running){fe.running=!1,fe.effects.push.apply(fe.effects,_t),_t=null,_s(!0);return}}const a=_t;_t=null,a.length&&$t(()=>Lo(a),!1),c&&c()}function Wo(s){for(let c=0;c<s.length;c++)ui(s[c])}function b1(s){let c,a=0;for(c=0;c<s.length;c++){const u=s[c];u.user?s[a++]=u:ui(u)}if(Oe.context){if(Oe.count){Oe.effects||(Oe.effects=[]),Oe.effects.push(...s.slice(0,a));return}Rn()}for(Oe.effects&&(Oe.done||!Oe.count)&&(s=[...Oe.effects,...s],a+=Oe.effects.length,delete Oe.effects),c=0;c<a;c++)ui(s[c])}function fi(s,c){const a=fe&&fe.running;a?s.tState=0:s.state=0;for(let u=0;u<s.sources.length;u+=1){const d=s.sources[u];if(d.sources){const h=a?d.tState:d.state;h===ir?d!==c&&(!d.updatedAt||d.updatedAt<wi)&&ui(d):h===Un&&fi(d,c)}}}function Vo(s){const c=fe&&fe.running;for(let a=0;a<s.observers.length;a+=1){const u=s.observers[a];(c?!u.tState:!u.state)&&(c?u.tState=Un:u.state=Un,u.pure?kt.push(u):_t.push(u),u.observers&&Vo(u))}}function jr(s){let c;if(s.sources)for(;s.sources.length;){const a=s.sources.pop(),u=s.sourceSlots.pop(),d=a.observers;if(d&&d.length){const h=d.pop(),A=a.observerSlots.pop();u<d.length&&(h.sourceSlots[A]=u,d[u]=h,a.observerSlots[u]=A)}}if(fe&&fe.running&&s.pure){if(s.tOwned){for(c=s.tOwned.length-1;c>=0;c--)jr(s.tOwned[c]);delete s.tOwned}Go(s,!0)}else if(s.owned){for(c=s.owned.length-1;c>=0;c--)jr(s.owned[c]);s.owned=null}if(s.cleanups){for(c=s.cleanups.length-1;c>=0;c--)s.cleanups[c]();s.cleanups=null}fe&&fe.running?s.tState=0:s.state=0}function Go(s,c){if(c||(s.tState=0,fe.disposed.add(s)),s.owned)for(let a=0;a<s.owned.length;a++)Go(s.owned[a])}function R0(s){return s instanceof Error?s:new Error(typeof s=="string"?s:"Unknown error",{cause:s})}function Ts(s,c,a){try{for(const u of c)u(s)}catch(u){Gn(u,a&&a.owner||null)}}function Gn(s,c=Te){const a=kn&&c&&c.context&&c.context[kn],u=R0(s);if(!a)throw u;_t?_t.push({fn(){Ts(u,a,c)},state:ir}):Ts(u,a,c)}function F0(s){if(typeof s=="function"&&!s.length)return F0(s());if(Array.isArray(s)){const c=[];for(let a=0;a<s.length;a++){const u=F0(s[a]);Array.isArray(u)?c.push.apply(c,u):c.push(u)}return c}return s}function v1(s,c){return function(u){let d;return tt(()=>d=Ft(()=>(Te.context={...Te.context,[s]:u.value},vi(()=>u.children))),void 0),d}}const I1=Symbol("fallback");function Bs(s){for(let c=0;c<s.length;c++)s[c]()}function S1(s,c,a={}){let u=[],d=[],h=[],A=0,p=c.length>1?[]:null;return br(()=>Bs(h)),()=>{let w=s()||[],x=w.length,E,m;return w[O0],Ft(()=>{let _,B,D,N,F,S,T,M,z;if(x===0)A!==0&&(Bs(h),h=[],u=[],d=[],A=0,p&&(p=[])),a.fallback&&(u=[I1],d[0]=An(U=>(h[0]=U,a.fallback())),A=1);else if(A===0){for(d=new Array(x),m=0;m<x;m++)u[m]=w[m],d[m]=An(v);A=x}else{for(D=new Array(x),N=new Array(x),p&&(F=new Array(x)),S=0,T=Math.min(A,x);S<T&&u[S]===w[S];S++);for(T=A-1,M=x-1;T>=S&&M>=S&&u[T]===w[M];T--,M--)D[M]=d[T],N[M]=h[T],p&&(F[M]=p[T]);for(_=new Map,B=new Array(M+1),m=M;m>=S;m--)z=w[m],E=_.get(z),B[m]=E===void 0?-1:E,_.set(z,m);for(E=S;E<=T;E++)z=u[E],m=_.get(z),m!==void 0&&m!==-1?(D[m]=d[E],N[m]=h[E],p&&(F[m]=p[E]),m=B[m],_.set(z,m)):h[E]();for(m=S;m<x;m++)m in D?(d[m]=D[m],h[m]=N[m],p&&(p[m]=F[m],p[m](m))):d[m]=An(v);d=d.slice(0,A=x),u=w.slice(0)}return d});function v(_){if(h[m]=_,p){const[B,D]=Se(m);return p[m]=D,c(w[m],B)}return c(w[m])}}}function re(s,c){return Ft(()=>s(c||{}))}function si(){return!0}const _1={get(s,c,a){return c===yr?a:s.get(c)},has(s,c){return c===yr?!0:s.has(c)},set:si,deleteProperty:si,getOwnPropertyDescriptor(s,c){return{configurable:!0,enumerable:!0,get(){return s.get(c)},set:si,deleteProperty:si}},ownKeys(s){return s.keys()}};function Gi(s){return(s=typeof s=="function"?s():s)?s:{}}function D1(){for(let s=0,c=this.length;s<c;++s){const a=this[s]();if(a!==void 0)return a}}function T1(...s){let c=!1;for(let A=0;A<s.length;A++){const p=s[A];c=c||!!p&&yr in p,s[A]=typeof p=="function"?(c=!0,st(p)):p}if(c)return new Proxy({get(A){for(let p=s.length-1;p>=0;p--){const w=Gi(s[p])[A];if(w!==void 0)return w}},has(A){for(let p=s.length-1;p>=0;p--)if(A in Gi(s[p]))return!0;return!1},keys(){const A=[];for(let p=0;p<s.length;p++)A.push(...Object.keys(Gi(s[p])));return[...new Set(A)]}},_1);const a={},u=Object.create(null);for(let A=s.length-1;A>=0;A--){const p=s[A];if(!p)continue;const w=Object.getOwnPropertyNames(p);for(let x=w.length-1;x>=0;x--){const E=w[x];if(E==="__proto__"||E==="constructor")continue;const m=Object.getOwnPropertyDescriptor(p,E);if(!u[E])u[E]=m.get?{enumerable:!0,configurable:!0,get:D1.bind(a[E]=[m.get.bind(p)])}:m.value!==void 0?m:void 0;else{const v=a[E];v&&(m.get?v.push(m.get.bind(p)):m.value!==void 0&&v.push(()=>m.value))}}}const d={},h=Object.keys(u);for(let A=h.length-1;A>=0;A--){const p=h[A],w=u[p];w&&w.get?Object.defineProperty(d,p,w):d[p]=w?w.value:void 0}return d}const Xo=s=>`Stale read from <${s}>.`;function Hn(s){const c="fallback"in s&&{fallback:()=>s.fallback};return st(S1(()=>s.each,s.children,c||void 0))}function Ie(s){const c=s.keyed,a=st(()=>s.when,void 0,{equals:(u,d)=>c?u===d:!u==!d});return st(()=>{const u=a();if(u){const d=s.children;return typeof d=="function"&&d.length>0?Ft(()=>d(c?u:()=>{if(!Ft(a))throw Xo("Show");return s.when})):d}return s.fallback},void 0,void 0)}function B1(s){let c=!1;const a=(h,A)=>(c?h[1]===A[1]:!h[1]==!A[1])&&h[2]===A[2],u=vi(()=>s.children),d=st(()=>{let h=u();Array.isArray(h)||(h=[h]);for(let A=0;A<h.length;A++){const p=h[A].when;if(p)return c=!!h[A].keyed,[A,p,h[A]]}return[-1]},void 0,{equals:a});return st(()=>{const[h,A,p]=d();if(h<0)return s.fallback;const w=p.children;return typeof w=="function"&&w.length>0?Ft(()=>w(c?A:()=>{if(Ft(d)[0]!==h)throw Xo("Match");return p.when})):w},void 0,void 0)}function Xi(s){return s}let xn;function N1(){xn&&[...xn].forEach(s=>s())}function Yo(s){let c;Oe.context&&Oe.load&&(c=Oe.load(Oe.getContextId()));const[a,u]=Se(c,void 0);return xn||(xn=new Set),xn.add(u),br(()=>xn.delete(u)),st(()=>{let d;if(d=a()){const h=s.fallback;return typeof h=="function"&&h.length?Ft(()=>h(d,()=>u())):h}return p1(()=>s.children,u)},void 0,void 0)}const O1=yi();function Xn(s){let c=0,a,u,d,h,A;const[p,w]=Se(!1),x=m1(),E={increment:()=>{++c===1&&w(!0)},decrement:()=>{--c===0&&w(!1)},inFallback:p,effects:[],resolved:!1},m=mi();if(Oe.context&&Oe.load){const B=Oe.getContextId();let D=Oe.load(B);if(D&&(typeof D!="object"||D.status!=="success"?d=D:Oe.gather(B)),d&&d!=="$$f"){const[N,F]=Se(void 0,{equals:!1});h=N,d.then(()=>{if(Oe.done)return F();Oe.gather(B),Rn(u),F(),Rn()},S=>{A=S,F()})}}const v=bi(O1);v&&(a=v.register(E.inFallback));let _;return br(()=>_&&_()),re(x.Provider,{value:E,get children(){return st(()=>{if(A)throw A;if(u=Oe.context,h)return h(),h=void 0;u&&d==="$$f"&&Rn();const B=st(()=>s.children);return st(D=>{const N=E.inFallback(),{showContent:F=!0,showFallback:S=!0}=a?a():{};if((!N||d&&d!=="$$f")&&F)return E.resolved=!0,_&&_(),_=u=d=void 0,w1(E.effects),B();if(S)return _?D:An(T=>(_=T,u&&(Rn({id:u.id+"F",count:0}),u=void 0),s.fallback),m)})})}})}function M1(s,c,a){let u=a.length,d=c.length,h=u,A=0,p=0,w=c[d-1].nextSibling,x=null;for(;A<d||p<h;){if(c[A]===a[p]){A++,p++;continue}for(;c[d-1]===a[h-1];)d--,h--;if(d===A){const E=h<u?p?a[p-1].nextSibling:a[h-p]:w;for(;p<h;)s.insertBefore(a[p++],E)}else if(h===p)for(;A<d;)(!x||!x.has(c[A]))&&c[A].remove(),A++;else if(c[A]===a[h-1]&&a[p]===c[d-1]){const E=c[--d].nextSibling;s.insertBefore(a[p++],c[A++].nextSibling),s.insertBefore(a[--h],E),c[d]=a[h]}else{if(!x){x=new Map;let m=p;for(;m<h;)x.set(a[m],m++)}const E=x.get(c[A]);if(E!=null)if(p<E&&E<h){let m=A,v=1,_;for(;++m<d&&m<h&&!((_=x.get(c[m]))==null||_!==E+v);)v++;if(v>E-p){const B=c[A];for(;p<E;)s.insertBefore(a[p++],B)}else s.replaceChild(a[p++],c[A++])}else A++;else c[A++].remove()}}}const Ns="_$DX_DELEGATE";function R1(s,c,a,u={}){let d;return An(h=>{d=h,c===document?s():ae(c,s(),c.firstChild?null:void 0,a)},u.owner),()=>{d(),c.textContent=""}}function Ce(s,c,a){let u;const d=()=>{const A=document.createElement("template");return A.innerHTML=s,A.content.firstChild},h=()=>(u||(u=d())).cloneNode(!0);return h.cloneNode=h,h}function Br(s,c=window.document){const a=c[Ns]||(c[Ns]=new Set);for(let u=0,d=s.length;u<d;u++){const h=s[u];a.has(h)||(a.add(h),c.addEventListener(h,L1))}}function Zt(s,c,a){q0(s)||(a==null?s.removeAttribute(c):s.setAttribute(c,a))}function Dr(s,c){q0(s)||(c==null?s.removeAttribute("class"):s.className=c)}function Os(s,c,a,u){Array.isArray(a)?(s[`$$${c}`]=a[0],s[`$$${c}Data`]=a[1]):s[`$$${c}`]=a}function Kr(s,c,a){if(!c)return a?Zt(s,"style"):c;const u=s.style;if(typeof c=="string")return u.cssText=c;typeof a=="string"&&(u.cssText=a=void 0),a||(a={}),c||(c={});let d,h;for(h in a)c[h]==null&&u.removeProperty(h),delete a[h];for(h in c)d=c[h],d!==a[h]&&(u.setProperty(h,d),a[h]=d);return a}function F1(s,c,a){return Ft(()=>s(c,a))}function ae(s,c,a,u){if(a!==void 0&&!u&&(u=[]),typeof c!="function")return hi(s,c,u,a);tt(d=>hi(s,c(),d,a),u)}function q0(s){return!!Oe.context&&!Oe.done&&(!s||s.isConnected)}function L1(s){if(Oe.registry&&Oe.events&&Oe.events.find(([u,d])=>d===s))return;const c=`$$${s.type}`;let a=s.composedPath&&s.composedPath()[0]||s.target;for(s.target!==a&&Object.defineProperty(s,"target",{configurable:!0,value:a}),Object.defineProperty(s,"currentTarget",{configurable:!0,get(){return a||document}}),Oe.registry&&!Oe.done&&(Oe.done=_$HY.done=!0);a;){const u=a[c];if(u&&!a.disabled){const d=a[`${c}Data`];if(d!==void 0?u.call(a,d,s):u.call(a,s),s.cancelBubble)return}a=a._$host||a.parentNode||a.host}}function hi(s,c,a,u,d){const h=q0(s);if(h){!a&&(a=[...s.childNodes]);let w=[];for(let x=0;x<a.length;x++){const E=a[x];E.nodeType===8&&E.data.slice(0,2)==="!$"?E.remove():w.push(E)}a=w}for(;typeof a=="function";)a=a();if(c===a)return a;const A=typeof c,p=u!==void 0;if(s=p&&a[0]&&a[0].parentNode||s,A==="string"||A==="number"){if(h||A==="number"&&(c=c.toString(),c===a))return a;if(p){let w=a[0];w&&w.nodeType===3?w.data!==c&&(w.data=c):w=document.createTextNode(c),a=dn(s,a,u,w)}else a!==""&&typeof a=="string"?a=s.firstChild.data=c:a=s.textContent=c}else if(c==null||A==="boolean"){if(h)return a;a=dn(s,a,u)}else{if(A==="function")return tt(()=>{let w=c();for(;typeof w=="function";)w=w();a=hi(s,w,a,u)}),()=>a;if(Array.isArray(c)){const w=[],x=a&&Array.isArray(a);if(L0(w,c,a,d))return tt(()=>a=hi(s,w,a,u,!0)),()=>a;if(h){if(!w.length)return a;if(u===void 0)return a=[...s.childNodes];let E=w[0];if(E.parentNode!==s)return a;const m=[E];for(;(E=E.nextSibling)!==u;)m.push(E);return a=m}if(w.length===0){if(a=dn(s,a,u),p)return a}else x?a.length===0?Ms(s,w,u):M1(s,a,w):(a&&dn(s),Ms(s,w));a=w}else if(c.nodeType){if(h&&c.parentNode)return a=p?[c]:c;if(Array.isArray(a)){if(p)return a=dn(s,a,u,c);dn(s,a,null,c)}else a==null||a===""||!s.firstChild?s.appendChild(c):s.replaceChild(c,s.firstChild);a=c}}return a}function L0(s,c,a,u){let d=!1;for(let h=0,A=c.length;h<A;h++){let p=c[h],w=a&&a[s.length],x;if(!(p==null||p===!0||p===!1))if((x=typeof p)=="object"&&p.nodeType)s.push(p);else if(Array.isArray(p))d=L0(s,p,w)||d;else if(x==="function")if(u){for(;typeof p=="function";)p=p();d=L0(s,Array.isArray(p)?p:[p],Array.isArray(w)?w:[w])||d}else s.push(p),d=!0;else{const E=String(p);w&&w.nodeType===3&&w.data===E?s.push(w):s.push(document.createTextNode(E))}}return d}function Ms(s,c,a=null){for(let u=0,d=c.length;u<d;u++)s.insertBefore(c[u],a)}function dn(s,c,a,u){if(a===void 0)return s.textContent="";const d=u||document.createTextNode("");if(c.length){let h=!1;for(let A=c.length-1;A>=0;A--){const p=c[A];if(d!==p){const w=p.parentNode===s;!h&&!A?w?s.replaceChild(d,p):s.insertBefore(d,a):w&&p.remove()}else h=!0}}else s.insertBefore(d,a);return[d]}const k1=!1;function qo(){let s=new Set;function c(d){return s.add(d),()=>s.delete(d)}let a=!1;function u(d,h){if(a)return!(a=!1);const A={to:d,options:h,defaultPrevented:!1,preventDefault:()=>A.defaultPrevented=!0};for(const p of s)p.listener({...A,from:p.location,retry:w=>{w&&(a=!0),p.navigate(d,{...h,resolve:!1})}});return!A.defaultPrevented}return{subscribe:c,confirm:u}}let k0;function Z0(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),k0=window.history.state._depth}Z0();function P1(s){return{...s,_depth:window.history.state&&window.history.state._depth}}function U1(s,c){let a=!1;return()=>{const u=k0;Z0();const d=u==null?null:k0-u;if(a){a=!1;return}d&&c(d)?(a=!0,window.history.go(-d)):s()}}const H1=/^(?:[a-z0-9]+:)?\/\//i,z1=/^\/+|(\/)\/+$/g,Zo="http://sr";function Pn(s,c=!1){const a=s.replace(z1,"$1");return a?c||/^[?#]/.test(a)?a:"/"+a:""}function ai(s,c,a){if(H1.test(c))return;const u=Pn(s),d=a&&Pn(a);let h="";return!d||c.startsWith("/")?h=u:d.toLowerCase().indexOf(u.toLowerCase())!==0?h=u+d:h=d,(h||"/")+Pn(c,!h)}function j1(s,c){return Pn(s).replace(/\/*(\*.*)?$/g,"")+Pn(c)}function $o(s){const c={};return s.searchParams.forEach((a,u)=>{c[u]=a}),c}function W1(s,c,a){const[u,d]=s.split("/*",2),h=u.split("/").filter(Boolean),A=h.length;return p=>{const w=p.split("/").filter(Boolean),x=w.length-A;if(x<0||x>0&&d===void 0&&!c)return null;const E={path:A?"":"/",params:{}},m=v=>a===void 0?void 0:a[v];for(let v=0;v<A;v++){const _=h[v],B=w[v],D=_[0]===":",N=D?_.slice(1):_;if(D&&Yi(B,m(N)))E.params[N]=B;else if(D||!Yi(B,_))return null;E.path+=`/${B}`}if(d){const v=x?w.slice(-x).join("/"):"";if(Yi(v,m(d)))E.params[d]=v;else return null}return E}}function Yi(s,c){const a=u=>u.localeCompare(s,void 0,{sensitivity:"base"})===0;return c===void 0?!0:typeof c=="string"?a(c):typeof c=="function"?c(s):Array.isArray(c)?c.some(a):c instanceof RegExp?c.test(s):!1}function V1(s){const[c,a]=s.pattern.split("/*",2),u=c.split("/").filter(Boolean);return u.reduce((d,h)=>d+(h.startsWith(":")?2:3),u.length-(a===void 0?0:1))}function Qo(s){const c=new Map,a=mi();return new Proxy({},{get(u,d){return c.has(d)||Uo(a,()=>c.set(d,st(()=>s()[d]))),c.get(d)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(s())}})}function Ko(s){let c=/(\/?\:[^\/]+)\?/.exec(s);if(!c)return[s];let a=s.slice(0,c.index),u=s.slice(c.index+c[0].length);const d=[a,a+=c[1]];for(;c=/^(\/\:[^\/]+)\?/.exec(u);)d.push(a+=c[1]),u=u.slice(c[0].length);return Ko(u).reduce((h,A)=>[...h,...d.map(p=>p+A)],[])}const G1=100,X1=yi(),Jo=yi();function Y1(s,c=""){const{component:a,preload:u,load:d,children:h,info:A}=s,p=!h||Array.isArray(h)&&!h.length,w={key:s,component:a,preload:u||d,info:A};return ea(s.path).reduce((x,E)=>{for(const m of Ko(E)){const v=j1(c,m);let _=p?v:v.split("/*",1)[0];_=_.split("/").map(B=>B.startsWith(":")||B.startsWith("*")?B:encodeURIComponent(B)).join("/"),x.push({...w,originalPath:E,pattern:_,matcher:W1(_,!p,s.matchFilters)})}return x},[])}function q1(s,c=0){return{routes:s,score:V1(s[s.length-1])*1e4-c,matcher(a){const u=[];for(let d=s.length-1;d>=0;d--){const h=s[d],A=h.matcher(a);if(!A)return null;u.unshift({...A,route:h})}return u}}}function ea(s){return Array.isArray(s)?s:[s]}function ta(s,c="",a=[],u=[]){const d=ea(s);for(let h=0,A=d.length;h<A;h++){const p=d[h];if(p&&typeof p=="object"){p.hasOwnProperty("path")||(p.path="");const w=Y1(p,c);for(const x of w){a.push(x);const E=Array.isArray(p.children)&&p.children.length===0;if(p.children&&!E)ta(p.children,x.pattern,a,u);else{const m=q1([...a],u.length);u.push(m)}a.pop()}}}return a.length?u:u.sort((h,A)=>A.score-h.score)}function qi(s,c){for(let a=0,u=s.length;a<u;a++){const d=s[a].matcher(c);if(d)return d}return[]}function Z1(s,c){const a=new URL(Zo),u=st(w=>{const x=s();try{return new URL(x,a)}catch{return console.error(`Invalid path ${x}`),w}},a,{equals:(w,x)=>w.href===x.href}),d=st(()=>u().pathname),h=st(()=>u().search,!0),A=st(()=>u().hash),p=()=>"";return{get pathname(){return d()},get search(){return h()},get hash(){return A()},get state(){return c()},get key(){return p()},query:Qo(X0(h,()=>$o(u())))}}let $r;function $1(){return $r}function Q1(s,c,a,u={}){const{signal:[d,h],utils:A={}}=s,p=A.parsePath||(X=>X),w=A.renderPath||(X=>X),x=A.beforeLeave||qo(),E=ai("",u.base||"");if(E===void 0)throw new Error(`${E} is not a valid base path`);E&&!d().value&&h({value:E,replace:!0,scroll:!1});const[m,v]=Se(!1);let _;const B=(X,ie)=>{ie.value===D()&&ie.state===F()||(_===void 0&&v(!0),$r=X,_=ie,Ho(()=>{_===ie&&(N(_.value),S(_.state),N1(),z[1]([]))}).finally(()=>{_===ie&&Po(()=>{$r=void 0,X==="navigate"&&V(_),v(!1),_=void 0})}))},[D,N]=Se(d().value),[F,S]=Se(d().state),T=Z1(D,F),M=[],z=Se([]),U=st(()=>typeof u.transformUrl=="function"?qi(c(),u.transformUrl(T.pathname)):qi(c(),T.pathname)),L=Qo(()=>{const X=U(),ie={};for(let j=0;j<X.length;j++)Object.assign(ie,X[j].params);return ie}),q={pattern:E,path:()=>E,outlet:()=>null,resolvePath(X){return ai(E,X)}};return tt(X0(d,X=>B("native",X),{defer:!0})),{base:q,location:T,params:L,isRouting:m,renderPath:w,parsePath:p,navigatorFactory:H,matches:U,beforeLeave:x,preloadRoute:G,singleFlight:u.singleFlight===void 0?!0:u.singleFlight,submissions:z};function W(X,ie,j){Ft(()=>{if(typeof ie=="number"){ie&&(A.go?A.go(ie):console.warn("Router integration does not support relative routing"));return}const Ae=!ie||ie[0]==="?",{replace:he,resolve:_e,scroll:Ne,state:ye}={replace:!1,resolve:!Ae,scroll:!0,...j};let $;const J=_e?X.resolvePath(ie):ai(Ae&&($=d().value)&&$.split("?")[0]||"",ie);if(J===void 0)throw new Error(`Path '${ie}' is not a routable path`);if(M.length>=G1)throw new Error("Too many redirects");const te=D();(J!==te||ye!==F())&&(k1||x.confirm(J,j)&&(M.push({value:te,replace:he,scroll:Ne,state:F()}),B("navigate",{value:J,state:ye})))})}function H(X){return X=X||bi(Jo)||q,(ie,j)=>W(X,ie,j)}function V(X){const ie=M[0];ie&&(h({...X,replace:ie.replace,scroll:ie.scroll}),M.length=0)}function G(X,ie={}){const j=qi(c(),X.pathname),Ae=$r;$r="preload";for(let he in j){const{route:_e,params:Ne}=j[he];_e.component&&_e.component.preload&&_e.component.preload();const{preload:ye}=_e;ie.preloadData&&ye&&Uo(a(),()=>ye({params:Ne,location:{pathname:X.pathname,search:X.search,hash:X.hash,query:$o(X),state:null,key:""},intent:"preload"}))}$r=Ae}}function K1(s,c,a,u){const{base:d,location:h,params:A}=s,{pattern:p,component:w,preload:x}=u().route,E=st(()=>u().path);w&&w.preload&&w.preload();const m=x?x({params:A,location:h,intent:$r||"initial"}):void 0;return{parent:c,pattern:p,path:E,outlet:()=>w?re(w,{params:A,location:h,data:m,get children(){return a()}}):a(),resolvePath(_){return ai(d.path(),_,E())}}}const J1=s=>c=>{const{base:a}=c,u=vi(()=>c.children),d=st(()=>ta(u(),c.base||""));let h;const A=Q1(s,d,()=>h,{base:a,singleFlight:c.singleFlight,transformUrl:c.transformUrl});return s.create&&s.create(A),re(X1.Provider,{value:A,get children(){return re(ec,{routerState:A,get root(){return c.root},get preload(){return c.rootPreload||c.rootLoad},get children(){return[st(()=>(h=mi())&&null),re(tc,{routerState:A,get branches(){return d()}})]}})}})};function ec(s){const c=s.routerState.location,a=s.routerState.params,u=st(()=>s.preload&&Ft(()=>{s.preload({params:a,location:c,intent:$1()||"initial"})}));return re(Ie,{get when(){return s.root},keyed:!0,get fallback(){return s.children},children:d=>re(d,{params:a,location:c,get data(){return u()},get children(){return s.children}})})}function tc(s){const c=[];let a;const u=st(X0(s.routerState.matches,(d,h,A)=>{let p=h&&d.length===h.length;const w=[];for(let x=0,E=d.length;x<E;x++){const m=h&&h[x],v=d[x];A&&m&&v.route.key===m.route.key?w[x]=A[x]:(p=!1,c[x]&&c[x](),An(_=>{c[x]=_,w[x]=K1(s.routerState,w[x-1]||s.routerState.base,Rs(()=>u()[x+1]),()=>s.routerState.matches()[x])}))}return c.splice(d.length).forEach(x=>x()),A&&p?A:(a=w[0],w)}));return Rs(()=>u()&&a)()}const Rs=s=>()=>re(Ie,{get when(){return s()},keyed:!0,children:c=>re(Jo.Provider,{value:c,get children(){return c.outlet()}})}),Zi=s=>{const c=vi(()=>s.children);return T1(s,{get children(){return c()}})};function rc([s,c],a,u){return[s,u?d=>c(u(d)):c]}function nc(s){if(s==="#")return null;try{return document.querySelector(s)}catch{return null}}function ic(s){let c=!1;const a=d=>typeof d=="string"?{value:d}:d,u=rc(Se(a(s.get()),{equals:(d,h)=>d.value===h.value&&d.state===h.state}),void 0,d=>(!c&&s.set(d),Oe.registry&&!Oe.done&&(Oe.done=!0),d));return s.init&&br(s.init((d=s.get())=>{c=!0,u[1](a(d)),c=!1})),J1({signal:u,create:s.create,utils:s.utils})}function sc(s,c,a){return s.addEventListener(c,a),()=>s.removeEventListener(c,a)}function oc(s,c){const a=nc(`#${s}`);a?a.scrollIntoView():c&&window.scrollTo(0,0)}const ac=new Map;function cc(s=!0,c=!1,a="/_server",u){return d=>{const h=d.base.path(),A=d.navigatorFactory(d.base);let p={};function w(D){return D.namespaceURI==="http://www.w3.org/2000/svg"}function x(D){if(D.defaultPrevented||D.button!==0||D.metaKey||D.altKey||D.ctrlKey||D.shiftKey)return;const N=D.composedPath().find(U=>U instanceof Node&&U.nodeName.toUpperCase()==="A");if(!N||c&&!N.hasAttribute("link"))return;const F=w(N),S=F?N.href.baseVal:N.href;if((F?N.target.baseVal:N.target)||!S&&!N.hasAttribute("state"))return;const M=(N.getAttribute("rel")||"").split(/\s+/);if(N.hasAttribute("download")||M&&M.includes("external"))return;const z=F?new URL(S,document.baseURI):new URL(S);if(!(z.origin!==window.location.origin||h&&z.pathname&&!z.pathname.toLowerCase().startsWith(h.toLowerCase())))return[N,z]}function E(D){const N=x(D);if(!N)return;const[F,S]=N,T=d.parsePath(S.pathname+S.search+S.hash),M=F.getAttribute("state");D.preventDefault(),A(T,{resolve:!1,replace:F.hasAttribute("replace"),scroll:!F.hasAttribute("noscroll"),state:M&&JSON.parse(M)})}function m(D){const N=x(D);if(!N)return;const[F,S]=N;p[S.pathname]||d.preloadRoute(S,{preloadData:F.getAttribute("preload")!=="false"})}function v(D){const N=x(D);if(!N)return;const[F,S]=N;p[S.pathname]||(p[S.pathname]=setTimeout(()=>{d.preloadRoute(S,{preloadData:F.getAttribute("preload")!=="false"}),delete p[S.pathname]},200))}function _(D){const N=x(D);if(!N)return;const[,F]=N;p[F.pathname]&&(clearTimeout(p[F.pathname]),delete p[F.pathname])}function B(D){if(D.defaultPrevented)return;let N=D.submitter&&D.submitter.hasAttribute("formaction")?D.submitter.getAttribute("formaction"):D.target.getAttribute("action");if(!N)return;if(!N.startsWith("https://action/")){const S=new URL(N,Zo);if(N=d.parsePath(S.pathname+S.search),!N.startsWith(a))return}if(D.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const F=ac.get(N);if(F){D.preventDefault();const S=new FormData(D.target,D.submitter);F.call({r:d,f:D.target},D.target.enctype==="multipart/form-data"?S:new URLSearchParams(S))}}Br(["click","submit"]),document.addEventListener("click",E),s&&(document.addEventListener("mouseover",v),document.addEventListener("mouseout",_),document.addEventListener("focusin",m),document.addEventListener("touchstart",m)),document.addEventListener("submit",B),br(()=>{document.removeEventListener("click",E),s&&(document.removeEventListener("mouseover",v),document.removeEventListener("mouseout",_),document.removeEventListener("focusin",m),document.removeEventListener("touchstart",m)),document.removeEventListener("submit",B)})}}function lc(s){const c=s.replace(/^.*?#/,"");if(!c.startsWith("/")){const[,a="/"]=window.location.hash.split("#",2);return`${a}#${c}`}return c}function uc(s){const c=()=>window.location.hash.slice(1),a=qo();return ic({get:c,set({value:u,replace:d,scroll:h,state:A}){d?window.history.replaceState(P1(A),"","#"+u):window.history.pushState(A,"","#"+u);const p=u.indexOf("#"),w=p>=0?u.slice(p+1):"";oc(w,h),Z0()},init:u=>sc(window,"hashchange",U1(u,d=>!a.confirm(d&&d<0?d:c()))),create:cc(s.preload,s.explicitLinks,s.actionBase),utils:{go:u=>window.history.go(u),renderPath:u=>`#${u}`,parsePath:lc,beforeLeave:a}})(s)}const P0=Symbol("store-raw"),pn=Symbol("store-node"),Ir=Symbol("store-has"),ra=Symbol("store-self");function na(s){let c=s[yr];if(!c&&(Object.defineProperty(s,yr,{value:c=new Proxy(s,dc)}),!Array.isArray(s))){const a=Object.keys(s),u=Object.getOwnPropertyDescriptors(s);for(let d=0,h=a.length;d<h;d++){const A=a[d];u[A].get&&Object.defineProperty(s,A,{enumerable:u[A].enumerable,get:u[A].get.bind(c)})}}return c}function di(s){let c;return s!=null&&typeof s=="object"&&(s[yr]||!(c=Object.getPrototypeOf(s))||c===Object.prototype||Array.isArray(s))}function zn(s,c=new Set){let a,u,d,h;if(a=s!=null&&s[P0])return a;if(!di(s)||c.has(s))return s;if(Array.isArray(s)){Object.isFrozen(s)?s=s.slice(0):c.add(s);for(let A=0,p=s.length;A<p;A++)d=s[A],(u=zn(d,c))!==d&&(s[A]=u)}else{Object.isFrozen(s)?s=Object.assign({},s):c.add(s);const A=Object.keys(s),p=Object.getOwnPropertyDescriptors(s);for(let w=0,x=A.length;w<x;w++)h=A[w],!p[h].get&&(d=s[h],(u=zn(d,c))!==d&&(s[h]=u))}return s}function xi(s,c){let a=s[c];return a||Object.defineProperty(s,c,{value:a=Object.create(null)}),a}function jn(s,c,a){if(s[c])return s[c];const[u,d]=Se(a,{equals:!1,internal:!0});return u.$=d,s[c]=u}function fc(s,c){const a=Reflect.getOwnPropertyDescriptor(s,c);return!a||a.get||!a.configurable||c===yr||c===pn||(delete a.value,delete a.writable,a.get=()=>s[yr][c]),a}function ia(s){M0()&&jn(xi(s,pn),ra)()}function hc(s){return ia(s),Reflect.ownKeys(s)}const dc={get(s,c,a){if(c===P0)return s;if(c===yr)return a;if(c===O0)return ia(s),a;const u=xi(s,pn),d=u[c];let h=d?d():s[c];if(c===pn||c===Ir||c==="__proto__")return h;if(!d){const A=Object.getOwnPropertyDescriptor(s,c);M0()&&(typeof h!="function"||s.hasOwnProperty(c))&&!(A&&A.get)&&(h=jn(u,c,h)())}return di(h)?na(h):h},has(s,c){return c===P0||c===yr||c===O0||c===pn||c===Ir||c==="__proto__"?!0:(M0()&&jn(xi(s,Ir),c)(),c in s)},set(){return!0},deleteProperty(){return!0},ownKeys:hc,getOwnPropertyDescriptor:fc};function gi(s,c,a,u=!1){if(!u&&s[c]===a)return;const d=s[c],h=s.length;a===void 0?(delete s[c],s[Ir]&&s[Ir][c]&&d!==void 0&&s[Ir][c].$()):(s[c]=a,s[Ir]&&s[Ir][c]&&d===void 0&&s[Ir][c].$());let A=xi(s,pn),p;if((p=jn(A,c,d))&&p.$(()=>a),Array.isArray(s)&&s.length!==h){for(let w=s.length;w<h;w++)(p=A[w])&&p.$();(p=jn(A,"length",h))&&p.$(s.length)}(p=A[ra])&&p.$()}function sa(s,c){const a=Object.keys(c);for(let u=0;u<a.length;u+=1){const d=a[u];gi(s,d,c[d])}}function xc(s,c){if(typeof c=="function"&&(c=c(s)),c=zn(c),Array.isArray(c)){if(s===c)return;let a=0,u=c.length;for(;a<u;a++){const d=c[a];s[a]!==d&&gi(s,a,d)}gi(s,"length",u)}else sa(s,c)}function Fn(s,c,a=[]){let u,d=s;if(c.length>1){u=c.shift();const A=typeof u,p=Array.isArray(s);if(Array.isArray(u)){for(let w=0;w<u.length;w++)Fn(s,[u[w]].concat(c),a);return}else if(p&&A==="function"){for(let w=0;w<s.length;w++)u(s[w],w)&&Fn(s,[w].concat(c),a);return}else if(p&&A==="object"){const{from:w=0,to:x=s.length-1,by:E=1}=u;for(let m=w;m<=x;m+=E)Fn(s,[m].concat(c),a);return}else if(c.length>1){Fn(s[u],c,[u].concat(a));return}d=s[u],a=[u].concat(a)}let h=c[0];typeof h=="function"&&(h=h(d,a),h===d)||u===void 0&&h==null||(h=zn(h),u===void 0||di(d)&&di(h)&&!Array.isArray(h)?sa(d,h):gi(s,u,h))}function fr(...[s,c]){const a=zn(s||{}),u=Array.isArray(a),d=na(a);function h(...A){Po(()=>{u&&A.length===1?xc(a,A[0]):Fn(a,A)})}return[d,h]}const gc="_App_ynghh_1",Ac="_logo_ynghh_5",pc="_header_ynghh_11",Cc="_link_ynghh_21",$0={App:gc,logo:Ac,"logo-spin":"_logo-spin_ynghh_1",header:pc,link:Cc};var Ec=Ce("<p class=label>"),wc=Ce('<div class=_dsplFlx><div class=flexSpace></div><div class=field-block><input required=""></div><div class=flexSpace>');const Q0=s=>{fr();const[c,a]=Se(""),u=A=>{s?.handleClick(A),a(A)},d=A=>{A.keyCode===13&&typeof s?.onEnter=="function"&&s?.onEnter(c()),A.keyCode===27&&typeof s?.onEscape=="function"&&s?.onEscape(c()),A.keyCode===9&&typeof s?.onTab=="function"&&(console.log("onTab"),s?.onTab(c()))};let h={"--txtInput--width":s?.width,"--txtInput--color":s?.colors,"--txtInput--backColor":s?.backColor,"--txtInput--border-color":s?.borderColor,"--txtInput--aborder-color":s?.borderActiveColor,padding:s?.label?"0.6em 1.2em":"0.99em 1.2em"};return(()=>{var A=wc(),p=A.firstChild,w=p.nextSibling,x=w.firstChild;ae(w,re(Ie,{get when(){return s?.label},get children(){var m=Ec();return ae(m,()=>s?.label),m}}),x),x.$$input=m=>u(m.currentTarget.value),x.$$keydown=d;var E=s?.ref;return typeof E=="function"&&F1(E,x),tt(m=>{var v=`r7gAOb yyJm8b kk3791b ${s?.label,""}`,_=h,B=s?.type,D=s?.name,N=s?.placeholder;return v!==m.e&&Dr(x,m.e=v),m.t=Kr(x,_,m.t),B!==m.a&&Zt(x,"type",m.a=B),D!==m.o&&Zt(x,"name",m.o=D),N!==m.i&&Zt(x,"placeholder",m.i=N),m},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),tt(()=>x.value=s?.value),A})()};Br(["keydown","input"]);const oa=[{label:"OCC-31",id:"175-23834414",yaba:"96"},{label:"CENT-31",id:"175-23834425",yaba:"97"},{label:"ORT-31",id:"175-23834436",yaba:"98"},{label:"OCC-32",id:"175-23834440",yaba:"99"},{label:"CENT-32",id:"175-23834451",yaba:"100"},{label:"ORT-32",id:"175-23834462",yaba:"101"},{label:"OCC-33",id:"175-23834473",yaba:"102"},{label:"CENT-33",id:"175-23834484",yaba:"103"},{label:"ORT-33",id:"175-23834495",yaba:"104"},{label:"OCC-34",id:"175-23834506",yaba:"105"},{label:"CENT-34",id:"175-23834510",yaba:"106"},{label:"ORT-34",id:"175-23834521",yaba:"107"},{label:"OCC-35",id:"175-23834532",yaba:"108"},{label:"CENT-35",id:"175-23834543",yaba:"109"},{label:"ORT-35",id:"175-23834554",yaba:"110"},{label:"OCC-36",id:"175-23834565",yaba:"111"},{label:"CENT-36",id:"175-23834576",yaba:"112"},{label:"ORT-36",id:"175-23834580",yaba:"113"},{label:"OCC-37",id:"175-23834591",yaba:"114"},{label:"CENT-37",id:"175-23834602",yaba:"115"},{label:"ORIT-37",id:"175-23834613",yaba:"116"},{label:"ISLA-01",id:"175-23834624",yaba:"117"},{label:"OCC-38",id:"175-23834635",yaba:"118"},{label:"CENT-38",id:"175-23834646",yaba:"119"},{label:"ORT-38",id:"175-23834650",yaba:"120"},{label:"OCC-39",id:"175-23834661",yaba:"121"},{label:"CENT-39",id:"175-23834672",yaba:"122"},{label:"ORT-39",id:"175-23834683",yaba:"123"},{label:"OCC-40",id:"175-23834694",yaba:"124"},{label:"CENT-40",id:"175-23834705",yaba:"125"},{label:"ORT-40",id:"175-23834716",yaba:"126"}],mc=[{label:"LLegando a AeroVaradero",id:"AERO_28",icon:"airplane-landing"},{label:"Recogida en AeroVaradero",id:"AERO_33",icon:"truck-fast"},{label:"Entrada al Almacen",id:"YABA_39",icon:"store"}],Ii={total:"open_package_file_outline",YABA_11:"truck-fast-outline",YABA_22:"airplane-takeoff",AERO_28:"airplane-landing",AERO_33:"truck-fast",YABA_39:"store",YABA_44:"sort-numeric-ascending",YABA_48:"car-hatchback"},Ai={YABA_11:"En transito para FL",YABA_22:"Entrega a la aerolinea",AERO_28:"LLegando a AeroVaradero",AERO_33:"Recogida en AeroVaradero",YABA_39:"Entrada al Almacen",YABA_44:"Escaneando por Locaciones",YABA_48:"Saliendo para entregar"};var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aa(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function yc(s){if(s.__esModule)return s;var c=s.default;if(typeof c=="function"){var a=function u(){return this instanceof u?Reflect.construct(c,arguments,this.constructor):c.apply(this,arguments)};a.prototype=c.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(s).forEach(function(u){var d=Object.getOwnPropertyDescriptor(s,u);Object.defineProperty(a,u,d.get?d:{enumerable:!0,get:function(){return s[u]}})}),a}var ca={exports:{}};function bc(s){throw new Error('Could not dynamically require "'+s+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $i={exports:{}};const vc={},Ic=Object.freeze(Object.defineProperty({__proto__:null,default:vc},Symbol.toStringTag,{value:"Module"})),Sc=yc(Ic);var Fs;function Pe(){return Fs||(Fs=1,function(s,c){(function(a,u){s.exports=u()})(De,function(){var a=a||function(u,d){var h;if(typeof window<"u"&&window.crypto&&(h=window.crypto),typeof self<"u"&&self.crypto&&(h=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(h=globalThis.crypto),!h&&typeof window<"u"&&window.msCrypto&&(h=window.msCrypto),!h&&typeof De<"u"&&De.crypto&&(h=De.crypto),!h&&typeof bc=="function")try{h=Sc}catch{}var A=function(){if(h){if(typeof h.getRandomValues=="function")try{return h.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof h.randomBytes=="function")try{return h.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},p=Object.create||function(){function S(){}return function(T){var M;return S.prototype=T,M=new S,S.prototype=null,M}}(),w={},x=w.lib={},E=x.Base=function(){return{extend:function(S){var T=p(this);return S&&T.mixIn(S),(!T.hasOwnProperty("init")||this.init===T.init)&&(T.init=function(){T.$super.init.apply(this,arguments)}),T.init.prototype=T,T.$super=this,T},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var T in S)S.hasOwnProperty(T)&&(this[T]=S[T]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),m=x.WordArray=E.extend({init:function(S,T){S=this.words=S||[],T!=d?this.sigBytes=T:this.sigBytes=S.length*4},toString:function(S){return(S||_).stringify(this)},concat:function(S){var T=this.words,M=S.words,z=this.sigBytes,U=S.sigBytes;if(this.clamp(),z%4)for(var L=0;L<U;L++){var q=M[L>>>2]>>>24-L%4*8&255;T[z+L>>>2]|=q<<24-(z+L)%4*8}else for(var W=0;W<U;W+=4)T[z+W>>>2]=M[W>>>2];return this.sigBytes+=U,this},clamp:function(){var S=this.words,T=this.sigBytes;S[T>>>2]&=4294967295<<32-T%4*8,S.length=u.ceil(T/4)},clone:function(){var S=E.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var T=[],M=0;M<S;M+=4)T.push(A());return new m.init(T,S)}}),v=w.enc={},_=v.Hex={stringify:function(S){for(var T=S.words,M=S.sigBytes,z=[],U=0;U<M;U++){var L=T[U>>>2]>>>24-U%4*8&255;z.push((L>>>4).toString(16)),z.push((L&15).toString(16))}return z.join("")},parse:function(S){for(var T=S.length,M=[],z=0;z<T;z+=2)M[z>>>3]|=parseInt(S.substr(z,2),16)<<24-z%8*4;return new m.init(M,T/2)}},B=v.Latin1={stringify:function(S){for(var T=S.words,M=S.sigBytes,z=[],U=0;U<M;U++){var L=T[U>>>2]>>>24-U%4*8&255;z.push(String.fromCharCode(L))}return z.join("")},parse:function(S){for(var T=S.length,M=[],z=0;z<T;z++)M[z>>>2]|=(S.charCodeAt(z)&255)<<24-z%4*8;return new m.init(M,T)}},D=v.Utf8={stringify:function(S){try{return decodeURIComponent(escape(B.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return B.parse(unescape(encodeURIComponent(S)))}},N=x.BufferedBlockAlgorithm=E.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=D.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var T,M=this._data,z=M.words,U=M.sigBytes,L=this.blockSize,q=L*4,W=U/q;S?W=u.ceil(W):W=u.max((W|0)-this._minBufferSize,0);var H=W*L,V=u.min(H*4,U);if(H){for(var G=0;G<H;G+=L)this._doProcessBlock(z,G);T=z.splice(0,H),M.sigBytes-=V}return new m.init(T,V)},clone:function(){var S=E.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0});x.Hasher=N.extend({cfg:E.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){N.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var T=this._doFinalize();return T},blockSize:16,_createHelper:function(S){return function(T,M){return new S.init(M).finalize(T)}},_createHmacHelper:function(S){return function(T,M){return new F.HMAC.init(S,M).finalize(T)}}});var F=w.algo={};return w}(Math);return a})}($i)),$i.exports}var Qi={exports:{}},Ls;function Si(){return Ls||(Ls=1,function(s,c){(function(a,u){s.exports=u(Pe())})(De,function(a){return function(u){var d=a,h=d.lib,A=h.Base,p=h.WordArray,w=d.x64={};w.Word=A.extend({init:function(x,E){this.high=x,this.low=E}}),w.WordArray=A.extend({init:function(x,E){x=this.words=x||[],E!=u?this.sigBytes=E:this.sigBytes=x.length*8},toX32:function(){for(var x=this.words,E=x.length,m=[],v=0;v<E;v++){var _=x[v];m.push(_.high),m.push(_.low)}return p.create(m,this.sigBytes)},clone:function(){for(var x=A.clone.call(this),E=x.words=this.words.slice(0),m=E.length,v=0;v<m;v++)E[v]=E[v].clone();return x}})}(),a})}(Qi)),Qi.exports}var Ki={exports:{}},ks;function _c(){return ks||(ks=1,function(s,c){(function(a,u){s.exports=u(Pe())})(De,function(a){return function(){if(typeof ArrayBuffer=="function"){var u=a,d=u.lib,h=d.WordArray,A=h.init,p=h.init=function(w){if(w instanceof ArrayBuffer&&(w=new Uint8Array(w)),(w instanceof Int8Array||typeof Uint8ClampedArray<"u"&&w instanceof Uint8ClampedArray||w instanceof Int16Array||w instanceof Uint16Array||w instanceof Int32Array||w instanceof Uint32Array||w instanceof Float32Array||w instanceof Float64Array)&&(w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength)),w instanceof Uint8Array){for(var x=w.byteLength,E=[],m=0;m<x;m++)E[m>>>2]|=w[m]<<24-m%4*8;A.call(this,E,x)}else A.apply(this,arguments)};p.prototype=h}}(),a.lib.WordArray})}(Ki)),Ki.exports}var Ji={exports:{}},Ps;function Dc(){return Ps||(Ps=1,function(s,c){(function(a,u){s.exports=u(Pe())})(De,function(a){return function(){var u=a,d=u.lib,h=d.WordArray,A=u.enc;A.Utf16=A.Utf16BE={stringify:function(w){for(var x=w.words,E=w.sigBytes,m=[],v=0;v<E;v+=2){var _=x[v>>>2]>>>16-v%4*8&65535;m.push(String.fromCharCode(_))}return m.join("")},parse:function(w){for(var x=w.length,E=[],m=0;m<x;m++)E[m>>>1]|=w.charCodeAt(m)<<16-m%2*16;return h.create(E,x*2)}},A.Utf16LE={stringify:function(w){for(var x=w.words,E=w.sigBytes,m=[],v=0;v<E;v+=2){var _=p(x[v>>>2]>>>16-v%4*8&65535);m.push(String.fromCharCode(_))}return m.join("")},parse:function(w){for(var x=w.length,E=[],m=0;m<x;m++)E[m>>>1]|=p(w.charCodeAt(m)<<16-m%2*16);return h.create(E,x*2)}};function p(w){return w<<8&4278255360|w>>>8&16711935}}(),a.enc.Utf16})}(Ji)),Ji.exports}var e0={exports:{}},Us;function Jr(){return Us||(Us=1,function(s,c){(function(a,u){s.exports=u(Pe())})(De,function(a){return function(){var u=a,d=u.lib,h=d.WordArray,A=u.enc;A.Base64={stringify:function(w){var x=w.words,E=w.sigBytes,m=this._map;w.clamp();for(var v=[],_=0;_<E;_+=3)for(var B=x[_>>>2]>>>24-_%4*8&255,D=x[_+1>>>2]>>>24-(_+1)%4*8&255,N=x[_+2>>>2]>>>24-(_+2)%4*8&255,F=B<<16|D<<8|N,S=0;S<4&&_+S*.75<E;S++)v.push(m.charAt(F>>>6*(3-S)&63));var T=m.charAt(64);if(T)for(;v.length%4;)v.push(T);return v.join("")},parse:function(w){var x=w.length,E=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var v=0;v<E.length;v++)m[E.charCodeAt(v)]=v}var _=E.charAt(64);if(_){var B=w.indexOf(_);B!==-1&&(x=B)}return p(w,x,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function p(w,x,E){for(var m=[],v=0,_=0;_<x;_++)if(_%4){var B=E[w.charCodeAt(_-1)]<<_%4*2,D=E[w.charCodeAt(_)]>>>6-_%4*2,N=B|D;m[v>>>2]|=N<<24-v%4*8,v++}return h.create(m,v)}}(),a.enc.Base64})}(e0)),e0.exports}var t0={exports:{}},Hs;function Tc(){return Hs||(Hs=1,function(s,c){(function(a,u){s.exports=u(Pe())})(De,function(a){return function(){var u=a,d=u.lib,h=d.WordArray,A=u.enc;A.Base64url={stringify:function(w,x){x===void 0&&(x=!0);var E=w.words,m=w.sigBytes,v=x?this._safe_map:this._map;w.clamp();for(var _=[],B=0;B<m;B+=3)for(var D=E[B>>>2]>>>24-B%4*8&255,N=E[B+1>>>2]>>>24-(B+1)%4*8&255,F=E[B+2>>>2]>>>24-(B+2)%4*8&255,S=D<<16|N<<8|F,T=0;T<4&&B+T*.75<m;T++)_.push(v.charAt(S>>>6*(3-T)&63));var M=v.charAt(64);if(M)for(;_.length%4;)_.push(M);return _.join("")},parse:function(w,x){x===void 0&&(x=!0);var E=w.length,m=x?this._safe_map:this._map,v=this._reverseMap;if(!v){v=this._reverseMap=[];for(var _=0;_<m.length;_++)v[m.charCodeAt(_)]=_}var B=m.charAt(64);if(B){var D=w.indexOf(B);D!==-1&&(E=D)}return p(w,E,v)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function p(w,x,E){for(var m=[],v=0,_=0;_<x;_++)if(_%4){var B=E[w.charCodeAt(_-1)]<<_%4*2,D=E[w.charCodeAt(_)]>>>6-_%4*2,N=B|D;m[v>>>2]|=N<<24-v%4*8,v++}return h.create(m,v)}}(),a.enc.Base64url})}(t0)),t0.exports}var r0={exports:{}},zs;function en(){return zs||(zs=1,function(s,c){(function(a,u){s.exports=u(Pe())})(De,function(a){return function(u){var d=a,h=d.lib,A=h.WordArray,p=h.Hasher,w=d.algo,x=[];(function(){for(var D=0;D<64;D++)x[D]=u.abs(u.sin(D+1))*4294967296|0})();var E=w.MD5=p.extend({_doReset:function(){this._hash=new A.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(D,N){for(var F=0;F<16;F++){var S=N+F,T=D[S];D[S]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var M=this._hash.words,z=D[N+0],U=D[N+1],L=D[N+2],q=D[N+3],W=D[N+4],H=D[N+5],V=D[N+6],G=D[N+7],X=D[N+8],ie=D[N+9],j=D[N+10],Ae=D[N+11],he=D[N+12],_e=D[N+13],Ne=D[N+14],ye=D[N+15],$=M[0],J=M[1],te=M[2],ee=M[3];$=m($,J,te,ee,z,7,x[0]),ee=m(ee,$,J,te,U,12,x[1]),te=m(te,ee,$,J,L,17,x[2]),J=m(J,te,ee,$,q,22,x[3]),$=m($,J,te,ee,W,7,x[4]),ee=m(ee,$,J,te,H,12,x[5]),te=m(te,ee,$,J,V,17,x[6]),J=m(J,te,ee,$,G,22,x[7]),$=m($,J,te,ee,X,7,x[8]),ee=m(ee,$,J,te,ie,12,x[9]),te=m(te,ee,$,J,j,17,x[10]),J=m(J,te,ee,$,Ae,22,x[11]),$=m($,J,te,ee,he,7,x[12]),ee=m(ee,$,J,te,_e,12,x[13]),te=m(te,ee,$,J,Ne,17,x[14]),J=m(J,te,ee,$,ye,22,x[15]),$=v($,J,te,ee,U,5,x[16]),ee=v(ee,$,J,te,V,9,x[17]),te=v(te,ee,$,J,Ae,14,x[18]),J=v(J,te,ee,$,z,20,x[19]),$=v($,J,te,ee,H,5,x[20]),ee=v(ee,$,J,te,j,9,x[21]),te=v(te,ee,$,J,ye,14,x[22]),J=v(J,te,ee,$,W,20,x[23]),$=v($,J,te,ee,ie,5,x[24]),ee=v(ee,$,J,te,Ne,9,x[25]),te=v(te,ee,$,J,q,14,x[26]),J=v(J,te,ee,$,X,20,x[27]),$=v($,J,te,ee,_e,5,x[28]),ee=v(ee,$,J,te,L,9,x[29]),te=v(te,ee,$,J,G,14,x[30]),J=v(J,te,ee,$,he,20,x[31]),$=_($,J,te,ee,H,4,x[32]),ee=_(ee,$,J,te,X,11,x[33]),te=_(te,ee,$,J,Ae,16,x[34]),J=_(J,te,ee,$,Ne,23,x[35]),$=_($,J,te,ee,U,4,x[36]),ee=_(ee,$,J,te,W,11,x[37]),te=_(te,ee,$,J,G,16,x[38]),J=_(J,te,ee,$,j,23,x[39]),$=_($,J,te,ee,_e,4,x[40]),ee=_(ee,$,J,te,z,11,x[41]),te=_(te,ee,$,J,q,16,x[42]),J=_(J,te,ee,$,V,23,x[43]),$=_($,J,te,ee,ie,4,x[44]),ee=_(ee,$,J,te,he,11,x[45]),te=_(te,ee,$,J,ye,16,x[46]),J=_(J,te,ee,$,L,23,x[47]),$=B($,J,te,ee,z,6,x[48]),ee=B(ee,$,J,te,G,10,x[49]),te=B(te,ee,$,J,Ne,15,x[50]),J=B(J,te,ee,$,H,21,x[51]),$=B($,J,te,ee,he,6,x[52]),ee=B(ee,$,J,te,q,10,x[53]),te=B(te,ee,$,J,j,15,x[54]),J=B(J,te,ee,$,U,21,x[55]),$=B($,J,te,ee,X,6,x[56]),ee=B(ee,$,J,te,ye,10,x[57]),te=B(te,ee,$,J,V,15,x[58]),J=B(J,te,ee,$,_e,21,x[59]),$=B($,J,te,ee,W,6,x[60]),ee=B(ee,$,J,te,Ae,10,x[61]),te=B(te,ee,$,J,L,15,x[62]),J=B(J,te,ee,$,ie,21,x[63]),M[0]=M[0]+$|0,M[1]=M[1]+J|0,M[2]=M[2]+te|0,M[3]=M[3]+ee|0},_doFinalize:function(){var D=this._data,N=D.words,F=this._nDataBytes*8,S=D.sigBytes*8;N[S>>>5]|=128<<24-S%32;var T=u.floor(F/4294967296),M=F;N[(S+64>>>9<<4)+15]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,N[(S+64>>>9<<4)+14]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,D.sigBytes=(N.length+1)*4,this._process();for(var z=this._hash,U=z.words,L=0;L<4;L++){var q=U[L];U[L]=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360}return z},clone:function(){var D=p.clone.call(this);return D._hash=this._hash.clone(),D}});function m(D,N,F,S,T,M,z){var U=D+(N&F|~N&S)+T+z;return(U<<M|U>>>32-M)+N}function v(D,N,F,S,T,M,z){var U=D+(N&S|F&~S)+T+z;return(U<<M|U>>>32-M)+N}function _(D,N,F,S,T,M,z){var U=D+(N^F^S)+T+z;return(U<<M|U>>>32-M)+N}function B(D,N,F,S,T,M,z){var U=D+(F^(N|~S))+T+z;return(U<<M|U>>>32-M)+N}d.MD5=p._createHelper(E),d.HmacMD5=p._createHmacHelper(E)}(Math),a.MD5})}(r0)),r0.exports}var n0={exports:{}},js;function la(){return js||(js=1,function(s,c){(function(a,u){s.exports=u(Pe())})(De,function(a){return function(){var u=a,d=u.lib,h=d.WordArray,A=d.Hasher,p=u.algo,w=[],x=p.SHA1=A.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,m){for(var v=this._hash.words,_=v[0],B=v[1],D=v[2],N=v[3],F=v[4],S=0;S<80;S++){if(S<16)w[S]=E[m+S]|0;else{var T=w[S-3]^w[S-8]^w[S-14]^w[S-16];w[S]=T<<1|T>>>31}var M=(_<<5|_>>>27)+F+w[S];S<20?M+=(B&D|~B&N)+1518500249:S<40?M+=(B^D^N)+1859775393:S<60?M+=(B&D|B&N|D&N)-1894007588:M+=(B^D^N)-899497514,F=N,N=D,D=B<<30|B>>>2,B=_,_=M}v[0]=v[0]+_|0,v[1]=v[1]+B|0,v[2]=v[2]+D|0,v[3]=v[3]+N|0,v[4]=v[4]+F|0},_doFinalize:function(){var E=this._data,m=E.words,v=this._nDataBytes*8,_=E.sigBytes*8;return m[_>>>5]|=128<<24-_%32,m[(_+64>>>9<<4)+14]=Math.floor(v/4294967296),m[(_+64>>>9<<4)+15]=v,E.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var E=A.clone.call(this);return E._hash=this._hash.clone(),E}});u.SHA1=A._createHelper(x),u.HmacSHA1=A._createHmacHelper(x)}(),a.SHA1})}(n0)),n0.exports}var i0={exports:{}},Ws;function K0(){return Ws||(Ws=1,function(s,c){(function(a,u){s.exports=u(Pe())})(De,function(a){return function(u){var d=a,h=d.lib,A=h.WordArray,p=h.Hasher,w=d.algo,x=[],E=[];(function(){function _(F){for(var S=u.sqrt(F),T=2;T<=S;T++)if(!(F%T))return!1;return!0}function B(F){return(F-(F|0))*4294967296|0}for(var D=2,N=0;N<64;)_(D)&&(N<8&&(x[N]=B(u.pow(D,1/2))),E[N]=B(u.pow(D,1/3)),N++),D++})();var m=[],v=w.SHA256=p.extend({_doReset:function(){this._hash=new A.init(x.slice(0))},_doProcessBlock:function(_,B){for(var D=this._hash.words,N=D[0],F=D[1],S=D[2],T=D[3],M=D[4],z=D[5],U=D[6],L=D[7],q=0;q<64;q++){if(q<16)m[q]=_[B+q]|0;else{var W=m[q-15],H=(W<<25|W>>>7)^(W<<14|W>>>18)^W>>>3,V=m[q-2],G=(V<<15|V>>>17)^(V<<13|V>>>19)^V>>>10;m[q]=H+m[q-7]+G+m[q-16]}var X=M&z^~M&U,ie=N&F^N&S^F&S,j=(N<<30|N>>>2)^(N<<19|N>>>13)^(N<<10|N>>>22),Ae=(M<<26|M>>>6)^(M<<21|M>>>11)^(M<<7|M>>>25),he=L+Ae+X+E[q]+m[q],_e=j+ie;L=U,U=z,z=M,M=T+he|0,T=S,S=F,F=N,N=he+_e|0}D[0]=D[0]+N|0,D[1]=D[1]+F|0,D[2]=D[2]+S|0,D[3]=D[3]+T|0,D[4]=D[4]+M|0,D[5]=D[5]+z|0,D[6]=D[6]+U|0,D[7]=D[7]+L|0},_doFinalize:function(){var _=this._data,B=_.words,D=this._nDataBytes*8,N=_.sigBytes*8;return B[N>>>5]|=128<<24-N%32,B[(N+64>>>9<<4)+14]=u.floor(D/4294967296),B[(N+64>>>9<<4)+15]=D,_.sigBytes=B.length*4,this._process(),this._hash},clone:function(){var _=p.clone.call(this);return _._hash=this._hash.clone(),_}});d.SHA256=p._createHelper(v),d.HmacSHA256=p._createHmacHelper(v)}(Math),a.SHA256})}(i0)),i0.exports}var s0={exports:{}},Vs;function Bc(){return Vs||(Vs=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),K0())})(De,function(a){return function(){var u=a,d=u.lib,h=d.WordArray,A=u.algo,p=A.SHA256,w=A.SHA224=p.extend({_doReset:function(){this._hash=new h.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var x=p._doFinalize.call(this);return x.sigBytes-=4,x}});u.SHA224=p._createHelper(w),u.HmacSHA224=p._createHmacHelper(w)}(),a.SHA224})}(s0)),s0.exports}var o0={exports:{}},Gs;function ua(){return Gs||(Gs=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Si())})(De,function(a){return function(){var u=a,d=u.lib,h=d.Hasher,A=u.x64,p=A.Word,w=A.WordArray,x=u.algo;function E(){return p.create.apply(p,arguments)}var m=[E(1116352408,3609767458),E(1899447441,602891725),E(3049323471,3964484399),E(3921009573,2173295548),E(961987163,4081628472),E(1508970993,3053834265),E(2453635748,2937671579),E(2870763221,3664609560),E(3624381080,2734883394),E(310598401,1164996542),E(607225278,1323610764),E(1426881987,3590304994),E(1925078388,4068182383),E(2162078206,991336113),E(2614888103,633803317),E(3248222580,3479774868),E(3835390401,2666613458),E(4022224774,944711139),E(264347078,2341262773),E(604807628,2007800933),E(770255983,1495990901),E(1249150122,1856431235),E(1555081692,3175218132),E(1996064986,2198950837),E(2554220882,3999719339),E(2821834349,766784016),E(2952996808,2566594879),E(3210313671,3203337956),E(3336571891,1034457026),E(3584528711,2466948901),E(113926993,3758326383),E(338241895,168717936),E(666307205,1188179964),E(773529912,1546045734),E(1294757372,1522805485),E(1396182291,2643833823),E(1695183700,2343527390),E(1986661051,1014477480),E(2177026350,1206759142),E(2456956037,344077627),E(2730485921,1290863460),E(2820302411,3158454273),E(3259730800,3505952657),E(3345764771,106217008),E(3516065817,3606008344),E(3600352804,1432725776),E(4094571909,1467031594),E(275423344,851169720),E(430227734,3100823752),E(506948616,1363258195),E(659060556,3750685593),E(883997877,3785050280),E(958139571,3318307427),E(1322822218,3812723403),E(1537002063,2003034995),E(1747873779,3602036899),E(1955562222,1575990012),E(2024104815,1125592928),E(2227730452,2716904306),E(2361852424,442776044),E(2428436474,593698344),E(2756734187,3733110249),E(3204031479,2999351573),E(3329325298,3815920427),E(3391569614,3928383900),E(3515267271,566280711),E(3940187606,3454069534),E(4118630271,4000239992),E(116418474,1914138554),E(174292421,2731055270),E(289380356,3203993006),E(460393269,320620315),E(685471733,587496836),E(852142971,1086792851),E(1017036298,365543100),E(1126000580,2618297676),E(1288033470,3409855158),E(1501505948,4234509866),E(1607167915,987167468),E(1816402316,1246189591)],v=[];(function(){for(var B=0;B<80;B++)v[B]=E()})();var _=x.SHA512=h.extend({_doReset:function(){this._hash=new w.init([new p.init(1779033703,4089235720),new p.init(3144134277,2227873595),new p.init(1013904242,4271175723),new p.init(2773480762,1595750129),new p.init(1359893119,2917565137),new p.init(2600822924,725511199),new p.init(528734635,4215389547),new p.init(1541459225,327033209)])},_doProcessBlock:function(B,D){for(var N=this._hash.words,F=N[0],S=N[1],T=N[2],M=N[3],z=N[4],U=N[5],L=N[6],q=N[7],W=F.high,H=F.low,V=S.high,G=S.low,X=T.high,ie=T.low,j=M.high,Ae=M.low,he=z.high,_e=z.low,Ne=U.high,ye=U.low,$=L.high,J=L.low,te=q.high,ee=q.low,Ue=W,le=H,rt=V,pe=G,Ct=X,Ge=ie,je=j,Et=Ae,ve=he,lt=_e,Tt=Ne,sr=ye,ut=$,We=J,Fe=te,hr=ee,de=0;de<80;de++){var Bt,or,Ut=v[de];if(de<16)or=Ut.high=B[D+de*2]|0,Bt=Ut.low=B[D+de*2+1]|0;else{var rn=v[de-15],yt=rn.high,Or=rn.low,dr=(yt>>>1|Or<<31)^(yt>>>8|Or<<24)^yt>>>7,bt=(Or>>>1|yt<<31)^(Or>>>8|yt<<24)^(Or>>>7|yt<<25),bn=v[de-2],ar=bn.high,Gr=bn.low,ft=(ar>>>19|Gr<<13)^(ar<<3|Gr>>>29)^ar>>>6,ue=(Gr>>>19|ar<<13)^(Gr<<3|ar>>>29)^(Gr>>>6|ar<<26),ht=v[de-7],Ze=ht.high,ot=ht.low,Mr=v[de-16],vn=Mr.high,In=Mr.low;Bt=bt+ot,or=dr+Ze+(Bt>>>0<bt>>>0?1:0),Bt=Bt+ue,or=or+ft+(Bt>>>0<ue>>>0?1:0),Bt=Bt+In,or=or+vn+(Bt>>>0<In>>>0?1:0),Ut.high=or,Ut.low=Bt}var He=ve&Tt^~ve&ut,xr=lt&sr^~lt&We,qn=Ue&rt^Ue&Ct^rt&Ct,Zn=le&pe^le&Ge^pe&Ge,Vt=(Ue>>>28|le<<4)^(Ue<<30|le>>>2)^(Ue<<25|le>>>7),nn=(le>>>28|Ue<<4)^(le<<30|Ue>>>2)^(le<<25|Ue>>>7),vt=(ve>>>14|lt<<18)^(ve>>>18|lt<<14)^(ve<<23|lt>>>9),Rr=(lt>>>14|ve<<18)^(lt>>>18|ve<<14)^(lt<<23|ve>>>9),Xr=m[de],Qt=Xr.high,$n=Xr.low,At=hr+Rr,Kt=Fe+vt+(At>>>0<hr>>>0?1:0),At=At+xr,Kt=Kt+He+(At>>>0<xr>>>0?1:0),At=At+$n,Kt=Kt+Qt+(At>>>0<$n>>>0?1:0),At=At+Bt,Kt=Kt+or+(At>>>0<Bt>>>0?1:0),Nt=nn+Zn,vr=Vt+qn+(Nt>>>0<nn>>>0?1:0);Fe=ut,hr=We,ut=Tt,We=sr,Tt=ve,sr=lt,lt=Et+At|0,ve=je+Kt+(lt>>>0<Et>>>0?1:0)|0,je=Ct,Et=Ge,Ct=rt,Ge=pe,rt=Ue,pe=le,le=At+Nt|0,Ue=Kt+vr+(le>>>0<At>>>0?1:0)|0}H=F.low=H+le,F.high=W+Ue+(H>>>0<le>>>0?1:0),G=S.low=G+pe,S.high=V+rt+(G>>>0<pe>>>0?1:0),ie=T.low=ie+Ge,T.high=X+Ct+(ie>>>0<Ge>>>0?1:0),Ae=M.low=Ae+Et,M.high=j+je+(Ae>>>0<Et>>>0?1:0),_e=z.low=_e+lt,z.high=he+ve+(_e>>>0<lt>>>0?1:0),ye=U.low=ye+sr,U.high=Ne+Tt+(ye>>>0<sr>>>0?1:0),J=L.low=J+We,L.high=$+ut+(J>>>0<We>>>0?1:0),ee=q.low=ee+hr,q.high=te+Fe+(ee>>>0<hr>>>0?1:0)},_doFinalize:function(){var B=this._data,D=B.words,N=this._nDataBytes*8,F=B.sigBytes*8;D[F>>>5]|=128<<24-F%32,D[(F+128>>>10<<5)+30]=Math.floor(N/4294967296),D[(F+128>>>10<<5)+31]=N,B.sigBytes=D.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var B=h.clone.call(this);return B._hash=this._hash.clone(),B},blockSize:1024/32});u.SHA512=h._createHelper(_),u.HmacSHA512=h._createHmacHelper(_)}(),a.SHA512})}(o0)),o0.exports}var a0={exports:{}},Xs;function Nc(){return Xs||(Xs=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Si(),ua())})(De,function(a){return function(){var u=a,d=u.x64,h=d.Word,A=d.WordArray,p=u.algo,w=p.SHA512,x=p.SHA384=w.extend({_doReset:function(){this._hash=new A.init([new h.init(3418070365,3238371032),new h.init(1654270250,914150663),new h.init(2438529370,812702999),new h.init(355462360,4144912697),new h.init(1731405415,4290775857),new h.init(2394180231,1750603025),new h.init(3675008525,1694076839),new h.init(1203062813,3204075428)])},_doFinalize:function(){var E=w._doFinalize.call(this);return E.sigBytes-=16,E}});u.SHA384=w._createHelper(x),u.HmacSHA384=w._createHmacHelper(x)}(),a.SHA384})}(a0)),a0.exports}var c0={exports:{}},Ys;function Oc(){return Ys||(Ys=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Si())})(De,function(a){return function(u){var d=a,h=d.lib,A=h.WordArray,p=h.Hasher,w=d.x64,x=w.Word,E=d.algo,m=[],v=[],_=[];(function(){for(var N=1,F=0,S=0;S<24;S++){m[N+5*F]=(S+1)*(S+2)/2%64;var T=F%5,M=(2*N+3*F)%5;N=T,F=M}for(var N=0;N<5;N++)for(var F=0;F<5;F++)v[N+5*F]=F+(2*N+3*F)%5*5;for(var z=1,U=0;U<24;U++){for(var L=0,q=0,W=0;W<7;W++){if(z&1){var H=(1<<W)-1;H<32?q^=1<<H:L^=1<<H-32}z&128?z=z<<1^113:z<<=1}_[U]=x.create(L,q)}})();var B=[];(function(){for(var N=0;N<25;N++)B[N]=x.create()})();var D=E.SHA3=p.extend({cfg:p.cfg.extend({outputLength:512}),_doReset:function(){for(var N=this._state=[],F=0;F<25;F++)N[F]=new x.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(N,F){for(var S=this._state,T=this.blockSize/2,M=0;M<T;M++){var z=N[F+2*M],U=N[F+2*M+1];z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,U=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360;var L=S[M];L.high^=U,L.low^=z}for(var q=0;q<24;q++){for(var W=0;W<5;W++){for(var H=0,V=0,G=0;G<5;G++){var L=S[W+5*G];H^=L.high,V^=L.low}var X=B[W];X.high=H,X.low=V}for(var W=0;W<5;W++)for(var ie=B[(W+4)%5],j=B[(W+1)%5],Ae=j.high,he=j.low,H=ie.high^(Ae<<1|he>>>31),V=ie.low^(he<<1|Ae>>>31),G=0;G<5;G++){var L=S[W+5*G];L.high^=H,L.low^=V}for(var _e=1;_e<25;_e++){var H,V,L=S[_e],Ne=L.high,ye=L.low,$=m[_e];$<32?(H=Ne<<$|ye>>>32-$,V=ye<<$|Ne>>>32-$):(H=ye<<$-32|Ne>>>64-$,V=Ne<<$-32|ye>>>64-$);var J=B[v[_e]];J.high=H,J.low=V}var te=B[0],ee=S[0];te.high=ee.high,te.low=ee.low;for(var W=0;W<5;W++)for(var G=0;G<5;G++){var _e=W+5*G,L=S[_e],Ue=B[_e],le=B[(W+1)%5+5*G],rt=B[(W+2)%5+5*G];L.high=Ue.high^~le.high&rt.high,L.low=Ue.low^~le.low&rt.low}var L=S[0],pe=_[q];L.high^=pe.high,L.low^=pe.low}},_doFinalize:function(){var N=this._data,F=N.words;this._nDataBytes*8;var S=N.sigBytes*8,T=this.blockSize*32;F[S>>>5]|=1<<24-S%32,F[(u.ceil((S+1)/T)*T>>>5)-1]|=128,N.sigBytes=F.length*4,this._process();for(var M=this._state,z=this.cfg.outputLength/8,U=z/8,L=[],q=0;q<U;q++){var W=M[q],H=W.high,V=W.low;H=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360,V=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,L.push(V),L.push(H)}return new A.init(L,z)},clone:function(){for(var N=p.clone.call(this),F=N._state=this._state.slice(0),S=0;S<25;S++)F[S]=F[S].clone();return N}});d.SHA3=p._createHelper(D),d.HmacSHA3=p._createHmacHelper(D)}(Math),a.SHA3})}(c0)),c0.exports}var l0={exports:{}},qs;function Mc(){return qs||(qs=1,function(s,c){(function(a,u){s.exports=u(Pe())})(De,function(a){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(u){var d=a,h=d.lib,A=h.WordArray,p=h.Hasher,w=d.algo,x=A.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),E=A.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=A.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),v=A.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),_=A.create([0,1518500249,1859775393,2400959708,2840853838]),B=A.create([1352829926,1548603684,1836072691,2053994217,0]),D=w.RIPEMD160=p.extend({_doReset:function(){this._hash=A.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(U,L){for(var q=0;q<16;q++){var W=L+q,H=U[W];U[W]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360}var V=this._hash.words,G=_.words,X=B.words,ie=x.words,j=E.words,Ae=m.words,he=v.words,_e,Ne,ye,$,J,te,ee,Ue,le,rt;te=_e=V[0],ee=Ne=V[1],Ue=ye=V[2],le=$=V[3],rt=J=V[4];for(var pe,q=0;q<80;q+=1)pe=_e+U[L+ie[q]]|0,q<16?pe+=N(Ne,ye,$)+G[0]:q<32?pe+=F(Ne,ye,$)+G[1]:q<48?pe+=S(Ne,ye,$)+G[2]:q<64?pe+=T(Ne,ye,$)+G[3]:pe+=M(Ne,ye,$)+G[4],pe=pe|0,pe=z(pe,Ae[q]),pe=pe+J|0,_e=J,J=$,$=z(ye,10),ye=Ne,Ne=pe,pe=te+U[L+j[q]]|0,q<16?pe+=M(ee,Ue,le)+X[0]:q<32?pe+=T(ee,Ue,le)+X[1]:q<48?pe+=S(ee,Ue,le)+X[2]:q<64?pe+=F(ee,Ue,le)+X[3]:pe+=N(ee,Ue,le)+X[4],pe=pe|0,pe=z(pe,he[q]),pe=pe+rt|0,te=rt,rt=le,le=z(Ue,10),Ue=ee,ee=pe;pe=V[1]+ye+le|0,V[1]=V[2]+$+rt|0,V[2]=V[3]+J+te|0,V[3]=V[4]+_e+ee|0,V[4]=V[0]+Ne+Ue|0,V[0]=pe},_doFinalize:function(){var U=this._data,L=U.words,q=this._nDataBytes*8,W=U.sigBytes*8;L[W>>>5]|=128<<24-W%32,L[(W+64>>>9<<4)+14]=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360,U.sigBytes=(L.length+1)*4,this._process();for(var H=this._hash,V=H.words,G=0;G<5;G++){var X=V[G];V[G]=(X<<8|X>>>24)&16711935|(X<<24|X>>>8)&4278255360}return H},clone:function(){var U=p.clone.call(this);return U._hash=this._hash.clone(),U}});function N(U,L,q){return U^L^q}function F(U,L,q){return U&L|~U&q}function S(U,L,q){return(U|~L)^q}function T(U,L,q){return U&q|L&~q}function M(U,L,q){return U^(L|~q)}function z(U,L){return U<<L|U>>>32-L}d.RIPEMD160=p._createHelper(D),d.HmacRIPEMD160=p._createHmacHelper(D)}(),a.RIPEMD160})}(l0)),l0.exports}var u0={exports:{}},Zs;function J0(){return Zs||(Zs=1,function(s,c){(function(a,u){s.exports=u(Pe())})(De,function(a){(function(){var u=a,d=u.lib,h=d.Base,A=u.enc,p=A.Utf8,w=u.algo;w.HMAC=h.extend({init:function(x,E){x=this._hasher=new x.init,typeof E=="string"&&(E=p.parse(E));var m=x.blockSize,v=m*4;E.sigBytes>v&&(E=x.finalize(E)),E.clamp();for(var _=this._oKey=E.clone(),B=this._iKey=E.clone(),D=_.words,N=B.words,F=0;F<m;F++)D[F]^=1549556828,N[F]^=909522486;_.sigBytes=B.sigBytes=v,this.reset()},reset:function(){var x=this._hasher;x.reset(),x.update(this._iKey)},update:function(x){return this._hasher.update(x),this},finalize:function(x){var E=this._hasher,m=E.finalize(x);E.reset();var v=E.finalize(this._oKey.clone().concat(m));return v}})})()})}(u0)),u0.exports}var f0={exports:{}},$s;function Rc(){return $s||($s=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),K0(),J0())})(De,function(a){return function(){var u=a,d=u.lib,h=d.Base,A=d.WordArray,p=u.algo,w=p.SHA256,x=p.HMAC,E=p.PBKDF2=h.extend({cfg:h.extend({keySize:128/32,hasher:w,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,v){for(var _=this.cfg,B=x.create(_.hasher,m),D=A.create(),N=A.create([1]),F=D.words,S=N.words,T=_.keySize,M=_.iterations;F.length<T;){var z=B.update(v).finalize(N);B.reset();for(var U=z.words,L=U.length,q=z,W=1;W<M;W++){q=B.finalize(q),B.reset();for(var H=q.words,V=0;V<L;V++)U[V]^=H[V]}D.concat(z),S[0]++}return D.sigBytes=T*4,D}});u.PBKDF2=function(m,v,_){return E.create(_).compute(m,v)}}(),a.PBKDF2})}(f0)),f0.exports}var h0={exports:{}},Qs;function Vr(){return Qs||(Qs=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),la(),J0())})(De,function(a){return function(){var u=a,d=u.lib,h=d.Base,A=d.WordArray,p=u.algo,w=p.MD5,x=p.EvpKDF=h.extend({cfg:h.extend({keySize:128/32,hasher:w,iterations:1}),init:function(E){this.cfg=this.cfg.extend(E)},compute:function(E,m){for(var v,_=this.cfg,B=_.hasher.create(),D=A.create(),N=D.words,F=_.keySize,S=_.iterations;N.length<F;){v&&B.update(v),v=B.update(E).finalize(m),B.reset();for(var T=1;T<S;T++)v=B.finalize(v),B.reset();D.concat(v)}return D.sigBytes=F*4,D}});u.EvpKDF=function(E,m,v){return x.create(v).compute(E,m)}}(),a.EvpKDF})}(h0)),h0.exports}var d0={exports:{}},Ks;function Dt(){return Ks||(Ks=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Vr())})(De,function(a){a.lib.Cipher||function(u){var d=a,h=d.lib,A=h.Base,p=h.WordArray,w=h.BufferedBlockAlgorithm,x=d.enc;x.Utf8;var E=x.Base64,m=d.algo,v=m.EvpKDF,_=h.Cipher=w.extend({cfg:A.extend(),createEncryptor:function(H,V){return this.create(this._ENC_XFORM_MODE,H,V)},createDecryptor:function(H,V){return this.create(this._DEC_XFORM_MODE,H,V)},init:function(H,V,G){this.cfg=this.cfg.extend(G),this._xformMode=H,this._key=V,this.reset()},reset:function(){w.reset.call(this),this._doReset()},process:function(H){return this._append(H),this._process()},finalize:function(H){H&&this._append(H);var V=this._doFinalize();return V},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function H(V){return typeof V=="string"?W:U}return function(V){return{encrypt:function(G,X,ie){return H(X).encrypt(V,G,X,ie)},decrypt:function(G,X,ie){return H(X).decrypt(V,G,X,ie)}}}}()});h.StreamCipher=_.extend({_doFinalize:function(){var H=this._process(!0);return H},blockSize:1});var B=d.mode={},D=h.BlockCipherMode=A.extend({createEncryptor:function(H,V){return this.Encryptor.create(H,V)},createDecryptor:function(H,V){return this.Decryptor.create(H,V)},init:function(H,V){this._cipher=H,this._iv=V}}),N=B.CBC=function(){var H=D.extend();H.Encryptor=H.extend({processBlock:function(G,X){var ie=this._cipher,j=ie.blockSize;V.call(this,G,X,j),ie.encryptBlock(G,X),this._prevBlock=G.slice(X,X+j)}}),H.Decryptor=H.extend({processBlock:function(G,X){var ie=this._cipher,j=ie.blockSize,Ae=G.slice(X,X+j);ie.decryptBlock(G,X),V.call(this,G,X,j),this._prevBlock=Ae}});function V(G,X,ie){var j,Ae=this._iv;Ae?(j=Ae,this._iv=u):j=this._prevBlock;for(var he=0;he<ie;he++)G[X+he]^=j[he]}return H}(),F=d.pad={},S=F.Pkcs7={pad:function(H,V){for(var G=V*4,X=G-H.sigBytes%G,ie=X<<24|X<<16|X<<8|X,j=[],Ae=0;Ae<X;Ae+=4)j.push(ie);var he=p.create(j,X);H.concat(he)},unpad:function(H){var V=H.words[H.sigBytes-1>>>2]&255;H.sigBytes-=V}};h.BlockCipher=_.extend({cfg:_.cfg.extend({mode:N,padding:S}),reset:function(){var H;_.reset.call(this);var V=this.cfg,G=V.iv,X=V.mode;this._xformMode==this._ENC_XFORM_MODE?H=X.createEncryptor:(H=X.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==H?this._mode.init(this,G&&G.words):(this._mode=H.call(X,this,G&&G.words),this._mode.__creator=H)},_doProcessBlock:function(H,V){this._mode.processBlock(H,V)},_doFinalize:function(){var H,V=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(V.pad(this._data,this.blockSize),H=this._process(!0)):(H=this._process(!0),V.unpad(H)),H},blockSize:128/32});var T=h.CipherParams=A.extend({init:function(H){this.mixIn(H)},toString:function(H){return(H||this.formatter).stringify(this)}}),M=d.format={},z=M.OpenSSL={stringify:function(H){var V,G=H.ciphertext,X=H.salt;return X?V=p.create([1398893684,1701076831]).concat(X).concat(G):V=G,V.toString(E)},parse:function(H){var V,G=E.parse(H),X=G.words;return X[0]==1398893684&&X[1]==1701076831&&(V=p.create(X.slice(2,4)),X.splice(0,4),G.sigBytes-=16),T.create({ciphertext:G,salt:V})}},U=h.SerializableCipher=A.extend({cfg:A.extend({format:z}),encrypt:function(H,V,G,X){X=this.cfg.extend(X);var ie=H.createEncryptor(G,X),j=ie.finalize(V),Ae=ie.cfg;return T.create({ciphertext:j,key:G,iv:Ae.iv,algorithm:H,mode:Ae.mode,padding:Ae.padding,blockSize:H.blockSize,formatter:X.format})},decrypt:function(H,V,G,X){X=this.cfg.extend(X),V=this._parse(V,X.format);var ie=H.createDecryptor(G,X).finalize(V.ciphertext);return ie},_parse:function(H,V){return typeof H=="string"?V.parse(H,this):H}}),L=d.kdf={},q=L.OpenSSL={execute:function(H,V,G,X,ie){if(X||(X=p.random(64/8)),ie)var j=v.create({keySize:V+G,hasher:ie}).compute(H,X);else var j=v.create({keySize:V+G}).compute(H,X);var Ae=p.create(j.words.slice(V),G*4);return j.sigBytes=V*4,T.create({key:j,iv:Ae,salt:X})}},W=h.PasswordBasedCipher=U.extend({cfg:U.cfg.extend({kdf:q}),encrypt:function(H,V,G,X){X=this.cfg.extend(X);var ie=X.kdf.execute(G,H.keySize,H.ivSize,X.salt,X.hasher);X.iv=ie.iv;var j=U.encrypt.call(this,H,V,ie.key,X);return j.mixIn(ie),j},decrypt:function(H,V,G,X){X=this.cfg.extend(X),V=this._parse(V,X.format);var ie=X.kdf.execute(G,H.keySize,H.ivSize,V.salt,X.hasher);X.iv=ie.iv;var j=U.decrypt.call(this,H,V,ie.key,X);return j}})}()})}(d0)),d0.exports}var x0={exports:{}},Js;function Fc(){return Js||(Js=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Dt())})(De,function(a){return a.mode.CFB=function(){var u=a.lib.BlockCipherMode.extend();u.Encryptor=u.extend({processBlock:function(h,A){var p=this._cipher,w=p.blockSize;d.call(this,h,A,w,p),this._prevBlock=h.slice(A,A+w)}}),u.Decryptor=u.extend({processBlock:function(h,A){var p=this._cipher,w=p.blockSize,x=h.slice(A,A+w);d.call(this,h,A,w,p),this._prevBlock=x}});function d(h,A,p,w){var x,E=this._iv;E?(x=E.slice(0),this._iv=void 0):x=this._prevBlock,w.encryptBlock(x,0);for(var m=0;m<p;m++)h[A+m]^=x[m]}return u}(),a.mode.CFB})}(x0)),x0.exports}var g0={exports:{}},eo;function Lc(){return eo||(eo=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Dt())})(De,function(a){return a.mode.CTR=function(){var u=a.lib.BlockCipherMode.extend(),d=u.Encryptor=u.extend({processBlock:function(h,A){var p=this._cipher,w=p.blockSize,x=this._iv,E=this._counter;x&&(E=this._counter=x.slice(0),this._iv=void 0);var m=E.slice(0);p.encryptBlock(m,0),E[w-1]=E[w-1]+1|0;for(var v=0;v<w;v++)h[A+v]^=m[v]}});return u.Decryptor=d,u}(),a.mode.CTR})}(g0)),g0.exports}var A0={exports:{}},to;function kc(){return to||(to=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Dt())})(De,function(a){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return a.mode.CTRGladman=function(){var u=a.lib.BlockCipherMode.extend();function d(p){if((p>>24&255)===255){var w=p>>16&255,x=p>>8&255,E=p&255;w===255?(w=0,x===255?(x=0,E===255?E=0:++E):++x):++w,p=0,p+=w<<16,p+=x<<8,p+=E}else p+=1<<24;return p}function h(p){return(p[0]=d(p[0]))===0&&(p[1]=d(p[1])),p}var A=u.Encryptor=u.extend({processBlock:function(p,w){var x=this._cipher,E=x.blockSize,m=this._iv,v=this._counter;m&&(v=this._counter=m.slice(0),this._iv=void 0),h(v);var _=v.slice(0);x.encryptBlock(_,0);for(var B=0;B<E;B++)p[w+B]^=_[B]}});return u.Decryptor=A,u}(),a.mode.CTRGladman})}(A0)),A0.exports}var p0={exports:{}},ro;function Pc(){return ro||(ro=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Dt())})(De,function(a){return a.mode.OFB=function(){var u=a.lib.BlockCipherMode.extend(),d=u.Encryptor=u.extend({processBlock:function(h,A){var p=this._cipher,w=p.blockSize,x=this._iv,E=this._keystream;x&&(E=this._keystream=x.slice(0),this._iv=void 0),p.encryptBlock(E,0);for(var m=0;m<w;m++)h[A+m]^=E[m]}});return u.Decryptor=d,u}(),a.mode.OFB})}(p0)),p0.exports}var C0={exports:{}},no;function Uc(){return no||(no=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Dt())})(De,function(a){return a.mode.ECB=function(){var u=a.lib.BlockCipherMode.extend();return u.Encryptor=u.extend({processBlock:function(d,h){this._cipher.encryptBlock(d,h)}}),u.Decryptor=u.extend({processBlock:function(d,h){this._cipher.decryptBlock(d,h)}}),u}(),a.mode.ECB})}(C0)),C0.exports}var E0={exports:{}},io;function Hc(){return io||(io=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Dt())})(De,function(a){return a.pad.AnsiX923={pad:function(u,d){var h=u.sigBytes,A=d*4,p=A-h%A,w=h+p-1;u.clamp(),u.words[w>>>2]|=p<<24-w%4*8,u.sigBytes+=p},unpad:function(u){var d=u.words[u.sigBytes-1>>>2]&255;u.sigBytes-=d}},a.pad.Ansix923})}(E0)),E0.exports}var w0={exports:{}},so;function zc(){return so||(so=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Dt())})(De,function(a){return a.pad.Iso10126={pad:function(u,d){var h=d*4,A=h-u.sigBytes%h;u.concat(a.lib.WordArray.random(A-1)).concat(a.lib.WordArray.create([A<<24],1))},unpad:function(u){var d=u.words[u.sigBytes-1>>>2]&255;u.sigBytes-=d}},a.pad.Iso10126})}(w0)),w0.exports}var m0={exports:{}},oo;function jc(){return oo||(oo=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Dt())})(De,function(a){return a.pad.Iso97971={pad:function(u,d){u.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(u,d)},unpad:function(u){a.pad.ZeroPadding.unpad(u),u.sigBytes--}},a.pad.Iso97971})}(m0)),m0.exports}var y0={exports:{}},ao;function Wc(){return ao||(ao=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Dt())})(De,function(a){return a.pad.ZeroPadding={pad:function(u,d){var h=d*4;u.clamp(),u.sigBytes+=h-(u.sigBytes%h||h)},unpad:function(u){for(var d=u.words,h=u.sigBytes-1,h=u.sigBytes-1;h>=0;h--)if(d[h>>>2]>>>24-h%4*8&255){u.sigBytes=h+1;break}}},a.pad.ZeroPadding})}(y0)),y0.exports}var b0={exports:{}},co;function Vc(){return co||(co=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Dt())})(De,function(a){return a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding})}(b0)),b0.exports}var v0={exports:{}},lo;function Gc(){return lo||(lo=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Dt())})(De,function(a){return function(u){var d=a,h=d.lib,A=h.CipherParams,p=d.enc,w=p.Hex,x=d.format;x.Hex={stringify:function(E){return E.ciphertext.toString(w)},parse:function(E){var m=w.parse(E);return A.create({ciphertext:m})}}}(),a.format.Hex})}(v0)),v0.exports}var I0={exports:{}},uo;function Xc(){return uo||(uo=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Jr(),en(),Vr(),Dt())})(De,function(a){return function(){var u=a,d=u.lib,h=d.BlockCipher,A=u.algo,p=[],w=[],x=[],E=[],m=[],v=[],_=[],B=[],D=[],N=[];(function(){for(var T=[],M=0;M<256;M++)M<128?T[M]=M<<1:T[M]=M<<1^283;for(var z=0,U=0,M=0;M<256;M++){var L=U^U<<1^U<<2^U<<3^U<<4;L=L>>>8^L&255^99,p[z]=L,w[L]=z;var q=T[z],W=T[q],H=T[W],V=T[L]*257^L*16843008;x[z]=V<<24|V>>>8,E[z]=V<<16|V>>>16,m[z]=V<<8|V>>>24,v[z]=V;var V=H*16843009^W*65537^q*257^z*16843008;_[L]=V<<24|V>>>8,B[L]=V<<16|V>>>16,D[L]=V<<8|V>>>24,N[L]=V,z?(z=q^T[T[T[H^q]]],U^=T[T[U]]):z=U=1}})();var F=[0,1,2,4,8,16,32,64,128,27,54],S=A.AES=h.extend({_doReset:function(){var T;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var M=this._keyPriorReset=this._key,z=M.words,U=M.sigBytes/4,L=this._nRounds=U+6,q=(L+1)*4,W=this._keySchedule=[],H=0;H<q;H++)H<U?W[H]=z[H]:(T=W[H-1],H%U?U>6&&H%U==4&&(T=p[T>>>24]<<24|p[T>>>16&255]<<16|p[T>>>8&255]<<8|p[T&255]):(T=T<<8|T>>>24,T=p[T>>>24]<<24|p[T>>>16&255]<<16|p[T>>>8&255]<<8|p[T&255],T^=F[H/U|0]<<24),W[H]=W[H-U]^T);for(var V=this._invKeySchedule=[],G=0;G<q;G++){var H=q-G;if(G%4)var T=W[H];else var T=W[H-4];G<4||H<=4?V[G]=T:V[G]=_[p[T>>>24]]^B[p[T>>>16&255]]^D[p[T>>>8&255]]^N[p[T&255]]}}},encryptBlock:function(T,M){this._doCryptBlock(T,M,this._keySchedule,x,E,m,v,p)},decryptBlock:function(T,M){var z=T[M+1];T[M+1]=T[M+3],T[M+3]=z,this._doCryptBlock(T,M,this._invKeySchedule,_,B,D,N,w);var z=T[M+1];T[M+1]=T[M+3],T[M+3]=z},_doCryptBlock:function(T,M,z,U,L,q,W,H){for(var V=this._nRounds,G=T[M]^z[0],X=T[M+1]^z[1],ie=T[M+2]^z[2],j=T[M+3]^z[3],Ae=4,he=1;he<V;he++){var _e=U[G>>>24]^L[X>>>16&255]^q[ie>>>8&255]^W[j&255]^z[Ae++],Ne=U[X>>>24]^L[ie>>>16&255]^q[j>>>8&255]^W[G&255]^z[Ae++],ye=U[ie>>>24]^L[j>>>16&255]^q[G>>>8&255]^W[X&255]^z[Ae++],$=U[j>>>24]^L[G>>>16&255]^q[X>>>8&255]^W[ie&255]^z[Ae++];G=_e,X=Ne,ie=ye,j=$}var _e=(H[G>>>24]<<24|H[X>>>16&255]<<16|H[ie>>>8&255]<<8|H[j&255])^z[Ae++],Ne=(H[X>>>24]<<24|H[ie>>>16&255]<<16|H[j>>>8&255]<<8|H[G&255])^z[Ae++],ye=(H[ie>>>24]<<24|H[j>>>16&255]<<16|H[G>>>8&255]<<8|H[X&255])^z[Ae++],$=(H[j>>>24]<<24|H[G>>>16&255]<<16|H[X>>>8&255]<<8|H[ie&255])^z[Ae++];T[M]=_e,T[M+1]=Ne,T[M+2]=ye,T[M+3]=$},keySize:256/32});u.AES=h._createHelper(S)}(),a.AES})}(I0)),I0.exports}var S0={exports:{}},fo;function Yc(){return fo||(fo=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Jr(),en(),Vr(),Dt())})(De,function(a){return function(){var u=a,d=u.lib,h=d.WordArray,A=d.BlockCipher,p=u.algo,w=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],x=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],E=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],v=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],_=p.DES=A.extend({_doReset:function(){for(var F=this._key,S=F.words,T=[],M=0;M<56;M++){var z=w[M]-1;T[M]=S[z>>>5]>>>31-z%32&1}for(var U=this._subKeys=[],L=0;L<16;L++){for(var q=U[L]=[],W=E[L],M=0;M<24;M++)q[M/6|0]|=T[(x[M]-1+W)%28]<<31-M%6,q[4+(M/6|0)]|=T[28+(x[M+24]-1+W)%28]<<31-M%6;q[0]=q[0]<<1|q[0]>>>31;for(var M=1;M<7;M++)q[M]=q[M]>>>(M-1)*4+3;q[7]=q[7]<<5|q[7]>>>27}for(var H=this._invSubKeys=[],M=0;M<16;M++)H[M]=U[15-M]},encryptBlock:function(F,S){this._doCryptBlock(F,S,this._subKeys)},decryptBlock:function(F,S){this._doCryptBlock(F,S,this._invSubKeys)},_doCryptBlock:function(F,S,T){this._lBlock=F[S],this._rBlock=F[S+1],B.call(this,4,252645135),B.call(this,16,65535),D.call(this,2,858993459),D.call(this,8,16711935),B.call(this,1,1431655765);for(var M=0;M<16;M++){for(var z=T[M],U=this._lBlock,L=this._rBlock,q=0,W=0;W<8;W++)q|=m[W][((L^z[W])&v[W])>>>0];this._lBlock=L,this._rBlock=U^q}var H=this._lBlock;this._lBlock=this._rBlock,this._rBlock=H,B.call(this,1,1431655765),D.call(this,8,16711935),D.call(this,2,858993459),B.call(this,16,65535),B.call(this,4,252645135),F[S]=this._lBlock,F[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function B(F,S){var T=(this._lBlock>>>F^this._rBlock)&S;this._rBlock^=T,this._lBlock^=T<<F}function D(F,S){var T=(this._rBlock>>>F^this._lBlock)&S;this._lBlock^=T,this._rBlock^=T<<F}u.DES=A._createHelper(_);var N=p.TripleDES=A.extend({_doReset:function(){var F=this._key,S=F.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var T=S.slice(0,2),M=S.length<4?S.slice(0,2):S.slice(2,4),z=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=_.createEncryptor(h.create(T)),this._des2=_.createEncryptor(h.create(M)),this._des3=_.createEncryptor(h.create(z))},encryptBlock:function(F,S){this._des1.encryptBlock(F,S),this._des2.decryptBlock(F,S),this._des3.encryptBlock(F,S)},decryptBlock:function(F,S){this._des3.decryptBlock(F,S),this._des2.encryptBlock(F,S),this._des1.decryptBlock(F,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});u.TripleDES=A._createHelper(N)}(),a.TripleDES})}(S0)),S0.exports}var _0={exports:{}},ho;function qc(){return ho||(ho=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Jr(),en(),Vr(),Dt())})(De,function(a){return function(){var u=a,d=u.lib,h=d.StreamCipher,A=u.algo,p=A.RC4=h.extend({_doReset:function(){for(var E=this._key,m=E.words,v=E.sigBytes,_=this._S=[],B=0;B<256;B++)_[B]=B;for(var B=0,D=0;B<256;B++){var N=B%v,F=m[N>>>2]>>>24-N%4*8&255;D=(D+_[B]+F)%256;var S=_[B];_[B]=_[D],_[D]=S}this._i=this._j=0},_doProcessBlock:function(E,m){E[m]^=w.call(this)},keySize:256/32,ivSize:0});function w(){for(var E=this._S,m=this._i,v=this._j,_=0,B=0;B<4;B++){m=(m+1)%256,v=(v+E[m])%256;var D=E[m];E[m]=E[v],E[v]=D,_|=E[(E[m]+E[v])%256]<<24-B*8}return this._i=m,this._j=v,_}u.RC4=h._createHelper(p);var x=A.RC4Drop=p.extend({cfg:p.cfg.extend({drop:192}),_doReset:function(){p._doReset.call(this);for(var E=this.cfg.drop;E>0;E--)w.call(this)}});u.RC4Drop=h._createHelper(x)}(),a.RC4})}(_0)),_0.exports}var D0={exports:{}},xo;function Zc(){return xo||(xo=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Jr(),en(),Vr(),Dt())})(De,function(a){return function(){var u=a,d=u.lib,h=d.StreamCipher,A=u.algo,p=[],w=[],x=[],E=A.Rabbit=h.extend({_doReset:function(){for(var v=this._key.words,_=this.cfg.iv,B=0;B<4;B++)v[B]=(v[B]<<8|v[B]>>>24)&16711935|(v[B]<<24|v[B]>>>8)&4278255360;var D=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],N=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var B=0;B<4;B++)m.call(this);for(var B=0;B<8;B++)N[B]^=D[B+4&7];if(_){var F=_.words,S=F[0],T=F[1],M=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,z=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,U=M>>>16|z&4294901760,L=z<<16|M&65535;N[0]^=M,N[1]^=U,N[2]^=z,N[3]^=L,N[4]^=M,N[5]^=U,N[6]^=z,N[7]^=L;for(var B=0;B<4;B++)m.call(this)}},_doProcessBlock:function(v,_){var B=this._X;m.call(this),p[0]=B[0]^B[5]>>>16^B[3]<<16,p[1]=B[2]^B[7]>>>16^B[5]<<16,p[2]=B[4]^B[1]>>>16^B[7]<<16,p[3]=B[6]^B[3]>>>16^B[1]<<16;for(var D=0;D<4;D++)p[D]=(p[D]<<8|p[D]>>>24)&16711935|(p[D]<<24|p[D]>>>8)&4278255360,v[_+D]^=p[D]},blockSize:128/32,ivSize:64/32});function m(){for(var v=this._X,_=this._C,B=0;B<8;B++)w[B]=_[B];_[0]=_[0]+1295307597+this._b|0,_[1]=_[1]+3545052371+(_[0]>>>0<w[0]>>>0?1:0)|0,_[2]=_[2]+886263092+(_[1]>>>0<w[1]>>>0?1:0)|0,_[3]=_[3]+1295307597+(_[2]>>>0<w[2]>>>0?1:0)|0,_[4]=_[4]+3545052371+(_[3]>>>0<w[3]>>>0?1:0)|0,_[5]=_[5]+886263092+(_[4]>>>0<w[4]>>>0?1:0)|0,_[6]=_[6]+1295307597+(_[5]>>>0<w[5]>>>0?1:0)|0,_[7]=_[7]+3545052371+(_[6]>>>0<w[6]>>>0?1:0)|0,this._b=_[7]>>>0<w[7]>>>0?1:0;for(var B=0;B<8;B++){var D=v[B]+_[B],N=D&65535,F=D>>>16,S=((N*N>>>17)+N*F>>>15)+F*F,T=((D&4294901760)*D|0)+((D&65535)*D|0);x[B]=S^T}v[0]=x[0]+(x[7]<<16|x[7]>>>16)+(x[6]<<16|x[6]>>>16)|0,v[1]=x[1]+(x[0]<<8|x[0]>>>24)+x[7]|0,v[2]=x[2]+(x[1]<<16|x[1]>>>16)+(x[0]<<16|x[0]>>>16)|0,v[3]=x[3]+(x[2]<<8|x[2]>>>24)+x[1]|0,v[4]=x[4]+(x[3]<<16|x[3]>>>16)+(x[2]<<16|x[2]>>>16)|0,v[5]=x[5]+(x[4]<<8|x[4]>>>24)+x[3]|0,v[6]=x[6]+(x[5]<<16|x[5]>>>16)+(x[4]<<16|x[4]>>>16)|0,v[7]=x[7]+(x[6]<<8|x[6]>>>24)+x[5]|0}u.Rabbit=h._createHelper(E)}(),a.Rabbit})}(D0)),D0.exports}var T0={exports:{}},go;function $c(){return go||(go=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Jr(),en(),Vr(),Dt())})(De,function(a){return function(){var u=a,d=u.lib,h=d.StreamCipher,A=u.algo,p=[],w=[],x=[],E=A.RabbitLegacy=h.extend({_doReset:function(){var v=this._key.words,_=this.cfg.iv,B=this._X=[v[0],v[3]<<16|v[2]>>>16,v[1],v[0]<<16|v[3]>>>16,v[2],v[1]<<16|v[0]>>>16,v[3],v[2]<<16|v[1]>>>16],D=this._C=[v[2]<<16|v[2]>>>16,v[0]&4294901760|v[1]&65535,v[3]<<16|v[3]>>>16,v[1]&4294901760|v[2]&65535,v[0]<<16|v[0]>>>16,v[2]&4294901760|v[3]&65535,v[1]<<16|v[1]>>>16,v[3]&4294901760|v[0]&65535];this._b=0;for(var N=0;N<4;N++)m.call(this);for(var N=0;N<8;N++)D[N]^=B[N+4&7];if(_){var F=_.words,S=F[0],T=F[1],M=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,z=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,U=M>>>16|z&4294901760,L=z<<16|M&65535;D[0]^=M,D[1]^=U,D[2]^=z,D[3]^=L,D[4]^=M,D[5]^=U,D[6]^=z,D[7]^=L;for(var N=0;N<4;N++)m.call(this)}},_doProcessBlock:function(v,_){var B=this._X;m.call(this),p[0]=B[0]^B[5]>>>16^B[3]<<16,p[1]=B[2]^B[7]>>>16^B[5]<<16,p[2]=B[4]^B[1]>>>16^B[7]<<16,p[3]=B[6]^B[3]>>>16^B[1]<<16;for(var D=0;D<4;D++)p[D]=(p[D]<<8|p[D]>>>24)&16711935|(p[D]<<24|p[D]>>>8)&4278255360,v[_+D]^=p[D]},blockSize:128/32,ivSize:64/32});function m(){for(var v=this._X,_=this._C,B=0;B<8;B++)w[B]=_[B];_[0]=_[0]+1295307597+this._b|0,_[1]=_[1]+3545052371+(_[0]>>>0<w[0]>>>0?1:0)|0,_[2]=_[2]+886263092+(_[1]>>>0<w[1]>>>0?1:0)|0,_[3]=_[3]+1295307597+(_[2]>>>0<w[2]>>>0?1:0)|0,_[4]=_[4]+3545052371+(_[3]>>>0<w[3]>>>0?1:0)|0,_[5]=_[5]+886263092+(_[4]>>>0<w[4]>>>0?1:0)|0,_[6]=_[6]+1295307597+(_[5]>>>0<w[5]>>>0?1:0)|0,_[7]=_[7]+3545052371+(_[6]>>>0<w[6]>>>0?1:0)|0,this._b=_[7]>>>0<w[7]>>>0?1:0;for(var B=0;B<8;B++){var D=v[B]+_[B],N=D&65535,F=D>>>16,S=((N*N>>>17)+N*F>>>15)+F*F,T=((D&4294901760)*D|0)+((D&65535)*D|0);x[B]=S^T}v[0]=x[0]+(x[7]<<16|x[7]>>>16)+(x[6]<<16|x[6]>>>16)|0,v[1]=x[1]+(x[0]<<8|x[0]>>>24)+x[7]|0,v[2]=x[2]+(x[1]<<16|x[1]>>>16)+(x[0]<<16|x[0]>>>16)|0,v[3]=x[3]+(x[2]<<8|x[2]>>>24)+x[1]|0,v[4]=x[4]+(x[3]<<16|x[3]>>>16)+(x[2]<<16|x[2]>>>16)|0,v[5]=x[5]+(x[4]<<8|x[4]>>>24)+x[3]|0,v[6]=x[6]+(x[5]<<16|x[5]>>>16)+(x[4]<<16|x[4]>>>16)|0,v[7]=x[7]+(x[6]<<8|x[6]>>>24)+x[5]|0}u.RabbitLegacy=h._createHelper(E)}(),a.RabbitLegacy})}(T0)),T0.exports}var B0={exports:{}},Ao;function Qc(){return Ao||(Ao=1,function(s,c){(function(a,u,d){s.exports=u(Pe(),Jr(),en(),Vr(),Dt())})(De,function(a){return function(){var u=a,d=u.lib,h=d.BlockCipher,A=u.algo;const p=16,w=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],x=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var E={pbox:[],sbox:[]};function m(N,F){let S=F>>24&255,T=F>>16&255,M=F>>8&255,z=F&255,U=N.sbox[0][S]+N.sbox[1][T];return U=U^N.sbox[2][M],U=U+N.sbox[3][z],U}function v(N,F,S){let T=F,M=S,z;for(let U=0;U<p;++U)T=T^N.pbox[U],M=m(N,T)^M,z=T,T=M,M=z;return z=T,T=M,M=z,M=M^N.pbox[p],T=T^N.pbox[p+1],{left:T,right:M}}function _(N,F,S){let T=F,M=S,z;for(let U=p+1;U>1;--U)T=T^N.pbox[U],M=m(N,T)^M,z=T,T=M,M=z;return z=T,T=M,M=z,M=M^N.pbox[1],T=T^N.pbox[0],{left:T,right:M}}function B(N,F,S){for(let L=0;L<4;L++){N.sbox[L]=[];for(let q=0;q<256;q++)N.sbox[L][q]=x[L][q]}let T=0;for(let L=0;L<p+2;L++)N.pbox[L]=w[L]^F[T],T++,T>=S&&(T=0);let M=0,z=0,U=0;for(let L=0;L<p+2;L+=2)U=v(N,M,z),M=U.left,z=U.right,N.pbox[L]=M,N.pbox[L+1]=z;for(let L=0;L<4;L++)for(let q=0;q<256;q+=2)U=v(N,M,z),M=U.left,z=U.right,N.sbox[L][q]=M,N.sbox[L][q+1]=z;return!0}var D=A.Blowfish=h.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var N=this._keyPriorReset=this._key,F=N.words,S=N.sigBytes/4;B(E,F,S)}},encryptBlock:function(N,F){var S=v(E,N[F],N[F+1]);N[F]=S.left,N[F+1]=S.right},decryptBlock:function(N,F){var S=_(E,N[F],N[F+1]);N[F]=S.left,N[F+1]=S.right},blockSize:64/32,keySize:128/32,ivSize:64/32});u.Blowfish=h._createHelper(D)}(),a.Blowfish})}(B0)),B0.exports}(function(s,c){(function(a,u,d){s.exports=u(Pe(),Si(),_c(),Dc(),Jr(),Tc(),en(),la(),K0(),Bc(),ua(),Nc(),Oc(),Mc(),J0(),Rc(),Vr(),Dt(),Fc(),Lc(),kc(),Pc(),Uc(),Hc(),zc(),jc(),Wc(),Vc(),Gc(),Xc(),Yc(),qc(),Zc(),$c(),Qc())})(De,function(a){return a})})(ca);var Kc=ca.exports;const mr=aa(Kc);function Cn(){for(var s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwyxz",c=16,a="",u=0;u<c;u++)a+=s.charAt(Math.floor(Math.random()*s.length));return a}const U0={},Sr=(s,c)=>{U0[s]=c},es=s=>s?U0[s]:U0;function Jc(s){try{return JSON.parse(s),!0}catch{return!1}}function fa(s){var c=[];return s&&Object.keys(s).map(a=>{c.push(s[a])}),c}const tn=async s=>{let c="",a="https://qvamarkets.com/gql_api",u={method:"post",headers:{"Content-Type":"application/json",Authorization:`${c}`},body:JSON.stringify(s)};try{return(await fetch(a,u)).json()}catch(d){return console.log(d),null}};function po(s,c){try{var a=mr.enc.Base64.parse(c),u=null;return u=mr.AES.encrypt(s,a,{mode:mr.mode.ECB,padding:mr.pad.Pkcs7}),u.ciphertext.toString(mr.enc.Base64)}catch{return null}}function pi(s,c){var a=mr.enc.Base64.parse(c),u=mr.AES.decrypt(s,a,{mode:mr.mode.ECB,padding:mr.pad.Pkcs7});return u.toString(mr.enc.Utf8)}function H0(s){var c=document.cookie.match(new RegExp("(^| )"+s+"=([^;]+)"));return c?c[2]:null}const ha=async s=>{const c=JSON.stringify(s);var a={};let u=es("sectionKey");var d=Cn();let h=po(d,u),A=po(c,d);const p={};p.d=A,p.k=h;var w=JSON.stringify(p),x=H0(rs());const E="https://qvamarkets.com/gql_v4";if(A){var m=await(await fetch(E,{method:"post",headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Authorization:`${x}`},body:w})).json();const{data:B}=m;if(B&&B.d){let D=pi(B.k,u),N=pi(B.d,D);Jc(N)&&(a=JSON.parse(N))}return a}};function ts(s){var c=[];if(s)try{c=Object.keys(s)}catch{for(var a in s)c.push(a)}return c}const el=()=>"profileUser",z0=()=>"querys_callback",rs=()=>"ssg_logistic_tkn";function wn(s,c){let a;function u(d){clearTimeout(a),a=setTimeout(()=>s(d),c)}return br(()=>clearInterval(a)),u}const[j0,tl]=Se("");Se("");const[rl,nl]=fr({});var il=Ce('<svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path>');function nr(s){let c=s?.size?s?.size:24;return(()=>{var a=il(),u=a.firstChild;return a.addEventListener("mouseleave",()=>{s?.tooltipMessage&&(showTooltip(!1),setTimeout(()=>showTooltip(!0),50))}),Zt(a,"height",c),Zt(a,"width",c),tt(d=>{var h=s?.color,A=rl?.[s.name];return h!==d.e&&Zt(a,"fill",d.e=h),A!==d.t&&Zt(u,"d",d.t=A),d},{e:void 0,t:void 0}),a})()}var sl=Ce('<div class="filter_search_btn _dsplFlx"><input type=text aria-haspopup=false auto-capitalize=off auto-complete=off auto-correct=off spell-check=false placeholder=search><div class=btn_close>'),ol=Ce('<div class="filter_search_btn _dsplFlx"><div class="lbl date Lbldrp">'),al=Ce('<div class=" monthList">'),cl=Ce('<div class="OpenBoxContainer ">'),ll=Ce("<div><div id=drpdwn_click_outside>"),ul=Ce('<div class="filter_month_item _dsplFlx"><div class="lbl tr_bar_15"></div><div class="lbl tr_bar_80">');const ns=s=>{const[c,a]=Se(!1),[u,d]=Se(""),h=wn(d,400),A=D=>{s?.onSelect(D),w()},p=()=>{s?.onSelect(""),w()},w=()=>{c()?a(!1):c()||(a(!0),setTimeout(()=>{},50))},x=D=>{s.hasDebounce?h(D.target.value):d(D.target.value)},E=()=>s?.list.filter(D=>D.id===s?.value)?.[0]?.label;let m=s?.direction||"left",v={"--pck--width":s?.width,"--pck--color":s?.color,"--pck--backColor":s?.backColor,"--pck--border-color":s?.borderColor,"--pck--aborder-color":s?.borderActiveColor};const[_,{refetch:B}]=G0(u,async D=>s.list.filter(F=>F?.label?.toLowerCase()?.indexOf(D?.toLowerCase())>-1));return(()=>{var D=ll(),N=D.firstChild;return ae(N,re(Ie,{get when(){return c()},get children(){var F=sl(),S=F.firstChild,T=S.nextSibling;return S.$$input=x,T.$$click=p,ae(T,re(nr,{name:"Xclose",color:"var(--color-pck)"})),F}}),null),ae(N,re(Ie,{get when(){return!c()},get children(){var F=ol(),S=F.firstChild;return F.$$click=w,ae(S,()=>E()||s?.lbl_empty),ae(F,re(nr,{name:"arrow_drop_down",color:"var(--color-pck)"}),null),F}}),null),ae(N,re(Ie,{get when(){return c()},get children(){var F=cl();return Zt(F,"direction",`${m}`),ae(F,re(Ie,{get when(){return _()},get children(){var S=al();return ae(S,re(Hn,{get each(){return _()},children:(T,M)=>{let z=T.label;return re(Ie,{when:z,get children(){var U=ul(),L=U.firstChild,q=L.nextSibling;return U.$$click=()=>A(T),Zt(U,"key",z+"_"+M),ae(L,re(nr,{get name(){return T?.icon},color:"var(--color-pck)"})),ae(q,z),U}})}})),S}})),tt(S=>Kr(F,s?.background?{backgroundColor:s?.background}:null,S)),F}}),null),tt(F=>{var S={...v,"min-width":"var(--pck--width)"},T=` searchDDBx ${c()?"open":""}`,M=`${c()}`;return F.e=Kr(D,S,F.e),T!==F.t&&Dr(N,F.t=T),M!==F.a&&(N.open=F.a=M),F},{e:void 0,t:void 0,a:void 0}),D})()};Br(["input","click"]);var fl=Ce("<div class=flexSpace>");const Ln=()=>fl();function da(s){let c,a;function u(){c=setInterval(()=>{a!==window.outerWidth>460&&(a=window.outerWidth>460,s(a))},450)}return br(()=>clearInterval(c)),u}var hl=Ce('<div class=" tr_bar_10 _dsplFlx"><div class="icon_status centerBx"></div><div class=guide_number><h5>'),dl=Ce('<p class="tr_bar_30 textleft fullName_consigne">'),xl=Ce("<div style=margin-right:4vw>"),gl=Ce('<h4 class="tr_bar_20 textleft">'),Al=Ce("<div class=bag_number><h5>"),pl=Ce('<div class="_dsplFlx bottombx"><p></p><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),Cl=Ce('<div class="_dsplFlx bottombx"><h5>'),El=Ce('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx topbx centerBx">');function xa(s){fr({search:"",status:"AERO_33"});const[c,a]=Se(""),[u,d]=Se("");wn(d,400),da(a);const h=E=>E?" "+E:"",A=()=>{let E=s?.item?.consigneeInfo;return h(E?.firstName)+h(E?.middleName)+h(E?.lastName)+h(E?.lastName2)},p=()=>{let E=s?.item?.consigneeInfo,m=h(E?.altPhoneNumber);return h(E?.phoneNumber)+(m?" |"+m:"")};s?.item?.street?.split(",");const w=()=>{let E=s?.item?.statusHistory||[];return s?.item?.statusHistory?E.reduce((m,v)=>{if(v.statusId==="AERO_33")return Math.min(m,v.timeStamp)},1/0):null},x=()=>{let E=s?.item?.street.split(",");return E.slice(0,E.length-2).join(",")};return re(Ie,{get when(){return s?.item?.guia},get children(){var E=El(),m=E.firstChild;return ae(m,re(Ie,{get when(){return s?.item?.guia},get children(){return[(()=>{var v=hl(),_=v.firstChild,B=_.nextSibling,D=B.firstChild;return ae(_,re(nr,{get name(){return Ii?.[s?.item?.currentStatus]},size:32})),ae(D,()=>s?.item?.guia),ae(v,w,null),v})(),(()=>{var v=dl();return ae(v,A),v})(),xl(),(()=>{var v=gl();return ae(v,p),v})()]}}),null),ae(m,re(Ln,{}),null),ae(m,re(Ie,{get when(){return s?.item?.bagnumber},get children(){var v=Al(),_=v.firstChild;return ae(_,()=>s?.item?.bagnumber),v}}),null),ae(E,re(Ie,{get when(){return s?.item?.consigneeInfo?.ybcity},get children(){var v=pl(),_=v.firstChild,B=_.nextSibling,D=B.firstChild,N=D.nextSibling,F=N.nextSibling;return ae(_,x),ae(v,re(Ln,{}),B),ae(D,()=>s?.item?.consigneeInfo?.ybcity),ae(F,()=>s?.item?.consigneeInfo?.ybestate),v}}),null),ae(E,re(Ie,{when:!1,get children(){var v=Cl(),_=v.firstChild;return ae(v,re(Ln,{}),_),ae(_,()=>s?.item?.nameshipper),ae(v,re(Ln,{}),null),v}}),null),E}})}var wl=Ce('<div class=" jaqJnq_hrm1"><button class="gHAsFI_hrm1 dqn9fN jUrKkb"type=button><h5>');function ml(s){Se(0);const[c,a]=Se(!1),u=()=>{s?.handleClick?.()},d=w=>{a(w)};let h={};if(s?.color){let{r:w,g:x,b:E}=vl(s.color),m="rgba("+[w,x,E].join(",")+", 0.17 )",v="rgba("+[w,x,E].join(",")+", 0.21 )",_="rgba("+[w,x,E].join(",")+", 0.42 )";h={"--btn_bg_hrm2":m,"--btn_bg_hover_hrm2":v,"--btn_text_hrm2":s?.color,"--btn_border_hrm2":c()?s?.color:"transparent","--border-radius-8":8},c()&&(h={"--btn_bg_hrm2":m,"--btn_bg_hover_hrm2":_,"--btn_text_hrm2":s?.color,"--btn_border_hrm2":s?.color,"--border-radius-8":"8px"})}function A(){const[w,x]=Se(!1);return Y0(()=>{x(typeof window<"u")}),w}const p=A();return Wn(()=>{p()&&bl("obs-theme",d)}),(()=>{var w=wl(),x=w.firstChild,E=x.firstChild;return x.$$click=u,ae(x,re(Ie,{get when(){return s?.icon},get children(){return re(nr,{get name(){return s?.icon}})}}),E),ae(E,()=>s.label),tt(m=>Kr(w,h,m)),w})()}const yl={attributes:!0,characterData:!0},bl=async(s,c,a,u)=>{const d=new MutationObserver(A=>{console.log(MutationObserver),A.forEach(p=>{if(p?.type==="attributes"){let w=p?.attributeName?.toString()?.trim(),x=s.toString().trim();w===x&&c&&c(Cn(),s)}})}),h=document.querySelector("html");d.observe(h,yl)},vl=s=>{s=s.replace("#",""),s.length!==6&&(s=Il(s));const c=parseInt(s.slice(0,2),16),a=parseInt(s.slice(2,4),16),u=parseInt(s.slice(4,6),16);return{r:c,g:a,b:u}};function Il(s){return s.length===4&&(s=s.replace("#","")),s.length===3&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]),s}Br(["click"]);var Ve={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Co=Object.getOwnPropertySymbols,Sl=Object.prototype.hasOwnProperty,_l=Object.prototype.propertyIsEnumerable;function Dl(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function Tl(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var c={},a=0;a<10;a++)c["_"+String.fromCharCode(a)]=a;var u=Object.getOwnPropertyNames(c).map(function(h){return c[h]});if(u.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(h){d[h]=h}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Bl=Tl()?Object.assign:function(s,c){for(var a,u=Dl(s),d,h=1;h<arguments.length;h++){a=Object(arguments[h]);for(var A in a)Sl.call(a,A)&&(u[A]=a[A]);if(Co){d=Co(a);for(var p=0;p<d.length;p++)_l.call(a,d[p])&&(u[d[p]]=a[d[p]])}}return u};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var is=Bl,mn=60103,ga=60106;Ve.Fragment=60107;Ve.StrictMode=60108;Ve.Profiler=60114;var Aa=60109,pa=60110,Ca=60112;Ve.Suspense=60113;var Ea=60115,wa=60116;if(typeof Symbol=="function"&&Symbol.for){var lr=Symbol.for;mn=lr("react.element"),ga=lr("react.portal"),Ve.Fragment=lr("react.fragment"),Ve.StrictMode=lr("react.strict_mode"),Ve.Profiler=lr("react.profiler"),Aa=lr("react.provider"),pa=lr("react.context"),Ca=lr("react.forward_ref"),Ve.Suspense=lr("react.suspense"),Ea=lr("react.memo"),wa=lr("react.lazy")}var Eo=typeof Symbol=="function"&&Symbol.iterator;function Nl(s){return s===null||typeof s!="object"?null:(s=Eo&&s[Eo]||s["@@iterator"],typeof s=="function"?s:null)}function Yn(s){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+s,a=1;a<arguments.length;a++)c+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ma={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ya={};function yn(s,c,a){this.props=s,this.context=c,this.refs=ya,this.updater=a||ma}yn.prototype.isReactComponent={};yn.prototype.setState=function(s,c){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error(Yn(85));this.updater.enqueueSetState(this,s,c,"setState")};yn.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function ba(){}ba.prototype=yn.prototype;function ss(s,c,a){this.props=s,this.context=c,this.refs=ya,this.updater=a||ma}var os=ss.prototype=new ba;os.constructor=ss;is(os,yn.prototype);os.isPureReactComponent=!0;var as={current:null},va=Object.prototype.hasOwnProperty,Ia={key:!0,ref:!0,__self:!0,__source:!0};function Sa(s,c,a){var u,d={},h=null,A=null;if(c!=null)for(u in c.ref!==void 0&&(A=c.ref),c.key!==void 0&&(h=""+c.key),c)va.call(c,u)&&!Ia.hasOwnProperty(u)&&(d[u]=c[u]);var p=arguments.length-2;if(p===1)d.children=a;else if(1<p){for(var w=Array(p),x=0;x<p;x++)w[x]=arguments[x+2];d.children=w}if(s&&s.defaultProps)for(u in p=s.defaultProps,p)d[u]===void 0&&(d[u]=p[u]);return{$$typeof:mn,type:s,key:h,ref:A,props:d,_owner:as.current}}function Ol(s,c){return{$$typeof:mn,type:s.type,key:c,ref:s.ref,props:s.props,_owner:s._owner}}function cs(s){return typeof s=="object"&&s!==null&&s.$$typeof===mn}function Ml(s){var c={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(a){return c[a]})}var wo=/\/+/g;function N0(s,c){return typeof s=="object"&&s!==null&&s.key!=null?Ml(""+s.key):c.toString(36)}function ci(s,c,a,u,d){var h=typeof s;(h==="undefined"||h==="boolean")&&(s=null);var A=!1;if(s===null)A=!0;else switch(h){case"string":case"number":A=!0;break;case"object":switch(s.$$typeof){case mn:case ga:A=!0}}if(A)return A=s,d=d(A),s=u===""?"."+N0(A,0):u,Array.isArray(d)?(a="",s!=null&&(a=s.replace(wo,"$&/")+"/"),ci(d,c,a,"",function(x){return x})):d!=null&&(cs(d)&&(d=Ol(d,a+(!d.key||A&&A.key===d.key?"":(""+d.key).replace(wo,"$&/")+"/")+s)),c.push(d)),1;if(A=0,u=u===""?".":u+":",Array.isArray(s))for(var p=0;p<s.length;p++){h=s[p];var w=u+N0(h,p);A+=ci(h,c,a,w,d)}else if(w=Nl(s),typeof w=="function")for(s=w.call(s),p=0;!(h=s.next()).done;)h=h.value,w=u+N0(h,p++),A+=ci(h,c,a,w,d);else if(h==="object")throw c=""+s,Error(Yn(31,c==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":c));return A}function oi(s,c,a){if(s==null)return s;var u=[],d=0;return ci(s,u,"","",function(h){return c.call(a,h,d++)}),u}function Rl(s){if(s._status===-1){var c=s._result;c=c(),s._status=0,s._result=c,c.then(function(a){s._status===0&&(a=a.default,s._status=1,s._result=a)},function(a){s._status===0&&(s._status=2,s._result=a)})}if(s._status===1)return s._result;throw s._result}var _a={current:null};function Nr(){var s=_a.current;if(s===null)throw Error(Yn(321));return s}var Fl={ReactCurrentDispatcher:_a,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:as,IsSomeRendererActing:{current:!1},assign:is};Ve.Children={map:oi,forEach:function(s,c,a){oi(s,function(){c.apply(this,arguments)},a)},count:function(s){var c=0;return oi(s,function(){c++}),c},toArray:function(s){return oi(s,function(c){return c})||[]},only:function(s){if(!cs(s))throw Error(Yn(143));return s}};Ve.Component=yn;Ve.PureComponent=ss;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fl;Ve.cloneElement=function(s,c,a){if(s==null)throw Error(Yn(267,s));var u=is({},s.props),d=s.key,h=s.ref,A=s._owner;if(c!=null){if(c.ref!==void 0&&(h=c.ref,A=as.current),c.key!==void 0&&(d=""+c.key),s.type&&s.type.defaultProps)var p=s.type.defaultProps;for(w in c)va.call(c,w)&&!Ia.hasOwnProperty(w)&&(u[w]=c[w]===void 0&&p!==void 0?p[w]:c[w])}var w=arguments.length-2;if(w===1)u.children=a;else if(1<w){p=Array(w);for(var x=0;x<w;x++)p[x]=arguments[x+2];u.children=p}return{$$typeof:mn,type:s.type,key:d,ref:h,props:u,_owner:A}};Ve.createContext=function(s,c){return c===void 0&&(c=null),s={$$typeof:pa,_calculateChangedBits:c,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null},s.Provider={$$typeof:Aa,_context:s},s.Consumer=s};Ve.createElement=Sa;Ve.createFactory=function(s){var c=Sa.bind(null,s);return c.type=s,c};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(s){return{$$typeof:Ca,render:s}};Ve.isValidElement=cs;Ve.lazy=function(s){return{$$typeof:wa,_payload:{_status:-1,_result:s},_init:Rl}};Ve.memo=function(s,c){return{$$typeof:Ea,type:s,compare:c===void 0?null:c}};Ve.useCallback=function(s,c){return Nr().useCallback(s,c)};Ve.useContext=function(s,c){return Nr().useContext(s,c)};Ve.useDebugValue=function(){};Ve.useEffect=function(s,c){return Nr().useEffect(s,c)};Ve.useImperativeHandle=function(s,c,a){return Nr().useImperativeHandle(s,c,a)};Ve.useLayoutEffect=function(s,c){return Nr().useLayoutEffect(s,c)};Ve.useMemo=function(s,c){return Nr().useMemo(s,c)};Ve.useReducer=function(s,c,a){return Nr().useReducer(s,c,a)};Ve.useRef=function(s){return Nr().useRef(s)};Ve.useState=function(s){return Nr().useState(s)};Ve.version="17.0.2";var Ll=Ce('<div id=loadingSpinner><svg class=spinnerSvg viewBox="25 25 50 50"><circle cx=50 cy=50 r=20 fill=none strokeMiterlimit=10>');const _i=s=>{let c="spinnerPath",a={};return s?.stroke&&(c="spinnerPathWC",a={stroke:s?.stroke}),(()=>{var u=Ll(),d=u.firstChild,h=d.firstChild;return u.style.setProperty("position","relative"),Zt(h,"class",c),tt(A=>{var p=s?.size+"px"||"10px",w=s?.size+"px"||"10px",x=a,E=s?.strokeW||2;return p!==A.e&&((A.e=p)!=null?u.style.setProperty("width",p):u.style.removeProperty("width")),w!==A.t&&((A.t=w)!=null?u.style.setProperty("height",w):u.style.removeProperty("height")),A.a=Kr(h,x,A.a),E!==A.o&&Zt(h,"strokeWidth",A.o=E),A},{e:void 0,t:void 0,a:void 0,o:void 0}),u})()};var kl=Ce('<div class=" _dsplFlx"><div class="icon_status centerBx"></div><div class=guide_number><h5>'),Pl=Ce("<div class=bag_number><h5>"),Ul=Ce('<div class="icon_status centerBx">'),Hl=Ce('<div class="_dsplFlx bottombx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),zl=Ce('<div class="client_item_box gWXAaj jlytmu"><div class=" topbx centerBx"></div><div><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft"></h4><p class=textleft></p></div><div class="_dsplFlx bottombx"><h4></h4></div>');function Da(s){fr({search:"",status:"AERO_33"});const[c,a]=Se(""),[u,d]=Se("");wn(d,400),da(a);const h=x=>x?" "+x:"",A=()=>{let x=s?.item?.consigneeInfo;return h(x?.firstName)+h(x?.middleName)+h(x?.lastName)+h(x?.lastName2)},p=()=>{s?.item?.ssg_track_key,s?.item?.idairguide,jl()},w=()=>{let x=s?.item?.consigneeInfo,E=h(x?.altPhoneNumber);return h(x?.phoneNumber)+(E?" |"+E:"")};return re(Ie,{get when(){return s?.item?.guia},get children(){var x=zl(),E=x.firstChild,m=E.nextSibling,v=m.firstChild,_=v.nextSibling,B=_.nextSibling,D=B.nextSibling,N=m.nextSibling,F=N.firstChild;return ae(E,re(Ie,{get when(){return s?.item?.guia},get children(){var S=kl(),T=S.firstChild,M=T.nextSibling,z=M.firstChild;return ae(T,re(nr,{get name(){return Ii?.[s?.item?.currentStatus]},size:32})),ae(z,()=>s?.item?.guia),S}}),null),ae(E,re(Ln,{}),null),ae(E,re(Ie,{get when(){return s?.item?.bagnumber},get children(){var S=Pl(),T=S.firstChild;return ae(T,()=>s?.item?.bagnumber),S}}),null),ae(E,re(Ie,{get when(){return s?.item?.ssg_track_key.length===16},get children(){var S=Ul();return S.$$click=p,ae(S,re(nr,{name:"outline_delete",size:24})),S}}),null),ae(v,A),ae(B,w),ae(D,()=>s?.item?.street),ae(x,re(Ie,{get when(){return s?.item?.consigneeInfo?.ybcity},get children(){var S=Hl(),T=S.firstChild,M=T.firstChild,z=M.nextSibling,U=z.nextSibling;return ae(M,()=>s?.item?.consigneeInfo?.ybcity),ae(U,()=>s?.item?.consigneeInfo?.ybestate),S}}),N),ae(F,()=>s?.item?.nameshipper),x}})}const jl=async s=>{};Br(["click"]);var Wl=Ce("<div class=loading_app><div id=buttonDiv></div>");const Ta=async s=>{const u=await ha({query:"53hvscu362"});if(u&&!u.error){let d=es(z0())||{},h=Object.assign({},d,u);Sr(z0(),h)}s&&s()},Ba=async(s,c)=>{let a=es(z0())?.validateTkn;if(a){a.params={tkn:s};const d=await ha(a);if(d&&d.userId){Sr(el(),d),Sr("isAdmin",d.isAdmin),Sr("hasNotaryAccess",d.hasNotaryAccess);let h=[];ts(d.accessActivities).map(A=>{let p=d.accessActivities[A];p.isActive&&h.push({id:p.idCode,label:p.label})}),Sr("accessActivities",d.accessActivities),Sr("accessActivitiesDrodDwn",h),tl(d?.picture)}}c&&c()};function Vl({did:s}){const c=async a=>{let u=a.credential?.slice(a.credential.toString().length-32,a.credential.toString().length-16);u=a.credential?.slice(0,16);let d={params:{id_token:a.credential},query:"getGoogleUserbyToken"};const A=await tn(d);if(A&&A.data){let p=new Date().getTime(),w=new Date(p+6e4*60*24*365),x=rs(),E=pi(A.data.split(":")[1],u);Sr("sectionKey",E),document.cookie=`${x}=${A.data}; expires=${w}; path=/;g_state = {"i_l":1,"i_p":${w}}; hrm_access_tkn = ${a.credential}`,document.cookie=`hrm_access_tkn = ${a.credential}; expires=${w};`,Ta(async()=>{await Ba(A.data)})}};return Y0(()=>{let a=window.google;a?.accounts.id.initialize({client_id:"195275085181-8ccjpgp8v1g80qhnlk6v4lpgid7n81gr.apps.googleusercontent.com",callback:c}),a?.accounts.id.renderButton(document.getElementById("buttonDiv"),{theme:"outline",size:"large"})}),Wl()}const[Tr,Gl]=Se(!0);setInterval(()=>{let s=720;Tr()!==window.outerWidth<s&&Gl(window.outerWidth<s)},220);var Xl=Ce('<nav id=site-navigation><ul id=primary-menu class="no-list nav-menu lg:flex items-center"><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor current-menu-parent menu-item-has-children mb-0"><a href=/><span>Envios</span></a></li><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor current-menu-parent menu-item-has-children mb-0"><a href=/scan><span>Escanear</span></a></li></ul>'),Yl=Ce('<span class="js-menu-trigger text-red font-bold text-3xl cursor-pointer"><div>'),ql=Ce('<ul id=primary-menu class="no-list nav-menu lg:flex items-center"><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/><span>Envios</span></a></li><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/scan><span>Escanear</span></a></li><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/manifest><span>Manifiestos</span></a></li><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/><span>Locaciones'),Zl=Ce("<img width=48 height=24 class=picture-profile alt=profile decoding=async>"),$l=Ce('<header class=site-header><div class="containerNav w-full"><div class="flex items-center gap-3"><div class="flex site-branding shrink-0 mr-auto"><a href=/ rel=home class="flex nodecor"><img width=48 height=24 src="https://qvamarkets.com/gql_api/getStatic?fileName=SSG.png"class=nav-home alt="Scanbot SDK"decoding=async><p class="title-header centerBx">Stephanie Solution');function Ql(){const[s,c]=Se(!1),a=()=>{u();let d=H0("hrm_access_tkn"),h=H0(rs());if(d&&h&&h.length>10&&d.length>10){let A=d?.slice(d.toString().length-32,d.toString().length-16);A=d?.slice(0,16);let p=pi(h.split(":")[1],A);Sr("sectionKey",p),Ta(()=>{Ba(h,()=>{})})}},u=async()=>{let h=await(await fetch("https://qvamarkets.com/gql_api/getStatic?fileName=svgs.json")).json();return Sr("svgSymbols",h),nl(h),h};return Y0(a),(()=>{var d=$l(),h=d.firstChild,A=h.firstChild;return A.firstChild,ae(A,re(Ie,{get when(){return j0()},get children(){return[re(Ie,{get when(){return Tr()},get children(){return[(()=>{var p=Xl(),w=p.firstChild,x=w.firstChild,E=x.nextSibling;return x.$$click=()=>c(!s()),E.$$click=()=>c(!s()),tt(()=>Dr(p,`main-navigation max-lg:h-[calc(100dvh-64px)] max-lg:overflow-y-auto ${s()?"is-open":""}`)),p})(),(()=>{var p=Yl(),w=p.firstChild;return w.$$click=()=>c(!s()),ae(w,re(nr,{get name(){return s()?"Xclose":"menu"},size:24,get color(){return s()?"var(--background-red-ssg)":"var(--hrm-palette-neutral30)"}})),tt(()=>Dr(w,`icon_status centerBx ${s()?"menu":"Xclose"}`)),p})()]}}),re(Ie,{get when(){return!Tr()},get children(){return ql()}}),(()=>{var p=Zl();return tt(()=>Zt(p,"src",j0())),p})()]}}),null),d})()}Br(["click"]);var Kl=Ce("<div style=padding:4px>"),Jl=Ce('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround ">'),eu=Ce('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div style="width:94vw;margin:0 auto;">'),tu=Ce("<div> <!>."),ru=Ce("<div> "),nu=Ce("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),iu=Ce("<h5 class=totalBagsNo> <!> / "),su=Ce('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),ou=Ce("<div class=leftMrg> ");function au(){const[s,c]=fr({search:"",status:""}),[a,u]=fr({}),[d,h]=Se(""),[A,p]=Se(""),w=wn(h,400),x=(_,B)=>{c({[_]:B}),w(Cn())};br(()=>{}),Wn(()=>{});const[E,{refetch:m}]=G0(d,async _=>{let B=s?.manifest?.id;if(A()!==B){p(B);const F=await uu(B);u(F)}const D=await lu(s.search,B,s.status);return fa(D)}),v=()=>E()?.length;return(()=>{var _=eu(),B=_.firstChild,D=B.nextSibling,N=D.firstChild,F=D.nextSibling;return ae(N,re(ns,{list:oa,lbl_empty:"Manifiesto",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return s?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:S=>x("manifest",S),width:"260px"})),ae(D,re(Ie,{get when(){return s?.manifest?.id},get children(){var S=Kl();return ae(S,re(Q0,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return s?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:T=>x("search",T)})),S}}),null),ae(F,re(Ie,{get when(){return s?.manifest?.id},get children(){var S=Jl(),T=S.firstChild;return ae(T,re(Ie,{get when(){return a?.total},get children(){return re(Hn,{get each(){return ts(a)},children:(M,z)=>re(cu,{keyG:M,total:v,get status(){return s.status},get amount(){return a?.[M]},updForm:x})})}})),S}}),null),ae(F,re(Yo,{fallback:S=>(()=>{var T=tu(),M=T.firstChild,z=M.nextSibling;return z.nextSibling,ae(T,()=>S.toString(),z),T})(),get children(){return re(Xn,{get fallback(){return(()=>{var S=ru();return S.firstChild,ae(S,re(_i,{stroke:"rgb(200 25 60 / 1)",size:62}),null),S})()},get children(){return re(Ie,{get when(){return E()},get children(){return re(Hn,{get each(){return E()},children:S=>[re(Ie,{get when(){return!Tr()},get children(){return re(xa,{item:S})}}),re(Ie,{get when(){return Tr()},get children(){return re(Da,{item:S})}})]})}})}})}}),null),tt(()=>Dr(_,$0.App)),_})()}const cu=s=>{const[c,a]=Se(!1),[u,d]=Se(0),h=()=>{let w=s?.keyG;s?.keyG==="total"&&(w=null),s?.updForm("status",w)},A=()=>{c()||!Tr()&&s?.keyG!=="total"&&(d(Ai?.[s?.keyG]?.length*8.5+"px"),a(!0))},p=()=>{d("0px"),c()&&a(!1)};return re(Ie,{get when(){return s?.amount>0},get children(){return re(Xn,{get fallback(){return(()=>{var w=ou();return w.firstChild,ae(w,re(_i,{stroke:"rgb(200 25 60 / 1)",size:32}),null),w})()},get children(){var w=su(),x=w.firstChild,E=x.nextSibling;return w.$$mouseout=p,w.$$mousemove=A,w.$$click=h,ae(w,re(Ie,{get when(){return c()},get children(){var m=nu(),v=m.firstChild,_=v.firstChild,B=_.firstChild;return ae(B,()=>Ai?.[s?.keyG]),tt(D=>(D=u())!=null?v.style.setProperty("width",D):v.style.removeProperty("width")),m}}),x),ae(x,re(nr,{get name(){return Ii?.[s?.keyG]},size:22})),ae(w,re(Ie,{get when(){return s?.keyG==="total"},get children(){var m=iu(),v=m.firstChild,_=v.nextSibling;return _.nextSibling,ae(m,()=>s?.total(),_),m}}),E),ae(E,()=>s?.amount),tt(()=>Dr(w,`resumeStatus centerBx witXs  ${s?.status===s?.keyG?"active":""}`)),w}})}})},lu=async(s,c,a)=>{let u={params:{idairguide:c,":status":a},query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4 AND !* contain :search5 AND currentStatus = :status"};if(s&&s.split(" ").map((d,h)=>{d&&(u.params[":search"+h]=d.trim())}),c&&Object.keys(u.params).length>=2){const d=await tn(u);return console.log(d),d?.data?.error?{}:d?.data}return{}},uu=async s=>{const a=await tn({params:{idairguide:s},query:"getGroupStatusLogisticYabaExpress"});return console.log(a),a?.data?.error?{}:a?.data};Br(["click","mousemove","mouseout"]);var ge;(function(s){s[s.QR_CODE=0]="QR_CODE",s[s.AZTEC=1]="AZTEC",s[s.CODABAR=2]="CODABAR",s[s.CODE_39=3]="CODE_39",s[s.CODE_93=4]="CODE_93",s[s.CODE_128=5]="CODE_128",s[s.DATA_MATRIX=6]="DATA_MATRIX",s[s.MAXICODE=7]="MAXICODE",s[s.ITF=8]="ITF",s[s.EAN_13=9]="EAN_13",s[s.EAN_8=10]="EAN_8",s[s.PDF_417=11]="PDF_417",s[s.RSS_14=12]="RSS_14",s[s.RSS_EXPANDED=13]="RSS_EXPANDED",s[s.UPC_A=14]="UPC_A",s[s.UPC_E=15]="UPC_E",s[s.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ge||(ge={}));var mo=new Map([[ge.QR_CODE,"QR_CODE"],[ge.AZTEC,"AZTEC"],[ge.CODABAR,"CODABAR"],[ge.CODE_39,"CODE_39"],[ge.CODE_93,"CODE_93"],[ge.CODE_128,"CODE_128"],[ge.DATA_MATRIX,"DATA_MATRIX"],[ge.MAXICODE,"MAXICODE"],[ge.ITF,"ITF"],[ge.EAN_13,"EAN_13"],[ge.EAN_8,"EAN_8"],[ge.PDF_417,"PDF_417"],[ge.RSS_14,"RSS_14"],[ge.RSS_EXPANDED,"RSS_EXPANDED"],[ge.UPC_A,"UPC_A"],[ge.UPC_E,"UPC_E"],[ge.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),yo;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.URL=1]="URL"})(yo||(yo={}));function fu(s){return Object.values(ge).includes(s)}var Wr;(function(s){s[s.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",s[s.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Wr||(Wr={}));var ur=function(){function s(){}return s.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",s.SCAN_DEFAULT_FPS=2,s.DEFAULT_DISABLE_FLIP=!1,s.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,s.DEFAULT_SUPPORTED_SCAN_TYPE=[Wr.SCAN_TYPE_CAMERA,Wr.SCAN_TYPE_FILE],s}(),Na=function(){function s(c,a){this.format=c,this.formatName=a}return s.prototype.toString=function(){return this.formatName},s.create=function(c){if(!mo.has(c))throw"".concat(c," not in html5QrcodeSupportedFormatsTextMap");return new s(c,mo.get(c))},s}(),bo=function(){function s(){}return s.createFromText=function(c){var a={text:c};return{decodedText:c,result:a}},s.createFromQrcodeResult=function(c){return{decodedText:c.text,result:c}},s}(),W0;(function(s){s[s.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",s[s.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",s[s.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(W0||(W0={}));var Oa=function(){function s(){}return s.createFrom=function(c){return{errorMessage:c,type:W0.UNKWOWN_ERROR}},s}(),Ma=function(){function s(c){this.verbose=c}return s.prototype.log=function(c){this.verbose&&console.log(c)},s.prototype.warn=function(c){this.verbose&&console.warn(c)},s.prototype.logError=function(c,a){(this.verbose||a===!0)&&console.error(c)},s.prototype.logErrors=function(c){if(c.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(c)},s}();function wr(s){return typeof s>"u"||s===null}function hu(s,c,a){return s>a?a:s<c?c:s}var gn=function(){function s(){}return s.codeParseError=function(c){return"QR code parse error, error = ".concat(c)},s.errorGettingUserMedia=function(c){return"Error getting userMedia, error = ".concat(c)},s.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},s.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},s.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},s.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},s.scannerPaused=function(){return"Scanner paused"},s}(),$e=function(){function s(){}return s.scanningStatus=function(){return"Scanning"},s.idleStatus=function(){return"Idle"},s.errorStatus=function(){return"Error"},s.permissionStatus=function(){return"Permission"},s.noCameraFoundErrorStatus=function(){return"No Cameras"},s.lastMatch=function(c){return"Last Match: ".concat(c)},s.codeScannerTitle=function(){return"Code Scanner"},s.cameraPermissionTitle=function(){return"Request Camera Permissions"},s.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},s.noCameraFound=function(){return"No camera found"},s.scanButtonStopScanningText=function(){return"Stop Scanning"},s.scanButtonStartScanningText=function(){return"Start Scanning"},s.torchOnButton=function(){return"Switch On Torch"},s.torchOffButton=function(){return"Switch Off Torch"},s.torchOnFailedMessage=function(){return"Failed to turn on torch"},s.torchOffFailedMessage=function(){return"Failed to turn off torch"},s.scanButtonScanningStarting=function(){return"Launching Camera..."},s.textIfCameraScanSelected=function(){return"Scan an Image File"},s.textIfFileScanSelected=function(){return"Scan using camera directly"},s.selectCamera=function(){return"Select Camera"},s.fileSelectionChooseImage=function(){return"Choose Image"},s.fileSelectionChooseAnother=function(){return"Choose Another"},s.fileSelectionNoImageSelected=function(){return"No image choosen"},s.anonymousCameraPrefix=function(){return"Anonymous Camera"},s.dragAndDropMessage=function(){return"Or drop an image to scan"},s.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},s.zoom=function(){return"zoom"},s.loadingImage=function(){return"Loading image..."},s.cameraScanAltText=function(){return"Camera based scan"},s.fileScanAltText=function(){return"Fule based scan"},s}(),vo=function(){function s(){}return s.poweredBy=function(){return"Powered by "},s.reportIssues=function(){return"Report issues"},s}(),Ra=function(){function s(){}return s.isMediaStreamConstraintsValid=function(c,a){if(typeof c!="object"){var u=typeof c;return a.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(u,"."),!0),!1}for(var d=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],h=new Set(d),A=Object.keys(c),p=0,w=A;p<w.length;p++){var x=w[p];if(h.has(x))return a.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},s}(),V0={exports:{}};(function(s,c){(function(a,u){u(c)})(De,function(a){function u(y){return y==null}var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,e){y.__proto__=e}||function(y,e){for(var t in e)e.hasOwnProperty(t)&&(y[t]=e[t])};function h(y,e){d(y,e);function t(){this.constructor=y}y.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function A(y,e){var t=Object.setPrototypeOf;t?t(y,e):y.__proto__=e}function p(y,e){e===void 0&&(e=y.constructor);var t=Error.captureStackTrace;t&&t(y,e)}var w=function(y){h(e,y);function e(t){var r=this.constructor,n=y.call(this,t)||this;return Object.defineProperty(n,"name",{value:r.name,enumerable:!1}),A(n,r.prototype),p(n),n}return e}(Error);class x extends w{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class E extends x{}E.kind="ArgumentException";class m extends x{}m.kind="IllegalArgumentException";class v{constructor(e){if(this.binarizer=e,e===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,n){const i=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new v(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends x{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class B{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class D{static arraycopy(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}static currentTimeMillis(){return Date.now()}}class N extends x{}N.kind="IndexOutOfBoundsException";class F extends N{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}F.kind="ArrayIndexOutOfBoundsException";class S{static fill(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t}static fillWithin(e,t,r,n){S.rangeCheck(e.length,t,r);for(let i=t;i<r;i++)e[i]=n}static rangeCheck(e,t,r){if(t>r)throw new m("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new F(t);if(r>e)throw new F(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map(i=>Array.from({length:t}).fill(r))}static createInt32Array(e,t,r){return Array.from({length:e}).map(i=>Int32Array.from({length:t}).fill(r))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const n=r-t,i=new Int32Array(n);return D.arraycopy(e,t,i,0,n),i}static binarySearch(e,t,r){r===void 0&&(r=S.numberComparator);let n=0,i=e.length-1;for(;n<=i;){const o=i+n>>1,l=r(t,e[o]);if(l>0)n=o+1;else if(l<0)i=o-1;else return o}return-n-1}static numberComparator(e,t){return e-t}}class T{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=M.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=M.makeArray(e);D.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=r[n];i&=~((1<<(e&31))-1);const o=r.length;for(;i===0;){if(++n===o)return t;i=r[n]}const l=n*32+T.numberOfTrailingZeros(i);return l>t?t:l}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=~r[n];i&=~((1<<(e&31))-1);const o=r.length;for(;i===0;){if(++n===o)return t;i=~r[n]}const l=n*32+T.numberOfTrailingZeros(i);return l>t?t:l}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new m;if(t===e)return;t--;const r=Math.floor(e/32),n=Math.floor(t/32),i=this.bits;for(let o=r;o<=n;o++){const l=o>r?0:e&31,g=(2<<(o<n?31:t&31))-(1<<l);i[o]|=g}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new m;if(t===e)return!0;t--;const n=Math.floor(e/32),i=Math.floor(t/32),o=this.bits;for(let l=n;l<=i;l++){const f=l>n?0:e&31,C=(2<<(l<i?31:t&31))-(1<<f)&4294967295;if((o[l]&C)!==(r?C:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new m("Sizes don't match");const t=this.bits;for(let r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]}toBytes(e,t,r,n){for(let i=0;i<n;i++){let o=0;for(let l=0;l<8;l++)this.get(e)&&(o|=1<<7-l),e++;t[r+i]=o}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits;for(let i=0;i<r;i++){let o=n[i];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[t-i]=o}if(this.size!==r*32){const i=r*32-this.size;let o=e[0]>>>i;for(let l=1;l<r;l++){const f=e[l];o|=f<<32-i,e[l-1]=o,o=f>>>i}e[r-1]=o}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof M))return!1;const t=e;return this.size===t.size&&S.equals(this.bits,t.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)t&7||(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new M(this.size,this.bits.slice())}}var z;(function(y){y[y.OTHER=0]="OTHER",y[y.PURE_BARCODE=1]="PURE_BARCODE",y[y.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",y[y.TRY_HARDER=3]="TRY_HARDER",y[y.CHARACTER_SET=4]="CHARACTER_SET",y[y.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",y[y.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",y[y.ASSUME_GS1=7]="ASSUME_GS1",y[y.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",y[y.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",y[y.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(z||(z={}));var U=z;class L extends x{static getFormatInstance(){return new L}}L.kind="FormatException";var q;(function(y){y[y.Cp437=0]="Cp437",y[y.ISO8859_1=1]="ISO8859_1",y[y.ISO8859_2=2]="ISO8859_2",y[y.ISO8859_3=3]="ISO8859_3",y[y.ISO8859_4=4]="ISO8859_4",y[y.ISO8859_5=5]="ISO8859_5",y[y.ISO8859_6=6]="ISO8859_6",y[y.ISO8859_7=7]="ISO8859_7",y[y.ISO8859_8=8]="ISO8859_8",y[y.ISO8859_9=9]="ISO8859_9",y[y.ISO8859_10=10]="ISO8859_10",y[y.ISO8859_11=11]="ISO8859_11",y[y.ISO8859_13=12]="ISO8859_13",y[y.ISO8859_14=13]="ISO8859_14",y[y.ISO8859_15=14]="ISO8859_15",y[y.ISO8859_16=15]="ISO8859_16",y[y.SJIS=16]="SJIS",y[y.Cp1250=17]="Cp1250",y[y.Cp1251=18]="Cp1251",y[y.Cp1252=19]="Cp1252",y[y.Cp1256=20]="Cp1256",y[y.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",y[y.UTF8=22]="UTF8",y[y.ASCII=23]="ASCII",y[y.Big5=24]="Big5",y[y.GB18030=25]="GB18030",y[y.EUC_KR=26]="EUC_KR"})(q||(q={}));class W{constructor(e,t,r,...n){this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=n,W.VALUE_IDENTIFIER_TO_ECI.set(e,this),W.NAME_TO_ECI.set(r,this);const i=this.values;for(let o=0,l=i.length;o!==l;o++){const f=i[o];W.VALUES_TO_ECI.set(f,this)}for(const o of n)W.NAME_TO_ECI.set(o,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new L("incorect value");const t=W.VALUES_TO_ECI.get(e);if(t===void 0)throw new L("incorect value");return t}static getCharacterSetECIByName(e){const t=W.NAME_TO_ECI.get(e);if(t===void 0)throw new L("incorect value");return t}equals(e){if(!(e instanceof W))return!1;const t=e;return this.getName()===t.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(q.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(q.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(q.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(q.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(q.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(q.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(q.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(q.Big5,28,"Big5"),W.GB18030=new W(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(q.EUC_KR,30,"EUC_KR","EUC-KR");class H extends x{}H.kind="UnsupportedOperationException";class V{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!V.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof W?e:W.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(V.isDecodeFallbackSupported(r)){let n="";for(let i=0,o=e.length;i<o;i++){let l=e[i].toString(16);l.length<2&&(l="0"+l),n+="%"+l}return decodeURIComponent(n)}if(r.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new H(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(W.UTF8)||e.equals(W.ISO8859_1)||e.equals(W.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),n=[];for(let i=0;i<r.length;i++)n.push(r[i].charCodeAt(0));return new Uint8Array(n)}}class G{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return V.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(t!=null&&t.get(U.CHARACTER_SET)!==void 0)return t.get(U.CHARACTER_SET).toString();const r=e.length;let n=!0,i=!0,o=!0,l=0,f=0,g=0,C=0,b=0,I=0,R=0,k=0,P=0,Y=0,K=0;const oe=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let ce=0;ce<r&&(n||i||o);ce++){const se=e[ce]&255;o&&(l>0?se&128?l--:o=!1:se&128&&(se&64?(l++,se&32?(l++,se&16?(l++,se&8?o=!1:C++):g++):f++):o=!1)),n&&(se>127&&se<160?n=!1:se>159&&(se<192||se===215||se===247)&&K++),i&&(b>0?se<64||se===127||se>252?i=!1:b--:se===128||se===160||se>239?i=!1:se>160&&se<224?(I++,k=0,R++,R>P&&(P=R)):se>127?(b++,R=0,k++,k>Y&&(Y=k)):(R=0,k=0))}return o&&l>0&&(o=!1),i&&b>0&&(i=!1),o&&(oe||f+g+C>0)?G.UTF8:i&&(G.ASSUME_SHIFT_JIS||P>=3||Y>=3)?G.SHIFT_JIS:n&&i?P===2&&I===2||K*10>=r?G.SHIFT_JIS:G.ISO88591:n?G.ISO88591:i?G.SHIFT_JIS:o?G.UTF8:G.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function n(o,l,f,g,C,b){if(o==="%%")return"%";if(t[++r]===void 0)return;o=g?parseInt(g.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,R;switch(b){case"s":R=t[r];break;case"c":R=t[r][0];break;case"f":R=parseFloat(t[r]).toFixed(o);break;case"p":R=parseFloat(t[r]).toPrecision(o);break;case"e":R=parseFloat(t[r]).toExponential(o);break;case"x":R=parseInt(t[r]).toString(I||16);break;case"d":R=parseFloat(parseInt(t[r],I||10).toPrecision(o)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(I);let k=parseInt(f),P=f&&f[0]+""=="0"?"0":" ";for(;R.length<k;)R=l!==void 0?R+P:P+R;return R}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}static getBytes(e,t){return V.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}G.SHIFT_JIS=W.SJIS.getName(),G.GB2312="GB2312",G.ISO88591=W.ISO8859_1.getName(),G.EUC_JP="EUC_JP",G.UTF8=W.UTF8.getName(),G.PLATFORM_DEFAULT_ENCODING=G.UTF8,G.ASSUME_SHIFT_JIS=!1;class X{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=G.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let n=t;t<t+r;n++)this.append(e[n]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class ie{constructor(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,t==null&&(t=e),this.height=t,e<1||t<1)throw new m("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,n==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,n=new ie(r,t);for(let i=0;i<t;i++){const o=e[i];for(let l=0;l<r;l++)o[l]&&n.set(l,i)}return n}static parseFromString(e,t,r){if(e===null)throw new m("stringRepresentation cannot be null");const n=new Array(e.length);let i=0,o=0,l=-1,f=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(i>o){if(l===-1)l=i-o;else if(i-o!==l)throw new m("row lengths do not match");o=i,f++}g++}else if(e.substring(g,g+t.length)===t)g+=t.length,n[i]=!0,i++;else if(e.substring(g,g+r.length)===r)g+=r.length,n[i]=!1,i++;else throw new m("illegal character encountered: "+e.substring(g));if(i>o){if(l===-1)l=i-o;else if(i-o!==l)throw new m("row lengths do not match");f++}const C=new ie(l,f);for(let b=0;b<i;b++)n[b]&&C.set(Math.floor(b%l),Math.floor(b/l));return C}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new m("input matrix dimensions do not match");const t=new M(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let i=0,o=this.height;i<o;i++){const l=i*r,f=e.getRow(i,t).getBitArray();for(let g=0;g<r;g++)n[l+g]^=f[g]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,n){if(t<0||e<0)throw new m("Left and top must be nonnegative");if(n<1||r<1)throw new m("Height and width must be at least 1");const i=e+r,o=t+n;if(o>this.height||i>this.width)throw new m("The region must fit inside the matrix");const l=this.rowSize,f=this.bits;for(let g=t;g<o;g++){const C=g*l;for(let b=e;b<i;b++)f[C+Math.floor(b/32)]|=1<<(b&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new M(this.width):t.clear();const r=this.rowSize,n=this.bits,i=e*r;for(let o=0;o<r;o++)t.setBulk(o*32,n[i+o]);return t}setRow(e,t){D.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new M(e),n=new M(e);for(let i=0,o=Math.floor((t+1)/2);i<o;i++)r=this.getRow(i,r),n=this.getRow(t-1-i,n),r.reverse(),n.reverse(),this.setRow(i,n),this.setRow(t-1-i,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,n=this.bits;let i=e,o=t,l=-1,f=-1;for(let g=0;g<t;g++)for(let C=0;C<r;C++){const b=n[g*r+C];if(b!==0){if(g<o&&(o=g),g>f&&(f=g),C*32<i){let I=0;for(;!(b<<31-I&4294967295);)I++;C*32+I<i&&(i=C*32+I)}if(C*32+31>l){let I=31;for(;!(b>>>I);)I--;C*32+I>l&&(l=C*32+I)}}}return l<i||f<o?null:Int32Array.from([i,o,l-i+1,f-o+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;const n=r/e;let i=r%e*32;const o=t[r];let l=0;for(;!(o<<31-l&4294967295);)l++;return i+=l,Int32Array.from([i,n])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&t[r]===0;)r--;if(r<0)return null;const n=Math.floor(r/e);let i=Math.floor(r%e)*32;const o=t[r];let l=31;for(;!(o>>>l);)l--;return i+=l,Int32Array.from([i,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof ie))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&S.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+S.hashCode(this.bits),e}toString(e="X ",t="  ",r=`
`){return this.buildToString(e,t,r)}buildToString(e,t,r){let n=new X;for(let i=0,o=this.height;i<o;i++){for(let l=0,f=this.width;l<f;l++)n.append(this.get(l,i)?e:t);n.append(r)}return n.toString()}clone(){return new ie(this.width,this.height,this.rowSize,this.bits.slice())}}class j extends x{static getNotFoundInstance(){return new j}}j.kind="NotFoundException";class Ae extends B{constructor(e){super(e),this.luminances=Ae.EMPTY,this.buckets=new Int32Array(Ae.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),n=r.getWidth();t==null||t.getSize()<n?t=new M(n):t.clear(),this.initArrays(n);const i=r.getRow(e,this.luminances),o=this.buckets;for(let f=0;f<n;f++)o[(i[f]&255)>>Ae.LUMINANCE_SHIFT]++;const l=Ae.estimateBlackPoint(o);if(n<3)for(let f=0;f<n;f++)(i[f]&255)<l&&t.set(f);else{let f=i[0]&255,g=i[1]&255;for(let C=1;C<n-1;C++){const b=i[C+1]&255;(g*4-f-b)/2<l&&t.set(C),f=g,g=b}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),n=new ie(t,r);this.initArrays(t);const i=this.buckets;for(let f=1;f<5;f++){const g=Math.floor(r*f/5),C=e.getRow(g,this.luminances),b=Math.floor(t*4/5);for(let I=Math.floor(t/5);I<b;I++){const R=C[I]&255;i[R>>Ae.LUMINANCE_SHIFT]++}}const o=Ae.estimateBlackPoint(i),l=e.getMatrix();for(let f=0;f<r;f++){const g=f*t;for(let C=0;C<t;C++)(l[g+C]&255)<o&&n.set(C,f)}return n}createBinarizer(e){return new Ae(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<Ae.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,n=0,i=0;for(let C=0;C<t;C++)e[C]>i&&(n=C,i=e[C]),e[C]>r&&(r=e[C]);let o=0,l=0;for(let C=0;C<t;C++){const b=C-n,I=e[C]*b*b;I>l&&(o=C,l=I)}if(n>o){const C=n;n=o,o=C}if(o-n<=t/16)throw new j;let f=o-1,g=-1;for(let C=o-1;C>n;C--){const b=C-n,I=b*b*(o-C)*(r-e[C]);I>g&&(f=C,g=I)}return f<<Ae.LUMINANCE_SHIFT}}Ae.LUMINANCE_BITS=5,Ae.LUMINANCE_SHIFT=8-Ae.LUMINANCE_BITS,Ae.LUMINANCE_BUCKETS=1<<Ae.LUMINANCE_BITS,Ae.EMPTY=Uint8ClampedArray.from([0]);class he extends Ae{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=he.MINIMUM_DIMENSION&&r>=he.MINIMUM_DIMENSION){const n=e.getMatrix();let i=t>>he.BLOCK_SIZE_POWER;t&he.BLOCK_SIZE_MASK&&i++;let o=r>>he.BLOCK_SIZE_POWER;r&he.BLOCK_SIZE_MASK&&o++;const l=he.calculateBlackPoints(n,i,o,t,r),f=new ie(t,r);he.calculateThresholdForBlock(n,i,o,t,r,l,f),this.matrix=f}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new he(e)}static calculateThresholdForBlock(e,t,r,n,i,o,l){const f=i-he.BLOCK_SIZE,g=n-he.BLOCK_SIZE;for(let C=0;C<r;C++){let b=C<<he.BLOCK_SIZE_POWER;b>f&&(b=f);const I=he.cap(C,2,r-3);for(let R=0;R<t;R++){let k=R<<he.BLOCK_SIZE_POWER;k>g&&(k=g);const P=he.cap(R,2,t-3);let Y=0;for(let oe=-2;oe<=2;oe++){const ce=o[I+oe];Y+=ce[P-2]+ce[P-1]+ce[P]+ce[P+1]+ce[P+2]}const K=Y/25;he.thresholdBlock(e,k,b,K,n,l)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,n,i,o){for(let l=0,f=r*i+t;l<he.BLOCK_SIZE;l++,f+=i)for(let g=0;g<he.BLOCK_SIZE;g++)(e[f+g]&255)<=n&&o.set(t+g,r+l)}static calculateBlackPoints(e,t,r,n,i){const o=i-he.BLOCK_SIZE,l=n-he.BLOCK_SIZE,f=new Array(r);for(let g=0;g<r;g++){f[g]=new Int32Array(t);let C=g<<he.BLOCK_SIZE_POWER;C>o&&(C=o);for(let b=0;b<t;b++){let I=b<<he.BLOCK_SIZE_POWER;I>l&&(I=l);let R=0,k=255,P=0;for(let K=0,oe=C*n+I;K<he.BLOCK_SIZE;K++,oe+=n){for(let ce=0;ce<he.BLOCK_SIZE;ce++){const se=e[oe+ce]&255;R+=se,se<k&&(k=se),se>P&&(P=se)}if(P-k>he.MIN_DYNAMIC_RANGE)for(K++,oe+=n;K<he.BLOCK_SIZE;K++,oe+=n)for(let ce=0;ce<he.BLOCK_SIZE;ce++)R+=e[oe+ce]&255}let Y=R>>he.BLOCK_SIZE_POWER*2;if(P-k<=he.MIN_DYNAMIC_RANGE&&(Y=k/2,g>0&&b>0)){const K=(f[g-1][b]+2*f[g][b-1]+f[g-1][b-1])/4;k<K&&(Y=K)}f[g][b]=Y}}return f}}he.BLOCK_SIZE_POWER=3,he.BLOCK_SIZE=1<<he.BLOCK_SIZE_POWER,he.BLOCK_SIZE_MASK=he.BLOCK_SIZE-1,he.MINIMUM_DIMENSION=he.BLOCK_SIZE*5,he.MIN_DYNAMIC_RANGE=24;class _e{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,n){throw new H("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new H("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new H("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new X;for(let r=0;r<this.height;r++){const n=this.getRow(r,e);for(let i=0;i<this.width;i++){const o=n[i]&255;let l;o<64?l="#":o<128?l="+":o<192?l=".":l=" ",t.append(l)}t.append(`
`)}return t.toString()}}class Ne extends _e{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),n=this.getWidth();for(let i=0;i<n;i++)r[i]=255-(r[i]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let n=0;n<t;n++)r[n]=255-(e[n]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,n){return new Ne(this.delegate.crop(e,t,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ne(this.delegate.rotateCounterClockwise45())}}class ye extends _e{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=ye.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return ye.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const n=new Uint8ClampedArray(t*r);for(let i=0,o=0,l=e.length;i<l;i+=4,o++){let f;if(e[i+3]===0)f=255;else{const C=e[i],b=e[i+1],I=e[i+2];f=306*C+601*b+117*I+512>>10}n[o]=f}return n}getRow(e,t){if(e<0||e>=this.getHeight())throw new m("Requested row is outside the image: "+e);const r=this.getWidth(),n=e*r;return t===null?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,n){return super.crop(e,t,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),n=e*ye.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,l=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*o),f=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*o);return t.width=l,t.height=f,r.translate(l/2,f/2),r.rotate(n),r.drawImage(this.canvas,i/-2,o/-2),this.buffer=ye.makeBufferFromCanvasImageData(t),this}invert(){return new Ne(this)}}ye.DEGREE_TO_RADIANS=Math.PI/180;class ${constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var J=(globalThis||De||self||window||void 0)&&(globalThis||De||self||window||void 0).__awaiter||function(y,e,t,r){function n(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function l(C){try{g(r.next(C))}catch(b){o(b)}}function f(C){try{g(r.throw(C))}catch(b){o(b)}}function g(C){C.done?i(C.value):n(C.value).then(l,f)}g((r=r.apply(y,e||[])).next())})};class te{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return J(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const n=r.kind==="video"?"videoinput":r.kind;if(n!=="videoinput")continue;const i=r.deviceId||r.id,o=r.label||`Video device ${t.length+1}`,l=r.groupId,f={deviceId:i,label:o,kind:n,groupId:l};t.push(f)}return t})}getVideoInputDevices(){return J(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new $(t.deviceId,t.label))})}findDeviceById(e){return J(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return J(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return J(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const n={video:r};return yield this.decodeOnceFromConstraints(n,t)})}decodeOnceFromConstraints(e,t){return J(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)})}decodeOnceFromStream(e,t){return J(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,t,r){return J(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,r)})}decodeFromVideoDevice(e,t,r){return J(this,void 0,void 0,function*(){let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const i={video:n};return yield this.decodeFromConstraints(i,t,r)})}decodeFromConstraints(e,t,r){return J(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(n,t,r)})}decodeFromStream(e,t,r){return J(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(n,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return J(this,void 0,void 0,function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((t,r)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return J(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new E(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new E(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new E("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new E("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(e===void 0&&t===void 0)throw new E("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new E("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new E("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new E("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new E("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new E("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n}_decodeOnLoadImage(e){return new Promise((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return J(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return J(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const n=(i,o)=>{if(this._stopAsyncDecode){o(new j("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const l=this.decode(e);i(l)}catch(l){const f=t&&l instanceof j,C=(l instanceof _||l instanceof L)&&r;if(f||C)return setTimeout(n,this._timeBetweenDecodingAttempts,i,o);o(l)}};return new Promise((i,o)=>n(i,o))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const n=this.decode(e);t(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(n){t(null,n);const i=n instanceof _||n instanceof L,o=n instanceof j;(i||o)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new ye(t),n=new he(r);return new v(n)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,n;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ee{constructor(e,t,r=t==null?0:8*t.length,n,i,o=D.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=o,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=n,this.format=i,this.resultMetadata=null,o==null?this.timestamp=D.currentTimeMillis():this.timestamp=o}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(t.length+e.length);D.arraycopy(t,0,r,0,t.length),D.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ue;(function(y){y[y.AZTEC=0]="AZTEC",y[y.CODABAR=1]="CODABAR",y[y.CODE_39=2]="CODE_39",y[y.CODE_93=3]="CODE_93",y[y.CODE_128=4]="CODE_128",y[y.DATA_MATRIX=5]="DATA_MATRIX",y[y.EAN_8=6]="EAN_8",y[y.EAN_13=7]="EAN_13",y[y.ITF=8]="ITF",y[y.MAXICODE=9]="MAXICODE",y[y.PDF_417=10]="PDF_417",y[y.QR_CODE=11]="QR_CODE",y[y.RSS_14=12]="RSS_14",y[y.RSS_EXPANDED=13]="RSS_EXPANDED",y[y.UPC_A=14]="UPC_A",y[y.UPC_E=15]="UPC_E",y[y.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ue||(Ue={}));var le=Ue,rt;(function(y){y[y.OTHER=0]="OTHER",y[y.ORIENTATION=1]="ORIENTATION",y[y.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",y[y.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",y[y.ISSUE_NUMBER=4]="ISSUE_NUMBER",y[y.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",y[y.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",y[y.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",y[y.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",y[y.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",y[y.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(rt||(rt={}));var pe=rt;class Ct{constructor(e,t,r,n,i=-1,o=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ge{exp(e){return this.expTable[e]}log(e){if(e===0)throw new m;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class je{constructor(e,t){if(t.length===0)throw new m;this.field=e;const r=t.length;if(r>1&&t[0]===0){let n=1;for(;n<r&&t[n]===0;)n++;n===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-n),D.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let r;if(e===1){r=0;for(let o=0,l=t.length;o!==l;o++){const f=t[o];r=Ge.addOrSubtract(r,f)}return r}r=t[0];const n=t.length,i=this.field;for(let o=1;o<n;o++)r=Ge.addOrSubtract(i.multiply(e,r),t[o]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const o=t;t=r,r=o}let n=new Int32Array(r.length);const i=r.length-t.length;D.arraycopy(r,0,n,0,i);for(let o=i;o<r.length;o++)n[o]=Ge.addOrSubtract(t[o-i],r[o]);return new je(this.field,n)}multiply(e){if(!this.field.equals(e.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,o=new Int32Array(r+i-1),l=this.field;for(let f=0;f<r;f++){const g=t[f];for(let C=0;C<i;C++)o[f+C]=Ge.addOrSubtract(o[f+C],l.multiply(g,n[C]))}return new je(l,o)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,r=this.field,n=new Int32Array(t),i=this.coefficients;for(let o=0;o<t;o++)n[o]=r.multiply(i[o],e);return new je(r,n)}multiplyByMonomial(e,t){if(e<0)throw new m;if(t===0)return this.field.getZero();const r=this.coefficients,n=r.length,i=new Int32Array(n+e),o=this.field;for(let l=0;l<n;l++)i[l]=o.multiply(r[l],t);return new je(o,i)}divide(e){if(!this.field.equals(e.field))throw new m("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new m("Divide by 0");const t=this.field;let r=t.getZero(),n=this;const i=e.getCoefficient(e.getDegree()),o=t.inverse(i);for(;n.getDegree()>=e.getDegree()&&!n.isZero();){const l=n.getDegree()-e.getDegree(),f=t.multiply(n.getCoefficient(n.getDegree()),o),g=e.multiplyByMonomial(l,f),C=t.buildMonomial(l,f);r=r.addOrSubtract(C),n=n.addOrSubtract(g)}return[r,n]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){const n=this.field.log(r);n===0?e+="1":n===1?e+="a":(e+="a^",e+=n)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class Et extends x{}Et.kind="ArithmeticException";class ve extends Ge{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const n=new Int32Array(t);let i=1;for(let l=0;l<t;l++)n[l]=i,i*=2,i>=t&&(i^=e,i&=t-1);this.expTable=n;const o=new Int32Array(t);for(let l=0;l<t-1;l++)o[n[l]]=l;this.logTable=o,this.zero=new je(this,Int32Array.from([0])),this.one=new je(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new m;if(t===0)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new je(this,r)}inverse(e){if(e===0)throw new Et;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ve.AZTEC_DATA_12=new ve(4201,4096,1),ve.AZTEC_DATA_10=new ve(1033,1024,1),ve.AZTEC_DATA_6=new ve(67,64,1),ve.AZTEC_PARAM=new ve(19,16,1),ve.QR_CODE_FIELD_256=new ve(285,256,0),ve.DATA_MATRIX_FIELD_256=new ve(301,256,1),ve.AZTEC_DATA_8=ve.DATA_MATRIX_FIELD_256,ve.MAXICODE_FIELD_64=ve.AZTEC_DATA_6;class lt extends x{}lt.kind="ReedSolomonException";class Tt extends x{}Tt.kind="IllegalStateException";class sr{constructor(e){this.field=e}decode(e,t){const r=this.field,n=new je(r,e),i=new Int32Array(t);let o=!0;for(let R=0;R<t;R++){const k=n.evaluateAt(r.exp(R+r.getGeneratorBase()));i[i.length-1-R]=k,k!==0&&(o=!1)}if(o)return;const l=new je(r,i),f=this.runEuclideanAlgorithm(r.buildMonomial(t,1),l,t),g=f[0],C=f[1],b=this.findErrorLocations(g),I=this.findErrorMagnitudes(C,b);for(let R=0;R<b.length;R++){const k=e.length-1-r.log(b[R]);if(k<0)throw new lt("Bad error location");e[k]=ve.addOrSubtract(e[k],I[R])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const R=e;e=t,t=R}const n=this.field;let i=e,o=t,l=n.getZero(),f=n.getOne();for(;o.getDegree()>=(r/2|0);){let R=i,k=l;if(i=o,l=f,i.isZero())throw new lt("r_{i-1} was zero");o=R;let P=n.getZero();const Y=i.getCoefficient(i.getDegree()),K=n.inverse(Y);for(;o.getDegree()>=i.getDegree()&&!o.isZero();){const oe=o.getDegree()-i.getDegree(),ce=n.multiply(o.getCoefficient(o.getDegree()),K);P=P.addOrSubtract(n.buildMonomial(oe,ce)),o=o.addOrSubtract(i.multiplyByMonomial(oe,ce))}if(f=P.multiply(l).addOrSubtract(k),o.getDegree()>=i.getDegree())throw new Tt("Division algorithm failed to reduce polynomial?")}const g=f.getCoefficient(0);if(g===0)throw new lt("sigmaTilde(0) was zero");const C=n.inverse(g),b=f.multiplyScalar(C),I=o.multiplyScalar(C);return[b,I]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let n=0;const i=this.field;for(let o=1;o<i.getSize()&&n<t;o++)e.evaluateAt(o)===0&&(r[n]=i.inverse(o),n++);if(n!==t)throw new lt("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,n=new Int32Array(r),i=this.field;for(let o=0;o<r;o++){const l=i.inverse(t[o]);let f=1;for(let g=0;g<r;g++)if(o!==g){const C=i.multiply(t[g],l),b=C&1?C&-2:C|1;f=i.multiply(f,b)}n[o]=i.multiply(e.evaluateAt(l),i.inverse(f)),i.getGeneratorBase()!==0&&(n[o]=i.multiply(n[o],l))}return n}}var ut;(function(y){y[y.UPPER=0]="UPPER",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.DIGIT=3]="DIGIT",y[y.PUNCT=4]="PUNCT",y[y.BINARY=5]="BINARY"})(ut||(ut={}));class We{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),i=We.convertBoolArrayToByteArray(n),o=We.getEncodedData(n),l=new Ct(i,o,null,null);return l.setNumBits(n.length),l}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=ut.UPPER,n=ut.UPPER,i="",o=0;for(;o<t;)if(n===ut.BINARY){if(t-o<5)break;let l=We.readCode(e,o,5);if(o+=5,l===0){if(t-o<11)break;l=We.readCode(e,o,11)+31,o+=11}for(let f=0;f<l;f++){if(t-o<8){o=t;break}const g=We.readCode(e,o,8);i+=G.castAsNonUtf8Char(g),o+=8}n=r}else{let l=n===ut.DIGIT?4:5;if(t-o<l)break;let f=We.readCode(e,o,l);o+=l;let g=We.getCharacter(n,f);g.startsWith("CTRL_")?(r=n,n=We.getTable(g.charAt(5)),g.charAt(6)==="L"&&(r=n)):(i+=g,n=r)}return i}static getTable(e){switch(e){case"L":return ut.LOWER;case"P":return ut.PUNCT;case"M":return ut.MIXED;case"D":return ut.DIGIT;case"B":return ut.BINARY;case"U":default:return ut.UPPER}}static getCharacter(e,t){switch(e){case ut.UPPER:return We.UPPER_TABLE[t];case ut.LOWER:return We.LOWER_TABLE[t];case ut.MIXED:return We.MIXED_TABLE[t];case ut.PUNCT:return We.PUNCT_TABLE[t];case ut.DIGIT:return We.DIGIT_TABLE[t];default:throw new Tt("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=ve.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=ve.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=ve.AZTEC_DATA_10):(r=12,t=ve.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),i=e.length/r;if(i<n)throw new L;let o=e.length%r,l=new Int32Array(i);for(let I=0;I<i;I++,o+=r)l[I]=We.readCode(e,o,r);try{new sr(t).decode(l,i-n)}catch(I){throw new L(I)}let f=(1<<r)-1,g=0;for(let I=0;I<n;I++){let R=l[I];if(R===0||R===f)throw new L;(R===1||R===f-1)&&g++}let C=new Array(n*r-g),b=0;for(let I=0;I<n;I++){let R=l[I];if(R===1||R===f-1)C.fill(R>1,b,b+r-1),b+=r-1;else for(let k=r-1;k>=0;--k)C[b++]=(R&1<<k)!==0}return C}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+r*4,i=new Int32Array(n),o=new Array(this.totalBitsInLayer(r,t));if(t)for(let l=0;l<i.length;l++)i[l]=l;else{let l=n+1+2*T.truncDivision(T.truncDivision(n,2)-1,15),f=n/2,g=T.truncDivision(l,2);for(let C=0;C<f;C++){let b=C+T.truncDivision(C,15);i[f-C-1]=g-b-1,i[f+C]=g+b+1}}for(let l=0,f=0;l<r;l++){let g=(r-l)*4+(t?9:12),C=l*2,b=n-1-C;for(let I=0;I<g;I++){let R=I*2;for(let k=0;k<2;k++)o[f+R+k]=e.get(i[C+k],i[C+I]),o[f+2*g+R+k]=e.get(i[C+I],i[b-k]),o[f+4*g+R+k]=e.get(i[b-k],i[b-I]),o[f+6*g+R+k]=e.get(i[b-I],i[C+k])}f+=g*8}return o}static readCode(e,t,r){let n=0;for(let i=t;i<t+r;i++)n<<=1,e[i]&&(n|=1);return n}static readByte(e,t){let r=e.length-t;return r>=8?We.readCode(e,t,8):We.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=We.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}We.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],We.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],We.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],We.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],We.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Fe{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,n){const i=e-r,o=t-n;return Math.sqrt(i*i+o*o)}static sum(e){let t=0;for(let r=0,n=e.length;r!==n;r++){const i=e[r];t+=i}return t}}class hr{static floatToIntBits(e){return e}}hr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class de{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof de){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*hr.floatToIntBits(this.x)+hr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]);let i,o,l;if(r>=t&&r>=n?(o=e[0],i=e[1],l=e[2]):n>=r&&n>=t?(o=e[1],i=e[0],l=e[2]):(o=e[2],i=e[0],l=e[1]),this.crossProductZ(i,o,l)<0){const f=i;i=l,l=f}e[0]=i,e[1]=o,e[2]=l}static distance(e,t){return Fe.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const n=t.x,i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)}}class Bt{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class or extends Bt{constructor(e,t,r,n,i){super(e,t),this.compact=r,this.nbDatablocks=n,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ut{constructor(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=Ut.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),n==null&&(n=e.getHeight()/2|0);const i=t/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=n-i,this.downInit=n+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new j}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,i=!1,o=!0,l=!1,f=!1,g=!1,C=!1,b=!1;const I=this.width,R=this.height;for(;o;){o=!1;let k=!0;for(;(k||!f)&&t<I;)k=this.containsBlackPoint(r,n,t,!1),k?(t++,o=!0,f=!0):f||t++;if(t>=I){i=!0;break}let P=!0;for(;(P||!g)&&n<R;)P=this.containsBlackPoint(e,t,n,!0),P?(n++,o=!0,g=!0):g||n++;if(n>=R){i=!0;break}let Y=!0;for(;(Y||!C)&&e>=0;)Y=this.containsBlackPoint(r,n,e,!1),Y?(e--,o=!0,C=!0):C||e--;if(e<0){i=!0;break}let K=!0;for(;(K||!b)&&r>=0;)K=this.containsBlackPoint(e,t,r,!0),K?(r--,o=!0,b=!0):b||r--;if(r<0){i=!0;break}o&&(l=!0)}if(!i&&l){const k=t-e;let P=null;for(let ce=1;P===null&&ce<k;ce++)P=this.getBlackPointOnSegment(e,n-ce,e+ce,n);if(P==null)throw new j;let Y=null;for(let ce=1;Y===null&&ce<k;ce++)Y=this.getBlackPointOnSegment(e,r+ce,e+ce,r);if(Y==null)throw new j;let K=null;for(let ce=1;K===null&&ce<k;ce++)K=this.getBlackPointOnSegment(t,r+ce,t-ce,r);if(K==null)throw new j;let oe=null;for(let ce=1;oe===null&&ce<k;ce++)oe=this.getBlackPointOnSegment(t,n-ce,t-ce,n);if(oe==null)throw new j;return this.centerEdges(oe,P,K,Y)}else throw new j}getBlackPointOnSegment(e,t,r,n){const i=Fe.round(Fe.distance(e,t,r,n)),o=(r-e)/i,l=(n-t)/i,f=this.image;for(let g=0;g<i;g++){const C=Fe.round(e+g*o),b=Fe.round(t+g*l);if(f.get(C,b))return new de(C,b)}return null}centerEdges(e,t,r,n){const i=e.getX(),o=e.getY(),l=t.getX(),f=t.getY(),g=r.getX(),C=r.getY(),b=n.getX(),I=n.getY(),R=Ut.CORR;return i<this.width/2?[new de(b-R,I+R),new de(l+R,f+R),new de(g-R,C-R),new de(i+R,o-R)]:[new de(b+R,I+R),new de(l+R,f-R),new de(g-R,C+R),new de(i-R,o-R)]}containsBlackPoint(e,t,r,n){const i=this.image;if(n){for(let o=e;o<=t;o++)if(i.get(o,r))return!0}else for(let o=e;o<=t;o++)if(i.get(r,o))return!0;return!1}}Ut.INIT_SIZE=10,Ut.CORR=1;class rn{static checkAndNudgePoints(e,t){const r=e.getWidth(),n=e.getHeight();let i=!0;for(let o=0;o<t.length&&i;o+=2){const l=Math.floor(t[o]),f=Math.floor(t[o+1]);if(l<-1||l>r||f<-1||f>n)throw new j;i=!1,l===-1?(t[o]=0,i=!0):l===r&&(t[o]=r-1,i=!0),f===-1?(t[o+1]=0,i=!0):f===n&&(t[o+1]=n-1,i=!0)}i=!0;for(let o=t.length-2;o>=0&&i;o-=2){const l=Math.floor(t[o]),f=Math.floor(t[o+1]);if(l<-1||l>r||f<-1||f>n)throw new j;i=!1,l===-1?(t[o]=0,i=!0):l===r&&(t[o]=r-1,i=!0),f===-1?(t[o+1]=0,i=!0):f===n&&(t[o+1]=n-1,i=!0)}}}class yt{constructor(e,t,r,n,i,o,l,f,g){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=i,this.a32=o,this.a13=l,this.a23=f,this.a33=g}static quadrilateralToQuadrilateral(e,t,r,n,i,o,l,f,g,C,b,I,R,k,P,Y){const K=yt.quadrilateralToSquare(e,t,r,n,i,o,l,f);return yt.squareToQuadrilateral(g,C,b,I,R,k,P,Y).times(K)}transformPoints(e){const t=e.length,r=this.a11,n=this.a12,i=this.a13,o=this.a21,l=this.a22,f=this.a23,g=this.a31,C=this.a32,b=this.a33;for(let I=0;I<t;I+=2){const R=e[I],k=e[I+1],P=i*R+f*k+b;e[I]=(r*R+o*k+g)/P,e[I+1]=(n*R+l*k+C)/P}}transformPointsWithValues(e,t){const r=this.a11,n=this.a12,i=this.a13,o=this.a21,l=this.a22,f=this.a23,g=this.a31,C=this.a32,b=this.a33,I=e.length;for(let R=0;R<I;R++){const k=e[R],P=t[R],Y=i*k+f*P+b;e[R]=(r*k+o*P+g)/Y,t[R]=(n*k+l*P+C)/Y}}static squareToQuadrilateral(e,t,r,n,i,o,l,f){const g=e-r+i-l,C=t-n+o-f;if(g===0&&C===0)return new yt(r-e,i-r,e,n-t,o-n,t,0,0,1);{const b=r-i,I=l-i,R=n-o,k=f-o,P=b*k-I*R,Y=(g*k-I*C)/P,K=(b*C-g*R)/P;return new yt(r-e+Y*r,l-e+K*l,e,n-t+Y*n,f-t+K*f,t,Y,K,1)}}static quadrilateralToSquare(e,t,r,n,i,o,l,f){return yt.squareToQuadrilateral(e,t,r,n,i,o,l,f).buildAdjoint()}buildAdjoint(){return new yt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new yt(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Or extends rn{sampleGrid(e,t,r,n,i,o,l,f,g,C,b,I,R,k,P,Y,K,oe,ce){const se=yt.quadrilateralToQuadrilateral(n,i,o,l,f,g,C,b,I,R,k,P,Y,K,oe,ce);return this.sampleGridWithTransform(e,t,r,se)}sampleGridWithTransform(e,t,r,n){if(t<=0||r<=0)throw new j;const i=new ie(t,r),o=new Float32Array(2*t);for(let l=0;l<r;l++){const f=o.length,g=l+.5;for(let C=0;C<f;C+=2)o[C]=C/2+.5,o[C+1]=g;n.transformPoints(o),rn.checkAndNudgePoints(e,o);try{for(let C=0;C<f;C+=2)e.get(Math.floor(o[C]),Math.floor(o[C+1]))&&i.set(C/2,l)}catch{throw new j}}return i}}class dr{static setGridSampler(e){dr.gridSampler=e}static getInstance(){return dr.gridSampler}}dr.gridSampler=new Or;class bt{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new de(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class bn{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let o=r[0];r[0]=r[2],r[2]=o}this.extractParameters(r);let n=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),i=this.getMatrixCornerPoints(r);return new or(n,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new j;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let n=0;for(let o=0;o<4;o++){let l=r[(this.shift+o)%4];this.compact?(n<<=7,n+=l>>1&127):(n<<=10,n+=(l>>2&992)+(l>>1&31))}let i=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=(i>>6)+1,this.nbDataBlocks=(i&63)+1):(this.nbLayers=(i>>11)+1,this.nbDataBlocks=(i&2047)+1)}getRotation(e,t){let r=0;e.forEach((n,i,o)=>{let l=(n>>t-2<<1)+(n&1);r=(r<<3)+l}),r=((r&1)<<11)+(r>>1);for(let n=0;n<4;n++)if(T.bitCount(r^this.EXPECTED_CORNER_BITS[n])<=2)return n;throw new j}getCorrectedParameterData(e,t){let r,n;t?(r=7,n=2):(r=10,n=4);let i=r-n,o=new Int32Array(r);for(let f=r-1;f>=0;--f)o[f]=e&15,e>>=4;try{new sr(ve.AZTEC_PARAM).decode(o,i)}catch{throw new j}let l=0;for(let f=0;f<n;f++)l=(l<<4)+o[f];return l}getBullsEyeCorners(e){let t=e,r=e,n=e,i=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let b=this.getFirstDifferent(t,o,1,-1),I=this.getFirstDifferent(r,o,1,1),R=this.getFirstDifferent(n,o,-1,1),k=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){let P=this.distancePoint(k,b)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(P<.75||P>1.25||!this.isWhiteOrBlackRectangle(b,I,R,k))break}t=b,r=I,n=R,i=k,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new j;this.compact=this.nbCenterLayers===5;let l=new de(t.getX()+.5,t.getY()-.5),f=new de(r.getX()+.5,r.getY()+.5),g=new de(n.getX()-.5,n.getY()+.5),C=new de(i.getX()-.5,i.getY()-.5);return this.expandSquare([l,f,g,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,n;try{let l=new Ut(this.image).detect();e=l[0],t=l[1],r=l[2],n=l[3]}catch{let f=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new bt(f+7,g-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new bt(f+7,g+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new bt(f-7,g+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new bt(f-7,g-7),!1,-1,-1).toResultPoint()}let i=Fe.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=Fe.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{let l=new Ut(this.image,15,i,o).detect();e=l[0],t=l[1],r=l[2],n=l[3]}catch{e=this.getFirstDifferent(new bt(i+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new bt(i+7,o+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new bt(i-7,o+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new bt(i-7,o-7),!1,-1,-1).toResultPoint()}return i=Fe.round((e.getX()+n.getX()+t.getX()+r.getX())/4),o=Fe.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new bt(i,o)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,n,i){let o=dr.getInstance(),l=this.getDimension(),f=l/2-this.nbCenterLayers,g=l/2+this.nbCenterLayers;return o.sampleGrid(e,l,l,f,f,g,f,g,g,f,g,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY())}sampleLine(e,t,r){let n=0,i=this.distanceResultPoint(e,t),o=i/r,l=e.getX(),f=e.getY(),g=o*(t.getX()-e.getX())/i,C=o*(t.getY()-e.getY())/i;for(let b=0;b<r;b++)this.image.get(Fe.round(l+b*g),Fe.round(f+b*C))&&(n|=1<<r-b-1);return n}isWhiteOrBlackRectangle(e,t,r,n){let i=3;e=new bt(e.getX()-i,e.getY()+i),t=new bt(t.getX()-i,t.getY()-i),r=new bt(r.getX()+i,r.getY()-i),n=new bt(n.getX()+i,n.getY()+i);let o=this.getColor(n,e);if(o===0)return!1;let l=this.getColor(e,t);return l!==o||(l=this.getColor(t,r),l!==o)?!1:(l=this.getColor(r,n),l===o)}getColor(e,t){let r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,i=(t.getY()-e.getY())/r,o=0,l=e.getX(),f=e.getY(),g=this.image.get(e.getX(),e.getY()),C=Math.ceil(r);for(let I=0;I<C;I++)l+=n,f+=i,this.image.get(Fe.round(l),Fe.round(f))!==g&&o++;let b=o/r;return b>.1&&b<.9?0:b<=.1===g?1:-1}getFirstDifferent(e,t,r,n){let i=e.getX()+r,o=e.getY()+n;for(;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=r,o+=n;for(i-=r,o-=n;this.isValid(i,o)&&this.image.get(i,o)===t;)i+=r;for(i-=r;this.isValid(i,o)&&this.image.get(i,o)===t;)o+=n;return o-=n,new bt(i,o)}expandSquare(e,t,r){let n=r/(2*t),i=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),l=(e[0].getX()+e[2].getX())/2,f=(e[0].getY()+e[2].getY())/2,g=new de(l+n*i,f+n*o),C=new de(l-n*i,f-n*o);i=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),l=(e[1].getX()+e[3].getX())/2,f=(e[1].getY()+e[3].getY())/2;let b=new de(l+n*i,f+n*o),I=new de(l-n*i,f-n*o);return[g,b,C,I]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=Fe.round(e.getX()),r=Fe.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return Fe.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return Fe.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class ar{decode(e,t=null){let r=null,n=new bn(e.getBlackMatrix()),i=null,o=null;try{let C=n.detectMirror(!1);i=C.getPoints(),this.reportFoundResultPoints(t,i),o=new We().decode(C)}catch(C){r=C}if(o==null)try{let C=n.detectMirror(!0);i=C.getPoints(),this.reportFoundResultPoints(t,i),o=new We().decode(C)}catch(C){throw r??C}let l=new ee(o.getText(),o.getRawBytes(),o.getNumBits(),i,le.AZTEC,D.currentTimeMillis()),f=o.getByteSegments();f!=null&&l.putMetadata(pe.BYTE_SEGMENTS,f);let g=o.getECLevel();return g!=null&&l.putMetadata(pe.ERROR_CORRECTION_LEVEL,g),l}reportFoundResultPoints(e,t){if(e!=null){let r=e.get(U.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach((n,i,o)=>{r.foundPossibleResultPoint(n)})}}reset(){}}class Gr extends te{constructor(e=500){super(new ar,e)}}class ft{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(U.TRY_HARDER)===!0&&e.isRotateSupported()){const i=e.rotateCounterClockwise(),o=this.doDecode(i,t),l=o.getResultMetadata();let f=270;l!==null&&l.get(pe.ORIENTATION)===!0&&(f=f+l.get(pe.ORIENTATION)%360),o.putMetadata(pe.ORIENTATION,f);const g=o.getResultPoints();if(g!==null){const C=i.getHeight();for(let b=0;b<g.length;b++)g[b]=new de(C-g[b].getY()-1,g[b].getX())}return o}else throw new j}}reset(){}doDecode(e,t){const r=e.getWidth(),n=e.getHeight();let i=new M(r);const o=t&&t.get(U.TRY_HARDER)===!0,l=Math.max(1,n>>(o?8:5));let f;o?f=n:f=15;const g=Math.trunc(n/2);for(let C=0;C<f;C++){const b=Math.trunc((C+1)/2),I=(C&1)===0,R=g+l*(I?b:-b);if(R<0||R>=n)break;try{i=e.getBlackRow(R,i)}catch{continue}for(let k=0;k<2;k++){if(k===1&&(i.reverse(),t&&t.get(U.NEED_RESULT_POINT_CALLBACK)===!0)){const P=new Map;t.forEach((Y,K)=>P.set(K,Y)),P.delete(U.NEED_RESULT_POINT_CALLBACK),t=P}try{const P=this.decodeRow(R,i,t);if(k===1){P.putMetadata(pe.ORIENTATION,180);const Y=P.getResultPoints();Y!==null&&(Y[0]=new de(r-Y[0].getX()-1,Y[0].getY()),Y[1]=new de(r-Y[1].getX()-1,Y[1].getY()))}return P}catch{}}}throw new j}static recordPattern(e,t,r){const n=r.length;for(let g=0;g<n;g++)r[g]=0;const i=e.getSize();if(t>=i)throw new j;let o=!e.get(t),l=0,f=t;for(;f<i;){if(e.get(f)!==o)r[l]++;else{if(++l===n)break;r[l]=1,o=!o}f++}if(!(l===n||l===n-1&&f===i))throw new j}static recordPatternInReverse(e,t,r){let n=r.length,i=e.get(t);for(;t>0&&n>=0;)e.get(--t)!==i&&(n--,i=!i);if(n>=0)throw new j;ft.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const n=e.length;let i=0,o=0;for(let g=0;g<n;g++)i+=e[g],o+=t[g];if(i<o)return Number.POSITIVE_INFINITY;const l=i/o;r*=l;let f=0;for(let g=0;g<n;g++){const C=e[g],b=t[g]*l,I=C>b?C-b:b-C;if(I>r)return Number.POSITIVE_INFINITY;f+=I}return f/i}}class ue extends ft{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let n=0,i=Int32Array.from([0,0,0,0,0,0]),o=r,l=!1;const f=6;for(let g=r;g<t;g++)if(e.get(g)!==l)i[n]++;else{if(n===f-1){let C=ue.MAX_AVG_VARIANCE,b=-1;for(let I=ue.CODE_START_A;I<=ue.CODE_START_C;I++){const R=ft.patternMatchVariance(i,ue.CODE_PATTERNS[I],ue.MAX_INDIVIDUAL_VARIANCE);R<C&&(C=R,b=I)}if(b>=0&&e.isRange(Math.max(0,o-(g-o)/2),o,!1))return Int32Array.from([o,g,b]);o+=i[0]+i[1],i=i.slice(2,i.length-1),i[n-1]=0,i[n]=0,n--}else n++;i[n]=1,l=!l}throw new j}static decodeCode(e,t,r){ft.recordPattern(e,r,t);let n=ue.MAX_AVG_VARIANCE,i=-1;for(let o=0;o<ue.CODE_PATTERNS.length;o++){const l=ue.CODE_PATTERNS[o],f=this.patternMatchVariance(t,l,ue.MAX_INDIVIDUAL_VARIANCE);f<n&&(n=f,i=o)}if(i>=0)return i;throw new j}decodeRow(e,t,r){const n=r&&r.get(U.ASSUME_GS1)===!0,i=ue.findStartPattern(t),o=i[2];let l=0;const f=new Uint8Array(20);f[l++]=o;let g;switch(o){case ue.CODE_START_A:g=ue.CODE_CODE_A;break;case ue.CODE_START_B:g=ue.CODE_CODE_B;break;case ue.CODE_START_C:g=ue.CODE_CODE_C;break;default:throw new L}let C=!1,b=!1,I="",R=i[0],k=i[1];const P=Int32Array.from([0,0,0,0,0,0]);let Y=0,K=0,oe=o,ce=0,se=!0,Le=!1,Be=!1;for(;!C;){const hn=b;switch(b=!1,Y=K,K=ue.decodeCode(t,P,k),f[l++]=K,K!==ue.CODE_STOP&&(se=!0),K!==ue.CODE_STOP&&(ce++,oe+=ce*K),R=k,k+=P.reduce((f1,h1)=>f1+h1,0),K){case ue.CODE_START_A:case ue.CODE_START_B:case ue.CODE_START_C:throw new L}switch(g){case ue.CODE_CODE_A:if(K<64)Be===Le?I+=String.fromCharCode(32+K):I+=String.fromCharCode(32+K+128),Be=!1;else if(K<96)Be===Le?I+=String.fromCharCode(K-64):I+=String.fromCharCode(K+64),Be=!1;else switch(K!==ue.CODE_STOP&&(se=!1),K){case ue.CODE_FNC_1:n&&(I.length===0?I+="]C1":I+="");break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_A:!Le&&Be?(Le=!0,Be=!1):Le&&Be?(Le=!1,Be=!1):Be=!0;break;case ue.CODE_SHIFT:b=!0,g=ue.CODE_CODE_B;break;case ue.CODE_CODE_B:g=ue.CODE_CODE_B;break;case ue.CODE_CODE_C:g=ue.CODE_CODE_C;break;case ue.CODE_STOP:C=!0;break}break;case ue.CODE_CODE_B:if(K<96)Be===Le?I+=String.fromCharCode(32+K):I+=String.fromCharCode(32+K+128),Be=!1;else switch(K!==ue.CODE_STOP&&(se=!1),K){case ue.CODE_FNC_1:n&&(I.length===0?I+="]C1":I+="");break;case ue.CODE_FNC_2:case ue.CODE_FNC_3:break;case ue.CODE_FNC_4_B:!Le&&Be?(Le=!0,Be=!1):Le&&Be?(Le=!1,Be=!1):Be=!0;break;case ue.CODE_SHIFT:b=!0,g=ue.CODE_CODE_A;break;case ue.CODE_CODE_A:g=ue.CODE_CODE_A;break;case ue.CODE_CODE_C:g=ue.CODE_CODE_C;break;case ue.CODE_STOP:C=!0;break}break;case ue.CODE_CODE_C:if(K<100)K<10&&(I+="0"),I+=K;else switch(K!==ue.CODE_STOP&&(se=!1),K){case ue.CODE_FNC_1:n&&(I.length===0?I+="]C1":I+="");break;case ue.CODE_CODE_A:g=ue.CODE_CODE_A;break;case ue.CODE_CODE_B:g=ue.CODE_CODE_B;break;case ue.CODE_STOP:C=!0;break}break}hn&&(g=g===ue.CODE_CODE_A?ue.CODE_CODE_B:ue.CODE_CODE_A)}const jt=k-R;if(k=t.getNextUnset(k),!t.isRange(k,Math.min(t.getSize(),k+(k-R)/2),!1))throw new j;if(oe-=ce*Y,oe%103!==Y)throw new _;const cr=I.length;if(cr===0)throw new j;cr>0&&se&&(g===ue.CODE_CODE_C?I=I.substring(0,cr-2):I=I.substring(0,cr-1));const Wt=(i[1]+i[0])/2,Je=R+jt/2,Rt=f.length,Gt=new Uint8Array(Rt);for(let hn=0;hn<Rt;hn++)Gt[hn]=f[hn];const fn=[new de(Wt,e),new de(Je,e)];return new ee(I,Gt,0,fn,le.CODE_128,new Date().getTime())}}ue.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ue.MAX_AVG_VARIANCE=.25,ue.MAX_INDIVIDUAL_VARIANCE=.7,ue.CODE_SHIFT=98,ue.CODE_CODE_C=99,ue.CODE_CODE_B=100,ue.CODE_CODE_A=101,ue.CODE_FNC_1=102,ue.CODE_FNC_2=97,ue.CODE_FNC_3=96,ue.CODE_FNC_4_A=101,ue.CODE_FNC_4_B=100,ue.CODE_START_A=103,ue.CODE_START_B=104,ue.CODE_START_C=105,ue.CODE_STOP=106;class ht extends ft{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let n=this.counters;n.fill(0),this.decodeRowResult="";let i=ht.findAsteriskPattern(t,n),o=t.getNextSet(i[1]),l=t.getSize(),f,g;do{ht.recordPattern(t,o,n);let P=ht.toNarrowWidePattern(n);if(P<0)throw new j;f=ht.patternToChar(P),this.decodeRowResult+=f,g=o;for(let Y of n)o+=Y;o=t.getNextSet(o)}while(f!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let P of n)C+=P;let b=o-g-C;if(o!==l&&b*2<C)throw new j;if(this.usingCheckDigit){let P=this.decodeRowResult.length-1,Y=0;for(let K=0;K<P;K++)Y+=ht.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(P)!==ht.ALPHABET_STRING.charAt(Y%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new j;let I;this.extendedMode?I=ht.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let R=(i[1]+i[0])/2,k=g+C/2;return new ee(I,null,0,[new de(R,e),new de(k,e)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),n=e.getNextSet(0),i=0,o=n,l=!1,f=t.length;for(let g=n;g<r;g++)if(e.get(g)!==l)t[i]++;else{if(i===f-1){if(this.toNarrowWidePattern(t)===ht.ASTERISK_ENCODING&&e.isRange(Math.max(0,o-Math.floor((g-o)/2)),o,!1))return[o,g];o+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,l=!l}throw new j}static toNarrowWidePattern(e){let t=e.length,r=0,n;do{let i=2147483647;for(let f of e)f<i&&f>r&&(i=f);r=i,n=0;let o=0,l=0;for(let f=0;f<t;f++){let g=e[f];g>r&&(l|=1<<t-1-f,n++,o+=g)}if(n===3){for(let f=0;f<t&&n>0;f++){let g=e[f];if(g>r&&(n--,g*2>=o))return-1}return l}}while(n>3);return-1}static patternToChar(e){for(let t=0;t<ht.CHARACTER_ENCODINGS.length;t++)if(ht.CHARACTER_ENCODINGS[t]===e)return ht.ALPHABET_STRING.charAt(t);if(e===ht.ASTERISK_ENCODING)return"*";throw new j}static decodeExtended(e){let t=e.length,r="";for(let n=0;n<t;n++){let i=e.charAt(n);if(i==="+"||i==="$"||i==="%"||i==="/"){let o=e.charAt(n+1),l="\0";switch(i){case"+":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)+32);else throw new L;break;case"$":if(o>="A"&&o<="Z")l=String.fromCharCode(o.charCodeAt(0)-64);else throw new L;break;case"%":if(o>="A"&&o<="E")l=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")l=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")l=String.fromCharCode(o.charCodeAt(0)+43);else if(o==="U")l="\0";else if(o==="V")l="@";else if(o==="W")l="`";else if(o==="X"||o==="Y"||o==="Z")l="";else throw new L;break;case"/":if(o>="A"&&o<="O")l=String.fromCharCode(o.charCodeAt(0)-32);else if(o==="Z")l=":";else throw new L;break}r+=l,n++}else r+=i}return r}}ht.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ht.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ht.ASTERISK_ENCODING=148;class Ze extends ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let n=this.decodeStart(t),i=this.decodeEnd(t),o=new X;Ze.decodeMiddle(t,n[1],i[0],o);let l=o.toString(),f=null;r!=null&&(f=r.get(U.ALLOWED_LENGTHS)),f==null&&(f=Ze.DEFAULT_ALLOWED_LENGTHS);let g=l.length,C=!1,b=0;for(let k of f){if(g===k){C=!0;break}k>b&&(b=k)}if(!C&&g>b&&(C=!0),!C)throw new L;const I=[new de(n[1],e),new de(i[0],e)];return new ee(l,null,0,I,le.ITF,new Date().getTime())}static decodeMiddle(e,t,r,n){let i=new Int32Array(10),o=new Int32Array(5),l=new Int32Array(5);for(i.fill(0),o.fill(0),l.fill(0);t<r;){ft.recordPattern(e,t,i);for(let g=0;g<5;g++){let C=2*g;o[g]=i[C],l[g]=i[C+1]}let f=Ze.decodeDigit(o);n.append(f.toString()),f=this.decodeDigit(l),n.append(f.toString()),i.forEach(function(g){t+=g})}}decodeStart(e){let t=Ze.skipWhiteSpace(e),r=Ze.findGuardPattern(e,t,Ze.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=this.narrowLineWidth*10;r=r<t?r:t;for(let n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(r!==0)throw new j}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new j;return r}decodeEnd(e){e.reverse();try{let t=Ze.skipWhiteSpace(e),r;try{r=Ze.findGuardPattern(e,t,Ze.END_PATTERN_REVERSED[0])}catch(i){i instanceof j&&(r=Ze.findGuardPattern(e,t,Ze.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let n=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-n,r}finally{e.reverse()}}static findGuardPattern(e,t,r){let n=r.length,i=new Int32Array(n),o=e.getSize(),l=!1,f=0,g=t;i.fill(0);for(let C=t;C<o;C++)if(e.get(C)!==l)i[f]++;else{if(f===n-1){if(ft.patternMatchVariance(i,r,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return[g,C];g+=i[0]+i[1],D.arraycopy(i,2,i,0,f-1),i[f-1]=0,i[f]=0,f--}else f++;i[f]=1,l=!l}throw new j}static decodeDigit(e){let t=Ze.MAX_AVG_VARIANCE,r=-1,n=Ze.PATTERNS.length;for(let i=0;i<n;i++){let o=Ze.PATTERNS[i],l=ft.patternMatchVariance(e,o,Ze.MAX_INDIVIDUAL_VARIANCE);l<t?(t=l,r=i):l===t&&(r=-1)}if(r>=0)return r%10;throw new j}}Ze.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ze.MAX_AVG_VARIANCE=.38,Ze.MAX_INDIVIDUAL_VARIANCE=.5,Ze.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ze.START_PATTERN=Int32Array.from([1,1,1,1]),Ze.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ot extends ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,r,n=0,i=Int32Array.from([0,0,0]);for(;!t;){i=Int32Array.from([0,0,0]),r=ot.findGuardPattern(e,n,!1,this.START_END_PATTERN,i);let o=r[0];n=r[1];let l=o-(n-o);l>=0&&(t=e.isRange(l,o,!1))}return r}static checkChecksum(e){return ot.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return ot.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new L;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new L;r+=i}return(1e3-r)%10}static decodeEnd(e,t){return ot.findGuardPattern(e,t,!1,ot.START_END_PATTERN,new Int32Array(ot.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))}static findGuardPattern(e,t,r,n,i){let o=e.getSize();t=r?e.getNextUnset(t):e.getNextSet(t);let l=0,f=t,g=n.length,C=r;for(let b=t;b<o;b++)if(e.get(b)!==C)i[l]++;else{if(l===g-1){if(ft.patternMatchVariance(i,n,ot.MAX_INDIVIDUAL_VARIANCE)<ot.MAX_AVG_VARIANCE)return Int32Array.from([f,b]);f+=i[0]+i[1];let I=i.slice(2,i.length-1);for(let R=0;R<l-1;R++)i[R]=I[R];i[l-1]=0,i[l]=0,l--}else l++;i[l]=1,C=!C}throw new j}static decodeDigit(e,t,r,n){this.recordPattern(e,r,t);let i=this.MAX_AVG_VARIANCE,o=-1,l=n.length;for(let f=0;f<l;f++){let g=n[f],C=ft.patternMatchVariance(t,g,ot.MAX_INDIVIDUAL_VARIANCE);C<i&&(i=C,o=f)}if(o>=0)return o;throw new j}}ot.MAX_AVG_VARIANCE=.48,ot.MAX_INDIVIDUAL_VARIANCE=.7,ot.START_END_PATTERN=Int32Array.from([1,1,1]),ot.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ot.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ot.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Mr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),o=n.toString(),l=Mr.parseExtensionString(o),f=[new de((r[0]+r[1])/2,e),new de(i,e)],g=new ee(o,null,0,f,le.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&g.putAllMetadata(l),g}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],l=0;for(let g=0;g<5&&o<i;g++){let C=ot.decodeDigit(e,n,o,ot.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let b of n)o+=b;C>=10&&(l|=1<<4-g),g!==4&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(r.length!==5)throw new j;let f=this.determineCheckDigit(l);if(Mr.extensionChecksum(r.toString())!==f)throw new j;return o}static extensionChecksum(e){let t=e.length,r=0;for(let n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;r*=3;for(let n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new j}static parseExtensionString(e){if(e.length!==5)return null;let t=Mr.parseExtension5String(e);return t==null?null:new Map([[pe.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let r=parseInt(e.substring(1)),n=(r/100).toString(),i=r%100,o=i<10?"0"+i:i.toString();return t+n+"."+o}}class vn{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),o=n.toString(),l=vn.parseExtensionString(o),f=[new de((r[0]+r[1])/2,e),new de(i,e)],g=new ee(o,null,0,f,le.UPC_EAN_EXTENSION,new Date().getTime());return l!=null&&g.putAllMetadata(l),g}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],l=0;for(let f=0;f<2&&o<i;f++){let g=ot.decodeDigit(e,n,o,ot.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);for(let C of n)o+=C;g>=10&&(l|=1<<1-f),f!==1&&(o=e.getNextSet(o),o=e.getNextUnset(o))}if(r.length!==2)throw new j;if(parseInt(r.toString())%4!==l)throw new j;return o}static parseExtensionString(e){return e.length!==2?null:new Map([[pe.ISSUE_NUMBER,parseInt(e)]])}}class In{static decodeRow(e,t,r){let n=ot.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Mr().decodeRow(e,t,n)}catch{return new vn().decodeRow(e,t,n)}}}In.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class He extends ot{constructor(){super(),this.decodeRowStringBuffer="",He.L_AND_G_PATTERNS=He.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=He.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[t.length-n-1];He.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let n=He.findStartGuardPattern(t),i=r==null?null:r.get(U.NEED_RESULT_POINT_CALLBACK);if(i!=null){const se=new de((n[0]+n[1])/2,e);i.foundPossibleResultPoint(se)}let o=this.decodeMiddle(t,n,this.decodeRowStringBuffer),l=o.rowOffset,f=o.resultString;if(i!=null){const se=new de(l,e);i.foundPossibleResultPoint(se)}let g=this.decodeEnd(t,l);if(i!=null){const se=new de((g[0]+g[1])/2,e);i.foundPossibleResultPoint(se)}let C=g[1],b=C+(C-g[0]);if(b>=t.getSize()||!t.isRange(C,b,!1))throw new j;let I=f.toString();if(I.length<8)throw new L;if(!He.checkChecksum(I))throw new _;let R=(n[1]+n[0])/2,k=(g[1]+g[0])/2,P=this.getBarcodeFormat(),Y=[new de(R,e),new de(k,e)],K=new ee(I,null,0,Y,P,new Date().getTime()),oe=0;try{let se=In.decodeRow(e,t,g[1]);K.putMetadata(pe.UPC_EAN_EXTENSION,se.getText()),K.putAllMetadata(se.getResultMetadata()),K.addResultPoints(se.getResultPoints()),oe=se.getText().length}catch{}let ce=r==null?null:r.get(U.ALLOWED_EAN_EXTENSIONS);if(ce!=null){let se=!1;for(let Le in ce)if(oe.toString()===Le){se=!0;break}if(!se)throw new j}return K}decodeEnd(e,t){return He.findGuardPattern(e,t,!1,He.START_END_PATTERN,new Int32Array(He.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return He.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return He.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new L;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new L;r+=i}return(1e3-r)%10}}class xr extends He{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1],l=0;for(let g=0;g<6&&o<i;g++){let C=He.decodeDigit(e,n,o,He.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let b of n)o+=b;C>=10&&(l|=1<<5-g)}r=xr.determineFirstDigit(r,l),o=He.findGuardPattern(e,o,!0,He.MIDDLE_PATTERN,new Int32Array(He.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&o<i;g++){let C=He.decodeDigit(e,n,o,He.L_PATTERNS);r+=String.fromCharCode(48+C);for(let b of n)o+=b}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new j}}xr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class qn extends He{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o=t[1];for(let f=0;f<4&&o<i;f++){let g=He.decodeDigit(e,n,o,He.L_PATTERNS);r+=String.fromCharCode(48+g);for(let C of n)o+=C}o=He.findGuardPattern(e,o,!0,He.MIDDLE_PATTERN,new Int32Array(He.MIDDLE_PATTERN.length).fill(0))[1];for(let f=0;f<4&&o<i;f++){let g=He.decodeDigit(e,n,o,He.L_PATTERNS);r+=String.fromCharCode(48+g);for(let C of n)o+=C}return{rowOffset:o,resultString:r}}getBarcodeFormat(){return le.EAN_8}}class Zn extends He{constructor(){super(...arguments),this.ean13Reader=new xr}getBarcodeFormat(){return le.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let r=new ee(t.substring(1),null,null,e.getResultPoints(),le.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new j}reset(){this.ean13Reader.reset()}}class Vt extends He{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters.map(g=>g);n[0]=0,n[1]=0,n[2]=0,n[3]=0;const i=e.getSize();let o=t[1],l=0;for(let g=0;g<6&&o<i;g++){const C=Vt.decodeDigit(e,n,o,Vt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+C%10);for(let b of n)o+=b;C>=10&&(l|=1<<5-g)}let f=Vt.determineNumSysAndCheckDigit(r,l);return{rowOffset:o,resultString:f}}decodeEnd(e,t){return Vt.findGuardPatternWithoutCounters(e,t,!0,Vt.MIDDLE_END_PATTERN)}checkChecksum(e){return He.checkChecksum(Vt.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n]){let i=String.fromCharCode(48+r),o=String.fromCharCode(48+n);return i+e+o}throw j.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(i=>i.charCodeAt(0)),r=new X;r.append(e.charAt(0));let n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Vt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Vt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class nn extends ft{constructor(e){super();let t=e==null?null:e.get(U.POSSIBLE_FORMATS),r=[];u(t)?(r.push(new xr),r.push(new Zn),r.push(new qn),r.push(new Vt)):(t.indexOf(le.EAN_13)>-1&&r.push(new xr),t.indexOf(le.UPC_A)>-1&&r.push(new Zn),t.indexOf(le.EAN_8)>-1&&r.push(new qn),t.indexOf(le.UPC_E)>-1&&r.push(new Vt)),this.readers=r}decodeRow(e,t,r){for(let n of this.readers)try{const i=n.decodeRow(e,t,r),o=i.getBarcodeFormat()===le.EAN_13&&i.getText().charAt(0)==="0",l=r==null?null:r.get(U.POSSIBLE_FORMATS),f=l==null||l.includes(le.UPC_A);if(o&&f){const g=i.getRawBytes(),C=new ee(i.getText().substring(1),g,g?g.length:null,i.getResultPoints(),le.UPC_A);return C.putAllMetadata(i.getResultMetadata()),C}return i}catch{}throw new j}reset(){for(let e of this.readers)e.reset()}}class vt extends ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(ft.patternMatchVariance(e,t[r],vt.MAX_INDIVIDUAL_VARIANCE)<vt.MAX_AVG_VARIANCE)return r;throw new j}static count(e){return Fe.sum(new Int32Array(e))}static increment(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]>n&&(n=t[i],r=i);e[r]++}static decrement(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]<n&&(n=t[i],r=i);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t+e[2]+e[3],n=t/r;if(n>=vt.MIN_FINDER_PATTERN_RATIO&&n<=vt.MAX_FINDER_PATTERN_RATIO){let i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER;for(let l of e)l>o&&(o=l),l<i&&(i=l);return o<10*i}return!1}}vt.MAX_AVG_VARIANCE=.2,vt.MAX_INDIVIDUAL_VARIANCE=.45,vt.MIN_FINDER_PATTERN_RATIO=9.5/12,vt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Rr{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Rr))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Xr{constructor(e,t,r,n,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new de(r,i)),this.resultPoints.push(new de(n,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Xr))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Qt{constructor(){}static getRSSvalue(e,t,r){let n=0;for(let f of e)n+=f;let i=0,o=0,l=e.length;for(let f=0;f<l-1;f++){let g;for(g=1,o|=1<<f;g<e[f];g++,o&=~(1<<f)){let C=Qt.combins(n-g-1,l-f-2);if(r&&o===0&&n-g-(l-f-1)>=l-f-1&&(C-=Qt.combins(n-g-(l-f),l-f-2)),l-f-1>1){let b=0;for(let I=n-g-(l-f-2);I>t;I--)b+=Qt.combins(n-g-I-1,l-f-3);C-=b*(l-1-f)}else n-g>t&&C--;i+=C}n-=g}return i}static combins(e,t){let r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);let i=1,o=1;for(let l=e;l>r;l--)i*=l,o<=n&&(i/=o,o++);for(;o<=n;)i/=o,o++;return i}}class $n{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let r=12*t,n=new M(r),i=0,l=e[0].getRightChar().getValue();for(let f=11;f>=0;--f)l&1<<f&&n.set(i),i++;for(let f=1;f<e.length;++f){let g=e[f],C=g.getLeftChar().getValue();for(let b=11;b>=0;--b)C&1<<b&&n.set(i),i++;if(g.getRightChar()!=null){let b=g.getRightChar().getValue();for(let I=11;I>=0;--I)b&1<<I&&n.set(i),i++}}return n}}class At{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Kt{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Nt extends Kt{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Nt.FNC1}}Nt.FNC1="$";class vr extends Kt{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Jt extends Kt{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new L;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Jt.FNC1}isSecondDigitFNC1(){return this.secondDigit===Jt.FNC1}isAnyFNC1(){return this.firstDigit===Jt.FNC1||this.secondDigit===Jt.FNC1}}Jt.FNC1=10;class xe{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new j;let t=e.substring(0,2);for(let i of xe.TWO_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(2,i[2],e):xe.processFixedAI(2,i[1],e);if(e.length<3)throw new j;let r=e.substring(0,3);for(let i of xe.THREE_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(3,i[2],e):xe.processFixedAI(3,i[1],e);for(let i of xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,i[2],e):xe.processFixedAI(4,i[1],e);if(e.length<4)throw new j;let n=e.substring(0,4);for(let i of xe.FOUR_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===xe.VARIABLE_LENGTH?xe.processVariableAI(4,i[2],e):xe.processFixedAI(4,i[1],e);throw new j}static processFixedAI(e,t,r){if(r.length<e)throw new j;let n=r.substring(0,e);if(r.length<e+t)throw new j;let i=r.substring(e,e+t),o=r.substring(e+t),l="("+n+")"+i,f=xe.parseFieldsInGeneralPurpose(o);return f==null?l:l+f}static processVariableAI(e,t,r){let n=r.substring(0,e),i;r.length<e+t?i=r.length:i=e+t;let o=r.substring(e,i),l=r.substring(i),f="("+n+")"+o,g=xe.parseFieldsInGeneralPurpose(l);return g==null?f:f+g}}xe.VARIABLE_LENGTH=[],xe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",xe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",xe.VARIABLE_LENGTH,20],["22",xe.VARIABLE_LENGTH,29],["30",xe.VARIABLE_LENGTH,8],["37",xe.VARIABLE_LENGTH,8],["90",xe.VARIABLE_LENGTH,30],["91",xe.VARIABLE_LENGTH,30],["92",xe.VARIABLE_LENGTH,30],["93",xe.VARIABLE_LENGTH,30],["94",xe.VARIABLE_LENGTH,30],["95",xe.VARIABLE_LENGTH,30],["96",xe.VARIABLE_LENGTH,30],["97",xe.VARIABLE_LENGTH,3],["98",xe.VARIABLE_LENGTH,30],["99",xe.VARIABLE_LENGTH,30]],xe.THREE_DIGIT_DATA_LENGTH=[["240",xe.VARIABLE_LENGTH,30],["241",xe.VARIABLE_LENGTH,30],["242",xe.VARIABLE_LENGTH,6],["250",xe.VARIABLE_LENGTH,30],["251",xe.VARIABLE_LENGTH,30],["253",xe.VARIABLE_LENGTH,17],["254",xe.VARIABLE_LENGTH,20],["400",xe.VARIABLE_LENGTH,30],["401",xe.VARIABLE_LENGTH,30],["402",17],["403",xe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",xe.VARIABLE_LENGTH,20],["421",xe.VARIABLE_LENGTH,15],["422",3],["423",xe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],xe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",xe.VARIABLE_LENGTH,15],["391",xe.VARIABLE_LENGTH,18],["392",xe.VARIABLE_LENGTH,15],["393",xe.VARIABLE_LENGTH,18],["703",xe.VARIABLE_LENGTH,30]],xe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",xe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",xe.VARIABLE_LENGTH,20],["8003",xe.VARIABLE_LENGTH,30],["8004",xe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",xe.VARIABLE_LENGTH,30],["8008",xe.VARIABLE_LENGTH,12],["8018",18],["8020",xe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",xe.VARIABLE_LENGTH,70],["8200",xe.VARIABLE_LENGTH,70]];class sn{constructor(e){this.buffer=new X,this.information=e}decodeAllCodes(e,t){let r=t,n=null;do{let i=this.decodeGeneralPurposeField(r,n),o=xe.parseFieldsInGeneralPurpose(i.getNewString());if(o!=null&&e.append(o),i.isRemaining()?n=""+i.getRemainingValue():n=null,r===i.getNewPosition())break;r=i.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let i=this.extractNumericValueFromBitArray(e,4);return i===0?new Jt(this.information.getSize(),Jt.FNC1,Jt.FNC1):new Jt(this.information.getSize(),i-1,Jt.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),r=(t-8)/11,n=(t-8)%11;return new Jt(e+7,r,n)}extractNumericValueFromBitArray(e,t){return sn.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let n=0;for(let i=0;i<r;++i)e.get(t+i)&&(n|=1<<r-i-1);return n}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new vr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new vr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new vr(this.current.getPosition(),this.buffer.toString()):t=new vr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new At(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new vr(this.current.getPosition(),this.buffer.toString());return new At(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new At(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new vr(this.current.getPosition(),this.buffer.toString());return new At(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new At(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new vr(this.current.getPosition(),this.buffer.toString());return new At(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new At(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Nt(e+5,Nt.FNC1);if(t>=5&&t<15)return new Nt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Nt(e+7,""+(r+1));if(r>=90&&r<116)return new Nt(e+7,""+(r+7));let n=this.extractNumericValueFromBitArray(e,8),i;switch(n){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new L}return new Nt(e+8,i)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Nt(e+5,Nt.FNC1);if(t>=5&&t<15)return new Nt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Nt(e+6,""+(r+33));let n;switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new Tt("Decoding invalid alphanumeric value: "+r)}return new Nt(e+6,n)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Di{constructor(e){this.information=e,this.generalDecoder=new sn(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ht extends Di{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let n=0;n<4;++n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*n,10);i/100===0&&e.append("0"),i/10===0&&e.append("0"),e.append(i)}Ht.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let n=0;n<13;n++){let i=e.charAt(n+t).charCodeAt(0)-48;r+=n&1?i:3*i}r=10-r%10,r===10&&(r=0),e.append(r)}}Ht.GTIN_SIZE=40;class on extends Ht{constructor(e){super(e)}parseInformation(){let e=new X;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(on.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,on.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,on.HEADER_SIZE+44)}}on.HEADER_SIZE=4;class Qn extends Di{constructor(e){super(e)}parseInformation(){let e=new X;return this.getGeneralDecoder().decodeAllCodes(e,Qn.HEADER_SIZE)}}Qn.HEADER_SIZE=5;class Kn extends Ht{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);let i=this.checkWeight(n),o=1e5;for(let l=0;l<5;++l)i/o===0&&e.append("0"),o/=10;e.append(i)}}class gr extends Kn{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=gr.HEADER_SIZE+Kn.GTIN_SIZE+gr.WEIGHT_SIZE)throw new j;let e=new X;return this.encodeCompressedGtin(e,gr.HEADER_SIZE),this.encodeCompressedWeight(e,gr.HEADER_SIZE+Kn.GTIN_SIZE,gr.WEIGHT_SIZE),e.toString()}}gr.HEADER_SIZE=5,gr.WEIGHT_SIZE=15;class Pa extends gr{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class Ua extends gr{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Ar extends Ht{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ar.HEADER_SIZE+Ht.GTIN_SIZE)throw new j;let e=new X;this.encodeCompressedGtin(e,Ar.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Ar.HEADER_SIZE+Ht.GTIN_SIZE,Ar.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Ar.HEADER_SIZE+Ht.GTIN_SIZE+Ar.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Ar.HEADER_SIZE=8,Ar.LAST_DIGIT_SIZE=2;class Pt extends Ht{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Pt.HEADER_SIZE+Ht.GTIN_SIZE)throw new j;let e=new X;this.encodeCompressedGtin(e,Pt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Pt.HEADER_SIZE+Ht.GTIN_SIZE,Pt.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Pt.HEADER_SIZE+Ht.GTIN_SIZE+Pt.LAST_DIGIT_SIZE,Pt.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let n=this.getGeneralDecoder().decodeGeneralPurposeField(Pt.HEADER_SIZE+Ht.GTIN_SIZE+Pt.LAST_DIGIT_SIZE+Pt.FIRST_THREE_DIGITS_SIZE,null);return e.append(n.getNewString()),e.toString()}}Pt.HEADER_SIZE=8,Pt.LAST_DIGIT_SIZE=2,Pt.FIRST_THREE_DIGITS_SIZE=10;class at extends Kn{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=at.HEADER_SIZE+at.GTIN_SIZE+at.WEIGHT_SIZE+at.DATE_SIZE)throw new j;let e=new X;return this.encodeCompressedGtin(e,at.HEADER_SIZE),this.encodeCompressedWeight(e,at.HEADER_SIZE+at.GTIN_SIZE,at.WEIGHT_SIZE),this.encodeCompressedDate(e,at.HEADER_SIZE+at.GTIN_SIZE+at.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,at.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let n=r%32;r/=32;let i=r%12+1;r/=12;let o=r;o/10==0&&e.append("0"),e.append(o),i/10==0&&e.append("0"),e.append(i),n/10==0&&e.append("0"),e.append(n)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}at.HEADER_SIZE=8,at.WEIGHT_SIZE=20,at.DATE_SIZE=16;function fs(y){try{if(y.get(1))return new on(y);if(!y.get(2))return new Qn(y);switch(sn.extractNumericValueFromBitArray(y,1,4)){case 4:return new Pa(y);case 5:return new Ua(y)}switch(sn.extractNumericValueFromBitArray(y,1,5)){case 12:return new Ar(y);case 13:return new Pt(y)}switch(sn.extractNumericValueFromBitArray(y,1,7)){case 56:return new at(y,"310","11");case 57:return new at(y,"320","11");case 58:return new at(y,"310","13");case 59:return new at(y,"320","13");case 60:return new at(y,"310","15");case 61:return new at(y,"320","15");case 62:return new at(y,"310","17");case 63:return new at(y,"320","17")}}catch(e){throw console.log(e),new Tt("unknown decoder: "+y)}}class Fr{constructor(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Fr?Fr.equalsOrNull(e.leftchar,t.leftchar)&&Fr.equalsOrNull(e.rightchar,t.rightchar)&&Fr.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:Fr.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ti{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof Ti?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach((n,i)=>{t.forEach(o=>{n.getLeftChar().getValue()===o.getLeftChar().getValue()&&n.getRightChar().getValue()===o.getRightChar().getValue()&&n.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(r=!0)})}),r}}class ne extends vt{constructor(e){super(...arguments),this.pairs=new Array(ne.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return ne.constructResult(this.decodeRow2pairs(e,t))}catch(n){this.verbose&&console.log(n)}return this.pairs.length=0,this.startFromEven=!0,ne.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof j){if(!this.pairs.length)throw new j;r=!0}}if(this.checkChecksum())return this.pairs;let n;if(this.rows.length?n=!0:n=!1,this.storeRow(e,!1),n){let i=this.checkRowsBoolean(!1);if(i!=null||(i=this.checkRowsBoolean(!0),i!=null))return i}throw new j}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let n=this.rows[r];this.pairs.length=0;for(let o of e)this.pairs.push(o.getPairs());if(this.pairs.push(n.getPairs()),!ne.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let i=new Array(e);i.push(n);try{return this.checkRows(i,r+1)}catch(o){this.verbose&&console.log(o)}}throw new j}static isValidSequence(e){for(let t of ne.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let n=0;n<e.length;n++)if(e[n].getFinderPattern().getValue()!=t[n]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,n=!1,i=!1;for(;r<this.rows.length;){let o=this.rows[r];if(o.getRowNumber()>e){i=o.isEquivalent(this.pairs);break}n=o.isEquivalent(this.pairs),r++}i||n||ne.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Ti(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length){for(let n of r.getPairs())for(let i of e)if(Fr.equals(n,i))break}}static isPartialRow(e,t){for(let r of t){let n=!0;for(let i of e){let o=!1;for(let l of r.getPairs())if(i.equals(l)){o=!0;break}if(!o){n=!1;break}}if(n)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=$n.buildBitArray(e),n=fs(t).parseInformation(),i=e[0].getFinderPattern().getResultPoints(),o=e[e.length-1].getFinderPattern().getResultPoints(),l=[i[0],i[1],o[0],o[1]];return new ee(n,null,null,l,le.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let n=r.getChecksumPortion(),i=2;for(let l=1;l<this.pairs.size();++l){let f=this.pairs.get(l);n+=f.getLeftChar().getChecksumPortion(),i++;let g=f.getRightChar();g!=null&&(n+=g.getChecksumPortion(),i++)}return n%=211,211*(i-4)+n==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let n=t.length%2==0;this.startFromEven&&(n=!n);let i,o=!0,l=-1;do this.findNextPair(e,t,l),i=this.parseFoundFinderPattern(e,r,n),i==null?l=ne.getNextSecondBar(e,this.startEnd[0]):o=!1;while(o);let f=this.decodeDataCharacter(e,i,n,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new j;let g;try{g=this.decodeDataCharacter(e,i,n,!1)}catch(C){g=null,this.verbose&&console.log(C)}return new Fr(f,g,i,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,r){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),o;r>=0?o=r:this.isEmptyPair(t)?o=0:o=t[t.length-1].getFinderPattern().getStartEnd()[1];let l=t.length%2!=0;this.startFromEven&&(l=!l);let f=!1;for(;o<i&&(f=!e.get(o),!!f);)o++;let g=0,C=o;for(let b=o;b<i;b++)if(e.get(b)!=f)n[g]++;else{if(g==3){if(l&&ne.reverseCounters(n),ne.isFinderPattern(n)){this.startEnd[0]=C,this.startEnd[1]=b;return}l&&ne.reverseCounters(n),C+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,g--}else g++;n[g]=1,f=!f}throw new j}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}}parseFoundFinderPattern(e,t,r){let n,i,o;if(r){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,n=this.startEnd[0]-g,i=g,o=this.startEnd[1]}else i=this.startEnd[0],o=e.getNextUnset(this.startEnd[1]+1),n=o-this.startEnd[1];let l=this.getDecodeFinderCounters();D.arraycopy(l,0,l,1,l.length-1),l[0]=n;let f;try{f=this.parseFinderValue(l,ne.FINDER_PATTERNS)}catch{return null}return new Xr(f,[i,o],i,o,t)}decodeDataCharacter(e,t,r,n){let i=this.getDataCharacterCounters();for(let Je=0;Je<i.length;Je++)i[Je]=0;if(n)ne.recordPatternInReverse(e,t.getStartEnd()[0],i);else{ne.recordPattern(e,t.getStartEnd()[1],i);for(let Je=0,Rt=i.length-1;Je<Rt;Je++,Rt--){let Gt=i[Je];i[Je]=i[Rt],i[Rt]=Gt}}let o=17,l=Fe.sum(new Int32Array(i))/o,f=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(l-f)/f>.3)throw new j;let g=this.getOddCounts(),C=this.getEvenCounts(),b=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Je=0;Je<i.length;Je++){let Rt=1*i[Je]/l,Gt=Rt+.5;if(Gt<1){if(Rt<.3)throw new j;Gt=1}else if(Gt>8){if(Rt>8.7)throw new j;Gt=8}let fn=Je/2;Je&1?(C[fn]=Gt,I[fn]=Rt-Gt):(g[fn]=Gt,b[fn]=Rt-Gt)}this.adjustOddEvenCounts(o);let R=4*t.getValue()+(r?0:2)+(n?0:1)-1,k=0,P=0;for(let Je=g.length-1;Je>=0;Je--){if(ne.isNotA1left(t,r,n)){let Rt=ne.WEIGHTS[R][2*Je];P+=g[Je]*Rt}k+=g[Je]}let Y=0;for(let Je=C.length-1;Je>=0;Je--)if(ne.isNotA1left(t,r,n)){let Rt=ne.WEIGHTS[R][2*Je+1];Y+=C[Je]*Rt}let K=P+Y;if(k&1||k>13||k<4)throw new j;let oe=(13-k)/2,ce=ne.SYMBOL_WIDEST[oe],se=9-ce,Le=Qt.getRSSvalue(g,ce,!0),Be=Qt.getRSSvalue(C,se,!1),jt=ne.EVEN_TOTAL_SUBSET[oe],cr=ne.GSUM[oe],Wt=Le*jt+Be+cr;return new Rr(Wt,K)}static isNotA1left(e,t,r){return!(e.getValue()==0&&t&&r)}adjustOddEvenCounts(e){let t=Fe.sum(new Int32Array(this.getOddCounts())),r=Fe.sum(new Int32Array(this.getEvenCounts())),n=!1,i=!1;t>13?i=!0:t<4&&(n=!0);let o=!1,l=!1;r>13?l=!0:r<4&&(o=!0);let f=t+r-e,g=(t&1)==1,C=(r&1)==0;if(f==1)if(g){if(C)throw new j;i=!0}else{if(!C)throw new j;l=!0}else if(f==-1)if(g){if(C)throw new j;n=!0}else{if(!C)throw new j;o=!0}else if(f==0){if(g){if(!C)throw new j;t<r?(n=!0,l=!0):(i=!0,o=!0)}else if(C)throw new j}else throw new j;if(n){if(i)throw new j;ne.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&ne.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(l)throw new j;ne.increment(this.getEvenCounts(),this.getOddRoundingErrors())}l&&ne.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ne.SYMBOL_WIDEST=[7,5,4,3,1],ne.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ne.GSUM=[0,348,1388,2948,3988],ne.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ne.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ne.FINDER_PAT_A=0,ne.FINDER_PAT_B=1,ne.FINDER_PAT_C=2,ne.FINDER_PAT_D=3,ne.FINDER_PAT_E=4,ne.FINDER_PAT_F=5,ne.FINDER_PATTERN_SEQUENCES=[[ne.FINDER_PAT_A,ne.FINDER_PAT_A],[ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B],[ne.FINDER_PAT_A,ne.FINDER_PAT_C,ne.FINDER_PAT_B,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_C],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_E,ne.FINDER_PAT_B,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F],[ne.FINDER_PAT_A,ne.FINDER_PAT_A,ne.FINDER_PAT_B,ne.FINDER_PAT_B,ne.FINDER_PAT_C,ne.FINDER_PAT_D,ne.FINDER_PAT_D,ne.FINDER_PAT_E,ne.FINDER_PAT_E,ne.FINDER_PAT_F,ne.FINDER_PAT_F]],ne.MAX_PAIRS=11;class Ha extends Rr{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class dt extends vt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const n=this.decodePair(t,!1,e,r);dt.addOrTally(this.possibleLeftPairs,n),t.reverse();let i=this.decodePair(t,!0,e,r);dt.addOrTally(this.possibleRightPairs,i),t.reverse();for(let o of this.possibleLeftPairs)if(o.getCount()>1){for(let l of this.possibleRightPairs)if(l.getCount()>1&&dt.checkChecksum(o,l))return dt.constructResult(o,l)}throw new j}static addOrTally(e,t){if(t==null)return;let r=!1;for(let n of e)if(n.getValue()===t.getValue()){n.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),i=new X;for(let g=13-n.length;g>0;g--)i.append("0");i.append(n);let o=0;for(let g=0;g<13;g++){let C=i.charAt(g).charCodeAt(0)-48;o+=g&1?C:3*C}o=10-o%10,o===10&&(o=0),i.append(o.toString());let l=e.getFinderPattern().getResultPoints(),f=t.getFinderPattern().getResultPoints();return new ee(i.toString(),null,0,[l[0],l[1],f[0],f[1]],le.RSS_14,new Date().getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n}decodePair(e,t,r,n){try{let i=this.findFinderPattern(e,t),o=this.parseFoundFinderPattern(e,r,t,i),l=n==null?null:n.get(U.NEED_RESULT_POINT_CALLBACK);if(l!=null){let C=(i[0]+i[1])/2;t&&(C=e.getSize()-1-C),l.foundPossibleResultPoint(new de(C,r))}let f=this.decodeDataCharacter(e,o,!0),g=this.decodeDataCharacter(e,o,!1);return new Ha(1597*f.getValue()+g.getValue(),f.getChecksumPortion()+4*g.getChecksumPortion(),o)}catch{return null}}decodeDataCharacter(e,t,r){let n=this.getDataCharacterCounters();for(let Y=0;Y<n.length;Y++)n[Y]=0;if(r)ft.recordPatternInReverse(e,t.getStartEnd()[0],n);else{ft.recordPattern(e,t.getStartEnd()[1]+1,n);for(let Y=0,K=n.length-1;Y<K;Y++,K--){let oe=n[Y];n[Y]=n[K],n[K]=oe}}let i=r?16:15,o=Fe.sum(new Int32Array(n))/i,l=this.getOddCounts(),f=this.getEvenCounts(),g=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let Y=0;Y<n.length;Y++){let K=n[Y]/o,oe=Math.floor(K+.5);oe<1?oe=1:oe>8&&(oe=8);let ce=Math.floor(Y/2);Y&1?(f[ce]=oe,C[ce]=K-oe):(l[ce]=oe,g[ce]=K-oe)}this.adjustOddEvenCounts(r,i);let b=0,I=0;for(let Y=l.length-1;Y>=0;Y--)I*=9,I+=l[Y],b+=l[Y];let R=0,k=0;for(let Y=f.length-1;Y>=0;Y--)R*=9,R+=f[Y],k+=f[Y];let P=I+3*R;if(r){if(b&1||b>12||b<4)throw new j;let Y=(12-b)/2,K=dt.OUTSIDE_ODD_WIDEST[Y],oe=9-K,ce=Qt.getRSSvalue(l,K,!1),se=Qt.getRSSvalue(f,oe,!0),Le=dt.OUTSIDE_EVEN_TOTAL_SUBSET[Y],Be=dt.OUTSIDE_GSUM[Y];return new Rr(ce*Le+se+Be,P)}else{if(k&1||k>10||k<4)throw new j;let Y=(10-k)/2,K=dt.INSIDE_ODD_WIDEST[Y],oe=9-K,ce=Qt.getRSSvalue(l,K,!0),se=Qt.getRSSvalue(f,oe,!1),Le=dt.INSIDE_ODD_TOTAL_SUBSET[Y],Be=dt.INSIDE_GSUM[Y];return new Rr(se*Le+ce+Be,P)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let n=e.getSize(),i=!1,o=0;for(;o<n&&(i=!e.get(o),t!==i);)o++;let l=0,f=o;for(let g=o;g<n;g++)if(e.get(g)!==i)r[l]++;else{if(l===3){if(vt.isFinderPattern(r))return[f,g];f+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,l--}else l++;r[l]=1,i=!i}throw new j}parseFoundFinderPattern(e,t,r,n){let i=e.get(n[0]),o=n[0]-1;for(;o>=0&&i!==e.get(o);)o--;o++;const l=n[0]-o,f=this.getDecodeFinderCounters(),g=new Int32Array(f.length);D.arraycopy(f,0,g,1,f.length-1),g[0]=l;const C=this.parseFinderValue(g,dt.FINDER_PATTERNS);let b=o,I=n[1];return r&&(b=e.getSize()-1-b,I=e.getSize()-1-I),new Xr(C,[o,n[1]],b,I,t)}adjustOddEvenCounts(e,t){let r=Fe.sum(new Int32Array(this.getOddCounts())),n=Fe.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1,l=!1,f=!1;e?(r>12?o=!0:r<4&&(i=!0),n>12?f=!0:n<4&&(l=!0)):(r>11?o=!0:r<5&&(i=!0),n>10?f=!0:n<4&&(l=!0));let g=r+n-t,C=(r&1)===(e?1:0),b=(n&1)===1;if(g===1)if(C){if(b)throw new j;o=!0}else{if(!b)throw new j;f=!0}else if(g===-1)if(C){if(b)throw new j;i=!0}else{if(!b)throw new j;l=!0}else if(g===0){if(C){if(!b)throw new j;r<n?(i=!0,f=!0):(o=!0,l=!0)}else if(b)throw new j}else throw new j;if(i){if(o)throw new j;vt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&vt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(f)throw new j;vt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&vt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}dt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],dt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],dt.OUTSIDE_GSUM=[0,161,961,2015,2715],dt.INSIDE_GSUM=[0,336,1036,1516],dt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],dt.INSIDE_ODD_WIDEST=[2,4,6,8],dt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class an extends ft{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const r=e?e.get(U.POSSIBLE_FORMATS):null,n=e&&e.get(U.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(le.EAN_13)||r.includes(le.UPC_A)||r.includes(le.EAN_8)||r.includes(le.UPC_E))&&this.readers.push(new nn(e)),r.includes(le.CODE_39)&&this.readers.push(new ht(n)),r.includes(le.CODE_128)&&this.readers.push(new ue),r.includes(le.ITF)&&this.readers.push(new Ze),r.includes(le.RSS_14)&&this.readers.push(new dt),r.includes(le.RSS_EXPANDED)&&this.readers.push(new ne(this.verbose))):(this.readers.push(new nn(e)),this.readers.push(new ht),this.readers.push(new nn(e)),this.readers.push(new ue),this.readers.push(new Ze),this.readers.push(new dt),this.readers.push(new ne(this.verbose)))}decodeRow(e,t,r){for(let n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(e,t,r)}catch{}throw new j}reset(){this.readers.forEach(e=>e.reset())}}class za extends te{constructor(e=500,t){super(new an(t),e,t)}}class qe{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Xe{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ke{constructor(e,t,r,n,i,o){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=i,this.ecBlocks=o;let l=0;const f=o.getECCodewords(),g=o.getECBlocks();for(let C of g)l+=C.getCount()*(C.getDataCodewords()+f);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(e&1||t&1)throw new L;for(let r of ke.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new ke(1,10,10,8,8,new qe(5,new Xe(1,3))),new ke(2,12,12,10,10,new qe(7,new Xe(1,5))),new ke(3,14,14,12,12,new qe(10,new Xe(1,8))),new ke(4,16,16,14,14,new qe(12,new Xe(1,12))),new ke(5,18,18,16,16,new qe(14,new Xe(1,18))),new ke(6,20,20,18,18,new qe(18,new Xe(1,22))),new ke(7,22,22,20,20,new qe(20,new Xe(1,30))),new ke(8,24,24,22,22,new qe(24,new Xe(1,36))),new ke(9,26,26,24,24,new qe(28,new Xe(1,44))),new ke(10,32,32,14,14,new qe(36,new Xe(1,62))),new ke(11,36,36,16,16,new qe(42,new Xe(1,86))),new ke(12,40,40,18,18,new qe(48,new Xe(1,114))),new ke(13,44,44,20,20,new qe(56,new Xe(1,144))),new ke(14,48,48,22,22,new qe(68,new Xe(1,174))),new ke(15,52,52,24,24,new qe(42,new Xe(2,102))),new ke(16,64,64,14,14,new qe(56,new Xe(2,140))),new ke(17,72,72,16,16,new qe(36,new Xe(4,92))),new ke(18,80,80,18,18,new qe(48,new Xe(4,114))),new ke(19,88,88,20,20,new qe(56,new Xe(4,144))),new ke(20,96,96,22,22,new qe(68,new Xe(4,174))),new ke(21,104,104,24,24,new qe(56,new Xe(6,136))),new ke(22,120,120,18,18,new qe(68,new Xe(6,175))),new ke(23,132,132,20,20,new qe(62,new Xe(8,163))),new ke(24,144,144,22,22,new qe(62,new Xe(8,156),new Xe(2,155))),new ke(25,8,18,6,16,new qe(7,new Xe(1,5))),new ke(26,8,32,6,14,new qe(11,new Xe(1,10))),new ke(27,12,26,10,24,new qe(14,new Xe(1,16))),new ke(28,12,36,10,16,new qe(18,new Xe(1,22))),new ke(29,16,36,14,16,new qe(24,new Xe(1,32))),new ke(30,16,48,14,22,new qe(28,new Xe(1,49)))]}}ke.VERSIONS=ke.buildVersions();class Bi{constructor(e){const t=e.getHeight();if(t<8||t>144||t&1)throw new L;this.version=Bi.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new ie(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return ke.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,n=0;const i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth();let l=!1,f=!1,g=!1,C=!1;do if(r===i&&n===0&&!l)e[t++]=this.readCorner1(i,o)&255,r-=2,n+=2,l=!0;else if(r===i-2&&n===0&&o&3&&!f)e[t++]=this.readCorner2(i,o)&255,r-=2,n+=2,f=!0;else if(r===i+4&&n===2&&!(o&7)&&!g)e[t++]=this.readCorner3(i,o)&255,r-=2,n+=2,g=!0;else if(r===i-2&&n===0&&(o&7)===4&&!C)e[t++]=this.readCorner4(i,o)&255,r-=2,n+=2,C=!0;else{do r<i&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,i,o)&255),r-=2,n+=2;while(r>=0&&n<o);r+=1,n+=3;do r>=0&&n<o&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,i,o)&255),r+=2,n-=2;while(r<i&&n>=0);r+=3,n+=1}while(r<i||n<o);if(t!==this.version.getTotalCodewords())throw new L;return e}readModule(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,n){let i=0;return this.readModule(e-2,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-2,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t,r,n)&&(i|=1),i<<=1,this.readModule(e,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e,t,r,n)&&(i|=1),i}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new m("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=t/n|0,l=r/i|0,f=o*n,g=l*i,C=new ie(g,f);for(let b=0;b<o;++b){const I=b*n;for(let R=0;R<l;++R){const k=R*i;for(let P=0;P<n;++P){const Y=b*(n+2)+1+P,K=I+P;for(let oe=0;oe<i;++oe){const ce=R*(i+2)+1+oe;if(e.get(ce,Y)){const se=k+oe;C.set(se,K)}}}}}return C}}class Ni{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let n=0;const i=r.getECBlocks();for(let P of i)n+=P.getCount();const o=new Array(n);let l=0;for(let P of i)for(let Y=0;Y<P.getCount();Y++){const K=P.getDataCodewords(),oe=r.getECCodewords()+K;o[l++]=new Ni(K,new Uint8Array(oe))}const g=o[0].codewords.length-r.getECCodewords(),C=g-1;let b=0;for(let P=0;P<C;P++)for(let Y=0;Y<l;Y++)o[Y].codewords[P]=e[b++];const I=t.getVersionNumber()===24,R=I?8:l;for(let P=0;P<R;P++)o[P].codewords[g-1]=e[b++];const k=o[0].codewords.length;for(let P=g;P<k;P++)for(let Y=0;Y<l;Y++){const K=I?(Y+8)%l:Y,oe=I&&K>7?P-1:P;o[K].codewords[oe]=e[b++]}if(b!==e.length)throw new m;return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Oi{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new m(""+e);let t=0,r=this.bitOffset,n=this.byteOffset;const i=this.bytes;if(r>0){const o=8-r,l=e<o?e:o,f=o-l,g=255>>8-l<<f;t=(i[n]&g)>>f,e-=l,r+=l,r===8&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|i[n]&255,n++,e-=8;if(e>0){const o=8-e,l=255>>o<<o;t=t<<e|(i[n]&l)>>o,r+=e}}return this.bitOffset=r,this.byteOffset=n,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var wt;(function(y){y[y.PAD_ENCODE=0]="PAD_ENCODE",y[y.ASCII_ENCODE=1]="ASCII_ENCODE",y[y.C40_ENCODE=2]="C40_ENCODE",y[y.TEXT_ENCODE=3]="TEXT_ENCODE",y[y.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",y[y.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",y[y.BASE256_ENCODE=6]="BASE256_ENCODE"})(wt||(wt={}));class Lr{static decode(e){const t=new Oi(e),r=new X,n=new X,i=new Array;let o=wt.ASCII_ENCODE;do if(o===wt.ASCII_ENCODE)o=this.decodeAsciiSegment(t,r,n);else{switch(o){case wt.C40_ENCODE:this.decodeC40Segment(t,r);break;case wt.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case wt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case wt.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case wt.BASE256_ENCODE:this.decodeBase256Segment(t,r,i);break;default:throw new L}o=wt.ASCII_ENCODE}while(o!==wt.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new Ct(e,r.toString(),i.length===0?null:i,null)}static decodeAsciiSegment(e,t,r){let n=!1;do{let i=e.readBits(8);if(i===0)throw new L;if(i<=128)return n&&(i+=128),t.append(String.fromCharCode(i-1)),wt.ASCII_ENCODE;if(i===129)return wt.PAD_ENCODE;if(i<=229){const o=i-130;o<10&&t.append("0"),t.append(""+o)}else switch(i){case 230:return wt.C40_ENCODE;case 231:return wt.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:n=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return wt.ANSIX12_ENCODE;case 239:return wt.TEXT_ENCODE;case 240:return wt.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new L;break}}while(e.available()>0);return wt.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const n=[];let i=0;do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),n);for(let l=0;l<3;l++){const f=n[l];switch(i){case 0:if(f<3)i=f+1;else if(f<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[f];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else throw new L;break;case 1:r?(t.append(String.fromCharCode(f+128)),r=!1):t.append(String.fromCharCode(f)),i=0;break;case 2:if(f<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[f];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else switch(f){case 27:t.append("");break;case 30:r=!0;break;default:throw new L}i=0;break;case 3:r?(t.append(String.fromCharCode(f+224)),r=!1):t.append(String.fromCharCode(f+96)),i=0;break;default:throw new L}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,n=[],i=0;do{if(e.available()===8)return;const o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),n);for(let l=0;l<3;l++){const f=n[l];switch(i){case 0:if(f<3)i=f+1;else if(f<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[f];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else throw new L;break;case 1:r?(t.append(String.fromCharCode(f+128)),r=!1):t.append(String.fromCharCode(f)),i=0;break;case 2:if(f<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[f];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else switch(f){case 27:t.append("");break;case 30:r=!0;break;default:throw new L}i=0;break;case 3:if(f<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[f];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g),i=0}else throw new L;break;default:throw new L}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(e.available()===8)return;const n=e.readBits(8);if(n===254)return;this.parseTwoBytes(n,e.readBits(8),r);for(let i=0;i<3;i++){const o=r[i];switch(o){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(o<14)t.append(String.fromCharCode(o+44));else if(o<40)t.append(String.fromCharCode(o+51));else throw new L;break}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let n=(e<<8)+t-1,i=Math.floor(n/1600);r[0]=i,n-=i*1600,i=Math.floor(n/40),r[1]=i,r[2]=n-i*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let n=e.readBits(6);if(n===31){const i=8-e.getBitOffset();i!==8&&e.readBits(i);return}n&32||(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let n=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),n++);let o;if(i===0?o=e.available()/8|0:i<250?o=i:o=250*(i-249)+this.unrandomize255State(e.readBits(8),n++),o<0)throw new L;const l=new Uint8Array(o);for(let f=0;f<o;f++){if(e.available()<8)throw new L;l[f]=this.unrandomize255State(e.readBits(8),n++)}r.push(l);try{t.append(V.decode(l,G.ISO88591))}catch(f){throw new Tt("Platform does not support required encoding: "+f.message)}}static unrandomize255State(e,t){const r=149*t%255+1,n=e-r;return n>=0?n:n+256}}Lr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Lr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Lr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Lr.TEXT_SHIFT2_SET_CHARS=Lr.C40_SHIFT2_SET_CHARS,Lr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ja{constructor(){this.rsDecoder=new sr(ve.DATA_MATRIX_FIELD_256)}decode(e){const t=new Bi(e),r=t.getVersion(),n=t.readCodewords(),i=Ni.getDataBlocks(n,r);let o=0;for(let g of i)o+=g.getNumDataCodewords();const l=new Uint8Array(o),f=i.length;for(let g=0;g<f;g++){const C=i[g],b=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(b,I);for(let R=0;R<I;R++)l[R*f+g]=b[R]}return Lr.decode(l)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new _}for(let n=0;n<t;n++)e[n]=r[n]}}class pt{constructor(e){this.image=e,this.rectangleDetector=new Ut(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new j;t=this.shiftToModuleCenter(t);const r=t[0],n=t[1],i=t[2],o=t[3];let l=this.transitionsBetween(r,o)+1,f=this.transitionsBetween(i,o)+1;(l&1)===1&&(l+=1),(f&1)===1&&(f+=1),4*l<7*f&&4*f<7*l&&(l=f=Math.max(l,f));let g=pt.sampleGrid(this.image,r,n,i,o,l,f);return new Bt(g,[r,n,i,o])}static shiftPoint(e,t,r){let n=(t.getX()-e.getX())/(r+1),i=(t.getY()-e.getY())/(r+1);return new de(e.getX()+n,e.getY()+i)}static moveAway(e,t,r){let n=e.getX(),i=e.getY();return n<t?n-=1:n+=1,i<r?i-=1:i+=1,new de(n,i)}detectSolid1(e){let t=e[0],r=e[1],n=e[3],i=e[2],o=this.transitionsBetween(t,r),l=this.transitionsBetween(r,n),f=this.transitionsBetween(n,i),g=this.transitionsBetween(i,t),C=o,b=[i,t,r,n];return C>l&&(C=l,b[0]=t,b[1]=r,b[2]=n,b[3]=i),C>f&&(C=f,b[0]=r,b[1]=n,b[2]=i,b[3]=t),C>g&&(b[0]=n,b[1]=i,b[2]=t,b[3]=r),b}detectSolid2(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i),l=pt.shiftPoint(r,n,(o+1)*4),f=pt.shiftPoint(n,r,(o+1)*4),g=this.transitionsBetween(l,t),C=this.transitionsBetween(f,i);return g<C?(e[0]=t,e[1]=r,e[2]=n,e[3]=i):(e[0]=r,e[1]=n,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i),l=this.transitionsBetween(r,i),f=pt.shiftPoint(t,r,(l+1)*4),g=pt.shiftPoint(n,r,(o+1)*4);o=this.transitionsBetween(f,i),l=this.transitionsBetween(g,i);let C=new de(i.getX()+(n.getX()-r.getX())/(o+1),i.getY()+(n.getY()-r.getY())/(o+1)),b=new de(i.getX()+(t.getX()-r.getX())/(l+1),i.getY()+(t.getY()-r.getY())/(l+1));if(!this.isValid(C))return this.isValid(b)?b:null;if(!this.isValid(b))return C;let I=this.transitionsBetween(f,C)+this.transitionsBetween(g,C),R=this.transitionsBetween(f,b)+this.transitionsBetween(g,b);return I>R?C:b}shiftToModuleCenter(e){let t=e[0],r=e[1],n=e[2],i=e[3],o=this.transitionsBetween(t,i)+1,l=this.transitionsBetween(n,i)+1,f=pt.shiftPoint(t,r,l*4),g=pt.shiftPoint(n,r,o*4);o=this.transitionsBetween(f,i)+1,l=this.transitionsBetween(g,i)+1,(o&1)===1&&(o+=1),(l&1)===1&&(l+=1);let C=(t.getX()+r.getX()+n.getX()+i.getX())/4,b=(t.getY()+r.getY()+n.getY()+i.getY())/4;t=pt.moveAway(t,C,b),r=pt.moveAway(r,C,b),n=pt.moveAway(n,C,b),i=pt.moveAway(i,C,b);let I,R;return f=pt.shiftPoint(t,r,l*4),f=pt.shiftPoint(f,i,o*4),I=pt.shiftPoint(r,t,l*4),I=pt.shiftPoint(I,n,o*4),g=pt.shiftPoint(n,i,l*4),g=pt.shiftPoint(g,r,o*4),R=pt.shiftPoint(i,n,l*4),R=pt.shiftPoint(R,t,o*4),[f,I,g,R]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,n,i,o,l){return dr.getInstance().sampleGrid(e,o,l,.5,.5,o-.5,.5,o-.5,l-.5,.5,l-.5,t.getX(),t.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),i=Math.trunc(t.getX()),o=Math.trunc(t.getY()),l=Math.abs(o-n)>Math.abs(i-r);if(l){let P=r;r=n,n=P,P=i,i=o,o=P}let f=Math.abs(i-r),g=Math.abs(o-n),C=-f/2,b=n<o?1:-1,I=r<i?1:-1,R=0,k=this.image.get(l?n:r,l?r:n);for(let P=r,Y=n;P!==i;P+=I){let K=this.image.get(l?Y:P,l?P:Y);if(K!==k&&(R++,k=K),C+=g,C>0){if(Y===o)break;Y+=b,C-=f}}return R}}class kr{constructor(){this.decoder=new ja}decode(e,t=null){let r,n;if(t!=null&&t.has(U.PURE_BARCODE)){const g=kr.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(g),n=kr.NO_POINTS}else{const g=new pt(e.getBlackMatrix()).detect();r=this.decoder.decode(g.getBits()),n=g.getPoints()}const i=r.getRawBytes(),o=new ee(r.getText(),i,8*i.length,n,le.DATA_MATRIX,D.currentTimeMillis()),l=r.getByteSegments();l!=null&&o.putMetadata(pe.BYTE_SEGMENTS,l);const f=r.getECLevel();return f!=null&&o.putMetadata(pe.ERROR_CORRECTION_LEVEL,f),o}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new j;const n=this.moduleSize(t,e);let i=t[1];const o=r[1];let l=t[0];const g=(r[0]-l+1)/n,C=(o-i+1)/n;if(g<=0||C<=0)throw new j;const b=n/2;i+=b,l+=b;const I=new ie(g,C);for(let R=0;R<C;R++){const k=i+R*n;for(let P=0;P<g;P++)e.get(l+P*n,k)&&I.set(P,R)}return I}static moduleSize(e,t){const r=t.getWidth();let n=e[0];const i=e[1];for(;n<r&&t.get(n,i);)n++;if(n===r)throw new j;const o=n-e[0];if(o===0)throw new j;return o}}kr.NO_POINTS=[];class Wa extends te{constructor(e=500){super(new kr,e)}}var cn;(function(y){y[y.L=0]="L",y[y.M=1]="M",y[y.Q=2]="Q",y[y.H=3]="H"})(cn||(cn={}));class et{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,et.FOR_BITS.set(r,this),et.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return et.L;case"M":return et.M;case"Q":return et.Q;case"H":return et.H;default:throw new E(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof et))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=et.FOR_BITS.size)throw new m;return et.FOR_BITS.get(e)}}et.FOR_BITS=new Map,et.FOR_VALUE=new Map,et.L=new et(cn.L,"L",1),et.M=new et(cn.M,"M",0),et.Q=new et(cn.Q,"Q",3),et.H=new et(cn.H,"H",2);class Lt{constructor(e){this.errorCorrectionLevel=et.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return T.bitCount(e^t)}static decodeFormatInformation(e,t){const r=Lt.doDecodeFormatInformation(e,t);return r!==null?r:Lt.doDecodeFormatInformation(e^Lt.FORMAT_INFO_MASK_QR,t^Lt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,n=0;for(const i of Lt.FORMAT_INFO_DECODE_LOOKUP){const o=i[0];if(o===e||o===t)return new Lt(i[1]);let l=Lt.numBitsDiffering(e,o);l<r&&(n=i[1],r=l),e!==t&&(l=Lt.numBitsDiffering(t,o),l<r&&(n=i[1],r=l))}return r<=3?new Lt(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Lt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}Lt.FORMAT_INFO_MASK_QR=21522,Lt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class O{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ee{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let n=0;const i=r[0].getECCodewordsPerBlock(),o=r[0].getECBlocks();for(const l of o)n+=l.getCount()*(l.getDataCodewords()+i);this.totalCodewords=n}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new L;try{return this.getVersionForNumber((e-17)/4)}catch{throw new L}}static getVersionForNumber(e){if(e<1||e>40)throw new m;return Ee.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let n=0;n<Ee.VERSION_DECODE_INFO.length;n++){const i=Ee.VERSION_DECODE_INFO[n];if(i===e)return Ee.getVersionForNumber(n+7);const o=Lt.numBitsDiffering(e,i);o<t&&(r=n+7,t=o)}return t<=3?Ee.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new ie(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let n=0;n<r;n++){const i=this.alignmentPatternCenters[n]-2;for(let o=0;o<r;o++)n===0&&(o===0||o===r-1)||n===r-1&&o===0||t.setRegion(this.alignmentPatternCenters[o]-2,i,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}Ee.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ee.VERSIONS=[new Ee(1,new Int32Array(0),new Z(7,new O(1,19)),new Z(10,new O(1,16)),new Z(13,new O(1,13)),new Z(17,new O(1,9))),new Ee(2,Int32Array.from([6,18]),new Z(10,new O(1,34)),new Z(16,new O(1,28)),new Z(22,new O(1,22)),new Z(28,new O(1,16))),new Ee(3,Int32Array.from([6,22]),new Z(15,new O(1,55)),new Z(26,new O(1,44)),new Z(18,new O(2,17)),new Z(22,new O(2,13))),new Ee(4,Int32Array.from([6,26]),new Z(20,new O(1,80)),new Z(18,new O(2,32)),new Z(26,new O(2,24)),new Z(16,new O(4,9))),new Ee(5,Int32Array.from([6,30]),new Z(26,new O(1,108)),new Z(24,new O(2,43)),new Z(18,new O(2,15),new O(2,16)),new Z(22,new O(2,11),new O(2,12))),new Ee(6,Int32Array.from([6,34]),new Z(18,new O(2,68)),new Z(16,new O(4,27)),new Z(24,new O(4,19)),new Z(28,new O(4,15))),new Ee(7,Int32Array.from([6,22,38]),new Z(20,new O(2,78)),new Z(18,new O(4,31)),new Z(18,new O(2,14),new O(4,15)),new Z(26,new O(4,13),new O(1,14))),new Ee(8,Int32Array.from([6,24,42]),new Z(24,new O(2,97)),new Z(22,new O(2,38),new O(2,39)),new Z(22,new O(4,18),new O(2,19)),new Z(26,new O(4,14),new O(2,15))),new Ee(9,Int32Array.from([6,26,46]),new Z(30,new O(2,116)),new Z(22,new O(3,36),new O(2,37)),new Z(20,new O(4,16),new O(4,17)),new Z(24,new O(4,12),new O(4,13))),new Ee(10,Int32Array.from([6,28,50]),new Z(18,new O(2,68),new O(2,69)),new Z(26,new O(4,43),new O(1,44)),new Z(24,new O(6,19),new O(2,20)),new Z(28,new O(6,15),new O(2,16))),new Ee(11,Int32Array.from([6,30,54]),new Z(20,new O(4,81)),new Z(30,new O(1,50),new O(4,51)),new Z(28,new O(4,22),new O(4,23)),new Z(24,new O(3,12),new O(8,13))),new Ee(12,Int32Array.from([6,32,58]),new Z(24,new O(2,92),new O(2,93)),new Z(22,new O(6,36),new O(2,37)),new Z(26,new O(4,20),new O(6,21)),new Z(28,new O(7,14),new O(4,15))),new Ee(13,Int32Array.from([6,34,62]),new Z(26,new O(4,107)),new Z(22,new O(8,37),new O(1,38)),new Z(24,new O(8,20),new O(4,21)),new Z(22,new O(12,11),new O(4,12))),new Ee(14,Int32Array.from([6,26,46,66]),new Z(30,new O(3,115),new O(1,116)),new Z(24,new O(4,40),new O(5,41)),new Z(20,new O(11,16),new O(5,17)),new Z(24,new O(11,12),new O(5,13))),new Ee(15,Int32Array.from([6,26,48,70]),new Z(22,new O(5,87),new O(1,88)),new Z(24,new O(5,41),new O(5,42)),new Z(30,new O(5,24),new O(7,25)),new Z(24,new O(11,12),new O(7,13))),new Ee(16,Int32Array.from([6,26,50,74]),new Z(24,new O(5,98),new O(1,99)),new Z(28,new O(7,45),new O(3,46)),new Z(24,new O(15,19),new O(2,20)),new Z(30,new O(3,15),new O(13,16))),new Ee(17,Int32Array.from([6,30,54,78]),new Z(28,new O(1,107),new O(5,108)),new Z(28,new O(10,46),new O(1,47)),new Z(28,new O(1,22),new O(15,23)),new Z(28,new O(2,14),new O(17,15))),new Ee(18,Int32Array.from([6,30,56,82]),new Z(30,new O(5,120),new O(1,121)),new Z(26,new O(9,43),new O(4,44)),new Z(28,new O(17,22),new O(1,23)),new Z(28,new O(2,14),new O(19,15))),new Ee(19,Int32Array.from([6,30,58,86]),new Z(28,new O(3,113),new O(4,114)),new Z(26,new O(3,44),new O(11,45)),new Z(26,new O(17,21),new O(4,22)),new Z(26,new O(9,13),new O(16,14))),new Ee(20,Int32Array.from([6,34,62,90]),new Z(28,new O(3,107),new O(5,108)),new Z(26,new O(3,41),new O(13,42)),new Z(30,new O(15,24),new O(5,25)),new Z(28,new O(15,15),new O(10,16))),new Ee(21,Int32Array.from([6,28,50,72,94]),new Z(28,new O(4,116),new O(4,117)),new Z(26,new O(17,42)),new Z(28,new O(17,22),new O(6,23)),new Z(30,new O(19,16),new O(6,17))),new Ee(22,Int32Array.from([6,26,50,74,98]),new Z(28,new O(2,111),new O(7,112)),new Z(28,new O(17,46)),new Z(30,new O(7,24),new O(16,25)),new Z(24,new O(34,13))),new Ee(23,Int32Array.from([6,30,54,78,102]),new Z(30,new O(4,121),new O(5,122)),new Z(28,new O(4,47),new O(14,48)),new Z(30,new O(11,24),new O(14,25)),new Z(30,new O(16,15),new O(14,16))),new Ee(24,Int32Array.from([6,28,54,80,106]),new Z(30,new O(6,117),new O(4,118)),new Z(28,new O(6,45),new O(14,46)),new Z(30,new O(11,24),new O(16,25)),new Z(30,new O(30,16),new O(2,17))),new Ee(25,Int32Array.from([6,32,58,84,110]),new Z(26,new O(8,106),new O(4,107)),new Z(28,new O(8,47),new O(13,48)),new Z(30,new O(7,24),new O(22,25)),new Z(30,new O(22,15),new O(13,16))),new Ee(26,Int32Array.from([6,30,58,86,114]),new Z(28,new O(10,114),new O(2,115)),new Z(28,new O(19,46),new O(4,47)),new Z(28,new O(28,22),new O(6,23)),new Z(30,new O(33,16),new O(4,17))),new Ee(27,Int32Array.from([6,34,62,90,118]),new Z(30,new O(8,122),new O(4,123)),new Z(28,new O(22,45),new O(3,46)),new Z(30,new O(8,23),new O(26,24)),new Z(30,new O(12,15),new O(28,16))),new Ee(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new O(3,117),new O(10,118)),new Z(28,new O(3,45),new O(23,46)),new Z(30,new O(4,24),new O(31,25)),new Z(30,new O(11,15),new O(31,16))),new Ee(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new O(7,116),new O(7,117)),new Z(28,new O(21,45),new O(7,46)),new Z(30,new O(1,23),new O(37,24)),new Z(30,new O(19,15),new O(26,16))),new Ee(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new O(5,115),new O(10,116)),new Z(28,new O(19,47),new O(10,48)),new Z(30,new O(15,24),new O(25,25)),new Z(30,new O(23,15),new O(25,16))),new Ee(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new O(13,115),new O(3,116)),new Z(28,new O(2,46),new O(29,47)),new Z(30,new O(42,24),new O(1,25)),new Z(30,new O(23,15),new O(28,16))),new Ee(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new O(17,115)),new Z(28,new O(10,46),new O(23,47)),new Z(30,new O(10,24),new O(35,25)),new Z(30,new O(19,15),new O(35,16))),new Ee(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new O(17,115),new O(1,116)),new Z(28,new O(14,46),new O(21,47)),new Z(30,new O(29,24),new O(19,25)),new Z(30,new O(11,15),new O(46,16))),new Ee(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new O(13,115),new O(6,116)),new Z(28,new O(14,46),new O(23,47)),new Z(30,new O(44,24),new O(7,25)),new Z(30,new O(59,16),new O(1,17))),new Ee(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new O(12,121),new O(7,122)),new Z(28,new O(12,47),new O(26,48)),new Z(30,new O(39,24),new O(14,25)),new Z(30,new O(22,15),new O(41,16))),new Ee(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new O(6,121),new O(14,122)),new Z(28,new O(6,47),new O(34,48)),new Z(30,new O(46,24),new O(10,25)),new Z(30,new O(2,15),new O(64,16))),new Ee(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new O(17,122),new O(4,123)),new Z(28,new O(29,46),new O(14,47)),new Z(30,new O(49,24),new O(10,25)),new Z(30,new O(24,15),new O(46,16))),new Ee(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new O(4,122),new O(18,123)),new Z(28,new O(13,46),new O(32,47)),new Z(30,new O(48,24),new O(14,25)),new Z(30,new O(42,15),new O(32,16))),new Ee(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new O(20,117),new O(4,118)),new Z(28,new O(40,47),new O(7,48)),new Z(30,new O(43,24),new O(22,25)),new Z(30,new O(10,15),new O(67,16))),new Ee(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new O(19,118),new O(6,119)),new Z(28,new O(18,47),new O(31,48)),new Z(30,new O(34,24),new O(34,25)),new Z(30,new O(20,15),new O(61,16)))];var It;(function(y){y[y.DATA_MASK_000=0]="DATA_MASK_000",y[y.DATA_MASK_001=1]="DATA_MASK_001",y[y.DATA_MASK_010=2]="DATA_MASK_010",y[y.DATA_MASK_011=3]="DATA_MASK_011",y[y.DATA_MASK_100=4]="DATA_MASK_100",y[y.DATA_MASK_101=5]="DATA_MASK_101",y[y.DATA_MASK_110=6]="DATA_MASK_110",y[y.DATA_MASK_111=7]="DATA_MASK_111"})(It||(It={}));class er{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)}}er.values=new Map([[It.DATA_MASK_000,new er(It.DATA_MASK_000,(y,e)=>(y+e&1)===0)],[It.DATA_MASK_001,new er(It.DATA_MASK_001,(y,e)=>(y&1)===0)],[It.DATA_MASK_010,new er(It.DATA_MASK_010,(y,e)=>e%3===0)],[It.DATA_MASK_011,new er(It.DATA_MASK_011,(y,e)=>(y+e)%3===0)],[It.DATA_MASK_100,new er(It.DATA_MASK_100,(y,e)=>(Math.floor(y/2)+Math.floor(e/3)&1)===0)],[It.DATA_MASK_101,new er(It.DATA_MASK_101,(y,e)=>y*e%6===0)],[It.DATA_MASK_110,new er(It.DATA_MASK_110,(y,e)=>y*e%6<3)],[It.DATA_MASK_111,new er(It.DATA_MASK_111,(y,e)=>(y+e+y*e%3&1)===0)]]);class Va{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new L;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const t=this.bitMatrix.getHeight();let r=0;const n=t-7;for(let i=t-1;i>=n;i--)r=this.copyBit(8,i,r);for(let i=t-8;i<t;i++)r=this.copyBit(i,8,r);if(this.parsedFormatInfo=Lt.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ee.getVersionForNumber(t);let r=0;const n=e-11;for(let o=5;o>=0;o--)for(let l=e-9;l>=n;l--)r=this.copyBit(l,o,r);let i=Ee.decodeVersionInformation(r);if(i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;r=0;for(let o=5;o>=0;o--)for(let l=e-9;l>=n;l--)r=this.copyBit(o,l,r);if(i=Ee.decodeVersionInformation(r),i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new L}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=er.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);const i=t.buildFunctionPattern();let o=!0;const l=new Uint8Array(t.getTotalCodewords());let f=0,g=0,C=0;for(let b=n-1;b>0;b-=2){b===6&&b--;for(let I=0;I<n;I++){const R=o?n-1-I:I;for(let k=0;k<2;k++)i.get(b-k,R)||(C++,g<<=1,this.bitMatrix.get(b-k,R)&&(g|=1),C===8&&(l[f++]=g,C=0,g=0))}o=!o}if(f!==t.getTotalCodewords())throw new L;return l}remask(){if(this.parsedFormatInfo===null)return;const e=er.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let n=t+1,i=e.getHeight();n<i;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))}}class Mi{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new m;const n=t.getECBlocksForLevel(r);let i=0;const o=n.getECBlocks();for(const k of o)i+=k.getCount();const l=new Array(i);let f=0;for(const k of o)for(let P=0;P<k.getCount();P++){const Y=k.getDataCodewords(),K=n.getECCodewordsPerBlock()+Y;l[f++]=new Mi(Y,new Uint8Array(K))}const g=l[0].codewords.length;let C=l.length-1;for(;C>=0&&l[C].codewords.length!==g;)C--;C++;const b=g-n.getECCodewordsPerBlock();let I=0;for(let k=0;k<b;k++)for(let P=0;P<f;P++)l[P].codewords[k]=e[I++];for(let k=C;k<f;k++)l[k].codewords[b]=e[I++];const R=l[0].codewords.length;for(let k=b;k<R;k++)for(let P=0;P<f;P++){const Y=P<C?k:k+1;l[P].codewords[Y]=e[I++]}return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var tr;(function(y){y[y.TERMINATOR=0]="TERMINATOR",y[y.NUMERIC=1]="NUMERIC",y[y.ALPHANUMERIC=2]="ALPHANUMERIC",y[y.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",y[y.BYTE=4]="BYTE",y[y.ECI=5]="ECI",y[y.KANJI=6]="KANJI",y[y.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",y[y.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",y[y.HANZI=9]="HANZI"})(tr||(tr={}));class we{constructor(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,we.FOR_BITS.set(n,this),we.FOR_VALUE.set(e,this)}static forBits(e){const t=we.FOR_BITS.get(e);if(t===void 0)throw new m;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof we))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}we.FOR_BITS=new Map,we.FOR_VALUE=new Map,we.TERMINATOR=new we(tr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),we.NUMERIC=new we(tr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),we.ALPHANUMERIC=new we(tr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),we.STRUCTURED_APPEND=new we(tr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),we.BYTE=new we(tr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),we.ECI=new we(tr.ECI,"ECI",Int32Array.from([0,0,0]),7),we.KANJI=new we(tr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),we.FNC1_FIRST_POSITION=new we(tr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),we.FNC1_SECOND_POSITION=new we(tr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),we.HANZI=new we(tr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class ct{static decode(e,t,r,n){const i=new Oi(e);let o=new X;const l=new Array;let f=-1,g=-1;try{let C=null,b=!1,I;do{if(i.available()<4)I=we.TERMINATOR;else{const R=i.readBits(4);I=we.forBits(R)}switch(I){case we.TERMINATOR:break;case we.FNC1_FIRST_POSITION:case we.FNC1_SECOND_POSITION:b=!0;break;case we.STRUCTURED_APPEND:if(i.available()<16)throw new L;f=i.readBits(8),g=i.readBits(8);break;case we.ECI:const R=ct.parseECIValue(i);if(C=W.getCharacterSetECIByValue(R),C===null)throw new L;break;case we.HANZI:const k=i.readBits(4),P=i.readBits(I.getCharacterCountBits(t));k===ct.GB2312_SUBSET&&ct.decodeHanziSegment(i,o,P);break;default:const Y=i.readBits(I.getCharacterCountBits(t));switch(I){case we.NUMERIC:ct.decodeNumericSegment(i,o,Y);break;case we.ALPHANUMERIC:ct.decodeAlphanumericSegment(i,o,Y,b);break;case we.BYTE:ct.decodeByteSegment(i,o,Y,C,l,n);break;case we.KANJI:ct.decodeKanjiSegment(i,o,Y);break;default:throw new L}break}}while(I!==we.TERMINATOR)}catch{throw new L}return new Ct(e,o.toString(),l.length===0?null:l,r===null?null:r.toString(),f,g)}static decodeHanziSegment(e,t,r){if(r*13>e.available())throw new L;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const o=e.readBits(13);let l=o/96<<8&4294967295|o%96;l<959?l+=41377:l+=42657,n[i]=l>>8&255,n[i+1]=l&255,i+=2,r--}try{t.append(V.decode(n,G.GB2312))}catch(o){throw new L(o)}}static decodeKanjiSegment(e,t,r){if(r*13>e.available())throw new L;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const o=e.readBits(13);let l=o/192<<8&4294967295|o%192;l<7936?l+=33088:l+=49472,n[i]=l>>8,n[i+1]=l,i+=2,r--}try{t.append(V.decode(n,G.SHIFT_JIS))}catch(o){throw new L(o)}}static decodeByteSegment(e,t,r,n,i,o){if(8*r>e.available())throw new L;const l=new Uint8Array(r);for(let g=0;g<r;g++)l[g]=e.readBits(8);let f;n===null?f=G.guessEncoding(l,o):f=n.getName();try{t.append(V.decode(l,f))}catch(g){throw new L(g)}i.push(l)}static toAlphaNumericChar(e){if(e>=ct.ALPHANUMERIC_CHARS.length)throw new L;return ct.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,n){const i=t.length();for(;r>1;){if(e.available()<11)throw new L;const o=e.readBits(11);t.append(ct.toAlphaNumericChar(Math.floor(o/45))),t.append(ct.toAlphaNumericChar(o%45)),r-=2}if(r===1){if(e.available()<6)throw new L;t.append(ct.toAlphaNumericChar(e.readBits(6)))}if(n)for(let o=i;o<t.length();o++)t.charAt(o)==="%"&&(o<t.length()-1&&t.charAt(o+1)==="%"?t.deleteCharAt(o+1):t.setCharAt(o,""))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new L;const n=e.readBits(10);if(n>=1e3)throw new L;t.append(ct.toAlphaNumericChar(Math.floor(n/100))),t.append(ct.toAlphaNumericChar(Math.floor(n/10)%10)),t.append(ct.toAlphaNumericChar(n%10)),r-=3}if(r===2){if(e.available()<7)throw new L;const n=e.readBits(7);if(n>=100)throw new L;t.append(ct.toAlphaNumericChar(Math.floor(n/10))),t.append(ct.toAlphaNumericChar(n%10))}else if(r===1){if(e.available()<4)throw new L;const n=e.readBits(4);if(n>=10)throw new L;t.append(ct.toAlphaNumericChar(n))}}static parseECIValue(e){const t=e.readBits(8);if(!(t&128))return t&127;if((t&192)===128){const r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){const r=e.readBits(16);return(t&31)<<16&4294967295|r}throw new L}}ct.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ct.GB2312_SUBSET=1;class hs{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class Ga{constructor(){this.rsDecoder=new sr(ve.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(ie.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new Va(e);let n=null;try{return this.decodeBitMatrixParser(r,t)}catch(i){n=i}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const i=this.decodeBitMatrixParser(r,t);return i.setOther(new hs(!0)),i}catch(i){throw n!==null?n:i}}decodeBitMatrixParser(e,t){const r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),o=Mi.getDataBlocks(i,r,n);let l=0;for(const C of o)l+=C.getNumDataCodewords();const f=new Uint8Array(l);let g=0;for(const C of o){const b=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(b,I);for(let R=0;R<I;R++)f[g++]=b[R]}return ct.decode(f,r,n,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new _}for(let n=0;n<t;n++)e[n]=r[n]}}class Ri extends de{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=(this.getX()+t)/2,i=(this.getY()+e)/2,o=(this.estimatedModuleSize+r)/2;return new Ri(n,i,o)}}class Jn{constructor(e,t,r,n,i,o,l){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=i,this.moduleSize=o,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=this.width,n=e+r,i=this.startY+t/2,o=new Int32Array(3),l=this.image;for(let f=0;f<t;f++){const g=i+(f&1?-Math.floor((f+1)/2):Math.floor((f+1)/2));o[0]=0,o[1]=0,o[2]=0;let C=e;for(;C<n&&!l.get(C,g);)C++;let b=0;for(;C<n;){if(l.get(C,g))if(b===1)o[1]++;else if(b===2){if(this.foundPatternCross(o)){const I=this.handlePossibleCenter(o,g,C);if(I!==null)return I}o[0]=o[2],o[1]=1,o[2]=0,b=1}else o[++b]++;else b===1&&b++,o[b]++;C++}if(this.foundPatternCross(o)){const I=this.handlePossibleCenter(o,g,n);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new j}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0}crossCheckVertical(e,t,r,n){const i=this.image,o=i.getHeight(),l=this.crossCheckStateCount;l[0]=0,l[1]=0,l[2]=0;let f=e;for(;f>=0&&i.get(t,f)&&l[1]<=r;)l[1]++,f--;if(f<0||l[1]>r)return NaN;for(;f>=0&&!i.get(t,f)&&l[0]<=r;)l[0]++,f--;if(l[0]>r)return NaN;for(f=e+1;f<o&&i.get(t,f)&&l[1]<=r;)l[1]++,f++;if(f===o||l[1]>r)return NaN;for(;f<o&&!i.get(t,f)&&l[2]<=r;)l[2]++,f++;if(l[2]>r)return NaN;const g=l[0]+l[1]+l[2];return 5*Math.abs(g-n)>=2*n?NaN:this.foundPatternCross(l)?Jn.centerFromEnd(l,f):NaN}handlePossibleCenter(e,t,r){const n=e[0]+e[1]+e[2],i=Jn.centerFromEnd(e,r),o=this.crossCheckVertical(t,i,2*e[1],n);if(!isNaN(o)){const l=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(l,o,i))return g.combineEstimate(o,i,l);const f=new Ri(i,o,l);this.possibleCenters.push(f),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}class Fi extends de{constructor(e,t,r,n){super(e,t),this.estimatedModuleSize=r,this.count=n,n===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=this.count+1,i=(this.count*this.getX()+t)/n,o=(this.count*this.getY()+e)/n,l=(this.count*this.estimatedModuleSize+r)/n;return new Fi(i,o,l,n)}}class Xa{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class St{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(U.TRY_HARDER)!==void 0,r=e!=null&&e.get(U.PURE_BARCODE)!==void 0,n=this.image,i=n.getHeight(),o=n.getWidth();let l=Math.floor(3*i/(4*St.MAX_MODULES));(l<St.MIN_SKIP||t)&&(l=St.MIN_SKIP);let f=!1;const g=new Int32Array(5);for(let b=l-1;b<i&&!f;b+=l){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let I=0;for(let R=0;R<o;R++)if(n.get(R,b))(I&1)===1&&I++,g[I]++;else if(I&1)g[I]++;else if(I===4)if(St.foundPatternCross(g)){if(this.handlePossibleCenter(g,b,R,r)===!0)if(l=2,this.hasSkipped===!0)f=this.haveMultiplyConfirmedCenters();else{const P=this.findRowSkip();P>g[2]&&(b+=P-g[2]-l,R=o-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,I=3;continue}I=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,I=3;else g[++I]++;St.foundPatternCross(g)&&this.handlePossibleCenter(g,b,o,r)===!0&&(l=g[0],this.hasSkipped&&(f=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return de.orderBestPatterns(C),new Xa(C)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let i=0;i<5;i++){const o=e[i];if(o===0)return!1;t+=o}if(t<7)return!1;const r=t/7,n=r/2;return Math.abs(r-e[0])<n&&Math.abs(r-e[1])<n&&Math.abs(3*r-e[2])<3*n&&Math.abs(r-e[3])<n&&Math.abs(r-e[4])<n}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,n){const i=this.getCrossCheckStateCount();let o=0;const l=this.image;for(;e>=o&&t>=o&&l.get(t-o,e-o);)i[2]++,o++;if(e<o||t<o)return!1;for(;e>=o&&t>=o&&!l.get(t-o,e-o)&&i[1]<=r;)i[1]++,o++;if(e<o||t<o||i[1]>r)return!1;for(;e>=o&&t>=o&&l.get(t-o,e-o)&&i[0]<=r;)i[0]++,o++;if(i[0]>r)return!1;const f=l.getHeight(),g=l.getWidth();for(o=1;e+o<f&&t+o<g&&l.get(t+o,e+o);)i[2]++,o++;if(e+o>=f||t+o>=g)return!1;for(;e+o<f&&t+o<g&&!l.get(t+o,e+o)&&i[3]<r;)i[3]++,o++;if(e+o>=f||t+o>=g||i[3]>=r)return!1;for(;e+o<f&&t+o<g&&l.get(t+o,e+o)&&i[4]<r;)i[4]++,o++;if(i[4]>=r)return!1;const C=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(C-n)<2*n&&St.foundPatternCross(i)}crossCheckVertical(e,t,r,n){const i=this.image,o=i.getHeight(),l=this.getCrossCheckStateCount();let f=e;for(;f>=0&&i.get(t,f);)l[2]++,f--;if(f<0)return NaN;for(;f>=0&&!i.get(t,f)&&l[1]<=r;)l[1]++,f--;if(f<0||l[1]>r)return NaN;for(;f>=0&&i.get(t,f)&&l[0]<=r;)l[0]++,f--;if(l[0]>r)return NaN;for(f=e+1;f<o&&i.get(t,f);)l[2]++,f++;if(f===o)return NaN;for(;f<o&&!i.get(t,f)&&l[3]<r;)l[3]++,f++;if(f===o||l[3]>=r)return NaN;for(;f<o&&i.get(t,f)&&l[4]<r;)l[4]++,f++;if(l[4]>=r)return NaN;const g=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(g-n)>=2*n?NaN:St.foundPatternCross(l)?St.centerFromEnd(l,f):NaN}crossCheckHorizontal(e,t,r,n){const i=this.image,o=i.getWidth(),l=this.getCrossCheckStateCount();let f=e;for(;f>=0&&i.get(f,t);)l[2]++,f--;if(f<0)return NaN;for(;f>=0&&!i.get(f,t)&&l[1]<=r;)l[1]++,f--;if(f<0||l[1]>r)return NaN;for(;f>=0&&i.get(f,t)&&l[0]<=r;)l[0]++,f--;if(l[0]>r)return NaN;for(f=e+1;f<o&&i.get(f,t);)l[2]++,f++;if(f===o)return NaN;for(;f<o&&!i.get(f,t)&&l[3]<r;)l[3]++,f++;if(f===o||l[3]>=r)return NaN;for(;f<o&&i.get(f,t)&&l[4]<r;)l[4]++,f++;if(l[4]>=r)return NaN;const g=l[0]+l[1]+l[2]+l[3]+l[4];return 5*Math.abs(g-n)>=n?NaN:St.foundPatternCross(l)?St.centerFromEnd(l,f):NaN}handlePossibleCenter(e,t,r,n){const i=e[0]+e[1]+e[2]+e[3]+e[4];let o=St.centerFromEnd(e,r),l=this.crossCheckVertical(t,Math.floor(o),e[2],i);if(!isNaN(l)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(l),e[2],i),!isNaN(o)&&(!n||this.crossCheckDiagonal(Math.floor(l),Math.floor(o),e[2],i)))){const f=i/7;let g=!1;const C=this.possibleCenters;for(let b=0,I=C.length;b<I;b++){const R=C[b];if(R.aboutEquals(f,l,o)){C[b]=R.combineEstimate(l,o,f),g=!0;break}}if(!g){const b=new Fi(o,l,f);C.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const r of this.possibleCenters)if(r.getCount()>=St.CENTER_QUORUM)if(t==null)t=r;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-r.getX())-Math.abs(t.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const o of this.possibleCenters)o.getCount()>=St.CENTER_QUORUM&&(e++,t+=o.getEstimatedModuleSize());if(e<3)return!1;const n=t/r;let i=0;for(const o of this.possibleCenters)i+=Math.abs(o.getEstimatedModuleSize()-n);return i<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new j;const t=this.possibleCenters;let r;if(e>3){let n=0,i=0;for(const f of this.possibleCenters){const g=f.getEstimatedModuleSize();n+=g,i+=g*g}r=n/e;let o=Math.sqrt(i/e-r*r);t.sort((f,g)=>{const C=Math.abs(g.getEstimatedModuleSize()-r),b=Math.abs(f.getEstimatedModuleSize()-r);return C<b?-1:C>b?1:0});const l=Math.max(.2*r,o);for(let f=0;f<t.length&&t.length>3;f++){const g=t[f];Math.abs(g.getEstimatedModuleSize()-r)>l&&(t.splice(f,1),f--)}}if(t.length>3){let n=0;for(const i of t)n+=i.getEstimatedModuleSize();r=n/t.length,t.sort((i,o)=>{if(o.getCount()===i.getCount()){const l=Math.abs(o.getEstimatedModuleSize()-r),f=Math.abs(i.getEstimatedModuleSize()-r);return l<f?1:l>f?-1:0}else return o.getCount()-i.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}St.CENTER_QUORUM=2,St.MIN_SKIP=3,St.MAX_MODULES=57;class Sn{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(U.NEED_RESULT_POINT_CALLBACK);const r=new St(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),i=this.calculateModuleSize(t,r,n);if(i<1)throw new j("No pattern found in proccess finder.");const o=Sn.computeDimension(t,r,n,i),l=Ee.getProvisionalVersionForDimension(o),f=l.getDimensionForVersion()-7;let g=null;if(l.getAlignmentPatternCenters().length>0){const R=r.getX()-t.getX()+n.getX(),k=r.getY()-t.getY()+n.getY(),P=1-3/f,Y=Math.floor(t.getX()+P*(R-t.getX())),K=Math.floor(t.getY()+P*(k-t.getY()));for(let oe=4;oe<=16;oe<<=1)try{g=this.findAlignmentInRegion(i,Y,K,oe);break}catch(ce){if(!(ce instanceof j))throw ce}}const C=Sn.createTransform(t,r,n,g,o),b=Sn.sampleGrid(this.image,C,o);let I;return g===null?I=[n,t,r]:I=[n,t,r,g],new Bt(b,I)}static createTransform(e,t,r,n,i){const o=i-3.5;let l,f,g,C;return n!==null?(l=n.getX(),f=n.getY(),g=o-3,C=g):(l=t.getX()-e.getX()+r.getX(),f=t.getY()-e.getY()+r.getY(),g=o,C=o),yt.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,g,C,3.5,o,e.getX(),e.getY(),t.getX(),t.getY(),l,f,r.getX(),r.getY())}static sampleGrid(e,t,r){return dr.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,n){const i=Fe.round(de.distance(e,t)/n),o=Fe.round(de.distance(e,r)/n);let l=Math.floor((i+o)/2)+7;switch(l&3){case 0:l++;break;case 2:l--;break;case 3:throw new j("Dimensions could be not found.")}return l}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,n){let i=this.sizeOfBlackWhiteBlackRun(e,t,r,n),o=1,l=e-(r-e);l<0?(o=e/(e-l),l=0):l>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(l-e),l=this.image.getWidth()-1);let f=Math.floor(t-(n-t)*o);return o=1,f<0?(o=t/(t-f),f=0):f>=this.image.getHeight()&&(o=(this.image.getHeight()-1-t)/(f-t),f=this.image.getHeight()-1),l=Math.floor(e+(l-e)*o),i+=this.sizeOfBlackWhiteBlackRun(e,t,l,f),i-1}sizeOfBlackWhiteBlackRun(e,t,r,n){const i=Math.abs(n-t)>Math.abs(r-e);if(i){let R=e;e=t,t=R,R=r,r=n,n=R}const o=Math.abs(r-e),l=Math.abs(n-t);let f=-o/2;const g=e<r?1:-1,C=t<n?1:-1;let b=0;const I=r+g;for(let R=e,k=t;R!==I;R+=g){const P=i?k:R,Y=i?R:k;if(b===1===this.image.get(P,Y)){if(b===2)return Fe.distance(R,k,e,t);b++}if(f+=l,f>0){if(k===n)break;k+=C,f-=o}}return b===2?Fe.distance(r+g,n,e,t):NaN}findAlignmentInRegion(e,t,r,n){const i=Math.floor(n*e),o=Math.max(0,t-i),l=Math.min(this.image.getWidth()-1,t+i);if(l-o<e*3)throw new j("Alignment top exceeds estimated module size.");const f=Math.max(0,r-i),g=Math.min(this.image.getHeight()-1,r+i);if(g-f<e*3)throw new j("Alignment bottom exceeds estimated module size.");return new Jn(this.image,o,f,l-o,g-f,e,this.resultPointCallback).find()}}class Pr{constructor(){this.decoder=new Ga}getDecoder(){return this.decoder}decode(e,t){let r,n;if(t!=null&&t.get(U.PURE_BARCODE)!==void 0){const f=Pr.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(f,t),n=Pr.NO_POINTS}else{const f=new Sn(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(f.getBits(),t),n=f.getPoints()}r.getOther()instanceof hs&&r.getOther().applyMirroredCorrection(n);const i=new ee(r.getText(),r.getRawBytes(),void 0,n,le.QR_CODE,void 0),o=r.getByteSegments();o!==null&&i.putMetadata(pe.BYTE_SEGMENTS,o);const l=r.getECLevel();return l!==null&&i.putMetadata(pe.ERROR_CORRECTION_LEVEL,l),r.hasStructuredAppend()&&(i.putMetadata(pe.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),i.putMetadata(pe.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new j;const n=this.moduleSize(t,e);let i=t[1],o=r[1],l=t[0],f=r[0];if(l>=f||i>=o)throw new j;if(o-i!==f-l&&(f=l+(o-i),f>=e.getWidth()))throw new j;const g=Math.round((f-l+1)/n),C=Math.round((o-i+1)/n);if(g<=0||C<=0)throw new j;if(C!==g)throw new j;const b=Math.floor(n/2);i+=b,l+=b;const I=l+Math.floor((g-1)*n)-f;if(I>0){if(I>b)throw new j;l-=I}const R=i+Math.floor((C-1)*n)-o;if(R>0){if(R>b)throw new j;i-=R}const k=new ie(g,C);for(let P=0;P<C;P++){const Y=i+Math.floor(P*n);for(let K=0;K<g;K++)e.get(l+Math.floor(K*n),Y)&&k.set(K,P)}return k}static moduleSize(e,t){const r=t.getHeight(),n=t.getWidth();let i=e[0],o=e[1],l=!0,f=0;for(;i<n&&o<r;){if(l!==t.get(i,o)){if(++f===5)break;l=!l}i++,o++}if(i===n||o===r)throw new j;return(i-e[0])/7}}Pr.NO_POINTS=new Array;class be{PDF417Common(){}static getBitCountSum(e){return Fe.sum(e)}static toIntArray(e){if(e==null||!e.length)return be.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const n of e)t[r++]=n;return t}static getCodeword(e){const t=S.binarySearch(be.SYMBOL_TABLE,e&262143);return t<0?-1:(be.CODEWORD_TABLE[t]-1)%be.NUMBER_OF_CODEWORDS}}be.NUMBER_OF_CODEWORDS=929,be.MAX_CODEWORDS_IN_BARCODE=be.NUMBER_OF_CODEWORDS-1,be.MIN_ROWS_IN_BARCODE=3,be.MAX_ROWS_IN_BARCODE=90,be.MODULES_IN_CODEWORD=17,be.MODULES_IN_STOP_PATTERN=18,be.BARS_IN_MODULE=8,be.EMPTY_INT_ARRAY=new Int32Array([]),be.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),be.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Ya{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Me{static detectMultiple(e,t,r){let n=e.getBlackMatrix(),i=Me.detect(r,n);return i.length||(n=n.clone(),n.rotate180(),i=Me.detect(r,n)),new Ya(n,i)}static detect(e,t){const r=new Array;let n=0,i=0,o=!1;for(;n<t.getHeight();){const l=Me.findVertices(t,n,i);if(l[0]==null&&l[3]==null){if(!o)break;o=!1,i=0;for(const f of r)f[1]!=null&&(n=Math.trunc(Math.max(n,f[1].getY()))),f[3]!=null&&(n=Math.max(n,Math.trunc(f[3].getY())));n+=Me.ROW_STEP;continue}if(o=!0,r.push(l),!e)break;l[2]!=null?(i=Math.trunc(l[2].getX()),n=Math.trunc(l[2].getY())):(i=Math.trunc(l[4].getX()),n=Math.trunc(l[4].getY()))}return r}static findVertices(e,t,r){const n=e.getHeight(),i=e.getWidth(),o=new Array(8);return Me.copyToResult(o,Me.findRowsWithPattern(e,n,i,t,r,Me.START_PATTERN),Me.INDEXES_START_PATTERN),o[4]!=null&&(r=Math.trunc(o[4].getX()),t=Math.trunc(o[4].getY())),Me.copyToResult(o,Me.findRowsWithPattern(e,n,i,t,r,Me.STOP_PATTERN),Me.INDEXES_STOP_PATTERN),o}static copyToResult(e,t,r){for(let n=0;n<r.length;n++)e[r[n]]=t[n]}static findRowsWithPattern(e,t,r,n,i,o){const l=new Array(4);let f=!1;const g=new Int32Array(o.length);for(;n<t;n+=Me.ROW_STEP){let b=Me.findGuardPattern(e,i,n,r,!1,o,g);if(b!=null){for(;n>0;){const I=Me.findGuardPattern(e,i,--n,r,!1,o,g);if(I!=null)b=I;else{n++;break}}l[0]=new de(b[0],n),l[1]=new de(b[1],n),f=!0;break}}let C=n+1;if(f){let b=0,I=Int32Array.from([Math.trunc(l[0].getX()),Math.trunc(l[1].getX())]);for(;C<t;C++){const R=Me.findGuardPattern(e,I[0],C,r,!1,o,g);if(R!=null&&Math.abs(I[0]-R[0])<Me.MAX_PATTERN_DRIFT&&Math.abs(I[1]-R[1])<Me.MAX_PATTERN_DRIFT)I=R,b=0;else{if(b>Me.SKIPPED_ROW_COUNT_MAX)break;b++}}C-=b+1,l[2]=new de(I[0],C),l[3]=new de(I[1],C)}return C-n<Me.BARCODE_MIN_HEIGHT&&S.fill(l,null),l}static findGuardPattern(e,t,r,n,i,o,l){S.fillWithin(l,0,l.length,0);let f=t,g=0;for(;e.get(f,r)&&f>0&&g++<Me.MAX_PIXEL_DRIFT;)f--;let C=f,b=0,I=o.length;for(let R=i;C<n;C++)if(e.get(C,r)!==R)l[b]++;else{if(b===I-1){if(Me.patternMatchVariance(l,o,Me.MAX_INDIVIDUAL_VARIANCE)<Me.MAX_AVG_VARIANCE)return new Int32Array([f,C]);f+=l[0]+l[1],D.arraycopy(l,2,l,0,b-1),l[b-1]=0,l[b]=0,b--}else b++;l[b]=1,R=!R}return b===I-1&&Me.patternMatchVariance(l,o,Me.MAX_INDIVIDUAL_VARIANCE)<Me.MAX_AVG_VARIANCE?new Int32Array([f,C-1]):null}static patternMatchVariance(e,t,r){let n=e.length,i=0,o=0;for(let g=0;g<n;g++)i+=e[g],o+=t[g];if(i<o)return 1/0;let l=i/o;r*=l;let f=0;for(let g=0;g<n;g++){let C=e[g],b=t[g]*l,I=C>b?C-b:b-C;if(I>r)return 1/0;f+=I}return f/i}}Me.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Me.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Me.MAX_AVG_VARIANCE=.42,Me.MAX_INDIVIDUAL_VARIANCE=.8,Me.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Me.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Me.MAX_PIXEL_DRIFT=3,Me.MAX_PATTERN_DRIFT=5,Me.SKIPPED_ROW_COUNT_MAX=25,Me.ROW_STEP=5,Me.BARCODE_MIN_HEIGHT=10;class Ot{constructor(e,t){if(t.length===0)throw new m;this.field=e;let r=t.length;if(r>1&&t[0]===0){let n=1;for(;n<r&&t[n]===0;)n++;n===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-n),D.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let n=0;for(let i of this.coefficients)n=this.field.add(n,i);return n}let t=this.coefficients[0],r=this.coefficients.length;for(let n=1;n<r;n++)t=this.field.add(this.field.multiply(e,t),this.coefficients[n]);return t}add(e){if(!this.field.equals(e.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let o=t;t=r,r=o}let n=new Int32Array(r.length),i=r.length-t.length;D.arraycopy(r,0,n,0,i);for(let o=i;o<r.length;o++)n[o]=this.field.add(t[o-i],r[o]);return new Ot(this.field,n)}subtract(e){if(!this.field.equals(e.field))throw new m("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Ot?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Ot(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,o=new Int32Array(r+i-1);for(let l=0;l<r;l++){let f=t[l];for(let g=0;g<i;g++)o[l+g]=this.field.add(o[l+g],this.field.multiply(f,n[g]))}return new Ot(this.field,o)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new Ot(this.field,t)}multiplyScalar(e){if(e===0)return new Ot(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new Ot(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new m;if(t===0)return new Ot(this.field,new Int32Array([0]));let r=this.coefficients.length,n=new Int32Array(r+e);for(let i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new Ot(this.field,n)}toString(){let e=new X;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class qa{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new m;return this.logTable[e]}inverse(e){if(e===0)throw new Et;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Li extends qa{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let n=0;n<e;n++)this.expTable[n]=r,r=r*t%e;for(let n=0;n<e-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new Ot(this,new Int32Array([0])),this.one=new Ot(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new m;if(t===0)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new Ot(this,r)}}Li.PDF417_GF=new Li(be.NUMBER_OF_CODEWORDS,3);class ds{constructor(){this.field=Li.PDF417_GF}decode(e,t,r){let n=new Ot(this.field,e),i=new Int32Array(t),o=!1;for(let k=t;k>0;k--){let P=n.evaluateAt(this.field.exp(k));i[t-k]=P,P!==0&&(o=!0)}if(!o)return 0;let l=this.field.getOne();if(r!=null)for(const k of r){let P=this.field.exp(e.length-1-k),Y=new Ot(this.field,new Int32Array([this.field.subtract(0,P),1]));l=l.multiply(Y)}let f=new Ot(this.field,i),g=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),f,t),C=g[0],b=g[1],I=this.findErrorLocations(C),R=this.findErrorMagnitudes(b,C,I);for(let k=0;k<I.length;k++){let P=e.length-1-this.field.log(I[k]);if(P<0)throw _.getChecksumInstance();e[P]=this.field.subtract(e[P],R[k])}return I.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let I=e;e=t,t=I}let n=e,i=t,o=this.field.getZero(),l=this.field.getOne();for(;i.getDegree()>=Math.round(r/2);){let I=n,R=o;if(n=i,o=l,n.isZero())throw _.getChecksumInstance();i=I;let k=this.field.getZero(),P=n.getCoefficient(n.getDegree()),Y=this.field.inverse(P);for(;i.getDegree()>=n.getDegree()&&!i.isZero();){let K=i.getDegree()-n.getDegree(),oe=this.field.multiply(i.getCoefficient(i.getDegree()),Y);k=k.add(this.field.buildMonomial(K,oe)),i=i.subtract(n.multiplyByMonomial(K,oe))}l=k.multiply(o).subtract(R).negative()}let f=l.getCoefficient(0);if(f===0)throw _.getChecksumInstance();let g=this.field.inverse(f),C=l.multiply(g),b=i.multiply(g);return[C,b]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),n=0;for(let i=1;i<this.field.getSize()&&n<t;i++)e.evaluateAt(i)===0&&(r[n]=this.field.inverse(i),n++);if(n!==t)throw _.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let n=t.getDegree(),i=new Int32Array(n);for(let g=1;g<=n;g++)i[n-g]=this.field.multiply(g,t.getCoefficient(g));let o=new Ot(this.field,i),l=r.length,f=new Int32Array(l);for(let g=0;g<l;g++){let C=this.field.inverse(r[g]),b=this.field.subtract(0,e.evaluateAt(C)),I=this.field.inverse(o.evaluateAt(C));f[g]=this.field.multiply(b,I)}return f}}class Yr{constructor(e,t,r,n,i){e instanceof Yr?this.constructor_2(e):this.constructor_1(e,t,r,n,i)}constructor_1(e,t,r,n,i){const o=t==null||r==null,l=n==null||i==null;if(o&&l)throw new j;o?(t=new de(0,n.getY()),r=new de(0,i.getY())):l&&(n=new de(e.getWidth()-1,t.getY()),i=new de(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new Yr(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let n=this.topLeft,i=this.bottomLeft,o=this.topRight,l=this.bottomRight;if(e>0){let f=r?this.topLeft:this.topRight,g=Math.trunc(f.getY()-e);g<0&&(g=0);let C=new de(f.getX(),g);r?n=C:o=C}if(t>0){let f=r?this.bottomLeft:this.bottomRight,g=Math.trunc(f.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let C=new de(f.getX(),g);r?i=C:l=C}return new Yr(this.image,n,i,o,l)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Za{constructor(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class _n{constructor(){this.buffer=""}static form(e,t){let r=-1;function n(o,l,f,g,C,b){if(o==="%%")return"%";if(t[++r]===void 0)return;o=g?parseInt(g.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,R;switch(b){case"s":R=t[r];break;case"c":R=t[r][0];break;case"f":R=parseFloat(t[r]).toFixed(o);break;case"p":R=parseFloat(t[r]).toPrecision(o);break;case"e":R=parseFloat(t[r]).toExponential(o);break;case"x":R=parseInt(t[r]).toString(I||16);break;case"d":R=parseFloat(parseInt(t[r],I||10).toPrecision(o)).toFixed(0);break}R=typeof R=="object"?JSON.stringify(R):(+R).toString(I);let k=parseInt(f),P=f&&f[0]+""=="0"?"0":" ";for(;R.length<k;)R=l!==void 0?R+P:P+R;return R}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}format(e,...t){this.buffer+=_n.form(e,t)}toString(){return this.buffer}}class Dn{constructor(e){this.boundingBox=new Yr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let r=1;r<Dn.MAX_NEARBY_DISTANCE;r++){let n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&(t=this.codewords[n],t!=null)||(n=this.imageRowToCodewordIndex(e)+r,n<this.codewords.length&&(t=this.codewords[n],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new _n;let t=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue())}return e.toString()}}Dn.MAX_NEARBY_DISTANCE=5;class Tn{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,n]of this.values.entries()){const i={getKey:()=>r,getValue:()=>n};i.getValue()>e?(e=i.getValue(),t=[],t.push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return be.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class xs extends Dn{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),f=-1,g=1,C=0;for(let b=o;b<l;b++){if(t[b]==null)continue;let I=t[b],R=I.getRowNumber()-f;if(R===0)C++;else if(R===1)g=Math.max(g,C),C=1,f=I.getRowNumber();else if(R<0||I.getRowNumber()>=e.getRowCount()||R>b)t[b]=null;else{let k;g>2?k=(g-2)*R:k=R;let P=k>=b;for(let Y=1;Y<=k&&!P;Y++)P=t[b-Y]!=null;P?t[b]=null:(f=I.getRowNumber(),C=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let n=r.getRowNumber();if(n>=t.length)continue;t[n]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),o=this.imageRowToCodewordIndex(Math.trunc(n.getY())),l=this.getCodewords(),f=-1;for(let g=i;g<o;g++){if(l[g]==null)continue;let C=l[g];C.setRowNumberAsRowIndicatorColumn();let b=C.getRowNumber()-f;b===0||(b===1?f=C.getRowNumber():C.getRowNumber()>=e.getRowCount()?l[g]=null:f=C.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Tn,r=new Tn,n=new Tn,i=new Tn;for(let l of e){if(l==null)continue;l.setRowNumberAsRowIndicatorColumn();let f=l.getValue()%30,g=l.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:r.setValue(f*3+1);break;case 1:i.setValue(f/3),n.setValue(f%3);break;case 2:t.setValue(f+1);break}}if(t.getValue().length===0||r.getValue().length===0||n.getValue().length===0||i.getValue().length===0||t.getValue()[0]<1||r.getValue()[0]+n.getValue()[0]<be.MIN_ROWS_IN_BARCODE||r.getValue()[0]+n.getValue()[0]>be.MAX_ROWS_IN_BARCODE)return null;let o=new Za(t.getValue()[0],r.getValue()[0],n.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,o),o}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(e[r]==null)continue;let i=n.getValue()%30,o=n.getRowNumber();if(o>t.getRowCount()){e[r]=null;continue}switch(this._isLeft||(o+=2),o%3){case 0:i*3+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(i/3)!==t.getErrorCorrectionLevel()||i%3!==t.getRowCountLowerPart())&&(e[r]=null);break;case 2:i+1!==t.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Bn{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=be.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let r=this.detectionResultColumns[t].getCodewords();for(let n=0;n<r.length;n++)r[n]!=null&&(r[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(let n=1;n<=this.barcodeColumnCount;n++){let i=this.detectionResultColumns[n].getCodewords()[r];i!=null&&(i.setRowNumber(e[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[n].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let n=t[r].getRowNumber(),i=0;for(let o=this.barcodeColumnCount+1;o>0&&i<this.ADJUST_ROW_NUMBER_SKIP;o--){let l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(i=Bn.adjustRowNumberIfValid(n,i,l),l.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let n=t[r].getRowNumber(),i=0;for(let o=1;o<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;o++){let l=this.detectionResultColumns[o].getCodewords()[r];l!=null&&(i=Bn.adjustRowNumberIfValid(n,i,l),l.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let n=r[t],i=this.detectionResultColumns[e-1].getCodewords(),o=i;this.detectionResultColumns[e+1]!=null&&(o=this.detectionResultColumns[e+1].getCodewords());let l=new Array(14);l[2]=i[t],l[3]=o[t],t>0&&(l[0]=r[t-1],l[4]=i[t-1],l[5]=o[t-1]),t>1&&(l[8]=r[t-2],l[10]=i[t-2],l[11]=o[t-2]),t<r.length-1&&(l[1]=r[t+1],l[6]=i[t+1],l[7]=o[t+1]),t<r.length-2&&(l[9]=r[t+2],l[12]=i[t+2],l[13]=o[t+2]);for(let f of l)if(Bn.adjustRowNumber(n,f))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new _n;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let n=0;n<this.barcodeColumnCount+2;n++){if(this.detectionResultColumns[n]==null){t.format("    |   ");continue}let i=this.detectionResultColumns[n].getCodewords()[r];if(i==null){t.format("    |   ");continue}t.format(" %3d|%3d",i.getRowNumber(),i.getValue())}t.format("%n")}return t.toString()}}class Nn{constructor(e,t,r,n){this.rowNumber=Nn.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==Nn.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}Nn.BARCODE_ROW_UNKNOWN=-1;class zt{static initialize(){for(let e=0;e<be.SYMBOL_TABLE.length;e++){let t=be.SYMBOL_TABLE[e],r=t&1;for(let n=0;n<be.BARS_IN_MODULE;n++){let i=0;for(;(t&1)===r;)i+=1,t>>=1;r=t&1,zt.RATIOS_TABLE[e]||(zt.RATIOS_TABLE[e]=new Array(be.BARS_IN_MODULE)),zt.RATIOS_TABLE[e][be.BARS_IN_MODULE-n-1]=Math.fround(i/be.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=zt.getDecodedCodewordValue(zt.sampleBitCounts(e));return t!==-1?t:zt.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=Fe.sum(e),r=new Int32Array(be.BARS_IN_MODULE),n=0,i=0;for(let o=0;o<be.MODULES_IN_CODEWORD;o++){let l=t/(2*be.MODULES_IN_CODEWORD)+o*t/be.MODULES_IN_CODEWORD;i+e[n]<=l&&(i+=e[n],n++),r[n]++}return r}static getDecodedCodewordValue(e){let t=zt.getBitValue(e);return be.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let n=0;n<e[r];n++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=Fe.sum(e),r=new Array(be.BARS_IN_MODULE);if(t>1)for(let o=0;o<r.length;o++)r[o]=Math.fround(e[o]/t);let n=hr.MAX_VALUE,i=-1;this.bSymbolTableReady||zt.initialize();for(let o=0;o<zt.RATIOS_TABLE.length;o++){let l=0,f=zt.RATIOS_TABLE[o];for(let g=0;g<be.BARS_IN_MODULE;g++){let C=Math.fround(f[g]-r[g]);if(l+=Math.fround(C*C),l>=n)break}l<n&&(n=l,i=be.SYMBOL_TABLE[o])}return i}}zt.bSymbolTableReady=!1,zt.RATIOS_TABLE=new Array(be.SYMBOL_TABLE.length).map(y=>new Array(be.BARS_IN_MODULE));class gs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class As{static parseLong(e,t=void 0){return parseInt(e,t)}}class ps extends x{}ps.kind="NullPointerException";class $a{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(e==null)throw new ps;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new N;if(r===0)return;for(let n=0;n<r;n++)this.write(e[t+n])}flush(){}close(){}}class Qa extends x{}class Ka extends $a{constructor(e=32){if(super(),this.count=0,e<0)throw new m("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new Qa;r=T.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new N;this.ensureCapacity(this.count+r),D.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Qe;(function(y){y[y.ALPHA=0]="ALPHA",y[y.LOWER=1]="LOWER",y[y.MIXED=2]="MIXED",y[y.PUNCT=3]="PUNCT",y[y.ALPHA_SHIFT=4]="ALPHA_SHIFT",y[y.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Qe||(Qe={}));function Cs(){if(typeof window<"u")return window.BigInt||null;if(typeof De<"u")return De.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let ei;function Ur(y){if(typeof ei>"u"&&(ei=Cs()),ei===null)throw new Error("BigInt is not supported!");return ei(y)}function Ja(){let y=[];y[0]=Ur(1);let e=Ur(900);y[1]=e;for(let t=2;t<16;t++)y[t]=y[t-1]*e;return y}class Q{static decode(e,t){let r=new X(""),n=W.ISO8859_1;r.enableDecoding(n);let i=1,o=e[i++],l=new gs;for(;i<e[0];){switch(o){case Q.TEXT_COMPACTION_MODE_LATCH:i=Q.textCompaction(e,i,r);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:i=Q.byteCompaction(o,e,n,i,r);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:i=Q.numericCompaction(e,i,r);break;case Q.ECI_CHARSET:W.getCharacterSetECIByValue(e[i++]);break;case Q.ECI_GENERAL_PURPOSE:i+=2;break;case Q.ECI_USER_DEFINED:i++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=Q.decodeMacroBlock(e,i,l);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new L;default:i--,i=Q.textCompaction(e,i,r);break}if(i<e.length)o=e[i++];else throw L.getFormatInstance()}if(r.length()===0)throw L.getFormatInstance();let f=new Ct(null,r.toString(),null,t);return f.setOther(l),f}static decodeMacroBlock(e,t,r){if(t+Q.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw L.getFormatInstance();let n=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let l=0;l<Q.NUMBER_OF_SEQUENCE_CODEWORDS;l++,t++)n[l]=e[t];r.setSegmentIndex(T.parseInt(Q.decodeBase900toBase10(n,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new X;t=Q.textCompaction(e,t,i),r.setFileId(i.toString());let o=-1;for(e[t]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(o=t+1);t<e[0];)switch(e[t]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let l=new X;t=Q.textCompaction(e,t+1,l),r.setFileName(l.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let f=new X;t=Q.textCompaction(e,t+1,f),r.setSender(f.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new X;t=Q.textCompaction(e,t+1,g),r.setAddressee(g.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new X;t=Q.numericCompaction(e,t+1,C),r.setSegmentCount(T.parseInt(C.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let b=new X;t=Q.numericCompaction(e,t+1,b),r.setTimestamp(As.parseLong(b.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new X;t=Q.numericCompaction(e,t+1,I),r.setChecksum(T.parseInt(I.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let R=new X;t=Q.numericCompaction(e,t+1,R),r.setFileSize(As.parseLong(R.toString()));break;default:throw L.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(o!==-1){let l=t-o;r.isLastSegment()&&l--,r.setOptionalData(S.copyOfRange(e,o,o+l))}return t}static textCompaction(e,t,r){let n=new Int32Array((e[0]-t)*2),i=new Int32Array((e[0]-t)*2),o=0,l=!1;for(;t<e[0]&&!l;){let f=e[t++];if(f<Q.TEXT_COMPACTION_MODE_LATCH)n[o]=f/30,n[o+1]=f%30,o+=2;else switch(f){case Q.TEXT_COMPACTION_MODE_LATCH:n[o++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:t--,l=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[o]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,f=e[t++],i[o]=f,o++;break}}return Q.decodeTextCompaction(n,i,o,r),t}static decodeTextCompaction(e,t,r,n){let i=Qe.ALPHA,o=Qe.ALPHA,l=0;for(;l<r;){let f=e[l],g="";switch(i){case Qe.ALPHA:if(f<26)g=String.fromCharCode(65+f);else switch(f){case 26:g=" ";break;case Q.LL:i=Qe.LOWER;break;case Q.ML:i=Qe.MIXED;break;case Q.PS:o=i,i=Qe.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case Q.TEXT_COMPACTION_MODE_LATCH:i=Qe.ALPHA;break}break;case Qe.LOWER:if(f<26)g=String.fromCharCode(97+f);else switch(f){case 26:g=" ";break;case Q.AS:o=i,i=Qe.ALPHA_SHIFT;break;case Q.ML:i=Qe.MIXED;break;case Q.PS:o=i,i=Qe.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case Q.TEXT_COMPACTION_MODE_LATCH:i=Qe.ALPHA;break}break;case Qe.MIXED:if(f<Q.PL)g=Q.MIXED_CHARS[f];else switch(f){case Q.PL:i=Qe.PUNCT;break;case 26:g=" ";break;case Q.LL:i=Qe.LOWER;break;case Q.AL:i=Qe.ALPHA;break;case Q.PS:o=i,i=Qe.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case Q.TEXT_COMPACTION_MODE_LATCH:i=Qe.ALPHA;break}break;case Qe.PUNCT:if(f<Q.PAL)g=Q.PUNCT_CHARS[f];else switch(f){case Q.PAL:i=Qe.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case Q.TEXT_COMPACTION_MODE_LATCH:i=Qe.ALPHA;break}break;case Qe.ALPHA_SHIFT:if(i=o,f<26)g=String.fromCharCode(65+f);else switch(f){case 26:g=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:i=Qe.ALPHA;break}break;case Qe.PUNCT_SHIFT:if(i=o,f<Q.PAL)g=Q.PUNCT_CHARS[f];else switch(f){case Q.PAL:i=Qe.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[l]);break;case Q.TEXT_COMPACTION_MODE_LATCH:i=Qe.ALPHA;break}break}g!==""&&n.append(g),l++}}static byteCompaction(e,t,r,n,i){let o=new Ka,l=0,f=0,g=!1;switch(e){case Q.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),b=t[n++];for(;n<t[0]&&!g;)switch(C[l++]=b,f=900*f+b,b=t[n++],b){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:n--,g=!0;break;default:if(l%5===0&&l>0){for(let I=0;I<6;++I)o.write(Number(Ur(f)>>Ur(8*(5-I))));f=0,l=0}break}n===t[0]&&b<Q.TEXT_COMPACTION_MODE_LATCH&&(C[l++]=b);for(let I=0;I<l;I++)o.write(C[I]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!g;){let I=t[n++];if(I<Q.TEXT_COMPACTION_MODE_LATCH)l++,f=900*f+I;else switch(I){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:n--,g=!0;break}if(l%5===0&&l>0){for(let R=0;R<6;++R)o.write(Number(Ur(f)>>Ur(8*(5-R))));f=0,l=0}}break}return i.append(V.decode(o.toByteArray(),r)),n}static numericCompaction(e,t,r){let n=0,i=!1,o=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let l=e[t++];if(t===e[0]&&(i=!0),l<Q.TEXT_COMPACTION_MODE_LATCH)o[n]=l,n++;else switch(l){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:t--,i=!0;break}(n%Q.MAX_NUMERIC_CODEWORDS===0||l===Q.NUMERIC_COMPACTION_MODE_LATCH||i)&&n>0&&(r.append(Q.decodeBase900toBase10(o,n)),n=0)}return t}static decodeBase900toBase10(e,t){let r=Ur(0);for(let i=0;i<t;i++)r+=Q.EXP900[t-i-1]*Ur(e[i]);let n=r.toString();if(n.charAt(0)!=="1")throw new L;return n.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=Cs()?Ja():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Re{constructor(){}static decode(e,t,r,n,i,o,l){let f=new Yr(e,t,r,n,i),g=null,C=null,b;for(let k=!0;;k=!1){if(t!=null&&(g=Re.getRowIndicatorColumn(e,f,t,!0,o,l)),n!=null&&(C=Re.getRowIndicatorColumn(e,f,n,!1,o,l)),b=Re.merge(g,C),b==null)throw j.getNotFoundInstance();let P=b.getBoundingBox();if(k&&P!=null&&(P.getMinY()<f.getMinY()||P.getMaxY()>f.getMaxY()))f=P;else break}b.setBoundingBox(f);let I=b.getBarcodeColumnCount()+1;b.setDetectionResultColumn(0,g),b.setDetectionResultColumn(I,C);let R=g!=null;for(let k=1;k<=I;k++){let P=R?k:I-k;if(b.getDetectionResultColumn(P)!==void 0)continue;let Y;P===0||P===I?Y=new xs(f,P===0):Y=new Dn(f),b.setDetectionResultColumn(P,Y);let K=-1,oe=K;for(let ce=f.getMinY();ce<=f.getMaxY();ce++){if(K=Re.getStartColumn(b,P,ce,R),K<0||K>f.getMaxX()){if(oe===-1)continue;K=oe}let se=Re.detectCodeword(e,f.getMinX(),f.getMaxX(),R,K,ce,o,l);se!=null&&(Y.setCodeword(ce,se),oe=K,o=Math.min(o,se.getWidth()),l=Math.max(l,se.getWidth()))}}return Re.createDecoderResult(b)}static merge(e,t){if(e==null&&t==null)return null;let r=Re.getBarcodeMetadata(e,t);if(r==null)return null;let n=Yr.merge(Re.adjustBoundingBox(e),Re.adjustBoundingBox(t));return new Bn(r,n)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let r=Re.getMax(t),n=0;for(let l of t)if(n+=r-l,l>0)break;let i=e.getCodewords();for(let l=0;n>0&&i[l]==null;l++)n--;let o=0;for(let l=t.length-1;l>=0&&(o+=r-t[l],!(t[l]>0));l--);for(let l=i.length-1;o>0&&i[l]==null;l--)o--;return e.getBoundingBox().addMissingRows(n,o,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let n;return t==null||(n=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,n,i,o){let l=new xs(t,n);for(let f=0;f<2;f++){let g=f===0?1:-1,C=Math.trunc(Math.trunc(r.getX()));for(let b=Math.trunc(Math.trunc(r.getY()));b<=t.getMaxY()&&b>=t.getMinY();b+=g){let I=Re.detectCodeword(e,0,e.getWidth(),n,C,b,i,o);I!=null&&(l.setCodeword(b,I),n?C=I.getStartX():C=I.getEndX())}}return l}static adjustCodewordCount(e,t){let r=t[0][1],n=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Re.getNumberOfECCodeWords(e.getBarcodeECLevel());if(n.length===0){if(i<1||i>be.MAX_CODEWORDS_IN_BARCODE)throw j.getNotFoundInstance();r.setValue(i)}else n[0]!==i&&r.setValue(i)}static createDecoderResult(e){let t=Re.createBarcodeMatrix(e);Re.adjustCodewordCount(e,t);let r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],o=new Array;for(let f=0;f<e.getBarcodeRowCount();f++)for(let g=0;g<e.getBarcodeColumnCount();g++){let C=t[f][g+1].getValue(),b=f*e.getBarcodeColumnCount()+g;C.length===0?r.push(b):C.length===1?n[b]=C[0]:(o.push(b),i.push(C))}let l=new Array(i.length);for(let f=0;f<l.length;f++)l[f]=i[f];return Re.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,be.toIntArray(r),be.toIntArray(o),l)}static createDecoderResultFromAmbiguousValues(e,t,r,n,i){let o=new Int32Array(n.length),l=100;for(;l-- >0;){for(let f=0;f<o.length;f++)t[n[f]]=i[f][o[f]];try{return Re.decodeCodewords(t,e,r)}catch(f){if(!(f instanceof _))throw f}if(o.length===0)throw _.getChecksumInstance();for(let f=0;f<o.length;f++)if(o[f]<i[f].length-1){o[f]++;break}else if(o[f]=0,f===o.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]=new Tn;let r=0;for(let n of e.getDetectionResultColumns()){if(n!=null){for(let i of n.getCodewords())if(i!=null){let o=i.getRowNumber();if(o>=0){if(o>=t.length)continue;t[o][r].setValue(i.getValue())}}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,n){let i=n?1:-1,o=null;if(Re.isValidBarcodeColumn(e,t-i)&&(o=e.getDetectionResultColumn(t-i).getCodeword(r)),o!=null)return n?o.getEndX():o.getStartX();if(o=e.getDetectionResultColumn(t).getCodewordNearby(r),o!=null)return n?o.getStartX():o.getEndX();if(Re.isValidBarcodeColumn(e,t-i)&&(o=e.getDetectionResultColumn(t-i).getCodewordNearby(r)),o!=null)return n?o.getEndX():o.getStartX();let l=0;for(;Re.isValidBarcodeColumn(e,t-i);){t-=i;for(let f of e.getDetectionResultColumn(t).getCodewords())if(f!=null)return(n?f.getEndX():f.getStartX())+i*l*(f.getEndX()-f.getStartX());l++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,n,i,o,l,f){i=Re.adjustCodewordStartColumn(e,t,r,n,i,o);let g=Re.getModuleBitCount(e,t,r,n,i,o);if(g==null)return null;let C,b=Fe.sum(g);if(n)C=i+b;else{for(let k=0;k<g.length/2;k++){let P=g[k];g[k]=g[g.length-1-k],g[g.length-1-k]=P}C=i,i=C-b}if(!Re.checkCodewordSkew(b,l,f))return null;let I=zt.getDecodedValue(g),R=be.getCodeword(I);return R===-1?null:new Nn(i,C,Re.getCodewordBucketNumber(I),R)}static getModuleBitCount(e,t,r,n,i,o){let l=i,f=new Int32Array(8),g=0,C=n?1:-1,b=n;for(;(n?l<r:l>=t)&&g<f.length;)e.get(l,o)===b?(f[g]++,l+=C):(g++,b=!b);return g===f.length||l===(n?r:t)&&g===f.length-1?f:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,n,i,o){let l=i,f=n?-1:1;for(let g=0;g<2;g++){for(;(n?l>=t:l<r)&&n===e.get(l,o);){if(Math.abs(i-l)>Re.CODEWORD_SKEW_SIZE)return i;l+=f}f=-f,n=!n}return l}static checkCodewordSkew(e,t,r){return t-Re.CODEWORD_SKEW_SIZE<=e&&e<=r+Re.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(e.length===0)throw L.getFormatInstance();let n=1<<t+1,i=Re.correctErrors(e,r,n);Re.verifyCodewordCount(e,n);let o=Q.decode(e,""+t);return o.setErrorsCorrected(i),o.setErasures(r.length),o}static correctErrors(e,t,r){if(t!=null&&t.length>r/2+Re.MAX_ERRORS||r<0||r>Re.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Re.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw L.getFormatInstance();let r=e[0];if(r>e.length)throw L.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw L.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,n=t.length-1;for(;!((e&1)!==r&&(r=e&1,n--,n<0));)t[n]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Re.getCodewordBucketNumber(Re.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new _n;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let n=0;n<e[r].length;n++){let i=e[r][n];i.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()}}Re.CODEWORD_SKEW_SIZE=2,Re.MAX_ERRORS=3,Re.MAX_EC_CODEWORDS=512,Re.errorCorrection=new ds;class Mt{decode(e,t=null){let r=Mt.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw j.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return Mt.decode(e,t,!0)}catch(r){throw r instanceof L||r instanceof _?j.getNotFoundInstance():r}}static decode(e,t,r){const n=new Array,i=Me.detectMultiple(e,t,r);for(const o of i.getPoints()){const l=Re.decode(i.getBits(),o[4],o[5],o[6],o[7],Mt.getMinCodewordWidth(o),Mt.getMaxCodewordWidth(o)),f=new ee(l.getText(),l.getRawBytes(),void 0,o,le.PDF_417);f.putMetadata(pe.ERROR_CORRECTION_LEVEL,l.getECLevel());const g=l.getOther();g!=null&&f.putMetadata(pe.PDF417_EXTRA_METADATA,g),n.push(f)}return n.map(o=>o)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?T.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Mt.getMaxWidth(e[0],e[4]),Mt.getMaxWidth(e[6],e[2])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN),Math.max(Mt.getMaxWidth(e[1],e[5]),Mt.getMaxWidth(e[7],e[3])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Mt.getMinWidth(e[0],e[4]),Mt.getMinWidth(e[6],e[2])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN),Math.min(Mt.getMinWidth(e[1],e[5]),Mt.getMinWidth(e[7],e[3])*be.MODULES_IN_CODEWORD/be.MODULES_IN_STOP_PATTERN)))}reset(){}}class ti extends x{}ti.kind="ReaderException";class Es{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!u(e)&&e.get(U.TRY_HARDER)===!0,r=u(e)?null:e.get(U.POSSIBLE_FORMATS),n=new Array;if(!u(r)){const i=r.some(o=>o===le.UPC_A||o===le.UPC_E||o===le.EAN_13||o===le.EAN_8||o===le.CODABAR||o===le.CODE_39||o===le.CODE_93||o===le.CODE_128||o===le.ITF||o===le.RSS_14||o===le.RSS_EXPANDED);i&&!t&&n.push(new an(e,this.verbose)),r.includes(le.QR_CODE)&&n.push(new Pr),r.includes(le.DATA_MATRIX)&&n.push(new kr),r.includes(le.AZTEC)&&n.push(new ar),r.includes(le.PDF_417)&&n.push(new Mt),i&&t&&n.push(new an(e,this.verbose))}n.length===0&&(t||n.push(new an(e,this.verbose)),n.push(new Pr),n.push(new kr),n.push(new ar),n.push(new Mt),t&&n.push(new an(e,this.verbose))),this.readers=n}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ti("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(r){if(r instanceof ti)continue}throw new j("No MultiFormat Readers were able to detect the code.")}}class e1 extends te{constructor(e=null,t=500){const r=new Es;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class t1 extends te{constructor(e=500){super(new Mt,e)}}class r1 extends te{constructor(e=500){super(new Pr,e)}}var ki;(function(y){y[y.ERROR_CORRECTION=0]="ERROR_CORRECTION",y[y.CHARACTER_SET=1]="CHARACTER_SET",y[y.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",y[y.MIN_SIZE=3]="MIN_SIZE",y[y.MAX_SIZE=4]="MAX_SIZE",y[y.MARGIN=5]="MARGIN",y[y.PDF417_COMPACT=6]="PDF417_COMPACT",y[y.PDF417_COMPACTION=7]="PDF417_COMPACTION",y[y.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",y[y.AZTEC_LAYERS=9]="AZTEC_LAYERS",y[y.QR_VERSION=10]="QR_VERSION"})(ki||(ki={}));var mt=ki;class Pi{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new je(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const n=this.field;for(let i=t.length;i<=e;i++){const o=r.multiply(new je(n,Int32Array.from([1,n.exp(i-1+n.getGeneratorBase())])));t.push(o),r=o}}return t[e]}encode(e,t){if(t===0)throw new m("No error correction bytes");const r=e.length-t;if(r<=0)throw new m("No data bytes provided");const n=this.buildGenerator(t),i=new Int32Array(r);D.arraycopy(e,0,i,0,r);let o=new je(this.field,i);o=o.multiplyByMonomial(t,1);const f=o.divide(n)[1].getCoefficients(),g=t-f.length;for(let C=0;C<g;C++)e[r+C]=0;D.arraycopy(f,0,e,r+g,f.length)}}class xt{constructor(){}static applyMaskPenaltyRule1(e){return xt.applyMaskPenaltyRule1Internal(e,!0)+xt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let o=0;o<i-1;o++){const l=r[o];for(let f=0;f<n-1;f++){const g=l[f];g===l[f+1]&&g===r[o+1][f]&&g===r[o+1][f+1]&&t++}}return xt.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let o=0;o<i;o++)for(let l=0;l<n;l++){const f=r[o];l+6<n&&f[l]===1&&f[l+1]===0&&f[l+2]===1&&f[l+3]===1&&f[l+4]===1&&f[l+5]===0&&f[l+6]===1&&(xt.isWhiteHorizontal(f,l-4,l)||xt.isWhiteHorizontal(f,l+7,l+11))&&t++,o+6<i&&r[o][l]===1&&r[o+1][l]===0&&r[o+2][l]===1&&r[o+3][l]===1&&r[o+4][l]===1&&r[o+5][l]===0&&r[o+6][l]===1&&(xt.isWhiteVertical(r,l,o-4,o)||xt.isWhiteVertical(r,l,o+7,o+11))&&t++}return t*xt.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let n=t;n<r;n++)if(e[n]===1)return!1;return!0}static isWhiteVertical(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(let i=r;i<n;i++)if(e[i][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let f=0;f<i;f++){const g=r[f];for(let C=0;C<n;C++)g[C]===1&&t++}const o=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-o)*10/o)*xt.N4}static getDataMaskBit(e,t,r){let n,i;switch(e){case 0:n=r+t&1;break;case 1:n=r&1;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:i=r*t,n=(i&1)+i%3;break;case 6:i=r*t,n=(i&1)+i%3&1;break;case 7:i=r*t,n=i%3+(r+t&1)&1;break;default:throw new m("Invalid mask pattern: "+e)}return n===0}static applyMaskPenaltyRule1Internal(e,t){let r=0;const n=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),o=e.getArray();for(let l=0;l<n;l++){let f=0,g=-1;for(let C=0;C<i;C++){const b=t?o[l][C]:o[C][l];b===g?f++:(f>=5&&(r+=xt.N1+(f-5)),f=1,g=b)}f>=5&&(r+=xt.N1+(f-5))}return r}}xt.N1=3,xt.N2=3,xt.N3=40,xt.N4=10;class ri{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)S.fill(t,e)}equals(e){if(!(e instanceof ri))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let r=0,n=this.height;r<n;++r){const i=this.bytes[r],o=t.bytes[r];for(let l=0,f=this.width;l<f;++l)if(i[l]!==o[l])return!1}return!0}toString(){const e=new X;for(let t=0,r=this.height;t<r;++t){const n=this.bytes[t];for(let i=0,o=this.width;i<o;++i)switch(n[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class qr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new X;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<qr.NUM_MASK_PATTERNS}}qr.NUM_MASK_PATTERNS=8;class Ke extends x{}Ke.kind="WriterException";class me{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,n,i){me.clearMatrix(i),me.embedBasicPatterns(r,i),me.embedTypeInfo(t,n,i),me.maybeEmbedVersionInfo(r,i),me.embedDataBits(e,n,i)}static embedBasicPatterns(e,t){me.embedPositionDetectionPatternsAndSeparators(t),me.embedDarkDotAtLeftBottomCorner(t),me.maybeEmbedPositionAdjustmentPatterns(e,t),me.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const n=new M;me.makeTypeInfoBits(e,t,n);for(let i=0,o=n.getSize();i<o;++i){const l=n.get(n.getSize()-1-i),f=me.TYPE_INFO_COORDINATES[i],g=f[0],C=f[1];if(r.setBoolean(g,C,l),i<8){const b=r.getWidth()-i-1;r.setBoolean(b,8,l)}else{const I=r.getHeight()-7+(i-8);r.setBoolean(8,I,l)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new M;me.makeVersionInfoBits(e,r);let n=6*3-1;for(let i=0;i<6;++i)for(let o=0;o<3;++o){const l=r.get(n);n--,t.setBoolean(i,t.getHeight()-11+o,l),t.setBoolean(t.getHeight()-11+o,i,l)}}static embedDataBits(e,t,r){let n=0,i=-1,o=r.getWidth()-1,l=r.getHeight()-1;for(;o>0;){for(o===6&&(o-=1);l>=0&&l<r.getHeight();){for(let f=0;f<2;++f){const g=o-f;if(!me.isEmpty(r.get(g,l)))continue;let C;n<e.getSize()?(C=e.get(n),++n):C=!1,t!==255&&xt.getDataMaskBit(t,g,l)&&(C=!C),r.setBoolean(g,l,C)}l+=i}i=-i,l+=i,o-=2}if(n!==e.getSize())throw new Ke("Not all bits consumed: "+n+"/"+e.getSize())}static findMSBSet(e){return 32-T.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new m("0 polynomial");const r=me.findMSBSet(t);for(e<<=r-1;me.findMSBSet(e)>=r;)e^=t<<me.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!qr.isValidMaskPattern(t))throw new Ke("Invalid mask pattern");const n=e.getBits()<<3|t;r.appendBits(n,5);const i=me.calculateBCHCode(n,me.TYPE_INFO_POLY);r.appendBits(i,10);const o=new M;if(o.appendBits(me.TYPE_INFO_MASK_PATTERN,15),r.xor(o),r.getSize()!==15)throw new Ke("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=me.calculateBCHCode(e.getVersionNumber(),me.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new Ke("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;me.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),me.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Ke;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let n=0;n<8;++n){if(!me.isEmpty(r.get(e+n,t)))throw new Ke;r.setNumber(e+n,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let n=0;n<7;++n){if(!me.isEmpty(r.get(e,t+n)))throw new Ke;r.setNumber(e,t+n,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let n=0;n<5;++n){const i=me.POSITION_ADJUSTMENT_PATTERN[n];for(let o=0;o<5;++o)r.setNumber(e+o,t+n,i[o])}}static embedPositionDetectionPattern(e,t,r){for(let n=0;n<7;++n){const i=me.POSITION_DETECTION_PATTERN[n];for(let o=0;o<7;++o)r.setNumber(e+o,t+n,i[o])}}static embedPositionDetectionPatternsAndSeparators(e){const t=me.POSITION_DETECTION_PATTERN[0].length;me.embedPositionDetectionPattern(0,0,e),me.embedPositionDetectionPattern(e.getWidth()-t,0,e),me.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;me.embedHorizontalSeparationPattern(0,r-1,e),me.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),me.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const n=7;me.embedVerticalSeparationPattern(n,0,e),me.embedVerticalSeparationPattern(e.getHeight()-n-1,0,e),me.embedVerticalSeparationPattern(n,e.getHeight()-n,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,n=me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let i=0,o=n.length;i!==o;i++){const l=n[i];if(l>=0)for(let f=0;f!==o;f++){const g=n[f];g>=0&&me.isEmpty(t.get(g,l))&&me.embedPositionAdjustmentPattern(g-2,l-2,t)}}}}me.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),me.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),me.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),me.VERSION_INFO_POLY=7973,me.TYPE_INFO_POLY=1335,me.TYPE_INFO_MASK_PATTERN=21522;class n1{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class nt{constructor(){}static calculateMaskPenalty(e){return xt.applyMaskPenaltyRule1(e)+xt.applyMaskPenaltyRule2(e)+xt.applyMaskPenaltyRule3(e)+xt.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let n=nt.DEFAULT_BYTE_MODE_ENCODING;const i=r!==null&&r.get(mt.CHARACTER_SET)!==void 0;i&&(n=r.get(mt.CHARACTER_SET).toString());const o=this.chooseMode(e,n),l=new M;if(o===we.BYTE&&(i||nt.DEFAULT_BYTE_MODE_ENCODING!==n)){const ce=W.getCharacterSetECIByName(n);ce!==void 0&&this.appendECI(ce,l)}this.appendModeInfo(o,l);const f=new M;this.appendBytes(e,o,f,n);let g;if(r!==null&&r.get(mt.QR_VERSION)!==void 0){const ce=Number.parseInt(r.get(mt.QR_VERSION).toString(),10);g=Ee.getVersionForNumber(ce);const se=this.calculateBitsNeeded(o,l,f,g);if(!this.willFit(se,g,t))throw new Ke("Data too big for requested version")}else g=this.recommendVersion(t,o,l,f);const C=new M;C.appendBitArray(l);const b=o===we.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(b,g,o,C),C.appendBitArray(f);const I=g.getECBlocksForLevel(t),R=g.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(R,C);const k=this.interleaveWithECBytes(C,g.getTotalCodewords(),R,I.getNumBlocks()),P=new qr;P.setECLevel(t),P.setMode(o),P.setVersion(g);const Y=g.getDimensionForVersion(),K=new ri(Y,Y),oe=this.chooseMaskPattern(k,t,g,K);return P.setMaskPattern(oe),me.buildMatrix(k,t,g,oe,K),P.setMatrix(K),P}static recommendVersion(e,t,r,n){const i=this.calculateBitsNeeded(t,r,n,Ee.getVersionForNumber(1)),o=this.chooseVersion(i,e),l=this.calculateBitsNeeded(t,r,n,o);return this.chooseVersion(l,e)}static calculateBitsNeeded(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()}static getAlphanumericCode(e){return e<nt.ALPHANUMERIC_TABLE.length?nt.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(W.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return we.KANJI;let r=!1,n=!1;for(let i=0,o=e.length;i<o;++i){const l=e.charAt(i);if(nt.isDigit(l))r=!0;else if(this.getAlphanumericCode(l.charCodeAt(0))!==-1)n=!0;else return we.BYTE}return n?we.ALPHANUMERIC:r?we.NUMERIC:we.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=V.encode(e,W.SJIS)}catch{return!1}const r=t.length;if(r%2!==0)return!1;for(let n=0;n<r;n+=2){const i=t[n]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0}static chooseMaskPattern(e,t,r,n){let i=Number.MAX_SAFE_INTEGER,o=-1;for(let l=0;l<qr.NUM_MASK_PATTERNS;l++){me.buildMatrix(e,t,r,l,n);let f=this.calculateMaskPenalty(n);f<i&&(i=f,o=l)}return o}static chooseVersion(e,t){for(let r=1;r<=40;r++){const n=Ee.getVersionForNumber(r);if(nt.willFit(e,n,t))return n}throw new Ke("Data too big")}static willFit(e,t,r){const n=t.getTotalCodewords(),o=t.getECBlocksForLevel(r).getTotalECCodewords(),l=n-o,f=(e+7)/8;return l>=f}static terminateBits(e,t){const r=e*8;if(t.getSize()>r)throw new Ke("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let o=0;o<4&&t.getSize()<r;++o)t.appendBit(!1);const n=t.getSize()&7;if(n>0)for(let o=n;o<8;o++)t.appendBit(!1);const i=e-t.getSizeInBytes();for(let o=0;o<i;++o)t.appendBits(o&1?17:236,8);if(t.getSize()!==r)throw new Ke("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,n,i,o){if(n>=r)throw new Ke("Block ID too large");const l=e%r,f=r-l,g=Math.floor(e/r),C=g+1,b=Math.floor(t/r),I=b+1,R=g-b,k=C-I;if(R!==k)throw new Ke("EC bytes mismatch");if(r!==f+l)throw new Ke("RS blocks mismatch");if(e!==(b+R)*f+(I+k)*l)throw new Ke("Total bytes mismatch");n<f?(i[0]=b,o[0]=R):(i[0]=I,o[0]=k)}static interleaveWithECBytes(e,t,r,n){if(e.getSizeInBytes()!==r)throw new Ke("Number of bits and data bytes does not match");let i=0,o=0,l=0;const f=new Array;for(let C=0;C<n;++C){const b=new Int32Array(1),I=new Int32Array(1);nt.getNumDataBytesAndNumECBytesForBlockID(t,r,n,C,b,I);const R=b[0],k=new Uint8Array(R);e.toBytes(8*i,k,0,R);const P=nt.generateECBytes(k,I[0]);f.push(new n1(k,P)),o=Math.max(o,R),l=Math.max(l,P.length),i+=b[0]}if(r!==i)throw new Ke("Data bytes does not match offset");const g=new M;for(let C=0;C<o;++C)for(const b of f){const I=b.getDataBytes();C<I.length&&g.appendBits(I[C],8)}for(let C=0;C<l;++C)for(const b of f){const I=b.getErrorCorrectionBytes();C<I.length&&g.appendBits(I[C],8)}if(t!==g.getSizeInBytes())throw new Ke("Interleaving error: "+t+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,t){const r=e.length,n=new Int32Array(r+t);for(let o=0;o<r;o++)n[o]=e[o]&255;new Pi(ve.QR_CODE_FIELD_256).encode(n,t);const i=new Uint8Array(t);for(let o=0;o<t;o++)i[o]=n[r+o];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,n){const i=r.getCharacterCountBits(t);if(e>=1<<i)throw new Ke(e+" is bigger than "+((1<<i)-1));n.appendBits(e,i)}static appendBytes(e,t,r,n){switch(t){case we.NUMERIC:nt.appendNumericBytes(e,r);break;case we.ALPHANUMERIC:nt.appendAlphanumericBytes(e,r);break;case we.BYTE:nt.append8BitBytes(e,r,n);break;case we.KANJI:nt.appendKanjiBytes(e,r);break;default:throw new Ke("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=nt.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=nt.getDigit(e.charAt(n));if(n+2<r){const o=nt.getDigit(e.charAt(n+1)),l=nt.getDigit(e.charAt(n+2));t.appendBits(i*100+o*10+l,10),n+=3}else if(n+1<r){const o=nt.getDigit(e.charAt(n+1));t.appendBits(i*10+o,7),n+=2}else t.appendBits(i,4),n++}}static appendAlphanumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=nt.getAlphanumericCode(e.charCodeAt(n));if(i===-1)throw new Ke;if(n+1<r){const o=nt.getAlphanumericCode(e.charCodeAt(n+1));if(o===-1)throw new Ke;t.appendBits(i*45+o,11),n+=2}else t.appendBits(i,6),n++}}static append8BitBytes(e,t,r){let n;try{n=V.encode(e,r)}catch(i){throw new Ke(i)}for(let i=0,o=n.length;i!==o;i++){const l=n[i];t.appendBits(l,8)}}static appendKanjiBytes(e,t){let r;try{r=V.encode(e,W.SJIS)}catch(i){throw new Ke(i)}const n=r.length;for(let i=0;i<n;i+=2){const o=r[i]&255,l=r[i+1]&255,f=o<<8&4294967295|l;let g=-1;if(f>=33088&&f<=40956?g=f-33088:f>=57408&&f<=60351&&(g=f-49472),g===-1)throw new Ke("Invalid byte sequence");const C=(g>>8)*192+(g&255);t.appendBits(C,13)}}static appendECI(e,t){t.appendBits(we.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}nt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),nt.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class Zr{write(e,t,r,n=null){if(e.length===0)throw new m("Found empty contents");if(t<0||r<0)throw new m("Requested dimensions are too small: "+t+"x"+r);let i=et.L,o=Zr.QUIET_ZONE_SIZE;n!==null&&(n.get(mt.ERROR_CORRECTION)!==void 0&&(i=et.fromString(n.get(mt.ERROR_CORRECTION).toString())),n.get(mt.MARGIN)!==void 0&&(o=Number.parseInt(n.get(mt.MARGIN).toString(),10)));const l=nt.encode(e,i,n);return this.renderResult(l,t,r,o)}writeToDom(e,t,r,n,i=null){typeof e=="string"&&(e=document.querySelector(e));const o=this.write(t,r,n,i);e&&e.appendChild(o)}renderResult(e,t,r,n){const i=e.getMatrix();if(i===null)throw new Tt;const o=i.getWidth(),l=i.getHeight(),f=o+n*2,g=l+n*2,C=Math.max(t,f),b=Math.max(r,g),I=Math.min(Math.floor(C/f),Math.floor(b/g)),R=Math.floor((C-o*I)/2),k=Math.floor((b-l*I)/2),P=this.createSVGElement(C,b);for(let Y=0,K=k;Y<l;Y++,K+=I)for(let oe=0,ce=R;oe<o;oe++,ce+=I)if(i.get(oe,Y)===1){const se=this.createSvgRectElement(ce,K,I,I);P.appendChild(se)}return P}createSVGElement(e,t){const r=document.createElementNS(Zr.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,n){const i=document.createElementNS(Zr.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",n.toString()),i.setAttributeNS(null,"fill","#000000"),i}}Zr.QUIET_ZONE_SIZE=4,Zr.SVG_NS="http://www.w3.org/2000/svg";class ln{encode(e,t,r,n,i){if(e.length===0)throw new m("Found empty contents");if(t!==le.QR_CODE)throw new m("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new m(`Requested dimensions are too small: ${r}x${n}`);let o=et.L,l=ln.QUIET_ZONE_SIZE;i!==null&&(i.get(mt.ERROR_CORRECTION)!==void 0&&(o=et.fromString(i.get(mt.ERROR_CORRECTION).toString())),i.get(mt.MARGIN)!==void 0&&(l=Number.parseInt(i.get(mt.MARGIN).toString(),10)));const f=nt.encode(e,o,i);return ln.renderResult(f,r,n,l)}static renderResult(e,t,r,n){const i=e.getMatrix();if(i===null)throw new Tt;const o=i.getWidth(),l=i.getHeight(),f=o+n*2,g=l+n*2,C=Math.max(t,f),b=Math.max(r,g),I=Math.min(Math.floor(C/f),Math.floor(b/g)),R=Math.floor((C-o*I)/2),k=Math.floor((b-l*I)/2),P=new ie(C,b);for(let Y=0,K=k;Y<l;Y++,K+=I)for(let oe=0,ce=R;oe<o;oe++,ce+=I)i.get(oe,Y)===1&&P.setRegion(ce,K,I,I);return P}}ln.QUIET_ZONE_SIZE=4;class i1{encode(e,t,r,n,i){let o;switch(t){case le.QR_CODE:o=new ln;break;default:throw new m("No encoder available for format "+t)}return o.encode(e,t,r,n,i)}}class pr extends _e{constructor(e,t,r,n,i,o,l,f){if(super(o,l),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=n,this.top=i,n+o>t||i+l>r)throw new m("Crop rectangle does not fit within image data.");f&&this.reverseHorizontal(o,l)}getRow(e,t){if(e<0||e>=this.getHeight())throw new m("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return D.arraycopy(this.yuvData,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return D.arraycopy(this.yuvData,i,n,0,r),n;for(let o=0;o<t;o++){const l=o*e;D.arraycopy(this.yuvData,i,n,l,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new pr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,n,!1)}renderThumbnail(){const e=this.getWidth()/pr.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/pr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),n=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let o=0;o<t;o++){const l=o*e;for(let f=0;f<e;f++){const g=n[i+f*pr.THUMBNAIL_SCALE_FACTOR]&255;r[l+f]=4278190080|g*65793}i+=this.dataWidth*pr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/pr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/pr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let n=0,i=this.top*this.dataWidth+this.left;n<t;n++,i+=this.dataWidth){const o=i+e/2;for(let l=i,f=i+e-1;l<o;l++,f--){const g=r[l];r[l]=r[f],r[f]=g}}}invert(){return new Ne(this)}}pr.THUMBNAIL_SCALE_FACTOR=2;class Ui extends _e{constructor(e,t,r,n,i,o,l){if(super(t,r),this.dataWidth=n,this.dataHeight=i,this.left=o,this.top=l,e.BYTES_PER_ELEMENT===4){const f=t*r,g=new Uint8ClampedArray(f);for(let C=0;C<f;C++){const b=e[C],I=b>>16&255,R=b>>7&510,k=b&255;g[C]=(I+R+k)/4&255}this.luminances=g}else this.luminances=e;if(n===void 0&&(this.dataWidth=t),i===void 0&&(this.dataHeight=r),o===void 0&&(this.left=0),l===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new m("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return D.arraycopy(this.luminances,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return D.arraycopy(this.luminances,i,n,0,r),n;for(let o=0;o<t;o++){const l=o*e;D.arraycopy(this.luminances,i,n,l,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Ui(this.luminances,r,n,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new Ne(this)}}class ws extends W{static forName(e){return this.getCharacterSetECIByName(e)}}class Hi{}Hi.ISO_8859_1=W.ISO8859_1;class ms{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class ys{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class s1{constructor(e){this.previous=e}getPrevious(){return this.previous}}class un extends s1{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new un(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new un(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+T.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class zi extends un{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new zi(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function o1(y,e,t){return new zi(y,e,t)}function On(y,e,t){return new un(y,e,t)}const a1=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Hr=0,ni=1,rr=2,bs=3,Cr=4,c1=new un(null,0,0),ji=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function l1(y){for(let e of y)S.fill(e,-1);return y[Hr][Cr]=0,y[ni][Cr]=0,y[ni][Hr]=28,y[bs][Cr]=0,y[rr][Cr]=0,y[rr][Hr]=15,y}const vs=l1(S.createInt32Array(6,6));class Er{constructor(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,n=this.token;if(e!==this.mode){let o=ji[this.mode][e];n=On(n,o&65535,o>>16),r+=o>>16}let i=e===rr?4:5;return n=On(n,t,i),new Er(n,e,0,r+i)}shiftAndAppend(e,t){let r=this.token,n=this.mode===rr?4:5;return r=On(r,vs[this.mode][e],n),r=On(r,t,5),new Er(r,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,n=this.bitCount;if(this.mode===Cr||this.mode===rr){let l=ji[r][Hr];t=On(t,l&65535,l>>16),n+=l>>16,r=Hr}let i=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,o=new Er(t,r,this.binaryShiftByteCount+1,n+i);return o.binaryShiftByteCount===2078&&(o=o.endBinaryShift(e+1)),o}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=o1(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Er(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(ji[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=Er.calculateBinaryShiftCost(e)-Er.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let n=this.endBinaryShift(e.length).token;n!==null;n=n.getPrevious())t.unshift(n);let r=new M;for(const n of t)n.appendTo(r,e);return r}toString(){return G.format("%s bits=%d bytes=%d",a1[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Er.INITIAL_STATE=new Er(c1,Hr,0,0);function u1(y){const e=G.getCharCode(" "),t=G.getCharCode("."),r=G.getCharCode(",");y[Hr][e]=1;const n=G.getCharCode("Z"),i=G.getCharCode("A");for(let I=i;I<=n;I++)y[Hr][I]=I-i+2;y[ni][e]=1;const o=G.getCharCode("z"),l=G.getCharCode("a");for(let I=l;I<=o;I++)y[ni][I]=I-l+2;y[rr][e]=1;const f=G.getCharCode("9"),g=G.getCharCode("0");for(let I=g;I<=f;I++)y[rr][I]=I-g+2;y[rr][r]=12,y[rr][t]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<C.length;I++)y[bs][G.getCharCode(C[I])]=I;const b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<b.length;I++)G.getCharCode(b[I])>0&&(y[Cr][G.getCharCode(b[I])]=I);return y}const Wi=u1(S.createInt32Array(5,256));class Mn{constructor(e){this.text=e}encode(){const e=G.getCharCode(" "),t=G.getCharCode(`
`);let r=ys.singletonList(Er.INITIAL_STATE);for(let i=0;i<this.text.length;i++){let o,l=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case G.getCharCode("\r"):o=l===t?2:0;break;case G.getCharCode("."):o=l===e?3:0;break;case G.getCharCode(","):o=l===e?4:0;break;case G.getCharCode(":"):o=l===e?5:0;break;default:o=0}o>0?(r=Mn.updateStateListForPair(r,i,o),i++):r=this.updateStateListForChar(r,i)}return ys.min(r,(i,o)=>i.getBitCount()-o.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let n of e)this.updateStateForChar(n,t,r);return Mn.simplifyStates(r)}updateStateForChar(e,t,r){let n=this.text[t]&255,i=Wi[e.getMode()][n]>0,o=null;for(let l=0;l<=Cr;l++){let f=Wi[l][n];if(f>0){if(o==null&&(o=e.endBinaryShift(t)),!i||l===e.getMode()||l===rr){const g=o.latchAndAppend(l,f);r.push(g)}if(!i&&vs[e.getMode()][l]>=0){const g=o.shiftAndAppend(l,f);r.push(g)}}}if(e.getBinaryShiftByteCount()>0||Wi[e.getMode()][n]===0){let l=e.addBinaryShiftChar(t);r.push(l)}}static updateStateListForPair(e,t,r){const n=[];for(let i of e)this.updateStateForPair(i,t,r,n);return this.simplifyStates(n)}static updateStateForPair(e,t,r,n){let i=e.endBinaryShift(t);if(n.push(i.latchAndAppend(Cr,r)),e.getMode()!==Cr&&n.push(i.shiftAndAppend(Cr,r)),r===3||r===4){let o=i.latchAndAppend(rr,16-r).latchAndAppend(rr,1);n.push(o)}if(e.getBinaryShiftByteCount()>0){let o=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(o)}}static simplifyStates(e){let t=[];for(const r of e){let n=!0;for(const i of t){if(i.isBetterThanOrEqualTo(r)){n=!1;break}r.isBetterThanOrEqualTo(i)&&(t=t.filter(o=>o!==i))}n&&t.push(r)}return t}}class ze{constructor(){}static encodeBytes(e){return ze.encode(e,ze.DEFAULT_EC_PERCENT,ze.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let n=new Mn(e).encode(),i=T.truncDivision(n.getSize()*t,100)+11,o=n.getSize()+i,l,f,g,C,b;if(r!==ze.DEFAULT_AZTEC_LAYERS){if(l=r<0,f=Math.abs(r),f>(l?ze.MAX_NB_BITS_COMPACT:ze.MAX_NB_BITS))throw new m(G.format("Illegal value %s for layers",r));g=ze.totalBitsInLayer(f,l),C=ze.WORD_SIZE[f];let se=g-g%C;if(b=ze.stuffBits(n,C),b.getSize()+i>se)throw new m("Data to large for user specified layer");if(l&&b.getSize()>C*64)throw new m("Data to large for user specified layer")}else{C=0,b=null;for(let se=0;;se++){if(se>ze.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(l=se<=3,f=l?se+1:se,g=ze.totalBitsInLayer(f,l),o>g)continue;(b==null||C!==ze.WORD_SIZE[f])&&(C=ze.WORD_SIZE[f],b=ze.stuffBits(n,C));let Le=g-g%C;if(!(l&&b.getSize()>C*64)&&b.getSize()+i<=Le)break}}let I=ze.generateCheckWords(b,g,C),R=b.getSize()/C,k=ze.generateModeMessage(l,f,R),P=(l?11:14)+f*4,Y=new Int32Array(P),K;if(l){K=P;for(let se=0;se<Y.length;se++)Y[se]=se}else{K=P+1+2*T.truncDivision(T.truncDivision(P,2)-1,15);let se=T.truncDivision(P,2),Le=T.truncDivision(K,2);for(let Be=0;Be<se;Be++){let jt=Be+T.truncDivision(Be,15);Y[se-Be-1]=Le-jt-1,Y[se+Be]=Le+jt+1}}let oe=new ie(K);for(let se=0,Le=0;se<f;se++){let Be=(f-se)*4+(l?9:12);for(let jt=0;jt<Be;jt++){let cr=jt*2;for(let Wt=0;Wt<2;Wt++)I.get(Le+cr+Wt)&&oe.set(Y[se*2+Wt],Y[se*2+jt]),I.get(Le+Be*2+cr+Wt)&&oe.set(Y[se*2+jt],Y[P-1-se*2-Wt]),I.get(Le+Be*4+cr+Wt)&&oe.set(Y[P-1-se*2-Wt],Y[P-1-se*2-jt]),I.get(Le+Be*6+cr+Wt)&&oe.set(Y[P-1-se*2-jt],Y[se*2+Wt])}Le+=Be*8}if(ze.drawModeMessage(oe,l,K,k),l)ze.drawBullsEye(oe,T.truncDivision(K,2),5);else{ze.drawBullsEye(oe,T.truncDivision(K,2),7);for(let se=0,Le=0;se<T.truncDivision(P,2)-1;se+=15,Le+=16)for(let Be=T.truncDivision(K,2)&1;Be<K;Be+=2)oe.set(T.truncDivision(K,2)-Le,Be),oe.set(T.truncDivision(K,2)+Le,Be),oe.set(Be,T.truncDivision(K,2)-Le),oe.set(Be,T.truncDivision(K,2)+Le)}let ce=new ms;return ce.setCompact(l),ce.setSize(K),ce.setLayers(f),ce.setCodeWords(R),ce.setMatrix(oe),ce}static drawBullsEye(e,t,r){for(let n=0;n<r;n+=2)for(let i=t-n;i<=t+n;i++)e.set(i,t-n),e.set(i,t+n),e.set(t-n,i),e.set(t+n,i);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let n=new M;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=ze.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=ze.generateCheckWords(n,40,4)),n}static drawModeMessage(e,t,r,n){let i=T.truncDivision(r,2);if(t)for(let o=0;o<7;o++){let l=i-3+o;n.get(o)&&e.set(l,i-5),n.get(o+7)&&e.set(i+5,l),n.get(20-o)&&e.set(l,i+5),n.get(27-o)&&e.set(i-5,l)}else for(let o=0;o<10;o++){let l=i-5+o+T.truncDivision(o,5);n.get(o)&&e.set(l,i-7),n.get(o+10)&&e.set(i+7,l),n.get(29-o)&&e.set(l,i+7),n.get(39-o)&&e.set(i-7,l)}}static generateCheckWords(e,t,r){let n=e.getSize()/r,i=new Pi(ze.getGF(r)),o=T.truncDivision(t,r),l=ze.bitsToWords(e,r,o);i.encode(l,o-n);let f=t%r,g=new M;g.appendBits(0,f);for(const C of Array.from(l))g.appendBits(C,r);return g}static bitsToWords(e,t,r){let n=new Int32Array(r),i,o;for(i=0,o=e.getSize()/t;i<o;i++){let l=0;for(let f=0;f<t;f++)l|=e.get(i*t+f)?1<<t-f-1:0;n[i]=l}return n}static getGF(e){switch(e){case 4:return ve.AZTEC_PARAM;case 6:return ve.AZTEC_DATA_6;case 8:return ve.AZTEC_DATA_8;case 10:return ve.AZTEC_DATA_10;case 12:return ve.AZTEC_DATA_12;default:throw new m("Unsupported word size "+e)}}static stuffBits(e,t){let r=new M,n=e.getSize(),i=(1<<t)-2;for(let o=0;o<n;o+=t){let l=0;for(let f=0;f<t;f++)(o+f>=n||e.get(o+f))&&(l|=1<<t-1-f);(l&i)===i?(r.appendBits(l&i,t),o--):l&i?r.appendBits(l,t):(r.appendBits(l|1,t),o--)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ze.DEFAULT_EC_PERCENT=33,ze.DEFAULT_AZTEC_LAYERS=0,ze.MAX_NB_BITS=32,ze.MAX_NB_BITS_COMPACT=4,ze.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ii{encode(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)}encodeWithHints(e,t,r,n,i){let o=Hi.ISO_8859_1,l=ze.DEFAULT_EC_PERCENT,f=ze.DEFAULT_AZTEC_LAYERS;return i!=null&&(i.has(mt.CHARACTER_SET)&&(o=ws.forName(i.get(mt.CHARACTER_SET).toString())),i.has(mt.ERROR_CORRECTION)&&(l=T.parseInt(i.get(mt.ERROR_CORRECTION).toString())),i.has(mt.AZTEC_LAYERS)&&(f=T.parseInt(i.get(mt.AZTEC_LAYERS).toString()))),ii.encodeLayers(e,t,r,n,o,l,f)}static encodeLayers(e,t,r,n,i,o,l){if(t!==le.AZTEC)throw new m("Can only encode AZTEC, but got "+t);let f=ze.encode(G.getBytes(e,i),o,l);return ii.renderResult(f,r,n)}static renderResult(e,t,r){let n=e.getMatrix();if(n==null)throw new Tt;let i=n.getWidth(),o=n.getHeight(),l=Math.max(t,i),f=Math.max(r,o),g=Math.min(l/i,f/o),C=(l-i*g)/2,b=(f-o*g)/2,I=new ie(l,f);for(let R=0,k=b;R<o;R++,k+=g)for(let P=0,Y=C;P<i;P++,Y+=g)n.get(P,R)&&I.setRegion(Y,k,g,g);return I}}a.AbstractExpandedDecoder=Di,a.ArgumentException=E,a.ArithmeticException=Et,a.AztecCode=ms,a.AztecCodeReader=ar,a.AztecCodeWriter=ii,a.AztecDecoder=We,a.AztecDetector=bn,a.AztecDetectorResult=or,a.AztecEncoder=ze,a.AztecHighLevelEncoder=Mn,a.AztecPoint=bt,a.BarcodeFormat=le,a.Binarizer=B,a.BinaryBitmap=v,a.BitArray=M,a.BitMatrix=ie,a.BitSource=Oi,a.BrowserAztecCodeReader=Gr,a.BrowserBarcodeReader=za,a.BrowserCodeReader=te,a.BrowserDatamatrixCodeReader=Wa,a.BrowserMultiFormatReader=e1,a.BrowserPDF417Reader=t1,a.BrowserQRCodeReader=r1,a.BrowserQRCodeSvgWriter=Zr,a.CharacterSetECI=W,a.ChecksumException=_,a.Code128Reader=ue,a.Code39Reader=ht,a.DataMatrixDecodedBitStreamParser=Lr,a.DataMatrixReader=kr,a.DecodeHintType=U,a.DecoderResult=Ct,a.DefaultGridSampler=Or,a.DetectorResult=Bt,a.EAN13Reader=xr,a.EncodeHintType=mt,a.Exception=x,a.FormatException=L,a.GenericGF=ve,a.GenericGFPoly=je,a.GlobalHistogramBinarizer=Ae,a.GridSampler=rn,a.GridSamplerInstance=dr,a.HTMLCanvasElementLuminanceSource=ye,a.HybridBinarizer=he,a.ITFReader=Ze,a.IllegalArgumentException=m,a.IllegalStateException=Tt,a.InvertedLuminanceSource=Ne,a.LuminanceSource=_e,a.MathUtils=Fe,a.MultiFormatOneDReader=an,a.MultiFormatReader=Es,a.MultiFormatWriter=i1,a.NotFoundException=j,a.OneDReader=ft,a.PDF417DecodedBitStreamParser=Q,a.PDF417DecoderErrorCorrection=ds,a.PDF417Reader=Mt,a.PDF417ResultMetadata=gs,a.PerspectiveTransform=yt,a.PlanarYUVLuminanceSource=pr,a.QRCodeByteMatrix=ri,a.QRCodeDataMask=er,a.QRCodeDecodedBitStreamParser=ct,a.QRCodeDecoderErrorCorrectionLevel=et,a.QRCodeDecoderFormatInformation=Lt,a.QRCodeEncoder=nt,a.QRCodeEncoderQRCode=qr,a.QRCodeMaskUtil=xt,a.QRCodeMatrixUtil=me,a.QRCodeMode=we,a.QRCodeReader=Pr,a.QRCodeVersion=Ee,a.QRCodeWriter=ln,a.RGBLuminanceSource=Ui,a.RSS14Reader=dt,a.RSSExpandedReader=ne,a.ReaderException=ti,a.ReedSolomonDecoder=sr,a.ReedSolomonEncoder=Pi,a.ReedSolomonException=lt,a.Result=ee,a.ResultMetadataType=pe,a.ResultPoint=de,a.StringUtils=G,a.UnsupportedOperationException=H,a.VideoInputDevice=$,a.WhiteRectangleDetector=Ut,a.WriterException=Ke,a.ZXingArrays=S,a.ZXingCharset=ws,a.ZXingInteger=T,a.ZXingStandardCharsets=Hi,a.ZXingStringBuilder=X,a.ZXingStringEncoding=V,a.ZXingSystem=D,a.createAbstractExpandedDecoder=fs,Object.defineProperty(a,"__esModule",{value:!0})})})(V0,V0.exports);var it=V0.exports;const du=aa(it),xu=d1({__proto__:null,default:du},[it]);var Io=function(){function s(c,a,u){if(this.formatMap=new Map([[ge.QR_CODE,it.BarcodeFormat.QR_CODE],[ge.AZTEC,it.BarcodeFormat.AZTEC],[ge.CODABAR,it.BarcodeFormat.CODABAR],[ge.CODE_39,it.BarcodeFormat.CODE_39],[ge.CODE_93,it.BarcodeFormat.CODE_93],[ge.CODE_128,it.BarcodeFormat.CODE_128],[ge.DATA_MATRIX,it.BarcodeFormat.DATA_MATRIX],[ge.MAXICODE,it.BarcodeFormat.MAXICODE],[ge.ITF,it.BarcodeFormat.ITF],[ge.EAN_13,it.BarcodeFormat.EAN_13],[ge.EAN_8,it.BarcodeFormat.EAN_8],[ge.PDF_417,it.BarcodeFormat.PDF_417],[ge.RSS_14,it.BarcodeFormat.RSS_14],[ge.RSS_EXPANDED,it.BarcodeFormat.RSS_EXPANDED],[ge.UPC_A,it.BarcodeFormat.UPC_A],[ge.UPC_E,it.BarcodeFormat.UPC_E],[ge.UPC_EAN_EXTENSION,it.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!xu)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=a,this.logger=u;var d=this.createZXingFormats(c),h=new Map;h.set(it.DecodeHintType.POSSIBLE_FORMATS,d),h.set(it.DecodeHintType.TRY_HARDER,!1),this.hints=h}return s.prototype.decodeAsync=function(c){var a=this;return new Promise(function(u,d){try{u(a.decode(c))}catch(h){d(h)}})},s.prototype.decode=function(c){var a=new it.MultiFormatReader(this.verbose,this.hints),u=new it.HTMLCanvasElementLuminanceSource(c),d=new it.BinaryBitmap(new it.HybridBinarizer(u)),h=a.decode(d);return{text:h.text,format:Na.create(this.toHtml5QrcodeSupportedFormats(h.format)),debugData:this.createDebugData()}},s.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(a,u,d){c.set(a,u)}),c},s.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},s.prototype.createZXingFormats=function(c){for(var a=[],u=0,d=c;u<d.length;u++){var h=d[u];this.formatMap.has(h)?a.push(this.formatMap.get(h)):this.logger.logError("".concat(h," is not supported by")+"ZXingHtml5QrcodeShim")}return a},s.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},s}(),gu=function(s,c,a,u){function d(h){return h instanceof a?h:new a(function(A){A(h)})}return new(a||(a=Promise))(function(h,A){function p(E){try{x(u.next(E))}catch(m){A(m)}}function w(E){try{x(u.throw(E))}catch(m){A(m)}}function x(E){E.done?h(E.value):d(E.value).then(p,w)}x((u=u.apply(s,c||[])).next())})},Au=function(s,c){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,d,h,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(x){return function(E){return w([x,E])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;A&&(A=0,x[0]&&(a=0)),a;)try{if(u=1,d&&(h=x[0]&2?d.return:x[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,x[1])).done)return h;switch(d=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,d=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){a.label=x[1];break}if(x[0]===6&&a.label<h[1]){a.label=h[1],h=x;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(x);break}h[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(s,a)}catch(E){x=[6,E],d=0}finally{u=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},So=function(){function s(c,a,u){if(this.formatMap=new Map([[ge.QR_CODE,"qr_code"],[ge.AZTEC,"aztec"],[ge.CODABAR,"codabar"],[ge.CODE_39,"code_39"],[ge.CODE_93,"code_93"],[ge.CODE_128,"code_128"],[ge.DATA_MATRIX,"data_matrix"],[ge.ITF,"itf"],[ge.EAN_13,"ean_13"],[ge.EAN_8,"ean_8"],[ge.PDF_417,"pdf417"],[ge.UPC_A,"upc_a"],[ge.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!s.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=a,this.logger=u;var d=this.createBarcodeDetectorFormats(c);if(this.detector=new BarcodeDetector(d),!this.detector)throw"BarcodeDetector detector not supported"}return s.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var c=new BarcodeDetector({formats:["qr_code"]});return typeof c<"u"},s.prototype.decodeAsync=function(c){return gu(this,void 0,void 0,function(){var a,u;return Au(this,function(d){switch(d.label){case 0:return[4,this.detector.detect(c)];case 1:if(a=d.sent(),!a||a.length===0)throw"No barcode or QR code detected.";return u=this.selectLargestBarcode(a),[2,{text:u.rawValue,format:Na.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}]}})})},s.prototype.selectLargestBarcode=function(c){for(var a=null,u=0,d=0,h=c;d<h.length;d++){var A=h[d],p=A.boundingBox.width*A.boundingBox.height;p>u&&(u=p,a=A)}if(!a)throw"No largest barcode found";return a},s.prototype.createBarcodeDetectorFormats=function(c){for(var a=[],u=0,d=c;u<d.length;u++){var h=d[u];this.formatMap.has(h)?a.push(this.formatMap.get(h)):this.logger.warn("".concat(h," is not supported by")+"BarcodeDetectorDelegate")}return{formats:a}},s.prototype.toHtml5QrcodeSupportedFormats=function(c){if(!this.reverseFormatMap.has(c))throw"reverseFormatMap doesn't have ".concat(c);return this.reverseFormatMap.get(c)},s.prototype.createReverseFormatMap=function(){var c=new Map;return this.formatMap.forEach(function(a,u,d){c.set(a,u)}),c},s.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},s}(),_o=function(s,c,a,u){function d(h){return h instanceof a?h:new a(function(A){A(h)})}return new(a||(a=Promise))(function(h,A){function p(E){try{x(u.next(E))}catch(m){A(m)}}function w(E){try{x(u.throw(E))}catch(m){A(m)}}function x(E){E.done?h(E.value):d(E.value).then(p,w)}x((u=u.apply(s,c||[])).next())})},Do=function(s,c){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,d,h,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(x){return function(E){return w([x,E])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;A&&(A=0,x[0]&&(a=0)),a;)try{if(u=1,d&&(h=x[0]&2?d.return:x[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,x[1])).done)return h;switch(d=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,d=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){a.label=x[1];break}if(x[0]===6&&a.label<h[1]){a.label=h[1],h=x;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(x);break}h[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(s,a)}catch(E){x=[6,E],d=0}finally{u=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},pu=function(){function s(c,a,u,d){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=u,a&&So.isSupported()?(this.primaryDecoder=new So(c,u,d),this.secondaryDecoder=new Io(c,u,d)):this.primaryDecoder=new Io(c,u,d)}return s.prototype.decodeAsync=function(c){return _o(this,void 0,void 0,function(){var a;return Do(this,function(u){switch(u.label){case 0:a=performance.now(),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(c)];case 2:return[2,u.sent()];case 3:return this.possiblyLogPerformance(a),[7];case 4:return[2]}})})},s.prototype.decodeRobustlyAsync=function(c){return _o(this,void 0,void 0,function(){var a,u;return Do(this,function(d){switch(d.label){case 0:a=performance.now(),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(c)];case 2:return[2,d.sent()];case 3:if(u=d.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(c)];throw u;case 4:return this.possiblyLogPerformance(a),[7];case 5:return[2]}})})},s.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},s.prototype.possiblyLogPerformance=function(c){if(this.verbose){var a=performance.now()-c;this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()}},s.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var c=0,a=0,u=this.executionResults;a<u.length;a++){var d=u[a];c+=d}var h=c/this.executionResults.length;console.log("".concat(h," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},s}(),ls=function(){var s=function(c,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])},s(c,a)};return function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");s(c,a);function u(){this.constructor=c}c.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),Ci=function(s,c,a,u){function d(h){return h instanceof a?h:new a(function(A){A(h)})}return new(a||(a=Promise))(function(h,A){function p(E){try{x(u.next(E))}catch(m){A(m)}}function w(E){try{x(u.throw(E))}catch(m){A(m)}}function x(E){E.done?h(E.value):d(E.value).then(p,w)}x((u=u.apply(s,c||[])).next())})},Ei=function(s,c){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,d,h,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(x){return function(E){return w([x,E])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;A&&(A=0,x[0]&&(a=0)),a;)try{if(u=1,d&&(h=x[0]&2?d.return:x[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,x[1])).done)return h;switch(d=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,d=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){a.label=x[1];break}if(x[0]===6&&a.label<h[1]){a.label=h[1],h=x;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(x);break}h[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(s,a)}catch(E){x=[6,E],d=0}finally{u=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Fa=function(){function s(c,a){this.name=c,this.track=a}return s.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},s.prototype.apply=function(c){var a={};a[this.name]=c;var u={advanced:[a]};return this.track.applyConstraints(u)},s.prototype.value=function(){var c=this.track.getSettings();if(this.name in c){var a=c[this.name];return a}return null},s}(),Cu=function(s){ls(c,s);function c(a,u){return s.call(this,a,u)||this}return c.prototype.min=function(){return this.getCapabilities().min},c.prototype.max=function(){return this.getCapabilities().max},c.prototype.step=function(){return this.getCapabilities().step},c.prototype.apply=function(a){var u={};u[this.name]=a;var d={advanced:[u]};return this.track.applyConstraints(d)},c.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),u=a[this.name];return{min:u.min,max:u.max,step:u.step}},c.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},c}(Fa),Eu=function(s){ls(c,s);function c(a){return s.call(this,"zoom",a)||this}return c}(Cu),wu=function(s){ls(c,s);function c(a){return s.call(this,"torch",a)||this}return c}(Fa),mu=function(){function s(c){this.track=c}return s.prototype.zoomFeature=function(){return new Eu(this.track)},s.prototype.torchFeature=function(){return new wu(this.track)},s}(),yu=function(){function s(c,a,u){this.isClosed=!1,this.parentElement=c,this.mediaStream=a,this.callbacks=u,this.surface=this.createVideoElement(this.parentElement.clientWidth),c.append(this.surface)}return s.prototype.createVideoElement=function(c){var a=document.createElement("video");return a.style.width="".concat(c,"px"),a.style.display="block",a.muted=!0,a.setAttribute("muted","true"),a.playsInline=!0,a},s.prototype.setupSurface=function(){var c=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var a=function(){var u=c.surface.clientWidth,d=c.surface.clientHeight;c.callbacks.onRenderSurfaceReady(u,d),c.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.srcObject=this.mediaStream,this.surface.play()},s.create=function(c,a,u,d){return Ci(this,void 0,void 0,function(){var h,A;return Ei(this,function(p){switch(p.label){case 0:return h=new s(c,a,d),u.aspectRatio?(A={aspectRatio:u.aspectRatio},[4,h.getFirstTrackOrFail().applyConstraints(A)]):[3,2];case 1:p.sent(),p.label=2;case 2:return h.setupSurface(),[2,h]}})})},s.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},s.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},s.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},s.prototype.resume=function(c){this.failIfClosed();var a=this,u=function(){setTimeout(c,200),a.surface.removeEventListener("playing",u)};this.surface.addEventListener("playing",u),this.surface.play()},s.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},s.prototype.getSurface=function(){return this.failIfClosed(),this.surface},s.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},s.prototype.applyVideoConstraints=function(c){return Ci(this,void 0,void 0,function(){return Ei(this,function(a){if("aspectRatio"in c)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(c)]})})},s.prototype.close=function(){if(this.isClosed)return Promise.resolve();var c=this;return new Promise(function(a,u){var d=c.mediaStream.getVideoTracks(),h=d.length,A=0;c.mediaStream.getVideoTracks().forEach(function(p){c.mediaStream.removeTrack(p),p.stop(),++A,A>=h&&(c.isClosed=!0,c.parentElement.removeChild(c.surface),a())})})},s.prototype.getCapabilities=function(){return new mu(this.getFirstTrackOrFail())},s}(),bu=function(){function s(c){this.mediaStream=c}return s.prototype.render=function(c,a,u){return Ci(this,void 0,void 0,function(){return Ei(this,function(d){return[2,yu.create(c,this.mediaStream,a,u)]})})},s.create=function(c){return Ci(this,void 0,void 0,function(){var a,u;return Ei(this,function(d){switch(d.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return a={audio:!1,video:c},[4,navigator.mediaDevices.getUserMedia(a)];case 1:return u=d.sent(),[2,new s(u)]}})})},s}(),To=function(s,c,a,u){function d(h){return h instanceof a?h:new a(function(A){A(h)})}return new(a||(a=Promise))(function(h,A){function p(E){try{x(u.next(E))}catch(m){A(m)}}function w(E){try{x(u.throw(E))}catch(m){A(m)}}function x(E){E.done?h(E.value):d(E.value).then(p,w)}x((u=u.apply(s,c||[])).next())})},Bo=function(s,c){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,d,h,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(x){return function(E){return w([x,E])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;A&&(A=0,x[0]&&(a=0)),a;)try{if(u=1,d&&(h=x[0]&2?d.return:x[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,x[1])).done)return h;switch(d=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,d=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){a.label=x[1];break}if(x[0]===6&&a.label<h[1]){a.label=h[1],h=x;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(x);break}h[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(s,a)}catch(E){x=[6,E],d=0}finally{u=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},vu=function(){function s(){}return s.failIfNotSupported=function(){return To(this,void 0,void 0,function(){return Bo(this,function(c){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new s]})})},s.prototype.create=function(c){return To(this,void 0,void 0,function(){return Bo(this,function(a){return[2,bu.create(c)]})})},s}(),Iu=function(s,c,a,u){function d(h){return h instanceof a?h:new a(function(A){A(h)})}return new(a||(a=Promise))(function(h,A){function p(E){try{x(u.next(E))}catch(m){A(m)}}function w(E){try{x(u.throw(E))}catch(m){A(m)}}function x(E){E.done?h(E.value):d(E.value).then(p,w)}x((u=u.apply(s,c||[])).next())})},Su=function(s,c){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,d,h,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(x){return function(E){return w([x,E])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;A&&(A=0,x[0]&&(a=0)),a;)try{if(u=1,d&&(h=x[0]&2?d.return:x[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,x[1])).done)return h;switch(d=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,d=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){a.label=x[1];break}if(x[0]===6&&a.label<h[1]){a.label=h[1],h=x;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(x);break}h[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(s,a)}catch(E){x=[6,E],d=0}finally{u=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},_u=function(){function s(){}return s.retrieve=function(){if(navigator.mediaDevices)return s.getCamerasFromMediaDevices();var c=MediaStreamTrack;return MediaStreamTrack&&c.getSources?s.getCamerasFromMediaStreamTrack():s.rejectWithError()},s.rejectWithError=function(){var c=gn.unableToQuerySupportedDevices();return s.isHttpsOrLocalhost()||(c=gn.insecureContextCameraQueryError()),Promise.reject(c)},s.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var c=location.host.split(":")[0];return c==="127.0.0.1"||c==="localhost"},s.getCamerasFromMediaDevices=function(){return Iu(this,void 0,void 0,function(){var c,a,u,d,h,A,p;return Su(this,function(w){switch(w.label){case 0:return c=function(x){for(var E=x.getVideoTracks(),m=0,v=E;m<v.length;m++){var _=v[m];_.enabled=!1,_.stop(),x.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return a=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(u=w.sent(),d=[],h=0,A=u;h<A.length;h++)p=A[h],p.kind==="videoinput"&&d.push({id:p.deviceId,label:p.label});return c(a),[2,d]}})})},s.getCamerasFromMediaStreamTrack=function(){return new Promise(function(c,a){var u=function(h){for(var A=[],p=0,w=h;p<w.length;p++){var x=w[p];x.kind==="video"&&A.push({id:x.id,label:x.label})}c(A)},d=MediaStreamTrack;d.getSources(u)})},s}(),gt;(function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.NOT_STARTED=1]="NOT_STARTED",s[s.SCANNING=2]="SCANNING",s[s.PAUSED=3]="PAUSED"})(gt||(gt={}));var Du=function(){function s(){this.state=gt.NOT_STARTED,this.onGoingTransactionNewState=gt.UNKNOWN}return s.prototype.directTransition=function(c){this.failIfTransitionOngoing(),this.validateTransition(c),this.state=c},s.prototype.startTransition=function(c){return this.failIfTransitionOngoing(),this.validateTransition(c),this.onGoingTransactionNewState=c,this},s.prototype.execute=function(){if(this.onGoingTransactionNewState===gt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var c=this.onGoingTransactionNewState;this.onGoingTransactionNewState=gt.UNKNOWN,this.directTransition(c)},s.prototype.cancel=function(){if(this.onGoingTransactionNewState===gt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=gt.UNKNOWN},s.prototype.getState=function(){return this.state},s.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==gt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},s.prototype.validateTransition=function(c){switch(this.state){case gt.UNKNOWN:throw"Transition from unknown is not allowed";case gt.NOT_STARTED:this.failIfNewStateIs(c,[gt.PAUSED]);break;case gt.SCANNING:break;case gt.PAUSED:break}},s.prototype.failIfNewStateIs=function(c,a){for(var u=0,d=a;u<d.length;u++){var h=d[u];if(c===h)throw"Cannot transition from ".concat(this.state," to ").concat(c)}},s}(),Tu=function(){function s(c){this.stateManager=c}return s.prototype.startTransition=function(c){return this.stateManager.startTransition(c)},s.prototype.directTransition=function(c){this.stateManager.directTransition(c)},s.prototype.getState=function(){return this.stateManager.getState()},s.prototype.canScanFile=function(){return this.stateManager.getState()===gt.NOT_STARTED},s.prototype.isScanning=function(){return this.stateManager.getState()!==gt.NOT_STARTED},s.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===gt.SCANNING},s.prototype.isPaused=function(){return this.stateManager.getState()===gt.PAUSED},s}(),Bu=function(){function s(){}return s.create=function(){return new Tu(new Du)},s}(),Nu=function(){var s=function(c,a){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)Object.prototype.hasOwnProperty.call(d,h)&&(u[h]=d[h])},s(c,a)};return function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");s(c,a);function u(){this.constructor=c}c.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),Xt=function(s){Nu(c,s);function c(){return s!==null&&s.apply(this,arguments)||this}return c.DEFAULT_WIDTH=300,c.DEFAULT_WIDTH_OFFSET=2,c.FILE_SCAN_MIN_HEIGHT=300,c.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,c.MIN_QR_BOX_SIZE=50,c.SHADED_LEFT=1,c.SHADED_RIGHT=2,c.SHADED_TOP=3,c.SHADED_BOTTOM=4,c.SHADED_REGION_ELEMENT_ID="qr-shaded-region",c.VERBOSE=!1,c.BORDER_SHADER_DEFAULT_COLOR="#ffffff",c.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",c}(ur),Ou=function(){function s(c,a){this.logger=a,this.fps=Xt.SCAN_DEFAULT_FPS,c?(c.fps&&(this.fps=c.fps),this.disableFlip=c.disableFlip===!0,this.qrbox=c.qrbox,this.aspectRatio=c.aspectRatio,this.videoConstraints=c.videoConstraints):this.disableFlip=Xt.DEFAULT_DISABLE_FLIP}return s.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ra.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},s.prototype.isShadedBoxEnabled=function(){return!wr(this.qrbox)},s.create=function(c,a){return new s(c,a)},s}(),No=function(){function s(c,a){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(c))throw"HTML Element with id=".concat(c," not found");this.elementId=c,this.verbose=!1;var u;typeof a=="boolean"?this.verbose=a===!0:a&&(u=a,this.verbose=u.verbose===!0,u.experimentalFeatures),this.logger=new Ma(this.verbose),this.qrcode=new pu(this.getSupportedFormats(a),this.getUseBarCodeDetectorIfSupported(u),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Bu.create()}return s.prototype.start=function(c,a,u,d){var h=this;if(!c)throw"cameraIdOrConfig is required";if(!u||typeof u!="function")throw"qrCodeSuccessCallback is required and should be a function.";var A;d?A=d:A=this.verbose?this.logger.log:function(){};var p=Ou.create(a,this.logger);this.clearElement();var w=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=w,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:Xt.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var m=this,v=this.stateManagerProxy.startTransition(gt.SCANNING);return new Promise(function(_,B){var D=x?p.videoConstraints:m.createVideoConstraints(c);if(!D){v.cancel(),B("videoConstraints should be defined");return}var N={};(!x||p.aspectRatio)&&(N.aspectRatio=p.aspectRatio);var F={onRenderSurfaceReady:function(S,T){m.setupUi(S,T,p),m.isScanning=!0,m.foreverScan(p,u,A)}};vu.failIfNotSupported().then(function(S){S.create(D).then(function(T){return T.render(h.element,N,F).then(function(M){m.renderedCamera=M,v.execute(),_(null)}).catch(function(M){v.cancel(),B(M)})}).catch(function(T){v.cancel(),B(gn.errorGettingUserMedia(T))})}).catch(function(S){v.cancel(),B(gn.cameraStreamingNotSupported())})})},s.prototype.pause=function(c){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(gt.PAUSED),this.showPausedState(),(wr(c)||c!==!0)&&(c=!1),c&&this.renderedCamera&&this.renderedCamera.pause()},s.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var c=this,a=function(){c.stateManagerProxy.directTransition(gt.SCANNING),c.hidePausedState()};if(!this.renderedCamera.isPaused()){a();return}this.renderedCamera.resume(function(){a()})},s.prototype.getState=function(){return this.stateManagerProxy.getState()},s.prototype.stop=function(){var c=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var a=this.stateManagerProxy.startTransition(gt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var u=function(){if(c.element){var h=document.getElementById(Xt.SHADED_REGION_ELEMENT_ID);h&&c.element.removeChild(h)}},d=this;return this.renderedCamera.close().then(function(){return d.renderedCamera=null,d.element&&(d.element.removeChild(d.canvasElement),d.canvasElement=null),u(),d.qrRegion&&(d.qrRegion=null),d.context&&(d.context=null),a.execute(),d.hidePausedState(),d.isScanning=!1,Promise.resolve()})},s.prototype.scanFile=function(c,a){return this.scanFileV2(c,a).then(function(u){return u.decodedText})},s.prototype.scanFileV2=function(c,a){var u=this;if(!c||!(c instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(wr(a)&&(a=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(d,h){u.possiblyCloseLastScanImageFile(),u.clearElement(),u.lastScanImageFile=URL.createObjectURL(c);var A=new Image;A.onload=function(){var p=A.width,w=A.height,x=document.getElementById(u.elementId),E=x.clientWidth?x.clientWidth:Xt.DEFAULT_WIDTH,m=Math.max(x.clientHeight?x.clientHeight:w,Xt.FILE_SCAN_MIN_HEIGHT),v=u.computeCanvasDrawConfig(p,w,E,m);if(a){var _=u.createCanvasElement(E,m,"qr-canvas-visible");_.style.display="inline-block",x.appendChild(_);var B=_.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=E,B.canvas.height=m,B.drawImage(A,0,0,p,w,v.x,v.y,v.width,v.height)}var D=Xt.FILE_SCAN_HIDDEN_CANVAS_PADDING,N=Math.max(A.width,v.width),F=Math.max(A.height,v.height),S=N+2*D,T=F+2*D,M=u.createCanvasElement(S,T);x.appendChild(M);var z=M.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=S,z.canvas.height=T,z.drawImage(A,0,0,p,w,D,D,N,F);try{u.qrcode.decodeRobustlyAsync(M).then(function(U){d(bo.createFromQrcodeResult(U))}).catch(h)}catch(U){h("QR code parse error, error = ".concat(U))}},A.onerror=h,A.onabort=h,A.onstalled=h,A.onsuspend=h,A.src=URL.createObjectURL(c)})},s.prototype.clear=function(){this.clearElement()},s.getCameras=function(){return _u.retrieve()},s.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},s.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},s.prototype.applyVideoConstraints=function(c){if(c){if(!Ra.isMediaStreamConstraintsValid(c,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(c)},s.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},s.prototype.getSupportedFormats=function(c){var a=[ge.QR_CODE,ge.AZTEC,ge.CODABAR,ge.CODE_39,ge.CODE_93,ge.CODE_128,ge.DATA_MATRIX,ge.MAXICODE,ge.ITF,ge.EAN_13,ge.EAN_8,ge.PDF_417,ge.RSS_14,ge.RSS_EXPANDED,ge.UPC_A,ge.UPC_E,ge.UPC_EAN_EXTENSION];if(!c||typeof c=="boolean"||!c.formatsToSupport)return a;if(!Array.isArray(c.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(c.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var u=[],d=0,h=c.formatsToSupport;d<h.length;d++){var A=h[d];fu(A)?u.push(A):this.logger.warn("Invalid format: ".concat(A," passed in config, ignoring."))}if(u.length===0)throw"None of formatsToSupport match supported values.";return u},s.prototype.getUseBarCodeDetectorIfSupported=function(c){if(wr(c))return!0;if(!wr(c.useBarCodeDetectorIfSupported))return c.useBarCodeDetectorIfSupported!==!1;if(wr(c.experimentalFeatures))return!0;var a=c.experimentalFeatures;return wr(a.useBarCodeDetectorIfSupported)?!0:a.useBarCodeDetectorIfSupported!==!1},s.prototype.validateQrboxSize=function(c,a,u){var d=this,h=u.qrbox;this.validateQrboxConfig(h);var A=this.toQrdimensions(c,a,h),p=function(x){if(x<Xt.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Xt.MIN_QR_BOX_SIZE,"px.")},w=function(x){return x>c&&(d.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=c),x};p(A.width),p(A.height),A.width=w(A.width)},s.prototype.validateQrboxConfig=function(c){if(typeof c!="number"&&typeof c!="function"&&(c.width===void 0||c.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},s.prototype.toQrdimensions=function(c,a,u){if(typeof u=="number")return{width:u,height:u};if(typeof u=="function")try{return u(c,a)}catch(d){throw new Error("qrbox config was passed as a function but it failed with unknown error"+d)}return u},s.prototype.setupUi=function(c,a,u){u.isShadedBoxEnabled()&&this.validateQrboxSize(c,a,u);var d=wr(u.qrbox)?{width:c,height:a}:u.qrbox;this.validateQrboxConfig(d);var h=this.toQrdimensions(c,a,d);h.height>a&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var A=u.isShadedBoxEnabled()&&h.height<=a,p={x:0,y:0,width:c,height:a},w=A?this.getShadedRegionBounds(c,a,h):p,x=this.createCanvasElement(w.width,w.height),E={willReadFrequently:!0},m=x.getContext("2d",E);m.canvas.width=w.width,m.canvas.height=w.height,this.element.append(x),A&&this.possiblyInsertShadingElement(this.element,c,a,h),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=m,this.canvasElement=x},s.prototype.createScannerPausedUiElement=function(c){var a=document.createElement("div");a.innerText=gn.scannerPaused(),a.style.display="none",a.style.position="absolute",a.style.top="0px",a.style.zIndex="1",a.style.background="rgba(9, 9, 9, 0.46)",a.style.color="#FFECEC",a.style.textAlign="center",a.style.width="100%",c.appendChild(a),this.scannerPausedUiElement=a},s.prototype.scanContext=function(c,a){var u=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(d){return c(d.text,bo.createFromQrcodeResult(d)),u.possiblyUpdateShaders(!0),!0}).catch(function(d){u.possiblyUpdateShaders(!1);var h=gn.codeParseError(d);return a(h,Oa.createFrom(h)),!1})},s.prototype.foreverScan=function(c,a,u){var d=this;if(this.shouldScan&&this.renderedCamera){var h=this.renderedCamera.getSurface(),A=h.videoWidth/h.clientWidth,p=h.videoHeight/h.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*A,x=this.qrRegion.height*p,E=this.qrRegion.x*A,m=this.qrRegion.y*p;this.context.drawImage(h,E,m,w,x,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){d.foreverScanTimeout=setTimeout(function(){d.foreverScan(c,a,u)},d.getTimeoutFps(c.fps))};this.scanContext(a,u).then(function(_){!_&&c.disableFlip!==!0?(d.context.translate(d.context.canvas.width,0),d.context.scale(-1,1),d.scanContext(a,u).finally(function(){v()})):v()}).catch(function(_){d.logger.logError("Error happend while scanning context",_),v()})}},s.prototype.createVideoConstraints=function(c){if(typeof c=="string")return{deviceId:{exact:c}};if(typeof c=="object"){var a="facingMode",u="deviceId",d={user:!0,environment:!0},h="exact",A=function(B){if(B in d)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(B,"'")},p=Object.keys(c);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var w=Object.keys(c)[0];if(w!==a&&w!==u)throw"Only '".concat(a,"' and '").concat(u,"' ")+" are supported for 'cameraIdOrConfig'";if(w===a){var x=c.facingMode;if(typeof x=="string"){if(A(x))return{facingMode:x}}else if(typeof x=="object")if(h in x){if(A(x["".concat(h)]))return{facingMode:{exact:x["".concat(h)]}}}else throw"'facingMode' should be string or object with"+" ".concat(h," as key.");else{var E=typeof x;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var m=c.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(h in m)return{deviceId:{exact:m["".concat(h)]}};throw"'deviceId' should be string or object with"+" ".concat(h," as key.")}else{var v=typeof m;throw"Invalid type of 'deviceId' = ".concat(v)}}}var _=typeof c;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},s.prototype.computeCanvasDrawConfig=function(c,a,u,d){if(c<=u&&a<=d){var h=(u-c)/2,A=(d-a)/2;return{x:h,y:A,width:c,height:a}}else{var p=c,w=a;return c>u&&(a=u/c*a,c=u),a>d&&(c=d/a*c,a=d),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(w)+" to ".concat(c,"X").concat(a,".")),this.computeCanvasDrawConfig(c,a,u,d)}},s.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var c=document.getElementById(this.elementId);c&&(c.innerHTML="")},s.prototype.possiblyUpdateShaders=function(c){this.qrMatch!==c&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(a){a.style.backgroundColor=c?Xt.BORDER_SHADER_MATCH_COLOR:Xt.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=c)},s.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},s.prototype.createCanvasElement=function(c,a,u){var d=c,h=a,A=document.createElement("canvas");return A.style.width="".concat(d,"px"),A.style.height="".concat(h,"px"),A.style.display="none",A.id=wr(u)?"qr-canvas":u,A},s.prototype.getShadedRegionBounds=function(c,a,u){if(u.width>c||u.height>a)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(c-u.width)/2,y:(a-u.height)/2,width:u.width,height:u.height}},s.prototype.possiblyInsertShadingElement=function(c,a,u,d){if(!(a-d.width<1||u-d.height<1)){var h=document.createElement("div");h.style.position="absolute";var A=(a-d.width)/2,p=(u-d.height)/2;if(h.style.borderLeft="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderRight="".concat(A,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),h.style.boxSizing="border-box",h.style.top="0px",h.style.bottom="0px",h.style.left="0px",h.style.right="0px",h.id="".concat(Xt.SHADED_REGION_ELEMENT_ID),a-d.width<11||u-d.height<11)this.hasBorderShaders=!1;else{var w=5,x=40;this.insertShaderBorders(h,x,w,-w,null,0,!0),this.insertShaderBorders(h,x,w,-w,null,0,!1),this.insertShaderBorders(h,x,w,null,-w,0,!0),this.insertShaderBorders(h,x,w,null,-w,0,!1),this.insertShaderBorders(h,w,x+w,-w,null,-w,!0),this.insertShaderBorders(h,w,x+w,null,-w,-w,!0),this.insertShaderBorders(h,w,x+w,-w,null,-w,!1),this.insertShaderBorders(h,w,x+w,null,-w,-w,!1),this.hasBorderShaders=!0}c.append(h)}},s.prototype.insertShaderBorders=function(c,a,u,d,h,A,p){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=Xt.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(a,"px"),w.style.height="".concat(u,"px"),d!==null&&(w.style.top="".concat(d,"px")),h!==null&&(w.style.bottom="".concat(h,"px")),p?w.style.left="".concat(A,"px"):w.style.right="".concat(A,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),c.appendChild(w)},s.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},s.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},s.prototype.getTimeoutFps=function(c){return 1e3/c},s}(),us="data:image/svg+xml;base64,",Mu=us+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",Ru=us+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Oo=us+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",Fu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Mo=function(){function s(){}return s.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},s}(),Lu=function(){function s(){this.data=Mo.createDefault();var c=localStorage.getItem(s.LOCAL_STORAGE_KEY);c?this.data=JSON.parse(c):this.reset()}return s.prototype.hasCameraPermissions=function(){return this.data.hasPermission},s.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},s.prototype.setHasPermission=function(c){this.data.hasPermission=c,this.flush()},s.prototype.setLastUsedCameraId=function(c){this.data.lastUsedCameraId=c,this.flush()},s.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},s.prototype.reset=function(){this.data=Mo.createDefault(),this.flush()},s.prototype.flush=function(){localStorage.setItem(s.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},s.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",s}(),ku=function(){function s(){this.infoDiv=document.createElement("div")}return s.prototype.renderInto=function(c){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=vo.poweredBy();var a=document.createElement("a");a.innerText="ScanApp",a.href="https://scanapp.org",a.target="new",a.style.color="white",this.infoDiv.appendChild(a);var u=document.createElement("br"),d=document.createElement("br");this.infoDiv.appendChild(u),this.infoDiv.appendChild(d);var h=document.createElement("a");h.innerText=vo.reportIssues(),h.href="https://github.com/mebjas/html5-qrcode/issues",h.target="new",h.style.color="white",this.infoDiv.appendChild(h),c.appendChild(this.infoDiv)},s.prototype.show=function(){this.infoDiv.style.display="block"},s.prototype.hide=function(){this.infoDiv.style.display="none"},s}(),Pu=function(){function s(c,a){this.isShowingInfoIcon=!0,this.onTapIn=c,this.onTapOut=a,this.infoIcon=document.createElement("img")}return s.prototype.renderInto=function(c){var a=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Oo,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(u){return a.onHoverIn()},this.infoIcon.onmouseout=function(u){return a.onHoverOut()},this.infoIcon.onclick=function(u){return a.onClick()},c.appendChild(this.infoIcon)},s.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},s.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},s.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=Fu,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Oo,this.infoIcon.style.opacity="0.6")},s}(),Uu=function(){function s(){var c=this;this.infoDiv=new ku,this.infoIcon=new Pu(function(){c.infoDiv.show()},function(){c.infoDiv.hide()})}return s.prototype.renderInto=function(c){this.infoDiv.renderInto(c),this.infoIcon.renderInto(c)},s}(),Hu=function(s,c,a,u){function d(h){return h instanceof a?h:new a(function(A){A(h)})}return new(a||(a=Promise))(function(h,A){function p(E){try{x(u.next(E))}catch(m){A(m)}}function w(E){try{x(u.throw(E))}catch(m){A(m)}}function x(E){E.done?h(E.value):d(E.value).then(p,w)}x((u=u.apply(s,c||[])).next())})},zu=function(s,c){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,d,h,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(x){return function(E){return w([x,E])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;A&&(A=0,x[0]&&(a=0)),a;)try{if(u=1,d&&(h=x[0]&2?d.return:x[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,x[1])).done)return h;switch(d=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,d=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){a.label=x[1];break}if(x[0]===6&&a.label<h[1]){a.label=h[1],h=x;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(x);break}h[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(s,a)}catch(E){x=[6,E],d=0}finally{u=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ro=function(){function s(){}return s.hasPermissions=function(){return Hu(this,void 0,void 0,function(){var c,a,u,d;return zu(this,function(h){switch(h.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(c=h.sent(),a=0,u=c;a<u.length;a++)if(d=u[a],d.kind==="videoinput"&&d.label)return[2,!0];return[2,!1]}})})},s}(),zr=function(){function s(c){this.supportedScanTypes=this.validateAndReturnScanTypes(c)}return s.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},s.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},s.prototype.isCameraScanRequired=function(){for(var c=0,a=this.supportedScanTypes;c<a.length;c++){var u=a[c];if(s.isCameraScanType(u))return!0}return!1},s.isCameraScanType=function(c){return c===Wr.SCAN_TYPE_CAMERA},s.isFileScanType=function(c){return c===Wr.SCAN_TYPE_FILE},s.prototype.validateAndReturnScanTypes=function(c){if(!c||c.length===0)return ur.DEFAULT_SUPPORTED_SCAN_TYPE;var a=ur.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(c.length>a)throw"Max ".concat(a," values expected for ")+"supportedScanTypes";for(var u=0,d=c;u<d.length;u++){var h=d[u];if(!ur.DEFAULT_SUPPORTED_SCAN_TYPE.includes(h))throw"Unsupported scan type ".concat(h)}return c},s}(),qt=function(){function s(){}return s.ALL_ELEMENT_CLASS="html5-qrcode-element",s.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",s.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",s.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",s.TORCH_BUTTON_ID="html5-qrcode-button-torch",s.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",s.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",s.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",s.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",s.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",s.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",s}(),_r=function(){function s(){}return s.createElement=function(c,a){var u=document.createElement(c);return u.id=a,u.classList.add(qt.ALL_ELEMENT_CLASS),c==="button"&&u.setAttribute("type","button"),u},s}(),La=function(s,c,a,u){function d(h){return h instanceof a?h:new a(function(A){A(h)})}return new(a||(a=Promise))(function(h,A){function p(E){try{x(u.next(E))}catch(m){A(m)}}function w(E){try{x(u.throw(E))}catch(m){A(m)}}function x(E){E.done?h(E.value):d(E.value).then(p,w)}x((u=u.apply(s,c||[])).next())})},ka=function(s,c){var a={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},u,d,h,A;return A={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function p(x){return function(E){return w([x,E])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;A&&(A=0,x[0]&&(a=0)),a;)try{if(u=1,d&&(h=x[0]&2?d.return:x[0]?d.throw||((h=d.return)&&h.call(d),0):d.next)&&!(h=h.call(d,x[1])).done)return h;switch(d=0,h&&(x=[x[0]&2,h.value]),x[0]){case 0:case 1:h=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,d=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(h=a.trys,!(h=h.length>0&&h[h.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!h||x[1]>h[0]&&x[1]<h[3])){a.label=x[1];break}if(x[0]===6&&a.label<h[1]){a.label=h[1],h=x;break}if(h&&a.label<h[2]){a.label=h[2],a.ops.push(x);break}h[2]&&a.ops.pop(),a.trys.pop();continue}x=c.call(s,a)}catch(E){x=[6,E],d=0}finally{u=h=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Fo=function(){function s(c,a,u){this.isTorchOn=!1,this.torchCapability=c,this.buttonController=a,this.onTorchActionFailureCallback=u}return s.prototype.isTorchEnabled=function(){return this.isTorchOn},s.prototype.flipState=function(){return La(this,void 0,void 0,function(){var c,a;return ka(this,function(u){switch(u.label){case 0:this.buttonController.disable(),c=!this.isTorchOn,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.torchCapability.apply(c)];case 2:return u.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),c),[3,4];case 3:return a=u.sent(),this.propagateFailure(c,a),this.buttonController.enable(),[3,4];case 4:return[2]}})})},s.prototype.updateUiBasedOnLatestSettings=function(c,a){c===a?(this.buttonController.setText(a?$e.torchOffButton():$e.torchOnButton()),this.isTorchOn=a):this.propagateFailure(a),this.buttonController.enable()},s.prototype.propagateFailure=function(c,a){var u=c?$e.torchOnFailedMessage():$e.torchOffFailedMessage();a&&(u+="; Error = "+a),this.onTorchActionFailureCallback(u)},s.prototype.reset=function(){this.isTorchOn=!1},s}(),ju=function(){function s(c,a){this.onTorchActionFailureCallback=a,this.torchButton=_r.createElement("button",qt.TORCH_BUTTON_ID),this.torchController=new Fo(c,this,a)}return s.prototype.render=function(c,a){var u=this;this.torchButton.innerText=$e.torchOnButton(),this.torchButton.style.display=a.display,this.torchButton.style.marginLeft=a.marginLeft;var d=this;this.torchButton.addEventListener("click",function(h){return La(u,void 0,void 0,function(){return ka(this,function(A){switch(A.label){case 0:return[4,d.torchController.flipState()];case 1:return A.sent(),d.torchController.isTorchEnabled()?(d.torchButton.classList.remove(qt.TORCH_BUTTON_CLASS_TORCH_OFF),d.torchButton.classList.add(qt.TORCH_BUTTON_CLASS_TORCH_ON)):(d.torchButton.classList.remove(qt.TORCH_BUTTON_CLASS_TORCH_ON),d.torchButton.classList.add(qt.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),c.appendChild(this.torchButton)},s.prototype.updateTorchCapability=function(c){this.torchController=new Fo(c,this,this.onTorchActionFailureCallback)},s.prototype.getTorchButton=function(){return this.torchButton},s.prototype.hide=function(){this.torchButton.style.display="none"},s.prototype.show=function(){this.torchButton.style.display="inline-block"},s.prototype.disable=function(){this.torchButton.disabled=!0},s.prototype.enable=function(){this.torchButton.disabled=!1},s.prototype.setText=function(c){this.torchButton.innerText=c},s.prototype.reset=function(){this.torchButton.innerText=$e.torchOnButton(),this.torchController.reset()},s.create=function(c,a,u,d){var h=new s(a,d);return h.render(c,u),h},s}(),Wu=function(){function s(c,a,u){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=a?"block":"none",c.appendChild(this.fileBasedScanRegion);var d=document.createElement("label");d.setAttribute("for",this.getFileScanInputId()),d.style.display="inline-block",this.fileBasedScanRegion.appendChild(d),this.fileSelectionButton=_r.createElement("button",qt.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){d.click()}),d.append(this.fileSelectionButton),this.fileScanInput=_r.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",d.appendChild(this.fileScanInput);var h=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var w=p.target;if(!(w.files&&w.files.length===0)){var x=w.files,E=x[0],m=E.name;h.setImageNameToButton(m),u(E)}}});var A=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(A),this.fileBasedScanRegion.addEventListener("dragenter",function(p){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){h.fileBasedScanRegion.style.border=h.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),h.fileBasedScanRegion.style.border=h.fileBasedScanRegionDefaultBorder();var w=p.dataTransfer;if(w){var x=w.files;if(!x||x.length===0)return;for(var E=!1,m=0;m<x.length;++m){var v=x.item(m);if(v){var _=/image.*/;if(v.type.match(_)){E=!0;var B=v.name;h.setImageNameToButton(B),u(v),A.innerText=$e.dragAndDropMessage();break}}}E||(A.innerText=$e.dragAndDropMessageOnlyImages())}})}return s.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},s.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},s.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},s.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},s.prototype.createFileBasedScanRegion=function(){var c=document.createElement("div");return c.style.textAlign="center",c.style.margin="auto",c.style.width="80%",c.style.maxWidth="600px",c.style.border=this.fileBasedScanRegionDefaultBorder(),c.style.padding="10px",c.style.marginBottom="10px",c},s.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},s.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},s.prototype.createDragAndDropMessage=function(){var c=document.createElement("div");return c.innerText=$e.dragAndDropMessage(),c.style.fontWeight="400",c},s.prototype.setImageNameToButton=function(c){var a=20;if(c.length>a){var u=c.substring(0,8),d=c.length,h=c.substring(d-8,d);c="".concat(u,"....").concat(h)}var A=$e.fileSelectionChooseAnother()+" - "+c;this.fileSelectionButton.innerText=A},s.prototype.setInitialValueToButton=function(){var c=$e.fileSelectionChooseImage()+" - "+$e.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=c},s.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},s.create=function(c,a,u){var d=new s(c,a,u);return d},s}(),Vu=function(){function s(c){this.selectElement=_r.createElement("select",qt.CAMERA_SELECTION_SELECT_ID),this.cameras=c,this.options=[]}return s.prototype.render=function(c){var a=document.createElement("span");a.style.marginRight="10px";var u=this.cameras.length;if(u===0)throw new Error("No cameras found");if(u===1)a.style.display="none";else{var d=$e.selectCamera();a.innerText="".concat(d," (").concat(this.cameras.length,")  ")}for(var h=1,A=0,p=this.cameras;A<p.length;A++){var w=p[A],x=w.id,E=w.label==null?x:w.label;(!E||E==="")&&(E=[$e.anonymousCameraPrefix(),h++].join(" "));var m=document.createElement("option");m.value=x,m.innerText=E,this.options.push(m),this.selectElement.appendChild(m)}a.appendChild(this.selectElement),c.appendChild(a)},s.prototype.disable=function(){this.selectElement.disabled=!0},s.prototype.isDisabled=function(){return this.selectElement.disabled===!0},s.prototype.enable=function(){this.selectElement.disabled=!1},s.prototype.getValue=function(){return this.selectElement.value},s.prototype.hasValue=function(c){for(var a=0,u=this.options;a<u.length;a++){var d=u[a];if(d.value===c)return!0}return!1},s.prototype.setValue=function(c){if(!this.hasValue(c))throw new Error("".concat(c," is not present in the camera list."));this.selectElement.value=c},s.prototype.hasSingleItem=function(){return this.cameras.length===1},s.prototype.numCameras=function(){return this.cameras.length},s.create=function(c,a){var u=new s(a);return u.render(c),u},s}(),Gu=function(){function s(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=_r.createElement("input",qt.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return s.prototype.render=function(c,a){this.zoomElementContainer.style.display=a?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",c.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var u=$e.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(u),this.rangeText.style.marginRight="10px";var d=this;this.rangeInput.addEventListener("input",function(){return d.onValueChange()}),this.rangeInput.addEventListener("change",function(){return d.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},s.prototype.onValueChange=function(){var c=$e.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(c),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},s.prototype.setValues=function(c,a,u,d){this.rangeInput.min=c.toString(),this.rangeInput.max=a.toString(),this.rangeInput.step=d.toString(),this.rangeInput.value=u.toString(),this.onValueChange()},s.prototype.show=function(){this.zoomElementContainer.style.display="block"},s.prototype.hide=function(){this.zoomElementContainer.style.display="none"},s.prototype.setOnCameraZoomValueChangeCallback=function(c){this.onChangeCallback=c},s.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},s.create=function(c,a){var u=new s;return u.render(c,a),u},s}(),Yt;(function(s){s[s.STATUS_DEFAULT=0]="STATUS_DEFAULT",s[s.STATUS_SUCCESS=1]="STATUS_SUCCESS",s[s.STATUS_WARNING=2]="STATUS_WARNING",s[s.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Yt||(Yt={}));function Xu(s){return{fps:s.fps,qrbox:s.qrbox,aspectRatio:s.aspectRatio,disableFlip:s.disableFlip,videoConstraints:s.videoConstraints}}function Yu(s,c){return{formatsToSupport:s.formatsToSupport,useBarCodeDetectorIfSupported:s.useBarCodeDetectorIfSupported,experimentalFeatures:s.experimentalFeatures,verbose:c}}var qu=function(){function s(c,a,u){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=c,this.config=this.createConfig(a),this.verbose=u===!0,!document.getElementById(c))throw"HTML Element with id=".concat(c," not found");this.scanTypeSelector=new zr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ma(this.verbose),this.persistedDataManager=new Lu,a.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return s.prototype.render=function(c,a){var u=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(h,A){if(c)c(h,A);else{if(u.lastMatchFound===h)return;u.lastMatchFound=h,u.setHeaderMessage($e.lastMatch(h),Yt.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(h,A){a&&a(h,A)};var d=document.getElementById(this.elementId);if(!d)throw"HTML Element with id=".concat(this.elementId," not found");d.innerHTML="",this.createBasicLayout(d),this.html5Qrcode=new No(this.getScanRegionId(),Yu(this.config,this.verbose))},s.prototype.pause=function(c){(wr(c)||c!==!0)&&(c=!1),this.getHtml5QrcodeOrFail().pause(c)},s.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},s.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},s.prototype.clear=function(){var c=this,a=function(){var u=document.getElementById(c.elementId);u&&(u.innerHTML="",c.resetBasicLayout(u))};return this.html5Qrcode?new Promise(function(u,d){if(!c.html5Qrcode){u();return}c.html5Qrcode.isScanning?c.html5Qrcode.stop().then(function(h){if(!c.html5Qrcode){u();return}c.html5Qrcode.clear(),a(),u()}).catch(function(h){c.verbose&&c.logger.logError("Unable to stop qrcode scanner",h),d(h)}):(c.html5Qrcode.clear(),a(),u())}):Promise.resolve()},s.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},s.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},s.prototype.applyVideoConstraints=function(c){return this.getHtml5QrcodeOrFail().applyVideoConstraints(c)},s.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},s.prototype.createConfig=function(c){return c?(c.fps||(c.fps=ur.SCAN_DEFAULT_FPS),c.rememberLastUsedCamera!==!ur.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(c.rememberLastUsedCamera=ur.DEFAULT_REMEMBER_LAST_CAMERA_USED),c.supportedScanTypes||(c.supportedScanTypes=ur.DEFAULT_SUPPORTED_SCAN_TYPE),c):{fps:ur.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ur.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ur.DEFAULT_SUPPORTED_SCAN_TYPE}},s.prototype.createBasicLayout=function(c){c.style.position="relative",c.style.padding="0px",c.style.border="1px solid silver",this.createHeader(c);var a=document.createElement("div"),u=this.getScanRegionId();a.id=u,a.style.width="100%",a.style.minHeight="100px",a.style.textAlign="center",c.appendChild(a),zr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var d=document.createElement("div"),h=this.getDashboardId();d.id=h,d.style.width="100%",c.appendChild(d),this.setupInitialDashboard(d)},s.prototype.resetBasicLayout=function(c){c.style.border="none"},s.prototype.setupInitialDashboard=function(c){this.createSection(c),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},s.prototype.createHeader=function(c){var a=document.createElement("div");a.style.textAlign="left",a.style.margin="0px",c.appendChild(a);var u=new Uu;u.renderInto(a);var d=document.createElement("div");d.id=this.getHeaderMessageContainerId(),d.style.display="none",d.style.textAlign="center",d.style.fontSize="14px",d.style.padding="2px 10px",d.style.margin="4px",d.style.borderTop="1px solid #f6f6f6",a.appendChild(d)},s.prototype.createSection=function(c){var a=document.createElement("div");a.id=this.getDashboardSectionId(),a.style.width="100%",a.style.padding="10px 0px 10px 0px",a.style.textAlign="left",c.appendChild(a)},s.prototype.createCameraListUi=function(c,a,u){var d=this;d.showHideScanTypeSwapLink(!1),d.setHeaderMessage($e.cameraPermissionRequesting());var h=function(){u||d.createPermissionButton(c,a)};No.getCameras().then(function(A){d.persistedDataManager.setHasPermission(!0),d.showHideScanTypeSwapLink(!0),d.resetHeaderMessage(),A&&A.length>0?(c.removeChild(a),d.renderCameraSelection(A)):(d.setHeaderMessage($e.noCameraFound(),Yt.STATUS_WARNING),h())}).catch(function(A){d.persistedDataManager.setHasPermission(!1),u?u.disabled=!1:h(),d.setHeaderMessage(A,Yt.STATUS_WARNING),d.showHideScanTypeSwapLink(!0)})},s.prototype.createPermissionButton=function(c,a){var u=this,d=_r.createElement("button",this.getCameraPermissionButtonId());d.innerText=$e.cameraPermissionTitle(),d.addEventListener("click",function(){d.disabled=!0,u.createCameraListUi(c,a,d)}),a.appendChild(d)},s.prototype.createPermissionsUi=function(c,a){var u=this;if(zr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Ro.hasPermissions().then(function(d){d?u.createCameraListUi(c,a):(u.persistedDataManager.setHasPermission(!1),u.createPermissionButton(c,a))}).catch(function(d){u.persistedDataManager.setHasPermission(!1),u.createPermissionButton(c,a)});return}this.createPermissionButton(c,a)},s.prototype.createSectionControlPanel=function(){var c=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");c.appendChild(a);var u=document.createElement("div");u.id=this.getDashboardSectionCameraScanRegionId(),u.style.display=zr.isCameraScanType(this.currentScanType)?"block":"none",a.appendChild(u);var d=document.createElement("div");d.style.textAlign="center",u.appendChild(d),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(u,d),this.renderFileScanUi(a)},s.prototype.renderFileScanUi=function(c){var a=zr.isFileScanType(this.currentScanType),u=this,d=function(h){if(!u.html5Qrcode)throw"html5Qrcode not defined";zr.isFileScanType(u.currentScanType)&&(u.setHeaderMessage($e.loadingImage()),u.html5Qrcode.scanFileV2(h,!0).then(function(A){u.resetHeaderMessage(),u.qrCodeSuccessCallback(A.decodedText,A)}).catch(function(A){u.setHeaderMessage(A,Yt.STATUS_WARNING),u.qrCodeErrorCallback(A,Oa.createFrom(A))}))};this.fileSelectionUi=Wu.create(c,a,d)},s.prototype.renderCameraSelection=function(c){var a=this,u=this,d=document.getElementById(this.getDashboardSectionCameraScanRegionId());d.style.textAlign="center";var h=Gu.create(d,!1),A=function(D){var N=D.zoomFeature();if(N.isSupported()){h.setOnCameraZoomValueChangeCallback(function(S){N.apply(S)});var F=1;a.config.defaultZoomValueIfSupported&&(F=a.config.defaultZoomValueIfSupported),F=hu(F,N.min(),N.max()),h.setValues(N.min(),N.max(),F,N.step()),h.show()}},p=Vu.create(d,c),w=document.createElement("span"),x=_r.createElement("button",qt.CAMERA_START_BUTTON_ID);x.innerText=$e.scanButtonStartScanningText(),w.appendChild(x);var E=_r.createElement("button",qt.CAMERA_STOP_BUTTON_ID);E.innerText=$e.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,w.appendChild(E);var m,v=function(D){if(!D.torchFeature().isSupported()){m&&m.hide();return}m?m.updateTorchCapability(D.torchFeature()):m=ju.create(w,D.torchFeature(),{display:"none",marginLeft:"5px"},function(N){u.setHeaderMessage(N,Yt.STATUS_WARNING)}),m.show()};d.appendChild(w);var _=function(D){D||(x.style.display="none"),x.innerText=$e.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,D&&(x.style.display="inline-block")};if(x.addEventListener("click",function(D){x.innerText=$e.scanButtonScanningStarting(),p.disable(),x.disabled=!0,x.style.opacity="0.5",a.scanTypeSelector.hasMoreThanOneScanType()&&u.showHideScanTypeSwapLink(!1),u.resetHeaderMessage();var N=p.getValue();u.persistedDataManager.setLastUsedCameraId(N),u.html5Qrcode.start(N,Xu(u.config),u.qrCodeSuccessCallback,u.qrCodeErrorCallback).then(function(F){E.disabled=!1,E.style.display="inline-block",_(!1);var S=u.html5Qrcode.getRunningTrackCameraCapabilities();a.config.showTorchButtonIfSupported===!0&&v(S),a.config.showZoomSliderIfSupported===!0&&A(S)}).catch(function(F){u.showHideScanTypeSwapLink(!0),p.enable(),_(!0),u.setHeaderMessage(F,Yt.STATUS_WARNING)})}),p.hasSingleItem()&&x.click(),E.addEventListener("click",function(D){if(!u.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,u.html5Qrcode.stop().then(function(N){a.scanTypeSelector.hasMoreThanOneScanType()&&u.showHideScanTypeSwapLink(!0),p.enable(),x.disabled=!1,E.style.display="none",x.style.display="inline-block",m&&(m.reset(),m.hide()),h.removeOnCameraZoomValueChangeCallback(),h.hide(),u.insertCameraScanImageToScanRegion()}).catch(function(N){E.disabled=!1,u.setHeaderMessage(N,Yt.STATUS_WARNING)})}),u.persistedDataManager.getLastUsedCameraId()){var B=u.persistedDataManager.getLastUsedCameraId();p.hasValue(B)?(p.setValue(B),x.click()):u.persistedDataManager.resetLastUsedCameraId()}},s.prototype.createSectionSwap=function(){var c=this,a=$e.textIfCameraScanSelected(),u=$e.textIfFileScanSelected(),d=document.getElementById(this.getDashboardSectionId()),h=document.createElement("div");h.style.textAlign="center";var A=_r.createElement("span",this.getDashboardSectionSwapLinkId());A.style.textDecoration="underline",A.style.cursor="pointer",A.innerText=zr.isCameraScanType(this.currentScanType)?a:u,A.addEventListener("click",function(){if(!c.sectionSwapAllowed){c.verbose&&c.logger.logError("Section swap called when not allowed");return}c.resetHeaderMessage(),c.fileSelectionUi.resetValue(),c.sectionSwapAllowed=!1,zr.isCameraScanType(c.currentScanType)?(c.clearScanRegion(),c.getCameraScanRegion().style.display="none",c.fileSelectionUi.show(),A.innerText=u,c.currentScanType=Wr.SCAN_TYPE_FILE,c.insertFileScanImageToScanRegion()):(c.clearScanRegion(),c.getCameraScanRegion().style.display="block",c.fileSelectionUi.hide(),A.innerText=a,c.currentScanType=Wr.SCAN_TYPE_CAMERA,c.insertCameraScanImageToScanRegion(),c.startCameraScanIfPermissionExistsOnSwap()),c.sectionSwapAllowed=!0}),h.appendChild(A),d.appendChild(h)},s.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var c=this,a=this;if(this.persistedDataManager.hasCameraPermissions()){Ro.hasPermissions().then(function(u){if(u){var d=document.getElementById(a.getCameraPermissionButtonId());if(!d)throw c.logger.logError("Permission button not found, fail;"),"Permission button not found";d.click()}else a.persistedDataManager.setHasPermission(!1)}).catch(function(u){a.persistedDataManager.setHasPermission(!1)});return}},s.prototype.resetHeaderMessage=function(){var c=document.getElementById(this.getHeaderMessageContainerId());c.style.display="none"},s.prototype.setHeaderMessage=function(c,a){a||(a=Yt.STATUS_DEFAULT);var u=this.getHeaderMessageDiv();switch(u.innerText=c,u.style.display="block",a){case Yt.STATUS_SUCCESS:u.style.background="rgba(106, 175, 80, 0.26)",u.style.color="#477735";break;case Yt.STATUS_WARNING:u.style.background="rgba(203, 36, 49, 0.14)",u.style.color="#cb2431";break;case Yt.STATUS_DEFAULT:default:u.style.background="rgba(0, 0, 0, 0)",u.style.color="rgb(17, 17, 17)";break}},s.prototype.showHideScanTypeSwapLink=function(c){this.scanTypeSelector.hasMoreThanOneScanType()&&(c!==!0&&(c=!1),this.sectionSwapAllowed=c,this.getDashboardSectionSwapLink().style.display=c?"inline-block":"none")},s.prototype.insertCameraScanImageToScanRegion=function(){var c=this,a=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){a.innerHTML="<br>",a.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(u){a.innerHTML="<br>",a.appendChild(c.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=Mu,this.cameraScanImage.alt=$e.cameraScanAltText()},s.prototype.insertFileScanImageToScanRegion=function(){var c=this,a=document.getElementById(this.getScanRegionId());if(this.fileScanImage){a.innerHTML="<br>",a.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(u){a.innerHTML="<br>",a.appendChild(c.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=Ru,this.fileScanImage.alt=$e.fileScanAltText()},s.prototype.clearScanRegion=function(){var c=document.getElementById(this.getScanRegionId());c.innerHTML=""},s.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},s.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},s.prototype.getDashboardSectionSwapLinkId=function(){return qt.SCAN_TYPE_CHANGE_ANCHOR_ID},s.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},s.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},s.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},s.prototype.getCameraPermissionButtonId=function(){return qt.CAMERA_PERMISSION_BUTTON_ID},s.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},s.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},s.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},s}(),Zu=Ce("<ul class=inline><li>Camera</li><li>Manual"),$u=Ce('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),Qu=Ce('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><div><p class=" centerBx"></p><p class=" centerBx">'),Ku=Ce("<div id=qr-reader style=width:300px>"),Ju=Ce("<slot name=plans><div></div><div>"),ef=Ce('<div class="_dsplFlx flxWrp spaceAround centerBx">'),tf=Ce('<div><div class="_dsplFlx flxWrp spaceAround centerBx"style=margin-top:15px></div><div class="_dsplFlx flxWrp spaceAround centerBx"style=margin-top:15px></div><div class=tab>'),rf=Ce('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Escanear</h2></div><div style=padding:16px></div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class=centerBx100 style=margin-top:20px>'),nf=Ce("<div class=loader>Loading...");function sf(){const[s,c]=fr({lbs:"",price:0}),[a,u]=fr({lbs:"",price:0}),[d,h]=fr({}),[A,p]=Se(""),[w,x]=Se(),[E,m]=Se(),[v,_]=Se(""),[B,D]=Se(""),[N,F]=Se(""),[S,T]=Se("");let M;const[z,U]=Se(0),[L,q]=E1(),W=$=>()=>q(()=>U($)),H=($,J)=>{c({[$]:J}),T(Cn())};Wn(()=>{X()}),br(()=>x(!1));function V(){return"geolocation"in navigator}function G($){u({latitude:$?.coords?.latitude,longitude:$?.coords?.longitude})}function X(){V()?navigator.geolocation.getCurrentPosition(G):showMessage("Geolocation isn't supported by your browser")}const ie=($,J)=>{_(J),D($),setTimeout(()=>{D("")},5800)},j=$=>{F($),setTimeout(()=>{F("")},8e3)},Ae=($,J)=>{$!==E()&&(m($),setTimeout(()=>{m("")},3e3),he($))},he=$=>{$||($=A()),p("");let J={timeStamp:new Date().getTime(),latitude:a?.latitude,longitude:a?.longitude,statusId:s?.status},te=$.split("/"),ee={idairguide:te?.[0],":search0":te?.[1],":search1":te?.[3]};te.length>4&&te?.[0].length===12?_e(ee,J):ie("El codigo escaneado es incorrecto","error"),M?.focus()},_e=async($,J)=>{let te=await of($),ee=Object.keys(te)?.[0];if(te[ee]?.cidentity){let Ue=te[ee]?.statusHistory||[];if(Ue.push(J),$.ssg_track_key=ee,te[ee]?.street?.split(","),h(te[ee]),j(Cn()),te[ee]?.currentStatus!==J.statusId){let le={statusHistory:Ue,currentStatus:J.statusId};await af($,le)}else ie("Este codigo ya fue escaneado en esta locacion","warning")}else ie("No se encontro este manifiesto","error")},Ne=()=>{x(!0);var $=new qu("qr-reader",{fps:10,qrbox:200});$.render(Ae)};wn(Ae,400);let ye={error:{"--err-bx-color":"var(--background-red-ssg)","--err-bx-bgcolor":"var(--background-red35-ssg)",svg:"var(--err-bx-color)",icon:"alert"},success:{"--err-bx-color":"var(--hrm-palette-tertiary60)","--err-bx-bgcolor":"var(--hrm-palette-tertiary90)",svg:"var(--err-bx-color)",icon:"success"},warning:{"--err-bx-color":"#FF6F1D","--err-bx-bgcolor":"#ffdb99",svg:"var(--err-bx-color)",icon:"info"}};return(()=>{var $=rf(),J=$.firstChild,te=J.nextSibling,ee=te.nextSibling,Ue=ee.nextSibling;return ae(ee,re(ns,{list:mc,lbl_empty:"Funciones de Escaneado",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return s?.status},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",hasDebounce:!1,onSelect:le=>H("status",le.id),width:"260px"})),ae(Ue,re(Ie,{get when(){return s?.status},get children(){return[(()=>{var le=Zu(),rt=le.firstChild,pe=rt.nextSibling;return Os(rt,"click",W(0)),Os(pe,"click",W(1)),tt(Ct=>{var Ge=z()===0,je=z()===1;return Ge!==Ct.e&&rt.classList.toggle("selected",Ct.e=Ge),je!==Ct.t&&pe.classList.toggle("selected",Ct.t=je),Ct},{e:void 0,t:void 0}),le})(),(()=>{var le=tf(),rt=le.firstChild,pe=rt.nextSibling,Ct=pe.nextSibling;return ae(rt,re(Ie,{get when(){return B()},get children(){var Ge=$u(),je=Ge.firstChild,Et=je.nextSibling;return ae(je,re(nr,{get name(){return ye?.[v()]?.icon},size:32,get color(){return ye?.[v()]?.svg}})),ae(Et,B),tt(ve=>Kr(Ge,ye?.[v()],ve)),Ge}})),ae(pe,re(Ie,{get when(){return N()},get children(){var Ge=Qu(),je=Ge.firstChild,Et=je.nextSibling,ve=Et.firstChild,lt=ve.nextSibling;return ae(je,re(nr,{name:"success",size:32,get color(){return ye?.success?.svg}})),ae(ve,()=>d?.consigneeInfo?.ybcity),ae(lt,()=>d?.consigneeInfo?.ybestate),tt(Tt=>Kr(Ge,ye?.success,Tt)),Ge}})),ae(Ct,re(Xn,{get fallback(){return nf()},get children(){return re(B1,{get children(){return[re(Xi,{get when(){return z()===0},get children(){return re(Ie,{get when(){return w()},get fallback(){return re(ml,{color:"rgb(200 25 60 / .9)",label:"scannear",handleClick:Ne})},get children(){var Ge=Ju(),je=Ge.firstChild,Et=je.nextSibling;return Ge._$owner=mi(),ae(Ge,re(Ie,{get when(){return w()},get children(){return Ku()}}),Et),Ge}})}}),re(Xi,{get when(){return z()===1},get children(){var Ge=ef();return ae(Ge,re(Q0,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--hrm-palette-tertiary80)",ref(je){var Et=M;typeof Et=="function"?Et(je):M=je},get value(){return A()},placeholder:"codigo ...",colors:"#2b2b2b",handleClick:p,onEnter:he})),Ge}}),re(Xi,{get when(){return z()===2},get children(){return re(Child,{page:"Tres"})}})]}})}})),tt(()=>Ct.classList.toggle("pending",!!L())),le})()]}})),tt(()=>Dr($,$0.App)),$})()}const of=async s=>(await tn({params:s,query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2"}))?.data,af=async(s,c)=>(await tn({params:s,query:"updateLogisticYabaExpress",data2update:c}))?.data;Br(["click"]);var cf=Ce("<div style=padding:4px>"),lf=Ce('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround ">'),uf=Ce('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div style="width:94vw;margin:0 auto;">'),ff=Ce("<div> <!>."),hf=Ce("<div> "),df=Ce("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),xf=Ce("<h5 class=totalBagsNo> <!> / "),gf=Ce('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),Af=Ce("<div class=leftMrg> ");function pf(){const[s,c]=fr({search:"",status:""}),[a,u]=fr({}),[d,h]=Se(""),[A,p]=Se(""),w=wn(h,400),x=(_,B)=>{c({[_]:B}),w(Cn())};br(()=>{}),Wn(()=>{});const[E,{refetch:m}]=G0(d,async _=>{let B=s?.manifest?.id;if(A()!==B){p(B);const F=await wf(B);u(F)}const D=await Ef(s.search,B,s.status);return fa(D)}),v=()=>E()?.length;return(()=>{var _=uf(),B=_.firstChild,D=B.nextSibling,N=D.firstChild,F=D.nextSibling;return ae(N,re(ns,{list:oa,lbl_empty:"Manifiesto",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return s?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:S=>x("manifest",S),width:"260px"})),ae(D,re(Ie,{get when(){return s?.manifest?.id},get children(){var S=cf();return ae(S,re(Q0,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return s?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:T=>x("search",T)})),S}}),null),ae(F,re(Ie,{get when(){return s?.manifest?.id},get children(){var S=lf(),T=S.firstChild;return ae(T,re(Ie,{get when(){return a?.total},get children(){return re(Hn,{get each(){return ts(a)},children:(M,z)=>re(Cf,{keyG:M,total:v,get status(){return s.status},get amount(){return a?.[M]},updForm:x})})}})),S}}),null),ae(F,re(Yo,{fallback:S=>(()=>{var T=ff(),M=T.firstChild,z=M.nextSibling;return z.nextSibling,ae(T,()=>S.toString(),z),T})(),get children(){return re(Xn,{get fallback(){return(()=>{var S=hf();return S.firstChild,ae(S,re(_i,{stroke:"rgb(200 25 60 / 1)",size:62}),null),S})()},get children(){return re(Ie,{get when(){return E()},get children(){return re(Hn,{get each(){return E()},children:S=>[re(Ie,{get when(){return!Tr()},get children(){return re(xa,{item:S})}}),re(Ie,{get when(){return Tr()},get children(){return re(Da,{item:S})}})]})}})}})}}),null),tt(()=>Dr(_,$0.App)),_})()}const Cf=s=>{const[c,a]=Se(!1),[u,d]=Se(0),h=()=>{let w=s?.keyG;s?.keyG==="total"&&(w=null),s?.updForm("status",w)},A=()=>{c()||!Tr()&&s?.keyG!=="total"&&(d(Ai?.[s?.keyG]?.length*8.5+"px"),a(!0))},p=()=>{d("0px"),c()&&a(!1)};return re(Ie,{get when(){return s?.amount>0},get children(){return re(Xn,{get fallback(){return(()=>{var w=Af();return w.firstChild,ae(w,re(_i,{stroke:"rgb(200 25 60 / 1)",size:32}),null),w})()},get children(){var w=gf(),x=w.firstChild,E=x.nextSibling;return w.$$mouseout=p,w.$$mousemove=A,w.$$click=h,ae(w,re(Ie,{get when(){return c()},get children(){var m=df(),v=m.firstChild,_=v.firstChild,B=_.firstChild;return ae(B,()=>Ai?.[s?.keyG]),tt(D=>(D=u())!=null?v.style.setProperty("width",D):v.style.removeProperty("width")),m}}),x),ae(x,re(nr,{get name(){return Ii?.[s?.keyG]},size:22})),ae(w,re(Ie,{get when(){return s?.keyG==="total"},get children(){var m=xf(),v=m.firstChild,_=v.nextSibling;return _.nextSibling,ae(m,()=>s?.total(),_),m}}),E),ae(E,()=>s?.amount),tt(()=>Dr(w,`resumeStatus centerBx witXs  ${s?.status===s?.keyG?"active":""}`)),w}})}})},Ef=async(s,c,a)=>{let u={params:{idairguide:c,":status":a},query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4 AND !* contain :search5 AND currentStatus = :status"};if(s&&s.split(" ").map((d,h)=>{d&&(u.params[":search"+h]=d.trim())}),c&&Object.keys(u.params).length>=2){const d=await tn(u);return console.log(d),d?.data?.error?{}:d?.data}return{}},wf=async s=>{const a=await tn({params:{idairguide:s},query:"getGroupStatusLogisticYabaExpress"});return console.log(a),a?.data?.error?{}:a?.data};Br(["click","mousemove","mouseout"]);const mf=document.getElementById("root"),yf=s=>st(()=>s.children);R1(()=>[re(Ql,{}),re(Ie,{get when(){return j0()},get fallback(){return re(Vl,{})},get children(){return re(uc,{root:yf,get children(){return[re(Zi,{path:"/",component:au}),re(Zi,{path:"/scan",component:sf}),re(Zi,{path:"/manifest",component:pf})]}})}})],mf);
