const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-BD4udSZU.js","assets/index-BQ55CZ-U.js","assets/index-D4QuRvi-.css","assets/LoadingColorSpinner-DPNLfwBi.css"])))=>i.map(i=>d[i]);
import{k as R,l as V,_ as K,u as J,c as C,a as v,h as X,o as Z,m as ee,d as o,e as te,i as n,S as b,f as _,s as T,F as re,g as ae,n as se,t as f}from"./index-BQ55CZ-U.js";import ne from"./InputHr-DA5bknB9.js";import{f as L,b as q,O as ie,g as le,t as A}from"./Util-Ho0G8bBr.js";import y from"./SVG-CXMCE-XO.js";import"./index-Ci0zXM0r.js";let oe={webp:"image/webp",jpg:"image/jpg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",ts:"video/MP2T",m3u8:"application/x-mpegURL",mp4:"video/MP4",m4a:"audio/MP4",webm:"video/webm",weba:"audio/webm",m4s:"text/plain",txt:"text/plain",srt:"text/plain",vtt:"text/plain",js:"application/javascript; charset=UTF-8",css:"text/css; charset=utf-8",mpd:"video/vnd.mpeg.dash.mpd",aac:"audio/aac",mp3:"audio/mpeg",wav:"audio/wav",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pdf:"application/pdf","7z":"application/x-7z-compressed",zip:"application/zip",xml:"application/xml",json:"application/json",html:"text/html; charset=UTF-8"};const ce=r=>r&&r.split(".").pop().toLowerCase(),de=r=>{let a=ce(r);return oe[a]},pe=async(r,a)=>{let c=await(await fetch(r)).blob();return a&&(c=c.slice(0,c.size,a)),URL.createObjectURL(c)},ue=async r=>{let a={query:"getSignedUrl",params:{fileName:r}};var e;return R()?e=await L(a):e=(await q(a))?.data,e?.url?e:null},ge=async r=>{let a=de(r);var e=await ue(r);console.log(e);var c=await pe(e?.url,a);return c};var me=f('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),fe=f('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><div><div></div><div class="_dsplFlx bottombx lowbordr spaceAround"><h5>'),ve=f('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding-top:50px><div class="_dsplFlx flxWrp spaceAround centerBx"><div></div><div class="_dsplFlx bottombx"><h4> </h4><div class=vertseparator></div><h5>'),xe=f('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><div class=" bottombx"><div class="_dsplFlx bottombx spaceAround centerBx"><h5>Estado del envio: </h5><h4></h4></div><h4> '),he=f('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><img alt=sf style=width:320px>'),be=f("<div> "),_e=f('<div class="icon_status centerBx">'),ye=f('<div class="icon_status centerBx trackFade">'),ke=f('<div class="icon_status centerBx ">');const Se=V(()=>K(()=>import("./LoadingColorSpinner-BD4udSZU.js"),__vite__mapDeps([0,1,2,3])));function Ee(){const[r,a]=J(),[e,c]=C();C({lbs:"",price:0});const[Y,U]=C({}),[H,O]=v(""),[S,B]=v(!1);v();const[$,W]=v(""),[Ce,F]=v(""),[P,I]=v(""),[D,w]=v("");X(()=>{}),Z(()=>{}),ee(()=>{r?.id?(w(!1),E(r?.id)):w(!0)});const G=(s,t)=>{W(t),F(s),setTimeout(()=>{F("")},300)},N=s=>{I(s),setTimeout(()=>{I("")},3e3)},E=async s=>{let t=s,l="^[0-9]{4}-[1-9]{4}";const u=new RegExp(l);let d=t.length===9&&u.test(t),i="^Y24[0-9]{6}";const g=new RegExp(i);let x=t.length===9&&g.test(t),h="^[0-9]";const p=new RegExp(h);let j=t.length>6&&t.length<11&&p.test(t),z={};if(d&&(z={idairguide:"175-2383"+t.slice(0,4),":tracking":t}),d||x||j){let m;if(x||j)m=await we(t);else{let k=await $e(z);m=k?.[ie(k)?.[0]]}if(m){if(m?.currentStatus==="YABA_99"&&m?.deliveryProof){let k=await ge(m?.deliveryProof);m[idTRa].deliveryProofBlob=k}c("tracking",m),B(!0),a({id:t})}}else G("","error"),U({consigneeInfo:{ybestate:"Codigo Incorrecto"}}),N(le());w(!0)};let Q=Array.from(Array(8).keys());return o(b,{get when(){return D()},get fallback(){return(()=>{var s=be();return s.firstChild,n(s,o(Se,{stroke:"rgb(200 25 60 / 1)",size:62}),null),s})()},get children(){return[(()=>{var s=fe(),t=s.firstChild,l=t.firstChild,u=l.nextSibling,d=u.firstChild;return n(l,o(b,{get when(){return P()},get children(){var i=me(),g=i.firstChild,x=g.nextSibling;return n(g,o(y,{get name(){return A?.[$()]?.icon},size:32,get color(){return A?.[$()]?.svg}})),n(x,()=>Y?.consigneeInfo?.ybestate),_(h=>T(i,A?.[$()],h)),i}})),n(t,o(b,{get when(){return!S()},get children(){return o(ne,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return H()},placeholder:"Numero de envio ...",colors:"#2b2b2b",handleClick:O,onEnter:E})}}),u),u.$$click=()=>B(!1),n(d,()=>S()?"Rastrear otro numero de envio":"Escriba su numero de envio"),_(i=>T(l,`padding: 15px 0px; margin: 0 auto; display: ${P()?"block":"none"};`,i)),s})(),o(b,{get when(){return S()&&e?.tracking},get children(){return[(()=>{var s=ve(),t=s.firstChild,l=t.firstChild,u=l.nextSibling,d=u.firstChild,i=d.firstChild,g=d.nextSibling,x=g.nextSibling;return n(t,o(re,{each:Q,children:h=>getStore("M023009")?.statusIndex[e?.tracking?.currentStatus]!==0&&h===0?(()=>{var p=_e();return n(p,o(y,{name:"market",size:32,color:"var(--hrm-palette-neutral-variant30)"})),p})():h===getStore("M023009")?.statusIndex[e?.tracking?.currentStatus]?(()=>{var p=ye();return n(p,o(y,{get name(){return getStore("M023009")?.statusListIcons?.[e?.tracking?.currentStatus]},size:32,color:"var(--background-red-ssg)"})),p})():(()=>{var p=ke();return n(p,o(y,{name:"radio_unchecked",size:16,color:"var(--hrm-palette-neutral-variant30)"})),p})()}),l),n(l,o(y,{name:"map-marker-radius-outline",size:32,get color(){return e?.tracking?.currentStatus==="YABA_99"?"var(--hrm-palette-tertiary60)":"var(--hrm-palette-neutral-variant30)"}})),n(d,()=>e?.tracking?.consigneeInfo?.ybestate,i),n(x,()=>e?.tracking?.consigneeInfo?.ybcity),_(()=>ae(l,`icon_status centerBx ${e?.tracking?.currentStatus==="YABA_99"?"trackFade":""} `)),s})(),(()=>{var s=xe(),t=s.firstChild,l=t.firstChild,u=l.firstChild,d=u.nextSibling,i=l.nextSibling;return i.firstChild,n(d,()=>e?.tracking?.tracking),n(i,()=>getStore("M023009")?.statusObjDesc?.[e?.tracking?.currentStatus],null),_(g=>(g=e?.tracking?.currentStatus==="YABA_99"?"var(--hrm-palette-tertiary60)":"var(--background-red-ssg)")!=null?i.style.setProperty("color",g):i.style.removeProperty("color")),s})(),o(b,{get when(){return e?.tracking?.deliveryProofBlob},get children(){var s=he(),t=s.firstChild;return _(()=>se(t,"src",e?.tracking?.deliveryProofBlob)),s}})]}})]}})}const $e=async r=>{let a={params:r,queryString:"tracking contain :tracking",fldsQry:["agency","idairguide","currentStatus","cidentity","ssg_track_key","tracking","consigneeInfo:ybestate","consigneeInfo:ybcity","deliveryProof"]},e={...getStore(qryStore())}[802001];return a={...a,...e},M(a)},we=async r=>{let a={params:{id:r}},e={...getStore(qryStore())}[803001];return a={...a,...e},M(a)},M=async r=>R()?await L(r):(await q(r))?.data;te(["click"]);export{Ee as default};
