const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-BJ3wHvQW.js","assets/index-CO9lE7wP.js","assets/index-DI_XrWgU.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DeliveryCamera-ynyahUDD.js","assets/ButonHrm-BD9dbwEF.js","assets/SVG-Dnbx3GRd.js","assets/ButonHrm-BSeWNUGQ.css","assets/html5-qrcode-scanner-ppDbN26e.js","assets/debounces-DiO_hJra.js","assets/FlexSpace-CibkrNZm.js","assets/DeliveryScanView-BU4f0HG9.js","assets/DialogHRM-Cq0eIrtM.js","assets/DialogHRM-V9_lZntj.css","assets/DeliveryView-D-1lkVHZ.js","assets/fontkit.es-B-SiOn_D.js","assets/qrcode-DHy8FFhS.js","assets/Toast-DTTvYxT1.js","assets/Toast-DLpFKn-Q.css","assets/components-T27Z6zfk.js","assets/InputHr--ekansiv.js","assets/InputHr-BXFw4d2l.css"])))=>i.map(i=>d[i]);
import{c as B,l as h,_ as b,a as S,aY as z,G as W,b as q,o as Y,d as j,D as H,i as c,e as u,S as $,O as C,R as J,F as K,Q as U,f as X,s as Z,x as ee,n as te,p as re,t as p,v as w,ao as ne}from"./index-CO9lE7wP.js";import"./DialogHRM-Cq0eIrtM.js";import"./ShowScanDeliveryManifest-DUOLdjMV.js";import"./fontkit.es-B-SiOn_D.js";import{u as N}from"./debounces-DiO_hJra.js";import"./html5-qrcode-scanner-ppDbN26e.js";import"./DeliveryScanView-BU4f0HG9.js";import"./DeliveryView-D-1lkVHZ.js";import"./qrcode-DHy8FFhS.js";import"./Toast-DTTvYxT1.js";import"./components-T27Z6zfk.js";var se=p("<h4>"),oe=p("<h5>"),ie=p('<div class=" flxWrp spaceAround centerBx bottombx"><div class=bag_number><h4>'),ae=p('<div class=" flxWrp spaceAround centerBx bottombx"><div style=padding:4px>'),le=p('<div><div class=" flxWrp spaceAround centerBx"><h2> Manifesto de Entrega </h2><div class=bottombx><h4></h4></div></div><div style=padding:16px></div><div>'),E=p("<div> "),ce=p("<div> <!>.");const[Ae,Ne]=B(),P=h(()=>b(()=>import("./LoadingColorSpinner-BJ3wHvQW.js"),__vite__mapDeps([0,1,2,3])));h(()=>b(()=>import("./DeliveryCamera-ynyahUDD.js"),__vite__mapDeps([4,1,2,5,6,7,8,9,10])));const de=h(()=>b(()=>import("./DeliveryScanView-BU4f0HG9.js").then(o=>o.I),__vite__mapDeps([11,1,2,12,13,14,15,16,17,18,9,19])));h(()=>b(()=>import("./SVG-Dnbx3GRd.js"),__vite__mapDeps([6,1,2])));const ue=h(()=>b(()=>import("./InputHr--ekansiv.js"),__vite__mapDeps([20,1,2,21])));h(()=>b(()=>import("./FlexSpace-CibkrNZm.js"),__vite__mapDeps([10,1,2])));const[Ee,Pe]=S("");function Be(){const[o,i]=S(0),[n,k]=B({});z();const[D,pe]=W(),[I,L]=S(" ");S(0);const O=N(i,500),R=r=>{L(r),O(w())};q(()=>{V()}),Y(()=>{});const M=r=>(v(r?.ybestate)+"_"+v(r?.ybcity)+"_"+v(r?.ybreparto)+"_"+v(r?.ybstreet)+"_"+v(r?.ybstreetNo)).toLowerCase();j(async()=>{let r=await ge({id:D?.dId,checkAuth:!0});k("detail",r);let a={},f={},y={};r?.linkedBagsInfo?.map(e=>{if(e?.currentStatus!="YABA_99"){let d=M(e?.consigneeInfo),l=e.cidentity,t=e?.estate||e?.consigneeInfo?.ybestate,s=e?.city||e?.consigneeInfo?.ybcity,m=e?.consigneeInfo?.ybreparto;if(y[m]||(y[m]=1),f[s]||(f[s]=1),a[d]||(a[d]={city:s,estate:t,rpto:m,address:{ybstreetNo:e?.consigneeInfo?.ybstreetNo,ybstreet:e?.consigneeInfo?.ybstreet,ybapt:e?.consigneeInfo?.ybapt,ybbetwen1:e?.consigneeInfo?.ybbetwen1,ybbetwen2:e?.consigneeInfo?.ybbetwen2},currentStatus:e?.currentStatus,customers:{},bagsNo:0}),!a[d].customers[l]){let G={name:fe(e),phoneNumber:me(e),cid:e.cidentity},A={...e,...G};A.bagsNumb={},a[d].customers[l]=A}let g={bagnumber:e?.bagnumber,idairguide:e?.guia,tracking:e?.tracking};a[d].customers[l].bagsNumb[e?.ssg_track_key]=g,a[d].bagsNo+=1}}),k("linkedBagsInfo",a),N(w()),i(w())});function Q(){return"geolocation"in navigator}function T(r){ne({latitude:r?.coords?.latitude,longitude:r?.coords?.longitude})}function V(){Q()?navigator.geolocation.getCurrentPosition(T):showMessage("Geolocation isn't supported by your browser")}const x=r=>r,[F,{refetch:_e}]=H(o,async r=>{let a=n?.linkedBagsInfo,f=[];return I().length>0&&C(a).map((e,d)=>{let l=a[e],t=JSON.stringify(l).toLowerCase(),s=I().toLowerCase();t.indexOf(s)>0&&f.push(e)}),I().length===0&&(f=C(a)),f&&f.sort((e,d)=>{let l=x(e),t=x(d);return l<t?1:l>t?-1:0})});return(()=>{var r=le(),a=r.firstChild,f=a.firstChild,y=f.nextSibling,e=y.firstChild,d=a.nextSibling,l=d.nextSibling;return c(e,()=>n?.detail?.name),c(r,u($,{get when(){return n?.detail?.name},get fallback(){return(()=>{var t=E();return t.firstChild,c(t,u(P,{stroke:"rgb(200 25 60 / 1)",size:62}),null),t})()},get children(){return[(()=>{var t=ie(),s=t.firstChild,m=s.firstChild;return c(t,u($,{get when(){return n?.detail?.city},get children(){return[(()=>{var g=se();return c(g,()=>n?.detail?.city),g})(),"|"]}}),s),c(t,u($,{get when(){return n?.detail?.province},get children(){return[(()=>{var g=oe();return c(g,()=>n?.detail?.province),g})(),"|"]}}),s),c(m,()=>C(n?.linkedBagsInfo)?.length),t})(),(()=>{var t=ae(),s=t.firstChild;return c(s,u(ue,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return I()},placeholder:"search...",colors:"#2b2b2b",handleClick:m=>R(m)})),t})()]}}),l),c(l,u(U,{fallback:t=>(()=>{var s=ce(),m=s.firstChild,g=m.nextSibling;return g.nextSibling,c(s,()=>t.toString(),g),s})(),get children(){return u(J,{get fallback(){return(()=>{var t=E();return t.firstChild,c(t,u(P,{stroke:"rgb(200 25 60 / 1)",size:62}),null),t})()},get children(){return u($,{get when(){return C(n?.linkedBagsInfo)?.length>0},get children(){return u(K,{get each(){return F()},children:(t,s)=>u(de,{addressId:t,get item(){return n?.linkedBagsInfo?.[t]},get list(){return n?.linkedBagsInfo}})})}})}})}})),X(t=>Z(l,` ${ee()?"":"width:94vw;"} margin: 0 auto`,t)),r})()}const ge=async o=>{let i={params:o},n=te(703003);return i={...i,...n},await re(i)},v=o=>o||"",_=o=>o?" "+o:"",fe=o=>{let i=o?.consigneeInfo;return _(i?.firstName)+_(i?.middleName)+_(i?.lastName)+_(i?.lastName2)},me=o=>{let i=o?.consigneeInfo,n=_(i?.altPhoneNumber);return _(i?.phoneNumber)+(n?" |"+n:"")};export{ge as LookupBagId,Be as default,Ae as scannedQRs,Ne as setScannedQRs,Pe as setStatus,Ee as status};
