const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-DSvPN3Zn.js","assets/index-eT9Jyeyy.js","assets/index-hhPenjUD.css","assets/SVG-CDhbylIJ.js","assets/Util-CPOloF-j.js","assets/LoadingColorSpinner-B3X0TUzA.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-CMYjL8vC.js","assets/InputHr-BXFw4d2l.css","assets/ButonHrm-CMty1it9.js","assets/ButonHrm-BSeWNUGQ.css"])))=>i.map(i=>d[i]);
import{d as Y,l as O,_ as E,c as T,a as g,o as ee,b as re,e as q,i as s,f as t,S as H,g as S,h as K,s as te,t as _,j as oe}from"./index-eT9Jyeyy.js";import{g as I,f as B,i as le,a as x,b as j,O as J,c as se}from"./Util-CPOloF-j.js";import"./browser-image-compression-BVJ4p9S0.js";import{OpenToast as M}from"./Toast-iOGOlOtY.js";import"./AddInventory-MiIbN1C2.js";import"./PDFButton-CTOhKs32.js";import"./fontkit.es-Cs7kHC0c.js";import"./qrcode-DHy8FFhS.js";import{u as R}from"./debounces-B3o0MoLG.js";/* empty css                */import{OpenModal as ne}from"./DialogHRM-CBX4JhGm.js";import"./DashProducts-C7gLghG_.js";import"./App.module-CbHnVtRQ.js";import"./FlexSpace-DSvPN3Zn.js";Y(["keydown","input"]);var ae=_('<div style="padding:50px 0 0 0"><section class="qsuVSc mainM">'),ie=_('<section class="bLl6je "><section class="dvPdhb "><div class="QCNFEe centerBx"><p class=jhB0af>Confirmar</p></div><section class="EMijzc centerBx">'),ce=_("<section class=Mijzc12>"),de=_('<section class=KgyCAd><section class=WirBi><div class="QCNFEe centerBx"><p class=jhB0af>Quien envia</p><section class=JpKBkb><button class=yjHiqb><span>Buscar coincidencias</span></button></section></div><section class="EMijzc "><section class="Mijzc12 "></section><section class=Mijzc12>'),w=_('<section class="Mijzc12 centerBx flxWrp spaceAround">'),V=_("<div class=separator>"),be=_('<section class="rtS8wf InvE "><div class=X3QHFf><section class=WirBi><section class=""><div class="QCNFEe centerBx"><p class=jhB0af>Quien recibe</p><section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Buscar coincidencias</span></button></section></section></div><section class="Mijzc12 centerBx "></section><section class="EMijzc centerBx"><section class=pFJUxe><section class=DHk3Fe>'),ue=_('<div class=save><div class="container savings"><div class="bento-text standardSubheading3">'),fe=_('<div><div class=QCNFEe><p class=jhB0af>Confirmar Orden</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Desea enviar la orden</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">');const F=O(()=>E(()=>import("./FlexSpace-DSvPN3Zn.js"),__vite__mapDeps([0,1,2]))),pe=O(()=>E(()=>import("./SVG-CDhbylIJ.js"),__vite__mapDeps([3,1,2,4])));O(()=>E(()=>import("./LoadingColorSpinner-B3X0TUzA.js"),__vite__mapDeps([5,1,2,6])));const p=O(()=>E(()=>import("./InputHr-CMYjL8vC.js"),__vite__mapDeps([7,1,2,8]))),W=O(()=>E(()=>import("./ButonHrm-CMty1it9.js"),__vite__mapDeps([9,1,2,3,4,10]))),[Me,Fe]=T({items:{}}),De="348723orh2idsffs";let U={name:"",phoneNumberS:"",dob:""},G={firstName:"",lastName:"",lastName2:"",middleName:"",email:"",phoneNumber:"",altPhoneNumber:"",cid:"",ybstreetNo:"",ybstreet:"",ybbetwen1:"",ybbetwen2:"",ybapt:"",ybreparto:""};const[N,L]=T(U),[f,z]=T(G);function Qe(){g(0),g("");const[n,r]=g("");R(r,400),ee(()=>{}),re(()=>{}),q(()=>{o()});const o=async()=>{};return(()=>{var d=ae(),e=d.firstChild;return s(e,t(me,{}),null),s(e,t(ve,{}),null),s(e,t(he,{}),null),d})()}const me=n=>{const r=async e=>{let l=new Date,b=x(),h=Object.assign({},j(N),j(f)),m={type:"SALES",invoice:l.getFullYear()+se(12),description:"",store:S?.profile?.agencyStore?.id,ssg_inventory_key:b,ssg_sorder_key:b,createDate:l.getTime(),shipper_consignee:h,packagesOrder:!0,businessId:S?.profile?.businessYId},y={params:{businessId:S?.profile?.businessYId},form:m},i=I(431005),u={...y,...i};const v=await B(u);console.log(u),console.log(v),v?.error||(z(G),L(U))},o=()=>{let e=x(),l={};l.id=e,l.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},l.content=t(_e,{modalId:e,completeOrder:()=>r()}),ne(l)},d=()=>{let e=Object.assign({},j(N),j(f));return e.name&&e.phoneNumberS&&e.phoneNumber&&e.cid&&e.firstName&&e.lastName&&e.lastName2&&e.ybstreet};return(()=>{var e=ie(),l=e.firstChild,b=l.firstChild,h=b.nextSibling;return s(h,t(F,{}),null),s(h,t(H,{get when(){return d()},get children(){return t(W,{color:"#1967d2",label:"Enviar Orden",icon:"outline_cart",handleClick:o})}}),null),e})()},ve=n=>{const[r,o]=g(""),[d,e]=g(0),l=R(o,400),b=async()=>{let m=N?.phoneNumberS;if(!(typeof m!="number"&&!isNaN(m)&&m.length===10)){M({text:m+" no es un numero de telefono valido ",timeout:3500,theme:"red",id:x()}),e(1);return}let i=await Ce(m),u=J(i)?.[0];if(i?.[u]?.name?.toLowerCase()?.indexOf(N?.name?.toLowerCase())>=0)console.log(i[u]),L({dob:i?.[u]?.dob,name:i?.[u]?.name,phoneNumberS:i?.[u]?.phoneNumber}),e(1);else{M({text:" la informacion no coincide ",timeout:3500,theme:"red",id:x()}),e(1);return}},h=(m,y)=>{L({[m]:y}),l(x())};return(()=>{var m=de(),y=m.firstChild,i=y.firstChild,u=i.firstChild,v=u.nextSibling,C=v.firstChild,$=i.nextSibling,A=$.firstChild,P=A.nextSibling;return s(i,t(F,{}),v),C.$$click=b,s($,t(X,{label:"buscar coincidencias con su numero de telefono y apellido",icon:"info",backColor:"#0a3818",color:"#e6f4ea"}),A),s(A,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"numero de telefono",colors:"#2b2b2b",type:"number",handleClick:k=>h("phoneNumberS",k),get value(){return N?.phoneNumberS}})),s(P,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Apellido",colors:"#2b2b2b",handleClick:k=>h("name",k),get value(){return N?.name}})),s($,t(H,{get when(){return d()},get children(){var k=ce();return s(k,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Fecha de nacimiento",colors:"#2b2b2b",handleClick:D=>h("dob",D),get value(){return N?.dob}})),k}}),null),m})()},he=n=>{const[r,o]=g(""),d=R(o,400),e=(i,u)=>{z({[i]:u}),d(x())};g("");const[l,b]=g(0),[h,m]=g("");q(()=>{m(S?.profile?.agencyStore?.id)});const y=async()=>{let i=f?.cid;if(!(typeof i!="number"&&!isNaN(i)&&i.length===11)){M({text:i+" no es un carnet de identidad valido ",timeout:3500,theme:"red",id:x()});return}let v=await ge(i),C=J(v)?.[0];if(v[C]?.cid)console.log(v[C]),z(v[C]),b(1);else{b(1),M({text:"no encontramos ninguna coincidencia ",timeout:3500,theme:"red",id:x()});return}};return(()=>{var i=be(),u=i.firstChild,v=u.firstChild,C=v.firstChild,$=C.firstChild,A=$.firstChild,P=A.nextSibling,k=P.firstChild,D=k.firstChild,Q=$.nextSibling,Z=Q.nextSibling;return s($,t(F,{}),P),D.$$click=y,s(C,t(X,{label:"buscar coincidencias con el carnet identidad",icon:"info",backColor:"#0a3818",color:"#e6f4ea"}),Q),s(Q,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",colors:"#2b2b2b",label:"carnet de identidad",handleClick:a=>e("cid",a),get value(){return f?.cid}})),s(C,t(H,{get when(){return l()===1},get children(){return[(()=>{var a=w();return s(a,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",colors:"#2b2b2b",label:"1er nombre",handleClick:c=>e("firstName",c),get value(){return f?.firstName}}),null),s(a,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"2do nombre",colors:"#2b2b2b",handleClick:c=>e("middleName",c),get value(){return f?.middleName}}),null),a})(),(()=>{var a=w();return s(a,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"1er Apellido",colors:"#2b2b2b",handleClick:c=>e("lastName",c),get value(){return f?.lastName}}),null),s(a,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"2do Apellido",colors:"#2b2b2b",handleClick:c=>e("lastName2",c),get value(){return f?.lastName2}}),null),a})(),V(),(()=>{var a=w();return s(a,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Telefono Principal",colors:"#2b2b2b",handleClick:c=>e("phoneNumber",c),get value(){return f?.phoneNumber}}),null),s(a,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Telefono Alternativo",colors:"#2b2b2b",handleClick:c=>e("altPhoneNumber",c),get value(){return f?.altPhoneNumber}}),null),a})(),V(),(()=>{var a=w();return s(a,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Calle",colors:"#2b2b2b",handleClick:c=>e("ybstreet",c),get value(){return f?.ybstreet}}),null),s(a,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"No",colors:"#2b2b2b",handleClick:c=>e("ybstreetNo",c),get value(){return f?.ybstreetNo}}),null),a})(),(()=>{var a=w();return s(a,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Entre calle",colors:"#2b2b2b",handleClick:c=>e("ybbetwen1",c),get value(){return f?.ybbetwen1}}),null),s(a,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Y calle",colors:"#2b2b2b",handleClick:c=>e("ybbetwen2",c),get value(){return f?.ybbetwen2}}),null),a})(),(()=>{var a=w();return s(a,t(p,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Reparto",colors:"#2b2b2b",handleClick:c=>e("ybreparto",c),get value(){return f?.ybreparto}})),a})()]}}),Z),i})()},Le=async(n,r)=>{let o={params:{businessId:S?.profile?.businessYId}};n&&n.split(" ").map((l,b)=>{l&&(o.params[":search"+b]=l.trim())});let d=I(122001);o={...o,...d},o.params[":search0"];const e=await B(o);return e?.error?{}:e},ze=n=>new Promise((r,o)=>{le.get(n,function(e,l){r(l)})}),Te=async(n,r)=>{let o={params:{businessId:S?.profile?.businessYId,":store":r.trim()}};n&&n.split(" ").map((l,b)=>{l&&(o.params[":search"+b]=l.trim())});let d=I(132001);o={...o,...d},o.params[":search0"];const e=await B(o);return e?.error?{}:e},Ce=async n=>{if(n.length===10){let r={params:{}};n&&n.split(" ").map((e,l)=>{e&&(r.params[":search"+l]=e.trim())});let o=I(421001);return r={...r,...o},await B(r)}else return{}},ge=async n=>{if(n.length===11){let r={params:{}};n&&n.split(" ").map((e,l)=>{e&&(r.params[":search"+l]=e.trim())});let o=I(401001);return r={...r,...o},await B(r)}else return{}},X=n=>{const r=()=>({"--bento-badge-background-color":n?.backColor,"--bento-badge-text-color":n?.color});return(()=>{var o=ue(),d=o.firstChild,e=d.firstChild;return s(d,t(pe,{get name(){return n.icon},size:16,color:"var(--bento-badge-text-color)"}),e),s(e,()=>n.label),K(l=>te(o,r(),l)),o})()};function _e(n){return(()=>{var r=fe(),o=r.firstChild,d=o.nextSibling,e=d.nextSibling,l=e.nextSibling;return r.style.setProperty("max-height","80vh"),r.style.setProperty("overflow","auto"),r.style.setProperty("background","#fff"),r.style.setProperty("border-radius","11px"),r.style.setProperty("padding"," 0 21px"),s(l,t(F,{}),null),s(l,t(W,{color:"#646cff",icon:"send",label:"Completar Orden",get handleClick(){return n.completeOrder}}),null),K(b=>(b=oe()?"96vw":"420px")!=null?r.style.setProperty("width",b):r.style.removeProperty("width")),r})()}Y(["click"]);export{Te as LookupInventory,Le as LookupProducts,Qe as default,ze as getCartId,Me as inventoryItems,De as inventoryKey,Fe as setInventoryItems};
