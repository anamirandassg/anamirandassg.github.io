const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-DFx5YZts.js","assets/index-BjUV0ckG.js","assets/index-DGSEMnLR.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-Bjd5PUx9.js","assets/debounces-DGGfrx74.js","assets/SVG-BAhbWhDg.js","assets/index-Ci0zXM0r.js","assets/DropDwnSearch-DMkLkRPc.css","assets/FlexSpace-DMQksXzY.js","assets/InputHr-Bmzqe5CS.js","assets/InputHr-M3rJ9grQ.css"])))=>i.map(i=>d[i]);
import{l as x,_ as k,u as F,c as S,a as R,o as z,h as V,m as T,b as H,i,d as s,f as q,e as K,t as _,z as I,S as g,q as Y,F as G,E as J,s as Q,g as M}from"./index-BjUV0ckG.js";import{w as X,p as U}from"./manifestList-CSHEgbpJ.js";import{f as w,h as Z,k as ee,O as te}from"./Util-dbxHFpkD.js";import{u as re}from"./debounces-DGGfrx74.js";import{i as b}from"./globalSignal-DzEzR8Gu.js";import"./fontkit.es-DEjOtITv.js";import ie from"./ButonHrm-BBb09Dhc.js";import"./index-Ci0zXM0r.js";/* empty css                 */import"./SVG-BAhbWhDg.js";var P=_("<h5>"),se=_('<div class=bottombx style=padding:16px><div class="_dsplFlx flxWrp spaceAround centerBx"><h4></h4>|<h4>'),ne=_("<div><div>"),L=_("<div> "),ae=_("<div> <!>."),le=_('<div class="bottombx flxWrp spaceAround centerBx"><h4></h4><div class="icon_status centerBx">'),ce=_('<div class="bottombx flxWrp spaceAround centerBx"><h4>'),oe=_('<div class="icon_status centerBx">'),de=_("<h5 class=rpto>"),me=_('<div><div class=" flxWrp centerBx "style=" margin:0 auto;;padding:8px 9px;"><div class="bag_number centerBx"><div class="icon_status centerBx"></div><h5></h5></div><div class=bottombx><div class="_dsplFlx flxWrp spaceAround centerBx"><h5></h5></div></div></div><div><p class=" textleft "></p><div class=vertseparator>');const W=x(()=>k(()=>import("./LoadingColorSpinner-DFx5YZts.js"),__vite__mapDeps([0,1,2,3])));x(()=>k(()=>import("./DropDwnSearch-Bjd5PUx9.js"),__vite__mapDeps([4,1,2,5,6,7,8])));const D=x(()=>k(()=>import("./FlexSpace-DMQksXzY.js"),__vite__mapDeps([9,1,2])));x(()=>k(()=>import("./InputHr-Bmzqe5CS.js"),__vite__mapDeps([10,1,2,11])));const E=x(()=>k(()=>import("./SVG-BAhbWhDg.js"),__vite__mapDeps([6,1,2,7])));function je(){const[r,u]=F(),[t,o]=S({search:""}),[h,a]=S(),[f,p]=S(),[j,B]=S(),[y,A]=R("");re(A,400),z(()=>{}),V(()=>{});const O=async()=>{if(r?.mId){let d={id:r?.mId},c=await _e(d);o("province",c?.province),o("city",c?.city),o("manifestObj",void 0),p("linked",void 0),o("manifestObj",c),p("linked",{...c?.linkedBags})}};T(async()=>{let d=[];[33,46,40,41,42,50,52,54,56].map(n=>{let m=X?.[n];I?.roles?.[m?.id]?.isActive&&d.push(m)}),B("list",d);let e=[];U.map(n=>{let l=n.label;I?.roles?.[l]?.isActive&&e.push(n)}),B("prov",e),O()}),H(y,async d=>{let c=t?.manifest?.id,e=t?.province,n=e&&t?.city,l=[];if(c){const m=await fe(t.search,c,e,n);a("bags",m),te(m).map(C=>{let $=m[C],N=$.currentStatus;I?.roles?.[N]?.isActive&&N.split("_")?.[1]>=33&&l.push($)})}return l});const v=async()=>{await ge({ssg_manifest_key:r?.mId},{linkedBags:t?.manifestObj?.linkedBags}),O()};return(()=>{var d=ne(),c=d.firstChild;return i(d,s(g,{get when(){return t?.manifestObj?.province},get fallback(){return(()=>{var e=L();return e.firstChild,i(e,s(W,{stroke:"rgb(200 25 60 / 1)",size:62}),null),e})()},get children(){var e=se(),n=e.firstChild,l=n.firstChild,m=l.nextSibling,C=m.nextSibling;return i(l,()=>t?.manifestObj?.name),i(n,s(g,{get when(){return t?.manifestObj?.city},get children(){return["|",(()=>{var $=P();return i($,()=>t?.manifestObj?.city),$})()]}}),m),i(C,()=>t?.manifestObj?.province),i(n,s(g,{get when(){return!ee(t?.manifestObj?.linkedBags,f?.linked)},get children(){return s(ie,{color:"#c8193c",label:"updManifest",handleClick:v})}}),null),e}}),c),i(c,s(J,{fallback:e=>(()=>{var n=ae(),l=n.firstChild,m=l.nextSibling;return m.nextSibling,i(n,()=>e.toString(),m),n})(),get children(){return s(Y,{get fallback(){return(()=>{var e=L();return e.firstChild,i(e,s(W,{stroke:"rgb(200 25 60 / 1)",size:62}),null),e})()},get children(){return s(g,{get when(){return t?.manifestObj?.linkedBagsInfo?.length>0},get children(){return s(G,{get each(){return t?.manifestObj?.linkedBagsInfo},children:e=>s(ue,{item:e,get city(){return t?.manifestObj?.city},get manifestObj(){return t?.manifestObj},get isAlready(){return t?.manifestObj?.linkedBags?.[e.ssg_track_key]},setFormsM:o})})}})}})}})),q(e=>Q(c,` ${b(),"width:86vw;"} margin: 0 auto;`,e)),d})()}const ue=r=>{const u=()=>{let a=r?.item?.street.split(",");return a.slice(0,a.length-2).join(",")},t=a=>a?" "+a:"",o=()=>{let a=r?.item?.consigneeInfo;return t(a?.firstName)+t(a?.middleName)+t(a?.lastName)+t(a?.lastName2)},h=a=>{r?.setFormsM("manifestObj","linkedBags",r?.item?.ssg_track_key,void 0)};return s(g,{get when(){return r?.manifestObj?.linkedBags[r?.item?.ssg_track_key]},get children(){var a=me(),f=a.firstChild,p=f.firstChild,j=p.firstChild,B=j.nextSibling,y=p.nextSibling,A=y.firstChild,O=A.firstChild,v=f.nextSibling,d=v.firstChild,c=d.nextSibling;return i(a,s(g,{get when(){return b()},get children(){var e=le(),n=e.firstChild,l=n.nextSibling;return i(n,o),i(e,s(D,{}),l),l.$$click=h,i(l,s(E,{name:"outline_delete",size:28,color:"var(--background-red-ssg)"})),e}}),f),i(j,s(E,{name:"open_package_file_outline",size:20})),i(B,()=>r?.item?.bagnumber),i(f,s(g,{get when(){return!b()},get children(){var e=ce(),n=e.firstChild;return i(n,o),e}}),y),i(f,s(D,{}),y),i(O,()=>r?.item?.idairguide),i(f,s(g,{get when(){return!b()},get children(){var e=oe();return e.$$click=h,i(e,s(E,{name:"outline_delete",size:24,color:"var(--background-red-ssg)"})),e}}),null),i(d,u),i(v,s(D,{}),c),i(v,s(g,{get when(){return r?.item?.consigneeInfo?.ybreparto},get children(){return[(()=>{var e=de();return i(e,()=>r?.item?.consigneeInfo?.ybreparto),e})(),"|"]}}),c),i(v,s(g,{get when(){return!r?.city&&r?.item?.city},get children(){var e=P();return i(e,()=>r?.item?.city),e}}),null),q(e=>{var n=`client_item_box gWXAaj jlytmu manifest ${b()?"isMobile":""}`,l=` ${b(),"centerBx"} bottombx flxWrp  centerBx`;return n!==e.e&&M(a,e.e=n),l!==e.t&&M(v,e.t=l),e},{e:void 0,t:void 0}),a}})},fe=async(r,u,t,o)=>{let h={params:{idairguide:u},query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4 AND !* contain :search5 AND currentStatus = :status AND estate = :estate AND city = :city"};r&&r.split(" ").map((f,p)=>{f&&(h.params[":search"+p]=f.trim())}),t&&(h.params[":estate"]=t),o&&(h.params[":city"]=o);const a=await w(h);return a?.error?{}:a},ge=async(r,u)=>await w({params:r,query:"updateManifestYabaExpress",data2update:u}),_e=async r=>await w({params:r,query:"getManifestOrderByKeyID"}),Ae=async r=>{let u=[];r.map(t=>{let o={params:{id:t?.ssg_track_key,idairguide:t?.idairguide},query:"getLogisticOrderByKeyID"};u.push(o)}),Z(u,he)},he=async r=>{const t=await w(r);if(t)return t};K(["click"]);export{je as default,he as fetchCSVInve,Ae as loadManifest,ge as updLinkedBags};
