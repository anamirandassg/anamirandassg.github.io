import{o as V,c as y,a as g,f as Y,p as Z,q as J,j as N,g as U,i as e,d as i,r as b,k as R,s as q,S,F as X,v as z,w as ee,x as re,n as te,e as ae,t as p}from"./index-BympeM9J.js";import se from"./InputHr-BgHKI88P.js";var ne=p('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),ie=p('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding-top:50px><div class="_dsplFlx flxWrp spaceAround centerBx"><div class="icon_status centerBx"></div><div class="_dsplFlx bottombx"><h4> </h4><div class=vertseparator></div><h5>'),le=p('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><div class=" bottombx"><div class="_dsplFlx bottombx spaceAround centerBx"><h5>Estado del envio: </h5><h4></h4></div><h4>'),ce=p('<div><div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><div><div></div><div class="_dsplFlx bottombx lowbordr spaceAround"><h5>'),G=p('<div class="icon_status centerBx">'),oe=p('<div class="icon_status centerBx trackFade">');function ve(){const[h,C]=V(),[l,P]=y();y({lbs:"",price:0});const[T,j]=y({}),[D,W]=g(""),[f,w]=g(!1);g();const[_,L]=g(""),[ge,F]=g(""),[A,B]=g("");g(""),Y(()=>{}),Z(()=>{}),J(()=>{h?.id&&I(h?.id)});const O=(c,r)=>{L(r),F(c),setTimeout(()=>{F("")},300)},H=c=>{B(c),setTimeout(()=>{B("")},3e3)},I=async c=>{let r=c,x="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const v=new RegExp(x);let u=r?.length===13&&v?.test(r),k="^[0-9]{4}-[1-9]{4}";const t=new RegExp(k);let n=r.length===9&&t.test(r),a={};if(n&&(a={idairguide:"175-2383"+r.slice(0,4),":tracking":r}),u&&(a={idairguide:"175-2383"+r?.slice(3,7),":tracking":r}),u||n){let s=await de(a),o=N(s)?.[0];s?.[o]&&(P("tracking",s?.[o]),w(!0),C({id:r}))}else O("","error"),j({consigneeInfo:{ybestate:"Codigo Incorrecto"}}),H(U())};let m={error:{"--err-bx-color":"var(--background-red-ssg)","--err-bx-bgcolor":"var(--background-red35-ssg)",svg:"var(--err-bx-color)",icon:"alert"},success:{"--err-bx-color":"var(--hrm-palette-tertiary60)","--err-bx-bgcolor":"var(--hrm-palette-tertiary90)",svg:"var(--err-bx-color)",icon:"success"},warning:{"--err-bx-color":"#FF6F1D","--err-bx-bgcolor":"#ffdb99",svg:"var(--err-bx-color)",icon:"info"}},K=Array.from(Array(8).keys());return(()=>{var c=ce(),r=c.firstChild,x=r.firstChild,v=x.firstChild,u=v.nextSibling,k=u.firstChild;return e(v,i(S,{get when(){return A()},get children(){var t=ne(),n=t.firstChild,a=n.nextSibling;return e(n,i(b,{get name(){return m?.[_()]?.icon},size:32,get color(){return m?.[_()]?.svg}})),e(a,()=>T?.consigneeInfo?.ybestate),R(s=>q(t,m?.[_()],s)),t}})),e(x,i(S,{get when(){return!f()},get children(){return i(se,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return D()},placeholder:"codigo ...",colors:"#2b2b2b",handleClick:W,onEnter:I})}}),u),u.$$click=()=>w(!1),e(k,()=>f()?"Rastrear otro codigo":"Escriba su codigo de rastreo"),e(c,i(S,{get when(){return f()&&l?.tracking},get children(){return[(()=>{var t=ie(),n=t.firstChild,a=n.firstChild,s=a.nextSibling,o=s.firstChild,$=o.firstChild,M=o.nextSibling,Q=M.nextSibling;return e(n,i(X,{each:K,children:E=>z[l?.tracking?.currentStatus]!==0&&E===0?(()=>{var d=G();return e(d,i(b,{name:"market",size:32,color:"var(--hrm-palette-neutral-variant30)"})),d})():E===z[l?.tracking?.currentStatus]?(()=>{var d=oe();return e(d,i(b,{get name(){return ee?.[l?.tracking?.currentStatus]},size:32,color:"var(--background-red-ssg)"})),d})():(()=>{var d=G();return e(d,i(b,{name:"radio_unchecked",size:16,color:"var(--hrm-palette-neutral-variant30)"})),d})()}),a),e(a,i(b,{name:"map-marker-radius-outline",size:32,color:"var(--hrm-palette-neutral-variant30)"})),e(o,()=>l?.tracking?.consigneeInfo?.ybestate,$),e(Q,()=>l?.tracking?.consigneeInfo?.ybcity),t})(),(()=>{var t=le(),n=t.firstChild,a=n.firstChild,s=a.firstChild,o=s.nextSibling,$=a.nextSibling;return e(o,()=>l?.tracking?.tracking),e($,()=>re?.[l?.tracking?.currentStatus]),t})()]}}),null),R(t=>q(v,`padding: 15px 0px; margin: 0 auto; display: ${A()?"block":"none"};`,t)),c})()}const de=async h=>await te({params:h,query:"getScanLogisticYabaExpress",queryString:"tracking contain :tracking",fldsQry:["agency","idairguide","currentStatus","cidentity","ssg_track_key","tracking","consigneeInfo:ybestate","consigneeInfo:ybcity"]});ae(["click"]);export{ve as default};
