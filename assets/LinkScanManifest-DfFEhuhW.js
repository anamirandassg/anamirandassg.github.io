const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DropDwnSearch--e5RSuwW.js","assets/index-DltPbqHD.js","assets/index-B8bAFC38.css","assets/debounces-DLGJQUQ8.js","assets/SVG-CT3adiDl.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ScanningManifestManual-B9K3rI-J.js","assets/Toast-DMBf6yw2.js","assets/Toast-DLpFKn-Q.css","assets/DashManifest-Cnedcrfp.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/DialogHRM-ByNTJ52m.js","assets/DialogHRM-V9_lZntj.css","assets/ScanningServices-D194iKMx.js","assets/FlexSpace-DKQYefyC.js","assets/LoadingColorSpinner-D0jtX9Ue.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/ButonHrm-Y4kFJ0cs.js","assets/ButonHrm-BSeWNUGQ.css","assets/CheckBoxSlide-Cz1zeBmv.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{c as u,l as o,_ as l,a as f,G as V,u as j,b as q,o as Q,d as G,i as n,e as d,F as K,ak as z,E as k,n as N,x as W,r as H,S as X,j as S,k as B,O as Z,t as I,ad as w,Z as J,al as U,am as Y,an as tt,ao as et}from"./index-DltPbqHD.js";import{h as st}from"./DashManifest-Cnedcrfp.js";import"./App.module-CbHnVtRQ.js";import"./DialogHRM-ByNTJ52m.js";import"./ScanningServices-D194iKMx.js";import"./Toast-DMBf6yw2.js";var at=I('<div class=" bottombx lowbordr centerBx "style=padding-top:26px;><h5>Escaneados'),it=I('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Associar a el Manifiesto </h2></div><div class=centerBx100 style=margin-top:20px>'),nt=I('<div style=background:#FFF;width:90%><div class="centerBx bottombx"><div class="icon_status centerBx"></div><h5 class=" centerBx "></h5><p class=" title_scan centerBx "></p></div><div class="centerBx bottombx"><h5></h5><div class=vertseparator></div><h4>');const[kt,St]=u();o(()=>l(()=>import("./DropDwnSearch--e5RSuwW.js"),__vite__mapDeps([0,1,2,3,4,5])));const rt=o(()=>l(()=>import("./ScanningManifestManual-B9K3rI-J.js"),__vite__mapDeps([6,1,2,7,8,9,10,11,12,13,14]))),ot=o(()=>l(()=>import("./SVG-CT3adiDl.js"),__vite__mapDeps([4,1,2]))),lt=o(()=>l(()=>import("./FlexSpace-DKQYefyC.js"),__vite__mapDeps([15,1,2])));o(()=>l(()=>import("./LoadingColorSpinner-D0jtX9Ue.js"),__vite__mapDeps([16,1,2,17])));const ct=o(()=>l(()=>import("./ButonHrm-Y4kFJ0cs.js"),__vite__mapDeps([18,1,2,4,19])));o(()=>l(()=>import("./CheckBoxSlide-Cz1zeBmv.js"),__vite__mapDeps([20,1,2,21])));const[Bt,It]=f(""),[x,dt]=f([]);function Mt(){u({});const[t,i]=V(),[a,c]=u({search:""});u();const[_,m]=u(),y=j();u();const[h,gt]=f(""),[pt,A]=f("");q(()=>{R()}),Q(()=>{}),G(async()=>{if(await st(),t?.mId){let s={id:t?.mId},r=await ut(s);A(t?.mId),c("manifestObj",r),m("linked",r?.linkedBags)}});function O(){return"geolocation"in navigator}function C(s){Y({latitude:s?.coords?.latitude,longitude:s?.coords?.longitude})}function R(){O()?navigator.geolocation.getCurrentPosition(C):showMessage("Geolocation isn't supported by your browser")}const D=async()=>{let s={..._?.linked};x().map(e=>{let b=e.ssg_track_key;s?.[b]||(s[b]={idairguide:e?.guia})}),m("linked",s);let r={ssg_manifest_key:t?.mId},g={linkedBags:s};if(w()){let e={...k("manifestList")};e?.[t?.mId]?.linkedBags||(e[t?.mId].linkedBags={}),e[t?.mId].linkedBags=s,J("manifestList",e),await U(et,tt,e)}else await _t(r,g);y(`/manifest-detail?mId=${t?.mId}`,{replace:!0}),setTimeout(()=>{dt([])},450)};return(()=>{var s=it(),r=s.firstChild;r.firstChild;var g=r.nextSibling;return n(r,d(ct,{color:"#c8193c",label:"Associar Manifiesto",handleClick:D}),null),n(g,d(rt,{get status(){return h()},get locat(){return h()}}),null),n(g,d(X,{get when(){return x()?.length>0},get children(){return[at(),d(K,{get each(){return z(x(),"timeStamp",0)},children:(e,b)=>(()=>{var p=nt(),M=p.firstChild,L=M.firstChild,v=L.nextSibling,E=v.nextSibling,P=M.nextSibling,$=P.firstChild,F=$.nextSibling,T=F.nextSibling;return n(L,d(ot,{get name(){return k("M023009")?.statusListIcons?.[e?.currentStatus]},size:32})),v.style.setProperty("padding","8px"),n(v,()=>e?.idairguide),E.style.setProperty("padding","8px"),n(E,()=>e?.tracking),n(p,d(lt,{}),P),n($,()=>e?.city),n(T,()=>e?.consigneeInfo?.ybestate),N(()=>W(p,`client_item_box gWXAaj jlytmu manifest  ${H()?"isMobile":"centerBx"}`)),p})()})]}}),null),s})()}const ut=async t=>{let i={params:t};if(w())return{...k("manifestList")?.[t?.id]};{let a=S(703003);return i={...i,...a},await B(i)}},_t=async(t,i)=>{let a={params:t,data2update:i},c=S(709002);a={...a,...c};const _=await B(a),m=Z(i?.linkedBags).map(async(y,h)=>{await mt({ssg_track_key:y,idairguide:"all"},{currentManifestKey:t?.ssg_manifest_key})});return await Promise.all(m),_},mt=async(t,i)=>{let a={params:t,data2update:i},c=S(809004);return a={...a,...c},await B(a)};export{Mt as default,x as manifestScan,kt as scannedQRs,dt as setManifestScan,St as setScannedQRs,It as setStatus,Bt as status,_t as updLinkedBags};
