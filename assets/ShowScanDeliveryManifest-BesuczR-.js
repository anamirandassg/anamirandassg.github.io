const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SVG-BHqu-2pP.js","assets/index-CKlS2mqf.js","assets/index-D4QuRvi-.css","assets/index-Ci0zXM0r.js","assets/FlexSpace-CQHbOlRW.js"])))=>i.map(i=>d[i]);
import{l as C,_ as x,a as y,o as A,m as R,i as b,d as _,f as I,e as $,t as N,j as q,g as T}from"./index-CKlS2mqf.js";import{H as L,a as G}from"./html5-qrcode-scanner-Cl8XE5pu.js";import"./DashManifest-DY_9Vx09.js";import"./ManifestDetails-BfR3GCJj.js";import"./DialogHRM-DLwa_5b8.js";import{g as w,i as M}from"./globalSignal-BjtWwNy3.js";import{b as j,u as B,f as O}from"./Util-dbxHFpkD.js";import"./DeliveryView-BqAlJtGL.js";import{setStatusD as H}from"./DeliveryScanView-CjZDErAr.js";import"./index-Ci0zXM0r.js";import"./App.module-CbHnVtRQ.js";import"./manifestList-CSHEgbpJ.js";import"./debounces-DfnYbmgs.js";import"./fontkit.es-DEjOtITv.js";import"./ButonHrm-Bcr7wX39.js";/* empty css                 */import"./SVG-BHqu-2pP.js";import"./qrcode-C5vWJp7P.js";import"./Toast-C66aE0jK.js";var Q=N('<div><div><div class="_dsplFlx bottombx lowbordr"><h5>Confirmar Entrega</h5><div class="icon_status centerBx"></div></div></div><div class=" flxWrp spaceAround centerBx"style="margin:30px 0"><div style=position:relative;><div></div><div id=qr-reader_SSDM style=width:300px>');const V=C(()=>x(()=>import("./SVG-BHqu-2pP.js"),__vite__mapDeps([0,1,2,3]))),Z=C(()=>x(()=>import("./FlexSpace-CQHbOlRW.js"),__vite__mapDeps([4,1,2])));function me(n){const[a,h]=y(""),[g,l]=y(""),[k,v]=y();A(()=>{j("cameraScanDelivery")?.clear()}),R(()=>{setTimeout(()=>{P()},90)});const S=(e,t)=>{e!==k()&&(v(e),setTimeout(()=>{v("")},3e3),E(e))},E=e=>{e||(e=a()),e=e.split("'").join("-"),new Date().getTime(),w?.latitude,w?.longitude,n?.status,q?.profile?.userId;let t=e.split("/");e.split("-").length>3&&(t=e.split("-").join);let r=t?.[0],o="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const i=new RegExp(o);let c=r.length===13&&i.test(r),f="^[0-9]{4}-[1-9]{4}";const d=new RegExp(f);let s=r.length===9&&d.test(r),m=t.length>4&&r.length===12,p={idairguide:t?.[0],":search0":t?.[1],":search1":t?.[3]};c&&(p={idairguide:"175-2383"+r.slice(3,7),":search0":r}),s&&(p={idairguide:"175-2383"+r.slice(0,4),":search0":r}),c||m||s?D(p):(l("alert"),setTimeout(()=>{l("")},1800))},D=async e=>{let t=await z(e),r=Object.keys(t)?.[0];if(t[r]?.cidentity){let o=t[r]?.cidentity,i=t[r]?.ssg_track_key,c={...n?.item};c?.customers?.[o]?.bagsNumb?.[i]?(l("success"),H(o,{[i]:"ST200"})):l("alert"),setTimeout(()=>{l("")},1800),c?.customers?.[o]?.bagsNumb?.[i],n?.callback(t[r])}else l("alert"),setTimeout(()=>{l("")},1800)},P=()=>{let e={fps:10,qrbox:{width:350,height:200},supportedScanTypes:[L.SCAN_TYPE_CAMERA],showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,verbose:!0},t=new G("qr-reader_SSDM",e);t.render(S),B("cameraScanDelivery",t)};return(()=>{var e=Q(),t=e.firstChild,r=t.firstChild,o=r.firstChild,i=o.nextSibling,c=t.nextSibling,f=c.firstChild,d=f.firstChild;return e.style.setProperty("max-height","80vh"),e.style.setProperty("overflow","auto"),e.style.setProperty("background","#ffffff"),e.style.setProperty("border-radius","13"),e.style.setProperty("padding","10px 19px"),o.$$click=S,b(r,_(Z,{}),i),i.$$click=()=>{},b(i,_(V,{name:"keyboard",size:32,color:"#2b2b2b"})),I(s=>{var m=M()?"92vw":"420px",p=`scanOverlay ${g()} `,u=g()?"block":"none";return m!==s.e&&((s.e=m)!=null?e.style.setProperty("width",m):e.style.removeProperty("width")),p!==s.t&&T(d,s.t=p),u!==s.a&&((s.a=u)!=null?d.style.setProperty("display",u):d.style.removeProperty("display")),s},{e:void 0,t:void 0,a:void 0}),e})()}const ue=n=>{let a=n,h="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const g=new RegExp(h);return a.length===13&&g.test(a)&&(a=a.slice(3,12)),a},z=async n=>await O({params:n,query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2"});$(["click"]);export{me as default,ue as parseTrcking};
