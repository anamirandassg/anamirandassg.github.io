const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-DcCkTiWG.js","assets/index-CoAlY6Bz.js","assets/index-DGHHyjai.css","assets/SVG-CyuAbRG7.js","assets/index-Ci0zXM0r.js","assets/ButonHrm-HrBPRPnY.js","assets/Util-uEfv1z7O.js","assets/ButonHrm-BSeWNUGQ.css","assets/InputHr-TdS_6j9q.js","assets/InputHr-M3rJ9grQ.css","assets/ShowQR-CfioZfVV.js","assets/globalSignal-CvECw4xu.js","assets/ShowQRPrintLabel-aA1y4bAC.js","assets/PDFButton-B_0lS8EG.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-BKe7DAJ7.js","assets/InitPrintServices-CprHcwF4.js","assets/Toast-CppYHN3s.js","assets/Toast-DLpFKn-Q.css","assets/ItemOnConsigner-BNvSrO5l.js","assets/DialogHRM-O8m0eRa5.js","assets/DialogHRM-V9_lZntj.css","assets/ContainerElasticView-pG07hUls.js","assets/ContainerElasticView-LzOd6fDI.css","assets/DropDwnSearch-QMUiRRO9.js","assets/debounces-BTavHbZN.js","assets/DropDwnSearch-DMkLkRPc.css","assets/CheckBoxSlide-BrpPgS54.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{l as N,_ as A,d as i,i as t,e as ce,t as o,S as b,j as de,f as O,n as ue,k as U,q as me,g as ge,a as T,w as Q,r as F,x as oe,M as W,b as ee,F as ae,m as he,y as _e}from"./index-CoAlY6Bz.js";import{a as j,p as be,c as ve,g as Z,O as ye,b as R,f as V}from"./Util-uEfv1z7O.js";import{OpenModal as ie,CloseModal as $e}from"./DialogHRM-O8m0eRa5.js";import fe from"./ContainerElasticView-pG07hUls.js";import{i as I}from"./globalSignal-CvECw4xu.js";import{c as xe}from"./ShowQRPrintLabel-aA1y4bAC.js";import"./index-Ci0zXM0r.js";import"./SVG-CyuAbRG7.js";/* empty css                             */import"./PDFButton-B_0lS8EG.js";import"./qrcode-C5vWJp7P.js";import"./fontkit.es-BKe7DAJ7.js";import"./InitPrintServices-CprHcwF4.js";import"./Toast-CppYHN3s.js";var we=o('<div class="centerBx bottombx"style=margin-top:10px;><h5>is SSG'),H=o('<div class="icon_status centerBx">'),Se=o("<div class=guide_number><h5>"),ke=o('<div class=" tr_bar_10 _dsplFlx">'),re=o("<div class=bag_number><h5>"),Ce=o("<div class=bottombx><h5>"),Be=o("<div><div>"),Ie=o('<p class="tr_bar_30 textleft fullName_consigne">'),Ne=o("<div style=margin-right:4vw>"),Ae=o('<h4 class="tr_bar_20 textleft">'),Pe=o("<div class=centerBx><div>"),Ee=o("<p>"),De=o("<div class=separator> "),Me=o('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),J=o("<div style=padding:4px>"),He=o('<div><div class="_dsplFlx topbx centerBx"></div><div class="centerBx bottombx"><div class="centerBx bottombx flxWrp"><h4></h4><div class=vertseparator></div><h5></h5><div class=vertseparator></div><h4></h4></div></div><div class="centerBx bottombx flxWrp">'),Le=o('<ul class=inline><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Movimientos</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">HBLS</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Embarcador</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Agency'),Te=o("<div class=tab>"),p=o("<div class=loader>Loading..."),se=o("<div>"),Oe=o('<div class="centerBx bottombx"><h4 class=""></h4><h5>el <!> a las <!> por</h5><h4 class="">'),ze=o('<div class="centerBx bottombx"><h4 class=""></h4>|<div class="icon_status centerBx"></div><h5> KG</h5>|<div class="icon_status centerBx"></div><h5> LB</h5>|<h4 class=""></h4><div class="icon_status centerBx">'),Fe=o("<h5>"),Re=o("<h4>"),Ve=o("<div class=bottombx><div><h4></h4></div><div><h5>"),pe=o("<div class=bottombx><div><h4>"),qe=o('<div><div style=max-height:220px></div><div class="centerBx flxWrp spaceAround ">'),Ge=o('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),Qe=o('<div class="centerBx flxWrp">');const K=N(()=>A(()=>import("./FlexSpace-DcCkTiWG.js"),__vite__mapDeps([0,1,2]))),S=N(()=>A(()=>import("./SVG-CyuAbRG7.js"),__vite__mapDeps([3,1,2,4]))),We=N(()=>A(()=>import("./ButonHrm-HrBPRPnY.js"),__vite__mapDeps([5,1,2,3,4,6,7]))),ne=N(()=>A(()=>import("./InputHr-TdS_6j9q.js"),__vite__mapDeps([8,1,2,9]))),Ye=N(()=>A(()=>import("./ShowQR-CfioZfVV.js"),__vite__mapDeps([10,1,2,11,12,13,4,14,15,16,6,17,18]))),je=N(()=>A(()=>import("./ItemOnConsigner-BNvSrO5l.js"),__vite__mapDeps([19,1,2,6,4,20,21,22,3,23,11,13,14,15,17,18,5,7]))),Ue=N(()=>A(()=>import("./DropDwnSearch-QMUiRRO9.js"),__vite__mapDeps([24,1,2,25,3,4,26]))),Ke=N(()=>A(()=>import("./CheckBoxSlide-BrpPgS54.js"),__vite__mapDeps([27,1,2,28])));let X={YABA_99:"check_circle"};function St(e){const r=c=>c?" "+c:"",n=()=>{let c=e?.item?.consigneeInfo;return r(c?.firstName)+r(c?.middleName)+r(c?.lastName)+r(c?.lastName2)},a=()=>{let c=e?.item?.consigneeInfo,u=r(c?.altPhoneNumber);return r(c?.phoneNumber)+(u?" |"+u:"")},s=()=>{let c=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let u=c.reduce((_,g)=>Math.min(_,g.timeStamp),1/0);return Math.floor((new Date().getTime()-u)/864e5)}else return null},d=async()=>{let u={ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"};e?.item?.bagnumber&&await at({id:e?.item?.bagnumber}),e?.item?.hbls?.map(async _=>{}),await lt(u),e?.refresh()},m=c=>{let u="";if(c)u=c,c.indexOf("/")>0&&(u=e?.item?.hblS.split("/")?.[2]);else if(e?.item?.hblS){let g=e?.item?.hblS;u=`${e?.item?.idairguide}/${e?.item?.cidentity}/${g}`}let _={};_.id=Z(),_.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},_.content=i(Ye,{val:u,get item(){return e?.item}}),ie(_)},y=async c=>{let u=await st(e?.item?.cidentity),_=ye(u)?.[0],g=Z(),f={};f.id=g,f.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},f.content=i(ct,{get item(){return u?.[_]},get it(){return e?.item},modalId:g}),ie(f)},x=c=>{let u=c,_="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const g=new RegExp(_);return u.length===13&&g.test(u)&&(u=u.slice(3,12)),u},L=async c=>{await z({ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"},{isSSG:c?"1":null})},C=async c=>{await z({ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"},{billedBy:c})};return i(b,{get when(){return e?.item?.cidentity},get children(){var c=He(),u=c.firstChild,_=u.nextSibling,g=_.firstChild,f=g.firstChild,B=f.nextSibling,P=B.nextSibling,E=P.nextSibling,w=E.nextSibling,D=_.nextSibling;return t(u,i(b,{get when(){return de(()=>!!U?.profile?.isAdmin)()&&!I()},get children(){var l=we(),h=l.firstChild;return t(l,i(Ke,{get initValue(){return e?.item?.isSSG},updChange:L,color:"var(--background-red-ssg)"}),h),l}}),null),t(u,i(b,{get when(){return e?.item?.cidentity},get children(){return[(()=>{var l=ke();return t(l,i(b,{get when(){return X[e?.item?.currentStatus]},get children(){var h=H();return t(h,i(S,{get name(){return X?.[e?.item?.currentStatus]},size:32,color:"var(--hrm-palette-tertiary60)"})),h}}),null),t(l,i(b,{get when(){return!X[e?.item?.currentStatus]},get children(){var h=H();return t(h,i(S,{get name(){return j("M023009")?.statusListIcons?.[e?.item?.currentStatus]},size:32})),h}}),null),t(l,i(b,{get when(){return s()},get children(){var h=Se(),v=h.firstChild;return t(v,s),h}}),null),l})(),i(b,{get when(){return I()},get children(){return[i(K,{}),(()=>{var l=Be(),h=l.firstChild;return t(h,i(b,{get when(){return e?.item?.bagnumber},get children(){var v=re(),k=v.firstChild;return v.$$click=()=>m(e?.item?.bagnumber),t(k,()=>e?.item?.bagnumber),v}})),t(l,i(b,{get when(){return e?.item?.tracking},get children(){var v=Ce(),k=v.firstChild;return v.$$click=()=>m(x(e?.item?.tracking)),t(k,()=>x(e?.item?.tracking)),v}}),null),l})()]}}),i(b,{get when(){return!I()},get children(){return[(()=>{var l=Ie();return t(l,n),O(()=>ue(l,"data-name",`${e?.item?.cidentity}`)),l})(),Ne(),(()=>{var l=Ae();return t(l,a),l})()]}})]}}),null),t(u,i(K,{}),null),t(u,i(b,{get when(){return!I()},get children(){var l=Pe(),h=l.firstChild;return t(h,i(b,{get when(){return e?.item?.bagnumber},get children(){var v=re(),k=v.firstChild;return v.$$click=()=>m(e?.item?.bagnumber),t(k,()=>x(e?.item?.bagnumber)),v}})),l}}),null),t(u,i(b,{get when(){return U?.profile?.isAdmin},get children(){var l=H();return l.$$click=y,t(l,i(S,{name:"home",size:24})),l}}),null),t(u,i(b,{get when(){return!e?.item?.bagnumber||U?.profile?.isAdmin},get children(){var l=H();return l.$$click=d,t(l,i(S,{name:"outline_delete",size:24})),l}}),null),t(_,i(b,{get when(){return!I()&&e?.item?.consigneeInfo?.ybstreet},get children(){var l=Ee();return t(l,()=>le(e?.item?.consigneeInfo)),l}}),g),t(_,i(K,{}),g),t(f,()=>e?.item?.consigneeInfo?.ybreparto),t(P,()=>e?.item?.consigneeInfo?.ybcity),t(w,()=>e?.item?.consigneeInfo?.ybestate),t(c,i(b,{get when(){return I()&&e?.item?.consigneeInfo?.ybcity},get children(){return[De(),(()=>{var l=Me(),h=l.firstChild,v=h.nextSibling,k=v.nextSibling,q=k.nextSibling;return t(h,n),t(k,a),t(q,()=>le(e?.item?.consigneeInfo)),l})()]}}),D),t(D,i(b,{get when(){return me()},get children(){var l=J();return t(l,i(Ue,{get list(){return j("M023009")?.usersListSSG},lbl_empty:"Billed by",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.item?.billedBy},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:h=>C(h?.id),width:"260px"})),l}})),t(c,i(Xe,{get item(){return e?.item}}),null),O(()=>ge(c,`client_item_box gWXAaj jlytmu ${I()?"isMobile":""}`)),c}})}const Xe=e=>{const[r,n]=T(0),[a,s]=_e(),d=m=>()=>s(()=>n(m));return i(fe,{get children(){return[(()=>{var m=Le(),y=m.firstChild,x=y.firstChild,L=x.firstChild,C=y.nextSibling,c=C.firstChild,u=c.firstChild,_=C.nextSibling,g=_.firstChild,f=g.firstChild,B=_.nextSibling,P=B.firstChild,E=P.firstChild;return Q(y,"click",d(1),!0),t(L,i(S,{name:"list_dot",size:24})),Q(C,"click",d(2),!0),t(u,i(S,{name:"receipt",size:24})),Q(_,"click",d(3),!0),t(f,i(S,{name:"send",size:24})),Q(B,"click",d(4),!0),t(E,i(S,{name:"store",size:24})),O(w=>{var D=r()===1,l=r()===2,h=r()===3,v=r()===4;return D!==w.e&&y.classList.toggle("selected",w.e=D),l!==w.t&&C.classList.toggle("selected",w.t=l),h!==w.a&&_.classList.toggle("selected",w.a=h),v!==w.o&&B.classList.toggle("selected",w.o=v),w},{e:void 0,t:void 0,a:void 0,o:void 0}),m})(),(()=>{var m=Te();return t(m,i(F,{get fallback(){return p()},get children(){return i(oe,{get children(){return[i(W,{get when(){return r()===1},get children(){return i(b,{get when(){return r()===1},get children(){return i(Ze,{index:1,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key},get currentStatus(){return e?.item?.currentStatus}})}})}}),i(W,{get when(){return r()===2},get children(){return i(b,{get when(){return r()===2},get children(){return i(et,{index:2,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(W,{get when(){return r()===3},get children(){return i(b,{get when(){return r()===3},get children(){return i(rt,{index:3,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(W,{get when(){return r()===4},get children(){return i(b,{get when(){return r()===4},get children(){return i(nt,{index:4,get agency(){return e?.item?.agency},get id(){return e?.item?.ssg_track_key}})}})}})]}})}})),O(()=>m.classList.toggle("pending",!!a())),m})()]}})},Ze=e=>{const[r,{refetch:n}]=ee(e?.id,async a=>{const s=await te(e?.idairguide,e?.id,["statusHistory","deliveryUserName","deliveryTime"]);let d=s?.statusHistory;if(s?.deliveryTime){let m={statusId:e?.currentStatus,timeStamp:s?.deliveryTime,userName:s?.deliveryUserName};d.push(m)}return d});return i(F,{get fallback(){return p()},get children(){var a=se();return t(a,i(ae,{get each(){return r()},children:s=>i(Je,{item:s})})),a}})},Je=e=>(()=>{var r=Oe(),n=r.firstChild,a=n.nextSibling,s=a.firstChild,d=s.nextSibling,m=d.nextSibling,y=m.nextSibling;y.nextSibling;var x=a.nextSibling;return t(n,()=>j("M023009")?.statusObjDesc[e?.item?.statusId]),t(a,()=>be(e?.item?.timeStamp),d),t(a,()=>ve(e?.item?.timeStamp),y),t(x,()=>e?.item?.userName),r})(),et=e=>{const[r,{refetch:n}]=ee(e?.id,async d=>(await te(e?.idairguide,e?.id,["hbls"]))?.hbls),a=async(d,m)=>{let y=[];r().map(x=>{x.hbl===d&&(x={...x,...m}),y.push(x)}),await z({ssg_track_key:e?.id,idairguide:"all"},{hbls:y}),n()},s=async d=>{let m=[];r().map(y=>{y.hbl!==d&&m.push(y)}),await z({ssg_track_key:e?.id,idairguide:"all"},{hbls:m}),n()};return i(F,{get fallback(){return p()},get children(){var d=se();return t(d,i(ae,{get each(){return r()},children:m=>i(it,{item:m,updHbls:a,rmvHbls:s})})),d}})},tt=2.20462,it=e=>{const[r,n]=T(0),[a,s]=T(0),[d,m]=T(0),[y,x]=T(0),L=g=>{xe(g)};he(()=>{e?.item?.pricePerPound&&m(e?.item?.pricePerPound),e?.item?.dutyFee&&x(e?.item?.dutyFee)});const C=(g,f,B)=>{e?.updHbls(e?.item?.hbl,{[g]:f}),B?n(!1):s(!1)},c=()=>{let g=e?.item?.pricePerPound;return g?"$ "+(g*1).toFixed(2):" agregar precio por libra"},u=()=>{let g=e?.item?.dutyFee;return g?"$ "+(g*1).toFixed(2):" agregar aranceles"},_=()=>{e?.rmvHbls(e?.item?.hbl)};return(()=>{var g=ze(),f=g.firstChild,B=f.nextSibling,P=B.nextSibling,E=P.nextSibling,w=E.firstChild,D=E.nextSibling,l=D.nextSibling,h=l.nextSibling,v=h.firstChild,k=h.nextSibling,q=k.nextSibling,G=q.nextSibling;return f.$$click=()=>L(e?.item?.hbl),t(f,()=>e?.item?.hbl),t(P,i(S,{name:"weight-kilogram",size:20})),t(E,()=>e?.item?.weight,w),t(l,i(S,{name:"weight-pound",size:20})),t(h,()=>(e?.item?.weight*tt).toFixed(2),v),t(q,()=>e?.item?.namegood),t(g,i(b,{get when(){return r()},get fallback(){return["|",(()=>{var $=H();return t($,i(S,{name:"money",size:20})),$})(),(()=>{var $=Fe();return $.$$click=()=>n(!r()),t($,c),$})()]},get children(){var $=J();return t($,i(ne,{width:"160px",backColor:"#ffffff",borderColor:"#b2b2b2",type:"number",borderActiveColor:"var(--background-red-ssg)",get value(){return d()},placeholder:"Precio por Libra",colors:"#2b2b2b",handleClick:M=>m(M),onEnter:M=>C("pricePerPound",M,1)})),$}}),G),t(g,i(b,{get when(){return a()},get fallback(){return["|",(()=>{var $=H();return t($,i(S,{name:"warehouse",size:20})),$})(),(()=>{var $=Re();return $.$$click=()=>s(!a()),t($,u),$})()]},get children(){var $=J();return t($,i(ne,{width:"160px",backColor:"#ffffff",borderColor:"#b2b2b2",type:"number",borderActiveColor:"var(--background-red-ssg)",get value(){return y()},placeholder:"Aranceles",colors:"#2b2b2b",handleClick:M=>x(M),onEnter:M=>C("dutyFee",M)})),$}}),G),G.$$click=_,t(G,i(S,{name:"outline_delete",size:20})),g})()},rt=e=>{const[r,{refetch:n}]=ee(e?.id,async a=>await te(e?.idairguide,e?.id,["nameshipper","shipperInfo:phoneNumber"]));return i(F,{get fallback(){return p()},get children(){var a=Ve(),s=a.firstChild,d=s.firstChild,m=s.nextSibling,y=m.firstChild;return t(d,()=>r()?.nameshipper),t(y,()=>r()?.shipperInfo?.phoneNumber),a}})},nt=e=>{const r=()=>j("M023009")?.agencies?.filter(a=>e?.agency===a?.id?.toString())?.[0];return i(F,{get fallback(){return p()},get children(){var n=pe(),a=n.firstChild,s=a.firstChild;return t(s,()=>r()?.label),n}})},lt=async e=>{let r={params:e},n=R(809005);return r={...r,...n},(await V(r))?.data},at=async e=>{let r={params:e},n=R(409098);return r={...r,...n},(await V(r))?.data},te=async(e,r,n)=>{let a={params:{id:r,idairguide:"all"},fldsQry:n},s=R(802002);a={...a,...s};const d=await V(a);return d?.data?.error?{}:d},st=async e=>{if(e.length>4){let r={params:{}};e&&e.split(" ").map((s,d)=>{s&&(r.params[":search"+d]=s.trim())});let n=R(401001);return r={...r,...n},await V(r)}else return{}},z=async(e,r)=>{let n={params:e,data2update:r},a=R(809004);return n={...n,...a},await V(n)},ct=e=>{const r=async()=>{let n={consigneeInfo:{cid:e?.item?.cid,firstName:e?.item?.firstName,lastName:e?.item?.lastName,lastName2:e?.item?.lastName2,middleName:e?.item?.middleName,phoneNumber:e?.item?.phoneNumber,ybapt:e?.item?.ybapt,ybbetwen1:e?.item?.ybbetwen1,ybbetwen2:e?.item?.ybbetwen2,ybcity:e?.item?.ybcity,ybestate:e?.item?.ybestate,ybreparto:e?.item?.ybreparto,ybstreet:e?.item?.ybstreet,ybstreetNo:e?.item?.ybstreetNo},city:e?.item?.ybcity,estate:e?.item?.ybestate};await z({ssg_track_key:e?.it?.ssg_track_key,idairguide:"all"},n),$e(e?.modalId)};return(()=>{var n=qe(),a=n.firstChild,s=a.nextSibling;return n.style.setProperty("height","clamp(20vh, 45vh, 80vh)"),n.style.setProperty("overflow","auto"),n.style.setProperty("background","#ffffff"),n.style.setProperty("border-radius","13"),n.style.setProperty("padding","10px 19px"),t(a,i(je,{get item(){return e?.item},refresh:()=>isOpenDebounced(Z())})),t(s,i(We,{color:"rgb(200 25 60 / 1)",label:"Actualizar",handleClick:r})),O(d=>(d=I()?"96vw":"920px")!=null?n.style.setProperty("width",d):n.style.removeProperty("width")),n})()},Y=(e,r)=>r?(()=>{var n=Ge(),a=n.firstChild,s=a.nextSibling;return t(a," "+e),t(s,r),n})():"",le=e=>(()=>{var r=Qe();return t(r,()=>Y("Calle",e?.ybstreet),null),t(r,()=>Y("#",e?.ybstreetNo),null),t(r,()=>Y("E/",e?.ybbetwen1),null),t(r,()=>Y("y",e?.ybbetwen2),null),r})();ce(["click"]);export{St as default,le as getAddress};
