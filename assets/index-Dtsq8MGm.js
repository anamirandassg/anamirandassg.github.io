function El(o,l){for(var a=0;a<l.length;a++){const u=l[a];if(typeof u!="string"&&!Array.isArray(u)){for(const h in u)if(h!=="default"&&!(h in o)){const f=Object.getOwnPropertyDescriptor(u,h);f&&Object.defineProperty(o,h,f.get?f:{enumerable:!0,get:()=>u[h]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))u(h);new MutationObserver(h=>{for(const f of h)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&u(p)}).observe(document,{childList:!0,subtree:!0});function a(h){const f={};return h.integrity&&(f.integrity=h.integrity),h.referrerPolicy&&(f.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?f.credentials="include":h.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(h){if(h.ep)return;h.ep=!0;const f=a(h);fetch(h.href,f)}})();const it={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Ro(this.context.count)},getNextContextId(){return Ro(this.context.count++)}};function Ro(o){const l=String(o),a=l.length-1;return it.context.id+(a?String.fromCharCode(96+a):"")+l}function Hn(o){it.context=o}const bl=(o,l)=>o===l,Fr=Symbol("solid-proxy"),U0=Symbol("solid-track"),gi={equals:bl};let jn=null,Gs=Js;const yr=1,qn=2,Xs={owned:null,cleanups:null,context:null,owner:null},Ki={};var rt=null;let je=null,_l=null,gt=null,Zt=null,Ut=null,Si=0;function _n(o,l){const a=gt,u=rt,h=o.length===0,f=l===void 0?u:l,p=h?Xs:{owned:null,cleanups:null,context:f?f.context:null,owner:f},C=h?o:()=>o(()=>Yt(()=>Qr(p)));rt=p,gt=null;try{return fr(C,!0)}finally{gt=a,rt=u}}function Je(o,l){l=l?Object.assign({},gi,l):gi;const a={value:o,observers:null,observerSlots:null,comparator:l.equals||void 0},u=h=>(typeof h=="function"&&(je&&je.running&&je.sources.has(a)?h=h(a.tValue):h=h(a.value)),Ks(a,h));return[Qs.bind(a),u]}function Fo(o,l,a){const u=Kn(o,l,!0,yr);Tn(u)}function yt(o,l,a){const u=Kn(o,l,!1,yr);Tn(u)}function Jr(o,l,a){Gs=Ol;const u=Kn(o,l,!1,yr),h=cn&&Ni(cn);h&&(u.suspense=h),u.user=!0,Ut?Ut.push(u):Tn(u)}function vt(o,l,a){a=a?Object.assign({},gi,a):gi;const u=Kn(o,l,!0,0);return u.observers=null,u.observerSlots=null,u.comparator=a.equals||void 0,Tn(u),Qs.bind(u)}function Sl(o){return o&&typeof o=="object"&&"then"in o}function Ii(o,l,a){let u,h,f;arguments.length===2&&typeof l=="object"||arguments.length===1?(u=!0,h=o,f=l||{}):(u=o,h=l,f={});let p=null,C=Ki,w=null,x=!1,m=!1,A="initialValue"in f,b=typeof u=="function"&&vt(u);const S=new Set,[_,E]=(f.storage||Je)(f.initialValue),[D,R]=Je(void 0),[B,N]=Je(void 0,{equals:!1}),[M,J]=Je(A?"ready":"unresolved");it.context&&(w=it.getNextContextId(),f.ssrLoadFrom==="initial"?C=f.initialValue:it.load&&it.has(w)&&(C=it.load(w)));function $(ie,fe,he,z){return p===ie&&(p=null,z!==void 0&&(A=!0),(ie===C||fe===C)&&f.onHydrated&&queueMicrotask(()=>f.onHydrated(z,{value:fe})),C=Ki,je&&ie&&x?(je.promises.delete(ie),x=!1,fr(()=>{je.running=!0,j(fe,he)},!1)):j(fe,he)),fe}function j(ie,fe){fr(()=>{fe===void 0&&E(()=>ie),J(fe!==void 0?"errored":A?"ready":"unresolved"),R(fe);for(const he of S.keys())he.decrement();S.clear()},!1)}function ce(){const ie=cn&&Ni(cn),fe=_(),he=D();if(he!==void 0&&!p)throw he;return gt&&!gt.user&&ie&&Fo(()=>{B(),p&&(ie.resolved&&je&&x?je.promises.add(p):S.has(ie)||(ie.increment(),S.add(ie)))}),fe}function ae(ie=!0){if(ie!==!1&&m)return;m=!1;const fe=b?b():u;if(x=je&&je.running,fe==null||fe===!1){$(p,Yt(_));return}je&&p&&je.promises.delete(p);const he=C!==Ki?C:Yt(()=>h(fe,{value:_(),refetching:ie}));return Sl(he)?(p=he,"value"in he?(he.status==="success"?$(p,he.value,void 0,fe):$(p,void 0,z0(he.value),fe),he):(m=!0,queueMicrotask(()=>m=!1),fr(()=>{J(A?"refreshing":"pending"),N()},!1),he.then(z=>$(he,z,void 0,fe),z=>$(he,void 0,z0(z),fe)))):($(p,he,void 0,fe),he)}return Object.defineProperties(ce,{state:{get:()=>M()},error:{get:()=>D()},loading:{get(){const ie=M();return ie==="pending"||ie==="refreshing"}},latest:{get(){if(!A)return ce();const ie=D();if(ie&&!p)throw ie;return _()}}}),b?Fo(()=>ae(!1)):ae(!1),[ce,{refetch:ae,mutate:E}]}function Ys(o){return fr(o,!1)}function Yt(o){if(gt===null)return o();const l=gt;gt=null;try{return o()}finally{gt=l}}function K0(o,l,a){const u=Array.isArray(o);let h,f=a&&a.defer;return p=>{let C;if(u){C=Array(o.length);for(let x=0;x<o.length;x++)C[x]=o[x]()}else C=o();if(f)return f=!1,p;const w=Yt(()=>l(C,h,p));return h=C,w}}function Di(o){Jr(()=>Yt(o))}function Sr(o){return rt===null||(rt.cleanups===null?rt.cleanups=[o]:rt.cleanups.push(o)),o}function Il(o,l){jn||(jn=Symbol("error")),rt=Kn(void 0,void 0,!0),rt.context={...rt.context,[jn]:[l]},je&&je.running&&je.sources.add(rt);try{return o()}catch(a){Jn(a)}finally{rt=rt.owner}}function H0(){return gt}function Ti(){return rt}function qs(o,l){const a=rt,u=gt;rt=o,gt=null;try{return fr(l,!0)}catch(h){Jn(h)}finally{rt=a,gt=u}}function $s(o){if(je&&je.running)return o(),je.done;const l=gt,a=rt;return Promise.resolve().then(()=>{gt=l,rt=a;let u;return cn&&(u=je||(je={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),u.done||(u.done=new Promise(h=>u.resolve=h)),u.running=!0),fr(o,!1),gt=rt=null,u?u.done:void 0})}const[Dl,Lo]=Je(!1);function Zs(){return[Dl,$s]}function Tl(o){Ut.push.apply(Ut,o),o.length=0}function Bi(o,l){const a=Symbol("context");return{id:a,Provider:Ml(a),defaultValue:o}}function Ni(o){let l;return rt&&rt.context&&(l=rt.context[o.id])!==void 0?l:o.defaultValue}function Oi(o){const l=vt(o),a=vt(()=>j0(l()));return a.toArray=()=>{const u=a();return Array.isArray(u)?u:u!=null?[u]:[]},a}let cn;function Bl(){return cn||(cn=Bi())}function Qs(){const o=je&&je.running;if(this.sources&&(o?this.tState:this.state))if((o?this.tState:this.state)===yr)Tn(this);else{const l=Zt;Zt=null,fr(()=>mi(this),!1),Zt=l}if(gt){const l=this.observers?this.observers.length:0;gt.sources?(gt.sources.push(this),gt.sourceSlots.push(l)):(gt.sources=[this],gt.sourceSlots=[l]),this.observers?(this.observers.push(gt),this.observerSlots.push(gt.sources.length-1)):(this.observers=[gt],this.observerSlots=[gt.sources.length-1])}return o&&je.sources.has(this)?this.tValue:this.value}function Ks(o,l,a){let u=je&&je.running&&je.sources.has(o)?o.tValue:o.value;if(!o.comparator||!o.comparator(u,l)){if(je){const h=je.running;(h||!a&&je.sources.has(o))&&(je.sources.add(o),o.tValue=l),h||(o.value=l)}else o.value=l;o.observers&&o.observers.length&&fr(()=>{for(let h=0;h<o.observers.length;h+=1){const f=o.observers[h],p=je&&je.running;p&&je.disposed.has(f)||((p?!f.tState:!f.state)&&(f.pure?Zt.push(f):Ut.push(f),f.observers&&ea(f)),p?f.tState=yr:f.state=yr)}if(Zt.length>1e6)throw Zt=[],new Error},!1)}return l}function Tn(o){if(!o.fn)return;Qr(o);const l=Si;ko(o,je&&je.running&&je.sources.has(o)?o.tValue:o.value,l),je&&!je.running&&je.sources.has(o)&&queueMicrotask(()=>{fr(()=>{je&&(je.running=!0),gt=rt=o,ko(o,o.tValue,l),gt=rt=null},!1)})}function ko(o,l,a){let u;const h=rt,f=gt;gt=rt=o;try{u=o.fn(l)}catch(p){return o.pure&&(je&&je.running?(o.tState=yr,o.tOwned&&o.tOwned.forEach(Qr),o.tOwned=void 0):(o.state=yr,o.owned&&o.owned.forEach(Qr),o.owned=null)),o.updatedAt=a+1,Jn(p)}finally{gt=f,rt=h}(!o.updatedAt||o.updatedAt<=a)&&(o.updatedAt!=null&&"observers"in o?Ks(o,u,!0):je&&je.running&&o.pure?(je.sources.add(o),o.tValue=u):o.value=u,o.updatedAt=a)}function Kn(o,l,a,u=yr,h){const f={fn:o,state:u,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:l,owner:rt,context:rt?rt.context:null,pure:a};return je&&je.running&&(f.state=0,f.tState=u),rt===null||rt!==Xs&&(je&&je.running&&rt.pure?rt.tOwned?rt.tOwned.push(f):rt.tOwned=[f]:rt.owned?rt.owned.push(f):rt.owned=[f]),f}function pi(o){const l=je&&je.running;if((l?o.tState:o.state)===0)return;if((l?o.tState:o.state)===qn)return mi(o);if(o.suspense&&Yt(o.suspense.inFallback))return o.suspense.effects.push(o);const a=[o];for(;(o=o.owner)&&(!o.updatedAt||o.updatedAt<Si);){if(l&&je.disposed.has(o))return;(l?o.tState:o.state)&&a.push(o)}for(let u=a.length-1;u>=0;u--){if(o=a[u],l){let h=o,f=a[u+1];for(;(h=h.owner)&&h!==f;)if(je.disposed.has(h))return}if((l?o.tState:o.state)===yr)Tn(o);else if((l?o.tState:o.state)===qn){const h=Zt;Zt=null,fr(()=>mi(o,a[0]),!1),Zt=h}}}function fr(o,l){if(Zt)return o();let a=!1;l||(Zt=[]),Ut?a=!0:Ut=[],Si++;try{const u=o();return Nl(a),u}catch(u){a||(Ut=null),Zt=null,Jn(u)}}function Nl(o){if(Zt&&(Js(Zt),Zt=null),o)return;let l;if(je){if(!je.promises.size&&!je.queue.size){const u=je.sources,h=je.disposed;Ut.push.apply(Ut,je.effects),l=je.resolve;for(const f of Ut)"tState"in f&&(f.state=f.tState),delete f.tState;je=null,fr(()=>{for(const f of h)Qr(f);for(const f of u){if(f.value=f.tValue,f.owned)for(let p=0,C=f.owned.length;p<C;p++)Qr(f.owned[p]);f.tOwned&&(f.owned=f.tOwned),delete f.tValue,delete f.tOwned,f.tState=0}Lo(!1)},!1)}else if(je.running){je.running=!1,je.effects.push.apply(je.effects,Ut),Ut=null,Lo(!0);return}}const a=Ut;Ut=null,a.length&&fr(()=>Gs(a),!1),l&&l()}function Js(o){for(let l=0;l<o.length;l++)pi(o[l])}function Ol(o){let l,a=0;for(l=0;l<o.length;l++){const u=o[l];u.user?o[a++]=u:pi(u)}if(it.context){if(it.count){it.effects||(it.effects=[]),it.effects.push(...o.slice(0,a));return}Hn()}for(it.effects&&(it.done||!it.count)&&(o=[...it.effects,...o],a+=it.effects.length,delete it.effects),l=0;l<a;l++)pi(o[l])}function mi(o,l){const a=je&&je.running;a?o.tState=0:o.state=0;for(let u=0;u<o.sources.length;u+=1){const h=o.sources[u];if(h.sources){const f=a?h.tState:h.state;f===yr?h!==l&&(!h.updatedAt||h.updatedAt<Si)&&pi(h):f===qn&&mi(h,l)}}}function ea(o){const l=je&&je.running;for(let a=0;a<o.observers.length;a+=1){const u=o.observers[a];(l?!u.tState:!u.state)&&(l?u.tState=qn:u.state=qn,u.pure?Zt.push(u):Ut.push(u),u.observers&&ea(u))}}function Qr(o){let l;if(o.sources)for(;o.sources.length;){const a=o.sources.pop(),u=o.sourceSlots.pop(),h=a.observers;if(h&&h.length){const f=h.pop(),p=a.observerSlots.pop();u<h.length&&(f.sourceSlots[p]=u,h[u]=f,a.observerSlots[u]=p)}}if(je&&je.running&&o.pure){if(o.tOwned){for(l=o.tOwned.length-1;l>=0;l--)Qr(o.tOwned[l]);delete o.tOwned}ta(o,!0)}else if(o.owned){for(l=o.owned.length-1;l>=0;l--)Qr(o.owned[l]);o.owned=null}if(o.cleanups){for(l=o.cleanups.length-1;l>=0;l--)o.cleanups[l]();o.cleanups=null}je&&je.running?o.tState=0:o.state=0}function ta(o,l){if(l||(o.tState=0,je.disposed.add(o)),o.owned)for(let a=0;a<o.owned.length;a++)ta(o.owned[a])}function z0(o){return o instanceof Error?o:new Error(typeof o=="string"?o:"Unknown error",{cause:o})}function Po(o,l,a){try{for(const u of l)u(o)}catch(u){Jn(u,a&&a.owner||null)}}function Jn(o,l=rt){const a=jn&&l&&l.context&&l.context[jn],u=z0(o);if(!a)throw u;Ut?Ut.push({fn(){Po(u,a,l)},state:yr}):Po(u,a,l)}function j0(o){if(typeof o=="function"&&!o.length)return j0(o());if(Array.isArray(o)){const l=[];for(let a=0;a<o.length;a++){const u=j0(o[a]);Array.isArray(u)?l.push.apply(l,u):l.push(u)}return l}return o}function Ml(o,l){return function(u){let h;return yt(()=>h=Yt(()=>(rt.context={...rt.context,[o]:u.value},Oi(()=>u.children))),void 0),h}}const Rl=Symbol("fallback");function Uo(o){for(let l=0;l<o.length;l++)o[l]()}function Fl(o,l,a={}){let u=[],h=[],f=[],p=0,C=l.length>1?[]:null;return Sr(()=>Uo(f)),()=>{let w=o()||[],x=w.length,m,A;return w[U0],Yt(()=>{let S,_,E,D,R,B,N,M,J;if(x===0)p!==0&&(Uo(f),f=[],u=[],h=[],p=0,C&&(C=[])),a.fallback&&(u=[Rl],h[0]=_n($=>(f[0]=$,a.fallback())),p=1);else if(p===0){for(h=new Array(x),A=0;A<x;A++)u[A]=w[A],h[A]=_n(b);p=x}else{for(E=new Array(x),D=new Array(x),C&&(R=new Array(x)),B=0,N=Math.min(p,x);B<N&&u[B]===w[B];B++);for(N=p-1,M=x-1;N>=B&&M>=B&&u[N]===w[M];N--,M--)E[M]=h[N],D[M]=f[N],C&&(R[M]=C[N]);for(S=new Map,_=new Array(M+1),A=M;A>=B;A--)J=w[A],m=S.get(J),_[A]=m===void 0?-1:m,S.set(J,A);for(m=B;m<=N;m++)J=u[m],A=S.get(J),A!==void 0&&A!==-1?(E[A]=h[m],D[A]=f[m],C&&(R[A]=C[m]),A=_[A],S.set(J,A)):f[m]();for(A=B;A<x;A++)A in E?(h[A]=E[A],f[A]=D[A],C&&(C[A]=R[A],C[A](A))):h[A]=_n(b);h=h.slice(0,p=x),u=w.slice(0)}return h});function b(S){if(f[A]=S,C){const[_,E]=Je(A);return C[A]=E,l(w[A],_)}return l(w[A])}}}function Se(o,l){return Yt(()=>o(l||{}))}function fi(){return!0}const Ll={get(o,l,a){return l===Fr?a:o.get(l)},has(o,l){return l===Fr?!0:o.has(l)},set:fi,deleteProperty:fi,getOwnPropertyDescriptor(o,l){return{configurable:!0,enumerable:!0,get(){return o.get(l)},set:fi,deleteProperty:fi}},ownKeys(o){return o.keys()}};function Ji(o){return(o=typeof o=="function"?o():o)?o:{}}function kl(){for(let o=0,l=this.length;o<l;++o){const a=this[o]();if(a!==void 0)return a}}function Pl(...o){let l=!1;for(let p=0;p<o.length;p++){const C=o[p];l=l||!!C&&Fr in C,o[p]=typeof C=="function"?(l=!0,vt(C)):C}if(l)return new Proxy({get(p){for(let C=o.length-1;C>=0;C--){const w=Ji(o[C])[p];if(w!==void 0)return w}},has(p){for(let C=o.length-1;C>=0;C--)if(p in Ji(o[C]))return!0;return!1},keys(){const p=[];for(let C=0;C<o.length;C++)p.push(...Object.keys(Ji(o[C])));return[...new Set(p)]}},Ll);const a={},u=Object.create(null);for(let p=o.length-1;p>=0;p--){const C=o[p];if(!C)continue;const w=Object.getOwnPropertyNames(C);for(let x=w.length-1;x>=0;x--){const m=w[x];if(m==="__proto__"||m==="constructor")continue;const A=Object.getOwnPropertyDescriptor(C,m);if(!u[m])u[m]=A.get?{enumerable:!0,configurable:!0,get:kl.bind(a[m]=[A.get.bind(C)])}:A.value!==void 0?A:void 0;else{const b=a[m];b&&(A.get?b.push(A.get.bind(C)):A.value!==void 0&&b.push(()=>A.value))}}}const h={},f=Object.keys(u);for(let p=f.length-1;p>=0;p--){const C=f[p],w=u[C];w&&w.get?Object.defineProperty(h,C,w):h[C]=w?w.value:void 0}return h}const ra=o=>`Stale read from <${o}>.`;function $n(o){const l="fallback"in o&&{fallback:()=>o.fallback};return vt(Fl(()=>o.each,o.children,l||void 0))}function Ze(o){const l=o.keyed,a=vt(()=>o.when,void 0,{equals:(u,h)=>l?u===h:!u==!h});return vt(()=>{const u=a();if(u){const h=o.children;return typeof h=="function"&&h.length>0?Yt(()=>h(l?u:()=>{if(!Yt(a))throw ra("Show");return o.when})):h}return o.fallback},void 0,void 0)}function na(o){let l=!1;const a=(f,p)=>(l?f[1]===p[1]:!f[1]==!p[1])&&f[2]===p[2],u=Oi(()=>o.children),h=vt(()=>{let f=u();Array.isArray(f)||(f=[f]);for(let p=0;p<f.length;p++){const C=f[p].when;if(C)return l=!!f[p].keyed,[p,C,f[p]]}return[-1]},void 0,{equals:a});return vt(()=>{const[f,p,C]=h();if(f<0)return o.fallback;const w=C.children;return typeof w=="function"&&w.length>0?Yt(()=>w(l?p:()=>{if(Yt(h)[0]!==f)throw ra("Match");return C.when})):w},void 0,void 0)}function Wn(o){return o}let En;function Ul(){En&&[...En].forEach(o=>o())}function ia(o){let l;it.context&&it.load&&(l=it.load(it.getContextId()));const[a,u]=Je(l,void 0);return En||(En=new Set),En.add(u),Sr(()=>En.delete(u)),vt(()=>{let h;if(h=a()){const f=o.fallback;return typeof f=="function"&&f.length?Yt(()=>f(h,()=>u())):f}return Il(()=>o.children,u)},void 0,void 0)}const Hl=Bi();function ei(o){let l=0,a,u,h,f,p;const[C,w]=Je(!1),x=Bl(),m={increment:()=>{++l===1&&w(!0)},decrement:()=>{--l===0&&w(!1)},inFallback:C,effects:[],resolved:!1},A=Ti();if(it.context&&it.load){const _=it.getContextId();let E=it.load(_);if(E&&(typeof E!="object"||E.status!=="success"?h=E:it.gather(_)),h&&h!=="$$f"){const[D,R]=Je(void 0,{equals:!1});f=D,h.then(()=>{if(it.done)return R();it.gather(_),Hn(u),R(),Hn()},B=>{p=B,R()})}}const b=Ni(Hl);b&&(a=b.register(m.inFallback));let S;return Sr(()=>S&&S()),Se(x.Provider,{value:m,get children(){return vt(()=>{if(p)throw p;if(u=it.context,f)return f(),f=void 0;u&&h==="$$f"&&Hn();const _=vt(()=>o.children);return vt(E=>{const D=m.inFallback(),{showContent:R=!0,showFallback:B=!0}=a?a():{};if((!D||h&&h!=="$$f")&&R)return m.resolved=!0,S&&S(),S=u=h=void 0,Tl(m.effects),_();if(B)return S?E:_n(N=>(S=N,u&&(Hn({id:u.id+"F",count:0}),u=void 0),o.fallback),A)})})}})}function zl(o,l,a){let u=a.length,h=l.length,f=u,p=0,C=0,w=l[h-1].nextSibling,x=null;for(;p<h||C<f;){if(l[p]===a[C]){p++,C++;continue}for(;l[h-1]===a[f-1];)h--,f--;if(h===p){const m=f<u?C?a[C-1].nextSibling:a[f-C]:w;for(;C<f;)o.insertBefore(a[C++],m)}else if(f===C)for(;p<h;)(!x||!x.has(l[p]))&&l[p].remove(),p++;else if(l[p]===a[f-1]&&a[C]===l[h-1]){const m=l[--h].nextSibling;o.insertBefore(a[C++],l[p++].nextSibling),o.insertBefore(a[--f],m),l[h]=a[f]}else{if(!x){x=new Map;let A=C;for(;A<f;)x.set(a[A],A++)}const m=x.get(l[p]);if(m!=null)if(C<m&&m<f){let A=p,b=1,S;for(;++A<h&&A<f&&!((S=x.get(l[A]))==null||S!==m+b);)b++;if(b>m-C){const _=l[p];for(;C<m;)o.insertBefore(a[C++],_)}else o.replaceChild(a[C++],l[p++])}else p++;else l[p++].remove()}}}const Ho="_$DX_DELEGATE";function jl(o,l,a,u={}){let h;return _n(f=>{h=f,l===document?o():Te(l,o(),l.firstChild?null:void 0,a)},u.owner),()=>{h(),l.textContent=""}}function We(o,l,a){let u;const h=()=>{const p=document.createElement("template");return p.innerHTML=o,p.content.firstChild},f=()=>(u||(u=h())).cloneNode(!0);return f.cloneNode=f,f}function hr(o,l=window.document){const a=l[Ho]||(l[Ho]=new Set);for(let u=0,h=o.length;u<h;u++){const f=o[u];a.has(f)||(a.add(f),l.addEventListener(f,Vl))}}function Jt(o,l,a){J0(o)||(a==null?o.removeAttribute(l):o.setAttribute(l,a))}function _r(o,l){J0(o)||(l==null?o.removeAttribute("class"):o.className=l)}function Vn(o,l,a,u){Array.isArray(a)?(o[`$$${l}`]=a[0],o[`$$${l}Data`]=a[1]):o[`$$${l}`]=a}function un(o,l,a){if(!l)return a?Jt(o,"style"):l;const u=o.style;if(typeof l=="string")return u.cssText=l;typeof a=="string"&&(u.cssText=a=void 0),a||(a={}),l||(l={});let h,f;for(f in a)l[f]==null&&u.removeProperty(f),delete a[f];for(f in l)h=l[f],h!==a[f]&&(u.setProperty(f,h),a[f]=h);return a}function Wl(o,l,a){return Yt(()=>o(l,a))}function Te(o,l,a,u){if(a!==void 0&&!u&&(u=[]),typeof l!="function")return Ci(o,l,u,a);yt(h=>Ci(o,l(),h,a),u)}function J0(o){return!!it.context&&!it.done&&(!o||o.isConnected)}function Vl(o){if(it.registry&&it.events&&it.events.find(([u,h])=>h===o))return;const l=`$$${o.type}`;let a=o.composedPath&&o.composedPath()[0]||o.target;for(o.target!==a&&Object.defineProperty(o,"target",{configurable:!0,value:a}),Object.defineProperty(o,"currentTarget",{configurable:!0,get(){return a||document}}),it.registry&&!it.done&&(it.done=_$HY.done=!0);a;){const u=a[l];if(u&&!a.disabled){const h=a[`${l}Data`];if(h!==void 0?u.call(a,h,o):u.call(a,o),o.cancelBubble)return}a=a._$host||a.parentNode||a.host}}function Ci(o,l,a,u,h){const f=J0(o);if(f){!a&&(a=[...o.childNodes]);let w=[];for(let x=0;x<a.length;x++){const m=a[x];m.nodeType===8&&m.data.slice(0,2)==="!$"?m.remove():w.push(m)}a=w}for(;typeof a=="function";)a=a();if(l===a)return a;const p=typeof l,C=u!==void 0;if(o=C&&a[0]&&a[0].parentNode||o,p==="string"||p==="number"){if(f||p==="number"&&(l=l.toString(),l===a))return a;if(C){let w=a[0];w&&w.nodeType===3?w.data!==l&&(w.data=l):w=document.createTextNode(l),a=vn(o,a,u,w)}else a!==""&&typeof a=="string"?a=o.firstChild.data=l:a=o.textContent=l}else if(l==null||p==="boolean"){if(f)return a;a=vn(o,a,u)}else{if(p==="function")return yt(()=>{let w=l();for(;typeof w=="function";)w=w();a=Ci(o,w,a,u)}),()=>a;if(Array.isArray(l)){const w=[],x=a&&Array.isArray(a);if(W0(w,l,a,h))return yt(()=>a=Ci(o,w,a,u,!0)),()=>a;if(f){if(!w.length)return a;if(u===void 0)return a=[...o.childNodes];let m=w[0];if(m.parentNode!==o)return a;const A=[m];for(;(m=m.nextSibling)!==u;)A.push(m);return a=A}if(w.length===0){if(a=vn(o,a,u),C)return a}else x?a.length===0?zo(o,w,u):zl(o,a,w):(a&&vn(o),zo(o,w));a=w}else if(l.nodeType){if(f&&l.parentNode)return a=C?[l]:l;if(Array.isArray(a)){if(C)return a=vn(o,a,u,l);vn(o,a,null,l)}else a==null||a===""||!o.firstChild?o.appendChild(l):o.replaceChild(l,o.firstChild);a=l}}return a}function W0(o,l,a,u){let h=!1;for(let f=0,p=l.length;f<p;f++){let C=l[f],w=a&&a[o.length],x;if(!(C==null||C===!0||C===!1))if((x=typeof C)=="object"&&C.nodeType)o.push(C);else if(Array.isArray(C))h=W0(o,C,w)||h;else if(x==="function")if(u){for(;typeof C=="function";)C=C();h=W0(o,Array.isArray(C)?C:[C],Array.isArray(w)?w:[w])||h}else o.push(C),h=!0;else{const m=String(C);w&&w.nodeType===3&&w.data===m?o.push(w):o.push(document.createTextNode(m))}}return h}function zo(o,l,a=null){for(let u=0,h=l.length;u<h;u++)o.insertBefore(l[u],a)}function vn(o,l,a,u){if(a===void 0)return o.textContent="";const h=u||document.createTextNode("");if(l.length){let f=!1;for(let p=l.length-1;p>=0;p--){const C=l[p];if(h!==C){const w=C.parentNode===o;!f&&!p?w?o.replaceChild(h,C):o.insertBefore(h,a):w&&C.remove()}else f=!0}}else o.insertBefore(h,a);return[h]}const Gl=!1;function oa(){let o=new Set;function l(h){return o.add(h),()=>o.delete(h)}let a=!1;function u(h,f){if(a)return!(a=!1);const p={to:h,options:f,defaultPrevented:!1,preventDefault:()=>p.defaultPrevented=!0};for(const C of o)C.listener({...p,from:C.location,retry:w=>{w&&(a=!0),C.navigate(h,{...f,resolve:!1})}});return!p.defaultPrevented}return{subscribe:l,confirm:u}}let V0;function eo(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),V0=window.history.state._depth}eo();function Xl(o){return{...o,_depth:window.history.state&&window.history.state._depth}}function Yl(o,l){let a=!1;return()=>{const u=V0;eo();const h=u==null?null:V0-u;if(a){a=!1;return}h&&l(h)?(a=!0,window.history.go(-h)):o()}}const ql=/^(?:[a-z0-9]+:)?\/\//i,$l=/^\/+|(\/)\/+$/g,sa="http://sr";function Gn(o,l=!1){const a=o.replace($l,"$1");return a?l||/^[?#]/.test(a)?a:"/"+a:""}function di(o,l,a){if(ql.test(l))return;const u=Gn(o),h=a&&Gn(a);let f="";return!h||l.startsWith("/")?f=u:h.toLowerCase().indexOf(u.toLowerCase())!==0?f=u+h:f=h,(f||"/")+Gn(l,!f)}function Zl(o,l){return Gn(o).replace(/\/*(\*.*)?$/g,"")+Gn(l)}function aa(o){const l={};return o.searchParams.forEach((a,u)=>{l[u]=a}),l}function Ql(o,l,a){const[u,h]=o.split("/*",2),f=u.split("/").filter(Boolean),p=f.length;return C=>{const w=C.split("/").filter(Boolean),x=w.length-p;if(x<0||x>0&&h===void 0&&!l)return null;const m={path:p?"":"/",params:{}},A=b=>a===void 0?void 0:a[b];for(let b=0;b<p;b++){const S=f[b],_=w[b],E=S[0]===":",D=E?S.slice(1):S;if(E&&e0(_,A(D)))m.params[D]=_;else if(E||!e0(_,S))return null;m.path+=`/${_}`}if(h){const b=x?w.slice(-x).join("/"):"";if(e0(b,A(h)))m.params[h]=b;else return null}return m}}function e0(o,l){const a=u=>u.localeCompare(o,void 0,{sensitivity:"base"})===0;return l===void 0?!0:typeof l=="string"?a(l):typeof l=="function"?l(o):Array.isArray(l)?l.some(a):l instanceof RegExp?l.test(o):!1}function Kl(o){const[l,a]=o.pattern.split("/*",2),u=l.split("/").filter(Boolean);return u.reduce((h,f)=>h+(f.startsWith(":")?2:3),u.length-(a===void 0?0:1))}function la(o){const l=new Map,a=Ti();return new Proxy({},{get(u,h){return l.has(h)||qs(a,()=>l.set(h,vt(()=>o()[h]))),l.get(h)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(o())}})}function ca(o){let l=/(\/?\:[^\/]+)\?/.exec(o);if(!l)return[o];let a=o.slice(0,l.index),u=o.slice(l.index+l[0].length);const h=[a,a+=l[1]];for(;l=/^(\/\:[^\/]+)\?/.exec(u);)h.push(a+=l[1]),u=u.slice(l[0].length);return ca(u).reduce((f,p)=>[...f,...h.map(C=>C+p)],[])}const Jl=100,ec=Bi(),ua=Bi();function tc(o,l=""){const{component:a,preload:u,load:h,children:f,info:p}=o,C=!f||Array.isArray(f)&&!f.length,w={key:o,component:a,preload:u||h,info:p};return fa(o.path).reduce((x,m)=>{for(const A of ca(m)){const b=Zl(l,A);let S=C?b:b.split("/*",1)[0];S=S.split("/").map(_=>_.startsWith(":")||_.startsWith("*")?_:encodeURIComponent(_)).join("/"),x.push({...w,originalPath:m,pattern:S,matcher:Ql(S,!C,o.matchFilters)})}return x},[])}function rc(o,l=0){return{routes:o,score:Kl(o[o.length-1])*1e4-l,matcher(a){const u=[];for(let h=o.length-1;h>=0;h--){const f=o[h],p=f.matcher(a);if(!p)return null;u.unshift({...p,route:f})}return u}}}function fa(o){return Array.isArray(o)?o:[o]}function ha(o,l="",a=[],u=[]){const h=fa(o);for(let f=0,p=h.length;f<p;f++){const C=h[f];if(C&&typeof C=="object"){C.hasOwnProperty("path")||(C.path="");const w=tc(C,l);for(const x of w){a.push(x);const m=Array.isArray(C.children)&&C.children.length===0;if(C.children&&!m)ha(C.children,x.pattern,a,u);else{const A=rc([...a],u.length);u.push(A)}a.pop()}}}return a.length?u:u.sort((f,p)=>p.score-f.score)}function t0(o,l){for(let a=0,u=o.length;a<u;a++){const h=o[a].matcher(l);if(h)return h}return[]}function nc(o,l){const a=new URL(sa),u=vt(w=>{const x=o();try{return new URL(x,a)}catch{return console.error(`Invalid path ${x}`),w}},a,{equals:(w,x)=>w.href===x.href}),h=vt(()=>u().pathname),f=vt(()=>u().search,!0),p=vt(()=>u().hash),C=()=>"";return{get pathname(){return h()},get search(){return f()},get hash(){return p()},get state(){return l()},get key(){return C()},query:la(K0(f,()=>aa(u())))}}let ln;function ic(){return ln}function oc(o,l,a,u={}){const{signal:[h,f],utils:p={}}=o,C=p.parsePath||(z=>z),w=p.renderPath||(z=>z),x=p.beforeLeave||oa(),m=di("",u.base||"");if(m===void 0)throw new Error(`${m} is not a valid base path`);m&&!h().value&&f({value:m,replace:!0,scroll:!1});const[A,b]=Je(!1);let S;const _=(z,re)=>{re.value===E()&&re.state===R()||(S===void 0&&b(!0),ln=z,S=re,$s(()=>{S===re&&(D(S.value),B(S.state),Ul(),J[1]([]))}).finally(()=>{S===re&&Ys(()=>{ln=void 0,z==="navigate"&&fe(S),b(!1),S=void 0})}))},[E,D]=Je(h().value),[R,B]=Je(h().state),N=nc(E,R),M=[],J=Je([]),$=vt(()=>typeof u.transformUrl=="function"?t0(l(),u.transformUrl(N.pathname)):t0(l(),N.pathname)),j=la(()=>{const z=$(),re={};for(let L=0;L<z.length;L++)Object.assign(re,z[L].params);return re}),ce={pattern:m,path:()=>m,outlet:()=>null,resolvePath(z){return di(m,z)}};return yt(K0(h,z=>_("native",z),{defer:!0})),{base:ce,location:N,params:j,isRouting:A,renderPath:w,parsePath:C,navigatorFactory:ie,matches:$,beforeLeave:x,preloadRoute:he,singleFlight:u.singleFlight===void 0?!0:u.singleFlight,submissions:J};function ae(z,re,L){Yt(()=>{if(typeof re=="number"){re&&(p.go?p.go(re):console.warn("Router integration does not support relative routing"));return}const ue=!re||re[0]==="?",{replace:K,resolve:ye,scroll:Be,state:Ie}={replace:!1,resolve:!ue,scroll:!0,...L};let de;const ge=ye?z.resolvePath(re):di(ue&&(de=h().value)&&de.split("?")[0]||"",re);if(ge===void 0)throw new Error(`Path '${re}' is not a routable path`);if(M.length>=Jl)throw new Error("Too many redirects");const X=E();(ge!==X||Ie!==R())&&(Gl||x.confirm(ge,L)&&(M.push({value:X,replace:K,scroll:Be,state:R()}),_("navigate",{value:ge,state:Ie})))})}function ie(z){return z=z||Ni(ua)||ce,(re,L)=>ae(z,re,L)}function fe(z){const re=M[0];re&&(f({...z,replace:re.replace,scroll:re.scroll}),M.length=0)}function he(z,re={}){const L=t0(l(),z.pathname),ue=ln;ln="preload";for(let K in L){const{route:ye,params:Be}=L[K];ye.component&&ye.component.preload&&ye.component.preload();const{preload:Ie}=ye;re.preloadData&&Ie&&qs(a(),()=>Ie({params:Be,location:{pathname:z.pathname,search:z.search,hash:z.hash,query:aa(z),state:null,key:""},intent:"preload"}))}ln=ue}}function sc(o,l,a,u){const{base:h,location:f,params:p}=o,{pattern:C,component:w,preload:x}=u().route,m=vt(()=>u().path);w&&w.preload&&w.preload();const A=x?x({params:p,location:f,intent:ln||"initial"}):void 0;return{parent:l,pattern:C,path:m,outlet:()=>w?Se(w,{params:p,location:f,data:A,get children(){return a()}}):a(),resolvePath(S){return di(h.path(),S,m())}}}const ac=o=>l=>{const{base:a}=l,u=Oi(()=>l.children),h=vt(()=>ha(u(),l.base||""));let f;const p=oc(o,h,()=>f,{base:a,singleFlight:l.singleFlight,transformUrl:l.transformUrl});return o.create&&o.create(p),Se(ec.Provider,{value:p,get children(){return Se(lc,{routerState:p,get root(){return l.root},get preload(){return l.rootPreload||l.rootLoad},get children(){return[vt(()=>(f=Ti())&&null),Se(cc,{routerState:p,get branches(){return h()}})]}})}})};function lc(o){const l=o.routerState.location,a=o.routerState.params,u=vt(()=>o.preload&&Yt(()=>{o.preload({params:a,location:l,intent:ic()||"initial"})}));return Se(Ze,{get when(){return o.root},keyed:!0,get fallback(){return o.children},children:h=>Se(h,{params:a,location:l,get data(){return u()},get children(){return o.children}})})}function cc(o){const l=[];let a;const u=vt(K0(o.routerState.matches,(h,f,p)=>{let C=f&&h.length===f.length;const w=[];for(let x=0,m=h.length;x<m;x++){const A=f&&f[x],b=h[x];p&&A&&b.route.key===A.route.key?w[x]=p[x]:(C=!1,l[x]&&l[x](),_n(S=>{l[x]=S,w[x]=sc(o.routerState,w[x-1]||o.routerState.base,jo(()=>u()[x+1]),()=>o.routerState.matches()[x])}))}return l.splice(h.length).forEach(x=>x()),p&&C?p:(a=w[0],w)}));return jo(()=>u()&&a)()}const jo=o=>()=>Se(Ze,{get when(){return o()},keyed:!0,children:l=>Se(ua.Provider,{value:l,get children(){return l.outlet()}})}),r0=o=>{const l=Oi(()=>o.children);return Pl(o,{get children(){return l()}})};function uc([o,l],a,u){return[o,u?h=>l(u(h)):l]}function fc(o){if(o==="#")return null;try{return document.querySelector(o)}catch{return null}}function hc(o){let l=!1;const a=h=>typeof h=="string"?{value:h}:h,u=uc(Je(a(o.get()),{equals:(h,f)=>h.value===f.value&&h.state===f.state}),void 0,h=>(!l&&o.set(h),it.registry&&!it.done&&(it.done=!0),h));return o.init&&Sr(o.init((h=o.get())=>{l=!0,u[1](a(h)),l=!1})),ac({signal:u,create:o.create,utils:o.utils})}function dc(o,l,a){return o.addEventListener(l,a),()=>o.removeEventListener(l,a)}function xc(o,l){const a=fc(`#${o}`);a?a.scrollIntoView():l&&window.scrollTo(0,0)}const gc=new Map;function pc(o=!0,l=!1,a="/_server",u){return h=>{const f=h.base.path(),p=h.navigatorFactory(h.base);let C={};function w(E){return E.namespaceURI==="http://www.w3.org/2000/svg"}function x(E){if(E.defaultPrevented||E.button!==0||E.metaKey||E.altKey||E.ctrlKey||E.shiftKey)return;const D=E.composedPath().find($=>$ instanceof Node&&$.nodeName.toUpperCase()==="A");if(!D||l&&!D.hasAttribute("link"))return;const R=w(D),B=R?D.href.baseVal:D.href;if((R?D.target.baseVal:D.target)||!B&&!D.hasAttribute("state"))return;const M=(D.getAttribute("rel")||"").split(/\s+/);if(D.hasAttribute("download")||M&&M.includes("external"))return;const J=R?new URL(B,document.baseURI):new URL(B);if(!(J.origin!==window.location.origin||f&&J.pathname&&!J.pathname.toLowerCase().startsWith(f.toLowerCase())))return[D,J]}function m(E){const D=x(E);if(!D)return;const[R,B]=D,N=h.parsePath(B.pathname+B.search+B.hash),M=R.getAttribute("state");E.preventDefault(),p(N,{resolve:!1,replace:R.hasAttribute("replace"),scroll:!R.hasAttribute("noscroll"),state:M&&JSON.parse(M)})}function A(E){const D=x(E);if(!D)return;const[R,B]=D;C[B.pathname]||h.preloadRoute(B,{preloadData:R.getAttribute("preload")!=="false"})}function b(E){const D=x(E);if(!D)return;const[R,B]=D;C[B.pathname]||(C[B.pathname]=setTimeout(()=>{h.preloadRoute(B,{preloadData:R.getAttribute("preload")!=="false"}),delete C[B.pathname]},200))}function S(E){const D=x(E);if(!D)return;const[,R]=D;C[R.pathname]&&(clearTimeout(C[R.pathname]),delete C[R.pathname])}function _(E){if(E.defaultPrevented)return;let D=E.submitter&&E.submitter.hasAttribute("formaction")?E.submitter.getAttribute("formaction"):E.target.getAttribute("action");if(!D)return;if(!D.startsWith("https://action/")){const B=new URL(D,sa);if(D=h.parsePath(B.pathname+B.search),!D.startsWith(a))return}if(E.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const R=gc.get(D);if(R){E.preventDefault();const B=new FormData(E.target,E.submitter);R.call({r:h,f:E.target},E.target.enctype==="multipart/form-data"?B:new URLSearchParams(B))}}hr(["click","submit"]),document.addEventListener("click",m),o&&(document.addEventListener("mouseover",b),document.addEventListener("mouseout",S),document.addEventListener("focusin",A),document.addEventListener("touchstart",A)),document.addEventListener("submit",_),Sr(()=>{document.removeEventListener("click",m),o&&(document.removeEventListener("mouseover",b),document.removeEventListener("mouseout",S),document.removeEventListener("focusin",A),document.removeEventListener("touchstart",A)),document.removeEventListener("submit",_)})}}function mc(o){const l=o.replace(/^.*?#/,"");if(!l.startsWith("/")){const[,a="/"]=window.location.hash.split("#",2);return`${a}#${l}`}return l}function Cc(o){const l=()=>window.location.hash.slice(1),a=oa();return hc({get:l,set({value:u,replace:h,scroll:f,state:p}){h?window.history.replaceState(Xl(p),"","#"+u):window.history.pushState(p,"","#"+u);const C=u.indexOf("#"),w=C>=0?u.slice(C+1):"";xc(w,f),eo()},init:u=>dc(window,"hashchange",Yl(u,h=>!a.confirm(h&&h<0?h:l()))),create:pc(o.preload,o.explicitLinks,o.actionBase),utils:{go:u=>window.history.go(u),renderPath:u=>`#${u}`,parsePath:mc,beforeLeave:a}})(o)}const G0=Symbol("store-raw"),Sn=Symbol("store-node"),Pr=Symbol("store-has"),da=Symbol("store-self");function xa(o){let l=o[Fr];if(!l&&(Object.defineProperty(o,Fr,{value:l=new Proxy(o,yc)}),!Array.isArray(o))){const a=Object.keys(o),u=Object.getOwnPropertyDescriptors(o);for(let h=0,f=a.length;h<f;h++){const p=a[h];u[p].get&&Object.defineProperty(o,p,{enumerable:u[p].enumerable,get:u[p].get.bind(l)})}}return l}function Ai(o){let l;return o!=null&&typeof o=="object"&&(o[Fr]||!(l=Object.getPrototypeOf(o))||l===Object.prototype||Array.isArray(o))}function Zn(o,l=new Set){let a,u,h,f;if(a=o!=null&&o[G0])return a;if(!Ai(o)||l.has(o))return o;if(Array.isArray(o)){Object.isFrozen(o)?o=o.slice(0):l.add(o);for(let p=0,C=o.length;p<C;p++)h=o[p],(u=Zn(h,l))!==h&&(o[p]=u)}else{Object.isFrozen(o)?o=Object.assign({},o):l.add(o);const p=Object.keys(o),C=Object.getOwnPropertyDescriptors(o);for(let w=0,x=p.length;w<x;w++)f=p[w],!C[f].get&&(h=o[f],(u=Zn(h,l))!==h&&(o[f]=u))}return o}function wi(o,l){let a=o[l];return a||Object.defineProperty(o,l,{value:a=Object.create(null)}),a}function Qn(o,l,a){if(o[l])return o[l];const[u,h]=Je(a,{equals:!1,internal:!0});return u.$=h,o[l]=u}function Ac(o,l){const a=Reflect.getOwnPropertyDescriptor(o,l);return!a||a.get||!a.configurable||l===Fr||l===Sn||(delete a.value,delete a.writable,a.get=()=>o[Fr][l]),a}function ga(o){H0()&&Qn(wi(o,Sn),da)()}function wc(o){return ga(o),Reflect.ownKeys(o)}const yc={get(o,l,a){if(l===G0)return o;if(l===Fr)return a;if(l===U0)return ga(o),a;const u=wi(o,Sn),h=u[l];let f=h?h():o[l];if(l===Sn||l===Pr||l==="__proto__")return f;if(!h){const p=Object.getOwnPropertyDescriptor(o,l);H0()&&(typeof f!="function"||o.hasOwnProperty(l))&&!(p&&p.get)&&(f=Qn(u,l,f)())}return Ai(f)?xa(f):f},has(o,l){return l===G0||l===Fr||l===U0||l===Sn||l===Pr||l==="__proto__"?!0:(H0()&&Qn(wi(o,Pr),l)(),l in o)},set(){return!0},deleteProperty(){return!0},ownKeys:wc,getOwnPropertyDescriptor:Ac};function yi(o,l,a,u=!1){if(!u&&o[l]===a)return;const h=o[l],f=o.length;a===void 0?(delete o[l],o[Pr]&&o[Pr][l]&&h!==void 0&&o[Pr][l].$()):(o[l]=a,o[Pr]&&o[Pr][l]&&h===void 0&&o[Pr][l].$());let p=wi(o,Sn),C;if((C=Qn(p,l,h))&&C.$(()=>a),Array.isArray(o)&&o.length!==f){for(let w=o.length;w<f;w++)(C=p[w])&&C.$();(C=Qn(p,"length",f))&&C.$(o.length)}(C=p[da])&&C.$()}function pa(o,l){const a=Object.keys(l);for(let u=0;u<a.length;u+=1){const h=a[u];yi(o,h,l[h])}}function vc(o,l){if(typeof l=="function"&&(l=l(o)),l=Zn(l),Array.isArray(l)){if(o===l)return;let a=0,u=l.length;for(;a<u;a++){const h=l[a];o[a]!==h&&yi(o,a,h)}yi(o,"length",u)}else pa(o,l)}function zn(o,l,a=[]){let u,h=o;if(l.length>1){u=l.shift();const p=typeof u,C=Array.isArray(o);if(Array.isArray(u)){for(let w=0;w<u.length;w++)zn(o,[u[w]].concat(l),a);return}else if(C&&p==="function"){for(let w=0;w<o.length;w++)u(o[w],w)&&zn(o,[w].concat(l),a);return}else if(C&&p==="object"){const{from:w=0,to:x=o.length-1,by:m=1}=u;for(let A=w;A<=x;A+=m)zn(o,[A].concat(l),a);return}else if(l.length>1){zn(o[u],l,[u].concat(a));return}h=o[u],a=[u].concat(a)}let f=l[0];typeof f=="function"&&(f=f(h,a),f===h)||u===void 0&&f==null||(f=Zn(f),u===void 0||Ai(h)&&Ai(f)&&!Array.isArray(f)?pa(h,f):yi(o,u,f))}function Ht(...[o,l]){const a=Zn(o||{}),u=Array.isArray(a),h=xa(a);function f(...p){Ys(()=>{u&&p.length===1?vc(a,p[0]):zn(a,p)})}return[h,f]}const Ec="_App_ynghh_1",bc="_logo_ynghh_5",_c="_header_ynghh_11",Sc="_link_ynghh_21",Mi={App:Ec,logo:bc,"logo-spin":"_logo-spin_ynghh_1",header:_c,link:Sc};var Ic=We("<p class=label>"),Dc=We('<div class=_dsplFlx><div class=flexSpace></div><div class=field-block><input required=""></div><div class=flexSpace>');const to=o=>{Ht();const[l,a]=Je(""),u=p=>{o?.handleClick(p),a(p)},h=p=>{p.keyCode===13&&typeof o?.onEnter=="function"&&o?.onEnter(l()),p.keyCode===27&&typeof o?.onEscape=="function"&&o?.onEscape(l()),p.keyCode===9&&typeof o?.onTab=="function"&&o?.onTab(l())};let f={"--txtInput--width":o?.width,"--txtInput--color":o?.colors,"--txtInput--backColor":o?.backColor,"--txtInput--border-color":o?.borderColor,"--txtInput--aborder-color":o?.borderActiveColor,padding:o?.label?"0.6em 1.2em":"0.99em 1.2em"};return(()=>{var p=Dc(),C=p.firstChild,w=C.nextSibling,x=w.firstChild;Te(w,Se(Ze,{get when(){return o?.label},get children(){var A=Ic();return Te(A,()=>o?.label),A}}),x),x.$$input=A=>u(A.currentTarget.value),x.$$keydown=h;var m=o?.ref;return typeof m=="function"&&Wl(m,x),yt(A=>{var b=`r7gAOb yyJm8b kk3791b ${o?.label,""}`,S=f,_=o?.type,E=o?.name,D=o?.placeholder;return b!==A.e&&_r(x,A.e=b),A.t=un(x,S,A.t),_!==A.a&&Jt(x,"type",A.a=_),E!==A.o&&Jt(x,"name",A.o=E),D!==A.i&&Jt(x,"placeholder",A.i=D),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),yt(()=>x.value=o?.value),p})()};hr(["keydown","input"]);const ma=[{label:"OCC-35",id:"175-23834532",yaba:"108"},{label:"CENT-35",id:"175-23834543",yaba:"109"},{label:"ORT-35",id:"175-23834554",yaba:"110"},{label:"OCC-36",id:"175-23834565",yaba:"111"},{label:"CENT-36",id:"175-23834576",yaba:"112"},{label:"ORT-36",id:"175-23834580",yaba:"113"},{label:"OCC-37",id:"175-23834591",yaba:"114"},{label:"CENT-37",id:"175-23834602",yaba:"115"},{label:"ORIT-37",id:"175-23834613",yaba:"116"},{label:"ISLA-01",id:"175-23834624",yaba:"117"},{label:"OCC-38",id:"175-23834635",yaba:"118"},{label:"CENT-38",id:"175-23834646",yaba:"119"},{label:"ORT-38",id:"175-23834650",yaba:"120"},{label:"OCC-39",id:"175-23834661",yaba:"121"},{label:"CENT-39",id:"175-23834672",yaba:"122"},{label:"ORT-39",id:"175-23834683",yaba:"123"},{label:"OCC-40",id:"175-23834694",yaba:"124"},{label:"CENT-40",id:"175-23834705",yaba:"125"},{label:"ORT-40",id:"175-23834716",yaba:"126"}],Tc=[{label:"Recogida en Tienda",id:"YABA_09",icon:"market"},{label:"En transito hacia FL",id:"YABA_11",icon:"truck-fast-outline"},{label:"Entrega a la aerolinea",id:"YABA_22",icon:"airplane-takeoff"},{label:"LLegando a AeroVaradero",id:"AERO_28",icon:"airplane-landing"},{label:"Recogida en AeroVaradero",id:"AERO_33",icon:"car-hatchback"},{label:"Entrada al Almacen",id:"YABA_39",icon:"store"},{label:"Escaneando por Locaciones",id:"YABA_44",icon:"sort-numeric-ascending"}],ro={total:"open_package_file_outline",YABA_11:"truck-fast-outline",YABA_22:"airplane-takeoff",AERO_28:"airplane-landing",AERO_33:"car-hatchback",YABA_39:"store",YABA_44:"sort-numeric-ascending",YABA_48:"car-hatchback"},Wo={YABA_11:"En transito para FL",YABA_22:"Entrega a la aerolinea",AERO_28:"En AeroVaradero",AERO_33:"Recogidos de AeroVaradero",YABA_39:"En el Almacen",YABA_44:"Organizados por Locaciones",YABA_48:"Saliendo para entregar"};var et=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ca(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function Bc(o){if(o.__esModule)return o;var l=o.default;if(typeof l=="function"){var a=function u(){return this instanceof u?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};a.prototype=l.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(o).forEach(function(u){var h=Object.getOwnPropertyDescriptor(o,u);Object.defineProperty(a,u,h.get?h:{enumerable:!0,get:function(){return o[u]}})}),a}var Aa={exports:{}};function Nc(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var n0={exports:{}};const Oc={},Mc=Object.freeze(Object.defineProperty({__proto__:null,default:Oc},Symbol.toStringTag,{value:"Module"})),Rc=Bc(Mc);var Vo;function ft(){return Vo||(Vo=1,function(o,l){(function(a,u){o.exports=u()})(et,function(){var a=a||function(u,h){var f;if(typeof window<"u"&&window.crypto&&(f=window.crypto),typeof self<"u"&&self.crypto&&(f=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(f=globalThis.crypto),!f&&typeof window<"u"&&window.msCrypto&&(f=window.msCrypto),!f&&typeof et<"u"&&et.crypto&&(f=et.crypto),!f&&typeof Nc=="function")try{f=Rc}catch{}var p=function(){if(f){if(typeof f.getRandomValues=="function")try{return f.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof f.randomBytes=="function")try{return f.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},C=Object.create||function(){function B(){}return function(N){var M;return B.prototype=N,M=new B,B.prototype=null,M}}(),w={},x=w.lib={},m=x.Base=function(){return{extend:function(B){var N=C(this);return B&&N.mixIn(B),(!N.hasOwnProperty("init")||this.init===N.init)&&(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var B=this.extend();return B.init.apply(B,arguments),B},init:function(){},mixIn:function(B){for(var N in B)B.hasOwnProperty(N)&&(this[N]=B[N]);B.hasOwnProperty("toString")&&(this.toString=B.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),A=x.WordArray=m.extend({init:function(B,N){B=this.words=B||[],N!=h?this.sigBytes=N:this.sigBytes=B.length*4},toString:function(B){return(B||S).stringify(this)},concat:function(B){var N=this.words,M=B.words,J=this.sigBytes,$=B.sigBytes;if(this.clamp(),J%4)for(var j=0;j<$;j++){var ce=M[j>>>2]>>>24-j%4*8&255;N[J+j>>>2]|=ce<<24-(J+j)%4*8}else for(var ae=0;ae<$;ae+=4)N[J+ae>>>2]=M[ae>>>2];return this.sigBytes+=$,this},clamp:function(){var B=this.words,N=this.sigBytes;B[N>>>2]&=4294967295<<32-N%4*8,B.length=u.ceil(N/4)},clone:function(){var B=m.clone.call(this);return B.words=this.words.slice(0),B},random:function(B){for(var N=[],M=0;M<B;M+=4)N.push(p());return new A.init(N,B)}}),b=w.enc={},S=b.Hex={stringify:function(B){for(var N=B.words,M=B.sigBytes,J=[],$=0;$<M;$++){var j=N[$>>>2]>>>24-$%4*8&255;J.push((j>>>4).toString(16)),J.push((j&15).toString(16))}return J.join("")},parse:function(B){for(var N=B.length,M=[],J=0;J<N;J+=2)M[J>>>3]|=parseInt(B.substr(J,2),16)<<24-J%8*4;return new A.init(M,N/2)}},_=b.Latin1={stringify:function(B){for(var N=B.words,M=B.sigBytes,J=[],$=0;$<M;$++){var j=N[$>>>2]>>>24-$%4*8&255;J.push(String.fromCharCode(j))}return J.join("")},parse:function(B){for(var N=B.length,M=[],J=0;J<N;J++)M[J>>>2]|=(B.charCodeAt(J)&255)<<24-J%4*8;return new A.init(M,N)}},E=b.Utf8={stringify:function(B){try{return decodeURIComponent(escape(_.stringify(B)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(B){return _.parse(unescape(encodeURIComponent(B)))}},D=x.BufferedBlockAlgorithm=m.extend({reset:function(){this._data=new A.init,this._nDataBytes=0},_append:function(B){typeof B=="string"&&(B=E.parse(B)),this._data.concat(B),this._nDataBytes+=B.sigBytes},_process:function(B){var N,M=this._data,J=M.words,$=M.sigBytes,j=this.blockSize,ce=j*4,ae=$/ce;B?ae=u.ceil(ae):ae=u.max((ae|0)-this._minBufferSize,0);var ie=ae*j,fe=u.min(ie*4,$);if(ie){for(var he=0;he<ie;he+=j)this._doProcessBlock(J,he);N=J.splice(0,ie),M.sigBytes-=fe}return new A.init(N,fe)},clone:function(){var B=m.clone.call(this);return B._data=this._data.clone(),B},_minBufferSize:0});x.Hasher=D.extend({cfg:m.extend(),init:function(B){this.cfg=this.cfg.extend(B),this.reset()},reset:function(){D.reset.call(this),this._doReset()},update:function(B){return this._append(B),this._process(),this},finalize:function(B){B&&this._append(B);var N=this._doFinalize();return N},blockSize:16,_createHelper:function(B){return function(N,M){return new B.init(M).finalize(N)}},_createHmacHelper:function(B){return function(N,M){return new R.HMAC.init(B,M).finalize(N)}}});var R=w.algo={};return w}(Math);return a})}(n0)),n0.exports}var i0={exports:{}},Go;function Ri(){return Go||(Go=1,function(o,l){(function(a,u){o.exports=u(ft())})(et,function(a){return function(u){var h=a,f=h.lib,p=f.Base,C=f.WordArray,w=h.x64={};w.Word=p.extend({init:function(x,m){this.high=x,this.low=m}}),w.WordArray=p.extend({init:function(x,m){x=this.words=x||[],m!=u?this.sigBytes=m:this.sigBytes=x.length*8},toX32:function(){for(var x=this.words,m=x.length,A=[],b=0;b<m;b++){var S=x[b];A.push(S.high),A.push(S.low)}return C.create(A,this.sigBytes)},clone:function(){for(var x=p.clone.call(this),m=x.words=this.words.slice(0),A=m.length,b=0;b<A;b++)m[b]=m[b].clone();return x}})}(),a})}(i0)),i0.exports}var o0={exports:{}},Xo;function Fc(){return Xo||(Xo=1,function(o,l){(function(a,u){o.exports=u(ft())})(et,function(a){return function(){if(typeof ArrayBuffer=="function"){var u=a,h=u.lib,f=h.WordArray,p=f.init,C=f.init=function(w){if(w instanceof ArrayBuffer&&(w=new Uint8Array(w)),(w instanceof Int8Array||typeof Uint8ClampedArray<"u"&&w instanceof Uint8ClampedArray||w instanceof Int16Array||w instanceof Uint16Array||w instanceof Int32Array||w instanceof Uint32Array||w instanceof Float32Array||w instanceof Float64Array)&&(w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength)),w instanceof Uint8Array){for(var x=w.byteLength,m=[],A=0;A<x;A++)m[A>>>2]|=w[A]<<24-A%4*8;p.call(this,m,x)}else p.apply(this,arguments)};C.prototype=f}}(),a.lib.WordArray})}(o0)),o0.exports}var s0={exports:{}},Yo;function Lc(){return Yo||(Yo=1,function(o,l){(function(a,u){o.exports=u(ft())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=u.enc;p.Utf16=p.Utf16BE={stringify:function(w){for(var x=w.words,m=w.sigBytes,A=[],b=0;b<m;b+=2){var S=x[b>>>2]>>>16-b%4*8&65535;A.push(String.fromCharCode(S))}return A.join("")},parse:function(w){for(var x=w.length,m=[],A=0;A<x;A++)m[A>>>1]|=w.charCodeAt(A)<<16-A%2*16;return f.create(m,x*2)}},p.Utf16LE={stringify:function(w){for(var x=w.words,m=w.sigBytes,A=[],b=0;b<m;b+=2){var S=C(x[b>>>2]>>>16-b%4*8&65535);A.push(String.fromCharCode(S))}return A.join("")},parse:function(w){for(var x=w.length,m=[],A=0;A<x;A++)m[A>>>1]|=C(w.charCodeAt(A)<<16-A%2*16);return f.create(m,x*2)}};function C(w){return w<<8&4278255360|w>>>8&16711935}}(),a.enc.Utf16})}(s0)),s0.exports}var a0={exports:{}},qo;function fn(){return qo||(qo=1,function(o,l){(function(a,u){o.exports=u(ft())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=u.enc;p.Base64={stringify:function(w){var x=w.words,m=w.sigBytes,A=this._map;w.clamp();for(var b=[],S=0;S<m;S+=3)for(var _=x[S>>>2]>>>24-S%4*8&255,E=x[S+1>>>2]>>>24-(S+1)%4*8&255,D=x[S+2>>>2]>>>24-(S+2)%4*8&255,R=_<<16|E<<8|D,B=0;B<4&&S+B*.75<m;B++)b.push(A.charAt(R>>>6*(3-B)&63));var N=A.charAt(64);if(N)for(;b.length%4;)b.push(N);return b.join("")},parse:function(w){var x=w.length,m=this._map,A=this._reverseMap;if(!A){A=this._reverseMap=[];for(var b=0;b<m.length;b++)A[m.charCodeAt(b)]=b}var S=m.charAt(64);if(S){var _=w.indexOf(S);_!==-1&&(x=_)}return C(w,x,A)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function C(w,x,m){for(var A=[],b=0,S=0;S<x;S++)if(S%4){var _=m[w.charCodeAt(S-1)]<<S%4*2,E=m[w.charCodeAt(S)]>>>6-S%4*2,D=_|E;A[b>>>2]|=D<<24-b%4*8,b++}return f.create(A,b)}}(),a.enc.Base64})}(a0)),a0.exports}var l0={exports:{}},$o;function kc(){return $o||($o=1,function(o,l){(function(a,u){o.exports=u(ft())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=u.enc;p.Base64url={stringify:function(w,x){x===void 0&&(x=!0);var m=w.words,A=w.sigBytes,b=x?this._safe_map:this._map;w.clamp();for(var S=[],_=0;_<A;_+=3)for(var E=m[_>>>2]>>>24-_%4*8&255,D=m[_+1>>>2]>>>24-(_+1)%4*8&255,R=m[_+2>>>2]>>>24-(_+2)%4*8&255,B=E<<16|D<<8|R,N=0;N<4&&_+N*.75<A;N++)S.push(b.charAt(B>>>6*(3-N)&63));var M=b.charAt(64);if(M)for(;S.length%4;)S.push(M);return S.join("")},parse:function(w,x){x===void 0&&(x=!0);var m=w.length,A=x?this._safe_map:this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var S=0;S<A.length;S++)b[A.charCodeAt(S)]=S}var _=A.charAt(64);if(_){var E=w.indexOf(_);E!==-1&&(m=E)}return C(w,m,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function C(w,x,m){for(var A=[],b=0,S=0;S<x;S++)if(S%4){var _=m[w.charCodeAt(S-1)]<<S%4*2,E=m[w.charCodeAt(S)]>>>6-S%4*2,D=_|E;A[b>>>2]|=D<<24-b%4*8,b++}return f.create(A,b)}}(),a.enc.Base64url})}(l0)),l0.exports}var c0={exports:{}},Zo;function hn(){return Zo||(Zo=1,function(o,l){(function(a,u){o.exports=u(ft())})(et,function(a){return function(u){var h=a,f=h.lib,p=f.WordArray,C=f.Hasher,w=h.algo,x=[];(function(){for(var E=0;E<64;E++)x[E]=u.abs(u.sin(E+1))*4294967296|0})();var m=w.MD5=C.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(E,D){for(var R=0;R<16;R++){var B=D+R,N=E[B];E[B]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}var M=this._hash.words,J=E[D+0],$=E[D+1],j=E[D+2],ce=E[D+3],ae=E[D+4],ie=E[D+5],fe=E[D+6],he=E[D+7],z=E[D+8],re=E[D+9],L=E[D+10],ue=E[D+11],K=E[D+12],ye=E[D+13],Be=E[D+14],Ie=E[D+15],de=M[0],ge=M[1],X=M[2],v=M[3];de=A(de,ge,X,v,J,7,x[0]),v=A(v,de,ge,X,$,12,x[1]),X=A(X,v,de,ge,j,17,x[2]),ge=A(ge,X,v,de,ce,22,x[3]),de=A(de,ge,X,v,ae,7,x[4]),v=A(v,de,ge,X,ie,12,x[5]),X=A(X,v,de,ge,fe,17,x[6]),ge=A(ge,X,v,de,he,22,x[7]),de=A(de,ge,X,v,z,7,x[8]),v=A(v,de,ge,X,re,12,x[9]),X=A(X,v,de,ge,L,17,x[10]),ge=A(ge,X,v,de,ue,22,x[11]),de=A(de,ge,X,v,K,7,x[12]),v=A(v,de,ge,X,ye,12,x[13]),X=A(X,v,de,ge,Be,17,x[14]),ge=A(ge,X,v,de,Ie,22,x[15]),de=b(de,ge,X,v,$,5,x[16]),v=b(v,de,ge,X,fe,9,x[17]),X=b(X,v,de,ge,ue,14,x[18]),ge=b(ge,X,v,de,J,20,x[19]),de=b(de,ge,X,v,ie,5,x[20]),v=b(v,de,ge,X,L,9,x[21]),X=b(X,v,de,ge,Ie,14,x[22]),ge=b(ge,X,v,de,ae,20,x[23]),de=b(de,ge,X,v,re,5,x[24]),v=b(v,de,ge,X,Be,9,x[25]),X=b(X,v,de,ge,ce,14,x[26]),ge=b(ge,X,v,de,z,20,x[27]),de=b(de,ge,X,v,ye,5,x[28]),v=b(v,de,ge,X,j,9,x[29]),X=b(X,v,de,ge,he,14,x[30]),ge=b(ge,X,v,de,K,20,x[31]),de=S(de,ge,X,v,ie,4,x[32]),v=S(v,de,ge,X,z,11,x[33]),X=S(X,v,de,ge,ue,16,x[34]),ge=S(ge,X,v,de,Be,23,x[35]),de=S(de,ge,X,v,$,4,x[36]),v=S(v,de,ge,X,ae,11,x[37]),X=S(X,v,de,ge,he,16,x[38]),ge=S(ge,X,v,de,L,23,x[39]),de=S(de,ge,X,v,ye,4,x[40]),v=S(v,de,ge,X,J,11,x[41]),X=S(X,v,de,ge,ce,16,x[42]),ge=S(ge,X,v,de,fe,23,x[43]),de=S(de,ge,X,v,re,4,x[44]),v=S(v,de,ge,X,K,11,x[45]),X=S(X,v,de,ge,Ie,16,x[46]),ge=S(ge,X,v,de,j,23,x[47]),de=_(de,ge,X,v,J,6,x[48]),v=_(v,de,ge,X,he,10,x[49]),X=_(X,v,de,ge,Be,15,x[50]),ge=_(ge,X,v,de,ie,21,x[51]),de=_(de,ge,X,v,K,6,x[52]),v=_(v,de,ge,X,ce,10,x[53]),X=_(X,v,de,ge,L,15,x[54]),ge=_(ge,X,v,de,$,21,x[55]),de=_(de,ge,X,v,z,6,x[56]),v=_(v,de,ge,X,Ie,10,x[57]),X=_(X,v,de,ge,fe,15,x[58]),ge=_(ge,X,v,de,ye,21,x[59]),de=_(de,ge,X,v,ae,6,x[60]),v=_(v,de,ge,X,ue,10,x[61]),X=_(X,v,de,ge,j,15,x[62]),ge=_(ge,X,v,de,re,21,x[63]),M[0]=M[0]+de|0,M[1]=M[1]+ge|0,M[2]=M[2]+X|0,M[3]=M[3]+v|0},_doFinalize:function(){var E=this._data,D=E.words,R=this._nDataBytes*8,B=E.sigBytes*8;D[B>>>5]|=128<<24-B%32;var N=u.floor(R/4294967296),M=R;D[(B+64>>>9<<4)+15]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,D[(B+64>>>9<<4)+14]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360,E.sigBytes=(D.length+1)*4,this._process();for(var J=this._hash,$=J.words,j=0;j<4;j++){var ce=$[j];$[j]=(ce<<8|ce>>>24)&16711935|(ce<<24|ce>>>8)&4278255360}return J},clone:function(){var E=C.clone.call(this);return E._hash=this._hash.clone(),E}});function A(E,D,R,B,N,M,J){var $=E+(D&R|~D&B)+N+J;return($<<M|$>>>32-M)+D}function b(E,D,R,B,N,M,J){var $=E+(D&B|R&~B)+N+J;return($<<M|$>>>32-M)+D}function S(E,D,R,B,N,M,J){var $=E+(D^R^B)+N+J;return($<<M|$>>>32-M)+D}function _(E,D,R,B,N,M,J){var $=E+(R^(D|~B))+N+J;return($<<M|$>>>32-M)+D}h.MD5=C._createHelper(m),h.HmacMD5=C._createHmacHelper(m)}(Math),a.MD5})}(c0)),c0.exports}var u0={exports:{}},Qo;function wa(){return Qo||(Qo=1,function(o,l){(function(a,u){o.exports=u(ft())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=h.Hasher,C=u.algo,w=[],x=C.SHA1=p.extend({_doReset:function(){this._hash=new f.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(m,A){for(var b=this._hash.words,S=b[0],_=b[1],E=b[2],D=b[3],R=b[4],B=0;B<80;B++){if(B<16)w[B]=m[A+B]|0;else{var N=w[B-3]^w[B-8]^w[B-14]^w[B-16];w[B]=N<<1|N>>>31}var M=(S<<5|S>>>27)+R+w[B];B<20?M+=(_&E|~_&D)+1518500249:B<40?M+=(_^E^D)+1859775393:B<60?M+=(_&E|_&D|E&D)-1894007588:M+=(_^E^D)-899497514,R=D,D=E,E=_<<30|_>>>2,_=S,S=M}b[0]=b[0]+S|0,b[1]=b[1]+_|0,b[2]=b[2]+E|0,b[3]=b[3]+D|0,b[4]=b[4]+R|0},_doFinalize:function(){var m=this._data,A=m.words,b=this._nDataBytes*8,S=m.sigBytes*8;return A[S>>>5]|=128<<24-S%32,A[(S+64>>>9<<4)+14]=Math.floor(b/4294967296),A[(S+64>>>9<<4)+15]=b,m.sigBytes=A.length*4,this._process(),this._hash},clone:function(){var m=p.clone.call(this);return m._hash=this._hash.clone(),m}});u.SHA1=p._createHelper(x),u.HmacSHA1=p._createHmacHelper(x)}(),a.SHA1})}(u0)),u0.exports}var f0={exports:{}},Ko;function no(){return Ko||(Ko=1,function(o,l){(function(a,u){o.exports=u(ft())})(et,function(a){return function(u){var h=a,f=h.lib,p=f.WordArray,C=f.Hasher,w=h.algo,x=[],m=[];(function(){function S(R){for(var B=u.sqrt(R),N=2;N<=B;N++)if(!(R%N))return!1;return!0}function _(R){return(R-(R|0))*4294967296|0}for(var E=2,D=0;D<64;)S(E)&&(D<8&&(x[D]=_(u.pow(E,1/2))),m[D]=_(u.pow(E,1/3)),D++),E++})();var A=[],b=w.SHA256=C.extend({_doReset:function(){this._hash=new p.init(x.slice(0))},_doProcessBlock:function(S,_){for(var E=this._hash.words,D=E[0],R=E[1],B=E[2],N=E[3],M=E[4],J=E[5],$=E[6],j=E[7],ce=0;ce<64;ce++){if(ce<16)A[ce]=S[_+ce]|0;else{var ae=A[ce-15],ie=(ae<<25|ae>>>7)^(ae<<14|ae>>>18)^ae>>>3,fe=A[ce-2],he=(fe<<15|fe>>>17)^(fe<<13|fe>>>19)^fe>>>10;A[ce]=ie+A[ce-7]+he+A[ce-16]}var z=M&J^~M&$,re=D&R^D&B^R&B,L=(D<<30|D>>>2)^(D<<19|D>>>13)^(D<<10|D>>>22),ue=(M<<26|M>>>6)^(M<<21|M>>>11)^(M<<7|M>>>25),K=j+ue+z+m[ce]+A[ce],ye=L+re;j=$,$=J,J=M,M=N+K|0,N=B,B=R,R=D,D=K+ye|0}E[0]=E[0]+D|0,E[1]=E[1]+R|0,E[2]=E[2]+B|0,E[3]=E[3]+N|0,E[4]=E[4]+M|0,E[5]=E[5]+J|0,E[6]=E[6]+$|0,E[7]=E[7]+j|0},_doFinalize:function(){var S=this._data,_=S.words,E=this._nDataBytes*8,D=S.sigBytes*8;return _[D>>>5]|=128<<24-D%32,_[(D+64>>>9<<4)+14]=u.floor(E/4294967296),_[(D+64>>>9<<4)+15]=E,S.sigBytes=_.length*4,this._process(),this._hash},clone:function(){var S=C.clone.call(this);return S._hash=this._hash.clone(),S}});h.SHA256=C._createHelper(b),h.HmacSHA256=C._createHmacHelper(b)}(Math),a.SHA256})}(f0)),f0.exports}var h0={exports:{}},Jo;function Pc(){return Jo||(Jo=1,function(o,l){(function(a,u,h){o.exports=u(ft(),no())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=u.algo,C=p.SHA256,w=p.SHA224=C.extend({_doReset:function(){this._hash=new f.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var x=C._doFinalize.call(this);return x.sigBytes-=4,x}});u.SHA224=C._createHelper(w),u.HmacSHA224=C._createHmacHelper(w)}(),a.SHA224})}(h0)),h0.exports}var d0={exports:{}},es;function ya(){return es||(es=1,function(o,l){(function(a,u,h){o.exports=u(ft(),Ri())})(et,function(a){return function(){var u=a,h=u.lib,f=h.Hasher,p=u.x64,C=p.Word,w=p.WordArray,x=u.algo;function m(){return C.create.apply(C,arguments)}var A=[m(1116352408,3609767458),m(1899447441,602891725),m(3049323471,3964484399),m(3921009573,2173295548),m(961987163,4081628472),m(1508970993,3053834265),m(2453635748,2937671579),m(2870763221,3664609560),m(3624381080,2734883394),m(310598401,1164996542),m(607225278,1323610764),m(1426881987,3590304994),m(1925078388,4068182383),m(2162078206,991336113),m(2614888103,633803317),m(3248222580,3479774868),m(3835390401,2666613458),m(4022224774,944711139),m(264347078,2341262773),m(604807628,2007800933),m(770255983,1495990901),m(1249150122,1856431235),m(1555081692,3175218132),m(1996064986,2198950837),m(2554220882,3999719339),m(2821834349,766784016),m(2952996808,2566594879),m(3210313671,3203337956),m(3336571891,1034457026),m(3584528711,2466948901),m(113926993,3758326383),m(338241895,168717936),m(666307205,1188179964),m(773529912,1546045734),m(1294757372,1522805485),m(1396182291,2643833823),m(1695183700,2343527390),m(1986661051,1014477480),m(2177026350,1206759142),m(2456956037,344077627),m(2730485921,1290863460),m(2820302411,3158454273),m(3259730800,3505952657),m(3345764771,106217008),m(3516065817,3606008344),m(3600352804,1432725776),m(4094571909,1467031594),m(275423344,851169720),m(430227734,3100823752),m(506948616,1363258195),m(659060556,3750685593),m(883997877,3785050280),m(958139571,3318307427),m(1322822218,3812723403),m(1537002063,2003034995),m(1747873779,3602036899),m(1955562222,1575990012),m(2024104815,1125592928),m(2227730452,2716904306),m(2361852424,442776044),m(2428436474,593698344),m(2756734187,3733110249),m(3204031479,2999351573),m(3329325298,3815920427),m(3391569614,3928383900),m(3515267271,566280711),m(3940187606,3454069534),m(4118630271,4000239992),m(116418474,1914138554),m(174292421,2731055270),m(289380356,3203993006),m(460393269,320620315),m(685471733,587496836),m(852142971,1086792851),m(1017036298,365543100),m(1126000580,2618297676),m(1288033470,3409855158),m(1501505948,4234509866),m(1607167915,987167468),m(1816402316,1246189591)],b=[];(function(){for(var _=0;_<80;_++)b[_]=m()})();var S=x.SHA512=f.extend({_doReset:function(){this._hash=new w.init([new C.init(1779033703,4089235720),new C.init(3144134277,2227873595),new C.init(1013904242,4271175723),new C.init(2773480762,1595750129),new C.init(1359893119,2917565137),new C.init(2600822924,725511199),new C.init(528734635,4215389547),new C.init(1541459225,327033209)])},_doProcessBlock:function(_,E){for(var D=this._hash.words,R=D[0],B=D[1],N=D[2],M=D[3],J=D[4],$=D[5],j=D[6],ce=D[7],ae=R.high,ie=R.low,fe=B.high,he=B.low,z=N.high,re=N.low,L=M.high,ue=M.low,K=J.high,ye=J.low,Be=$.high,Ie=$.low,de=j.high,ge=j.low,X=ce.high,v=ce.low,U=ae,F=ie,G=fe,V=he,te=z,ve=re,W=L,Z=ue,k=K,oe=ye,me=Be,Fe=Ie,Le=de,Ee=ge,ee=X,Q=v,q=0;q<80;q++){var xe,le,Y=b[q];if(q<16)le=Y.high=_[E+q*2]|0,xe=Y.low=_[E+q*2+1]|0;else{var pe=b[q-15],Ae=pe.high,Oe=pe.low,Ne=(Ae>>>1|Oe<<31)^(Ae>>>8|Oe<<24)^Ae>>>7,De=(Oe>>>1|Ae<<31)^(Oe>>>8|Ae<<24)^(Oe>>>7|Ae<<25),ze=b[q-2],He=ze.high,Ye=ze.low,Ve=(He>>>19|Ye<<13)^(He<<3|Ye>>>29)^He>>>6,Re=(Ye>>>19|He<<13)^(Ye<<3|He>>>29)^(Ye>>>6|He<<26),ot=b[q-7],at=ot.high,Et=ot.low,qt=b[q-16],Lr=qt.high,rn=qt.low;xe=De+Et,le=Ne+at+(xe>>>0<De>>>0?1:0),xe=xe+Re,le=le+Ve+(xe>>>0<Re>>>0?1:0),xe=xe+rn,le=le+Lr+(xe>>>0<rn>>>0?1:0),Y.high=le,Y.low=xe}var tt=k&me^~k&Le,er=oe&Fe^~oe&Ee,dr=U&G^U&te^G&te,xr=F&V^F&ve^V&ve,jt=(U>>>28|F<<4)^(U<<30|F>>>2)^(U<<25|F>>>7),Ir=(F>>>28|U<<4)^(F<<30|U>>>2)^(F<<25|U>>>7),bt=(k>>>14|oe<<18)^(k>>>18|oe<<14)^(k<<23|oe>>>9),jr=(oe>>>14|k<<18)^(oe>>>18|k<<14)^(oe<<23|k>>>9),nn=A[q],gr=nn.high,ri=nn.low,Mt=Q+jr,pr=ee+bt+(Mt>>>0<Q>>>0?1:0),Mt=Mt+er,pr=pr+tt+(Mt>>>0<er>>>0?1:0),Mt=Mt+ri,pr=pr+gr+(Mt>>>0<ri>>>0?1:0),Mt=Mt+xe,pr=pr+le+(Mt>>>0<xe>>>0?1:0),Wt=Ir+xr,kr=jt+dr+(Wt>>>0<Ir>>>0?1:0);ee=Le,Q=Ee,Le=me,Ee=Fe,me=k,Fe=oe,oe=Z+Mt|0,k=W+pr+(oe>>>0<Z>>>0?1:0)|0,W=te,Z=ve,te=G,ve=V,G=U,V=F,F=Mt+Wt|0,U=pr+kr+(F>>>0<Mt>>>0?1:0)|0}ie=R.low=ie+F,R.high=ae+U+(ie>>>0<F>>>0?1:0),he=B.low=he+V,B.high=fe+G+(he>>>0<V>>>0?1:0),re=N.low=re+ve,N.high=z+te+(re>>>0<ve>>>0?1:0),ue=M.low=ue+Z,M.high=L+W+(ue>>>0<Z>>>0?1:0),ye=J.low=ye+oe,J.high=K+k+(ye>>>0<oe>>>0?1:0),Ie=$.low=Ie+Fe,$.high=Be+me+(Ie>>>0<Fe>>>0?1:0),ge=j.low=ge+Ee,j.high=de+Le+(ge>>>0<Ee>>>0?1:0),v=ce.low=v+Q,ce.high=X+ee+(v>>>0<Q>>>0?1:0)},_doFinalize:function(){var _=this._data,E=_.words,D=this._nDataBytes*8,R=_.sigBytes*8;E[R>>>5]|=128<<24-R%32,E[(R+128>>>10<<5)+30]=Math.floor(D/4294967296),E[(R+128>>>10<<5)+31]=D,_.sigBytes=E.length*4,this._process();var B=this._hash.toX32();return B},clone:function(){var _=f.clone.call(this);return _._hash=this._hash.clone(),_},blockSize:1024/32});u.SHA512=f._createHelper(S),u.HmacSHA512=f._createHmacHelper(S)}(),a.SHA512})}(d0)),d0.exports}var x0={exports:{}},ts;function Uc(){return ts||(ts=1,function(o,l){(function(a,u,h){o.exports=u(ft(),Ri(),ya())})(et,function(a){return function(){var u=a,h=u.x64,f=h.Word,p=h.WordArray,C=u.algo,w=C.SHA512,x=C.SHA384=w.extend({_doReset:function(){this._hash=new p.init([new f.init(3418070365,3238371032),new f.init(1654270250,914150663),new f.init(2438529370,812702999),new f.init(355462360,4144912697),new f.init(1731405415,4290775857),new f.init(2394180231,1750603025),new f.init(3675008525,1694076839),new f.init(1203062813,3204075428)])},_doFinalize:function(){var m=w._doFinalize.call(this);return m.sigBytes-=16,m}});u.SHA384=w._createHelper(x),u.HmacSHA384=w._createHmacHelper(x)}(),a.SHA384})}(x0)),x0.exports}var g0={exports:{}},rs;function Hc(){return rs||(rs=1,function(o,l){(function(a,u,h){o.exports=u(ft(),Ri())})(et,function(a){return function(u){var h=a,f=h.lib,p=f.WordArray,C=f.Hasher,w=h.x64,x=w.Word,m=h.algo,A=[],b=[],S=[];(function(){for(var D=1,R=0,B=0;B<24;B++){A[D+5*R]=(B+1)*(B+2)/2%64;var N=R%5,M=(2*D+3*R)%5;D=N,R=M}for(var D=0;D<5;D++)for(var R=0;R<5;R++)b[D+5*R]=R+(2*D+3*R)%5*5;for(var J=1,$=0;$<24;$++){for(var j=0,ce=0,ae=0;ae<7;ae++){if(J&1){var ie=(1<<ae)-1;ie<32?ce^=1<<ie:j^=1<<ie-32}J&128?J=J<<1^113:J<<=1}S[$]=x.create(j,ce)}})();var _=[];(function(){for(var D=0;D<25;D++)_[D]=x.create()})();var E=m.SHA3=C.extend({cfg:C.cfg.extend({outputLength:512}),_doReset:function(){for(var D=this._state=[],R=0;R<25;R++)D[R]=new x.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(D,R){for(var B=this._state,N=this.blockSize/2,M=0;M<N;M++){var J=D[R+2*M],$=D[R+2*M+1];J=(J<<8|J>>>24)&16711935|(J<<24|J>>>8)&4278255360,$=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360;var j=B[M];j.high^=$,j.low^=J}for(var ce=0;ce<24;ce++){for(var ae=0;ae<5;ae++){for(var ie=0,fe=0,he=0;he<5;he++){var j=B[ae+5*he];ie^=j.high,fe^=j.low}var z=_[ae];z.high=ie,z.low=fe}for(var ae=0;ae<5;ae++)for(var re=_[(ae+4)%5],L=_[(ae+1)%5],ue=L.high,K=L.low,ie=re.high^(ue<<1|K>>>31),fe=re.low^(K<<1|ue>>>31),he=0;he<5;he++){var j=B[ae+5*he];j.high^=ie,j.low^=fe}for(var ye=1;ye<25;ye++){var ie,fe,j=B[ye],Be=j.high,Ie=j.low,de=A[ye];de<32?(ie=Be<<de|Ie>>>32-de,fe=Ie<<de|Be>>>32-de):(ie=Ie<<de-32|Be>>>64-de,fe=Be<<de-32|Ie>>>64-de);var ge=_[b[ye]];ge.high=ie,ge.low=fe}var X=_[0],v=B[0];X.high=v.high,X.low=v.low;for(var ae=0;ae<5;ae++)for(var he=0;he<5;he++){var ye=ae+5*he,j=B[ye],U=_[ye],F=_[(ae+1)%5+5*he],G=_[(ae+2)%5+5*he];j.high=U.high^~F.high&G.high,j.low=U.low^~F.low&G.low}var j=B[0],V=S[ce];j.high^=V.high,j.low^=V.low}},_doFinalize:function(){var D=this._data,R=D.words;this._nDataBytes*8;var B=D.sigBytes*8,N=this.blockSize*32;R[B>>>5]|=1<<24-B%32,R[(u.ceil((B+1)/N)*N>>>5)-1]|=128,D.sigBytes=R.length*4,this._process();for(var M=this._state,J=this.cfg.outputLength/8,$=J/8,j=[],ce=0;ce<$;ce++){var ae=M[ce],ie=ae.high,fe=ae.low;ie=(ie<<8|ie>>>24)&16711935|(ie<<24|ie>>>8)&4278255360,fe=(fe<<8|fe>>>24)&16711935|(fe<<24|fe>>>8)&4278255360,j.push(fe),j.push(ie)}return new p.init(j,J)},clone:function(){for(var D=C.clone.call(this),R=D._state=this._state.slice(0),B=0;B<25;B++)R[B]=R[B].clone();return D}});h.SHA3=C._createHelper(E),h.HmacSHA3=C._createHmacHelper(E)}(Math),a.SHA3})}(g0)),g0.exports}var p0={exports:{}},ns;function zc(){return ns||(ns=1,function(o,l){(function(a,u){o.exports=u(ft())})(et,function(a){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(u){var h=a,f=h.lib,p=f.WordArray,C=f.Hasher,w=h.algo,x=p.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),m=p.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),A=p.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),b=p.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),S=p.create([0,1518500249,1859775393,2400959708,2840853838]),_=p.create([1352829926,1548603684,1836072691,2053994217,0]),E=w.RIPEMD160=C.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function($,j){for(var ce=0;ce<16;ce++){var ae=j+ce,ie=$[ae];$[ae]=(ie<<8|ie>>>24)&16711935|(ie<<24|ie>>>8)&4278255360}var fe=this._hash.words,he=S.words,z=_.words,re=x.words,L=m.words,ue=A.words,K=b.words,ye,Be,Ie,de,ge,X,v,U,F,G;X=ye=fe[0],v=Be=fe[1],U=Ie=fe[2],F=de=fe[3],G=ge=fe[4];for(var V,ce=0;ce<80;ce+=1)V=ye+$[j+re[ce]]|0,ce<16?V+=D(Be,Ie,de)+he[0]:ce<32?V+=R(Be,Ie,de)+he[1]:ce<48?V+=B(Be,Ie,de)+he[2]:ce<64?V+=N(Be,Ie,de)+he[3]:V+=M(Be,Ie,de)+he[4],V=V|0,V=J(V,ue[ce]),V=V+ge|0,ye=ge,ge=de,de=J(Ie,10),Ie=Be,Be=V,V=X+$[j+L[ce]]|0,ce<16?V+=M(v,U,F)+z[0]:ce<32?V+=N(v,U,F)+z[1]:ce<48?V+=B(v,U,F)+z[2]:ce<64?V+=R(v,U,F)+z[3]:V+=D(v,U,F)+z[4],V=V|0,V=J(V,K[ce]),V=V+G|0,X=G,G=F,F=J(U,10),U=v,v=V;V=fe[1]+Ie+F|0,fe[1]=fe[2]+de+G|0,fe[2]=fe[3]+ge+X|0,fe[3]=fe[4]+ye+v|0,fe[4]=fe[0]+Be+U|0,fe[0]=V},_doFinalize:function(){var $=this._data,j=$.words,ce=this._nDataBytes*8,ae=$.sigBytes*8;j[ae>>>5]|=128<<24-ae%32,j[(ae+64>>>9<<4)+14]=(ce<<8|ce>>>24)&16711935|(ce<<24|ce>>>8)&4278255360,$.sigBytes=(j.length+1)*4,this._process();for(var ie=this._hash,fe=ie.words,he=0;he<5;he++){var z=fe[he];fe[he]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}return ie},clone:function(){var $=C.clone.call(this);return $._hash=this._hash.clone(),$}});function D($,j,ce){return $^j^ce}function R($,j,ce){return $&j|~$&ce}function B($,j,ce){return($|~j)^ce}function N($,j,ce){return $&ce|j&~ce}function M($,j,ce){return $^(j|~ce)}function J($,j){return $<<j|$>>>32-j}h.RIPEMD160=C._createHelper(E),h.HmacRIPEMD160=C._createHmacHelper(E)}(),a.RIPEMD160})}(p0)),p0.exports}var m0={exports:{}},is;function io(){return is||(is=1,function(o,l){(function(a,u){o.exports=u(ft())})(et,function(a){(function(){var u=a,h=u.lib,f=h.Base,p=u.enc,C=p.Utf8,w=u.algo;w.HMAC=f.extend({init:function(x,m){x=this._hasher=new x.init,typeof m=="string"&&(m=C.parse(m));var A=x.blockSize,b=A*4;m.sigBytes>b&&(m=x.finalize(m)),m.clamp();for(var S=this._oKey=m.clone(),_=this._iKey=m.clone(),E=S.words,D=_.words,R=0;R<A;R++)E[R]^=1549556828,D[R]^=909522486;S.sigBytes=_.sigBytes=b,this.reset()},reset:function(){var x=this._hasher;x.reset(),x.update(this._iKey)},update:function(x){return this._hasher.update(x),this},finalize:function(x){var m=this._hasher,A=m.finalize(x);m.reset();var b=m.finalize(this._oKey.clone().concat(A));return b}})})()})}(m0)),m0.exports}var C0={exports:{}},os;function jc(){return os||(os=1,function(o,l){(function(a,u,h){o.exports=u(ft(),no(),io())})(et,function(a){return function(){var u=a,h=u.lib,f=h.Base,p=h.WordArray,C=u.algo,w=C.SHA256,x=C.HMAC,m=C.PBKDF2=f.extend({cfg:f.extend({keySize:128/32,hasher:w,iterations:25e4}),init:function(A){this.cfg=this.cfg.extend(A)},compute:function(A,b){for(var S=this.cfg,_=x.create(S.hasher,A),E=p.create(),D=p.create([1]),R=E.words,B=D.words,N=S.keySize,M=S.iterations;R.length<N;){var J=_.update(b).finalize(D);_.reset();for(var $=J.words,j=$.length,ce=J,ae=1;ae<M;ae++){ce=_.finalize(ce),_.reset();for(var ie=ce.words,fe=0;fe<j;fe++)$[fe]^=ie[fe]}E.concat(J),B[0]++}return E.sigBytes=N*4,E}});u.PBKDF2=function(A,b,S){return m.create(S).compute(A,b)}}(),a.PBKDF2})}(C0)),C0.exports}var A0={exports:{}},ss;function en(){return ss||(ss=1,function(o,l){(function(a,u,h){o.exports=u(ft(),wa(),io())})(et,function(a){return function(){var u=a,h=u.lib,f=h.Base,p=h.WordArray,C=u.algo,w=C.MD5,x=C.EvpKDF=f.extend({cfg:f.extend({keySize:128/32,hasher:w,iterations:1}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,A){for(var b,S=this.cfg,_=S.hasher.create(),E=p.create(),D=E.words,R=S.keySize,B=S.iterations;D.length<R;){b&&_.update(b),b=_.update(m).finalize(A),_.reset();for(var N=1;N<B;N++)b=_.finalize(b),_.reset();E.concat(b)}return E.sigBytes=R*4,E}});u.EvpKDF=function(m,A,b){return x.create(b).compute(m,A)}}(),a.EvpKDF})}(A0)),A0.exports}var w0={exports:{}},as;function zt(){return as||(as=1,function(o,l){(function(a,u,h){o.exports=u(ft(),en())})(et,function(a){a.lib.Cipher||function(u){var h=a,f=h.lib,p=f.Base,C=f.WordArray,w=f.BufferedBlockAlgorithm,x=h.enc;x.Utf8;var m=x.Base64,A=h.algo,b=A.EvpKDF,S=f.Cipher=w.extend({cfg:p.extend(),createEncryptor:function(ie,fe){return this.create(this._ENC_XFORM_MODE,ie,fe)},createDecryptor:function(ie,fe){return this.create(this._DEC_XFORM_MODE,ie,fe)},init:function(ie,fe,he){this.cfg=this.cfg.extend(he),this._xformMode=ie,this._key=fe,this.reset()},reset:function(){w.reset.call(this),this._doReset()},process:function(ie){return this._append(ie),this._process()},finalize:function(ie){ie&&this._append(ie);var fe=this._doFinalize();return fe},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function ie(fe){return typeof fe=="string"?ae:$}return function(fe){return{encrypt:function(he,z,re){return ie(z).encrypt(fe,he,z,re)},decrypt:function(he,z,re){return ie(z).decrypt(fe,he,z,re)}}}}()});f.StreamCipher=S.extend({_doFinalize:function(){var ie=this._process(!0);return ie},blockSize:1});var _=h.mode={},E=f.BlockCipherMode=p.extend({createEncryptor:function(ie,fe){return this.Encryptor.create(ie,fe)},createDecryptor:function(ie,fe){return this.Decryptor.create(ie,fe)},init:function(ie,fe){this._cipher=ie,this._iv=fe}}),D=_.CBC=function(){var ie=E.extend();ie.Encryptor=ie.extend({processBlock:function(he,z){var re=this._cipher,L=re.blockSize;fe.call(this,he,z,L),re.encryptBlock(he,z),this._prevBlock=he.slice(z,z+L)}}),ie.Decryptor=ie.extend({processBlock:function(he,z){var re=this._cipher,L=re.blockSize,ue=he.slice(z,z+L);re.decryptBlock(he,z),fe.call(this,he,z,L),this._prevBlock=ue}});function fe(he,z,re){var L,ue=this._iv;ue?(L=ue,this._iv=u):L=this._prevBlock;for(var K=0;K<re;K++)he[z+K]^=L[K]}return ie}(),R=h.pad={},B=R.Pkcs7={pad:function(ie,fe){for(var he=fe*4,z=he-ie.sigBytes%he,re=z<<24|z<<16|z<<8|z,L=[],ue=0;ue<z;ue+=4)L.push(re);var K=C.create(L,z);ie.concat(K)},unpad:function(ie){var fe=ie.words[ie.sigBytes-1>>>2]&255;ie.sigBytes-=fe}};f.BlockCipher=S.extend({cfg:S.cfg.extend({mode:D,padding:B}),reset:function(){var ie;S.reset.call(this);var fe=this.cfg,he=fe.iv,z=fe.mode;this._xformMode==this._ENC_XFORM_MODE?ie=z.createEncryptor:(ie=z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==ie?this._mode.init(this,he&&he.words):(this._mode=ie.call(z,this,he&&he.words),this._mode.__creator=ie)},_doProcessBlock:function(ie,fe){this._mode.processBlock(ie,fe)},_doFinalize:function(){var ie,fe=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(fe.pad(this._data,this.blockSize),ie=this._process(!0)):(ie=this._process(!0),fe.unpad(ie)),ie},blockSize:128/32});var N=f.CipherParams=p.extend({init:function(ie){this.mixIn(ie)},toString:function(ie){return(ie||this.formatter).stringify(this)}}),M=h.format={},J=M.OpenSSL={stringify:function(ie){var fe,he=ie.ciphertext,z=ie.salt;return z?fe=C.create([1398893684,1701076831]).concat(z).concat(he):fe=he,fe.toString(m)},parse:function(ie){var fe,he=m.parse(ie),z=he.words;return z[0]==1398893684&&z[1]==1701076831&&(fe=C.create(z.slice(2,4)),z.splice(0,4),he.sigBytes-=16),N.create({ciphertext:he,salt:fe})}},$=f.SerializableCipher=p.extend({cfg:p.extend({format:J}),encrypt:function(ie,fe,he,z){z=this.cfg.extend(z);var re=ie.createEncryptor(he,z),L=re.finalize(fe),ue=re.cfg;return N.create({ciphertext:L,key:he,iv:ue.iv,algorithm:ie,mode:ue.mode,padding:ue.padding,blockSize:ie.blockSize,formatter:z.format})},decrypt:function(ie,fe,he,z){z=this.cfg.extend(z),fe=this._parse(fe,z.format);var re=ie.createDecryptor(he,z).finalize(fe.ciphertext);return re},_parse:function(ie,fe){return typeof ie=="string"?fe.parse(ie,this):ie}}),j=h.kdf={},ce=j.OpenSSL={execute:function(ie,fe,he,z,re){if(z||(z=C.random(64/8)),re)var L=b.create({keySize:fe+he,hasher:re}).compute(ie,z);else var L=b.create({keySize:fe+he}).compute(ie,z);var ue=C.create(L.words.slice(fe),he*4);return L.sigBytes=fe*4,N.create({key:L,iv:ue,salt:z})}},ae=f.PasswordBasedCipher=$.extend({cfg:$.cfg.extend({kdf:ce}),encrypt:function(ie,fe,he,z){z=this.cfg.extend(z);var re=z.kdf.execute(he,ie.keySize,ie.ivSize,z.salt,z.hasher);z.iv=re.iv;var L=$.encrypt.call(this,ie,fe,re.key,z);return L.mixIn(re),L},decrypt:function(ie,fe,he,z){z=this.cfg.extend(z),fe=this._parse(fe,z.format);var re=z.kdf.execute(he,ie.keySize,ie.ivSize,fe.salt,z.hasher);z.iv=re.iv;var L=$.decrypt.call(this,ie,fe,re.key,z);return L}})}()})}(w0)),w0.exports}var y0={exports:{}},ls;function Wc(){return ls||(ls=1,function(o,l){(function(a,u,h){o.exports=u(ft(),zt())})(et,function(a){return a.mode.CFB=function(){var u=a.lib.BlockCipherMode.extend();u.Encryptor=u.extend({processBlock:function(f,p){var C=this._cipher,w=C.blockSize;h.call(this,f,p,w,C),this._prevBlock=f.slice(p,p+w)}}),u.Decryptor=u.extend({processBlock:function(f,p){var C=this._cipher,w=C.blockSize,x=f.slice(p,p+w);h.call(this,f,p,w,C),this._prevBlock=x}});function h(f,p,C,w){var x,m=this._iv;m?(x=m.slice(0),this._iv=void 0):x=this._prevBlock,w.encryptBlock(x,0);for(var A=0;A<C;A++)f[p+A]^=x[A]}return u}(),a.mode.CFB})}(y0)),y0.exports}var v0={exports:{}},cs;function Vc(){return cs||(cs=1,function(o,l){(function(a,u,h){o.exports=u(ft(),zt())})(et,function(a){return a.mode.CTR=function(){var u=a.lib.BlockCipherMode.extend(),h=u.Encryptor=u.extend({processBlock:function(f,p){var C=this._cipher,w=C.blockSize,x=this._iv,m=this._counter;x&&(m=this._counter=x.slice(0),this._iv=void 0);var A=m.slice(0);C.encryptBlock(A,0),m[w-1]=m[w-1]+1|0;for(var b=0;b<w;b++)f[p+b]^=A[b]}});return u.Decryptor=h,u}(),a.mode.CTR})}(v0)),v0.exports}var E0={exports:{}},us;function Gc(){return us||(us=1,function(o,l){(function(a,u,h){o.exports=u(ft(),zt())})(et,function(a){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return a.mode.CTRGladman=function(){var u=a.lib.BlockCipherMode.extend();function h(C){if((C>>24&255)===255){var w=C>>16&255,x=C>>8&255,m=C&255;w===255?(w=0,x===255?(x=0,m===255?m=0:++m):++x):++w,C=0,C+=w<<16,C+=x<<8,C+=m}else C+=1<<24;return C}function f(C){return(C[0]=h(C[0]))===0&&(C[1]=h(C[1])),C}var p=u.Encryptor=u.extend({processBlock:function(C,w){var x=this._cipher,m=x.blockSize,A=this._iv,b=this._counter;A&&(b=this._counter=A.slice(0),this._iv=void 0),f(b);var S=b.slice(0);x.encryptBlock(S,0);for(var _=0;_<m;_++)C[w+_]^=S[_]}});return u.Decryptor=p,u}(),a.mode.CTRGladman})}(E0)),E0.exports}var b0={exports:{}},fs;function Xc(){return fs||(fs=1,function(o,l){(function(a,u,h){o.exports=u(ft(),zt())})(et,function(a){return a.mode.OFB=function(){var u=a.lib.BlockCipherMode.extend(),h=u.Encryptor=u.extend({processBlock:function(f,p){var C=this._cipher,w=C.blockSize,x=this._iv,m=this._keystream;x&&(m=this._keystream=x.slice(0),this._iv=void 0),C.encryptBlock(m,0);for(var A=0;A<w;A++)f[p+A]^=m[A]}});return u.Decryptor=h,u}(),a.mode.OFB})}(b0)),b0.exports}var _0={exports:{}},hs;function Yc(){return hs||(hs=1,function(o,l){(function(a,u,h){o.exports=u(ft(),zt())})(et,function(a){return a.mode.ECB=function(){var u=a.lib.BlockCipherMode.extend();return u.Encryptor=u.extend({processBlock:function(h,f){this._cipher.encryptBlock(h,f)}}),u.Decryptor=u.extend({processBlock:function(h,f){this._cipher.decryptBlock(h,f)}}),u}(),a.mode.ECB})}(_0)),_0.exports}var S0={exports:{}},ds;function qc(){return ds||(ds=1,function(o,l){(function(a,u,h){o.exports=u(ft(),zt())})(et,function(a){return a.pad.AnsiX923={pad:function(u,h){var f=u.sigBytes,p=h*4,C=p-f%p,w=f+C-1;u.clamp(),u.words[w>>>2]|=C<<24-w%4*8,u.sigBytes+=C},unpad:function(u){var h=u.words[u.sigBytes-1>>>2]&255;u.sigBytes-=h}},a.pad.Ansix923})}(S0)),S0.exports}var I0={exports:{}},xs;function $c(){return xs||(xs=1,function(o,l){(function(a,u,h){o.exports=u(ft(),zt())})(et,function(a){return a.pad.Iso10126={pad:function(u,h){var f=h*4,p=f-u.sigBytes%f;u.concat(a.lib.WordArray.random(p-1)).concat(a.lib.WordArray.create([p<<24],1))},unpad:function(u){var h=u.words[u.sigBytes-1>>>2]&255;u.sigBytes-=h}},a.pad.Iso10126})}(I0)),I0.exports}var D0={exports:{}},gs;function Zc(){return gs||(gs=1,function(o,l){(function(a,u,h){o.exports=u(ft(),zt())})(et,function(a){return a.pad.Iso97971={pad:function(u,h){u.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(u,h)},unpad:function(u){a.pad.ZeroPadding.unpad(u),u.sigBytes--}},a.pad.Iso97971})}(D0)),D0.exports}var T0={exports:{}},ps;function Qc(){return ps||(ps=1,function(o,l){(function(a,u,h){o.exports=u(ft(),zt())})(et,function(a){return a.pad.ZeroPadding={pad:function(u,h){var f=h*4;u.clamp(),u.sigBytes+=f-(u.sigBytes%f||f)},unpad:function(u){for(var h=u.words,f=u.sigBytes-1,f=u.sigBytes-1;f>=0;f--)if(h[f>>>2]>>>24-f%4*8&255){u.sigBytes=f+1;break}}},a.pad.ZeroPadding})}(T0)),T0.exports}var B0={exports:{}},ms;function Kc(){return ms||(ms=1,function(o,l){(function(a,u,h){o.exports=u(ft(),zt())})(et,function(a){return a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding})}(B0)),B0.exports}var N0={exports:{}},Cs;function Jc(){return Cs||(Cs=1,function(o,l){(function(a,u,h){o.exports=u(ft(),zt())})(et,function(a){return function(u){var h=a,f=h.lib,p=f.CipherParams,C=h.enc,w=C.Hex,x=h.format;x.Hex={stringify:function(m){return m.ciphertext.toString(w)},parse:function(m){var A=w.parse(m);return p.create({ciphertext:A})}}}(),a.format.Hex})}(N0)),N0.exports}var O0={exports:{}},As;function e1(){return As||(As=1,function(o,l){(function(a,u,h){o.exports=u(ft(),fn(),hn(),en(),zt())})(et,function(a){return function(){var u=a,h=u.lib,f=h.BlockCipher,p=u.algo,C=[],w=[],x=[],m=[],A=[],b=[],S=[],_=[],E=[],D=[];(function(){for(var N=[],M=0;M<256;M++)M<128?N[M]=M<<1:N[M]=M<<1^283;for(var J=0,$=0,M=0;M<256;M++){var j=$^$<<1^$<<2^$<<3^$<<4;j=j>>>8^j&255^99,C[J]=j,w[j]=J;var ce=N[J],ae=N[ce],ie=N[ae],fe=N[j]*257^j*16843008;x[J]=fe<<24|fe>>>8,m[J]=fe<<16|fe>>>16,A[J]=fe<<8|fe>>>24,b[J]=fe;var fe=ie*16843009^ae*65537^ce*257^J*16843008;S[j]=fe<<24|fe>>>8,_[j]=fe<<16|fe>>>16,E[j]=fe<<8|fe>>>24,D[j]=fe,J?(J=ce^N[N[N[ie^ce]]],$^=N[N[$]]):J=$=1}})();var R=[0,1,2,4,8,16,32,64,128,27,54],B=p.AES=f.extend({_doReset:function(){var N;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var M=this._keyPriorReset=this._key,J=M.words,$=M.sigBytes/4,j=this._nRounds=$+6,ce=(j+1)*4,ae=this._keySchedule=[],ie=0;ie<ce;ie++)ie<$?ae[ie]=J[ie]:(N=ae[ie-1],ie%$?$>6&&ie%$==4&&(N=C[N>>>24]<<24|C[N>>>16&255]<<16|C[N>>>8&255]<<8|C[N&255]):(N=N<<8|N>>>24,N=C[N>>>24]<<24|C[N>>>16&255]<<16|C[N>>>8&255]<<8|C[N&255],N^=R[ie/$|0]<<24),ae[ie]=ae[ie-$]^N);for(var fe=this._invKeySchedule=[],he=0;he<ce;he++){var ie=ce-he;if(he%4)var N=ae[ie];else var N=ae[ie-4];he<4||ie<=4?fe[he]=N:fe[he]=S[C[N>>>24]]^_[C[N>>>16&255]]^E[C[N>>>8&255]]^D[C[N&255]]}}},encryptBlock:function(N,M){this._doCryptBlock(N,M,this._keySchedule,x,m,A,b,C)},decryptBlock:function(N,M){var J=N[M+1];N[M+1]=N[M+3],N[M+3]=J,this._doCryptBlock(N,M,this._invKeySchedule,S,_,E,D,w);var J=N[M+1];N[M+1]=N[M+3],N[M+3]=J},_doCryptBlock:function(N,M,J,$,j,ce,ae,ie){for(var fe=this._nRounds,he=N[M]^J[0],z=N[M+1]^J[1],re=N[M+2]^J[2],L=N[M+3]^J[3],ue=4,K=1;K<fe;K++){var ye=$[he>>>24]^j[z>>>16&255]^ce[re>>>8&255]^ae[L&255]^J[ue++],Be=$[z>>>24]^j[re>>>16&255]^ce[L>>>8&255]^ae[he&255]^J[ue++],Ie=$[re>>>24]^j[L>>>16&255]^ce[he>>>8&255]^ae[z&255]^J[ue++],de=$[L>>>24]^j[he>>>16&255]^ce[z>>>8&255]^ae[re&255]^J[ue++];he=ye,z=Be,re=Ie,L=de}var ye=(ie[he>>>24]<<24|ie[z>>>16&255]<<16|ie[re>>>8&255]<<8|ie[L&255])^J[ue++],Be=(ie[z>>>24]<<24|ie[re>>>16&255]<<16|ie[L>>>8&255]<<8|ie[he&255])^J[ue++],Ie=(ie[re>>>24]<<24|ie[L>>>16&255]<<16|ie[he>>>8&255]<<8|ie[z&255])^J[ue++],de=(ie[L>>>24]<<24|ie[he>>>16&255]<<16|ie[z>>>8&255]<<8|ie[re&255])^J[ue++];N[M]=ye,N[M+1]=Be,N[M+2]=Ie,N[M+3]=de},keySize:256/32});u.AES=f._createHelper(B)}(),a.AES})}(O0)),O0.exports}var M0={exports:{}},ws;function t1(){return ws||(ws=1,function(o,l){(function(a,u,h){o.exports=u(ft(),fn(),hn(),en(),zt())})(et,function(a){return function(){var u=a,h=u.lib,f=h.WordArray,p=h.BlockCipher,C=u.algo,w=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],x=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],m=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],A=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],b=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],S=C.DES=p.extend({_doReset:function(){for(var R=this._key,B=R.words,N=[],M=0;M<56;M++){var J=w[M]-1;N[M]=B[J>>>5]>>>31-J%32&1}for(var $=this._subKeys=[],j=0;j<16;j++){for(var ce=$[j]=[],ae=m[j],M=0;M<24;M++)ce[M/6|0]|=N[(x[M]-1+ae)%28]<<31-M%6,ce[4+(M/6|0)]|=N[28+(x[M+24]-1+ae)%28]<<31-M%6;ce[0]=ce[0]<<1|ce[0]>>>31;for(var M=1;M<7;M++)ce[M]=ce[M]>>>(M-1)*4+3;ce[7]=ce[7]<<5|ce[7]>>>27}for(var ie=this._invSubKeys=[],M=0;M<16;M++)ie[M]=$[15-M]},encryptBlock:function(R,B){this._doCryptBlock(R,B,this._subKeys)},decryptBlock:function(R,B){this._doCryptBlock(R,B,this._invSubKeys)},_doCryptBlock:function(R,B,N){this._lBlock=R[B],this._rBlock=R[B+1],_.call(this,4,252645135),_.call(this,16,65535),E.call(this,2,858993459),E.call(this,8,16711935),_.call(this,1,1431655765);for(var M=0;M<16;M++){for(var J=N[M],$=this._lBlock,j=this._rBlock,ce=0,ae=0;ae<8;ae++)ce|=A[ae][((j^J[ae])&b[ae])>>>0];this._lBlock=j,this._rBlock=$^ce}var ie=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ie,_.call(this,1,1431655765),E.call(this,8,16711935),E.call(this,2,858993459),_.call(this,16,65535),_.call(this,4,252645135),R[B]=this._lBlock,R[B+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function _(R,B){var N=(this._lBlock>>>R^this._rBlock)&B;this._rBlock^=N,this._lBlock^=N<<R}function E(R,B){var N=(this._rBlock>>>R^this._lBlock)&B;this._lBlock^=N,this._rBlock^=N<<R}u.DES=p._createHelper(S);var D=C.TripleDES=p.extend({_doReset:function(){var R=this._key,B=R.words;if(B.length!==2&&B.length!==4&&B.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var N=B.slice(0,2),M=B.length<4?B.slice(0,2):B.slice(2,4),J=B.length<6?B.slice(0,2):B.slice(4,6);this._des1=S.createEncryptor(f.create(N)),this._des2=S.createEncryptor(f.create(M)),this._des3=S.createEncryptor(f.create(J))},encryptBlock:function(R,B){this._des1.encryptBlock(R,B),this._des2.decryptBlock(R,B),this._des3.encryptBlock(R,B)},decryptBlock:function(R,B){this._des3.decryptBlock(R,B),this._des2.encryptBlock(R,B),this._des1.decryptBlock(R,B)},keySize:192/32,ivSize:64/32,blockSize:64/32});u.TripleDES=p._createHelper(D)}(),a.TripleDES})}(M0)),M0.exports}var R0={exports:{}},ys;function r1(){return ys||(ys=1,function(o,l){(function(a,u,h){o.exports=u(ft(),fn(),hn(),en(),zt())})(et,function(a){return function(){var u=a,h=u.lib,f=h.StreamCipher,p=u.algo,C=p.RC4=f.extend({_doReset:function(){for(var m=this._key,A=m.words,b=m.sigBytes,S=this._S=[],_=0;_<256;_++)S[_]=_;for(var _=0,E=0;_<256;_++){var D=_%b,R=A[D>>>2]>>>24-D%4*8&255;E=(E+S[_]+R)%256;var B=S[_];S[_]=S[E],S[E]=B}this._i=this._j=0},_doProcessBlock:function(m,A){m[A]^=w.call(this)},keySize:256/32,ivSize:0});function w(){for(var m=this._S,A=this._i,b=this._j,S=0,_=0;_<4;_++){A=(A+1)%256,b=(b+m[A])%256;var E=m[A];m[A]=m[b],m[b]=E,S|=m[(m[A]+m[b])%256]<<24-_*8}return this._i=A,this._j=b,S}u.RC4=f._createHelper(C);var x=p.RC4Drop=C.extend({cfg:C.cfg.extend({drop:192}),_doReset:function(){C._doReset.call(this);for(var m=this.cfg.drop;m>0;m--)w.call(this)}});u.RC4Drop=f._createHelper(x)}(),a.RC4})}(R0)),R0.exports}var F0={exports:{}},vs;function n1(){return vs||(vs=1,function(o,l){(function(a,u,h){o.exports=u(ft(),fn(),hn(),en(),zt())})(et,function(a){return function(){var u=a,h=u.lib,f=h.StreamCipher,p=u.algo,C=[],w=[],x=[],m=p.Rabbit=f.extend({_doReset:function(){for(var b=this._key.words,S=this.cfg.iv,_=0;_<4;_++)b[_]=(b[_]<<8|b[_]>>>24)&16711935|(b[_]<<24|b[_]>>>8)&4278255360;var E=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],D=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var _=0;_<4;_++)A.call(this);for(var _=0;_<8;_++)D[_]^=E[_+4&7];if(S){var R=S.words,B=R[0],N=R[1],M=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,J=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,$=M>>>16|J&4294901760,j=J<<16|M&65535;D[0]^=M,D[1]^=$,D[2]^=J,D[3]^=j,D[4]^=M,D[5]^=$,D[6]^=J,D[7]^=j;for(var _=0;_<4;_++)A.call(this)}},_doProcessBlock:function(b,S){var _=this._X;A.call(this),C[0]=_[0]^_[5]>>>16^_[3]<<16,C[1]=_[2]^_[7]>>>16^_[5]<<16,C[2]=_[4]^_[1]>>>16^_[7]<<16,C[3]=_[6]^_[3]>>>16^_[1]<<16;for(var E=0;E<4;E++)C[E]=(C[E]<<8|C[E]>>>24)&16711935|(C[E]<<24|C[E]>>>8)&4278255360,b[S+E]^=C[E]},blockSize:128/32,ivSize:64/32});function A(){for(var b=this._X,S=this._C,_=0;_<8;_++)w[_]=S[_];S[0]=S[0]+1295307597+this._b|0,S[1]=S[1]+3545052371+(S[0]>>>0<w[0]>>>0?1:0)|0,S[2]=S[2]+886263092+(S[1]>>>0<w[1]>>>0?1:0)|0,S[3]=S[3]+1295307597+(S[2]>>>0<w[2]>>>0?1:0)|0,S[4]=S[4]+3545052371+(S[3]>>>0<w[3]>>>0?1:0)|0,S[5]=S[5]+886263092+(S[4]>>>0<w[4]>>>0?1:0)|0,S[6]=S[6]+1295307597+(S[5]>>>0<w[5]>>>0?1:0)|0,S[7]=S[7]+3545052371+(S[6]>>>0<w[6]>>>0?1:0)|0,this._b=S[7]>>>0<w[7]>>>0?1:0;for(var _=0;_<8;_++){var E=b[_]+S[_],D=E&65535,R=E>>>16,B=((D*D>>>17)+D*R>>>15)+R*R,N=((E&4294901760)*E|0)+((E&65535)*E|0);x[_]=B^N}b[0]=x[0]+(x[7]<<16|x[7]>>>16)+(x[6]<<16|x[6]>>>16)|0,b[1]=x[1]+(x[0]<<8|x[0]>>>24)+x[7]|0,b[2]=x[2]+(x[1]<<16|x[1]>>>16)+(x[0]<<16|x[0]>>>16)|0,b[3]=x[3]+(x[2]<<8|x[2]>>>24)+x[1]|0,b[4]=x[4]+(x[3]<<16|x[3]>>>16)+(x[2]<<16|x[2]>>>16)|0,b[5]=x[5]+(x[4]<<8|x[4]>>>24)+x[3]|0,b[6]=x[6]+(x[5]<<16|x[5]>>>16)+(x[4]<<16|x[4]>>>16)|0,b[7]=x[7]+(x[6]<<8|x[6]>>>24)+x[5]|0}u.Rabbit=f._createHelper(m)}(),a.Rabbit})}(F0)),F0.exports}var L0={exports:{}},Es;function i1(){return Es||(Es=1,function(o,l){(function(a,u,h){o.exports=u(ft(),fn(),hn(),en(),zt())})(et,function(a){return function(){var u=a,h=u.lib,f=h.StreamCipher,p=u.algo,C=[],w=[],x=[],m=p.RabbitLegacy=f.extend({_doReset:function(){var b=this._key.words,S=this.cfg.iv,_=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],E=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var D=0;D<4;D++)A.call(this);for(var D=0;D<8;D++)E[D]^=_[D+4&7];if(S){var R=S.words,B=R[0],N=R[1],M=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,J=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,$=M>>>16|J&4294901760,j=J<<16|M&65535;E[0]^=M,E[1]^=$,E[2]^=J,E[3]^=j,E[4]^=M,E[5]^=$,E[6]^=J,E[7]^=j;for(var D=0;D<4;D++)A.call(this)}},_doProcessBlock:function(b,S){var _=this._X;A.call(this),C[0]=_[0]^_[5]>>>16^_[3]<<16,C[1]=_[2]^_[7]>>>16^_[5]<<16,C[2]=_[4]^_[1]>>>16^_[7]<<16,C[3]=_[6]^_[3]>>>16^_[1]<<16;for(var E=0;E<4;E++)C[E]=(C[E]<<8|C[E]>>>24)&16711935|(C[E]<<24|C[E]>>>8)&4278255360,b[S+E]^=C[E]},blockSize:128/32,ivSize:64/32});function A(){for(var b=this._X,S=this._C,_=0;_<8;_++)w[_]=S[_];S[0]=S[0]+1295307597+this._b|0,S[1]=S[1]+3545052371+(S[0]>>>0<w[0]>>>0?1:0)|0,S[2]=S[2]+886263092+(S[1]>>>0<w[1]>>>0?1:0)|0,S[3]=S[3]+1295307597+(S[2]>>>0<w[2]>>>0?1:0)|0,S[4]=S[4]+3545052371+(S[3]>>>0<w[3]>>>0?1:0)|0,S[5]=S[5]+886263092+(S[4]>>>0<w[4]>>>0?1:0)|0,S[6]=S[6]+1295307597+(S[5]>>>0<w[5]>>>0?1:0)|0,S[7]=S[7]+3545052371+(S[6]>>>0<w[6]>>>0?1:0)|0,this._b=S[7]>>>0<w[7]>>>0?1:0;for(var _=0;_<8;_++){var E=b[_]+S[_],D=E&65535,R=E>>>16,B=((D*D>>>17)+D*R>>>15)+R*R,N=((E&4294901760)*E|0)+((E&65535)*E|0);x[_]=B^N}b[0]=x[0]+(x[7]<<16|x[7]>>>16)+(x[6]<<16|x[6]>>>16)|0,b[1]=x[1]+(x[0]<<8|x[0]>>>24)+x[7]|0,b[2]=x[2]+(x[1]<<16|x[1]>>>16)+(x[0]<<16|x[0]>>>16)|0,b[3]=x[3]+(x[2]<<8|x[2]>>>24)+x[1]|0,b[4]=x[4]+(x[3]<<16|x[3]>>>16)+(x[2]<<16|x[2]>>>16)|0,b[5]=x[5]+(x[4]<<8|x[4]>>>24)+x[3]|0,b[6]=x[6]+(x[5]<<16|x[5]>>>16)+(x[4]<<16|x[4]>>>16)|0,b[7]=x[7]+(x[6]<<8|x[6]>>>24)+x[5]|0}u.RabbitLegacy=f._createHelper(m)}(),a.RabbitLegacy})}(L0)),L0.exports}var k0={exports:{}},bs;function o1(){return bs||(bs=1,function(o,l){(function(a,u,h){o.exports=u(ft(),fn(),hn(),en(),zt())})(et,function(a){return function(){var u=a,h=u.lib,f=h.BlockCipher,p=u.algo;const C=16,w=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],x=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var m={pbox:[],sbox:[]};function A(D,R){let B=R>>24&255,N=R>>16&255,M=R>>8&255,J=R&255,$=D.sbox[0][B]+D.sbox[1][N];return $=$^D.sbox[2][M],$=$+D.sbox[3][J],$}function b(D,R,B){let N=R,M=B,J;for(let $=0;$<C;++$)N=N^D.pbox[$],M=A(D,N)^M,J=N,N=M,M=J;return J=N,N=M,M=J,M=M^D.pbox[C],N=N^D.pbox[C+1],{left:N,right:M}}function S(D,R,B){let N=R,M=B,J;for(let $=C+1;$>1;--$)N=N^D.pbox[$],M=A(D,N)^M,J=N,N=M,M=J;return J=N,N=M,M=J,M=M^D.pbox[1],N=N^D.pbox[0],{left:N,right:M}}function _(D,R,B){for(let j=0;j<4;j++){D.sbox[j]=[];for(let ce=0;ce<256;ce++)D.sbox[j][ce]=x[j][ce]}let N=0;for(let j=0;j<C+2;j++)D.pbox[j]=w[j]^R[N],N++,N>=B&&(N=0);let M=0,J=0,$=0;for(let j=0;j<C+2;j+=2)$=b(D,M,J),M=$.left,J=$.right,D.pbox[j]=M,D.pbox[j+1]=J;for(let j=0;j<4;j++)for(let ce=0;ce<256;ce+=2)$=b(D,M,J),M=$.left,J=$.right,D.sbox[j][ce]=M,D.sbox[j][ce+1]=J;return!0}var E=p.Blowfish=f.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var D=this._keyPriorReset=this._key,R=D.words,B=D.sigBytes/4;_(m,R,B)}},encryptBlock:function(D,R){var B=b(m,D[R],D[R+1]);D[R]=B.left,D[R+1]=B.right},decryptBlock:function(D,R){var B=S(m,D[R],D[R+1]);D[R]=B.left,D[R+1]=B.right},blockSize:64/32,keySize:128/32,ivSize:64/32});u.Blowfish=f._createHelper(E)}(),a.Blowfish})}(k0)),k0.exports}(function(o,l){(function(a,u,h){o.exports=u(ft(),Ri(),Fc(),Lc(),fn(),kc(),hn(),wa(),no(),Pc(),ya(),Uc(),Hc(),zc(),io(),jc(),en(),zt(),Wc(),Vc(),Gc(),Xc(),Yc(),qc(),$c(),Zc(),Qc(),Kc(),Jc(),e1(),t1(),r1(),n1(),i1(),o1())})(et,function(a){return a})})(Aa);var s1=Aa.exports;const Rr=Ca(s1);var a1=function(o){var l={};function a(u){if(l[u])return l[u].exports;var h=l[u]={i:u,l:!1,exports:{}};return o[u].call(h.exports,h,h.exports,a),h.l=!0,h.exports}return a.m=o,a.c=l,a.d=function(u,h,f){a.o(u,h)||Object.defineProperty(u,h,{enumerable:!0,get:f})},a.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},a.t=function(u,h){if(1&h&&(u=a(u)),8&h||4&h&&typeof u=="object"&&u&&u.__esModule)return u;var f=Object.create(null);if(a.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:u}),2&h&&typeof u!="string")for(var p in u)a.d(f,p,function(C){return u[C]}.bind(null,p));return f},a.n=function(u){var h=u&&u.__esModule?function(){return u.default}:function(){return u};return a.d(h,"a",h),h},a.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},a.p="",a(a.s=9)}([function(o,l){o.exports={L:1,M:0,Q:3,H:2}},function(o,l){o.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},function(o,l,a){var u=a(3);function h(f,p){if(f.length==null)throw new Error(f.length+"/"+p);for(var C=0;C<f.length&&f[C]==0;)C++;this.num=new Array(f.length-C+p);for(var w=0;w<f.length-C;w++)this.num[w]=f[w+C]}h.prototype={get:function(f){return this.num[f]},getLength:function(){return this.num.length},multiply:function(f){for(var p=new Array(this.getLength()+f.getLength()-1),C=0;C<this.getLength();C++)for(var w=0;w<f.getLength();w++)p[C+w]^=u.gexp(u.glog(this.get(C))+u.glog(f.get(w)));return new h(p,0)},mod:function(f){if(this.getLength()-f.getLength()<0)return this;for(var p=u.glog(this.get(0))-u.glog(f.get(0)),C=new Array(this.getLength()),w=0;w<this.getLength();w++)C[w]=this.get(w);for(w=0;w<f.getLength();w++)C[w]^=u.gexp(u.glog(f.get(w))+p);return new h(C,0).mod(f)}},o.exports=h},function(o,l){for(var a={glog:function(h){if(h<1)throw new Error("glog("+h+")");return a.LOG_TABLE[h]},gexp:function(h){for(;h<0;)h+=255;for(;h>=256;)h-=255;return a.EXP_TABLE[h]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},u=0;u<8;u++)a.EXP_TABLE[u]=1<<u;for(u=8;u<256;u++)a.EXP_TABLE[u]=a.EXP_TABLE[u-4]^a.EXP_TABLE[u-5]^a.EXP_TABLE[u-6]^a.EXP_TABLE[u-8];for(u=0;u<255;u++)a.LOG_TABLE[a.EXP_TABLE[u]]=u;o.exports=a},function(o,l,a){var u=a(5),h=a(6),f=a(7),p=a(8),C=a(2);function w(m,A){this.typeNumber=m,this.errorCorrectLevel=A,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var x=w.prototype;x.addData=function(m){var A=new u(m);this.dataList.push(A),this.dataCache=null},x.isDark=function(m,A){if(m<0||this.moduleCount<=m||A<0||this.moduleCount<=A)throw new Error(m+","+A);return this.modules[m][A]},x.getModuleCount=function(){return this.moduleCount},x.make=function(){if(this.typeNumber<1){var m=1;for(m=1;m<40;m++){for(var A=h.getRSBlocks(m,this.errorCorrectLevel),b=new f,S=0,_=0;_<A.length;_++)S+=A[_].dataCount;for(_=0;_<this.dataList.length;_++){var E=this.dataList[_];b.put(E.mode,4),b.put(E.getLength(),p.getLengthInBits(E.mode,m)),E.write(b)}if(b.getLengthInBits()<=8*S)break}this.typeNumber=m}this.makeImpl(!1,this.getBestMaskPattern())},x.makeImpl=function(m,A){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++){this.modules[b]=new Array(this.moduleCount);for(var S=0;S<this.moduleCount;S++)this.modules[b][S]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(m,A),this.typeNumber>=7&&this.setupTypeNumber(m),this.dataCache==null&&(this.dataCache=w.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,A)},x.setupPositionProbePattern=function(m,A){for(var b=-1;b<=7;b++)if(!(m+b<=-1||this.moduleCount<=m+b))for(var S=-1;S<=7;S++)A+S<=-1||this.moduleCount<=A+S||(this.modules[m+b][A+S]=0<=b&&b<=6&&(S==0||S==6)||0<=S&&S<=6&&(b==0||b==6)||2<=b&&b<=4&&2<=S&&S<=4)},x.getBestMaskPattern=function(){for(var m=0,A=0,b=0;b<8;b++){this.makeImpl(!0,b);var S=p.getLostPoint(this);(b==0||m>S)&&(m=S,A=b)}return A},x.createMovieClip=function(m,A,b){var S=m.createEmptyMovieClip(A,b);this.make();for(var _=0;_<this.modules.length;_++)for(var E=1*_,D=0;D<this.modules[_].length;D++){var R=1*D;this.modules[_][D]&&(S.beginFill(0,100),S.moveTo(R,E),S.lineTo(R+1,E),S.lineTo(R+1,E+1),S.lineTo(R,E+1),S.endFill())}return S},x.setupTimingPattern=function(){for(var m=8;m<this.moduleCount-8;m++)this.modules[m][6]==null&&(this.modules[m][6]=m%2==0);for(var A=8;A<this.moduleCount-8;A++)this.modules[6][A]==null&&(this.modules[6][A]=A%2==0)},x.setupPositionAdjustPattern=function(){for(var m=p.getPatternPosition(this.typeNumber),A=0;A<m.length;A++)for(var b=0;b<m.length;b++){var S=m[A],_=m[b];if(this.modules[S][_]==null)for(var E=-2;E<=2;E++)for(var D=-2;D<=2;D++)this.modules[S+E][_+D]=E==-2||E==2||D==-2||D==2||E==0&&D==0}},x.setupTypeNumber=function(m){for(var A=p.getBCHTypeNumber(this.typeNumber),b=0;b<18;b++){var S=!m&&(A>>b&1)==1;this.modules[Math.floor(b/3)][b%3+this.moduleCount-8-3]=S}for(b=0;b<18;b++)S=!m&&(A>>b&1)==1,this.modules[b%3+this.moduleCount-8-3][Math.floor(b/3)]=S},x.setupTypeInfo=function(m,A){for(var b=this.errorCorrectLevel<<3|A,S=p.getBCHTypeInfo(b),_=0;_<15;_++){var E=!m&&(S>>_&1)==1;_<6?this.modules[_][8]=E:_<8?this.modules[_+1][8]=E:this.modules[this.moduleCount-15+_][8]=E}for(_=0;_<15;_++)E=!m&&(S>>_&1)==1,_<8?this.modules[8][this.moduleCount-_-1]=E:_<9?this.modules[8][15-_-1+1]=E:this.modules[8][15-_-1]=E;this.modules[this.moduleCount-8][8]=!m},x.mapData=function(m,A){for(var b=-1,S=this.moduleCount-1,_=7,E=0,D=this.moduleCount-1;D>0;D-=2)for(D==6&&D--;;){for(var R=0;R<2;R++)if(this.modules[S][D-R]==null){var B=!1;E<m.length&&(B=(m[E]>>>_&1)==1),p.getMask(A,S,D-R)&&(B=!B),this.modules[S][D-R]=B,--_==-1&&(E++,_=7)}if((S+=b)<0||this.moduleCount<=S){S-=b,b=-b;break}}},w.PAD0=236,w.PAD1=17,w.createData=function(m,A,b){for(var S=h.getRSBlocks(m,A),_=new f,E=0;E<b.length;E++){var D=b[E];_.put(D.mode,4),_.put(D.getLength(),p.getLengthInBits(D.mode,m)),D.write(_)}var R=0;for(E=0;E<S.length;E++)R+=S[E].dataCount;if(_.getLengthInBits()>8*R)throw new Error("code length overflow. ("+_.getLengthInBits()+">"+8*R+")");for(_.getLengthInBits()+4<=8*R&&_.put(0,4);_.getLengthInBits()%8!=0;)_.putBit(!1);for(;!(_.getLengthInBits()>=8*R||(_.put(w.PAD0,8),_.getLengthInBits()>=8*R));)_.put(w.PAD1,8);return w.createBytes(_,S)},w.createBytes=function(m,A){for(var b=0,S=0,_=0,E=new Array(A.length),D=new Array(A.length),R=0;R<A.length;R++){var B=A[R].dataCount,N=A[R].totalCount-B;S=Math.max(S,B),_=Math.max(_,N),E[R]=new Array(B);for(var M=0;M<E[R].length;M++)E[R][M]=255&m.buffer[M+b];b+=B;var J=p.getErrorCorrectPolynomial(N),$=new C(E[R],J.getLength()-1).mod(J);for(D[R]=new Array(J.getLength()-1),M=0;M<D[R].length;M++){var j=M+$.getLength()-D[R].length;D[R][M]=j>=0?$.get(j):0}}var ce=0;for(M=0;M<A.length;M++)ce+=A[M].totalCount;var ae=new Array(ce),ie=0;for(M=0;M<S;M++)for(R=0;R<A.length;R++)M<E[R].length&&(ae[ie++]=E[R][M]);for(M=0;M<_;M++)for(R=0;R<A.length;R++)M<D[R].length&&(ae[ie++]=D[R][M]);return ae},o.exports=w},function(o,l,a){var u=a(1);function h(f){this.mode=u.MODE_8BIT_BYTE,this.data=f}h.prototype={getLength:function(f){return this.data.length},write:function(f){for(var p=0;p<this.data.length;p++)f.put(this.data.charCodeAt(p),8)}},o.exports=h},function(o,l,a){var u=a(0);function h(f,p){this.totalCount=f,this.dataCount=p}h.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h.getRSBlocks=function(f,p){var C=h.getRsBlockTable(f,p);if(C==null)throw new Error("bad rs block @ typeNumber:"+f+"/errorCorrectLevel:"+p);for(var w=C.length/3,x=new Array,m=0;m<w;m++)for(var A=C[3*m+0],b=C[3*m+1],S=C[3*m+2],_=0;_<A;_++)x.push(new h(b,S));return x},h.getRsBlockTable=function(f,p){switch(p){case u.L:return h.RS_BLOCK_TABLE[4*(f-1)+0];case u.M:return h.RS_BLOCK_TABLE[4*(f-1)+1];case u.Q:return h.RS_BLOCK_TABLE[4*(f-1)+2];case u.H:return h.RS_BLOCK_TABLE[4*(f-1)+3];default:return}},o.exports=h},function(o,l){function a(){this.buffer=new Array,this.length=0}a.prototype={get:function(u){var h=Math.floor(u/8);return(this.buffer[h]>>>7-u%8&1)==1},put:function(u,h){for(var f=0;f<h;f++)this.putBit((u>>>h-f-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(u){var h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),u&&(this.buffer[h]|=128>>>this.length%8),this.length++}},o.exports=a},function(o,l,a){var u=a(1),h=a(2),f=a(3),p=0,C=1,w=2,x=3,m=4,A=5,b=6,S=7,_={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(E){for(var D=E<<10;_.getBCHDigit(D)-_.getBCHDigit(_.G15)>=0;)D^=_.G15<<_.getBCHDigit(D)-_.getBCHDigit(_.G15);return(E<<10|D)^_.G15_MASK},getBCHTypeNumber:function(E){for(var D=E<<12;_.getBCHDigit(D)-_.getBCHDigit(_.G18)>=0;)D^=_.G18<<_.getBCHDigit(D)-_.getBCHDigit(_.G18);return E<<12|D},getBCHDigit:function(E){for(var D=0;E!=0;)D++,E>>>=1;return D},getPatternPosition:function(E){return _.PATTERN_POSITION_TABLE[E-1]},getMask:function(E,D,R){switch(E){case p:return(D+R)%2==0;case C:return D%2==0;case w:return R%3==0;case x:return(D+R)%3==0;case m:return(Math.floor(D/2)+Math.floor(R/3))%2==0;case A:return D*R%2+D*R%3==0;case b:return(D*R%2+D*R%3)%2==0;case S:return(D*R%3+(D+R)%2)%2==0;default:throw new Error("bad maskPattern:"+E)}},getErrorCorrectPolynomial:function(E){for(var D=new h([1],0),R=0;R<E;R++)D=D.multiply(new h([1,f.gexp(R)],0));return D},getLengthInBits:function(E,D){if(1<=D&&D<10)switch(E){case u.MODE_NUMBER:return 10;case u.MODE_ALPHA_NUM:return 9;case u.MODE_8BIT_BYTE:case u.MODE_KANJI:return 8;default:throw new Error("mode:"+E)}else if(D<27)switch(E){case u.MODE_NUMBER:return 12;case u.MODE_ALPHA_NUM:return 11;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 10;default:throw new Error("mode:"+E)}else{if(!(D<41))throw new Error("type:"+D);switch(E){case u.MODE_NUMBER:return 14;case u.MODE_ALPHA_NUM:return 13;case u.MODE_8BIT_BYTE:return 16;case u.MODE_KANJI:return 12;default:throw new Error("mode:"+E)}}},getLostPoint:function(E){for(var D=E.getModuleCount(),R=0,B=0;B<D;B++)for(var N=0;N<D;N++){for(var M=0,J=E.isDark(B,N),$=-1;$<=1;$++)if(!(B+$<0||D<=B+$))for(var j=-1;j<=1;j++)N+j<0||D<=N+j||$==0&&j==0||J==E.isDark(B+$,N+j)&&M++;M>5&&(R+=3+M-5)}for(B=0;B<D-1;B++)for(N=0;N<D-1;N++){var ce=0;E.isDark(B,N)&&ce++,E.isDark(B+1,N)&&ce++,E.isDark(B,N+1)&&ce++,E.isDark(B+1,N+1)&&ce++,ce!=0&&ce!=4||(R+=3)}for(B=0;B<D;B++)for(N=0;N<D-6;N++)E.isDark(B,N)&&!E.isDark(B,N+1)&&E.isDark(B,N+2)&&E.isDark(B,N+3)&&E.isDark(B,N+4)&&!E.isDark(B,N+5)&&E.isDark(B,N+6)&&(R+=40);for(N=0;N<D;N++)for(B=0;B<D-6;B++)E.isDark(B,N)&&!E.isDark(B+1,N)&&E.isDark(B+2,N)&&E.isDark(B+3,N)&&E.isDark(B+4,N)&&!E.isDark(B+5,N)&&E.isDark(B+6,N)&&(R+=40);var ae=0;for(N=0;N<D;N++)for(B=0;B<D;B++)E.isDark(B,N)&&ae++;return R+=10*(Math.abs(100*ae/D/D-50)/5)}};o.exports=_},function(o,l,a){function u(ee){return function(Q){if(Array.isArray(Q)){for(var q=0,xe=new Array(Q.length);q<Q.length;q++)xe[q]=Q[q];return xe}}(ee)||function(Q){if(Symbol.iterator in Object(Q)||Object.prototype.toString.call(Q)==="[object Arguments]")return Array.from(Q)}(ee)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(ee,Q){for(var q=0;q<Q.length;q++){var xe=Q[q];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,xe.key,xe)}}a.r(l);var f=function(){function ee(){(function(le,Y){if(!(le instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,ee)}var Q,q,xe;return Q=ee,xe=[{key:"convertHexColorToBytes",value:function(le){var Y=[],pe=le.replace("#","");if(!/^[0-9A-F]{3,8}$/i.test(pe))return[0,0,0,0];switch(pe.length){case 3:pe+="F";case 4:Y.push.apply(Y,u(pe.split("").map(function(Ae){return parseInt(Ae.repeat(2),16)})));break;case 6:pe+="FF";case 8:Y.push(parseInt(pe.substr(0,2),16)),Y.push(parseInt(pe.substr(2,2),16)),Y.push(parseInt(pe.substr(4,2),16)),Y.push(parseInt(pe.substr(6,2),16));break;default:Y.push(0,0,0,0)}return Y}}],(q=null)&&h(Q.prototype,q),xe&&h(Q,xe),ee}(),p=a(4),C=a.n(p),w=a(0),x=a.n(w);function m(ee){return function(Q){if(Array.isArray(Q)){for(var q=0,xe=new Array(Q.length);q<Q.length;q++)xe[q]=Q[q];return xe}}(ee)||function(Q){if(Symbol.iterator in Object(Q)||Object.prototype.toString.call(Q)==="[object Arguments]")return Array.from(Q)}(ee)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function A(ee,Q){for(var q=0;q<Q.length;q++){var xe=Q[q];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,xe.key,xe)}}function b(ee,Q,q){return Q in ee?Object.defineProperty(ee,Q,{value:q,enumerable:!0,configurable:!0,writable:!0}):ee[Q]=q,ee}var S={level:"L",padding:1,invert:!1,typeNumber:0,errorsEnabled:!1},_=function(){function ee(xe){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(pe,Ae){if(!(pe instanceof Ae))throw new TypeError("Cannot call a class as a function")})(this,ee),b(this,"value",void 0),b(this,"level",void 0),b(this,"typeNumber",void 0),b(this,"padding",void 0),b(this,"errorsEnabled",void 0),b(this,"qrCodeData",void 0);var Y=function(pe){for(var Ae=1;Ae<arguments.length;Ae++){var Oe=arguments[Ae]!=null?arguments[Ae]:{},Ne=Object.keys(Oe);typeof Object.getOwnPropertySymbols=="function"&&(Ne=Ne.concat(Object.getOwnPropertySymbols(Oe).filter(function(De){return Object.getOwnPropertyDescriptor(Oe,De).enumerable}))),Ne.forEach(function(De){b(pe,De,Oe[De])})}return pe}({},S,le);this.value=xe,this.level=Y.level,this.typeNumber=Y.typeNumber,this.padding=Y.padding,this.invert=Y.invert,this.errorsEnabled=Y.errorsEnabled}var Q,q;return Q=ee,(q=[{key:"setValue",value:function(xe){this.value=xe,this._clearCache()}},{key:"getDataSize",value:function(){var xe=this.getData();return xe?xe.length:0}},{key:"_clearCache",value:function(){this.qrCodeData=null}},{key:"_getQrCodeData",value:function(xe){var le=[],Y=this.padding,pe=this.invert,Ae=Array(2*Y+xe.length).fill(pe),Oe=Array(Y).fill(Ae),Ne=Array(Y).fill(pe);return Y&&le.push.apply(le,m(Oe)),xe.forEach(function(De){var ze=[];ze.push.apply(ze,m(Ne).concat(m(De.map(function(He){return pe?!He:He})),m(Ne))),le.push(ze)}),Y&&le.push.apply(le,m(Oe)),le}},{key:"getData",value:function(){if(!this.qrCodeData)try{var xe=new C.a(this.typeNumber,x.a[this.level]);if(xe.addData(this.value),xe.make(),!xe.modules)return null;this.qrCodeData=this._getQrCodeData(xe.modules),Object.freeze(this.qrCodeData)}catch(le){if(this.errorsEnabled)throw le;return null}return this.qrCodeData}}])&&A(Q.prototype,q),ee}();function E(ee,Q){for(var q=0;q<Q.length;q++){var xe=Q[q];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,xe.key,xe)}}var D=function(){function ee(){(function(le,Y){if(!(le instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,ee)}var Q,q,xe;return Q=ee,xe=[{key:"calculateDimension",value:function(le,Y){return typeof le=="number"?le:typeof le=="string"&&le.indexOf("%")>0?Math.round(parseFloat(le)/100*Y)||0:parseFloat(le)||0}},{key:"calculatePosition",value:function(le,Y,pe){if(typeof le=="number")return le;if(typeof le!="string"||le==="left"||le==="top")return 0;if(le==="right"||le==="bottom")return pe-Y;if(le==="center")return Math.round((pe-Y)/2);var Ae=le.match(/^(?:(right|bottom|left|top)\s+)?(-?[0-9.]+)(%)?$/);if(!Ae)return 0;var Oe=Ae[1]==="right"||Ae[1]==="bottom",Ne=!!Ae[3],De=parseFloat(Ae[2])||0;return Ne&&(De=Math.round(De/100*pe)),Oe&&(De=pe-De-Y),Math.round(De)}}],(q=null)&&E(Q.prototype,q),xe&&E(Q,xe),ee}();function R(ee){return(R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ee)}function B(ee,Q){for(var q=0;q<Q.length;q++){var xe=Q[q];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,xe.key,xe)}}function N(ee,Q,q){return(N=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(xe,le,Y){var pe=function(Oe,Ne){for(;!Object.prototype.hasOwnProperty.call(Oe,Ne)&&(Oe=M(Oe))!==null;);return Oe}(xe,le);if(pe){var Ae=Object.getOwnPropertyDescriptor(pe,le);return Ae.get?Ae.get.call(Y):Ae.value}})(ee,Q,q||ee)}function M(ee){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ee)}function J(ee,Q){return(J=Object.setPrototypeOf||function(q,xe){return q.__proto__=xe,q})(ee,Q)}function $(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function j(ee,Q,q){return Q in ee?Object.defineProperty(ee,Q,{value:q,enumerable:!0,configurable:!0,writable:!0}):ee[Q]=q,ee}var ce={image:null},ae=function(ee){function Q(le){var Y,pe,Ae,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(De,ze){if(!(De instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,Q),pe=this,Y=!(Ae=M(Q).call(this,le,Oe))||R(Ae)!=="object"&&typeof Ae!="function"?$(pe):Ae,j($($(Y)),"image",null),j($($(Y)),"imageConfig",null);var Ne=function(De){for(var ze=1;ze<arguments.length;ze++){var He=arguments[ze]!=null?arguments[ze]:{},Ye=Object.keys(He);typeof Object.getOwnPropertySymbols=="function"&&(Ye=Ye.concat(Object.getOwnPropertySymbols(He).filter(function(Ve){return Object.getOwnPropertyDescriptor(He,Ve).enumerable}))),Ye.forEach(function(Ve){j(De,Ve,He[Ve])})}return De}({},ce,Oe);return Y.image=Ne.image,Y}var q,xe;return function(le,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Y&&Y.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Y&&J(le,Y)}(Q,_),q=Q,(xe=[{key:"_clearCache",value:function(){N(M(Q.prototype),"_clearCache",this).call(this),this.imageConfig=null}},{key:"_getImageSource",value:function(le){var Y=le.source;return typeof Y=="string"?Y:Y instanceof Image?Y.src:Y instanceof HTMLCanvasElement?Y.toDataURL():null}},{key:"_getImageConfig",value:function(){if(this.imageConfig)return this.imageConfig;if(!(this.image&&this.image.source&&this.image.width&&this.image.height))return null;var le=this.getDataSize();if(!le)return null;var Y=this._getImageSource(this.image);if(!Y)return null;var pe=le-2*this.padding,Ae=D.calculateDimension(this.image.width,pe),Oe=D.calculateDimension(this.image.height,pe),Ne=D.calculatePosition(this.image.x,Ae,pe)+this.padding,De=D.calculatePosition(this.image.y,Oe,pe)+this.padding,ze=1;return typeof this.image.border!="number"&&this.image.border!==null||(ze=this.image.border),this.imageConfig={source:Y,border:ze,x:Ne,y:De,width:Ae,height:Oe},this.imageConfig}},{key:"getData",value:function(){if(this.qrCodeData)return this.qrCodeData;var le=N(M(Q.prototype),"getData",this).call(this);if(!le)return le;var Y=this._getImageConfig();if(Y&&Y.width&&Y.height&&typeof Y.border=="number")for(var pe=Math.max(Y.x-Y.border,0),Ae=Math.max(Y.y-Y.border,0),Oe=Math.min(pe+Y.width+2*Y.border,le.length),Ne=Math.min(Ae+Y.height+2*Y.border,le.length),De=Ae;De<Ne;De+=1)for(var ze=pe;ze<Oe;ze+=1)le[De][ze]=!!this.invert;return le}}])&&B(q.prototype,xe),Q}();function ie(ee,Q){for(var q=0;q<Q.length;q++){var xe=Q[q];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,xe.key,xe)}}var fe=function(){function ee(){(function(le,Y){if(!(le instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,ee)}var Q,q,xe;return Q=ee,xe=[{key:"load",value:function(le){return new Promise(function(Y,pe){var Ae=new Image;Ae.onload=function(){return Y(Ae)},Ae.onerror=function(){return pe(Ae)},Ae.src=le})}}],(q=null)&&ie(Q.prototype,q),xe&&ie(Q,xe),ee}();function he(ee){return(he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ee)}function z(ee,Q){for(var q=0;q<Q.length;q++){var xe=Q[q];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,xe.key,xe)}}function re(ee,Q,q){return(re=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(xe,le,Y){var pe=function(Oe,Ne){for(;!Object.prototype.hasOwnProperty.call(Oe,Ne)&&(Oe=L(Oe))!==null;);return Oe}(xe,le);if(pe){var Ae=Object.getOwnPropertyDescriptor(pe,le);return Ae.get?Ae.get.call(Y):Ae.value}})(ee,Q,q||ee)}function L(ee){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ee)}function ue(ee,Q){return(ue=Object.setPrototypeOf||function(q,xe){return q.__proto__=xe,q})(ee,Q)}function K(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function ye(ee,Q,q){return Q in ee?Object.defineProperty(ee,Q,{value:q,enumerable:!0,configurable:!0,writable:!0}):ee[Q]=q,ee}var Be={fgColor:"#000",bgColor:"#FFF",scale:10,size:null},Ie=function(ee){function Q(le){var Y,pe,Ae,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(De,ze){if(!(De instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,Q),pe=this,Y=!(Ae=L(Q).call(this,le,Oe))||he(Ae)!=="object"&&typeof Ae!="function"?K(pe):Ae,ye(K(K(Y)),"fgColor",void 0),ye(K(K(Y)),"bgColor",void 0),ye(K(K(Y)),"scale",void 0),ye(K(K(Y)),"size",void 0),ye(K(K(Y)),"canvas",void 0),ye(K(K(Y)),"canvasContext",void 0);var Ne=function(De){for(var ze=1;ze<arguments.length;ze++){var He=arguments[ze]!=null?arguments[ze]:{},Ye=Object.keys(He);typeof Object.getOwnPropertySymbols=="function"&&(Ye=Ye.concat(Object.getOwnPropertySymbols(He).filter(function(Ve){return Object.getOwnPropertyDescriptor(He,Ve).enumerable}))),Ye.forEach(function(Ve){ye(De,Ve,He[Ve])})}return De}({},Be,Oe);return Y.fgColor=Ne.fgColor,Y.bgColor=Ne.bgColor,Y.scale=Ne.scale,Y.size=Ne.size,Y.canvas=document.createElement("canvas"),Y.canvasContext=Y.canvas.getContext("2d"),Y.toDataURL=Y.toDataUrl,Y}var q,xe;return function(le,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Y&&Y.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Y&&ue(le,Y)}(Q,ae),q=Q,(xe=[{key:"_clearCache",value:function(){re(L(Q.prototype),"_clearCache",this).call(this),this.canvas.width=0}},{key:"_getCanvasSize",value:function(){var le=this.getDataSize();return le?this.size?this.size:this.scale?this.scale*le:le:null}},{key:"draw",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Y=this.getDataSize();if(!Y)return null;var pe=this.getData();if(!pe)return null;var Ae=f.convertHexColorToBytes(this.fgColor),Oe=f.convertHexColorToBytes(this.bgColor),Ne=0,De=new Uint8ClampedArray(4*Math.pow(Y,2));pe.forEach(function(ot){ot.forEach(function(at){at?De.set(Ae,Ne):De.set(Oe,Ne),Ne+=4})});var ze=new ImageData(De,Y,Y);this.canvas.width=Y,this.canvas.height=Y,this.canvasContext.putImageData(ze,0,0);var He=this._getCanvasSize(),Ye=le||document.createElement("canvas");Ye.width=He,Ye.height=He;var Ve=Ye.getContext("2d");Ve.imageSmoothingEnabled=!1,Ve.drawImage(this.canvas,0,0,He,He);var Re=this._drawImage(Ve,He/Y);return Re instanceof Promise?Re.then(function(){return Ye}):Ye}},{key:"_getImageSource",value:function(le){var Y=this,pe=le.source;return typeof pe=="string"?fe.load(pe).then(function(Ae){return Y.image.source=Ae,le.source=Ae,Ae}):pe instanceof Image||pe instanceof HTMLCanvasElement?pe:null}},{key:"_drawImage",value:function(le,Y){var pe=this._getImageConfig();return pe?pe.source instanceof Promise?pe.source.then(function(Ae){le.drawImage(Ae,pe.x*Y,pe.y*Y,pe.width*Y,pe.height*Y)}):(le.drawImage(pe.source,pe.x*Y,pe.y*Y,pe.width*Y,pe.height*Y),!0):null}},{key:"getCanvas",value:function(){return this.draw()}},{key:"toDataUrl",value:function(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.92,pe=this.draw();return pe?pe instanceof Promise?pe.then(function(Ae){return Ae.toDataURL(le,Y)}):pe.toDataURL(le,Y):null}}])&&z(q.prototype,xe),Q}();function de(ee){return(de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ee)}function ge(ee,Q){for(var q=0;q<Q.length;q++){var xe=Q[q];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,xe.key,xe)}}function X(ee,Q,q){return(X=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(xe,le,Y){var pe=function(Oe,Ne){for(;!Object.prototype.hasOwnProperty.call(Oe,Ne)&&(Oe=v(Oe))!==null;);return Oe}(xe,le);if(pe){var Ae=Object.getOwnPropertyDescriptor(pe,le);return Ae.get?Ae.get.call(Y):Ae.value}})(ee,Q,q||ee)}function v(ee){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ee)}function U(ee,Q){return(U=Object.setPrototypeOf||function(q,xe){return q.__proto__=xe,q})(ee,Q)}function F(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function G(ee,Q,q){return Q in ee?Object.defineProperty(ee,Q,{value:q,enumerable:!0,configurable:!0,writable:!0}):ee[Q]=q,ee}var V={fgColor:"#000",bgColor:"#FFF"},te=function(ee){function Q(le){var Y,pe,Ae,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(De,ze){if(!(De instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,Q),pe=this,Y=!(Ae=v(Q).call(this,le,Oe))||de(Ae)!=="object"&&typeof Ae!="function"?F(pe):Ae,G(F(F(Y)),"fgColor",void 0),G(F(F(Y)),"bgColor",void 0),G(F(F(Y)),"qrCodeSVG",null),G(F(F(Y)),"qrCodeDataUrl",null);var Ne=function(De){for(var ze=1;ze<arguments.length;ze++){var He=arguments[ze]!=null?arguments[ze]:{},Ye=Object.keys(He);typeof Object.getOwnPropertySymbols=="function"&&(Ye=Ye.concat(Object.getOwnPropertySymbols(He).filter(function(Ve){return Object.getOwnPropertyDescriptor(He,Ve).enumerable}))),Ye.forEach(function(Ve){G(De,Ve,He[Ve])})}return De}({},V,Oe);return Y.fgColor=Ne.fgColor,Y.bgColor=Ne.bgColor,Y.toDataURL=Y.toDataUrl,Y}var q,xe;return function(le,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Y&&Y.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Y&&U(le,Y)}(Q,ae),q=Q,(xe=[{key:"_clearCache",value:function(){X(v(Q.prototype),"_clearCache",this).call(this),this.qrCodeSVG=null,this.qrCodeDataUrl=null}},{key:"_getDataInt",value:function(){var le=this.getData();return le?le.map(function(Y){return Y.map(function(pe){return pe?1:0})}):null}},{key:"_getRects",value:function(){var le=this._getDataInt();if(!le)return null;for(var Y=[],pe=le.length-1,Ae=0;Ae<=pe;Ae+=1)for(var Oe=-1,Ne=0;Ne<=pe;Ne+=1){var De=le[Ae][Ne]===1;if(De&&Oe===-1&&(Oe=Ne),Oe!==-1&&(Ne===pe||!De)){var ze=Ne-(De?0:1),He=this._processRect(le,Oe,ze,Ae);He&&Y.push(He),Oe=-1}}return Y}},{key:"_processRect",value:function(le,Y,pe,Ae){for(var Oe=le.length-1,Ne=!1,De=!1,ze=0,He=Ae;He<=Oe;He+=1){for(var Ye=Y;Ye<=pe;Ye+=1)if(le[He][Ye]===0){De=!0;break}if(De)break;for(var Ve=Y;Ve<=pe;Ve+=1)le[He][Ve]===1&&(Ne=!0,le[He][Ve]=2);ze+=1}return Ne?{x:Y,y:Ae,width:pe-Y+1,height:ze}:null}},{key:"_getRelativeRects",value:function(){var le=this._getRects();if(!le)return null;var Y=[],pe={},Ae=0;return le.forEach(function(Oe){var Ne="".concat(Oe.width,":").concat(Oe.height);pe[Ne]?(pe[Ne].count+=1,pe[Ne].id||(pe[Ne].id="i".concat(Ae.toString(32)),Ae+=1)):pe[Ne]={count:1,rect:Oe,relative:!1,id:null}}),le.forEach(function(Oe){var Ne="".concat(Oe.width,":").concat(Oe.height),De=pe[Ne];De.relative?Y.push({id:De.id,x:Oe.x-De.rect.x,y:Oe.y-De.rect.y}):(De.id&&(Oe.id=De.id,De.relative=!0),Y.push(Oe))}),Y}},{key:"_buildSVG",value:function(le){var Y=this,pe=this.getDataSize(),Ae=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" '+'shape-rendering="crispEdges" viewBox="0 0 '.concat(pe," ").concat(pe,'">')];this.bgColor&&Ae.push('<rect x="0" y="0" height="'.concat(pe,'" width="').concat(pe,'" fill="').concat(this.bgColor,'"/>')),le.forEach(function(Ne){if(Ne.width&&Ne.height){var De=Ne.id?'id="'.concat(Ne.id,'" '):"";Ae.push("<rect ".concat(De,'x="').concat(Ne.x,'" y="').concat(Ne.y,'" height="').concat(Ne.height,'" width="').concat(Ne.width,'" fill="').concat(Y.fgColor,'"/>'))}else Ae.push('<use xlink:href="#'.concat(Ne.id,'" x="').concat(Ne.x,'" y="').concat(Ne.y,'"/>'))});var Oe=this._getImageConfig();return Oe&&Oe.width&&Oe.height&&Ae.push('<image xlink:href="'.concat(Oe.source,'" x="').concat(Oe.x,'" y="').concat(Oe.y,'" width="').concat(Oe.width,'" height="').concat(Oe.height,'"/>')),Ae.push("</svg>"),Ae.join("")}},{key:"toString",value:function(){if(!this.qrCodeSVG){if(!this.getDataSize())return null;var le=this._getRects();if(!le)return null;this.qrCodeSVG=this._buildSVG(le)}return this.qrCodeSVG}},{key:"toDataUrl",value:function(){if(!this.qrCodeDataUrl){if(!this.getDataSize())return null;var le=this._getRelativeRects();if(!le)return null;var Y=this._buildSVG(le);this.qrCodeDataUrl="data:image/svg+xml;base64,".concat(btoa(Y))}return this.qrCodeDataUrl}}])&&ge(q.prototype,xe),Q}();function ve(ee){return(ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(ee)}function W(ee,Q){for(var q=0;q<Q.length;q++){var xe=Q[q];xe.enumerable=xe.enumerable||!1,xe.configurable=!0,"value"in xe&&(xe.writable=!0),Object.defineProperty(ee,xe.key,xe)}}function Z(ee,Q,q){return(Z=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(xe,le,Y){var pe=function(Oe,Ne){for(;!Object.prototype.hasOwnProperty.call(Oe,Ne)&&(Oe=k(Oe))!==null;);return Oe}(xe,le);if(pe){var Ae=Object.getOwnPropertyDescriptor(pe,le);return Ae.get?Ae.get.call(Y):Ae.value}})(ee,Q,q||ee)}function k(ee){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(Q){return Q.__proto__||Object.getPrototypeOf(Q)})(ee)}function oe(ee,Q){return(oe=Object.setPrototypeOf||function(q,xe){return q.__proto__=xe,q})(ee,Q)}function me(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function Fe(ee,Q,q){return Q in ee?Object.defineProperty(ee,Q,{value:q,enumerable:!0,configurable:!0,writable:!0}):ee[Q]=q,ee}var Le={blackSymbol:"▓▓",whiteSymbol:"  "},Ee=function(ee){function Q(le){var Y,pe,Ae,Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(De,ze){if(!(De instanceof ze))throw new TypeError("Cannot call a class as a function")})(this,Q),pe=this,Y=!(Ae=k(Q).call(this,le,Oe))||ve(Ae)!=="object"&&typeof Ae!="function"?me(pe):Ae,Fe(me(me(Y)),"blackSymbol",void 0),Fe(me(me(Y)),"whiteSymbol",void 0),Fe(me(me(Y)),"qrCodeText",null);var Ne=function(De){for(var ze=1;ze<arguments.length;ze++){var He=arguments[ze]!=null?arguments[ze]:{},Ye=Object.keys(He);typeof Object.getOwnPropertySymbols=="function"&&(Ye=Ye.concat(Object.getOwnPropertySymbols(He).filter(function(Ve){return Object.getOwnPropertyDescriptor(He,Ve).enumerable}))),Ye.forEach(function(Ve){Fe(De,Ve,He[Ve])})}return De}({},Le,Oe);return Y.blackSymbol=Ne.blackSymbol,Y.whiteSymbol=Ne.whiteSymbol,Y}var q,xe;return function(le,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");le.prototype=Object.create(Y&&Y.prototype,{constructor:{value:le,writable:!0,configurable:!0}}),Y&&oe(le,Y)}(Q,_),q=Q,(xe=[{key:"_clearCache",value:function(){Z(k(Q.prototype),"_clearCache",this).call(this),this.qrCodeText=null}},{key:"toString",value:function(){if(this.qrCodeText)return this.qrCodeText;var le=this.getDataSize();if(!le)return null;for(var Y=this.getData(),pe=[],Ae=0;Ae<le;Ae+=1){for(var Oe=0;Oe<le;Oe+=1){var Ne=Y[Ae][Oe];pe.push(Ne?this.blackSymbol:this.whiteSymbol)}pe.push(`
`)}return this.qrCodeText=pe.join(""),this.qrCodeText}}])&&W(q.prototype,xe),Q}();a.d(l,"QRCodeCanvas",function(){return Ie}),a.d(l,"QRCodeRaw",function(){return _}),a.d(l,"QRCodeSVG",function(){return te}),a.d(l,"QRCodeText",function(){return Ee}),a.d(l,"AbstractQRCodeWithImage",function(){return ae})}]),l1={exports:{}};(function(o,l){(function(a,u){o.exports=u()})(self,function(){return(()=>{var a={192:(f,p)=>{var C,w,x=function(){var m=function(z,re){var L=z,ue=D[re],K=null,ye=0,Be=null,Ie=[],de={},ge=function(W,Z){K=function(k){for(var oe=new Array(k),me=0;me<k;me+=1){oe[me]=new Array(k);for(var Fe=0;Fe<k;Fe+=1)oe[me][Fe]=null}return oe}(ye=4*L+17),X(0,0),X(ye-7,0),X(0,ye-7),U(),v(),G(W,Z),L>=7&&F(W),Be==null&&(Be=te(L,ue,Ie)),V(Be,Z)},X=function(W,Z){for(var k=-1;k<=7;k+=1)if(!(W+k<=-1||ye<=W+k))for(var oe=-1;oe<=7;oe+=1)Z+oe<=-1||ye<=Z+oe||(K[W+k][Z+oe]=0<=k&&k<=6&&(oe==0||oe==6)||0<=oe&&oe<=6&&(k==0||k==6)||2<=k&&k<=4&&2<=oe&&oe<=4)},v=function(){for(var W=8;W<ye-8;W+=1)K[W][6]==null&&(K[W][6]=W%2==0);for(var Z=8;Z<ye-8;Z+=1)K[6][Z]==null&&(K[6][Z]=Z%2==0)},U=function(){for(var W=R.getPatternPosition(L),Z=0;Z<W.length;Z+=1)for(var k=0;k<W.length;k+=1){var oe=W[Z],me=W[k];if(K[oe][me]==null)for(var Fe=-2;Fe<=2;Fe+=1)for(var Le=-2;Le<=2;Le+=1)K[oe+Fe][me+Le]=Fe==-2||Fe==2||Le==-2||Le==2||Fe==0&&Le==0}},F=function(W){for(var Z=R.getBCHTypeNumber(L),k=0;k<18;k+=1){var oe=!W&&(Z>>k&1)==1;K[Math.floor(k/3)][k%3+ye-8-3]=oe}for(k=0;k<18;k+=1)oe=!W&&(Z>>k&1)==1,K[k%3+ye-8-3][Math.floor(k/3)]=oe},G=function(W,Z){for(var k=ue<<3|Z,oe=R.getBCHTypeInfo(k),me=0;me<15;me+=1){var Fe=!W&&(oe>>me&1)==1;me<6?K[me][8]=Fe:me<8?K[me+1][8]=Fe:K[ye-15+me][8]=Fe}for(me=0;me<15;me+=1)Fe=!W&&(oe>>me&1)==1,me<8?K[8][ye-me-1]=Fe:me<9?K[8][15-me-1+1]=Fe:K[8][15-me-1]=Fe;K[ye-8][8]=!W},V=function(W,Z){for(var k=-1,oe=ye-1,me=7,Fe=0,Le=R.getMaskFunction(Z),Ee=ye-1;Ee>0;Ee-=2)for(Ee==6&&(Ee-=1);;){for(var ee=0;ee<2;ee+=1)if(K[oe][Ee-ee]==null){var Q=!1;Fe<W.length&&(Q=(W[Fe]>>>me&1)==1),Le(oe,Ee-ee)&&(Q=!Q),K[oe][Ee-ee]=Q,(me-=1)==-1&&(Fe+=1,me=7)}if((oe+=k)<0||ye<=oe){oe-=k,k=-k;break}}},te=function(W,Z,k){for(var oe=M.getRSBlocks(W,Z),me=J(),Fe=0;Fe<k.length;Fe+=1){var Le=k[Fe];me.put(Le.getMode(),4),me.put(Le.getLength(),R.getLengthInBits(Le.getMode(),W)),Le.write(me)}var Ee=0;for(Fe=0;Fe<oe.length;Fe+=1)Ee+=oe[Fe].dataCount;if(me.getLengthInBits()>8*Ee)throw"code length overflow. ("+me.getLengthInBits()+">"+8*Ee+")";for(me.getLengthInBits()+4<=8*Ee&&me.put(0,4);me.getLengthInBits()%8!=0;)me.putBit(!1);for(;!(me.getLengthInBits()>=8*Ee||(me.put(236,8),me.getLengthInBits()>=8*Ee));)me.put(17,8);return function(ee,Q){for(var q=0,xe=0,le=0,Y=new Array(Q.length),pe=new Array(Q.length),Ae=0;Ae<Q.length;Ae+=1){var Oe=Q[Ae].dataCount,Ne=Q[Ae].totalCount-Oe;xe=Math.max(xe,Oe),le=Math.max(le,Ne),Y[Ae]=new Array(Oe);for(var De=0;De<Y[Ae].length;De+=1)Y[Ae][De]=255&ee.getBuffer()[De+q];q+=Oe;var ze=R.getErrorCorrectPolynomial(Ne),He=N(Y[Ae],ze.getLength()-1).mod(ze);for(pe[Ae]=new Array(ze.getLength()-1),De=0;De<pe[Ae].length;De+=1){var Ye=De+He.getLength()-pe[Ae].length;pe[Ae][De]=Ye>=0?He.getAt(Ye):0}}var Ve=0;for(De=0;De<Q.length;De+=1)Ve+=Q[De].totalCount;var Re=new Array(Ve),ot=0;for(De=0;De<xe;De+=1)for(Ae=0;Ae<Q.length;Ae+=1)De<Y[Ae].length&&(Re[ot]=Y[Ae][De],ot+=1);for(De=0;De<le;De+=1)for(Ae=0;Ae<Q.length;Ae+=1)De<pe[Ae].length&&(Re[ot]=pe[Ae][De],ot+=1);return Re}(me,oe)};de.addData=function(W,Z){var k=null;switch(Z=Z||"Byte"){case"Numeric":k=$(W);break;case"Alphanumeric":k=j(W);break;case"Byte":k=ce(W);break;case"Kanji":k=ae(W);break;default:throw"mode:"+Z}Ie.push(k),Be=null},de.isDark=function(W,Z){if(W<0||ye<=W||Z<0||ye<=Z)throw W+","+Z;return K[W][Z]},de.getModuleCount=function(){return ye},de.make=function(){if(L<1){for(var W=1;W<40;W++){for(var Z=M.getRSBlocks(W,ue),k=J(),oe=0;oe<Ie.length;oe++){var me=Ie[oe];k.put(me.getMode(),4),k.put(me.getLength(),R.getLengthInBits(me.getMode(),W)),me.write(k)}var Fe=0;for(oe=0;oe<Z.length;oe++)Fe+=Z[oe].dataCount;if(k.getLengthInBits()<=8*Fe)break}L=W}ge(!1,function(){for(var Le=0,Ee=0,ee=0;ee<8;ee+=1){ge(!0,ee);var Q=R.getLostPoint(de);(ee==0||Le>Q)&&(Le=Q,Ee=ee)}return Ee}())},de.createTableTag=function(W,Z){W=W||2;var k="";k+='<table style="',k+=" border-width: 0px; border-style: none;",k+=" border-collapse: collapse;",k+=" padding: 0px; margin: "+(Z=Z===void 0?4*W:Z)+"px;",k+='">',k+="<tbody>";for(var oe=0;oe<de.getModuleCount();oe+=1){k+="<tr>";for(var me=0;me<de.getModuleCount();me+=1)k+='<td style="',k+=" border-width: 0px; border-style: none;",k+=" border-collapse: collapse;",k+=" padding: 0px; margin: 0px;",k+=" width: "+W+"px;",k+=" height: "+W+"px;",k+=" background-color: ",k+=de.isDark(oe,me)?"#000000":"#ffffff",k+=";",k+='"/>';k+="</tr>"}return(k+="</tbody>")+"</table>"},de.createSvgTag=function(W,Z,k,oe){var me={};typeof arguments[0]=="object"&&(W=(me=arguments[0]).cellSize,Z=me.margin,k=me.alt,oe=me.title),W=W||2,Z=Z===void 0?4*W:Z,(k=typeof k=="string"?{text:k}:k||{}).text=k.text||null,k.id=k.text?k.id||"qrcode-description":null,(oe=typeof oe=="string"?{text:oe}:oe||{}).text=oe.text||null,oe.id=oe.text?oe.id||"qrcode-title":null;var Fe,Le,Ee,ee,Q=de.getModuleCount()*W+2*Z,q="";for(ee="l"+W+",0 0,"+W+" -"+W+",0 0,-"+W+"z ",q+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',q+=me.scalable?"":' width="'+Q+'px" height="'+Q+'px"',q+=' viewBox="0 0 '+Q+" "+Q+'" ',q+=' preserveAspectRatio="xMinYMin meet"',q+=oe.text||k.text?' role="img" aria-labelledby="'+ve([oe.id,k.id].join(" ").trim())+'"':"",q+=">",q+=oe.text?'<title id="'+ve(oe.id)+'">'+ve(oe.text)+"</title>":"",q+=k.text?'<description id="'+ve(k.id)+'">'+ve(k.text)+"</description>":"",q+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',q+='<path d="',Le=0;Le<de.getModuleCount();Le+=1)for(Ee=Le*W+Z,Fe=0;Fe<de.getModuleCount();Fe+=1)de.isDark(Le,Fe)&&(q+="M"+(Fe*W+Z)+","+Ee+ee);return(q+='" stroke="transparent" fill="black"/>')+"</svg>"},de.createDataURL=function(W,Z){W=W||2,Z=Z===void 0?4*W:Z;var k=de.getModuleCount()*W+2*Z,oe=Z,me=k-Z;return he(k,k,function(Fe,Le){if(oe<=Fe&&Fe<me&&oe<=Le&&Le<me){var Ee=Math.floor((Fe-oe)/W),ee=Math.floor((Le-oe)/W);return de.isDark(ee,Ee)?0:1}return 1})},de.createImgTag=function(W,Z,k){W=W||2,Z=Z===void 0?4*W:Z;var oe=de.getModuleCount()*W+2*Z,me="";return me+="<img",me+=' src="',me+=de.createDataURL(W,Z),me+='"',me+=' width="',me+=oe,me+='"',me+=' height="',me+=oe,me+='"',k&&(me+=' alt="',me+=ve(k),me+='"'),me+"/>"};var ve=function(W){for(var Z="",k=0;k<W.length;k+=1){var oe=W.charAt(k);switch(oe){case"<":Z+="&lt;";break;case">":Z+="&gt;";break;case"&":Z+="&amp;";break;case'"':Z+="&quot;";break;default:Z+=oe}}return Z};return de.createASCII=function(W,Z){if((W=W||1)<2)return function(Y){Y=Y===void 0?2:Y;var pe,Ae,Oe,Ne,De,ze=1*de.getModuleCount()+2*Y,He=Y,Ye=ze-Y,Ve={"██":"█","█ ":"▀"," █":"▄","  ":" "},Re={"██":"▀","█ ":"▀"," █":" ","  ":" "},ot="";for(pe=0;pe<ze;pe+=2){for(Oe=Math.floor((pe-He)/1),Ne=Math.floor((pe+1-He)/1),Ae=0;Ae<ze;Ae+=1)De="█",He<=Ae&&Ae<Ye&&He<=pe&&pe<Ye&&de.isDark(Oe,Math.floor((Ae-He)/1))&&(De=" "),He<=Ae&&Ae<Ye&&He<=pe+1&&pe+1<Ye&&de.isDark(Ne,Math.floor((Ae-He)/1))?De+=" ":De+="█",ot+=Y<1&&pe+1>=Ye?Re[De]:Ve[De];ot+=`
`}return ze%2&&Y>0?ot.substring(0,ot.length-ze-1)+Array(ze+1).join("▀"):ot.substring(0,ot.length-1)}(Z);W-=1,Z=Z===void 0?2*W:Z;var k,oe,me,Fe,Le=de.getModuleCount()*W+2*Z,Ee=Z,ee=Le-Z,Q=Array(W+1).join("██"),q=Array(W+1).join("  "),xe="",le="";for(k=0;k<Le;k+=1){for(me=Math.floor((k-Ee)/W),le="",oe=0;oe<Le;oe+=1)Fe=1,Ee<=oe&&oe<ee&&Ee<=k&&k<ee&&de.isDark(me,Math.floor((oe-Ee)/W))&&(Fe=0),le+=Fe?Q:q;for(me=0;me<W;me+=1)xe+=le+`
`}return xe.substring(0,xe.length-1)},de.renderTo2dContext=function(W,Z){Z=Z||2;for(var k=de.getModuleCount(),oe=0;oe<k;oe++)for(var me=0;me<k;me++)W.fillStyle=de.isDark(oe,me)?"black":"white",W.fillRect(oe*Z,me*Z,Z,Z)},de};m.stringToBytes=(m.stringToBytesFuncs={default:function(z){for(var re=[],L=0;L<z.length;L+=1){var ue=z.charCodeAt(L);re.push(255&ue)}return re}}).default,m.createStringToBytes=function(z,re){var L=function(){for(var K=fe(z),ye=function(){var v=K.read();if(v==-1)throw"eof";return v},Be=0,Ie={};;){var de=K.read();if(de==-1)break;var ge=ye(),X=ye()<<8|ye();Ie[String.fromCharCode(de<<8|ge)]=X,Be+=1}if(Be!=re)throw Be+" != "+re;return Ie}(),ue=63;return function(K){for(var ye=[],Be=0;Be<K.length;Be+=1){var Ie=K.charCodeAt(Be);if(Ie<128)ye.push(Ie);else{var de=L[K.charAt(Be)];typeof de=="number"?(255&de)==de?ye.push(de):(ye.push(de>>>8),ye.push(255&de)):ye.push(ue)}}return ye}};var A,b,S,_,E,D={L:1,M:0,Q:3,H:2},R=(A=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],b=1335,S=7973,E=function(z){for(var re=0;z!=0;)re+=1,z>>>=1;return re},(_={}).getBCHTypeInfo=function(z){for(var re=z<<10;E(re)-E(b)>=0;)re^=b<<E(re)-E(b);return 21522^(z<<10|re)},_.getBCHTypeNumber=function(z){for(var re=z<<12;E(re)-E(S)>=0;)re^=S<<E(re)-E(S);return z<<12|re},_.getPatternPosition=function(z){return A[z-1]},_.getMaskFunction=function(z){switch(z){case 0:return function(re,L){return(re+L)%2==0};case 1:return function(re,L){return re%2==0};case 2:return function(re,L){return L%3==0};case 3:return function(re,L){return(re+L)%3==0};case 4:return function(re,L){return(Math.floor(re/2)+Math.floor(L/3))%2==0};case 5:return function(re,L){return re*L%2+re*L%3==0};case 6:return function(re,L){return(re*L%2+re*L%3)%2==0};case 7:return function(re,L){return(re*L%3+(re+L)%2)%2==0};default:throw"bad maskPattern:"+z}},_.getErrorCorrectPolynomial=function(z){for(var re=N([1],0),L=0;L<z;L+=1)re=re.multiply(N([1,B.gexp(L)],0));return re},_.getLengthInBits=function(z,re){if(1<=re&&re<10)switch(z){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+z}else if(re<27)switch(z){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+z}else{if(!(re<41))throw"type:"+re;switch(z){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+z}}},_.getLostPoint=function(z){for(var re=z.getModuleCount(),L=0,ue=0;ue<re;ue+=1)for(var K=0;K<re;K+=1){for(var ye=0,Be=z.isDark(ue,K),Ie=-1;Ie<=1;Ie+=1)if(!(ue+Ie<0||re<=ue+Ie))for(var de=-1;de<=1;de+=1)K+de<0||re<=K+de||Ie==0&&de==0||Be==z.isDark(ue+Ie,K+de)&&(ye+=1);ye>5&&(L+=3+ye-5)}for(ue=0;ue<re-1;ue+=1)for(K=0;K<re-1;K+=1){var ge=0;z.isDark(ue,K)&&(ge+=1),z.isDark(ue+1,K)&&(ge+=1),z.isDark(ue,K+1)&&(ge+=1),z.isDark(ue+1,K+1)&&(ge+=1),ge!=0&&ge!=4||(L+=3)}for(ue=0;ue<re;ue+=1)for(K=0;K<re-6;K+=1)z.isDark(ue,K)&&!z.isDark(ue,K+1)&&z.isDark(ue,K+2)&&z.isDark(ue,K+3)&&z.isDark(ue,K+4)&&!z.isDark(ue,K+5)&&z.isDark(ue,K+6)&&(L+=40);for(K=0;K<re;K+=1)for(ue=0;ue<re-6;ue+=1)z.isDark(ue,K)&&!z.isDark(ue+1,K)&&z.isDark(ue+2,K)&&z.isDark(ue+3,K)&&z.isDark(ue+4,K)&&!z.isDark(ue+5,K)&&z.isDark(ue+6,K)&&(L+=40);var X=0;for(K=0;K<re;K+=1)for(ue=0;ue<re;ue+=1)z.isDark(ue,K)&&(X+=1);return L+Math.abs(100*X/re/re-50)/5*10},_),B=function(){for(var z=new Array(256),re=new Array(256),L=0;L<8;L+=1)z[L]=1<<L;for(L=8;L<256;L+=1)z[L]=z[L-4]^z[L-5]^z[L-6]^z[L-8];for(L=0;L<255;L+=1)re[z[L]]=L;return{glog:function(ue){if(ue<1)throw"glog("+ue+")";return re[ue]},gexp:function(ue){for(;ue<0;)ue+=255;for(;ue>=256;)ue-=255;return z[ue]}}}();function N(z,re){if(z.length===void 0)throw z.length+"/"+re;var L=function(){for(var K=0;K<z.length&&z[K]==0;)K+=1;for(var ye=new Array(z.length-K+re),Be=0;Be<z.length-K;Be+=1)ye[Be]=z[Be+K];return ye}(),ue={getAt:function(K){return L[K]},getLength:function(){return L.length},multiply:function(K){for(var ye=new Array(ue.getLength()+K.getLength()-1),Be=0;Be<ue.getLength();Be+=1)for(var Ie=0;Ie<K.getLength();Ie+=1)ye[Be+Ie]^=B.gexp(B.glog(ue.getAt(Be))+B.glog(K.getAt(Ie)));return N(ye,0)},mod:function(K){if(ue.getLength()-K.getLength()<0)return ue;for(var ye=B.glog(ue.getAt(0))-B.glog(K.getAt(0)),Be=new Array(ue.getLength()),Ie=0;Ie<ue.getLength();Ie+=1)Be[Ie]=ue.getAt(Ie);for(Ie=0;Ie<K.getLength();Ie+=1)Be[Ie]^=B.gexp(B.glog(K.getAt(Ie))+ye);return N(Be,0).mod(K)}};return ue}var M=function(){var z=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],re=function(ue,K){var ye={};return ye.totalCount=ue,ye.dataCount=K,ye},L={getRSBlocks:function(ue,K){var ye=function(F,G){switch(G){case D.L:return z[4*(F-1)+0];case D.M:return z[4*(F-1)+1];case D.Q:return z[4*(F-1)+2];case D.H:return z[4*(F-1)+3];default:return}}(ue,K);if(ye===void 0)throw"bad rs block @ typeNumber:"+ue+"/errorCorrectionLevel:"+K;for(var Be=ye.length/3,Ie=[],de=0;de<Be;de+=1)for(var ge=ye[3*de+0],X=ye[3*de+1],v=ye[3*de+2],U=0;U<ge;U+=1)Ie.push(re(X,v));return Ie}};return L}(),J=function(){var z=[],re=0,L={getBuffer:function(){return z},getAt:function(ue){var K=Math.floor(ue/8);return(z[K]>>>7-ue%8&1)==1},put:function(ue,K){for(var ye=0;ye<K;ye+=1)L.putBit((ue>>>K-ye-1&1)==1)},getLengthInBits:function(){return re},putBit:function(ue){var K=Math.floor(re/8);z.length<=K&&z.push(0),ue&&(z[K]|=128>>>re%8),re+=1}};return L},$=function(z){var re=z,L={getMode:function(){return 1},getLength:function(ye){return re.length},write:function(ye){for(var Be=re,Ie=0;Ie+2<Be.length;)ye.put(ue(Be.substring(Ie,Ie+3)),10),Ie+=3;Ie<Be.length&&(Be.length-Ie==1?ye.put(ue(Be.substring(Ie,Ie+1)),4):Be.length-Ie==2&&ye.put(ue(Be.substring(Ie,Ie+2)),7))}},ue=function(ye){for(var Be=0,Ie=0;Ie<ye.length;Ie+=1)Be=10*Be+K(ye.charAt(Ie));return Be},K=function(ye){if("0"<=ye&&ye<="9")return ye.charCodeAt(0)-48;throw"illegal char :"+ye};return L},j=function(z){var re=z,L={getMode:function(){return 2},getLength:function(K){return re.length},write:function(K){for(var ye=re,Be=0;Be+1<ye.length;)K.put(45*ue(ye.charAt(Be))+ue(ye.charAt(Be+1)),11),Be+=2;Be<ye.length&&K.put(ue(ye.charAt(Be)),6)}},ue=function(K){if("0"<=K&&K<="9")return K.charCodeAt(0)-48;if("A"<=K&&K<="Z")return K.charCodeAt(0)-65+10;switch(K){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+K}};return L},ce=function(z){var re=m.stringToBytes(z);return{getMode:function(){return 4},getLength:function(L){return re.length},write:function(L){for(var ue=0;ue<re.length;ue+=1)L.put(re[ue],8)}}},ae=function(z){var re=m.stringToBytesFuncs.SJIS;if(!re)throw"sjis not supported.";(function(ue,K){var ye=re("友");if(ye.length!=2||(ye[0]<<8|ye[1])!=38726)throw"sjis not supported."})();var L=re(z);return{getMode:function(){return 8},getLength:function(ue){return~~(L.length/2)},write:function(ue){for(var K=L,ye=0;ye+1<K.length;){var Be=(255&K[ye])<<8|255&K[ye+1];if(33088<=Be&&Be<=40956)Be-=33088;else{if(!(57408<=Be&&Be<=60351))throw"illegal char at "+(ye+1)+"/"+Be;Be-=49472}Be=192*(Be>>>8&255)+(255&Be),ue.put(Be,13),ye+=2}if(ye<K.length)throw"illegal char at "+(ye+1)}}},ie=function(){var z=[],re={writeByte:function(L){z.push(255&L)},writeShort:function(L){re.writeByte(L),re.writeByte(L>>>8)},writeBytes:function(L,ue,K){ue=ue||0,K=K||L.length;for(var ye=0;ye<K;ye+=1)re.writeByte(L[ye+ue])},writeString:function(L){for(var ue=0;ue<L.length;ue+=1)re.writeByte(L.charCodeAt(ue))},toByteArray:function(){return z},toString:function(){var L="";L+="[";for(var ue=0;ue<z.length;ue+=1)ue>0&&(L+=","),L+=z[ue];return L+"]"}};return re},fe=function(z){var re=z,L=0,ue=0,K=0,ye={read:function(){for(;K<8;){if(L>=re.length){if(K==0)return-1;throw"unexpected end of file./"+K}var Ie=re.charAt(L);if(L+=1,Ie=="=")return K=0,-1;Ie.match(/^\s$/)||(ue=ue<<6|Be(Ie.charCodeAt(0)),K+=6)}var de=ue>>>K-8&255;return K-=8,de}},Be=function(Ie){if(65<=Ie&&Ie<=90)return Ie-65;if(97<=Ie&&Ie<=122)return Ie-97+26;if(48<=Ie&&Ie<=57)return Ie-48+52;if(Ie==43)return 62;if(Ie==47)return 63;throw"c:"+Ie};return ye},he=function(z,re,L){for(var ue=function(X,v){var U=X,F=v,G=new Array(X*v),V={setPixel:function(W,Z,k){G[Z*U+W]=k},write:function(W){W.writeString("GIF87a"),W.writeShort(U),W.writeShort(F),W.writeByte(128),W.writeByte(0),W.writeByte(0),W.writeByte(0),W.writeByte(0),W.writeByte(0),W.writeByte(255),W.writeByte(255),W.writeByte(255),W.writeString(","),W.writeShort(0),W.writeShort(0),W.writeShort(U),W.writeShort(F),W.writeByte(0);var Z=te(2);W.writeByte(2);for(var k=0;Z.length-k>255;)W.writeByte(255),W.writeBytes(Z,k,255),k+=255;W.writeByte(Z.length-k),W.writeBytes(Z,k,Z.length-k),W.writeByte(0),W.writeString(";")}},te=function(W){for(var Z=1<<W,k=1+(1<<W),oe=W+1,me=ve(),Fe=0;Fe<Z;Fe+=1)me.add(String.fromCharCode(Fe));me.add(String.fromCharCode(Z)),me.add(String.fromCharCode(k));var Le,Ee,ee,Q=ie(),q=(Le=Q,Ee=0,ee=0,{write:function(pe,Ae){if(pe>>>Ae)throw"length over";for(;Ee+Ae>=8;)Le.writeByte(255&(pe<<Ee|ee)),Ae-=8-Ee,pe>>>=8-Ee,ee=0,Ee=0;ee|=pe<<Ee,Ee+=Ae},flush:function(){Ee>0&&Le.writeByte(ee)}});q.write(Z,oe);var xe=0,le=String.fromCharCode(G[xe]);for(xe+=1;xe<G.length;){var Y=String.fromCharCode(G[xe]);xe+=1,me.contains(le+Y)?le+=Y:(q.write(me.indexOf(le),oe),me.size()<4095&&(me.size()==1<<oe&&(oe+=1),me.add(le+Y)),le=Y)}return q.write(me.indexOf(le),oe),q.write(k,oe),q.flush(),Q.toByteArray()},ve=function(){var W={},Z=0,k={add:function(oe){if(k.contains(oe))throw"dup key:"+oe;W[oe]=Z,Z+=1},size:function(){return Z},indexOf:function(oe){return W[oe]},contains:function(oe){return W[oe]!==void 0}};return k};return V}(z,re),K=0;K<re;K+=1)for(var ye=0;ye<z;ye+=1)ue.setPixel(ye,K,L(ye,K));var Be=ie();ue.write(Be);for(var Ie=function(){var X=0,v=0,U=0,F="",G={},V=function(ve){F+=String.fromCharCode(te(63&ve))},te=function(ve){if(!(ve<0)){if(ve<26)return 65+ve;if(ve<52)return ve-26+97;if(ve<62)return ve-52+48;if(ve==62)return 43;if(ve==63)return 47}throw"n:"+ve};return G.writeByte=function(ve){for(X=X<<8|255&ve,v+=8,U+=1;v>=6;)V(X>>>v-6),v-=6},G.flush=function(){if(v>0&&(V(X<<6-v),X=0,v=0),U%3!=0)for(var ve=3-U%3,W=0;W<ve;W+=1)F+="="},G.toString=function(){return F},G}(),de=Be.toByteArray(),ge=0;ge<de.length;ge+=1)Ie.writeByte(de[ge]);return Ie.flush(),"data:image/gif;base64,"+Ie};return m}();x.stringToBytesFuncs["UTF-8"]=function(m){return function(A){for(var b=[],S=0;S<A.length;S++){var _=A.charCodeAt(S);_<128?b.push(_):_<2048?b.push(192|_>>6,128|63&_):_<55296||_>=57344?b.push(224|_>>12,128|_>>6&63,128|63&_):(S++,_=65536+((1023&_)<<10|1023&A.charCodeAt(S)),b.push(240|_>>18,128|_>>12&63,128|_>>6&63,128|63&_))}return b}(m)},(w=typeof(C=function(){return x})=="function"?C.apply(p,[]):C)===void 0||(f.exports=w)},676:(f,p,C)=>{C.d(p,{default:()=>ge});var w=function(){return(w=Object.assign||function(X){for(var v,U=1,F=arguments.length;U<F;U++)for(var G in v=arguments[U])Object.prototype.hasOwnProperty.call(v,G)&&(X[G]=v[G]);return X}).apply(this,arguments)},x=function(){for(var X=0,v=0,U=arguments.length;v<U;v++)X+=arguments[v].length;var F=Array(X),G=0;for(v=0;v<U;v++)for(var V=arguments[v],te=0,ve=V.length;te<ve;te++,G++)F[G]=V[te];return F},m=function(X){return!!X&&typeof X=="object"&&!Array.isArray(X)};function A(X){for(var v=[],U=1;U<arguments.length;U++)v[U-1]=arguments[U];if(!v.length)return X;var F=v.shift();return F!==void 0&&m(X)&&m(F)?(X=w({},X),Object.keys(F).forEach(function(G){var V=X[G],te=F[G];Array.isArray(V)&&Array.isArray(te)?X[G]=te:m(V)&&m(te)?X[G]=A(Object.assign({},V),te):X[G]=te}),A.apply(void 0,x([X],v))):X}function b(X,v){var U=document.createElement("a");U.download=v,U.href=X,document.body.appendChild(U),U.click(),document.body.removeChild(U)}function S(X){return v=this,U=void 0,G=function(){return function(V,te){var ve,W,Z,k,oe={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return k={next:me(0),throw:me(1),return:me(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function me(Fe){return function(Le){return function(Ee){if(ve)throw new TypeError("Generator is already executing.");for(;oe;)try{if(ve=1,W&&(Z=2&Ee[0]?W.return:Ee[0]?W.throw||((Z=W.return)&&Z.call(W),0):W.next)&&!(Z=Z.call(W,Ee[1])).done)return Z;switch(W=0,Z&&(Ee=[2&Ee[0],Z.value]),Ee[0]){case 0:case 1:Z=Ee;break;case 4:return oe.label++,{value:Ee[1],done:!1};case 5:oe.label++,W=Ee[1],Ee=[0];continue;case 7:Ee=oe.ops.pop(),oe.trys.pop();continue;default:if(!((Z=(Z=oe.trys).length>0&&Z[Z.length-1])||Ee[0]!==6&&Ee[0]!==2)){oe=0;continue}if(Ee[0]===3&&(!Z||Ee[1]>Z[0]&&Ee[1]<Z[3])){oe.label=Ee[1];break}if(Ee[0]===6&&oe.label<Z[1]){oe.label=Z[1],Z=Ee;break}if(Z&&oe.label<Z[2]){oe.label=Z[2],oe.ops.push(Ee);break}Z[2]&&oe.ops.pop(),oe.trys.pop();continue}Ee=te.call(V,oe)}catch(ee){Ee=[6,ee],W=0}finally{ve=Z=0}if(5&Ee[0])throw Ee[1];return{value:Ee[0]?Ee[1]:void 0,done:!0}}([Fe,Le])}}}(this,function(V){return[2,new Promise(function(te){var ve=new XMLHttpRequest;ve.onload=function(){var W=new FileReader;W.onloadend=function(){te(W.result)},W.readAsDataURL(ve.response)},ve.open("GET",X),ve.responseType="blob",ve.send()})]})},new((F=void 0)||(F=Promise))(function(V,te){function ve(k){try{Z(G.next(k))}catch(oe){te(oe)}}function W(k){try{Z(G.throw(k))}catch(oe){te(oe)}}function Z(k){var oe;k.done?V(k.value):(oe=k.value,oe instanceof F?oe:new F(function(me){me(oe)})).then(ve,W)}Z((G=G.apply(v,U||[])).next())});var v,U,F,G}const _={L:.07,M:.15,Q:.25,H:.3};var E=function(){return(E=Object.assign||function(X){for(var v,U=1,F=arguments.length;U<F;U++)for(var G in v=arguments[U])Object.prototype.hasOwnProperty.call(v,G)&&(X[G]=v[G]);return X}).apply(this,arguments)};const D=function(){function X(v){var U=v.svg,F=v.type;this._svg=U,this._type=F}return X.prototype.draw=function(v,U,F,G){var V;switch(this._type){case"dots":V=this._drawDot;break;case"classy":V=this._drawClassy;break;case"classy-rounded":V=this._drawClassyRounded;break;case"rounded":V=this._drawRounded;break;case"extra-rounded":V=this._drawExtraRounded;break;case"square":default:V=this._drawSquare}V.call(this,{x:v,y:U,size:F,getNeighbor:G})},X.prototype._rotateFigure=function(v){var U,F=v.x,G=v.y,V=v.size,te=v.rotation,ve=te===void 0?0:te,W=F+V/2,Z=G+V/2;(0,v.draw)(),(U=this._element)===null||U===void 0||U.setAttribute("transform","rotate("+180*ve/Math.PI+","+W+","+Z+")")},X.prototype._basicDot=function(v){var U=this,F=v.size,G=v.x,V=v.y;this._rotateFigure(E(E({},v),{draw:function(){U._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),U._element.setAttribute("cx",String(G+F/2)),U._element.setAttribute("cy",String(V+F/2)),U._element.setAttribute("r",String(F/2))}}))},X.prototype._basicSquare=function(v){var U=this,F=v.size,G=v.x,V=v.y;this._rotateFigure(E(E({},v),{draw:function(){U._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),U._element.setAttribute("x",String(G)),U._element.setAttribute("y",String(V)),U._element.setAttribute("width",String(F)),U._element.setAttribute("height",String(F))}}))},X.prototype._basicSideRounded=function(v){var U=this,F=v.size,G=v.x,V=v.y;this._rotateFigure(E(E({},v),{draw:function(){U._element=document.createElementNS("http://www.w3.org/2000/svg","path"),U._element.setAttribute("d","M "+G+" "+V+"v "+F+"h "+F/2+"a "+F/2+" "+F/2+", 0, 0, 0, 0 "+-F)}}))},X.prototype._basicCornerRounded=function(v){var U=this,F=v.size,G=v.x,V=v.y;this._rotateFigure(E(E({},v),{draw:function(){U._element=document.createElementNS("http://www.w3.org/2000/svg","path"),U._element.setAttribute("d","M "+G+" "+V+"v "+F+"h "+F+"v "+-F/2+"a "+F/2+" "+F/2+", 0, 0, 0, "+-F/2+" "+-F/2)}}))},X.prototype._basicCornerExtraRounded=function(v){var U=this,F=v.size,G=v.x,V=v.y;this._rotateFigure(E(E({},v),{draw:function(){U._element=document.createElementNS("http://www.w3.org/2000/svg","path"),U._element.setAttribute("d","M "+G+" "+V+"v "+F+"h "+F+"a "+F+" "+F+", 0, 0, 0, "+-F+" "+-F)}}))},X.prototype._basicCornersRounded=function(v){var U=this,F=v.size,G=v.x,V=v.y;this._rotateFigure(E(E({},v),{draw:function(){U._element=document.createElementNS("http://www.w3.org/2000/svg","path"),U._element.setAttribute("d","M "+G+" "+V+"v "+F/2+"a "+F/2+" "+F/2+", 0, 0, 0, "+F/2+" "+F/2+"h "+F/2+"v "+-F/2+"a "+F/2+" "+F/2+", 0, 0, 0, "+-F/2+" "+-F/2)}}))},X.prototype._drawDot=function(v){var U=v.x,F=v.y,G=v.size;this._basicDot({x:U,y:F,size:G,rotation:0})},X.prototype._drawSquare=function(v){var U=v.x,F=v.y,G=v.size;this._basicSquare({x:U,y:F,size:G,rotation:0})},X.prototype._drawRounded=function(v){var U=v.x,F=v.y,G=v.size,V=v.getNeighbor,te=V?+V(-1,0):0,ve=V?+V(1,0):0,W=V?+V(0,-1):0,Z=V?+V(0,1):0,k=te+ve+W+Z;if(k!==0)if(k>2||te&&ve||W&&Z)this._basicSquare({x:U,y:F,size:G,rotation:0});else{if(k===2){var oe=0;return te&&W?oe=Math.PI/2:W&&ve?oe=Math.PI:ve&&Z&&(oe=-Math.PI/2),void this._basicCornerRounded({x:U,y:F,size:G,rotation:oe})}if(k===1)return oe=0,W?oe=Math.PI/2:ve?oe=Math.PI:Z&&(oe=-Math.PI/2),void this._basicSideRounded({x:U,y:F,size:G,rotation:oe})}else this._basicDot({x:U,y:F,size:G,rotation:0})},X.prototype._drawExtraRounded=function(v){var U=v.x,F=v.y,G=v.size,V=v.getNeighbor,te=V?+V(-1,0):0,ve=V?+V(1,0):0,W=V?+V(0,-1):0,Z=V?+V(0,1):0,k=te+ve+W+Z;if(k!==0)if(k>2||te&&ve||W&&Z)this._basicSquare({x:U,y:F,size:G,rotation:0});else{if(k===2){var oe=0;return te&&W?oe=Math.PI/2:W&&ve?oe=Math.PI:ve&&Z&&(oe=-Math.PI/2),void this._basicCornerExtraRounded({x:U,y:F,size:G,rotation:oe})}if(k===1)return oe=0,W?oe=Math.PI/2:ve?oe=Math.PI:Z&&(oe=-Math.PI/2),void this._basicSideRounded({x:U,y:F,size:G,rotation:oe})}else this._basicDot({x:U,y:F,size:G,rotation:0})},X.prototype._drawClassy=function(v){var U=v.x,F=v.y,G=v.size,V=v.getNeighbor,te=V?+V(-1,0):0,ve=V?+V(1,0):0,W=V?+V(0,-1):0,Z=V?+V(0,1):0;te+ve+W+Z!==0?te||W?ve||Z?this._basicSquare({x:U,y:F,size:G,rotation:0}):this._basicCornerRounded({x:U,y:F,size:G,rotation:Math.PI/2}):this._basicCornerRounded({x:U,y:F,size:G,rotation:-Math.PI/2}):this._basicCornersRounded({x:U,y:F,size:G,rotation:Math.PI/2})},X.prototype._drawClassyRounded=function(v){var U=v.x,F=v.y,G=v.size,V=v.getNeighbor,te=V?+V(-1,0):0,ve=V?+V(1,0):0,W=V?+V(0,-1):0,Z=V?+V(0,1):0;te+ve+W+Z!==0?te||W?ve||Z?this._basicSquare({x:U,y:F,size:G,rotation:0}):this._basicCornerExtraRounded({x:U,y:F,size:G,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:U,y:F,size:G,rotation:-Math.PI/2}):this._basicCornersRounded({x:U,y:F,size:G,rotation:Math.PI/2})},X}();var R=function(){return(R=Object.assign||function(X){for(var v,U=1,F=arguments.length;U<F;U++)for(var G in v=arguments[U])Object.prototype.hasOwnProperty.call(v,G)&&(X[G]=v[G]);return X}).apply(this,arguments)};const B=function(){function X(v){var U=v.svg,F=v.type;this._svg=U,this._type=F}return X.prototype.draw=function(v,U,F,G){var V;switch(this._type){case"square":V=this._drawSquare;break;case"extra-rounded":V=this._drawExtraRounded;break;case"dot":default:V=this._drawDot}V.call(this,{x:v,y:U,size:F,rotation:G})},X.prototype._rotateFigure=function(v){var U,F=v.x,G=v.y,V=v.size,te=v.rotation,ve=te===void 0?0:te,W=F+V/2,Z=G+V/2;(0,v.draw)(),(U=this._element)===null||U===void 0||U.setAttribute("transform","rotate("+180*ve/Math.PI+","+W+","+Z+")")},X.prototype._basicDot=function(v){var U=this,F=v.size,G=v.x,V=v.y,te=F/7;this._rotateFigure(R(R({},v),{draw:function(){U._element=document.createElementNS("http://www.w3.org/2000/svg","path"),U._element.setAttribute("clip-rule","evenodd"),U._element.setAttribute("d","M "+(G+F/2)+" "+V+"a "+F/2+" "+F/2+" 0 1 0 0.1 0zm 0 "+te+"a "+(F/2-te)+" "+(F/2-te)+" 0 1 1 -0.1 0Z")}}))},X.prototype._basicSquare=function(v){var U=this,F=v.size,G=v.x,V=v.y,te=F/7;this._rotateFigure(R(R({},v),{draw:function(){U._element=document.createElementNS("http://www.w3.org/2000/svg","path"),U._element.setAttribute("clip-rule","evenodd"),U._element.setAttribute("d","M "+G+" "+V+"v "+F+"h "+F+"v "+-F+"zM "+(G+te)+" "+(V+te)+"h "+(F-2*te)+"v "+(F-2*te)+"h "+(2*te-F)+"z")}}))},X.prototype._basicExtraRounded=function(v){var U=this,F=v.size,G=v.x,V=v.y,te=F/7;this._rotateFigure(R(R({},v),{draw:function(){U._element=document.createElementNS("http://www.w3.org/2000/svg","path"),U._element.setAttribute("clip-rule","evenodd"),U._element.setAttribute("d","M "+G+" "+(V+2.5*te)+"v "+2*te+"a "+2.5*te+" "+2.5*te+", 0, 0, 0, "+2.5*te+" "+2.5*te+"h "+2*te+"a "+2.5*te+" "+2.5*te+", 0, 0, 0, "+2.5*te+" "+2.5*-te+"v "+-2*te+"a "+2.5*te+" "+2.5*te+", 0, 0, 0, "+2.5*-te+" "+2.5*-te+"h "+-2*te+"a "+2.5*te+" "+2.5*te+", 0, 0, 0, "+2.5*-te+" "+2.5*te+"M "+(G+2.5*te)+" "+(V+te)+"h "+2*te+"a "+1.5*te+" "+1.5*te+", 0, 0, 1, "+1.5*te+" "+1.5*te+"v "+2*te+"a "+1.5*te+" "+1.5*te+", 0, 0, 1, "+1.5*-te+" "+1.5*te+"h "+-2*te+"a "+1.5*te+" "+1.5*te+", 0, 0, 1, "+1.5*-te+" "+1.5*-te+"v "+-2*te+"a "+1.5*te+" "+1.5*te+", 0, 0, 1, "+1.5*te+" "+1.5*-te)}}))},X.prototype._drawDot=function(v){var U=v.x,F=v.y,G=v.size,V=v.rotation;this._basicDot({x:U,y:F,size:G,rotation:V})},X.prototype._drawSquare=function(v){var U=v.x,F=v.y,G=v.size,V=v.rotation;this._basicSquare({x:U,y:F,size:G,rotation:V})},X.prototype._drawExtraRounded=function(v){var U=v.x,F=v.y,G=v.size,V=v.rotation;this._basicExtraRounded({x:U,y:F,size:G,rotation:V})},X}();var N=function(){return(N=Object.assign||function(X){for(var v,U=1,F=arguments.length;U<F;U++)for(var G in v=arguments[U])Object.prototype.hasOwnProperty.call(v,G)&&(X[G]=v[G]);return X}).apply(this,arguments)};const M=function(){function X(v){var U=v.svg,F=v.type;this._svg=U,this._type=F}return X.prototype.draw=function(v,U,F,G){var V;switch(this._type){case"square":V=this._drawSquare;break;case"dot":default:V=this._drawDot}V.call(this,{x:v,y:U,size:F,rotation:G})},X.prototype._rotateFigure=function(v){var U,F=v.x,G=v.y,V=v.size,te=v.rotation,ve=te===void 0?0:te,W=F+V/2,Z=G+V/2;(0,v.draw)(),(U=this._element)===null||U===void 0||U.setAttribute("transform","rotate("+180*ve/Math.PI+","+W+","+Z+")")},X.prototype._basicDot=function(v){var U=this,F=v.size,G=v.x,V=v.y;this._rotateFigure(N(N({},v),{draw:function(){U._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),U._element.setAttribute("cx",String(G+F/2)),U._element.setAttribute("cy",String(V+F/2)),U._element.setAttribute("r",String(F/2))}}))},X.prototype._basicSquare=function(v){var U=this,F=v.size,G=v.x,V=v.y;this._rotateFigure(N(N({},v),{draw:function(){U._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),U._element.setAttribute("x",String(G)),U._element.setAttribute("y",String(V)),U._element.setAttribute("width",String(F)),U._element.setAttribute("height",String(F))}}))},X.prototype._drawDot=function(v){var U=v.x,F=v.y,G=v.size,V=v.rotation;this._basicDot({x:U,y:F,size:G,rotation:V})},X.prototype._drawSquare=function(v){var U=v.x,F=v.y,G=v.size,V=v.rotation;this._basicSquare({x:U,y:F,size:G,rotation:V})},X}(),J="circle";var $=function(X,v,U,F){return new(U||(U=Promise))(function(G,V){function te(Z){try{W(F.next(Z))}catch(k){V(k)}}function ve(Z){try{W(F.throw(Z))}catch(k){V(k)}}function W(Z){var k;Z.done?G(Z.value):(k=Z.value,k instanceof U?k:new U(function(oe){oe(k)})).then(te,ve)}W((F=F.apply(X,[])).next())})},j=function(X,v){var U,F,G,V,te={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return V={next:ve(0),throw:ve(1),return:ve(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function ve(W){return function(Z){return function(k){if(U)throw new TypeError("Generator is already executing.");for(;te;)try{if(U=1,F&&(G=2&k[0]?F.return:k[0]?F.throw||((G=F.return)&&G.call(F),0):F.next)&&!(G=G.call(F,k[1])).done)return G;switch(F=0,G&&(k=[2&k[0],G.value]),k[0]){case 0:case 1:G=k;break;case 4:return te.label++,{value:k[1],done:!1};case 5:te.label++,F=k[1],k=[0];continue;case 7:k=te.ops.pop(),te.trys.pop();continue;default:if(!((G=(G=te.trys).length>0&&G[G.length-1])||k[0]!==6&&k[0]!==2)){te=0;continue}if(k[0]===3&&(!G||k[1]>G[0]&&k[1]<G[3])){te.label=k[1];break}if(k[0]===6&&te.label<G[1]){te.label=G[1],G=k;break}if(G&&te.label<G[2]){te.label=G[2],te.ops.push(k);break}G[2]&&te.ops.pop(),te.trys.pop();continue}k=v.call(X,te)}catch(oe){k=[6,oe],F=0}finally{U=G=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([W,Z])}}},ce=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],ae=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const ie=function(){function X(v){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(v.width)),this._element.setAttribute("height",String(v.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=v}return Object.defineProperty(X.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(X.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),X.prototype.getElement=function(){return this._element},X.prototype.drawQR=function(v){return $(this,void 0,void 0,function(){var U,F,G,V,te,ve,W,Z,k,oe,me=this;return j(this,function(Fe){switch(Fe.label){case 0:return U=v.getModuleCount(),F=Math.min(this._options.width,this._options.height)-2*this._options.margin,G=this._options.shape===J?F/Math.sqrt(2):F,V=Math.floor(G/U),te={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=v,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(Fe.sent(),!this._image)return[2];ve=this._options,W=ve.imageOptions,Z=ve.qrOptions,k=W.imageSize*_[Z.errorCorrectionLevel],oe=Math.floor(k*U*U),te=function(Le){var Ee=Le.originalHeight,ee=Le.originalWidth,Q=Le.maxHiddenDots,q=Le.maxHiddenAxisDots,xe=Le.dotSize,le={x:0,y:0},Y={x:0,y:0};if(Ee<=0||ee<=0||Q<=0||xe<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var pe=Ee/ee;return le.x=Math.floor(Math.sqrt(Q/pe)),le.x<=0&&(le.x=1),q&&q<le.x&&(le.x=q),le.x%2==0&&le.x--,Y.x=le.x*xe,le.y=1+2*Math.ceil((le.x*pe-1)/2),Y.y=Math.round(Y.x*pe),(le.y*le.x>Q||q&&q<le.y)&&(q&&q<le.y?(le.y=q,le.y%2==0&&le.x--):le.y-=2,Y.y=le.y*xe,le.x=1+2*Math.ceil((le.y/pe-1)/2),Y.x=Math.round(Y.y/pe)),{height:Y.y,width:Y.x,hideYDots:le.y,hideXDots:le.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:oe,maxHiddenAxisDots:U-14,dotSize:V}),Fe.label=2;case 2:return this.drawBackground(),this.drawDots(function(Le,Ee){var ee,Q,q,xe,le,Y;return!(me._options.imageOptions.hideBackgroundDots&&Le>=(U-te.hideXDots)/2&&Le<(U+te.hideXDots)/2&&Ee>=(U-te.hideYDots)/2&&Ee<(U+te.hideYDots)/2||!((ee=ce[Le])===null||ee===void 0)&&ee[Ee]||!((Q=ce[Le-U+7])===null||Q===void 0)&&Q[Ee]||!((q=ce[Le])===null||q===void 0)&&q[Ee-U+7]||!((xe=ae[Le])===null||xe===void 0)&&xe[Ee]||!((le=ae[Le-U+7])===null||le===void 0)&&le[Ee]||!((Y=ae[Le])===null||Y===void 0)&&Y[Ee-U+7])}),this.drawCorners(),this._options.image?[4,this.drawImage({width:te.width,height:te.height,count:U,dotSize:V})]:[3,4];case 3:Fe.sent(),Fe.label=4;case 4:return[2]}})})},X.prototype.drawBackground=function(){var v,U,F,G=this._element,V=this._options;if(G){var te=(v=V.backgroundOptions)===null||v===void 0?void 0:v.gradient,ve=(U=V.backgroundOptions)===null||U===void 0?void 0:U.color;if((te||ve)&&this._createColor({options:te,color:ve,additionalRotation:0,x:0,y:0,height:V.height,width:V.width,name:"background-color"}),(F=V.backgroundOptions)===null||F===void 0?void 0:F.round){var W=Math.min(V.width,V.height),Z=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),Z.setAttribute("x",String((V.width-W)/2)),Z.setAttribute("y",String((V.height-W)/2)),Z.setAttribute("width",String(W)),Z.setAttribute("height",String(W)),Z.setAttribute("rx",String(W/2*V.backgroundOptions.round)),this._backgroundClipPath.appendChild(Z)}}},X.prototype.drawDots=function(v){var U,F,G=this;if(!this._qr)throw"QR code is not defined";var V=this._options,te=this._qr.getModuleCount();if(te>V.width||te>V.height)throw"The canvas is too small.";var ve=Math.min(V.width,V.height)-2*V.margin,W=V.shape===J?ve/Math.sqrt(2):ve,Z=Math.floor(W/te),k=Math.floor((V.width-te*Z)/2),oe=Math.floor((V.height-te*Z)/2),me=new D({svg:this._element,type:V.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(U=V.dotsOptions)===null||U===void 0?void 0:U.gradient,color:V.dotsOptions.color,additionalRotation:0,x:0,y:0,height:V.height,width:V.width,name:"dot-color"});for(var Fe=function(Ne){for(var De=function(He){return v&&!v(Ne,He)?"continue":!((F=Le._qr)===null||F===void 0)&&F.isDark(Ne,He)?(me.draw(k+Ne*Z,oe+He*Z,Z,function(Ye,Ve){return!(Ne+Ye<0||He+Ve<0||Ne+Ye>=te||He+Ve>=te)&&!(v&&!v(Ne+Ye,He+Ve))&&!!G._qr&&G._qr.isDark(Ne+Ye,He+Ve)}),void(me._element&&Le._dotsClipPath&&Le._dotsClipPath.appendChild(me._element))):"continue"},ze=0;ze<te;ze++)De(ze)},Le=this,Ee=0;Ee<te;Ee++)Fe(Ee);if(V.shape===J){var ee=Math.floor((ve/Z-te)/2),Q=te+2*ee,q=k-ee*Z,xe=oe-ee*Z,le=[],Y=Math.floor(Q/2);for(Ee=0;Ee<Q;Ee++){le[Ee]=[];for(var pe=0;pe<Q;pe++)Ee>=ee-1&&Ee<=Q-ee&&pe>=ee-1&&pe<=Q-ee||Math.sqrt((Ee-Y)*(Ee-Y)+(pe-Y)*(pe-Y))>Y?le[Ee][pe]=0:le[Ee][pe]=this._qr.isDark(pe-2*ee<0?pe:pe>=te?pe-2*ee:pe-ee,Ee-2*ee<0?Ee:Ee>=te?Ee-2*ee:Ee-ee)?1:0}var Ae=function(Ne){for(var De=function(He){if(!le[Ne][He])return"continue";me.draw(q+Ne*Z,xe+He*Z,Z,function(Ye,Ve){var Re;return!!(!((Re=le[Ne+Ye])===null||Re===void 0)&&Re[He+Ve])}),me._element&&Oe._dotsClipPath&&Oe._dotsClipPath.appendChild(me._element)},ze=0;ze<Q;ze++)De(ze)},Oe=this;for(Ee=0;Ee<Q;Ee++)Ae(Ee)}},X.prototype.drawCorners=function(){var v=this;if(!this._qr)throw"QR code is not defined";var U=this._element,F=this._options;if(!U)throw"Element code is not defined";var G=this._qr.getModuleCount(),V=Math.min(F.width,F.height)-2*F.margin,te=F.shape===J?V/Math.sqrt(2):V,ve=Math.floor(te/G),W=7*ve,Z=3*ve,k=Math.floor((F.width-G*ve)/2),oe=Math.floor((F.height-G*ve)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(me){var Fe,Le,Ee,ee,Q,q,xe,le,Y,pe,Ae,Oe,Ne=me[0],De=me[1],ze=me[2],He=k+Ne*ve*(G-7),Ye=oe+De*ve*(G-7),Ve=v._dotsClipPath,Re=v._dotsClipPath;if((!((Fe=F.cornersSquareOptions)===null||Fe===void 0)&&Fe.gradient||!((Le=F.cornersSquareOptions)===null||Le===void 0)&&Le.color)&&((Ve=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+Ne+"-"+De),v._defs.appendChild(Ve),v._cornersSquareClipPath=v._cornersDotClipPath=Re=Ve,v._createColor({options:(Ee=F.cornersSquareOptions)===null||Ee===void 0?void 0:Ee.gradient,color:(ee=F.cornersSquareOptions)===null||ee===void 0?void 0:ee.color,additionalRotation:ze,x:He,y:Ye,height:W,width:W,name:"corners-square-color-"+Ne+"-"+De})),(Q=F.cornersSquareOptions)===null||Q===void 0?void 0:Q.type){var ot=new B({svg:v._element,type:F.cornersSquareOptions.type});ot.draw(He,Ye,W,ze),ot._element&&Ve&&Ve.appendChild(ot._element)}else for(var at=new D({svg:v._element,type:F.dotsOptions.type}),Et=function(tt){for(var er=function(xr){if(!(!((q=ce[tt])===null||q===void 0)&&q[xr]))return"continue";at.draw(He+tt*ve,Ye+xr*ve,ve,function(jt,Ir){var bt;return!!(!((bt=ce[tt+jt])===null||bt===void 0)&&bt[xr+Ir])}),at._element&&Ve&&Ve.appendChild(at._element)},dr=0;dr<ce[tt].length;dr++)er(dr)},qt=0;qt<ce.length;qt++)Et(qt);if((!((xe=F.cornersDotOptions)===null||xe===void 0)&&xe.gradient||!((le=F.cornersDotOptions)===null||le===void 0)&&le.color)&&((Re=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+Ne+"-"+De),v._defs.appendChild(Re),v._cornersDotClipPath=Re,v._createColor({options:(Y=F.cornersDotOptions)===null||Y===void 0?void 0:Y.gradient,color:(pe=F.cornersDotOptions)===null||pe===void 0?void 0:pe.color,additionalRotation:ze,x:He+2*ve,y:Ye+2*ve,height:Z,width:Z,name:"corners-dot-color-"+Ne+"-"+De})),(Ae=F.cornersDotOptions)===null||Ae===void 0?void 0:Ae.type){var Lr=new M({svg:v._element,type:F.cornersDotOptions.type});Lr.draw(He+2*ve,Ye+2*ve,Z,ze),Lr._element&&Re&&Re.appendChild(Lr._element)}else{at=new D({svg:v._element,type:F.dotsOptions.type});var rn=function(tt){for(var er=function(xr){if(!(!((Oe=ae[tt])===null||Oe===void 0)&&Oe[xr]))return"continue";at.draw(He+tt*ve,Ye+xr*ve,ve,function(jt,Ir){var bt;return!!(!((bt=ae[tt+jt])===null||bt===void 0)&&bt[xr+Ir])}),at._element&&Re&&Re.appendChild(at._element)},dr=0;dr<ae[tt].length;dr++)er(dr)};for(qt=0;qt<ae.length;qt++)rn(qt)}})},X.prototype.loadImage=function(){var v=this;return new Promise(function(U,F){var G=v._options,V=new Image;if(!G.image)return F("Image is not defined");typeof G.imageOptions.crossOrigin=="string"&&(V.crossOrigin=G.imageOptions.crossOrigin),v._image=V,V.onload=function(){U()},V.src=G.image})},X.prototype.drawImage=function(v){var U=v.width,F=v.height,G=v.count,V=v.dotSize;return $(this,void 0,void 0,function(){var te,ve,W,Z,k,oe,me,Fe,Le;return j(this,function(Ee){switch(Ee.label){case 0:return te=this._options,ve=Math.floor((te.width-G*V)/2),W=Math.floor((te.height-G*V)/2),Z=ve+te.imageOptions.margin+(G*V-U)/2,k=W+te.imageOptions.margin+(G*V-F)/2,oe=U-2*te.imageOptions.margin,me=F-2*te.imageOptions.margin,(Fe=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(Z)),Fe.setAttribute("y",String(k)),Fe.setAttribute("width",oe+"px"),Fe.setAttribute("height",me+"px"),[4,S(te.image||"")];case 1:return Le=Ee.sent(),Fe.setAttribute("href",Le||""),this._element.appendChild(Fe),[2]}})})},X.prototype._createColor=function(v){var U=v.options,F=v.color,G=v.additionalRotation,V=v.x,te=v.y,ve=v.height,W=v.width,Z=v.name,k=W>ve?W:ve,oe=document.createElementNS("http://www.w3.org/2000/svg","rect");if(oe.setAttribute("x",String(V)),oe.setAttribute("y",String(te)),oe.setAttribute("height",String(ve)),oe.setAttribute("width",String(W)),oe.setAttribute("clip-path","url('#clip-path-"+Z+"')"),U){var me;if(U.type==="radial")(me=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",Z),me.setAttribute("gradientUnits","userSpaceOnUse"),me.setAttribute("fx",String(V+W/2)),me.setAttribute("fy",String(te+ve/2)),me.setAttribute("cx",String(V+W/2)),me.setAttribute("cy",String(te+ve/2)),me.setAttribute("r",String(k/2));else{var Fe=((U.rotation||0)+G)%(2*Math.PI),Le=(Fe+2*Math.PI)%(2*Math.PI),Ee=V+W/2,ee=te+ve/2,Q=V+W/2,q=te+ve/2;Le>=0&&Le<=.25*Math.PI||Le>1.75*Math.PI&&Le<=2*Math.PI?(Ee-=W/2,ee-=ve/2*Math.tan(Fe),Q+=W/2,q+=ve/2*Math.tan(Fe)):Le>.25*Math.PI&&Le<=.75*Math.PI?(ee-=ve/2,Ee-=W/2/Math.tan(Fe),q+=ve/2,Q+=W/2/Math.tan(Fe)):Le>.75*Math.PI&&Le<=1.25*Math.PI?(Ee+=W/2,ee+=ve/2*Math.tan(Fe),Q-=W/2,q-=ve/2*Math.tan(Fe)):Le>1.25*Math.PI&&Le<=1.75*Math.PI&&(ee+=ve/2,Ee+=W/2/Math.tan(Fe),q-=ve/2,Q-=W/2/Math.tan(Fe)),(me=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",Z),me.setAttribute("gradientUnits","userSpaceOnUse"),me.setAttribute("x1",String(Math.round(Ee))),me.setAttribute("y1",String(Math.round(ee))),me.setAttribute("x2",String(Math.round(Q))),me.setAttribute("y2",String(Math.round(q)))}U.colorStops.forEach(function(xe){var le=xe.offset,Y=xe.color,pe=document.createElementNS("http://www.w3.org/2000/svg","stop");pe.setAttribute("offset",100*le+"%"),pe.setAttribute("stop-color",Y),me.appendChild(pe)}),oe.setAttribute("fill","url('#"+Z+"')"),this._defs.appendChild(me)}else F&&oe.setAttribute("fill",F);this._element.appendChild(oe)},X}(),fe="canvas";for(var he={},z=0;z<=40;z++)he[z]=z;const re={type:fe,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:he[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var L=function(){return(L=Object.assign||function(X){for(var v,U=1,F=arguments.length;U<F;U++)for(var G in v=arguments[U])Object.prototype.hasOwnProperty.call(v,G)&&(X[G]=v[G]);return X}).apply(this,arguments)};function ue(X){var v=L({},X);if(!v.colorStops||!v.colorStops.length)throw"Field 'colorStops' is required in gradient";return v.rotation?v.rotation=Number(v.rotation):v.rotation=0,v.colorStops=v.colorStops.map(function(U){return L(L({},U),{offset:Number(U.offset)})}),v}function K(X){var v=L({},X);return v.width=Number(v.width),v.height=Number(v.height),v.margin=Number(v.margin),v.imageOptions=L(L({},v.imageOptions),{hideBackgroundDots:!!v.imageOptions.hideBackgroundDots,imageSize:Number(v.imageOptions.imageSize),margin:Number(v.imageOptions.margin)}),v.margin>Math.min(v.width,v.height)&&(v.margin=Math.min(v.width,v.height)),v.dotsOptions=L({},v.dotsOptions),v.dotsOptions.gradient&&(v.dotsOptions.gradient=ue(v.dotsOptions.gradient)),v.cornersSquareOptions&&(v.cornersSquareOptions=L({},v.cornersSquareOptions),v.cornersSquareOptions.gradient&&(v.cornersSquareOptions.gradient=ue(v.cornersSquareOptions.gradient))),v.cornersDotOptions&&(v.cornersDotOptions=L({},v.cornersDotOptions),v.cornersDotOptions.gradient&&(v.cornersDotOptions.gradient=ue(v.cornersDotOptions.gradient))),v.backgroundOptions&&(v.backgroundOptions=L({},v.backgroundOptions),v.backgroundOptions.gradient&&(v.backgroundOptions.gradient=ue(v.backgroundOptions.gradient))),v}var ye=C(192),Be=C.n(ye),Ie=function(X,v,U,F){return new(U||(U=Promise))(function(G,V){function te(Z){try{W(F.next(Z))}catch(k){V(k)}}function ve(Z){try{W(F.throw(Z))}catch(k){V(k)}}function W(Z){var k;Z.done?G(Z.value):(k=Z.value,k instanceof U?k:new U(function(oe){oe(k)})).then(te,ve)}W((F=F.apply(X,[])).next())})},de=function(X,v){var U,F,G,V,te={label:0,sent:function(){if(1&G[0])throw G[1];return G[1]},trys:[],ops:[]};return V={next:ve(0),throw:ve(1),return:ve(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function ve(W){return function(Z){return function(k){if(U)throw new TypeError("Generator is already executing.");for(;te;)try{if(U=1,F&&(G=2&k[0]?F.return:k[0]?F.throw||((G=F.return)&&G.call(F),0):F.next)&&!(G=G.call(F,k[1])).done)return G;switch(F=0,G&&(k=[2&k[0],G.value]),k[0]){case 0:case 1:G=k;break;case 4:return te.label++,{value:k[1],done:!1};case 5:te.label++,F=k[1],k=[0];continue;case 7:k=te.ops.pop(),te.trys.pop();continue;default:if(!((G=(G=te.trys).length>0&&G[G.length-1])||k[0]!==6&&k[0]!==2)){te=0;continue}if(k[0]===3&&(!G||k[1]>G[0]&&k[1]<G[3])){te.label=k[1];break}if(k[0]===6&&te.label<G[1]){te.label=G[1],G=k;break}if(G&&te.label<G[2]){te.label=G[2],te.ops.push(k);break}G[2]&&te.ops.pop(),te.trys.pop();continue}k=v.call(X,te)}catch(oe){k=[6,oe],F=0}finally{U=G=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([W,Z])}}};const ge=function(){function X(v){this._options=v?K(A(re,v)):re,this.update()}return X._clearContainer=function(v){v&&(v.innerHTML="")},X.prototype._setupSvg=function(){var v=this;if(this._qr){var U=new ie(this._options);this._svg=U.getElement(),this._svgDrawingPromise=U.drawQR(this._qr).then(function(){var F;v._svg&&((F=v._extension)===null||F===void 0||F.call(v,U.getElement(),v._options))})}},X.prototype._setupCanvas=function(){var v,U=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=(v=this._svgDrawingPromise)===null||v===void 0?void 0:v.then(function(){if(U._svg){var F=U._svg,G=new XMLSerializer().serializeToString(F),V="data:image/svg+xml;base64,"+btoa(G),te=new Image;return new Promise(function(ve){te.onload=function(){var W,Z;(Z=(W=U._canvas)===null||W===void 0?void 0:W.getContext("2d"))===null||Z===void 0||Z.drawImage(te,0,0),ve()},te.src=V})}}))},X.prototype._getElement=function(v){return v===void 0&&(v="png"),Ie(this,void 0,void 0,function(){return de(this,function(U){switch(U.label){case 0:if(!this._qr)throw"QR code is empty";return v.toLowerCase()!=="svg"?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return U.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return U.sent(),[2,this._canvas]}})})},X.prototype.update=function(v){X._clearContainer(this._container),this._options=v?K(A(this._options,v)):this._options,this._options.data&&(this._qr=Be()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(U){switch(!0){case/^[0-9]*$/.test(U):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(U):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===fe?this._setupCanvas():this._setupSvg(),this.append(this._container))},X.prototype.append=function(v){if(v){if(typeof v.appendChild!="function")throw"Container should be a single DOM node";this._options.type===fe?this._canvas&&v.appendChild(this._canvas):this._svg&&v.appendChild(this._svg),this._container=v}},X.prototype.applyExtension=function(v){if(!v)throw"Extension function should be defined.";this._extension=v,this.update()},X.prototype.deleteExtension=function(){this._extension=void 0,this.update()},X.prototype.getRawData=function(v){return v===void 0&&(v="png"),Ie(this,void 0,void 0,function(){var U,F,G;return de(this,function(V){switch(V.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(v)];case 1:return(U=V.sent())?v.toLowerCase()==="svg"?(F=new XMLSerializer,G=F.serializeToString(U),[2,new Blob([`<?xml version="1.0" standalone="no"?>\r
`+G],{type:"image/svg+xml"})]):[2,new Promise(function(te){return U.toBlob(te,"image/"+v,1)})]:[2,null]}})})},X.prototype.download=function(v){return Ie(this,void 0,void 0,function(){var U,F,G,V,te;return de(this,function(ve){switch(ve.label){case 0:if(!this._qr)throw"QR code is empty";return U="png",F="qr",typeof v=="string"?(U=v,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof v=="object"&&v!==null&&(v.name&&(F=v.name),v.extension&&(U=v.extension)),[4,this._getElement(U)];case 1:return(G=ve.sent())?(U.toLowerCase()==="svg"?(V=new XMLSerializer,te=`<?xml version="1.0" standalone="no"?>\r
`+(te=V.serializeToString(G)),b("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(te),F+".svg")):b(G.toDataURL("image/"+U),F+"."+U),[2]):[2]}})})},X}()}},u={};function h(f){if(u[f])return u[f].exports;var p=u[f]={exports:{}};return a[f](p,p.exports,h),p.exports}return h.n=f=>{var p=f&&f.__esModule?()=>f.default:()=>f;return h.d(p,{a:p}),p},h.d=(f,p)=>{for(var C in p)h.o(p,C)&&!h.o(f,C)&&Object.defineProperty(f,C,{enumerable:!0,get:p[C]})},h.o=(f,p)=>Object.prototype.hasOwnProperty.call(f,p),h(676)})().default})})(l1);const c1=o=>new a1.QRCodeCanvas(o+"").toDataUrl();function Kt(){for(var o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwyxz",l=16,a="",u=0;u<l;u++)a+=o.charAt(Math.floor(Math.random()*o.length));return a}const X0={},Ur=(o,l)=>{X0[o]=l},oo=o=>o?X0[o]:X0;function u1(o){try{return JSON.parse(o),!0}catch{return!1}}function so(o){var l=[];return o&&Object.keys(o).map(a=>{l.push(o[a])}),l}const dn=async o=>{let l="",a="https://qvamarkets.com/gql_api",u={method:"post",headers:{"Content-Type":"application/json",Authorization:`${l}`},body:JSON.stringify(o)};try{return(await fetch(a,u)).json()}catch(h){return console.log(h),null}};function _s(o,l){try{var a=Rr.enc.Base64.parse(l),u=null;return u=Rr.AES.encrypt(o,a,{mode:Rr.mode.ECB,padding:Rr.pad.Pkcs7}),u.ciphertext.toString(Rr.enc.Base64)}catch{return null}}function vi(o,l){var a=Rr.enc.Base64.parse(l),u=Rr.AES.decrypt(o,a,{mode:Rr.mode.ECB,padding:Rr.pad.Pkcs7});return u.toString(Rr.enc.Utf8)}function Y0(o){var l=document.cookie.match(new RegExp("(^| )"+o+"=([^;]+)"));return l?l[2]:null}const va=async o=>{const l=JSON.stringify(o);var a={};let u=oo("sectionKey");var h=Kt();let f=_s(h,u),p=_s(l,h);const C={};C.d=p,C.k=f;var w=JSON.stringify(C),x=Y0(ao());const m="https://qvamarkets.com/gql_v4";if(p){var A=await(await fetch(m,{method:"post",headers:{"Accept-Encoding":"gzip, deflate, br","Content-Type":"application/json",Authorization:`${x}`},body:w})).json();const{data:_}=A;if(_&&_.d){let E=vi(_.k,u),D=vi(_.d,E);u1(D)&&(a=JSON.parse(D))}return a}};function Xn(o){var l=[];if(o)try{l=Object.keys(o)}catch{for(var a in o)l.push(a)}return l}const f1=()=>"profileUser",q0=()=>"querys_callback",ao=()=>"ssg_logistic_tkn";function tn(o,l){let a;function u(h){clearTimeout(a),a=setTimeout(()=>o(h),l)}return Sr(()=>clearInterval(a)),u}const[h1,d1]=Ht({}),[x1,g1]=Ht({}),[Zr,p1]=Ht({});Je("");const[$0,m1]=Je("");var C1=We('<svg viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path>');function sr(o){let l=o?.size?o?.size:24;return(()=>{var a=C1(),u=a.firstChild;return a.addEventListener("mouseleave",()=>{o?.tooltipMessage&&(showTooltip(!1),setTimeout(()=>showTooltip(!0),50))}),Jt(a,"height",l),Jt(a,"width",l),yt(h=>{var f=o?.color,p=x1?.[o.name];return f!==h.e&&Jt(a,"fill",h.e=f),p!==h.t&&Jt(u,"d",h.t=p),h},{e:void 0,t:void 0}),a})()}var A1=We('<div class="filter_search_btn _dsplFlx"><input type=text auto-capitalize=on auto-complete=off auto-correct=off spell-check=false placeholder=search><div class=btn_close>'),w1=We('<div class="filter_search_btn _dsplFlx"><div class="lbl date Lbldrp">'),y1=We('<div class=" monthList">'),v1=We('<div class="OpenBoxContainer ">'),E1=We("<div><div id=drpdwn_click_outside>"),b1=We('<div class="filter_month_item _dsplFlx"><div class="lbl tr_bar_15"></div><div class="lbl tr_bar_80">');const lo=o=>{const[l,a]=Je(!1),[u,h]=Je(""),f=tn(h,400);Jr(()=>{console.log("searchQr")});const p=E=>{o?.onSelect(E),w()},C=()=>{o?.onSelect(""),w()},w=()=>{l()?a(!1):l()||(a(!0),setTimeout(()=>{},50))},x=E=>{console.log(),o.hasDebounce?f(E.target.value):h(E.target.value)},m=()=>o?.list?.filter(E=>E.id===o?.value)?.[0]?.label;let A=o?.direction||"left",b={"--pck--width":o?.width,"--pck--color":o?.color,"--pck--backColor":o?.backColor,"--pck--border-color":o?.borderColor,"--pck--aborder-color":o?.borderActiveColor};const[S,{refetch:_}]=Ii(u,async E=>o?.list?.filter(R=>R?.label?.toLowerCase()?.indexOf(E?.toLowerCase())>-1));return(()=>{var E=E1(),D=E.firstChild;return Te(D,Se(Ze,{get when(){return l()},get children(){var R=A1(),B=R.firstChild,N=B.nextSibling;return B.$$input=x,N.$$click=C,Te(N,Se(sr,{name:"Xclose",color:"var(--color-pck)"})),R}}),null),Te(D,Se(Ze,{get when(){return!l()},get children(){var R=w1(),B=R.firstChild;return R.$$click=w,Te(B,()=>m()||o?.lbl_empty),Te(R,Se(sr,{name:"arrow_drop_down",color:"var(--color-pck)"}),null),R}}),null),Te(D,Se(Ze,{get when(){return l()},get children(){var R=v1();return Jt(R,"direction",`${A}`),Te(R,Se(Ze,{get when(){return S()},get children(){var B=y1();return Te(B,Se($n,{get each(){return S()},children:(N,M)=>{let J=N.label;return Se(Ze,{when:J,get children(){var $=b1(),j=$.firstChild,ce=j.nextSibling;return $.$$click=()=>p(N),Jt($,"key",J+"_"+M),Te(j,Se(sr,{get name(){return N?.icon},color:"var(--color-pck)"})),Te(ce,J),$}})}})),B}})),yt(B=>un(R,o?.background?{backgroundColor:o?.background}:null,B)),R}}),null),yt(R=>{var B={...b,"min-width":"var(--pck--width)"},N=` searchDDBx ${l()?"open":""}`,M=`${l()}`;return R.e=un(E,B,R.e),N!==R.t&&_r(D,R.t=N),M!==R.a&&(D.open=R.a=M),R},{e:void 0,t:void 0,a:void 0}),E})()};hr(["input","click"]);var _1=We("<div class=flexSpace>");const or=()=>_1();function co(o){let l,a;function u(){l=setInterval(()=>{a!==window.outerWidth>460&&(a=window.outerWidth>460,o(a))},450)}return Sr(()=>clearInterval(l)),u}var Ea=We("<div>"),S1=We("<div><div class=ltr-hoe9xz><div class=ltr-1wao6ny>");const[I1,ba]=Je(""),[Ei,_a]=Ht([]),D1=()=>(()=>{var o=Ea();return Te(o,()=>I1()?" ":"",null),Te(o,Se($n,{each:Ei,children:(l,a)=>Se(T1,{item:l})}),null),o})(),T1=o=>{let l={};o?.item?.props?.height&&(l.heigth=o?.item?.props?.height),o?.item?.props?.zIndex&&(l["z-index"]=o?.item?.props?.zIndex-1);let a={"z-index":o?.item?.props?.zIndex},u=o?.item?.content,h=o?.item?.overlayTransparent?" transparent":"",f=o?.item?.overlayTransparent?" overlayTransparent":"";return(()=>{var p=S1(),C=p.firstChild,w=C.firstChild;return p.className=`ltr-1kbnjow ${h} `,un(p,l),Te(w,u),Te(p,(()=>{var x=vt(()=>!!o?.item?.props?.overlay);return()=>x()?(()=>{var m=Ea();return m.$$click=()=>{B1(o?.item?.id)},m.className=`DialogHRMOverlay active  ${f}  `,m})():null})(),null),yt(x=>un(w,a,x)),p})()},Fi=o=>{let l=[];Ei.map(h=>{l.push(h)}),console.log(l),l.push(o),document.getElementsByTagName("html")[0].classList.add("has-level-two");let u=document.getElementsByTagName("body")[0];u.style["overflow-y"]="hidden",_a(l),ba(Kt())},B1=o=>{let l=[],a=null;Ei.map(f=>{a=f.id=o}),Ei.splice(a,1),document.getElementsByTagName("html")[0].classList.remove("has-level-two");let h=document.getElementsByTagName("body")[0];h.style["overflow-y"]=null,_a(l),ba(Kt())};hr(["click"]);var N1=We('<div><div class="_dsplFlx flxWrp spaceAround "><img ref alt=qr>');function uo(o){return(()=>{var l=N1(),a=l.firstChild,u=a.firstChild;return l.style.setProperty("max-height","80vh"),l.style.setProperty("width","350px"),l.style.setProperty("overflow","auto"),l.style.setProperty("background","#ffffff"),l.style.setProperty("border-radius","13"),l.style.setProperty("padding","10px 19px"),yt(()=>Jt(u,"src",c1(o?.val))),l})()}var O1=We('<div class=" tr_bar_10 _dsplFlx"><div class="icon_status centerBx"></div><div class=guide_number><h5>'),M1=We('<p class="tr_bar_30 textleft fullName_consigne">'),R1=We("<div style=margin-right:4vw>"),F1=We('<h4 class="tr_bar_20 textleft">'),L1=We("<div class=bag_number><h5>"),k1=We('<div class="_dsplFlx bottombx"><p></p><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),P1=We('<div class="_dsplFlx bottombx"><h5>'),U1=We('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx topbx centerBx">');function H1(o){Ht({search:"",status:"AERO_33"});const[l,a]=Je(""),[u,h]=Je("");tn(h,400),co(a);const f=A=>A?" "+A:"",p=()=>{let A=o?.item?.consigneeInfo;return f(A?.firstName)+f(A?.middleName)+f(A?.lastName)+f(A?.lastName2)},C=()=>{let A=o?.item?.consigneeInfo,b=f(A?.altPhoneNumber);return f(A?.phoneNumber)+(b?" |"+b:"")};o?.item?.street?.split(",");const w=()=>{let A=o?.item?.statusHistory||[];return o?.item?.statusHistory?A.reduce((b,S)=>{if(S.statusId==="AERO_33")return Math.min(b,S.timeStamp)},1/0):null},x=()=>{let A=o?.item?.street.split(",");return A.slice(0,A.length-2).join(",")},m=()=>{let A=o?.item?.hbls.length;const b=o?.item?.hbls.reduce((E,D)=>E+`${E?"/":""}${D.hbl}/${D.quantity}/${D.weight}`,"");let S=`${o?.item?.idairguide}/${o?.item?.cidentity}/${A}/${b}`,_={};_.id=Kt(),_.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},_.content=Se(uo,{val:S}),Fi(_)};return Se(Ze,{get when(){return o?.item?.guia},get children(){var A=U1(),b=A.firstChild;return Te(b,Se(Ze,{get when(){return o?.item?.guia},get children(){return[(()=>{var S=O1(),_=S.firstChild,E=_.nextSibling,D=E.firstChild;return Te(_,Se(sr,{get name(){return ro?.[o?.item?.currentStatus]},size:32})),Te(D,()=>o?.item?.guia),Te(S,w,null),S})(),(()=>{var S=M1();return Te(S,p),S})(),R1(),(()=>{var S=F1();return Te(S,C),S})()]}}),null),Te(b,Se(or,{}),null),Te(b,Se(Ze,{get when(){return o?.item?.bagnumber},get children(){var S=L1(),_=S.firstChild;return S.$$click=m,Te(_,()=>o?.item?.bagnumber),S}}),null),Te(A,Se(Ze,{get when(){return o?.item?.consigneeInfo?.ybcity},get children(){var S=k1(),_=S.firstChild,E=_.nextSibling,D=E.firstChild,R=D.nextSibling,B=R.nextSibling;return Te(_,x),Te(S,Se(or,{}),E),Te(D,()=>o?.item?.consigneeInfo?.ybcity),Te(B,()=>o?.item?.consigneeInfo?.ybestate),S}}),null),Te(A,Se(Ze,{when:!1,get children(){var S=P1(),_=S.firstChild;return Te(S,Se(or,{}),_),Te(_,()=>o?.item?.nameshipper),Te(S,Se(or,{}),null),S}}),null),A}})}hr(["click"]);var z1=We('<div class=" jaqJnq_hrm1"><button class="gHAsFI_hrm1 dqn9fN jUrKkb"type=button><h5>');function Ss(o){Je(0);const[l,a]=Je(!1),u=()=>{o?.handleClick?.()},h=w=>{a(w)};let f={};if(o?.color){let{r:w,g:x,b:m}=V1(o.color),A="rgba("+[w,x,m].join(",")+", 0.17 )",b="rgba("+[w,x,m].join(",")+", 0.21 )",S="rgba("+[w,x,m].join(",")+", 0.42 )";f={"--btn_bg_hrm2":A,"--btn_bg_hover_hrm2":b,"--btn_text_hrm2":o?.color,"--btn_border_hrm2":l()?o?.color:"transparent","--border-radius-8":8},l()&&(f={"--btn_bg_hrm2":A,"--btn_bg_hover_hrm2":S,"--btn_text_hrm2":o?.color,"--btn_border_hrm2":o?.color,"--border-radius-8":"8px"})}function p(){const[w,x]=Je(!1);return Di(()=>{x(typeof window<"u")}),w}const C=p();return Jr(()=>{C()&&W1("obs-theme",h)}),(()=>{var w=z1(),x=w.firstChild,m=x.firstChild;return x.$$click=u,Te(x,Se(Ze,{get when(){return o?.icon},get children(){return Se(sr,{get name(){return o?.icon}})}}),m),Te(m,()=>o.label),yt(A=>un(w,f,A)),w})()}const j1={attributes:!0,characterData:!0},W1=async(o,l,a,u)=>{const h=new MutationObserver(p=>{console.log(MutationObserver),p.forEach(C=>{if(C?.type==="attributes"){let w=C?.attributeName?.toString()?.trim(),x=o.toString().trim();w===x&&l&&l(Kt(),o)}})}),f=document.querySelector("html");h.observe(f,j1)},V1=o=>{o=o.replace("#",""),o.length!==6&&(o=G1(o));const l=parseInt(o.slice(0,2),16),a=parseInt(o.slice(2,4),16),u=parseInt(o.slice(4,6),16);return{r:l,g:a,b:u}};function G1(o){return o.length===4&&(o=o.replace("#","")),o.length===3&&(o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]),o}hr(["click"]);var dt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Is=Object.getOwnPropertySymbols,X1=Object.prototype.hasOwnProperty,Y1=Object.prototype.propertyIsEnumerable;function q1(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function $1(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var l={},a=0;a<10;a++)l["_"+String.fromCharCode(a)]=a;var u=Object.getOwnPropertyNames(l).map(function(f){return l[f]});if(u.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(f){h[f]=f}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Z1=$1()?Object.assign:function(o,l){for(var a,u=q1(o),h,f=1;f<arguments.length;f++){a=Object(arguments[f]);for(var p in a)X1.call(a,p)&&(u[p]=a[p]);if(Is){h=Is(a);for(var C=0;C<h.length;C++)Y1.call(a,h[C])&&(u[h[C]]=a[h[C]])}}return u};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fo=Z1,Bn=60103,Sa=60106;dt.Fragment=60107;dt.StrictMode=60108;dt.Profiler=60114;var Ia=60109,Da=60110,Ta=60112;dt.Suspense=60113;var Ba=60115,Na=60116;if(typeof Symbol=="function"&&Symbol.for){var Er=Symbol.for;Bn=Er("react.element"),Sa=Er("react.portal"),dt.Fragment=Er("react.fragment"),dt.StrictMode=Er("react.strict_mode"),dt.Profiler=Er("react.profiler"),Ia=Er("react.provider"),Da=Er("react.context"),Ta=Er("react.forward_ref"),dt.Suspense=Er("react.suspense"),Ba=Er("react.memo"),Na=Er("react.lazy")}var Ds=typeof Symbol=="function"&&Symbol.iterator;function Q1(o){return o===null||typeof o!="object"?null:(o=Ds&&o[Ds]||o["@@iterator"],typeof o=="function"?o:null)}function ti(o){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+o,a=1;a<arguments.length;a++)l+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Oa={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ma={};function Nn(o,l,a){this.props=o,this.context=l,this.refs=Ma,this.updater=a||Oa}Nn.prototype.isReactComponent={};Nn.prototype.setState=function(o,l){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error(ti(85));this.updater.enqueueSetState(this,o,l,"setState")};Nn.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function Ra(){}Ra.prototype=Nn.prototype;function ho(o,l,a){this.props=o,this.context=l,this.refs=Ma,this.updater=a||Oa}var xo=ho.prototype=new Ra;xo.constructor=ho;fo(xo,Nn.prototype);xo.isPureReactComponent=!0;var go={current:null},Fa=Object.prototype.hasOwnProperty,La={key:!0,ref:!0,__self:!0,__source:!0};function ka(o,l,a){var u,h={},f=null,p=null;if(l!=null)for(u in l.ref!==void 0&&(p=l.ref),l.key!==void 0&&(f=""+l.key),l)Fa.call(l,u)&&!La.hasOwnProperty(u)&&(h[u]=l[u]);var C=arguments.length-2;if(C===1)h.children=a;else if(1<C){for(var w=Array(C),x=0;x<C;x++)w[x]=arguments[x+2];h.children=w}if(o&&o.defaultProps)for(u in C=o.defaultProps,C)h[u]===void 0&&(h[u]=C[u]);return{$$typeof:Bn,type:o,key:f,ref:p,props:h,_owner:go.current}}function K1(o,l){return{$$typeof:Bn,type:o.type,key:l,ref:o.ref,props:o.props,_owner:o._owner}}function po(o){return typeof o=="object"&&o!==null&&o.$$typeof===Bn}function J1(o){var l={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(a){return l[a]})}var Ts=/\/+/g;function P0(o,l){return typeof o=="object"&&o!==null&&o.key!=null?J1(""+o.key):l.toString(36)}function xi(o,l,a,u,h){var f=typeof o;(f==="undefined"||f==="boolean")&&(o=null);var p=!1;if(o===null)p=!0;else switch(f){case"string":case"number":p=!0;break;case"object":switch(o.$$typeof){case Bn:case Sa:p=!0}}if(p)return p=o,h=h(p),o=u===""?"."+P0(p,0):u,Array.isArray(h)?(a="",o!=null&&(a=o.replace(Ts,"$&/")+"/"),xi(h,l,a,"",function(x){return x})):h!=null&&(po(h)&&(h=K1(h,a+(!h.key||p&&p.key===h.key?"":(""+h.key).replace(Ts,"$&/")+"/")+o)),l.push(h)),1;if(p=0,u=u===""?".":u+":",Array.isArray(o))for(var C=0;C<o.length;C++){f=o[C];var w=u+P0(f,C);p+=xi(f,l,a,w,h)}else if(w=Q1(o),typeof w=="function")for(o=w.call(o),C=0;!(f=o.next()).done;)f=f.value,w=u+P0(f,C++),p+=xi(f,l,a,w,h);else if(f==="object")throw l=""+o,Error(ti(31,l==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":l));return p}function hi(o,l,a){if(o==null)return o;var u=[],h=0;return xi(o,u,"","",function(f){return l.call(a,f,h++)}),u}function eu(o){if(o._status===-1){var l=o._result;l=l(),o._status=0,o._result=l,l.then(function(a){o._status===0&&(a=a.default,o._status=1,o._result=a)},function(a){o._status===0&&(o._status=2,o._result=a)})}if(o._status===1)return o._result;throw o._result}var Pa={current:null};function zr(){var o=Pa.current;if(o===null)throw Error(ti(321));return o}var tu={ReactCurrentDispatcher:Pa,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:go,IsSomeRendererActing:{current:!1},assign:fo};dt.Children={map:hi,forEach:function(o,l,a){hi(o,function(){l.apply(this,arguments)},a)},count:function(o){var l=0;return hi(o,function(){l++}),l},toArray:function(o){return hi(o,function(l){return l})||[]},only:function(o){if(!po(o))throw Error(ti(143));return o}};dt.Component=Nn;dt.PureComponent=ho;dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu;dt.cloneElement=function(o,l,a){if(o==null)throw Error(ti(267,o));var u=fo({},o.props),h=o.key,f=o.ref,p=o._owner;if(l!=null){if(l.ref!==void 0&&(f=l.ref,p=go.current),l.key!==void 0&&(h=""+l.key),o.type&&o.type.defaultProps)var C=o.type.defaultProps;for(w in l)Fa.call(l,w)&&!La.hasOwnProperty(w)&&(u[w]=l[w]===void 0&&C!==void 0?C[w]:l[w])}var w=arguments.length-2;if(w===1)u.children=a;else if(1<w){C=Array(w);for(var x=0;x<w;x++)C[x]=arguments[x+2];u.children=C}return{$$typeof:Bn,type:o.type,key:h,ref:f,props:u,_owner:p}};dt.createContext=function(o,l){return l===void 0&&(l=null),o={$$typeof:Da,_calculateChangedBits:l,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null},o.Provider={$$typeof:Ia,_context:o},o.Consumer=o};dt.createElement=ka;dt.createFactory=function(o){var l=ka.bind(null,o);return l.type=o,l};dt.createRef=function(){return{current:null}};dt.forwardRef=function(o){return{$$typeof:Ta,render:o}};dt.isValidElement=po;dt.lazy=function(o){return{$$typeof:Na,_payload:{_status:-1,_result:o},_init:eu}};dt.memo=function(o,l){return{$$typeof:Ba,type:o,compare:l===void 0?null:l}};dt.useCallback=function(o,l){return zr().useCallback(o,l)};dt.useContext=function(o,l){return zr().useContext(o,l)};dt.useDebugValue=function(){};dt.useEffect=function(o,l){return zr().useEffect(o,l)};dt.useImperativeHandle=function(o,l,a){return zr().useImperativeHandle(o,l,a)};dt.useLayoutEffect=function(o,l){return zr().useLayoutEffect(o,l)};dt.useMemo=function(o,l){return zr().useMemo(o,l)};dt.useReducer=function(o,l,a){return zr().useReducer(o,l,a)};dt.useRef=function(o){return zr().useRef(o)};dt.useState=function(o){return zr().useState(o)};dt.version="17.0.2";var ru=We('<div id=loadingSpinner><svg class=spinnerSvg viewBox="25 25 50 50"><circle cx=50 cy=50 r=20 fill=none strokeMiterlimit=10>');const mo=o=>{let l="spinnerPath",a={};return o?.stroke&&(l="spinnerPathWC",a={stroke:o?.stroke}),(()=>{var u=ru(),h=u.firstChild,f=h.firstChild;return u.style.setProperty("position","relative"),Jt(f,"class",l),yt(p=>{var C=o?.size+"px"||"10px",w=o?.size+"px"||"10px",x=a,m=o?.strokeW||2;return C!==p.e&&((p.e=C)!=null?u.style.setProperty("width",C):u.style.removeProperty("width")),w!==p.t&&((p.t=w)!=null?u.style.setProperty("height",w):u.style.removeProperty("height")),p.a=un(f,x,p.a),m!==p.o&&Jt(f,"strokeWidth",p.o=m),p},{e:void 0,t:void 0,a:void 0,o:void 0}),u})()};var nu=We('<div class=" _dsplFlx"><div class="icon_status centerBx"></div><div class=guide_number><h5>'),iu=We("<div class=bag_number><h5>"),ou=We('<div class="icon_status centerBx">'),su=We('<div class="_dsplFlx bottombx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),au=We('<div class="client_item_box gWXAaj jlytmu"><div class=" topbx centerBx"></div><div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft "></p></div><div class="_dsplFlx bottombx"><div class="icon_status centerBx"></div><h4></h4></div>');function lu(o){Ht({search:"",status:"AERO_33"});const[l,a]=Je(""),[u,h]=Je("");tn(h,400),co(a);const f=A=>A?" "+A:"",p=()=>{let A=o?.item?.consigneeInfo;return f(A?.firstName)+f(A?.middleName)+f(A?.lastName)+f(A?.lastName2)},C=()=>{o?.item?.ssg_track_key,o?.item?.idairguide,cu()},w=()=>{let A=o?.item?.consigneeInfo,b=f(A?.altPhoneNumber);return f(A?.phoneNumber)+(b?" |"+b:"")},x=()=>{let A=o?.item?.street.split(",");return A.slice(0,A.length-2).join(",")},m=()=>{let A=o?.item?.hbls.length;const b=o?.item?.hbls.reduce((E,D)=>E+`${E?"/":""}${D.hbl}/${D.quantity}/${D.weight}`,"");let S=`${o?.item?.idairguide}/${o?.item?.cidentity}/${A}/${b}`,_={};_.id=Kt(),_.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},_.content=Se(uo,{val:S}),Fi(_)};return Se(Ze,{get when(){return o?.item?.guia},get children(){var A=au(),b=A.firstChild,S=b.nextSibling,_=S.firstChild,E=_.nextSibling,D=E.nextSibling,R=D.nextSibling,B=S.nextSibling,N=B.firstChild,M=N.nextSibling;return Te(b,Se(Ze,{get when(){return o?.item?.guia},get children(){var J=nu(),$=J.firstChild,j=$.nextSibling,ce=j.firstChild;return Te($,Se(sr,{get name(){return ro?.[o?.item?.currentStatus]},size:32})),Te(ce,()=>o?.item?.guia),J}}),null),Te(b,Se(or,{}),null),Te(b,Se(Ze,{get when(){return o?.item?.bagnumber},get children(){var J=iu(),$=J.firstChild;return J.$$click=m,Te($,()=>o?.item?.bagnumber),J}}),null),Te(b,Se(Ze,{get when(){return o?.item?.ssg_track_key.length===16},get children(){var J=ou();return J.$$click=C,Te(J,Se(sr,{name:"outline_delete",size:24})),J}}),null),Te(_,p),Te(D,w),Te(R,x),Te(A,Se(Ze,{get when(){return o?.item?.consigneeInfo?.ybcity},get children(){var J=su(),$=J.firstChild,j=$.firstChild,ce=j.nextSibling,ae=ce.nextSibling;return Te(j,()=>o?.item?.consigneeInfo?.ybcity),Te(ae,()=>o?.item?.consigneeInfo?.ybestate),J}}),B),N.$$click=C,Te(N,Se(sr,{name:"send",size:24,color:"#4b4b4b"})),M.style.setProperty("color","#7b7b7b"),Te(M,()=>o?.item?.nameshipper),A}})}const cu=async o=>{};hr(["click"]);const[Dn,uu]=Je(!0);setInterval(()=>{let o=720;Dn()!==window.outerWidth<o&&uu(window.outerWidth<o)},220);const[fu,hu]=Ht({});var du=We("<div class=loading_app><div id=buttonDiv></div>");const Ua=async o=>{const u=await va({query:"53hvscu362"});if(u&&!u.error){let h=oo(q0())||{},f=Object.assign({},h,u);Ur(q0(),f)}o&&o()},Ha=async(o,l)=>{let a=oo(q0())?.validateTkn;if(a){a.params={tkn:o};const h=await va(a);if(h&&h.userId){Ur(f1(),h),Ur("isAdmin",h.isAdmin),Ur("hasNotaryAccess",h.hasNotaryAccess);let f=[];Xn(h.accessActivities).map(C=>{let w=h.accessActivities[C];w.isActive&&f.push({id:w.idCode,label:w.label})}),Ur("accessActivities",h.accessActivities),Ur("accessActivitiesDrodDwn",f),d1("profile",h),m1(h?.picture),p1("roles",h?.accessLogistic);let p=[];Tc.map(C=>{h?.accessLogistic?.[C.id]?.isActive&&p.push(C)}),hu("list",p)}}l&&l()};function xu({did:o}){const l=async a=>{let u=a.credential?.slice(a.credential.toString().length-32,a.credential.toString().length-16);u=a.credential?.slice(0,16);let h={params:{id_token:a.credential},query:"getGoogleUserbyToken"};const p=await dn(h);if(p&&p.data){let C=new Date().getTime(),w=new Date(C+6e4*60*24*365),x=ao(),m=vi(p.data.split(":")[1],u);Ur("sectionKey",m),document.cookie=`${x}=${p.data}; expires=${w}; path=/;g_state = {"i_l":1,"i_p":${w}}; hrm_access_tkn = ${a.credential}`,document.cookie=`hrm_access_tkn = ${a.credential}; expires=${w};`,Ua(async()=>{await Ha(p.data)})}};return Di(()=>{let a=window.google;a?.accounts.id.initialize({client_id:"195275085181-8ccjpgp8v1g80qhnlk6v4lpgid7n81gr.apps.googleusercontent.com",callback:l}),a?.accounts.id.renderButton(document.getElementById("buttonDiv"),{theme:"outline",size:"large"})}),du()}var gu=We('<div><div class="_dsplFlx flxWrp spaceAround profileModal"><div><img width=63 height=63 class=picture-profile alt=profile decoding=async></div><div><p></p><h4>');function pu(o){return(()=>{var l=gu(),a=l.firstChild,u=a.firstChild,h=u.firstChild,f=u.nextSibling,p=f.firstChild,C=p.nextSibling;return l.style.setProperty("max-height","80vh"),l.style.setProperty("width","350px"),l.style.setProperty("overflow","auto"),l.style.setProperty("background","#ffffff"),l.style.setProperty("border-radius","13"),l.style.setProperty("padding","10px 19px"),Te(p,()=>o?.val?.email),Te(C,()=>o?.val?.name),yt(()=>Jt(h,"src",o?.val?.picture)),l})()}var mu=We('<li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor current-menu-parent menu-item-has-children mb-0"><a href=/><span>Envios'),Cu=We('<li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor current-menu-parent menu-item-has-children mb-0"><a href=/scan><span>Escanear'),Au=We('<nav id=site-navigation><ul id=primary-menu class="no-list nav-menu lg:flex items-center"></ul>'),wu=We('<span class="js-menu-trigger text-red font-bold text-3xl cursor-pointer"><div>'),yu=We('<li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/><span>Envios'),vu=We('<li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/scan><span>Escanear'),Eu=We('<li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/manifest><span>Manifiestos'),bu=We('<ul id=primary-menu class="no-list nav-menu lg:flex items-center"><li id=menu-item-6151 class="nav-menu-products menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children mb-0"><a href=/locations><span>Locaciones'),_u=We("<div><img width=48 height=24 class=picture-profile alt=profile decoding=async>"),Su=We('<header class=site-header><div class="containerNav w-full"><div class="flex items-center gap-3"><div class="flex site-branding shrink-0 mr-auto"><a href=/ rel=home class="flex nodecor"><img width=48 height=24 src="https://qvamarkets.com/gql_api/getStatic?fileName=SSG.png"class=nav-home alt="Scanbot SDK"decoding=async><p class="title-header centerBx">Stephanie Solution');function Iu(){const[o,l]=Je(!1),a=()=>{u();let f=Y0("hrm_access_tkn"),p=Y0(ao());if(f&&p&&p.length>10&&f.length>10){let C=f?.slice(f.toString().length-32,f.toString().length-16);C=f?.slice(0,16);let w=vi(p.split(":")[1],C);Ur("sectionKey",w),Ua(()=>{Ha(p,()=>{})})}},u=async()=>{let p=await(await fetch("https://qvamarkets.com/gql_api/getStatic?fileName=svgs.json")).json();return Ur("svgSymbols",p),g1(p),p};Di(a),Jr(()=>{});const h=()=>{let f={};f.id=Kt(),f.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},f.content=Se(pu,{get val(){return h1?.profile}}),Fi(f)};return(()=>{var f=Su(),p=f.firstChild,C=p.firstChild;return C.firstChild,Te(C,Se(Ze,{get when(){return $0()},get children(){return[Se(Ze,{get when(){return Dn()},get children(){return[(()=>{var w=Au(),x=w.firstChild;return Te(x,Se(Ze,{get when(){return Zr?.roles?.SEARCH?.isActive},get children(){var m=mu();return m.$$click=()=>l(!o()),m}}),null),Te(x,Se(Ze,{get when(){return Zr?.roles?.SCANING?.isActive},get children(){var m=Cu();return m.$$click=()=>l(!o()),m}}),null),yt(()=>_r(w,`main-navigation max-lg:h-[calc(100dvh-64px)] max-lg:overflow-y-auto ${o()?"is-open":""}`)),w})(),(()=>{var w=wu(),x=w.firstChild;return x.$$click=()=>l(!o()),Te(x,Se(sr,{get name(){return o()?"Xclose":"menu"},size:24,get color(){return o()?"var(--background-red-ssg)":"var(--hrm-palette-neutral30)"}})),yt(()=>_r(x,`icon_status centerBx ${o()?"menu":"Xclose"}`)),w})()]}}),Se(Ze,{get when(){return!Dn()},get children(){var w=bu(),x=w.firstChild;return Te(w,Se(Ze,{get when(){return Zr?.roles?.SEARCH?.isActive},get children(){return yu()}}),x),Te(w,Se(Ze,{get when(){return Zr?.roles?.SCANING?.isActive},get children(){return vu()}}),x),Te(w,Se(Ze,{get when(){return Zr?.roles?.MANIFEST?.isActive},get children(){return Eu()}}),x),w}}),(()=>{var w=_u(),x=w.firstChild;return w.$$click=h,yt(()=>Jt(x,"src",$0())),w})()]}}),null),f})()}hr(["click"]);var Du=We("<div style=padding:4px>"),Tu=We('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround ">'),Bu=We('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div style="width:94vw;margin:0 auto;">'),Nu=We("<div> <!>."),Ou=We("<div> "),Mu=We("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),Ru=We("<h5 class=totalBagsNo> <!> / "),Fu=We('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),Lu=We("<div class=leftMrg> ");function ku(){const[o,l]=Ht({search:"",status:""}),[a,u]=Ht({}),[h,f]=Je(""),[p,C]=Je(""),w=tn(f,400),x=(S,_)=>{l({[S]:_}),w(Kt())};Sr(()=>{}),Jr(()=>{});const[m,{refetch:A}]=Ii(h,async S=>{let _=o?.manifest?.id;if(p()!==_){C(_);const R=await Hu(_);u(R)}const E=await Uu(o.search,_,o.status);return so(E)}),b=()=>m()?.length;return(()=>{var S=Bu(),_=S.firstChild,E=_.nextSibling,D=E.firstChild,R=E.nextSibling;return Te(D,Se(lo,{list:ma,lbl_empty:"Manifiesto",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return o?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:B=>x("manifest",B),width:"260px"})),Te(E,Se(Ze,{get when(){return o?.manifest?.id},get children(){var B=Du();return Te(B,Se(to,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return o?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:N=>x("search",N)})),B}}),null),Te(R,Se(Ze,{get when(){return o?.manifest?.id},get children(){var B=Tu(),N=B.firstChild;return Te(N,Se(Ze,{get when(){return a?.total},get children(){return Se($n,{get each(){return Xn(a)},children:(M,J)=>Se(Pu,{keyG:M,total:b,get status(){return o.status},get amount(){return a?.[M]},updForm:x})})}})),B}}),null),Te(R,Se(ia,{fallback:B=>(()=>{var N=Nu(),M=N.firstChild,J=M.nextSibling;return J.nextSibling,Te(N,()=>B.toString(),J),N})(),get children(){return Se(ei,{get fallback(){return(()=>{var B=Ou();return B.firstChild,Te(B,Se(mo,{stroke:"rgb(200 25 60 / 1)",size:62}),null),B})()},get children(){return Se(Ze,{get when(){return m()},get children(){return Se($n,{get each(){return m()},children:B=>[Se(Ze,{get when(){return!Dn()},get children(){return Se(H1,{item:B})}}),Se(Ze,{get when(){return Dn()},get children(){return Se(lu,{item:B})}})]})}})}})}}),null),yt(()=>_r(S,Mi.App)),S})()}const Pu=o=>{const[l,a]=Je(!1),[u,h]=Je(0),f=()=>{let w=o?.keyG;o?.keyG==="total"&&(w=null),o?.updForm("status",w)},p=()=>{l()||!Dn()&&o?.keyG!=="total"&&(h(Wo?.[o?.keyG]?.length*8.5+"px"),a(!0))},C=()=>{h("0px"),l()&&a(!1)};return Se(Ze,{get when(){return o?.amount>0},get children(){return Se(ei,{get fallback(){return(()=>{var w=Lu();return w.firstChild,Te(w,Se(mo,{stroke:"rgb(200 25 60 / 1)",size:32}),null),w})()},get children(){var w=Fu(),x=w.firstChild,m=x.nextSibling;return w.$$mouseout=C,w.$$mousemove=p,w.$$click=f,Te(w,Se(Ze,{get when(){return l()},get children(){var A=Mu(),b=A.firstChild,S=b.firstChild,_=S.firstChild;return Te(_,()=>Wo?.[o?.keyG]),yt(E=>(E=u())!=null?b.style.setProperty("width",E):b.style.removeProperty("width")),A}}),x),Te(x,Se(sr,{get name(){return ro?.[o?.keyG]},size:22})),Te(w,Se(Ze,{get when(){return o?.keyG==="total"},get children(){var A=Ru(),b=A.firstChild,S=b.nextSibling;return S.nextSibling,Te(A,()=>o?.total(),S),A}}),m),Te(m,()=>o?.amount),yt(()=>_r(w,`resumeStatus centerBx witXs  ${o?.status===o?.keyG?"active":""}`)),w}})}})},Uu=async(o,l,a)=>{let u={params:{idairguide:l,":status":a},query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4 AND !* contain :search5 AND currentStatus = :status"};if(o&&o.split(" ").map((h,f)=>{h&&(u.params[":search"+f]=h.trim())}),l&&Object.keys(u.params).length>=2){const h=await dn(u);return console.log(h),h?.data?.error?{}:h?.data}return{}},Hu=async o=>{const a=await dn({params:{idairguide:o},query:"getGroupStatusLogisticYabaExpress"});return console.log(a),a?.data?.error?{}:a?.data};hr(["click","mousemove","mouseout"]);var Xe;(function(o){o[o.QR_CODE=0]="QR_CODE",o[o.AZTEC=1]="AZTEC",o[o.CODABAR=2]="CODABAR",o[o.CODE_39=3]="CODE_39",o[o.CODE_93=4]="CODE_93",o[o.CODE_128=5]="CODE_128",o[o.DATA_MATRIX=6]="DATA_MATRIX",o[o.MAXICODE=7]="MAXICODE",o[o.ITF=8]="ITF",o[o.EAN_13=9]="EAN_13",o[o.EAN_8=10]="EAN_8",o[o.PDF_417=11]="PDF_417",o[o.RSS_14=12]="RSS_14",o[o.RSS_EXPANDED=13]="RSS_EXPANDED",o[o.UPC_A=14]="UPC_A",o[o.UPC_E=15]="UPC_E",o[o.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xe||(Xe={}));var Bs=new Map([[Xe.QR_CODE,"QR_CODE"],[Xe.AZTEC,"AZTEC"],[Xe.CODABAR,"CODABAR"],[Xe.CODE_39,"CODE_39"],[Xe.CODE_93,"CODE_93"],[Xe.CODE_128,"CODE_128"],[Xe.DATA_MATRIX,"DATA_MATRIX"],[Xe.MAXICODE,"MAXICODE"],[Xe.ITF,"ITF"],[Xe.EAN_13,"EAN_13"],[Xe.EAN_8,"EAN_8"],[Xe.PDF_417,"PDF_417"],[Xe.RSS_14,"RSS_14"],[Xe.RSS_EXPANDED,"RSS_EXPANDED"],[Xe.UPC_A,"UPC_A"],[Xe.UPC_E,"UPC_E"],[Xe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Ns;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.URL=1]="URL"})(Ns||(Ns={}));function zu(o){return Object.values(Xe).includes(o)}var Kr;(function(o){o[o.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",o[o.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Kr||(Kr={}));var br=function(){function o(){}return o.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",o.SCAN_DEFAULT_FPS=2,o.DEFAULT_DISABLE_FLIP=!1,o.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,o.DEFAULT_SUPPORTED_SCAN_TYPE=[Kr.SCAN_TYPE_CAMERA,Kr.SCAN_TYPE_FILE],o}(),za=function(){function o(l,a){this.format=l,this.formatName=a}return o.prototype.toString=function(){return this.formatName},o.create=function(l){if(!Bs.has(l))throw"".concat(l," not in html5QrcodeSupportedFormatsTextMap");return new o(l,Bs.get(l))},o}(),Os=function(){function o(){}return o.createFromText=function(l){var a={text:l};return{decodedText:l,result:a}},o.createFromQrcodeResult=function(l){return{decodedText:l.text,result:l}},o}(),Z0;(function(o){o[o.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",o[o.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",o[o.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Z0||(Z0={}));var ja=function(){function o(){}return o.createFrom=function(l){return{errorMessage:l,type:Z0.UNKWOWN_ERROR}},o}(),Wa=function(){function o(l){this.verbose=l}return o.prototype.log=function(l){this.verbose&&console.log(l)},o.prototype.warn=function(l){this.verbose&&console.warn(l)},o.prototype.logError=function(l,a){(this.verbose||a===!0)&&console.error(l)},o.prototype.logErrors=function(l){if(l.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(l)},o}();function Mr(o){return typeof o>"u"||o===null}function ju(o,l,a){return o>a?a:o<l?l:o}var bn=function(){function o(){}return o.codeParseError=function(l){return"QR code parse error, error = ".concat(l)},o.errorGettingUserMedia=function(l){return"Error getting userMedia, error = ".concat(l)},o.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},o.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},o.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},o.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},o.scannerPaused=function(){return"Scanner paused"},o}(),mt=function(){function o(){}return o.scanningStatus=function(){return"Scanning"},o.idleStatus=function(){return"Idle"},o.errorStatus=function(){return"Error"},o.permissionStatus=function(){return"Permission"},o.noCameraFoundErrorStatus=function(){return"No Cameras"},o.lastMatch=function(l){return"Last Match: ".concat(l)},o.codeScannerTitle=function(){return"Code Scanner"},o.cameraPermissionTitle=function(){return"Request Camera Permissions"},o.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},o.noCameraFound=function(){return"No camera found"},o.scanButtonStopScanningText=function(){return"Stop Scanning"},o.scanButtonStartScanningText=function(){return"Start Scanning"},o.torchOnButton=function(){return"Switch On Torch"},o.torchOffButton=function(){return"Switch Off Torch"},o.torchOnFailedMessage=function(){return"Failed to turn on torch"},o.torchOffFailedMessage=function(){return"Failed to turn off torch"},o.scanButtonScanningStarting=function(){return"Launching Camera..."},o.textIfCameraScanSelected=function(){return"Scan an Image File"},o.textIfFileScanSelected=function(){return"Scan using camera directly"},o.selectCamera=function(){return"Select Camera"},o.fileSelectionChooseImage=function(){return"Choose Image"},o.fileSelectionChooseAnother=function(){return"Choose Another"},o.fileSelectionNoImageSelected=function(){return"No image choosen"},o.anonymousCameraPrefix=function(){return"Anonymous Camera"},o.dragAndDropMessage=function(){return"Or drop an image to scan"},o.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},o.zoom=function(){return"zoom"},o.loadingImage=function(){return"Loading image..."},o.cameraScanAltText=function(){return"Camera based scan"},o.fileScanAltText=function(){return"Fule based scan"},o}(),Ms=function(){function o(){}return o.poweredBy=function(){return"Powered by "},o.reportIssues=function(){return"Report issues"},o}(),Va=function(){function o(){}return o.isMediaStreamConstraintsValid=function(l,a){if(typeof l!="object"){var u=typeof l;return a.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(u,"."),!0),!1}for(var h=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],f=new Set(h),p=Object.keys(l),C=0,w=p;C<w.length;C++){var x=w[C];if(f.has(x))return a.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},o}(),Q0={exports:{}};(function(o,l){(function(a,u){u(l)})(et,function(a){function u(I){return I==null}var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,e){I.__proto__=e}||function(I,e){for(var t in e)e.hasOwnProperty(t)&&(I[t]=e[t])};function f(I,e){h(I,e);function t(){this.constructor=I}I.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function p(I,e){var t=Object.setPrototypeOf;t?t(I,e):I.__proto__=e}function C(I,e){e===void 0&&(e=I.constructor);var t=Error.captureStackTrace;t&&t(I,e)}var w=function(I){f(e,I);function e(t){var r=this.constructor,n=I.call(this,t)||this;return Object.defineProperty(n,"name",{value:r.name,enumerable:!1}),p(n,r.prototype),C(n),n}return e}(Error);class x extends w{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}x.kind="Exception";class m extends x{}m.kind="ArgumentException";class A extends x{}A.kind="IllegalArgumentException";class b{constructor(e){if(this.binarizer=e,e===null)throw new A("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,n){const i=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new b(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new b(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new b(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends x{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class _{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class E{static arraycopy(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}static currentTimeMillis(){return Date.now()}}class D extends x{}D.kind="IndexOutOfBoundsException";class R extends D{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}R.kind="ArrayIndexOutOfBoundsException";class B{static fill(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t}static fillWithin(e,t,r,n){B.rangeCheck(e.length,t,r);for(let i=t;i<r;i++)e[i]=n}static rangeCheck(e,t,r){if(t>r)throw new A("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new R(t);if(r>e)throw new R(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map(i=>Array.from({length:t}).fill(r))}static createInt32Array(e,t,r){return Array.from({length:e}).map(i=>Int32Array.from({length:t}).fill(r))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const n=r-t,i=new Int32Array(n);return E.arraycopy(e,t,i,0,n),i}static binarySearch(e,t,r){r===void 0&&(r=B.numberComparator);let n=0,i=e.length-1;for(;n<=i;){const s=i+n>>1,c=r(t,e[s]);if(c>0)n=s+1;else if(c<0)i=s-1;else return s}return-n-1}static numberComparator(e,t){return e-t}}class N{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let r=31;return t=e<<16,t!==0&&(r-=16,e=t),t=e<<8,t!==0&&(r-=8,e=t),t=e<<4,t!==0&&(r-=4,e=t),t=e<<2,t!==0&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=M.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=M.makeArray(e);E.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=r[n];i&=~((1<<(e&31))-1);const s=r.length;for(;i===0;){if(++n===s)return t;i=r[n]}const c=n*32+N.numberOfTrailingZeros(i);return c>t?t:c}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=~r[n];i&=~((1<<(e&31))-1);const s=r.length;for(;i===0;){if(++n===s)return t;i=~r[n]}const c=n*32+N.numberOfTrailingZeros(i);return c>t?t:c}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new A;if(t===e)return;t--;const r=Math.floor(e/32),n=Math.floor(t/32),i=this.bits;for(let s=r;s<=n;s++){const c=s>r?0:e&31,g=(2<<(s<n?31:t&31))-(1<<c);i[s]|=g}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new A;if(t===e)return!0;t--;const n=Math.floor(e/32),i=Math.floor(t/32),s=this.bits;for(let c=n;c<=i;c++){const d=c>n?0:e&31,y=(2<<(c<i?31:t&31))-(1<<d)&4294967295;if((s[c]&y)!==(r?y:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new A("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit((e>>r-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new A("Sizes don't match");const t=this.bits;for(let r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]}toBytes(e,t,r,n){for(let i=0;i<n;i++){let s=0;for(let c=0;c<8;c++)this.get(e)&&(s|=1<<7-c),e++;t[r+i]=s}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits;for(let i=0;i<r;i++){let s=n[i];s=s>>1&1431655765|(s&1431655765)<<1,s=s>>2&858993459|(s&858993459)<<2,s=s>>4&252645135|(s&252645135)<<4,s=s>>8&16711935|(s&16711935)<<8,s=s>>16&65535|(s&65535)<<16,e[t-i]=s}if(this.size!==r*32){const i=r*32-this.size;let s=e[0]>>>i;for(let c=1;c<r;c++){const d=e[c];s|=d<<32-i,e[c-1]=s,s=d>>>i}e[r-1]=s}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof M))return!1;const t=e;return this.size===t.size&&B.equals(this.bits,t.bits)}hashCode(){return 31*this.size+B.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)t&7||(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new M(this.size,this.bits.slice())}}var J;(function(I){I[I.OTHER=0]="OTHER",I[I.PURE_BARCODE=1]="PURE_BARCODE",I[I.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",I[I.TRY_HARDER=3]="TRY_HARDER",I[I.CHARACTER_SET=4]="CHARACTER_SET",I[I.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",I[I.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",I[I.ASSUME_GS1=7]="ASSUME_GS1",I[I.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",I[I.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",I[I.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(J||(J={}));var $=J;class j extends x{static getFormatInstance(){return new j}}j.kind="FormatException";var ce;(function(I){I[I.Cp437=0]="Cp437",I[I.ISO8859_1=1]="ISO8859_1",I[I.ISO8859_2=2]="ISO8859_2",I[I.ISO8859_3=3]="ISO8859_3",I[I.ISO8859_4=4]="ISO8859_4",I[I.ISO8859_5=5]="ISO8859_5",I[I.ISO8859_6=6]="ISO8859_6",I[I.ISO8859_7=7]="ISO8859_7",I[I.ISO8859_8=8]="ISO8859_8",I[I.ISO8859_9=9]="ISO8859_9",I[I.ISO8859_10=10]="ISO8859_10",I[I.ISO8859_11=11]="ISO8859_11",I[I.ISO8859_13=12]="ISO8859_13",I[I.ISO8859_14=13]="ISO8859_14",I[I.ISO8859_15=14]="ISO8859_15",I[I.ISO8859_16=15]="ISO8859_16",I[I.SJIS=16]="SJIS",I[I.Cp1250=17]="Cp1250",I[I.Cp1251=18]="Cp1251",I[I.Cp1252=19]="Cp1252",I[I.Cp1256=20]="Cp1256",I[I.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",I[I.UTF8=22]="UTF8",I[I.ASCII=23]="ASCII",I[I.Big5=24]="Big5",I[I.GB18030=25]="GB18030",I[I.EUC_KR=26]="EUC_KR"})(ce||(ce={}));class ae{constructor(e,t,r,...n){this.valueIdentifier=e,this.name=r,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=n,ae.VALUE_IDENTIFIER_TO_ECI.set(e,this),ae.NAME_TO_ECI.set(r,this);const i=this.values;for(let s=0,c=i.length;s!==c;s++){const d=i[s];ae.VALUES_TO_ECI.set(d,this)}for(const s of n)ae.NAME_TO_ECI.set(s,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new j("incorect value");const t=ae.VALUES_TO_ECI.get(e);if(t===void 0)throw new j("incorect value");return t}static getCharacterSetECIByName(e){const t=ae.NAME_TO_ECI.get(e);if(t===void 0)throw new j("incorect value");return t}equals(e){if(!(e instanceof ae))return!1;const t=e;return this.getName()===t.getName()}}ae.VALUE_IDENTIFIER_TO_ECI=new Map,ae.VALUES_TO_ECI=new Map,ae.NAME_TO_ECI=new Map,ae.Cp437=new ae(ce.Cp437,Int32Array.from([0,2]),"Cp437"),ae.ISO8859_1=new ae(ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ae.ISO8859_2=new ae(ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ae.ISO8859_3=new ae(ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ae.ISO8859_4=new ae(ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ae.ISO8859_5=new ae(ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ae.ISO8859_6=new ae(ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ae.ISO8859_7=new ae(ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ae.ISO8859_8=new ae(ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ae.ISO8859_9=new ae(ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ae.ISO8859_10=new ae(ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ae.ISO8859_11=new ae(ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ae.ISO8859_13=new ae(ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ae.ISO8859_14=new ae(ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ae.ISO8859_15=new ae(ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ae.ISO8859_16=new ae(ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ae.SJIS=new ae(ce.SJIS,20,"SJIS","Shift_JIS"),ae.Cp1250=new ae(ce.Cp1250,21,"Cp1250","windows-1250"),ae.Cp1251=new ae(ce.Cp1251,22,"Cp1251","windows-1251"),ae.Cp1252=new ae(ce.Cp1252,23,"Cp1252","windows-1252"),ae.Cp1256=new ae(ce.Cp1256,24,"Cp1256","windows-1256"),ae.UnicodeBigUnmarked=new ae(ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ae.UTF8=new ae(ce.UTF8,26,"UTF8","UTF-8"),ae.ASCII=new ae(ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ae.Big5=new ae(ce.Big5,28,"Big5"),ae.GB18030=new ae(ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ae.EUC_KR=new ae(ce.EUC_KR,30,"EUC_KR","EUC-KR");class ie extends x{}ie.kind="UnsupportedOperationException";class fe{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!fe.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof ae?e:ae.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(fe.isDecodeFallbackSupported(r)){let n="";for(let i=0,s=e.length;i<s;i++){let c=e[i].toString(16);c.length<2&&(c="0"+c),n+="%"+c}return decodeURIComponent(n)}if(r.equals(ae.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new ie(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(ae.UTF8)||e.equals(ae.ISO8859_1)||e.equals(ae.ASCII)}static encodeFallback(e){const r=btoa(unescape(encodeURIComponent(e))).split(""),n=[];for(let i=0;i<r.length;i++)n.push(r[i].charCodeAt(0));return new Uint8Array(n)}}class he{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return fe.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(t!=null&&t.get($.CHARACTER_SET)!==void 0)return t.get($.CHARACTER_SET).toString();const r=e.length;let n=!0,i=!0,s=!0,c=0,d=0,g=0,y=0,T=0,O=0,H=0,ne=0,se=0,Ce=0,_e=0;const Pe=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let Ue=0;Ue<r&&(n||i||s);Ue++){const ke=e[Ue]&255;s&&(c>0?ke&128?c--:s=!1:ke&128&&(ke&64?(c++,ke&32?(c++,ke&16?(c++,ke&8?s=!1:y++):g++):d++):s=!1)),n&&(ke>127&&ke<160?n=!1:ke>159&&(ke<192||ke===215||ke===247)&&_e++),i&&(T>0?ke<64||ke===127||ke>252?i=!1:T--:ke===128||ke===160||ke>239?i=!1:ke>160&&ke<224?(O++,ne=0,H++,H>se&&(se=H)):ke>127?(T++,H=0,ne++,ne>Ce&&(Ce=ne)):(H=0,ne=0))}return s&&c>0&&(s=!1),i&&T>0&&(i=!1),s&&(Pe||d+g+y>0)?he.UTF8:i&&(he.ASSUME_SHIFT_JIS||se>=3||Ce>=3)?he.SHIFT_JIS:n&&i?se===2&&O===2||_e*10>=r?he.SHIFT_JIS:he.ISO88591:n?he.ISO88591:i?he.SHIFT_JIS:s?he.UTF8:he.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function n(s,c,d,g,y,T){if(s==="%%")return"%";if(t[++r]===void 0)return;s=g?parseInt(g.substr(1)):void 0;let O=y?parseInt(y.substr(1)):void 0,H;switch(T){case"s":H=t[r];break;case"c":H=t[r][0];break;case"f":H=parseFloat(t[r]).toFixed(s);break;case"p":H=parseFloat(t[r]).toPrecision(s);break;case"e":H=parseFloat(t[r]).toExponential(s);break;case"x":H=parseInt(t[r]).toString(O||16);break;case"d":H=parseFloat(parseInt(t[r],O||10).toPrecision(s)).toFixed(0);break}H=typeof H=="object"?JSON.stringify(H):(+H).toString(O);let ne=parseInt(d),se=d&&d[0]+""=="0"?"0":" ";for(;H.length<ne;)H=c!==void 0?H+se:se+H;return H}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}static getBytes(e,t){return fe.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}he.SHIFT_JIS=ae.SJIS.getName(),he.GB2312="GB2312",he.ISO88591=ae.ISO8859_1.getName(),he.EUC_JP="EUC_JP",he.UTF8=ae.UTF8.getName(),he.PLATFORM_DEFAULT_ENCODING=he.UTF8,he.ASSUME_SHIFT_JIS=!1;class z{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=he.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let n=t;t<t+r;n++)this.append(e[n]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class re{constructor(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,t==null&&(t=e),this.height=t,e<1||t<1)throw new A("Both dimensions must be greater than 0");r==null&&(r=Math.floor((e+31)/32)),this.rowSize=r,n==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,n=new re(r,t);for(let i=0;i<t;i++){const s=e[i];for(let c=0;c<r;c++)s[c]&&n.set(c,i)}return n}static parseFromString(e,t,r){if(e===null)throw new A("stringRepresentation cannot be null");const n=new Array(e.length);let i=0,s=0,c=-1,d=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(i>s){if(c===-1)c=i-s;else if(i-s!==c)throw new A("row lengths do not match");s=i,d++}g++}else if(e.substring(g,g+t.length)===t)g+=t.length,n[i]=!0,i++;else if(e.substring(g,g+r.length)===r)g+=r.length,n[i]=!1,i++;else throw new A("illegal character encountered: "+e.substring(g));if(i>s){if(c===-1)c=i-s;else if(i-s!==c)throw new A("row lengths do not match");d++}const y=new re(c,d);for(let T=0;T<i;T++)n[T]&&y.set(Math.floor(T%c),Math.floor(T/c));return y}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return(this.bits[r]>>>(e&31)&1)!==0}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(e&31)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(e&31)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new A("input matrix dimensions do not match");const t=new M(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let i=0,s=this.height;i<s;i++){const c=i*r,d=e.getRow(i,t).getBitArray();for(let g=0;g<r;g++)n[c+g]^=d[g]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,n){if(t<0||e<0)throw new A("Left and top must be nonnegative");if(n<1||r<1)throw new A("Height and width must be at least 1");const i=e+r,s=t+n;if(s>this.height||i>this.width)throw new A("The region must fit inside the matrix");const c=this.rowSize,d=this.bits;for(let g=t;g<s;g++){const y=g*c;for(let T=e;T<i;T++)d[y+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new M(this.width):t.clear();const r=this.rowSize,n=this.bits,i=e*r;for(let s=0;s<r;s++)t.setBulk(s*32,n[i+s]);return t}setRow(e,t){E.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new M(e),n=new M(e);for(let i=0,s=Math.floor((t+1)/2);i<s;i++)r=this.getRow(i,r),n=this.getRow(t-1-i,n),r.reverse(),n.reverse(),this.setRow(i,n),this.setRow(t-1-i,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,n=this.bits;let i=e,s=t,c=-1,d=-1;for(let g=0;g<t;g++)for(let y=0;y<r;y++){const T=n[g*r+y];if(T!==0){if(g<s&&(s=g),g>d&&(d=g),y*32<i){let O=0;for(;!(T<<31-O&4294967295);)O++;y*32+O<i&&(i=y*32+O)}if(y*32+31>c){let O=31;for(;!(T>>>O);)O--;y*32+O>c&&(c=y*32+O)}}}return c<i||d<s?null:Int32Array.from([i,s,c-i+1,d-s+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&t[r]===0;)r++;if(r===t.length)return null;const n=r/e;let i=r%e*32;const s=t[r];let c=0;for(;!(s<<31-c&4294967295);)c++;return i+=c,Int32Array.from([i,n])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&t[r]===0;)r--;if(r<0)return null;const n=Math.floor(r/e);let i=Math.floor(r%e)*32;const s=t[r];let c=31;for(;!(s>>>c);)c--;return i+=c,Int32Array.from([i,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof re))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&B.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+B.hashCode(this.bits),e}toString(e="X ",t="  ",r=`
`){return this.buildToString(e,t,r)}buildToString(e,t,r){let n=new z;for(let i=0,s=this.height;i<s;i++){for(let c=0,d=this.width;c<d;c++)n.append(this.get(c,i)?e:t);n.append(r)}return n.toString()}clone(){return new re(this.width,this.height,this.rowSize,this.bits.slice())}}class L extends x{static getNotFoundInstance(){return new L}}L.kind="NotFoundException";class ue extends _{constructor(e){super(e),this.luminances=ue.EMPTY,this.buckets=new Int32Array(ue.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),n=r.getWidth();t==null||t.getSize()<n?t=new M(n):t.clear(),this.initArrays(n);const i=r.getRow(e,this.luminances),s=this.buckets;for(let d=0;d<n;d++)s[(i[d]&255)>>ue.LUMINANCE_SHIFT]++;const c=ue.estimateBlackPoint(s);if(n<3)for(let d=0;d<n;d++)(i[d]&255)<c&&t.set(d);else{let d=i[0]&255,g=i[1]&255;for(let y=1;y<n-1;y++){const T=i[y+1]&255;(g*4-d-T)/2<c&&t.set(y),d=g,g=T}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),n=new re(t,r);this.initArrays(t);const i=this.buckets;for(let d=1;d<5;d++){const g=Math.floor(r*d/5),y=e.getRow(g,this.luminances),T=Math.floor(t*4/5);for(let O=Math.floor(t/5);O<T;O++){const H=y[O]&255;i[H>>ue.LUMINANCE_SHIFT]++}}const s=ue.estimateBlackPoint(i),c=e.getMatrix();for(let d=0;d<r;d++){const g=d*t;for(let y=0;y<t;y++)(c[g+y]&255)<s&&n.set(y,d)}return n}createBinarizer(e){return new ue(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<ue.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,n=0,i=0;for(let y=0;y<t;y++)e[y]>i&&(n=y,i=e[y]),e[y]>r&&(r=e[y]);let s=0,c=0;for(let y=0;y<t;y++){const T=y-n,O=e[y]*T*T;O>c&&(s=y,c=O)}if(n>s){const y=n;n=s,s=y}if(s-n<=t/16)throw new L;let d=s-1,g=-1;for(let y=s-1;y>n;y--){const T=y-n,O=T*T*(s-y)*(r-e[y]);O>g&&(d=y,g=O)}return d<<ue.LUMINANCE_SHIFT}}ue.LUMINANCE_BITS=5,ue.LUMINANCE_SHIFT=8-ue.LUMINANCE_BITS,ue.LUMINANCE_BUCKETS=1<<ue.LUMINANCE_BITS,ue.EMPTY=Uint8ClampedArray.from([0]);class K extends ue{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=K.MINIMUM_DIMENSION&&r>=K.MINIMUM_DIMENSION){const n=e.getMatrix();let i=t>>K.BLOCK_SIZE_POWER;t&K.BLOCK_SIZE_MASK&&i++;let s=r>>K.BLOCK_SIZE_POWER;r&K.BLOCK_SIZE_MASK&&s++;const c=K.calculateBlackPoints(n,i,s,t,r),d=new re(t,r);K.calculateThresholdForBlock(n,i,s,t,r,c,d),this.matrix=d}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new K(e)}static calculateThresholdForBlock(e,t,r,n,i,s,c){const d=i-K.BLOCK_SIZE,g=n-K.BLOCK_SIZE;for(let y=0;y<r;y++){let T=y<<K.BLOCK_SIZE_POWER;T>d&&(T=d);const O=K.cap(y,2,r-3);for(let H=0;H<t;H++){let ne=H<<K.BLOCK_SIZE_POWER;ne>g&&(ne=g);const se=K.cap(H,2,t-3);let Ce=0;for(let Pe=-2;Pe<=2;Pe++){const Ue=s[O+Pe];Ce+=Ue[se-2]+Ue[se-1]+Ue[se]+Ue[se+1]+Ue[se+2]}const _e=Ce/25;K.thresholdBlock(e,ne,T,_e,n,c)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,n,i,s){for(let c=0,d=r*i+t;c<K.BLOCK_SIZE;c++,d+=i)for(let g=0;g<K.BLOCK_SIZE;g++)(e[d+g]&255)<=n&&s.set(t+g,r+c)}static calculateBlackPoints(e,t,r,n,i){const s=i-K.BLOCK_SIZE,c=n-K.BLOCK_SIZE,d=new Array(r);for(let g=0;g<r;g++){d[g]=new Int32Array(t);let y=g<<K.BLOCK_SIZE_POWER;y>s&&(y=s);for(let T=0;T<t;T++){let O=T<<K.BLOCK_SIZE_POWER;O>c&&(O=c);let H=0,ne=255,se=0;for(let _e=0,Pe=y*n+O;_e<K.BLOCK_SIZE;_e++,Pe+=n){for(let Ue=0;Ue<K.BLOCK_SIZE;Ue++){const ke=e[Pe+Ue]&255;H+=ke,ke<ne&&(ne=ke),ke>se&&(se=ke)}if(se-ne>K.MIN_DYNAMIC_RANGE)for(_e++,Pe+=n;_e<K.BLOCK_SIZE;_e++,Pe+=n)for(let Ue=0;Ue<K.BLOCK_SIZE;Ue++)H+=e[Pe+Ue]&255}let Ce=H>>K.BLOCK_SIZE_POWER*2;if(se-ne<=K.MIN_DYNAMIC_RANGE&&(Ce=ne/2,g>0&&T>0)){const _e=(d[g-1][T]+2*d[g][T-1]+d[g-1][T-1])/4;ne<_e&&(Ce=_e)}d[g][T]=Ce}}return d}}K.BLOCK_SIZE_POWER=3,K.BLOCK_SIZE=1<<K.BLOCK_SIZE_POWER,K.BLOCK_SIZE_MASK=K.BLOCK_SIZE-1,K.MINIMUM_DIMENSION=K.BLOCK_SIZE*5,K.MIN_DYNAMIC_RANGE=24;class ye{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,n){throw new ie("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ie("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ie("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new z;for(let r=0;r<this.height;r++){const n=this.getRow(r,e);for(let i=0;i<this.width;i++){const s=n[i]&255;let c;s<64?c="#":s<128?c="+":s<192?c=".":c=" ",t.append(c)}t.append(`
`)}return t.toString()}}class Be extends ye{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),n=this.getWidth();for(let i=0;i<n;i++)r[i]=255-(r[i]&255);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let n=0;n<t;n++)r[n]=255-(e[n]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,n){return new Be(this.delegate.crop(e,t,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Be(this.delegate.rotateCounterClockwise45())}}class Ie extends ye{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Ie.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return Ie.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const n=new Uint8ClampedArray(t*r);for(let i=0,s=0,c=e.length;i<c;i+=4,s++){let d;if(e[i+3]===0)d=255;else{const y=e[i],T=e[i+1],O=e[i+2];d=306*y+601*T+117*O+512>>10}n[s]=d}return n}getRow(e,t){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const r=this.getWidth(),n=e*r;return t===null?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,n){return super.crop(e,t,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),n=e*Ie.DEGREE_TO_RADIANS,i=this.canvas.width,s=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*s),d=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*s);return t.width=c,t.height=d,r.translate(c/2,d/2),r.rotate(n),r.drawImage(this.canvas,i/-2,s/-2),this.buffer=Ie.makeBufferFromCanvasImageData(t),this}invert(){return new Be(this)}}Ie.DEGREE_TO_RADIANS=Math.PI/180;class de{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ge=(globalThis||et||self||window||void 0)&&(globalThis||et||self||window||void 0).__awaiter||function(I,e,t,r){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function c(y){try{g(r.next(y))}catch(T){s(T)}}function d(y){try{g(r.throw(y))}catch(T){s(T)}}function g(y){y.done?i(y.value):n(y.value).then(c,d)}g((r=r.apply(I,e||[])).next())})};class X{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return ge(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const n=r.kind==="video"?"videoinput":r.kind;if(n!=="videoinput")continue;const i=r.deviceId||r.id,s=r.label||`Video device ${t.length+1}`,c=r.groupId,d={deviceId:i,label:s,kind:n,groupId:c};t.push(d)}return t})}getVideoInputDevices(){return ge(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new de(t.deviceId,t.label))})}findDeviceById(e){return ge(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(r=>r.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return ge(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return ge(this,void 0,void 0,function*(){this.reset();let r;e?r={deviceId:{exact:e}}:r={facingMode:"environment"};const n={video:r};return yield this.decodeOnceFromConstraints(n,t)})}decodeOnceFromConstraints(e,t){return ge(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)})}decodeOnceFromStream(e,t){return ge(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,t,r){return ge(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,r)})}decodeFromVideoDevice(e,t,r){return ge(this,void 0,void 0,function*(){let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const i={video:n};return yield this.decodeFromConstraints(i,t,r)})}decodeFromConstraints(e,t,r){return ge(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(n,t,r)})}decodeFromStream(e,t,r){return ge(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(n,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return ge(this,void 0,void 0,function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((t,r)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return ge(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new m(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new m(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new m("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new m("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(e===void 0&&t===void 0)throw new m("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new m("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let r;return this.isImageLoaded(t)?r=this.decodeOnce(t,!1,!0):r=this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new m("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new m("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new m("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new m("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n}_decodeOnLoadImage(e){return new Promise((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return ge(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return ge(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const n=(i,s)=>{if(this._stopAsyncDecode){s(new L("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(e);i(c)}catch(c){const d=t&&c instanceof L,y=(c instanceof S||c instanceof j)&&r;if(d||y)return setTimeout(n,this._timeBetweenDecodingAttempts,i,s);s(c)}};return new Promise((i,s)=>n(i,s))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const n=this.decode(e);t(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(n){t(null,n);const i=n instanceof S||n instanceof j,s=n instanceof L;(i||s)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new Ie(t),n=new K(r);return new b(n)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,n;return typeof e<"u"&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class v{constructor(e,t,r=t==null?0:8*t.length,n,i,s=E.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=s,this.text=e,this.rawBytes=t,r==null?this.numBits=t==null?0:8*t.length:this.numBits=r,this.resultPoints=n,this.format=i,this.resultMetadata=null,s==null?this.timestamp=E.currentTimeMillis():this.timestamp=s}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const r=new Array(t.length+e.length);E.arraycopy(t,0,r,0,t.length),E.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var U;(function(I){I[I.AZTEC=0]="AZTEC",I[I.CODABAR=1]="CODABAR",I[I.CODE_39=2]="CODE_39",I[I.CODE_93=3]="CODE_93",I[I.CODE_128=4]="CODE_128",I[I.DATA_MATRIX=5]="DATA_MATRIX",I[I.EAN_8=6]="EAN_8",I[I.EAN_13=7]="EAN_13",I[I.ITF=8]="ITF",I[I.MAXICODE=9]="MAXICODE",I[I.PDF_417=10]="PDF_417",I[I.QR_CODE=11]="QR_CODE",I[I.RSS_14=12]="RSS_14",I[I.RSS_EXPANDED=13]="RSS_EXPANDED",I[I.UPC_A=14]="UPC_A",I[I.UPC_E=15]="UPC_E",I[I.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(U||(U={}));var F=U,G;(function(I){I[I.OTHER=0]="OTHER",I[I.ORIENTATION=1]="ORIENTATION",I[I.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",I[I.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",I[I.ISSUE_NUMBER=4]="ISSUE_NUMBER",I[I.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",I[I.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",I[I.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",I[I.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",I[I.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",I[I.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(G||(G={}));var V=G;class te{constructor(e,t,r,n,i=-1,s=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=s,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ve{exp(e){return this.expTable[e]}log(e){if(e===0)throw new A;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class W{constructor(e,t){if(t.length===0)throw new A;this.field=e;const r=t.length;if(r>1&&t[0]===0){let n=1;for(;n<r&&t[n]===0;)n++;n===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-n),E.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let r;if(e===1){r=0;for(let s=0,c=t.length;s!==c;s++){const d=t[s];r=ve.addOrSubtract(r,d)}return r}r=t[0];const n=t.length,i=this.field;for(let s=1;s<n;s++)r=ve.addOrSubtract(i.multiply(e,r),t[s]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const s=t;t=r,r=s}let n=new Int32Array(r.length);const i=r.length-t.length;E.arraycopy(r,0,n,0,i);for(let s=i;s<r.length;s++)n[s]=ve.addOrSubtract(t[s-i],r[s]);return new W(this.field,n)}multiply(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,s=new Int32Array(r+i-1),c=this.field;for(let d=0;d<r;d++){const g=t[d];for(let y=0;y<i;y++)s[d+y]=ve.addOrSubtract(s[d+y],c.multiply(g,n[y]))}return new W(c,s)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,r=this.field,n=new Int32Array(t),i=this.coefficients;for(let s=0;s<t;s++)n[s]=r.multiply(i[s],e);return new W(r,n)}multiplyByMonomial(e,t){if(e<0)throw new A;if(t===0)return this.field.getZero();const r=this.coefficients,n=r.length,i=new Int32Array(n+e),s=this.field;for(let c=0;c<n;c++)i[c]=s.multiply(r[c],t);return new W(s,i)}divide(e){if(!this.field.equals(e.field))throw new A("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new A("Divide by 0");const t=this.field;let r=t.getZero(),n=this;const i=e.getCoefficient(e.getDegree()),s=t.inverse(i);for(;n.getDegree()>=e.getDegree()&&!n.isZero();){const c=n.getDegree()-e.getDegree(),d=t.multiply(n.getCoefficient(n.getDegree()),s),g=e.multiplyByMonomial(c,d),y=t.buildMonomial(c,d);r=r.addOrSubtract(y),n=n.addOrSubtract(g)}return[r,n]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(r!==0){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),t===0||r!==1){const n=this.field.log(r);n===0?e+="1":n===1?e+="a":(e+="a^",e+=n)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class Z extends x{}Z.kind="ArithmeticException";class k extends ve{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const n=new Int32Array(t);let i=1;for(let c=0;c<t;c++)n[c]=i,i*=2,i>=t&&(i^=e,i&=t-1);this.expTable=n;const s=new Int32Array(t);for(let c=0;c<t-1;c++)s[n[c]]=c;this.logTable=s,this.zero=new W(this,Int32Array.from([0])),this.one=new W(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new A;if(t===0)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new W(this,r)}inverse(e){if(e===0)throw new Z;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}k.AZTEC_DATA_12=new k(4201,4096,1),k.AZTEC_DATA_10=new k(1033,1024,1),k.AZTEC_DATA_6=new k(67,64,1),k.AZTEC_PARAM=new k(19,16,1),k.QR_CODE_FIELD_256=new k(285,256,0),k.DATA_MATRIX_FIELD_256=new k(301,256,1),k.AZTEC_DATA_8=k.DATA_MATRIX_FIELD_256,k.MAXICODE_FIELD_64=k.AZTEC_DATA_6;class oe extends x{}oe.kind="ReedSolomonException";class me extends x{}me.kind="IllegalStateException";class Fe{constructor(e){this.field=e}decode(e,t){const r=this.field,n=new W(r,e),i=new Int32Array(t);let s=!0;for(let H=0;H<t;H++){const ne=n.evaluateAt(r.exp(H+r.getGeneratorBase()));i[i.length-1-H]=ne,ne!==0&&(s=!1)}if(s)return;const c=new W(r,i),d=this.runEuclideanAlgorithm(r.buildMonomial(t,1),c,t),g=d[0],y=d[1],T=this.findErrorLocations(g),O=this.findErrorMagnitudes(y,T);for(let H=0;H<T.length;H++){const ne=e.length-1-r.log(T[H]);if(ne<0)throw new oe("Bad error location");e[ne]=k.addOrSubtract(e[ne],O[H])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const H=e;e=t,t=H}const n=this.field;let i=e,s=t,c=n.getZero(),d=n.getOne();for(;s.getDegree()>=(r/2|0);){let H=i,ne=c;if(i=s,c=d,i.isZero())throw new oe("r_{i-1} was zero");s=H;let se=n.getZero();const Ce=i.getCoefficient(i.getDegree()),_e=n.inverse(Ce);for(;s.getDegree()>=i.getDegree()&&!s.isZero();){const Pe=s.getDegree()-i.getDegree(),Ue=n.multiply(s.getCoefficient(s.getDegree()),_e);se=se.addOrSubtract(n.buildMonomial(Pe,Ue)),s=s.addOrSubtract(i.multiplyByMonomial(Pe,Ue))}if(d=se.multiply(c).addOrSubtract(ne),s.getDegree()>=i.getDegree())throw new me("Division algorithm failed to reduce polynomial?")}const g=d.getCoefficient(0);if(g===0)throw new oe("sigmaTilde(0) was zero");const y=n.inverse(g),T=d.multiplyScalar(y),O=s.multiplyScalar(y);return[T,O]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let n=0;const i=this.field;for(let s=1;s<i.getSize()&&n<t;s++)e.evaluateAt(s)===0&&(r[n]=i.inverse(s),n++);if(n!==t)throw new oe("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,n=new Int32Array(r),i=this.field;for(let s=0;s<r;s++){const c=i.inverse(t[s]);let d=1;for(let g=0;g<r;g++)if(s!==g){const y=i.multiply(t[g],c),T=y&1?y&-2:y|1;d=i.multiply(d,T)}n[s]=i.multiply(e.evaluateAt(c),i.inverse(d)),i.getGeneratorBase()!==0&&(n[s]=i.multiply(n[s],c))}return n}}var Le;(function(I){I[I.UPPER=0]="UPPER",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.DIGIT=3]="DIGIT",I[I.PUNCT=4]="PUNCT",I[I.BINARY=5]="BINARY"})(Le||(Le={}));class Ee{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),i=Ee.convertBoolArrayToByteArray(n),s=Ee.getEncodedData(n),c=new te(i,s,null,null);return c.setNumBits(n.length),c}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=Le.UPPER,n=Le.UPPER,i="",s=0;for(;s<t;)if(n===Le.BINARY){if(t-s<5)break;let c=Ee.readCode(e,s,5);if(s+=5,c===0){if(t-s<11)break;c=Ee.readCode(e,s,11)+31,s+=11}for(let d=0;d<c;d++){if(t-s<8){s=t;break}const g=Ee.readCode(e,s,8);i+=he.castAsNonUtf8Char(g),s+=8}n=r}else{let c=n===Le.DIGIT?4:5;if(t-s<c)break;let d=Ee.readCode(e,s,c);s+=c;let g=Ee.getCharacter(n,d);g.startsWith("CTRL_")?(r=n,n=Ee.getTable(g.charAt(5)),g.charAt(6)==="L"&&(r=n)):(i+=g,n=r)}return i}static getTable(e){switch(e){case"L":return Le.LOWER;case"P":return Le.PUNCT;case"M":return Le.MIXED;case"D":return Le.DIGIT;case"B":return Le.BINARY;case"U":default:return Le.UPPER}}static getCharacter(e,t){switch(e){case Le.UPPER:return Ee.UPPER_TABLE[t];case Le.LOWER:return Ee.LOWER_TABLE[t];case Le.MIXED:return Ee.MIXED_TABLE[t];case Le.PUNCT:return Ee.PUNCT_TABLE[t];case Le.DIGIT:return Ee.DIGIT_TABLE[t];default:throw new me("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=k.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=k.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=k.AZTEC_DATA_10):(r=12,t=k.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),i=e.length/r;if(i<n)throw new j;let s=e.length%r,c=new Int32Array(i);for(let O=0;O<i;O++,s+=r)c[O]=Ee.readCode(e,s,r);try{new Fe(t).decode(c,i-n)}catch(O){throw new j(O)}let d=(1<<r)-1,g=0;for(let O=0;O<n;O++){let H=c[O];if(H===0||H===d)throw new j;(H===1||H===d-1)&&g++}let y=new Array(n*r-g),T=0;for(let O=0;O<n;O++){let H=c[O];if(H===1||H===d-1)y.fill(H>1,T,T+r-1),T+=r-1;else for(let ne=r-1;ne>=0;--ne)y[T++]=(H&1<<ne)!==0}return y}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+r*4,i=new Int32Array(n),s=new Array(this.totalBitsInLayer(r,t));if(t)for(let c=0;c<i.length;c++)i[c]=c;else{let c=n+1+2*N.truncDivision(N.truncDivision(n,2)-1,15),d=n/2,g=N.truncDivision(c,2);for(let y=0;y<d;y++){let T=y+N.truncDivision(y,15);i[d-y-1]=g-T-1,i[d+y]=g+T+1}}for(let c=0,d=0;c<r;c++){let g=(r-c)*4+(t?9:12),y=c*2,T=n-1-y;for(let O=0;O<g;O++){let H=O*2;for(let ne=0;ne<2;ne++)s[d+H+ne]=e.get(i[y+ne],i[y+O]),s[d+2*g+H+ne]=e.get(i[y+O],i[T-ne]),s[d+4*g+H+ne]=e.get(i[T-ne],i[T-O]),s[d+6*g+H+ne]=e.get(i[T-O],i[y+ne])}d+=g*8}return s}static readCode(e,t,r){let n=0;for(let i=t;i<t+r;i++)n<<=1,e[i]&&(n|=1);return n}static readByte(e,t){let r=e.length-t;return r>=8?Ee.readCode(e,t,8):Ee.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=Ee.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Ee.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ee.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ee.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ee.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ee.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ee{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,n){const i=e-r,s=t-n;return Math.sqrt(i*i+s*s)}static sum(e){let t=0;for(let r=0,n=e.length;r!==n;r++){const i=e[r];t+=i}return t}}class Q{static floatToIntBits(e){return e}}Q.MAX_VALUE=Number.MAX_SAFE_INTEGER;class q{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof q){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*Q.floatToIntBits(this.x)+Q.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]);let i,s,c;if(r>=t&&r>=n?(s=e[0],i=e[1],c=e[2]):n>=r&&n>=t?(s=e[1],i=e[0],c=e[2]):(s=e[2],i=e[0],c=e[1]),this.crossProductZ(i,s,c)<0){const d=i;i=c,c=d}e[0]=i,e[1]=s,e[2]=c}static distance(e,t){return ee.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const n=t.x,i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)}}class xe{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class le extends xe{constructor(e,t,r,n,i){super(e,t),this.compact=r,this.nbDatablocks=n,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Y{constructor(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=Y.INIT_SIZE),r==null&&(r=e.getWidth()/2|0),n==null&&(n=e.getHeight()/2|0);const i=t/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=n-i,this.downInit=n+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new L}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,i=!1,s=!0,c=!1,d=!1,g=!1,y=!1,T=!1;const O=this.width,H=this.height;for(;s;){s=!1;let ne=!0;for(;(ne||!d)&&t<O;)ne=this.containsBlackPoint(r,n,t,!1),ne?(t++,s=!0,d=!0):d||t++;if(t>=O){i=!0;break}let se=!0;for(;(se||!g)&&n<H;)se=this.containsBlackPoint(e,t,n,!0),se?(n++,s=!0,g=!0):g||n++;if(n>=H){i=!0;break}let Ce=!0;for(;(Ce||!y)&&e>=0;)Ce=this.containsBlackPoint(r,n,e,!1),Ce?(e--,s=!0,y=!0):y||e--;if(e<0){i=!0;break}let _e=!0;for(;(_e||!T)&&r>=0;)_e=this.containsBlackPoint(e,t,r,!0),_e?(r--,s=!0,T=!0):T||r--;if(r<0){i=!0;break}s&&(c=!0)}if(!i&&c){const ne=t-e;let se=null;for(let Ue=1;se===null&&Ue<ne;Ue++)se=this.getBlackPointOnSegment(e,n-Ue,e+Ue,n);if(se==null)throw new L;let Ce=null;for(let Ue=1;Ce===null&&Ue<ne;Ue++)Ce=this.getBlackPointOnSegment(e,r+Ue,e+Ue,r);if(Ce==null)throw new L;let _e=null;for(let Ue=1;_e===null&&Ue<ne;Ue++)_e=this.getBlackPointOnSegment(t,r+Ue,t-Ue,r);if(_e==null)throw new L;let Pe=null;for(let Ue=1;Pe===null&&Ue<ne;Ue++)Pe=this.getBlackPointOnSegment(t,n-Ue,t-Ue,n);if(Pe==null)throw new L;return this.centerEdges(Pe,se,_e,Ce)}else throw new L}getBlackPointOnSegment(e,t,r,n){const i=ee.round(ee.distance(e,t,r,n)),s=(r-e)/i,c=(n-t)/i,d=this.image;for(let g=0;g<i;g++){const y=ee.round(e+g*s),T=ee.round(t+g*c);if(d.get(y,T))return new q(y,T)}return null}centerEdges(e,t,r,n){const i=e.getX(),s=e.getY(),c=t.getX(),d=t.getY(),g=r.getX(),y=r.getY(),T=n.getX(),O=n.getY(),H=Y.CORR;return i<this.width/2?[new q(T-H,O+H),new q(c+H,d+H),new q(g-H,y-H),new q(i+H,s-H)]:[new q(T+H,O+H),new q(c+H,d-H),new q(g-H,y+H),new q(i-H,s-H)]}containsBlackPoint(e,t,r,n){const i=this.image;if(n){for(let s=e;s<=t;s++)if(i.get(s,r))return!0}else for(let s=e;s<=t;s++)if(i.get(r,s))return!0;return!1}}Y.INIT_SIZE=10,Y.CORR=1;class pe{static checkAndNudgePoints(e,t){const r=e.getWidth(),n=e.getHeight();let i=!0;for(let s=0;s<t.length&&i;s+=2){const c=Math.floor(t[s]),d=Math.floor(t[s+1]);if(c<-1||c>r||d<-1||d>n)throw new L;i=!1,c===-1?(t[s]=0,i=!0):c===r&&(t[s]=r-1,i=!0),d===-1?(t[s+1]=0,i=!0):d===n&&(t[s+1]=n-1,i=!0)}i=!0;for(let s=t.length-2;s>=0&&i;s-=2){const c=Math.floor(t[s]),d=Math.floor(t[s+1]);if(c<-1||c>r||d<-1||d>n)throw new L;i=!1,c===-1?(t[s]=0,i=!0):c===r&&(t[s]=r-1,i=!0),d===-1?(t[s+1]=0,i=!0):d===n&&(t[s+1]=n-1,i=!0)}}}class Ae{constructor(e,t,r,n,i,s,c,d,g){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=i,this.a32=s,this.a13=c,this.a23=d,this.a33=g}static quadrilateralToQuadrilateral(e,t,r,n,i,s,c,d,g,y,T,O,H,ne,se,Ce){const _e=Ae.quadrilateralToSquare(e,t,r,n,i,s,c,d);return Ae.squareToQuadrilateral(g,y,T,O,H,ne,se,Ce).times(_e)}transformPoints(e){const t=e.length,r=this.a11,n=this.a12,i=this.a13,s=this.a21,c=this.a22,d=this.a23,g=this.a31,y=this.a32,T=this.a33;for(let O=0;O<t;O+=2){const H=e[O],ne=e[O+1],se=i*H+d*ne+T;e[O]=(r*H+s*ne+g)/se,e[O+1]=(n*H+c*ne+y)/se}}transformPointsWithValues(e,t){const r=this.a11,n=this.a12,i=this.a13,s=this.a21,c=this.a22,d=this.a23,g=this.a31,y=this.a32,T=this.a33,O=e.length;for(let H=0;H<O;H++){const ne=e[H],se=t[H],Ce=i*ne+d*se+T;e[H]=(r*ne+s*se+g)/Ce,t[H]=(n*ne+c*se+y)/Ce}}static squareToQuadrilateral(e,t,r,n,i,s,c,d){const g=e-r+i-c,y=t-n+s-d;if(g===0&&y===0)return new Ae(r-e,i-r,e,n-t,s-n,t,0,0,1);{const T=r-i,O=c-i,H=n-s,ne=d-s,se=T*ne-O*H,Ce=(g*ne-O*y)/se,_e=(T*y-g*H)/se;return new Ae(r-e+Ce*r,c-e+_e*c,e,n-t+Ce*n,d-t+_e*d,t,Ce,_e,1)}}static quadrilateralToSquare(e,t,r,n,i,s,c,d){return Ae.squareToQuadrilateral(e,t,r,n,i,s,c,d).buildAdjoint()}buildAdjoint(){return new Ae(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ae(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Oe extends pe{sampleGrid(e,t,r,n,i,s,c,d,g,y,T,O,H,ne,se,Ce,_e,Pe,Ue){const ke=Ae.quadrilateralToQuadrilateral(n,i,s,c,d,g,y,T,O,H,ne,se,Ce,_e,Pe,Ue);return this.sampleGridWithTransform(e,t,r,ke)}sampleGridWithTransform(e,t,r,n){if(t<=0||r<=0)throw new L;const i=new re(t,r),s=new Float32Array(2*t);for(let c=0;c<r;c++){const d=s.length,g=c+.5;for(let y=0;y<d;y+=2)s[y]=y/2+.5,s[y+1]=g;n.transformPoints(s),pe.checkAndNudgePoints(e,s);try{for(let y=0;y<d;y+=2)e.get(Math.floor(s[y]),Math.floor(s[y+1]))&&i.set(y/2,c)}catch{throw new L}}return i}}class Ne{static setGridSampler(e){Ne.gridSampler=e}static getInstance(){return Ne.gridSampler}}Ne.gridSampler=new Oe;class De{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new q(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ze{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let s=r[0];r[0]=r[2],r[2]=s}this.extractParameters(r);let n=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),i=this.getMatrixCornerPoints(r);return new le(n,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new L;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let n=0;for(let s=0;s<4;s++){let c=r[(this.shift+s)%4];this.compact?(n<<=7,n+=c>>1&127):(n<<=10,n+=(c>>2&992)+(c>>1&31))}let i=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=(i>>6)+1,this.nbDataBlocks=(i&63)+1):(this.nbLayers=(i>>11)+1,this.nbDataBlocks=(i&2047)+1)}getRotation(e,t){let r=0;e.forEach((n,i,s)=>{let c=(n>>t-2<<1)+(n&1);r=(r<<3)+c}),r=((r&1)<<11)+(r>>1);for(let n=0;n<4;n++)if(N.bitCount(r^this.EXPECTED_CORNER_BITS[n])<=2)return n;throw new L}getCorrectedParameterData(e,t){let r,n;t?(r=7,n=2):(r=10,n=4);let i=r-n,s=new Int32Array(r);for(let d=r-1;d>=0;--d)s[d]=e&15,e>>=4;try{new Fe(k.AZTEC_PARAM).decode(s,i)}catch{throw new L}let c=0;for(let d=0;d<n;d++)c=(c<<4)+s[d];return c}getBullsEyeCorners(e){let t=e,r=e,n=e,i=e,s=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(t,s,1,-1),O=this.getFirstDifferent(r,s,1,1),H=this.getFirstDifferent(n,s,-1,1),ne=this.getFirstDifferent(i,s,-1,-1);if(this.nbCenterLayers>2){let se=this.distancePoint(ne,T)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(se<.75||se>1.25||!this.isWhiteOrBlackRectangle(T,O,H,ne))break}t=T,r=O,n=H,i=ne,s=!s}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new L;this.compact=this.nbCenterLayers===5;let c=new q(t.getX()+.5,t.getY()-.5),d=new q(r.getX()+.5,r.getY()+.5),g=new q(n.getX()-.5,n.getY()+.5),y=new q(i.getX()-.5,i.getY()-.5);return this.expandSquare([c,d,g,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,n;try{let c=new Y(this.image).detect();e=c[0],t=c[1],r=c[2],n=c[3]}catch{let d=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new De(d+7,g-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new De(d+7,g+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new De(d-7,g+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new De(d-7,g-7),!1,-1,-1).toResultPoint()}let i=ee.round((e.getX()+n.getX()+t.getX()+r.getX())/4),s=ee.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{let c=new Y(this.image,15,i,s).detect();e=c[0],t=c[1],r=c[2],n=c[3]}catch{e=this.getFirstDifferent(new De(i+7,s-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new De(i+7,s+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new De(i-7,s+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new De(i-7,s-7),!1,-1,-1).toResultPoint()}return i=ee.round((e.getX()+n.getX()+t.getX()+r.getX())/4),s=ee.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new De(i,s)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,n,i){let s=Ne.getInstance(),c=this.getDimension(),d=c/2-this.nbCenterLayers,g=c/2+this.nbCenterLayers;return s.sampleGrid(e,c,c,d,d,g,d,g,g,d,g,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY())}sampleLine(e,t,r){let n=0,i=this.distanceResultPoint(e,t),s=i/r,c=e.getX(),d=e.getY(),g=s*(t.getX()-e.getX())/i,y=s*(t.getY()-e.getY())/i;for(let T=0;T<r;T++)this.image.get(ee.round(c+T*g),ee.round(d+T*y))&&(n|=1<<r-T-1);return n}isWhiteOrBlackRectangle(e,t,r,n){let i=3;e=new De(e.getX()-i,e.getY()+i),t=new De(t.getX()-i,t.getY()-i),r=new De(r.getX()+i,r.getY()-i),n=new De(n.getX()+i,n.getY()+i);let s=this.getColor(n,e);if(s===0)return!1;let c=this.getColor(e,t);return c!==s||(c=this.getColor(t,r),c!==s)?!1:(c=this.getColor(r,n),c===s)}getColor(e,t){let r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,i=(t.getY()-e.getY())/r,s=0,c=e.getX(),d=e.getY(),g=this.image.get(e.getX(),e.getY()),y=Math.ceil(r);for(let O=0;O<y;O++)c+=n,d+=i,this.image.get(ee.round(c),ee.round(d))!==g&&s++;let T=s/r;return T>.1&&T<.9?0:T<=.1===g?1:-1}getFirstDifferent(e,t,r,n){let i=e.getX()+r,s=e.getY()+n;for(;this.isValid(i,s)&&this.image.get(i,s)===t;)i+=r,s+=n;for(i-=r,s-=n;this.isValid(i,s)&&this.image.get(i,s)===t;)i+=r;for(i-=r;this.isValid(i,s)&&this.image.get(i,s)===t;)s+=n;return s-=n,new De(i,s)}expandSquare(e,t,r){let n=r/(2*t),i=e[0].getX()-e[2].getX(),s=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,d=(e[0].getY()+e[2].getY())/2,g=new q(c+n*i,d+n*s),y=new q(c-n*i,d-n*s);i=e[1].getX()-e[3].getX(),s=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,d=(e[1].getY()+e[3].getY())/2;let T=new q(c+n*i,d+n*s),O=new q(c-n*i,d-n*s);return[g,T,y,O]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=ee.round(e.getX()),r=ee.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return ee.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return ee.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class He{decode(e,t=null){let r=null,n=new ze(e.getBlackMatrix()),i=null,s=null;try{let y=n.detectMirror(!1);i=y.getPoints(),this.reportFoundResultPoints(t,i),s=new Ee().decode(y)}catch(y){r=y}if(s==null)try{let y=n.detectMirror(!0);i=y.getPoints(),this.reportFoundResultPoints(t,i),s=new Ee().decode(y)}catch(y){throw r??y}let c=new v(s.getText(),s.getRawBytes(),s.getNumBits(),i,F.AZTEC,E.currentTimeMillis()),d=s.getByteSegments();d!=null&&c.putMetadata(V.BYTE_SEGMENTS,d);let g=s.getECLevel();return g!=null&&c.putMetadata(V.ERROR_CORRECTION_LEVEL,g),c}reportFoundResultPoints(e,t){if(e!=null){let r=e.get($.NEED_RESULT_POINT_CALLBACK);r!=null&&t.forEach((n,i,s)=>{r.foundPossibleResultPoint(n)})}}reset(){}}class Ye extends X{constructor(e=500){super(new He,e)}}class Ve{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get($.TRY_HARDER)===!0&&e.isRotateSupported()){const i=e.rotateCounterClockwise(),s=this.doDecode(i,t),c=s.getResultMetadata();let d=270;c!==null&&c.get(V.ORIENTATION)===!0&&(d=d+c.get(V.ORIENTATION)%360),s.putMetadata(V.ORIENTATION,d);const g=s.getResultPoints();if(g!==null){const y=i.getHeight();for(let T=0;T<g.length;T++)g[T]=new q(y-g[T].getY()-1,g[T].getX())}return s}else throw new L}}reset(){}doDecode(e,t){const r=e.getWidth(),n=e.getHeight();let i=new M(r);const s=t&&t.get($.TRY_HARDER)===!0,c=Math.max(1,n>>(s?8:5));let d;s?d=n:d=15;const g=Math.trunc(n/2);for(let y=0;y<d;y++){const T=Math.trunc((y+1)/2),O=(y&1)===0,H=g+c*(O?T:-T);if(H<0||H>=n)break;try{i=e.getBlackRow(H,i)}catch{continue}for(let ne=0;ne<2;ne++){if(ne===1&&(i.reverse(),t&&t.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const se=new Map;t.forEach((Ce,_e)=>se.set(_e,Ce)),se.delete($.NEED_RESULT_POINT_CALLBACK),t=se}try{const se=this.decodeRow(H,i,t);if(ne===1){se.putMetadata(V.ORIENTATION,180);const Ce=se.getResultPoints();Ce!==null&&(Ce[0]=new q(r-Ce[0].getX()-1,Ce[0].getY()),Ce[1]=new q(r-Ce[1].getX()-1,Ce[1].getY()))}return se}catch{}}}throw new L}static recordPattern(e,t,r){const n=r.length;for(let g=0;g<n;g++)r[g]=0;const i=e.getSize();if(t>=i)throw new L;let s=!e.get(t),c=0,d=t;for(;d<i;){if(e.get(d)!==s)r[c]++;else{if(++c===n)break;r[c]=1,s=!s}d++}if(!(c===n||c===n-1&&d===i))throw new L}static recordPatternInReverse(e,t,r){let n=r.length,i=e.get(t);for(;t>0&&n>=0;)e.get(--t)!==i&&(n--,i=!i);if(n>=0)throw new L;Ve.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const n=e.length;let i=0,s=0;for(let g=0;g<n;g++)i+=e[g],s+=t[g];if(i<s)return Number.POSITIVE_INFINITY;const c=i/s;r*=c;let d=0;for(let g=0;g<n;g++){const y=e[g],T=t[g]*c,O=y>T?y-T:T-y;if(O>r)return Number.POSITIVE_INFINITY;d+=O}return d/i}}class Re extends Ve{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let n=0,i=Int32Array.from([0,0,0,0,0,0]),s=r,c=!1;const d=6;for(let g=r;g<t;g++)if(e.get(g)!==c)i[n]++;else{if(n===d-1){let y=Re.MAX_AVG_VARIANCE,T=-1;for(let O=Re.CODE_START_A;O<=Re.CODE_START_C;O++){const H=Ve.patternMatchVariance(i,Re.CODE_PATTERNS[O],Re.MAX_INDIVIDUAL_VARIANCE);H<y&&(y=H,T=O)}if(T>=0&&e.isRange(Math.max(0,s-(g-s)/2),s,!1))return Int32Array.from([s,g,T]);s+=i[0]+i[1],i=i.slice(2,i.length-1),i[n-1]=0,i[n]=0,n--}else n++;i[n]=1,c=!c}throw new L}static decodeCode(e,t,r){Ve.recordPattern(e,r,t);let n=Re.MAX_AVG_VARIANCE,i=-1;for(let s=0;s<Re.CODE_PATTERNS.length;s++){const c=Re.CODE_PATTERNS[s],d=this.patternMatchVariance(t,c,Re.MAX_INDIVIDUAL_VARIANCE);d<n&&(n=d,i=s)}if(i>=0)return i;throw new L}decodeRow(e,t,r){const n=r&&r.get($.ASSUME_GS1)===!0,i=Re.findStartPattern(t),s=i[2];let c=0;const d=new Uint8Array(20);d[c++]=s;let g;switch(s){case Re.CODE_START_A:g=Re.CODE_CODE_A;break;case Re.CODE_START_B:g=Re.CODE_CODE_B;break;case Re.CODE_START_C:g=Re.CODE_CODE_C;break;default:throw new j}let y=!1,T=!1,O="",H=i[0],ne=i[1];const se=Int32Array.from([0,0,0,0,0,0]);let Ce=0,_e=0,Pe=s,Ue=0,ke=!0,ct=!1,nt=!1;for(;!y;){const yn=T;switch(T=!1,Ce=_e,_e=Re.decodeCode(t,se,ne),d[c++]=_e,_e!==Re.CODE_STOP&&(ke=!0),_e!==Re.CODE_STOP&&(Ue++,Pe+=Ue*_e),H=ne,ne+=se.reduce((yl,vl)=>yl+vl,0),_e){case Re.CODE_START_A:case Re.CODE_START_B:case Re.CODE_START_C:throw new j}switch(g){case Re.CODE_CODE_A:if(_e<64)nt===ct?O+=String.fromCharCode(32+_e):O+=String.fromCharCode(32+_e+128),nt=!1;else if(_e<96)nt===ct?O+=String.fromCharCode(_e-64):O+=String.fromCharCode(_e+64),nt=!1;else switch(_e!==Re.CODE_STOP&&(ke=!1),_e){case Re.CODE_FNC_1:n&&(O.length===0?O+="]C1":O+="");break;case Re.CODE_FNC_2:case Re.CODE_FNC_3:break;case Re.CODE_FNC_4_A:!ct&&nt?(ct=!0,nt=!1):ct&&nt?(ct=!1,nt=!1):nt=!0;break;case Re.CODE_SHIFT:T=!0,g=Re.CODE_CODE_B;break;case Re.CODE_CODE_B:g=Re.CODE_CODE_B;break;case Re.CODE_CODE_C:g=Re.CODE_CODE_C;break;case Re.CODE_STOP:y=!0;break}break;case Re.CODE_CODE_B:if(_e<96)nt===ct?O+=String.fromCharCode(32+_e):O+=String.fromCharCode(32+_e+128),nt=!1;else switch(_e!==Re.CODE_STOP&&(ke=!1),_e){case Re.CODE_FNC_1:n&&(O.length===0?O+="]C1":O+="");break;case Re.CODE_FNC_2:case Re.CODE_FNC_3:break;case Re.CODE_FNC_4_B:!ct&&nt?(ct=!0,nt=!1):ct&&nt?(ct=!1,nt=!1):nt=!0;break;case Re.CODE_SHIFT:T=!0,g=Re.CODE_CODE_A;break;case Re.CODE_CODE_A:g=Re.CODE_CODE_A;break;case Re.CODE_CODE_C:g=Re.CODE_CODE_C;break;case Re.CODE_STOP:y=!0;break}break;case Re.CODE_CODE_C:if(_e<100)_e<10&&(O+="0"),O+=_e;else switch(_e!==Re.CODE_STOP&&(ke=!1),_e){case Re.CODE_FNC_1:n&&(O.length===0?O+="]C1":O+="");break;case Re.CODE_CODE_A:g=Re.CODE_CODE_A;break;case Re.CODE_CODE_B:g=Re.CODE_CODE_B;break;case Re.CODE_STOP:y=!0;break}break}yn&&(g=g===Re.CODE_CODE_A?Re.CODE_CODE_B:Re.CODE_CODE_A)}const nr=ne-H;if(ne=t.getNextUnset(ne),!t.isRange(ne,Math.min(t.getSize(),ne+(ne-H)/2),!1))throw new L;if(Pe-=Ue*Ce,Pe%103!==Ce)throw new S;const vr=O.length;if(vr===0)throw new L;vr>0&&ke&&(g===Re.CODE_CODE_C?O=O.substring(0,vr-2):O=O.substring(0,vr-1));const ir=(i[1]+i[0])/2,wt=H+nr/2,Xt=d.length,ar=new Uint8Array(Xt);for(let yn=0;yn<Xt;yn++)ar[yn]=d[yn];const wn=[new q(ir,e),new q(wt,e)];return new v(O,ar,0,wn,F.CODE_128,new Date().getTime())}}Re.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Re.MAX_AVG_VARIANCE=.25,Re.MAX_INDIVIDUAL_VARIANCE=.7,Re.CODE_SHIFT=98,Re.CODE_CODE_C=99,Re.CODE_CODE_B=100,Re.CODE_CODE_A=101,Re.CODE_FNC_1=102,Re.CODE_FNC_2=97,Re.CODE_FNC_3=96,Re.CODE_FNC_4_A=101,Re.CODE_FNC_4_B=100,Re.CODE_START_A=103,Re.CODE_START_B=104,Re.CODE_START_C=105,Re.CODE_STOP=106;class ot extends Ve{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let n=this.counters;n.fill(0),this.decodeRowResult="";let i=ot.findAsteriskPattern(t,n),s=t.getNextSet(i[1]),c=t.getSize(),d,g;do{ot.recordPattern(t,s,n);let se=ot.toNarrowWidePattern(n);if(se<0)throw new L;d=ot.patternToChar(se),this.decodeRowResult+=d,g=s;for(let Ce of n)s+=Ce;s=t.getNextSet(s)}while(d!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let se of n)y+=se;let T=s-g-y;if(s!==c&&T*2<y)throw new L;if(this.usingCheckDigit){let se=this.decodeRowResult.length-1,Ce=0;for(let _e=0;_e<se;_e++)Ce+=ot.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(_e));if(this.decodeRowResult.charAt(se)!==ot.ALPHABET_STRING.charAt(Ce%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,se)}if(this.decodeRowResult.length===0)throw new L;let O;this.extendedMode?O=ot.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;let H=(i[1]+i[0])/2,ne=g+y/2;return new v(O,null,0,[new q(H,e),new q(ne,e)],F.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),n=e.getNextSet(0),i=0,s=n,c=!1,d=t.length;for(let g=n;g<r;g++)if(e.get(g)!==c)t[i]++;else{if(i===d-1){if(this.toNarrowWidePattern(t)===ot.ASTERISK_ENCODING&&e.isRange(Math.max(0,s-Math.floor((g-s)/2)),s,!1))return[s,g];s+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,c=!c}throw new L}static toNarrowWidePattern(e){let t=e.length,r=0,n;do{let i=2147483647;for(let d of e)d<i&&d>r&&(i=d);r=i,n=0;let s=0,c=0;for(let d=0;d<t;d++){let g=e[d];g>r&&(c|=1<<t-1-d,n++,s+=g)}if(n===3){for(let d=0;d<t&&n>0;d++){let g=e[d];if(g>r&&(n--,g*2>=s))return-1}return c}}while(n>3);return-1}static patternToChar(e){for(let t=0;t<ot.CHARACTER_ENCODINGS.length;t++)if(ot.CHARACTER_ENCODINGS[t]===e)return ot.ALPHABET_STRING.charAt(t);if(e===ot.ASTERISK_ENCODING)return"*";throw new L}static decodeExtended(e){let t=e.length,r="";for(let n=0;n<t;n++){let i=e.charAt(n);if(i==="+"||i==="$"||i==="%"||i==="/"){let s=e.charAt(n+1),c="\0";switch(i){case"+":if(s>="A"&&s<="Z")c=String.fromCharCode(s.charCodeAt(0)+32);else throw new j;break;case"$":if(s>="A"&&s<="Z")c=String.fromCharCode(s.charCodeAt(0)-64);else throw new j;break;case"%":if(s>="A"&&s<="E")c=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")c=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")c=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")c=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")c="\0";else if(s==="V")c="@";else if(s==="W")c="`";else if(s==="X"||s==="Y"||s==="Z")c="";else throw new j;break;case"/":if(s>="A"&&s<="O")c=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")c=":";else throw new j;break}r+=c,n++}else r+=i}return r}}ot.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ot.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ot.ASTERISK_ENCODING=148;class at extends Ve{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let n=this.decodeStart(t),i=this.decodeEnd(t),s=new z;at.decodeMiddle(t,n[1],i[0],s);let c=s.toString(),d=null;r!=null&&(d=r.get($.ALLOWED_LENGTHS)),d==null&&(d=at.DEFAULT_ALLOWED_LENGTHS);let g=c.length,y=!1,T=0;for(let ne of d){if(g===ne){y=!0;break}ne>T&&(T=ne)}if(!y&&g>T&&(y=!0),!y)throw new j;const O=[new q(n[1],e),new q(i[0],e)];return new v(c,null,0,O,F.ITF,new Date().getTime())}static decodeMiddle(e,t,r,n){let i=new Int32Array(10),s=new Int32Array(5),c=new Int32Array(5);for(i.fill(0),s.fill(0),c.fill(0);t<r;){Ve.recordPattern(e,t,i);for(let g=0;g<5;g++){let y=2*g;s[g]=i[y],c[g]=i[y+1]}let d=at.decodeDigit(s);n.append(d.toString()),d=this.decodeDigit(c),n.append(d.toString()),i.forEach(function(g){t+=g})}}decodeStart(e){let t=at.skipWhiteSpace(e),r=at.findGuardPattern(e,t,at.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=this.narrowLineWidth*10;r=r<t?r:t;for(let n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(r!==0)throw new L}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new L;return r}decodeEnd(e){e.reverse();try{let t=at.skipWhiteSpace(e),r;try{r=at.findGuardPattern(e,t,at.END_PATTERN_REVERSED[0])}catch(i){i instanceof L&&(r=at.findGuardPattern(e,t,at.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let n=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-n,r}finally{e.reverse()}}static findGuardPattern(e,t,r){let n=r.length,i=new Int32Array(n),s=e.getSize(),c=!1,d=0,g=t;i.fill(0);for(let y=t;y<s;y++)if(e.get(y)!==c)i[d]++;else{if(d===n-1){if(Ve.patternMatchVariance(i,r,at.MAX_INDIVIDUAL_VARIANCE)<at.MAX_AVG_VARIANCE)return[g,y];g+=i[0]+i[1],E.arraycopy(i,2,i,0,d-1),i[d-1]=0,i[d]=0,d--}else d++;i[d]=1,c=!c}throw new L}static decodeDigit(e){let t=at.MAX_AVG_VARIANCE,r=-1,n=at.PATTERNS.length;for(let i=0;i<n;i++){let s=at.PATTERNS[i],c=Ve.patternMatchVariance(e,s,at.MAX_INDIVIDUAL_VARIANCE);c<t?(t=c,r=i):c===t&&(r=-1)}if(r>=0)return r%10;throw new L}}at.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],at.MAX_AVG_VARIANCE=.38,at.MAX_INDIVIDUAL_VARIANCE=.5,at.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],at.START_PATTERN=Int32Array.from([1,1,1,1]),at.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Et extends Ve{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,r,n=0,i=Int32Array.from([0,0,0]);for(;!t;){i=Int32Array.from([0,0,0]),r=Et.findGuardPattern(e,n,!1,this.START_END_PATTERN,i);let s=r[0];n=r[1];let c=s-(n-s);c>=0&&(t=e.isRange(c,s,!1))}return r}static checkChecksum(e){return Et.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return Et.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new j;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new j;r+=i}return(1e3-r)%10}static decodeEnd(e,t){return Et.findGuardPattern(e,t,!1,Et.START_END_PATTERN,new Int32Array(Et.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))}static findGuardPattern(e,t,r,n,i){let s=e.getSize();t=r?e.getNextUnset(t):e.getNextSet(t);let c=0,d=t,g=n.length,y=r;for(let T=t;T<s;T++)if(e.get(T)!==y)i[c]++;else{if(c===g-1){if(Ve.patternMatchVariance(i,n,Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return Int32Array.from([d,T]);d+=i[0]+i[1];let O=i.slice(2,i.length-1);for(let H=0;H<c-1;H++)i[H]=O[H];i[c-1]=0,i[c]=0,c--}else c++;i[c]=1,y=!y}throw new L}static decodeDigit(e,t,r,n){this.recordPattern(e,r,t);let i=this.MAX_AVG_VARIANCE,s=-1,c=n.length;for(let d=0;d<c;d++){let g=n[d],y=Ve.patternMatchVariance(t,g,Et.MAX_INDIVIDUAL_VARIANCE);y<i&&(i=y,s=d)}if(s>=0)return s;throw new L}}Et.MAX_AVG_VARIANCE=.48,Et.MAX_INDIVIDUAL_VARIANCE=.7,Et.START_END_PATTERN=Int32Array.from([1,1,1]),Et.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Et.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Et.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class qt{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),s=n.toString(),c=qt.parseExtensionString(s),d=[new q((r[0]+r[1])/2,e),new q(i,e)],g=new v(s,null,0,d,F.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1],c=0;for(let g=0;g<5&&s<i;g++){let y=Et.decodeDigit(e,n,s,Et.L_AND_G_PATTERNS);r+=String.fromCharCode(48+y%10);for(let T of n)s+=T;y>=10&&(c|=1<<4-g),g!==4&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(r.length!==5)throw new L;let d=this.determineCheckDigit(c);if(qt.extensionChecksum(r.toString())!==d)throw new L;return s}static extensionChecksum(e){let t=e.length,r=0;for(let n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;r*=3;for(let n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new L}static parseExtensionString(e){if(e.length!==5)return null;let t=qt.parseExtension5String(e);return t==null?null:new Map([[V.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let r=parseInt(e.substring(1)),n=(r/100).toString(),i=r%100,s=i<10?"0"+i:i.toString();return t+n+"."+s}}class Lr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),s=n.toString(),c=Lr.parseExtensionString(s),d=[new q((r[0]+r[1])/2,e),new q(i,e)],g=new v(s,null,0,d,F.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1],c=0;for(let d=0;d<2&&s<i;d++){let g=Et.decodeDigit(e,n,s,Et.L_AND_G_PATTERNS);r+=String.fromCharCode(48+g%10);for(let y of n)s+=y;g>=10&&(c|=1<<1-d),d!==1&&(s=e.getNextSet(s),s=e.getNextUnset(s))}if(r.length!==2)throw new L;if(parseInt(r.toString())%4!==c)throw new L;return s}static parseExtensionString(e){return e.length!==2?null:new Map([[V.ISSUE_NUMBER,parseInt(e)]])}}class rn{static decodeRow(e,t,r){let n=Et.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new qt().decodeRow(e,t,n)}catch{return new Lr().decodeRow(e,t,n)}}}rn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class tt extends Et{constructor(){super(),this.decodeRowStringBuffer="",tt.L_AND_G_PATTERNS=tt.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=tt.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[t.length-n-1];tt.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let n=tt.findStartGuardPattern(t),i=r==null?null:r.get($.NEED_RESULT_POINT_CALLBACK);if(i!=null){const ke=new q((n[0]+n[1])/2,e);i.foundPossibleResultPoint(ke)}let s=this.decodeMiddle(t,n,this.decodeRowStringBuffer),c=s.rowOffset,d=s.resultString;if(i!=null){const ke=new q(c,e);i.foundPossibleResultPoint(ke)}let g=this.decodeEnd(t,c);if(i!=null){const ke=new q((g[0]+g[1])/2,e);i.foundPossibleResultPoint(ke)}let y=g[1],T=y+(y-g[0]);if(T>=t.getSize()||!t.isRange(y,T,!1))throw new L;let O=d.toString();if(O.length<8)throw new j;if(!tt.checkChecksum(O))throw new S;let H=(n[1]+n[0])/2,ne=(g[1]+g[0])/2,se=this.getBarcodeFormat(),Ce=[new q(H,e),new q(ne,e)],_e=new v(O,null,0,Ce,se,new Date().getTime()),Pe=0;try{let ke=rn.decodeRow(e,t,g[1]);_e.putMetadata(V.UPC_EAN_EXTENSION,ke.getText()),_e.putAllMetadata(ke.getResultMetadata()),_e.addResultPoints(ke.getResultPoints()),Pe=ke.getText().length}catch{}let Ue=r==null?null:r.get($.ALLOWED_EAN_EXTENSIONS);if(Ue!=null){let ke=!1;for(let ct in Ue)if(Pe.toString()===ct){ke=!0;break}if(!ke)throw new L}return _e}decodeEnd(e,t){return tt.findGuardPattern(e,t,!1,tt.START_END_PATTERN,new Int32Array(tt.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return tt.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let r=parseInt(e.charAt(t-1),10);return tt.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new j;r+=i}r*=3;for(let n=t-2;n>=0;n-=2){let i=e.charAt(n).charCodeAt(0)-48;if(i<0||i>9)throw new j;r+=i}return(1e3-r)%10}}class er extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1],c=0;for(let g=0;g<6&&s<i;g++){let y=tt.decodeDigit(e,n,s,tt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+y%10);for(let T of n)s+=T;y>=10&&(c|=1<<5-g)}r=er.determineFirstDigit(r,c),s=tt.findGuardPattern(e,s,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&s<i;g++){let y=tt.decodeDigit(e,n,s,tt.L_PATTERNS);r+=String.fromCharCode(48+y);for(let T of n)s+=T}return{rowOffset:s,resultString:r}}getBarcodeFormat(){return F.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode(48+r)+e,e;throw new L}}er.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class dr extends tt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s=t[1];for(let d=0;d<4&&s<i;d++){let g=tt.decodeDigit(e,n,s,tt.L_PATTERNS);r+=String.fromCharCode(48+g);for(let y of n)s+=y}s=tt.findGuardPattern(e,s,!0,tt.MIDDLE_PATTERN,new Int32Array(tt.MIDDLE_PATTERN.length).fill(0))[1];for(let d=0;d<4&&s<i;d++){let g=tt.decodeDigit(e,n,s,tt.L_PATTERNS);r+=String.fromCharCode(48+g);for(let y of n)s+=y}return{rowOffset:s,resultString:r}}getBarcodeFormat(){return F.EAN_8}}class xr extends tt{constructor(){super(...arguments),this.ean13Reader=new er}getBarcodeFormat(){return F.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let r=new v(t.substring(1),null,null,e.getResultPoints(),F.UPC_A);return e.getResultMetadata()!=null&&r.putAllMetadata(e.getResultMetadata()),r}else throw new L}reset(){this.ean13Reader.reset()}}class jt extends tt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters.map(g=>g);n[0]=0,n[1]=0,n[2]=0,n[3]=0;const i=e.getSize();let s=t[1],c=0;for(let g=0;g<6&&s<i;g++){const y=jt.decodeDigit(e,n,s,jt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+y%10);for(let T of n)s+=T;y>=10&&(c|=1<<5-g)}let d=jt.determineNumSysAndCheckDigit(r,c);return{rowOffset:s,resultString:d}}decodeEnd(e,t){return jt.findGuardPatternWithoutCounters(e,t,!0,jt.MIDDLE_END_PATTERN)}checkChecksum(e){return tt.checkChecksum(jt.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n]){let i=String.fromCharCode(48+r),s=String.fromCharCode(48+n);return i+e+s}throw L.getNotFoundInstance()}getBarcodeFormat(){return F.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(i=>i.charCodeAt(0)),r=new z;r.append(e.charAt(0));let n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n);break}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}jt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),jt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ir extends Ve{constructor(e){super();let t=e==null?null:e.get($.POSSIBLE_FORMATS),r=[];u(t)?(r.push(new er),r.push(new xr),r.push(new dr),r.push(new jt)):(t.indexOf(F.EAN_13)>-1&&r.push(new er),t.indexOf(F.UPC_A)>-1&&r.push(new xr),t.indexOf(F.EAN_8)>-1&&r.push(new dr),t.indexOf(F.UPC_E)>-1&&r.push(new jt)),this.readers=r}decodeRow(e,t,r){for(let n of this.readers)try{const i=n.decodeRow(e,t,r),s=i.getBarcodeFormat()===F.EAN_13&&i.getText().charAt(0)==="0",c=r==null?null:r.get($.POSSIBLE_FORMATS),d=c==null||c.includes(F.UPC_A);if(s&&d){const g=i.getRawBytes(),y=new v(i.getText().substring(1),g,g?g.length:null,i.getResultPoints(),F.UPC_A);return y.putAllMetadata(i.getResultMetadata()),y}return i}catch{}throw new L}reset(){for(let e of this.readers)e.reset()}}class bt extends Ve{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(Ve.patternMatchVariance(e,t[r],bt.MAX_INDIVIDUAL_VARIANCE)<bt.MAX_AVG_VARIANCE)return r;throw new L}static count(e){return ee.sum(new Int32Array(e))}static increment(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]>n&&(n=t[i],r=i);e[r]++}static decrement(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]<n&&(n=t[i],r=i);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t+e[2]+e[3],n=t/r;if(n>=bt.MIN_FINDER_PATTERN_RATIO&&n<=bt.MAX_FINDER_PATTERN_RATIO){let i=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;for(let c of e)c>s&&(s=c),c<i&&(i=c);return s<10*i}return!1}}bt.MAX_AVG_VARIANCE=.2,bt.MAX_INDIVIDUAL_VARIANCE=.45,bt.MIN_FINDER_PATTERN_RATIO=9.5/12,bt.MAX_FINDER_PATTERN_RATIO=12.5/14;class jr{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof jr))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class nn{constructor(e,t,r,n,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new q(r,i)),this.resultPoints.push(new q(n,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof nn))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class gr{constructor(){}static getRSSvalue(e,t,r){let n=0;for(let d of e)n+=d;let i=0,s=0,c=e.length;for(let d=0;d<c-1;d++){let g;for(g=1,s|=1<<d;g<e[d];g++,s&=~(1<<d)){let y=gr.combins(n-g-1,c-d-2);if(r&&s===0&&n-g-(c-d-1)>=c-d-1&&(y-=gr.combins(n-g-(c-d),c-d-2)),c-d-1>1){let T=0;for(let O=n-g-(c-d-2);O>t;O--)T+=gr.combins(n-g-O-1,c-d-3);y-=T*(c-1-d)}else n-g>t&&y--;i+=y}n-=g}return i}static combins(e,t){let r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);let i=1,s=1;for(let c=e;c>r;c--)i*=c,s<=n&&(i/=s,s++);for(;s<=n;)i/=s,s++;return i}}class ri{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let r=12*t,n=new M(r),i=0,c=e[0].getRightChar().getValue();for(let d=11;d>=0;--d)c&1<<d&&n.set(i),i++;for(let d=1;d<e.length;++d){let g=e[d],y=g.getLeftChar().getValue();for(let T=11;T>=0;--T)y&1<<T&&n.set(i),i++;if(g.getRightChar()!=null){let T=g.getRightChar().getValue();for(let O=11;O>=0;--O)T&1<<O&&n.set(i),i++}}return n}}class Mt{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class pr{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Wt extends pr{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Wt.FNC1}}Wt.FNC1="$";class kr extends pr{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class mr extends pr{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new j;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===mr.FNC1}isSecondDigitFNC1(){return this.secondDigit===mr.FNC1}isAnyFNC1(){return this.firstDigit===mr.FNC1||this.secondDigit===mr.FNC1}}mr.FNC1=10;class Ge{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new L;let t=e.substring(0,2);for(let i of Ge.TWO_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===Ge.VARIABLE_LENGTH?Ge.processVariableAI(2,i[2],e):Ge.processFixedAI(2,i[1],e);if(e.length<3)throw new L;let r=e.substring(0,3);for(let i of Ge.THREE_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===Ge.VARIABLE_LENGTH?Ge.processVariableAI(3,i[2],e):Ge.processFixedAI(3,i[1],e);for(let i of Ge.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===Ge.VARIABLE_LENGTH?Ge.processVariableAI(4,i[2],e):Ge.processFixedAI(4,i[1],e);if(e.length<4)throw new L;let n=e.substring(0,4);for(let i of Ge.FOUR_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===Ge.VARIABLE_LENGTH?Ge.processVariableAI(4,i[2],e):Ge.processFixedAI(4,i[1],e);throw new L}static processFixedAI(e,t,r){if(r.length<e)throw new L;let n=r.substring(0,e);if(r.length<e+t)throw new L;let i=r.substring(e,e+t),s=r.substring(e+t),c="("+n+")"+i,d=Ge.parseFieldsInGeneralPurpose(s);return d==null?c:c+d}static processVariableAI(e,t,r){let n=r.substring(0,e),i;r.length<e+t?i=r.length:i=e+t;let s=r.substring(e,i),c=r.substring(i),d="("+n+")"+s,g=Ge.parseFieldsInGeneralPurpose(c);return g==null?d:d+g}}Ge.VARIABLE_LENGTH=[],Ge.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ge.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ge.VARIABLE_LENGTH,20],["22",Ge.VARIABLE_LENGTH,29],["30",Ge.VARIABLE_LENGTH,8],["37",Ge.VARIABLE_LENGTH,8],["90",Ge.VARIABLE_LENGTH,30],["91",Ge.VARIABLE_LENGTH,30],["92",Ge.VARIABLE_LENGTH,30],["93",Ge.VARIABLE_LENGTH,30],["94",Ge.VARIABLE_LENGTH,30],["95",Ge.VARIABLE_LENGTH,30],["96",Ge.VARIABLE_LENGTH,30],["97",Ge.VARIABLE_LENGTH,3],["98",Ge.VARIABLE_LENGTH,30],["99",Ge.VARIABLE_LENGTH,30]],Ge.THREE_DIGIT_DATA_LENGTH=[["240",Ge.VARIABLE_LENGTH,30],["241",Ge.VARIABLE_LENGTH,30],["242",Ge.VARIABLE_LENGTH,6],["250",Ge.VARIABLE_LENGTH,30],["251",Ge.VARIABLE_LENGTH,30],["253",Ge.VARIABLE_LENGTH,17],["254",Ge.VARIABLE_LENGTH,20],["400",Ge.VARIABLE_LENGTH,30],["401",Ge.VARIABLE_LENGTH,30],["402",17],["403",Ge.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ge.VARIABLE_LENGTH,20],["421",Ge.VARIABLE_LENGTH,15],["422",3],["423",Ge.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ge.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ge.VARIABLE_LENGTH,15],["391",Ge.VARIABLE_LENGTH,18],["392",Ge.VARIABLE_LENGTH,15],["393",Ge.VARIABLE_LENGTH,18],["703",Ge.VARIABLE_LENGTH,30]],Ge.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ge.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ge.VARIABLE_LENGTH,20],["8003",Ge.VARIABLE_LENGTH,30],["8004",Ge.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ge.VARIABLE_LENGTH,30],["8008",Ge.VARIABLE_LENGTH,12],["8018",18],["8020",Ge.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ge.VARIABLE_LENGTH,70],["8200",Ge.VARIABLE_LENGTH,70]];class xn{constructor(e){this.buffer=new z,this.information=e}decodeAllCodes(e,t){let r=t,n=null;do{let i=this.decodeGeneralPurposeField(r,n),s=Ge.parseFieldsInGeneralPurpose(i.getNewString());if(s!=null&&e.append(s),i.isRemaining()?n=""+i.getRemainingValue():n=null,r===i.getNewPosition())break;r=i.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let i=this.extractNumericValueFromBitArray(e,4);return i===0?new mr(this.information.getSize(),mr.FNC1,mr.FNC1):new mr(this.information.getSize(),i-1,mr.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),r=(t-8)/11,n=(t-8)%11;return new mr(e+7,r,n)}extractNumericValueFromBitArray(e,t){return xn.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let n=0;for(let i=0;i<r;++i)e.get(t+i)&&(n|=1<<r-i-1);return n}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new kr(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new kr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(r!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new kr(this.current.getPosition(),this.buffer.toString()):t=new kr(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Mt(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new kr(this.current.getPosition(),this.buffer.toString());return new Mt(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Mt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new kr(this.current.getPosition(),this.buffer.toString());return new Mt(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Mt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new kr(this.current.getPosition(),this.buffer.toString());return new Mt(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Mt(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Wt(e+5,Wt.FNC1);if(t>=5&&t<15)return new Wt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<90)return new Wt(e+7,""+(r+1));if(r>=90&&r<116)return new Wt(e+7,""+(r+7));let n=this.extractNumericValueFromBitArray(e,8),i;switch(n){case 232:i="!";break;case 233:i='"';break;case 234:i="%";break;case 235:i="&";break;case 236:i="'";break;case 237:i="(";break;case 238:i=")";break;case 239:i="*";break;case 240:i="+";break;case 241:i=",";break;case 242:i="-";break;case 243:i=".";break;case 244:i="/";break;case 245:i=":";break;case 246:i=";";break;case 247:i="<";break;case 248:i="=";break;case 249:i=">";break;case 250:i="?";break;case 251:i="_";break;case 252:i=" ";break;default:throw new j}return new Wt(e+8,i)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Wt(e+5,Wt.FNC1);if(t>=5&&t<15)return new Wt(e+5,"0"+(t-5));let r=this.extractNumericValueFromBitArray(e,6);if(r>=32&&r<58)return new Wt(e+6,""+(r+33));let n;switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new me("Decoding invalid alphanumeric value: "+r)}return new Wt(e+6,n)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class Li{constructor(e){this.information=e,this.generalDecoder=new xn(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class tr extends Li{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let n=0;n<4;++n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*n,10);i/100===0&&e.append("0"),i/10===0&&e.append("0"),e.append(i)}tr.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let n=0;n<13;n++){let i=e.charAt(n+t).charCodeAt(0)-48;r+=n&1?i:3*i}r=10-r%10,r===10&&(r=0),e.append(r)}}tr.GTIN_SIZE=40;class gn extends tr{constructor(e){super(e)}parseInformation(){let e=new z;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(gn.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,gn.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,gn.HEADER_SIZE+44)}}gn.HEADER_SIZE=4;class ni extends Li{constructor(e){super(e)}parseInformation(){let e=new z;return this.getGeneralDecoder().decodeAllCodes(e,ni.HEADER_SIZE)}}ni.HEADER_SIZE=5;class ii extends tr{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);let i=this.checkWeight(n),s=1e5;for(let c=0;c<5;++c)i/s===0&&e.append("0"),s/=10;e.append(i)}}class Dr extends ii{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=Dr.HEADER_SIZE+ii.GTIN_SIZE+Dr.WEIGHT_SIZE)throw new L;let e=new z;return this.encodeCompressedGtin(e,Dr.HEADER_SIZE),this.encodeCompressedWeight(e,Dr.HEADER_SIZE+ii.GTIN_SIZE,Dr.WEIGHT_SIZE),e.toString()}}Dr.HEADER_SIZE=5,Dr.WEIGHT_SIZE=15;class qa extends Dr{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class $a extends Dr{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class Tr extends tr{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Tr.HEADER_SIZE+tr.GTIN_SIZE)throw new L;let e=new z;this.encodeCompressedGtin(e,Tr.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Tr.HEADER_SIZE+tr.GTIN_SIZE,Tr.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Tr.HEADER_SIZE+tr.GTIN_SIZE+Tr.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}Tr.HEADER_SIZE=8,Tr.LAST_DIGIT_SIZE=2;class Qt extends tr{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Qt.HEADER_SIZE+tr.GTIN_SIZE)throw new L;let e=new z;this.encodeCompressedGtin(e,Qt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+tr.GTIN_SIZE,Qt.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Qt.HEADER_SIZE+tr.GTIN_SIZE+Qt.LAST_DIGIT_SIZE,Qt.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let n=this.getGeneralDecoder().decodeGeneralPurposeField(Qt.HEADER_SIZE+tr.GTIN_SIZE+Qt.LAST_DIGIT_SIZE+Qt.FIRST_THREE_DIGITS_SIZE,null);return e.append(n.getNewString()),e.toString()}}Qt.HEADER_SIZE=8,Qt.LAST_DIGIT_SIZE=2,Qt.FIRST_THREE_DIGITS_SIZE=10;class Dt extends ii{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE+Dt.DATE_SIZE)throw new L;let e=new z;return this.encodeCompressedGtin(e,Dt.HEADER_SIZE),this.encodeCompressedWeight(e,Dt.HEADER_SIZE+Dt.GTIN_SIZE,Dt.WEIGHT_SIZE),this.encodeCompressedDate(e,Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,Dt.DATE_SIZE);if(r==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let n=r%32;r/=32;let i=r%12+1;r/=12;let s=r;s/10==0&&e.append("0"),e.append(s),i/10==0&&e.append("0"),e.append(i),n/10==0&&e.append("0"),e.append(n)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}Dt.HEADER_SIZE=8,Dt.WEIGHT_SIZE=20,Dt.DATE_SIZE=16;function wo(I){try{if(I.get(1))return new gn(I);if(!I.get(2))return new ni(I);switch(xn.extractNumericValueFromBitArray(I,1,4)){case 4:return new qa(I);case 5:return new $a(I)}switch(xn.extractNumericValueFromBitArray(I,1,5)){case 12:return new Tr(I);case 13:return new Qt(I)}switch(xn.extractNumericValueFromBitArray(I,1,7)){case 56:return new Dt(I,"310","11");case 57:return new Dt(I,"320","11");case 58:return new Dt(I,"310","13");case 59:return new Dt(I,"320","13");case 60:return new Dt(I,"310","15");case 61:return new Dt(I,"320","15");case 62:return new Dt(I,"310","17");case 63:return new Dt(I,"320","17")}}catch(e){throw console.log(e),new me("unknown decoder: "+I)}}class Wr{constructor(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Wr?Wr.equalsOrNull(e.leftchar,t.leftchar)&&Wr.equalsOrNull(e.rightchar,t.rightchar)&&Wr.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:Wr.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ki{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof ki?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach((n,i)=>{t.forEach(s=>{n.getLeftChar().getValue()===s.getLeftChar().getValue()&&n.getRightChar().getValue()===s.getRightChar().getValue()&&n.getFinderPatter().getValue()===s.getFinderPatter().getValue()&&(r=!0)})}),r}}class Me extends bt{constructor(e){super(...arguments),this.pairs=new Array(Me.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return Me.constructResult(this.decodeRow2pairs(e,t))}catch(n){this.verbose&&console.log(n)}return this.pairs.length=0,this.startFromEven=!0,Me.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof L){if(!this.pairs.length)throw new L;r=!0}}if(this.checkChecksum())return this.pairs;let n;if(this.rows.length?n=!0:n=!1,this.storeRow(e,!1),n){let i=this.checkRowsBoolean(!1);if(i!=null||(i=this.checkRowsBoolean(!0),i!=null))return i}throw new L}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let n=this.rows[r];this.pairs.length=0;for(let s of e)this.pairs.push(s.getPairs());if(this.pairs.push(n.getPairs()),!Me.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let i=new Array(e);i.push(n);try{return this.checkRows(i,r+1)}catch(s){this.verbose&&console.log(s)}}throw new L}static isValidSequence(e){for(let t of Me.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let n=0;n<e.length;n++)if(e[n].getFinderPattern().getValue()!=t[n]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,n=!1,i=!1;for(;r<this.rows.length;){let s=this.rows[r];if(s.getRowNumber()>e){i=s.isEquivalent(this.pairs);break}n=s.isEquivalent(this.pairs),r++}i||n||Me.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new ki(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length){for(let n of r.getPairs())for(let i of e)if(Wr.equals(n,i))break}}static isPartialRow(e,t){for(let r of t){let n=!0;for(let i of e){let s=!1;for(let c of r.getPairs())if(i.equals(c)){s=!0;break}if(!s){n=!1;break}}if(n)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=ri.buildBitArray(e),n=wo(t).parseInformation(),i=e[0].getFinderPattern().getResultPoints(),s=e[e.length-1].getFinderPattern().getResultPoints(),c=[i[0],i[1],s[0],s[1]];return new v(n,null,null,c,F.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(r==null)return!1;let n=r.getChecksumPortion(),i=2;for(let c=1;c<this.pairs.size();++c){let d=this.pairs.get(c);n+=d.getLeftChar().getChecksumPortion(),i++;let g=d.getRightChar();g!=null&&(n+=g.getChecksumPortion(),i++)}return n%=211,211*(i-4)+n==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let n=t.length%2==0;this.startFromEven&&(n=!n);let i,s=!0,c=-1;do this.findNextPair(e,t,c),i=this.parseFoundFinderPattern(e,r,n),i==null?c=Me.getNextSecondBar(e,this.startEnd[0]):s=!1;while(s);let d=this.decodeDataCharacter(e,i,n,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new L;let g;try{g=this.decodeDataCharacter(e,i,n,!1)}catch(y){g=null,this.verbose&&console.log(y)}return new Wr(d,g,i,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,r){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),s;r>=0?s=r:this.isEmptyPair(t)?s=0:s=t[t.length-1].getFinderPattern().getStartEnd()[1];let c=t.length%2!=0;this.startFromEven&&(c=!c);let d=!1;for(;s<i&&(d=!e.get(s),!!d);)s++;let g=0,y=s;for(let T=s;T<i;T++)if(e.get(T)!=d)n[g]++;else{if(g==3){if(c&&Me.reverseCounters(n),Me.isFinderPattern(n)){this.startEnd[0]=y,this.startEnd[1]=T;return}c&&Me.reverseCounters(n),y+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,g--}else g++;n[g]=1,d=!d}throw new L}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}}parseFoundFinderPattern(e,t,r){let n,i,s;if(r){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,n=this.startEnd[0]-g,i=g,s=this.startEnd[1]}else i=this.startEnd[0],s=e.getNextUnset(this.startEnd[1]+1),n=s-this.startEnd[1];let c=this.getDecodeFinderCounters();E.arraycopy(c,0,c,1,c.length-1),c[0]=n;let d;try{d=this.parseFinderValue(c,Me.FINDER_PATTERNS)}catch{return null}return new nn(d,[i,s],i,s,t)}decodeDataCharacter(e,t,r,n){let i=this.getDataCharacterCounters();for(let wt=0;wt<i.length;wt++)i[wt]=0;if(n)Me.recordPatternInReverse(e,t.getStartEnd()[0],i);else{Me.recordPattern(e,t.getStartEnd()[1],i);for(let wt=0,Xt=i.length-1;wt<Xt;wt++,Xt--){let ar=i[wt];i[wt]=i[Xt],i[Xt]=ar}}let s=17,c=ee.sum(new Int32Array(i))/s,d=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(c-d)/d>.3)throw new L;let g=this.getOddCounts(),y=this.getEvenCounts(),T=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let wt=0;wt<i.length;wt++){let Xt=1*i[wt]/c,ar=Xt+.5;if(ar<1){if(Xt<.3)throw new L;ar=1}else if(ar>8){if(Xt>8.7)throw new L;ar=8}let wn=wt/2;wt&1?(y[wn]=ar,O[wn]=Xt-ar):(g[wn]=ar,T[wn]=Xt-ar)}this.adjustOddEvenCounts(s);let H=4*t.getValue()+(r?0:2)+(n?0:1)-1,ne=0,se=0;for(let wt=g.length-1;wt>=0;wt--){if(Me.isNotA1left(t,r,n)){let Xt=Me.WEIGHTS[H][2*wt];se+=g[wt]*Xt}ne+=g[wt]}let Ce=0;for(let wt=y.length-1;wt>=0;wt--)if(Me.isNotA1left(t,r,n)){let Xt=Me.WEIGHTS[H][2*wt+1];Ce+=y[wt]*Xt}let _e=se+Ce;if(ne&1||ne>13||ne<4)throw new L;let Pe=(13-ne)/2,Ue=Me.SYMBOL_WIDEST[Pe],ke=9-Ue,ct=gr.getRSSvalue(g,Ue,!0),nt=gr.getRSSvalue(y,ke,!1),nr=Me.EVEN_TOTAL_SUBSET[Pe],vr=Me.GSUM[Pe],ir=ct*nr+nt+vr;return new jr(ir,_e)}static isNotA1left(e,t,r){return!(e.getValue()==0&&t&&r)}adjustOddEvenCounts(e){let t=ee.sum(new Int32Array(this.getOddCounts())),r=ee.sum(new Int32Array(this.getEvenCounts())),n=!1,i=!1;t>13?i=!0:t<4&&(n=!0);let s=!1,c=!1;r>13?c=!0:r<4&&(s=!0);let d=t+r-e,g=(t&1)==1,y=(r&1)==0;if(d==1)if(g){if(y)throw new L;i=!0}else{if(!y)throw new L;c=!0}else if(d==-1)if(g){if(y)throw new L;n=!0}else{if(!y)throw new L;s=!0}else if(d==0){if(g){if(!y)throw new L;t<r?(n=!0,c=!0):(i=!0,s=!0)}else if(y)throw new L}else throw new L;if(n){if(i)throw new L;Me.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&Me.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(c)throw new L;Me.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&Me.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Me.SYMBOL_WIDEST=[7,5,4,3,1],Me.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Me.GSUM=[0,348,1388,2948,3988],Me.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Me.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Me.FINDER_PAT_A=0,Me.FINDER_PAT_B=1,Me.FINDER_PAT_C=2,Me.FINDER_PAT_D=3,Me.FINDER_PAT_E=4,Me.FINDER_PAT_F=5,Me.FINDER_PATTERN_SEQUENCES=[[Me.FINDER_PAT_A,Me.FINDER_PAT_A],[Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B],[Me.FINDER_PAT_A,Me.FINDER_PAT_C,Me.FINDER_PAT_B,Me.FINDER_PAT_D],[Me.FINDER_PAT_A,Me.FINDER_PAT_E,Me.FINDER_PAT_B,Me.FINDER_PAT_D,Me.FINDER_PAT_C],[Me.FINDER_PAT_A,Me.FINDER_PAT_E,Me.FINDER_PAT_B,Me.FINDER_PAT_D,Me.FINDER_PAT_D,Me.FINDER_PAT_F],[Me.FINDER_PAT_A,Me.FINDER_PAT_E,Me.FINDER_PAT_B,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_F,Me.FINDER_PAT_F],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_D],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_E],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_F,Me.FINDER_PAT_F],[Me.FINDER_PAT_A,Me.FINDER_PAT_A,Me.FINDER_PAT_B,Me.FINDER_PAT_B,Me.FINDER_PAT_C,Me.FINDER_PAT_D,Me.FINDER_PAT_D,Me.FINDER_PAT_E,Me.FINDER_PAT_E,Me.FINDER_PAT_F,Me.FINDER_PAT_F]],Me.MAX_PAIRS=11;class Za extends jr{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Bt extends bt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const n=this.decodePair(t,!1,e,r);Bt.addOrTally(this.possibleLeftPairs,n),t.reverse();let i=this.decodePair(t,!0,e,r);Bt.addOrTally(this.possibleRightPairs,i),t.reverse();for(let s of this.possibleLeftPairs)if(s.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&Bt.checkChecksum(s,c))return Bt.constructResult(s,c)}throw new L}static addOrTally(e,t){if(t==null)return;let r=!1;for(let n of e)if(n.getValue()===t.getValue()){n.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),i=new z;for(let g=13-n.length;g>0;g--)i.append("0");i.append(n);let s=0;for(let g=0;g<13;g++){let y=i.charAt(g).charCodeAt(0)-48;s+=g&1?y:3*y}s=10-s%10,s===10&&(s=0),i.append(s.toString());let c=e.getFinderPattern().getResultPoints(),d=t.getFinderPattern().getResultPoints();return new v(i.toString(),null,0,[c[0],c[1],d[0],d[1]],F.RSS_14,new Date().getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n}decodePair(e,t,r,n){try{let i=this.findFinderPattern(e,t),s=this.parseFoundFinderPattern(e,r,t,i),c=n==null?null:n.get($.NEED_RESULT_POINT_CALLBACK);if(c!=null){let y=(i[0]+i[1])/2;t&&(y=e.getSize()-1-y),c.foundPossibleResultPoint(new q(y,r))}let d=this.decodeDataCharacter(e,s,!0),g=this.decodeDataCharacter(e,s,!1);return new Za(1597*d.getValue()+g.getValue(),d.getChecksumPortion()+4*g.getChecksumPortion(),s)}catch{return null}}decodeDataCharacter(e,t,r){let n=this.getDataCharacterCounters();for(let Ce=0;Ce<n.length;Ce++)n[Ce]=0;if(r)Ve.recordPatternInReverse(e,t.getStartEnd()[0],n);else{Ve.recordPattern(e,t.getStartEnd()[1]+1,n);for(let Ce=0,_e=n.length-1;Ce<_e;Ce++,_e--){let Pe=n[Ce];n[Ce]=n[_e],n[_e]=Pe}}let i=r?16:15,s=ee.sum(new Int32Array(n))/i,c=this.getOddCounts(),d=this.getEvenCounts(),g=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let Ce=0;Ce<n.length;Ce++){let _e=n[Ce]/s,Pe=Math.floor(_e+.5);Pe<1?Pe=1:Pe>8&&(Pe=8);let Ue=Math.floor(Ce/2);Ce&1?(d[Ue]=Pe,y[Ue]=_e-Pe):(c[Ue]=Pe,g[Ue]=_e-Pe)}this.adjustOddEvenCounts(r,i);let T=0,O=0;for(let Ce=c.length-1;Ce>=0;Ce--)O*=9,O+=c[Ce],T+=c[Ce];let H=0,ne=0;for(let Ce=d.length-1;Ce>=0;Ce--)H*=9,H+=d[Ce],ne+=d[Ce];let se=O+3*H;if(r){if(T&1||T>12||T<4)throw new L;let Ce=(12-T)/2,_e=Bt.OUTSIDE_ODD_WIDEST[Ce],Pe=9-_e,Ue=gr.getRSSvalue(c,_e,!1),ke=gr.getRSSvalue(d,Pe,!0),ct=Bt.OUTSIDE_EVEN_TOTAL_SUBSET[Ce],nt=Bt.OUTSIDE_GSUM[Ce];return new jr(Ue*ct+ke+nt,se)}else{if(ne&1||ne>10||ne<4)throw new L;let Ce=(10-ne)/2,_e=Bt.INSIDE_ODD_WIDEST[Ce],Pe=9-_e,Ue=gr.getRSSvalue(c,_e,!0),ke=gr.getRSSvalue(d,Pe,!1),ct=Bt.INSIDE_ODD_TOTAL_SUBSET[Ce],nt=Bt.INSIDE_GSUM[Ce];return new jr(ke*ct+Ue+nt,se)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let n=e.getSize(),i=!1,s=0;for(;s<n&&(i=!e.get(s),t!==i);)s++;let c=0,d=s;for(let g=s;g<n;g++)if(e.get(g)!==i)r[c]++;else{if(c===3){if(bt.isFinderPattern(r))return[d,g];d+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,c--}else c++;r[c]=1,i=!i}throw new L}parseFoundFinderPattern(e,t,r,n){let i=e.get(n[0]),s=n[0]-1;for(;s>=0&&i!==e.get(s);)s--;s++;const c=n[0]-s,d=this.getDecodeFinderCounters(),g=new Int32Array(d.length);E.arraycopy(d,0,g,1,d.length-1),g[0]=c;const y=this.parseFinderValue(g,Bt.FINDER_PATTERNS);let T=s,O=n[1];return r&&(T=e.getSize()-1-T,O=e.getSize()-1-O),new nn(y,[s,n[1]],T,O,t)}adjustOddEvenCounts(e,t){let r=ee.sum(new Int32Array(this.getOddCounts())),n=ee.sum(new Int32Array(this.getEvenCounts())),i=!1,s=!1,c=!1,d=!1;e?(r>12?s=!0:r<4&&(i=!0),n>12?d=!0:n<4&&(c=!0)):(r>11?s=!0:r<5&&(i=!0),n>10?d=!0:n<4&&(c=!0));let g=r+n-t,y=(r&1)===(e?1:0),T=(n&1)===1;if(g===1)if(y){if(T)throw new L;s=!0}else{if(!T)throw new L;d=!0}else if(g===-1)if(y){if(T)throw new L;i=!0}else{if(!T)throw new L;c=!0}else if(g===0){if(y){if(!T)throw new L;r<n?(i=!0,d=!0):(s=!0,c=!0)}else if(T)throw new L}else throw new L;if(i){if(s)throw new L;bt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&bt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new L;bt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&bt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Bt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Bt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Bt.OUTSIDE_GSUM=[0,161,961,2015,2715],Bt.INSIDE_GSUM=[0,336,1036,1516],Bt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Bt.INSIDE_ODD_WIDEST=[2,4,6,8],Bt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class pn extends Ve{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const r=e?e.get($.POSSIBLE_FORMATS):null,n=e&&e.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(F.EAN_13)||r.includes(F.UPC_A)||r.includes(F.EAN_8)||r.includes(F.UPC_E))&&this.readers.push(new Ir(e)),r.includes(F.CODE_39)&&this.readers.push(new ot(n)),r.includes(F.CODE_128)&&this.readers.push(new Re),r.includes(F.ITF)&&this.readers.push(new at),r.includes(F.RSS_14)&&this.readers.push(new Bt),r.includes(F.RSS_EXPANDED)&&this.readers.push(new Me(this.verbose))):(this.readers.push(new Ir(e)),this.readers.push(new ot),this.readers.push(new Ir(e)),this.readers.push(new Re),this.readers.push(new at),this.readers.push(new Bt),this.readers.push(new Me(this.verbose)))}decodeRow(e,t,r){for(let n=0;n<this.readers.length;n++)try{return this.readers[n].decodeRow(e,t,r)}catch{}throw new L}reset(){this.readers.forEach(e=>e.reset())}}class Qa extends X{constructor(e=500,t){super(new pn(t),e,t)}}class pt{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class xt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ut{constructor(e,t,r,n,i,s){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=i,this.ecBlocks=s;let c=0;const d=s.getECCodewords(),g=s.getECBlocks();for(let y of g)c+=y.getCount()*(y.getDataCodewords()+d);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(e&1||t&1)throw new j;for(let r of ut.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new ut(1,10,10,8,8,new pt(5,new xt(1,3))),new ut(2,12,12,10,10,new pt(7,new xt(1,5))),new ut(3,14,14,12,12,new pt(10,new xt(1,8))),new ut(4,16,16,14,14,new pt(12,new xt(1,12))),new ut(5,18,18,16,16,new pt(14,new xt(1,18))),new ut(6,20,20,18,18,new pt(18,new xt(1,22))),new ut(7,22,22,20,20,new pt(20,new xt(1,30))),new ut(8,24,24,22,22,new pt(24,new xt(1,36))),new ut(9,26,26,24,24,new pt(28,new xt(1,44))),new ut(10,32,32,14,14,new pt(36,new xt(1,62))),new ut(11,36,36,16,16,new pt(42,new xt(1,86))),new ut(12,40,40,18,18,new pt(48,new xt(1,114))),new ut(13,44,44,20,20,new pt(56,new xt(1,144))),new ut(14,48,48,22,22,new pt(68,new xt(1,174))),new ut(15,52,52,24,24,new pt(42,new xt(2,102))),new ut(16,64,64,14,14,new pt(56,new xt(2,140))),new ut(17,72,72,16,16,new pt(36,new xt(4,92))),new ut(18,80,80,18,18,new pt(48,new xt(4,114))),new ut(19,88,88,20,20,new pt(56,new xt(4,144))),new ut(20,96,96,22,22,new pt(68,new xt(4,174))),new ut(21,104,104,24,24,new pt(56,new xt(6,136))),new ut(22,120,120,18,18,new pt(68,new xt(6,175))),new ut(23,132,132,20,20,new pt(62,new xt(8,163))),new ut(24,144,144,22,22,new pt(62,new xt(8,156),new xt(2,155))),new ut(25,8,18,6,16,new pt(7,new xt(1,5))),new ut(26,8,32,6,14,new pt(11,new xt(1,10))),new ut(27,12,26,10,24,new pt(14,new xt(1,16))),new ut(28,12,36,10,16,new pt(18,new xt(1,22))),new ut(29,16,36,14,16,new pt(24,new xt(1,32))),new ut(30,16,48,14,22,new pt(28,new xt(1,49)))]}}ut.VERSIONS=ut.buildVersions();class Pi{constructor(e){const t=e.getHeight();if(t<8||t>144||t&1)throw new j;this.version=Pi.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new re(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return ut.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,n=0;const i=this.mappingBitMatrix.getHeight(),s=this.mappingBitMatrix.getWidth();let c=!1,d=!1,g=!1,y=!1;do if(r===i&&n===0&&!c)e[t++]=this.readCorner1(i,s)&255,r-=2,n+=2,c=!0;else if(r===i-2&&n===0&&s&3&&!d)e[t++]=this.readCorner2(i,s)&255,r-=2,n+=2,d=!0;else if(r===i+4&&n===2&&!(s&7)&&!g)e[t++]=this.readCorner3(i,s)&255,r-=2,n+=2,g=!0;else if(r===i-2&&n===0&&(s&7)===4&&!y)e[t++]=this.readCorner4(i,s)&255,r-=2,n+=2,y=!0;else{do r<i&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,i,s)&255),r-=2,n+=2;while(r>=0&&n<s);r+=1,n+=3;do r>=0&&n<s&&!this.readMappingMatrix.get(n,r)&&(e[t++]=this.readUtah(r,n,i,s)&255),r+=2,n-=2;while(r<i&&n>=0);r+=3,n+=1}while(r<i||n<s);if(t!==this.version.getTotalCodewords())throw new j;return e}readModule(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,n){let i=0;return this.readModule(e-2,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-2,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t,r,n)&&(i|=1),i<<=1,this.readModule(e,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e,t,r,n)&&(i|=1),i}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new A("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),s=t/n|0,c=r/i|0,d=s*n,g=c*i,y=new re(g,d);for(let T=0;T<s;++T){const O=T*n;for(let H=0;H<c;++H){const ne=H*i;for(let se=0;se<n;++se){const Ce=T*(n+2)+1+se,_e=O+se;for(let Pe=0;Pe<i;++Pe){const Ue=H*(i+2)+1+Pe;if(e.get(Ue,Ce)){const ke=ne+Pe;y.set(ke,_e)}}}}}return y}}class Ui{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let n=0;const i=r.getECBlocks();for(let se of i)n+=se.getCount();const s=new Array(n);let c=0;for(let se of i)for(let Ce=0;Ce<se.getCount();Ce++){const _e=se.getDataCodewords(),Pe=r.getECCodewords()+_e;s[c++]=new Ui(_e,new Uint8Array(Pe))}const g=s[0].codewords.length-r.getECCodewords(),y=g-1;let T=0;for(let se=0;se<y;se++)for(let Ce=0;Ce<c;Ce++)s[Ce].codewords[se]=e[T++];const O=t.getVersionNumber()===24,H=O?8:c;for(let se=0;se<H;se++)s[se].codewords[g-1]=e[T++];const ne=s[0].codewords.length;for(let se=g;se<ne;se++)for(let Ce=0;Ce<c;Ce++){const _e=O?(Ce+8)%c:Ce,Pe=O&&_e>7?se-1:se;s[_e].codewords[Pe]=e[T++]}if(T!==e.length)throw new A;return s}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Hi{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new A(""+e);let t=0,r=this.bitOffset,n=this.byteOffset;const i=this.bytes;if(r>0){const s=8-r,c=e<s?e:s,d=s-c,g=255>>8-c<<d;t=(i[n]&g)>>d,e-=c,r+=c,r===8&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|i[n]&255,n++,e-=8;if(e>0){const s=8-e,c=255>>s<<s;t=t<<e|(i[n]&c)>>s,r+=e}}return this.bitOffset=r,this.byteOffset=n,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ft;(function(I){I[I.PAD_ENCODE=0]="PAD_ENCODE",I[I.ASCII_ENCODE=1]="ASCII_ENCODE",I[I.C40_ENCODE=2]="C40_ENCODE",I[I.TEXT_ENCODE=3]="TEXT_ENCODE",I[I.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",I[I.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",I[I.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ft||(Ft={}));class Vr{static decode(e){const t=new Hi(e),r=new z,n=new z,i=new Array;let s=Ft.ASCII_ENCODE;do if(s===Ft.ASCII_ENCODE)s=this.decodeAsciiSegment(t,r,n);else{switch(s){case Ft.C40_ENCODE:this.decodeC40Segment(t,r);break;case Ft.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Ft.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Ft.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Ft.BASE256_ENCODE:this.decodeBase256Segment(t,r,i);break;default:throw new j}s=Ft.ASCII_ENCODE}while(s!==Ft.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new te(e,r.toString(),i.length===0?null:i,null)}static decodeAsciiSegment(e,t,r){let n=!1;do{let i=e.readBits(8);if(i===0)throw new j;if(i<=128)return n&&(i+=128),t.append(String.fromCharCode(i-1)),Ft.ASCII_ENCODE;if(i===129)return Ft.PAD_ENCODE;if(i<=229){const s=i-130;s<10&&t.append("0"),t.append(""+s)}else switch(i){case 230:return Ft.C40_ENCODE;case 231:return Ft.BASE256_ENCODE;case 232:t.append("");break;case 233:case 234:break;case 235:n=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return Ft.ANSIX12_ENCODE;case 239:return Ft.TEXT_ENCODE;case 240:return Ft.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new j;break}}while(e.available()>0);return Ft.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const n=[];let i=0;do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),n);for(let c=0;c<3;c++){const d=n[c];switch(i){case 0:if(d<3)i=d+1;else if(d<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else throw new j;break;case 1:r?(t.append(String.fromCharCode(d+128)),r=!1):t.append(String.fromCharCode(d)),i=0;break;case 2:if(d<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else switch(d){case 27:t.append("");break;case 30:r=!0;break;default:throw new j}i=0;break;case 3:r?(t.append(String.fromCharCode(d+224)),r=!1):t.append(String.fromCharCode(d+96)),i=0;break;default:throw new j}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,n=[],i=0;do{if(e.available()===8)return;const s=e.readBits(8);if(s===254)return;this.parseTwoBytes(s,e.readBits(8),n);for(let c=0;c<3;c++){const d=n[c];switch(i){case 0:if(d<3)i=d+1;else if(d<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else throw new j;break;case 1:r?(t.append(String.fromCharCode(d+128)),r=!1):t.append(String.fromCharCode(d)),i=0;break;case 2:if(d<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g)}else switch(d){case 27:t.append("");break;case 30:r=!0;break;default:throw new j}i=0;break;case 3:if(d<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[d];r?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),r=!1):t.append(g),i=0}else throw new j;break;default:throw new j}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(e.available()===8)return;const n=e.readBits(8);if(n===254)return;this.parseTwoBytes(n,e.readBits(8),r);for(let i=0;i<3;i++){const s=r[i];switch(s){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(s<14)t.append(String.fromCharCode(s+44));else if(s<40)t.append(String.fromCharCode(s+51));else throw new j;break}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let n=(e<<8)+t-1,i=Math.floor(n/1600);r[0]=i,n-=i*1600,i=Math.floor(n/40),r[1]=i,r[2]=n-i*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let n=e.readBits(6);if(n===31){const i=8-e.getBitOffset();i!==8&&e.readBits(i);return}n&32||(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let n=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),n++);let s;if(i===0?s=e.available()/8|0:i<250?s=i:s=250*(i-249)+this.unrandomize255State(e.readBits(8),n++),s<0)throw new j;const c=new Uint8Array(s);for(let d=0;d<s;d++){if(e.available()<8)throw new j;c[d]=this.unrandomize255State(e.readBits(8),n++)}r.push(c);try{t.append(fe.decode(c,he.ISO88591))}catch(d){throw new me("Platform does not support required encoding: "+d.message)}}static unrandomize255State(e,t){const r=149*t%255+1,n=e-r;return n>=0?n:n+256}}Vr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Vr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Vr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Vr.TEXT_SHIFT2_SET_CHARS=Vr.C40_SHIFT2_SET_CHARS,Vr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Ka{constructor(){this.rsDecoder=new Fe(k.DATA_MATRIX_FIELD_256)}decode(e){const t=new Pi(e),r=t.getVersion(),n=t.readCodewords(),i=Ui.getDataBlocks(n,r);let s=0;for(let g of i)s+=g.getNumDataCodewords();const c=new Uint8Array(s),d=i.length;for(let g=0;g<d;g++){const y=i[g],T=y.getCodewords(),O=y.getNumDataCodewords();this.correctErrors(T,O);for(let H=0;H<O;H++)c[H*d+g]=T[H]}return Vr.decode(c)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new S}for(let n=0;n<t;n++)e[n]=r[n]}}class Rt{constructor(e){this.image=e,this.rectangleDetector=new Y(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new L;t=this.shiftToModuleCenter(t);const r=t[0],n=t[1],i=t[2],s=t[3];let c=this.transitionsBetween(r,s)+1,d=this.transitionsBetween(i,s)+1;(c&1)===1&&(c+=1),(d&1)===1&&(d+=1),4*c<7*d&&4*d<7*c&&(c=d=Math.max(c,d));let g=Rt.sampleGrid(this.image,r,n,i,s,c,d);return new xe(g,[r,n,i,s])}static shiftPoint(e,t,r){let n=(t.getX()-e.getX())/(r+1),i=(t.getY()-e.getY())/(r+1);return new q(e.getX()+n,e.getY()+i)}static moveAway(e,t,r){let n=e.getX(),i=e.getY();return n<t?n-=1:n+=1,i<r?i-=1:i+=1,new q(n,i)}detectSolid1(e){let t=e[0],r=e[1],n=e[3],i=e[2],s=this.transitionsBetween(t,r),c=this.transitionsBetween(r,n),d=this.transitionsBetween(n,i),g=this.transitionsBetween(i,t),y=s,T=[i,t,r,n];return y>c&&(y=c,T[0]=t,T[1]=r,T[2]=n,T[3]=i),y>d&&(y=d,T[0]=r,T[1]=n,T[2]=i,T[3]=t),y>g&&(T[0]=n,T[1]=i,T[2]=t,T[3]=r),T}detectSolid2(e){let t=e[0],r=e[1],n=e[2],i=e[3],s=this.transitionsBetween(t,i),c=Rt.shiftPoint(r,n,(s+1)*4),d=Rt.shiftPoint(n,r,(s+1)*4),g=this.transitionsBetween(c,t),y=this.transitionsBetween(d,i);return g<y?(e[0]=t,e[1]=r,e[2]=n,e[3]=i):(e[0]=r,e[1]=n,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],n=e[2],i=e[3],s=this.transitionsBetween(t,i),c=this.transitionsBetween(r,i),d=Rt.shiftPoint(t,r,(c+1)*4),g=Rt.shiftPoint(n,r,(s+1)*4);s=this.transitionsBetween(d,i),c=this.transitionsBetween(g,i);let y=new q(i.getX()+(n.getX()-r.getX())/(s+1),i.getY()+(n.getY()-r.getY())/(s+1)),T=new q(i.getX()+(t.getX()-r.getX())/(c+1),i.getY()+(t.getY()-r.getY())/(c+1));if(!this.isValid(y))return this.isValid(T)?T:null;if(!this.isValid(T))return y;let O=this.transitionsBetween(d,y)+this.transitionsBetween(g,y),H=this.transitionsBetween(d,T)+this.transitionsBetween(g,T);return O>H?y:T}shiftToModuleCenter(e){let t=e[0],r=e[1],n=e[2],i=e[3],s=this.transitionsBetween(t,i)+1,c=this.transitionsBetween(n,i)+1,d=Rt.shiftPoint(t,r,c*4),g=Rt.shiftPoint(n,r,s*4);s=this.transitionsBetween(d,i)+1,c=this.transitionsBetween(g,i)+1,(s&1)===1&&(s+=1),(c&1)===1&&(c+=1);let y=(t.getX()+r.getX()+n.getX()+i.getX())/4,T=(t.getY()+r.getY()+n.getY()+i.getY())/4;t=Rt.moveAway(t,y,T),r=Rt.moveAway(r,y,T),n=Rt.moveAway(n,y,T),i=Rt.moveAway(i,y,T);let O,H;return d=Rt.shiftPoint(t,r,c*4),d=Rt.shiftPoint(d,i,s*4),O=Rt.shiftPoint(r,t,c*4),O=Rt.shiftPoint(O,n,s*4),g=Rt.shiftPoint(n,i,c*4),g=Rt.shiftPoint(g,r,s*4),H=Rt.shiftPoint(i,n,c*4),H=Rt.shiftPoint(H,t,s*4),[d,O,g,H]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,n,i,s,c){return Ne.getInstance().sampleGrid(e,s,c,.5,.5,s-.5,.5,s-.5,c-.5,.5,c-.5,t.getX(),t.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),i=Math.trunc(t.getX()),s=Math.trunc(t.getY()),c=Math.abs(s-n)>Math.abs(i-r);if(c){let se=r;r=n,n=se,se=i,i=s,s=se}let d=Math.abs(i-r),g=Math.abs(s-n),y=-d/2,T=n<s?1:-1,O=r<i?1:-1,H=0,ne=this.image.get(c?n:r,c?r:n);for(let se=r,Ce=n;se!==i;se+=O){let _e=this.image.get(c?Ce:se,c?se:Ce);if(_e!==ne&&(H++,ne=_e),y+=g,y>0){if(Ce===s)break;Ce+=T,y-=d}}return H}}class Gr{constructor(){this.decoder=new Ka}decode(e,t=null){let r,n;if(t!=null&&t.has($.PURE_BARCODE)){const g=Gr.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(g),n=Gr.NO_POINTS}else{const g=new Rt(e.getBlackMatrix()).detect();r=this.decoder.decode(g.getBits()),n=g.getPoints()}const i=r.getRawBytes(),s=new v(r.getText(),i,8*i.length,n,F.DATA_MATRIX,E.currentTimeMillis()),c=r.getByteSegments();c!=null&&s.putMetadata(V.BYTE_SEGMENTS,c);const d=r.getECLevel();return d!=null&&s.putMetadata(V.ERROR_CORRECTION_LEVEL,d),s}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t==null||r==null)throw new L;const n=this.moduleSize(t,e);let i=t[1];const s=r[1];let c=t[0];const g=(r[0]-c+1)/n,y=(s-i+1)/n;if(g<=0||y<=0)throw new L;const T=n/2;i+=T,c+=T;const O=new re(g,y);for(let H=0;H<y;H++){const ne=i+H*n;for(let se=0;se<g;se++)e.get(c+se*n,ne)&&O.set(se,H)}return O}static moduleSize(e,t){const r=t.getWidth();let n=e[0];const i=e[1];for(;n<r&&t.get(n,i);)n++;if(n===r)throw new L;const s=n-e[0];if(s===0)throw new L;return s}}Gr.NO_POINTS=[];class Ja extends X{constructor(e=500){super(new Gr,e)}}var mn;(function(I){I[I.L=0]="L",I[I.M=1]="M",I[I.Q=2]="Q",I[I.H=3]="H"})(mn||(mn={}));class _t{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,_t.FOR_BITS.set(r,this),_t.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return _t.L;case"M":return _t.M;case"Q":return _t.Q;case"H":return _t.H;default:throw new m(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof _t))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=_t.FOR_BITS.size)throw new A;return _t.FOR_BITS.get(e)}}_t.FOR_BITS=new Map,_t.FOR_VALUE=new Map,_t.L=new _t(mn.L,"L",1),_t.M=new _t(mn.M,"M",0),_t.Q=new _t(mn.Q,"Q",3),_t.H=new _t(mn.H,"H",2);class $t{constructor(e){this.errorCorrectionLevel=_t.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return N.bitCount(e^t)}static decodeFormatInformation(e,t){const r=$t.doDecodeFormatInformation(e,t);return r!==null?r:$t.doDecodeFormatInformation(e^$t.FORMAT_INFO_MASK_QR,t^$t.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,n=0;for(const i of $t.FORMAT_INFO_DECODE_LOOKUP){const s=i[0];if(s===e||s===t)return new $t(i[1]);let c=$t.numBitsDiffering(e,s);c<r&&(n=i[1],r=c),e!==t&&(c=$t.numBitsDiffering(t,s),c<r&&(n=i[1],r=c))}return r<=3?new $t(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof $t))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}$t.FORMAT_INFO_MASK_QR=21522,$t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class we{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class P{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qe{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let n=0;const i=r[0].getECCodewordsPerBlock(),s=r[0].getECBlocks();for(const c of s)n+=c.getCount()*(c.getDataCodewords()+i);this.totalCodewords=n}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new j;try{return this.getVersionForNumber((e-17)/4)}catch{throw new j}}static getVersionForNumber(e){if(e<1||e>40)throw new A;return qe.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let n=0;n<qe.VERSION_DECODE_INFO.length;n++){const i=qe.VERSION_DECODE_INFO[n];if(i===e)return qe.getVersionForNumber(n+7);const s=$t.numBitsDiffering(e,i);s<t&&(r=n+7,t=s)}return t<=3?qe.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new re(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let n=0;n<r;n++){const i=this.alignmentPatternCenters[n]-2;for(let s=0;s<r;s++)n===0&&(s===0||s===r-1)||n===r-1&&s===0||t.setRegion(this.alignmentPatternCenters[s]-2,i,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}qe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),qe.VERSIONS=[new qe(1,new Int32Array(0),new we(7,new P(1,19)),new we(10,new P(1,16)),new we(13,new P(1,13)),new we(17,new P(1,9))),new qe(2,Int32Array.from([6,18]),new we(10,new P(1,34)),new we(16,new P(1,28)),new we(22,new P(1,22)),new we(28,new P(1,16))),new qe(3,Int32Array.from([6,22]),new we(15,new P(1,55)),new we(26,new P(1,44)),new we(18,new P(2,17)),new we(22,new P(2,13))),new qe(4,Int32Array.from([6,26]),new we(20,new P(1,80)),new we(18,new P(2,32)),new we(26,new P(2,24)),new we(16,new P(4,9))),new qe(5,Int32Array.from([6,30]),new we(26,new P(1,108)),new we(24,new P(2,43)),new we(18,new P(2,15),new P(2,16)),new we(22,new P(2,11),new P(2,12))),new qe(6,Int32Array.from([6,34]),new we(18,new P(2,68)),new we(16,new P(4,27)),new we(24,new P(4,19)),new we(28,new P(4,15))),new qe(7,Int32Array.from([6,22,38]),new we(20,new P(2,78)),new we(18,new P(4,31)),new we(18,new P(2,14),new P(4,15)),new we(26,new P(4,13),new P(1,14))),new qe(8,Int32Array.from([6,24,42]),new we(24,new P(2,97)),new we(22,new P(2,38),new P(2,39)),new we(22,new P(4,18),new P(2,19)),new we(26,new P(4,14),new P(2,15))),new qe(9,Int32Array.from([6,26,46]),new we(30,new P(2,116)),new we(22,new P(3,36),new P(2,37)),new we(20,new P(4,16),new P(4,17)),new we(24,new P(4,12),new P(4,13))),new qe(10,Int32Array.from([6,28,50]),new we(18,new P(2,68),new P(2,69)),new we(26,new P(4,43),new P(1,44)),new we(24,new P(6,19),new P(2,20)),new we(28,new P(6,15),new P(2,16))),new qe(11,Int32Array.from([6,30,54]),new we(20,new P(4,81)),new we(30,new P(1,50),new P(4,51)),new we(28,new P(4,22),new P(4,23)),new we(24,new P(3,12),new P(8,13))),new qe(12,Int32Array.from([6,32,58]),new we(24,new P(2,92),new P(2,93)),new we(22,new P(6,36),new P(2,37)),new we(26,new P(4,20),new P(6,21)),new we(28,new P(7,14),new P(4,15))),new qe(13,Int32Array.from([6,34,62]),new we(26,new P(4,107)),new we(22,new P(8,37),new P(1,38)),new we(24,new P(8,20),new P(4,21)),new we(22,new P(12,11),new P(4,12))),new qe(14,Int32Array.from([6,26,46,66]),new we(30,new P(3,115),new P(1,116)),new we(24,new P(4,40),new P(5,41)),new we(20,new P(11,16),new P(5,17)),new we(24,new P(11,12),new P(5,13))),new qe(15,Int32Array.from([6,26,48,70]),new we(22,new P(5,87),new P(1,88)),new we(24,new P(5,41),new P(5,42)),new we(30,new P(5,24),new P(7,25)),new we(24,new P(11,12),new P(7,13))),new qe(16,Int32Array.from([6,26,50,74]),new we(24,new P(5,98),new P(1,99)),new we(28,new P(7,45),new P(3,46)),new we(24,new P(15,19),new P(2,20)),new we(30,new P(3,15),new P(13,16))),new qe(17,Int32Array.from([6,30,54,78]),new we(28,new P(1,107),new P(5,108)),new we(28,new P(10,46),new P(1,47)),new we(28,new P(1,22),new P(15,23)),new we(28,new P(2,14),new P(17,15))),new qe(18,Int32Array.from([6,30,56,82]),new we(30,new P(5,120),new P(1,121)),new we(26,new P(9,43),new P(4,44)),new we(28,new P(17,22),new P(1,23)),new we(28,new P(2,14),new P(19,15))),new qe(19,Int32Array.from([6,30,58,86]),new we(28,new P(3,113),new P(4,114)),new we(26,new P(3,44),new P(11,45)),new we(26,new P(17,21),new P(4,22)),new we(26,new P(9,13),new P(16,14))),new qe(20,Int32Array.from([6,34,62,90]),new we(28,new P(3,107),new P(5,108)),new we(26,new P(3,41),new P(13,42)),new we(30,new P(15,24),new P(5,25)),new we(28,new P(15,15),new P(10,16))),new qe(21,Int32Array.from([6,28,50,72,94]),new we(28,new P(4,116),new P(4,117)),new we(26,new P(17,42)),new we(28,new P(17,22),new P(6,23)),new we(30,new P(19,16),new P(6,17))),new qe(22,Int32Array.from([6,26,50,74,98]),new we(28,new P(2,111),new P(7,112)),new we(28,new P(17,46)),new we(30,new P(7,24),new P(16,25)),new we(24,new P(34,13))),new qe(23,Int32Array.from([6,30,54,78,102]),new we(30,new P(4,121),new P(5,122)),new we(28,new P(4,47),new P(14,48)),new we(30,new P(11,24),new P(14,25)),new we(30,new P(16,15),new P(14,16))),new qe(24,Int32Array.from([6,28,54,80,106]),new we(30,new P(6,117),new P(4,118)),new we(28,new P(6,45),new P(14,46)),new we(30,new P(11,24),new P(16,25)),new we(30,new P(30,16),new P(2,17))),new qe(25,Int32Array.from([6,32,58,84,110]),new we(26,new P(8,106),new P(4,107)),new we(28,new P(8,47),new P(13,48)),new we(30,new P(7,24),new P(22,25)),new we(30,new P(22,15),new P(13,16))),new qe(26,Int32Array.from([6,30,58,86,114]),new we(28,new P(10,114),new P(2,115)),new we(28,new P(19,46),new P(4,47)),new we(28,new P(28,22),new P(6,23)),new we(30,new P(33,16),new P(4,17))),new qe(27,Int32Array.from([6,34,62,90,118]),new we(30,new P(8,122),new P(4,123)),new we(28,new P(22,45),new P(3,46)),new we(30,new P(8,23),new P(26,24)),new we(30,new P(12,15),new P(28,16))),new qe(28,Int32Array.from([6,26,50,74,98,122]),new we(30,new P(3,117),new P(10,118)),new we(28,new P(3,45),new P(23,46)),new we(30,new P(4,24),new P(31,25)),new we(30,new P(11,15),new P(31,16))),new qe(29,Int32Array.from([6,30,54,78,102,126]),new we(30,new P(7,116),new P(7,117)),new we(28,new P(21,45),new P(7,46)),new we(30,new P(1,23),new P(37,24)),new we(30,new P(19,15),new P(26,16))),new qe(30,Int32Array.from([6,26,52,78,104,130]),new we(30,new P(5,115),new P(10,116)),new we(28,new P(19,47),new P(10,48)),new we(30,new P(15,24),new P(25,25)),new we(30,new P(23,15),new P(25,16))),new qe(31,Int32Array.from([6,30,56,82,108,134]),new we(30,new P(13,115),new P(3,116)),new we(28,new P(2,46),new P(29,47)),new we(30,new P(42,24),new P(1,25)),new we(30,new P(23,15),new P(28,16))),new qe(32,Int32Array.from([6,34,60,86,112,138]),new we(30,new P(17,115)),new we(28,new P(10,46),new P(23,47)),new we(30,new P(10,24),new P(35,25)),new we(30,new P(19,15),new P(35,16))),new qe(33,Int32Array.from([6,30,58,86,114,142]),new we(30,new P(17,115),new P(1,116)),new we(28,new P(14,46),new P(21,47)),new we(30,new P(29,24),new P(19,25)),new we(30,new P(11,15),new P(46,16))),new qe(34,Int32Array.from([6,34,62,90,118,146]),new we(30,new P(13,115),new P(6,116)),new we(28,new P(14,46),new P(23,47)),new we(30,new P(44,24),new P(7,25)),new we(30,new P(59,16),new P(1,17))),new qe(35,Int32Array.from([6,30,54,78,102,126,150]),new we(30,new P(12,121),new P(7,122)),new we(28,new P(12,47),new P(26,48)),new we(30,new P(39,24),new P(14,25)),new we(30,new P(22,15),new P(41,16))),new qe(36,Int32Array.from([6,24,50,76,102,128,154]),new we(30,new P(6,121),new P(14,122)),new we(28,new P(6,47),new P(34,48)),new we(30,new P(46,24),new P(10,25)),new we(30,new P(2,15),new P(64,16))),new qe(37,Int32Array.from([6,28,54,80,106,132,158]),new we(30,new P(17,122),new P(4,123)),new we(28,new P(29,46),new P(14,47)),new we(30,new P(49,24),new P(10,25)),new we(30,new P(24,15),new P(46,16))),new qe(38,Int32Array.from([6,32,58,84,110,136,162]),new we(30,new P(4,122),new P(18,123)),new we(28,new P(13,46),new P(32,47)),new we(30,new P(48,24),new P(14,25)),new we(30,new P(42,15),new P(32,16))),new qe(39,Int32Array.from([6,26,54,82,110,138,166]),new we(30,new P(20,117),new P(4,118)),new we(28,new P(40,47),new P(7,48)),new we(30,new P(43,24),new P(22,25)),new we(30,new P(10,15),new P(67,16))),new qe(40,Int32Array.from([6,30,58,86,114,142,170]),new we(30,new P(19,118),new P(6,119)),new we(28,new P(18,47),new P(31,48)),new we(30,new P(34,24),new P(34,25)),new we(30,new P(20,15),new P(61,16)))];var kt;(function(I){I[I.DATA_MASK_000=0]="DATA_MASK_000",I[I.DATA_MASK_001=1]="DATA_MASK_001",I[I.DATA_MASK_010=2]="DATA_MASK_010",I[I.DATA_MASK_011=3]="DATA_MASK_011",I[I.DATA_MASK_100=4]="DATA_MASK_100",I[I.DATA_MASK_101=5]="DATA_MASK_101",I[I.DATA_MASK_110=6]="DATA_MASK_110",I[I.DATA_MASK_111=7]="DATA_MASK_111"})(kt||(kt={}));class Cr{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)}}Cr.values=new Map([[kt.DATA_MASK_000,new Cr(kt.DATA_MASK_000,(I,e)=>(I+e&1)===0)],[kt.DATA_MASK_001,new Cr(kt.DATA_MASK_001,(I,e)=>(I&1)===0)],[kt.DATA_MASK_010,new Cr(kt.DATA_MASK_010,(I,e)=>e%3===0)],[kt.DATA_MASK_011,new Cr(kt.DATA_MASK_011,(I,e)=>(I+e)%3===0)],[kt.DATA_MASK_100,new Cr(kt.DATA_MASK_100,(I,e)=>(Math.floor(I/2)+Math.floor(e/3)&1)===0)],[kt.DATA_MASK_101,new Cr(kt.DATA_MASK_101,(I,e)=>I*e%6===0)],[kt.DATA_MASK_110,new Cr(kt.DATA_MASK_110,(I,e)=>I*e%6<3)],[kt.DATA_MASK_111,new Cr(kt.DATA_MASK_111,(I,e)=>(I+e+I*e%3&1)===0)]]);class el{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new j;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const t=this.bitMatrix.getHeight();let r=0;const n=t-7;for(let i=t-1;i>=n;i--)r=this.copyBit(8,i,r);for(let i=t-8;i<t;i++)r=this.copyBit(i,8,r);if(this.parsedFormatInfo=$t.decodeFormatInformation(e,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return qe.getVersionForNumber(t);let r=0;const n=e-11;for(let s=5;s>=0;s--)for(let c=e-9;c>=n;c--)r=this.copyBit(c,s,r);let i=qe.decodeVersionInformation(r);if(i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;r=0;for(let s=5;s>=0;s--)for(let c=e-9;c>=n;c--)r=this.copyBit(s,c,r);if(i=qe.decodeVersionInformation(r),i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new j}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=Cr.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);const i=t.buildFunctionPattern();let s=!0;const c=new Uint8Array(t.getTotalCodewords());let d=0,g=0,y=0;for(let T=n-1;T>0;T-=2){T===6&&T--;for(let O=0;O<n;O++){const H=s?n-1-O:O;for(let ne=0;ne<2;ne++)i.get(T-ne,H)||(y++,g<<=1,this.bitMatrix.get(T-ne,H)&&(g|=1),y===8&&(c[d++]=g,y=0,g=0))}s=!s}if(d!==t.getTotalCodewords())throw new j;return c}remask(){if(this.parsedFormatInfo===null)return;const e=Cr.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let n=t+1,i=e.getHeight();n<i;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))}}class zi{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new A;const n=t.getECBlocksForLevel(r);let i=0;const s=n.getECBlocks();for(const ne of s)i+=ne.getCount();const c=new Array(i);let d=0;for(const ne of s)for(let se=0;se<ne.getCount();se++){const Ce=ne.getDataCodewords(),_e=n.getECCodewordsPerBlock()+Ce;c[d++]=new zi(Ce,new Uint8Array(_e))}const g=c[0].codewords.length;let y=c.length-1;for(;y>=0&&c[y].codewords.length!==g;)y--;y++;const T=g-n.getECCodewordsPerBlock();let O=0;for(let ne=0;ne<T;ne++)for(let se=0;se<d;se++)c[se].codewords[ne]=e[O++];for(let ne=y;ne<d;ne++)c[ne].codewords[T]=e[O++];const H=c[0].codewords.length;for(let ne=T;ne<H;ne++)for(let se=0;se<d;se++){const Ce=se<y?ne:ne+1;c[se].codewords[Ce]=e[O++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ar;(function(I){I[I.TERMINATOR=0]="TERMINATOR",I[I.NUMERIC=1]="NUMERIC",I[I.ALPHANUMERIC=2]="ALPHANUMERIC",I[I.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",I[I.BYTE=4]="BYTE",I[I.ECI=5]="ECI",I[I.KANJI=6]="KANJI",I[I.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",I[I.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",I[I.HANZI=9]="HANZI"})(Ar||(Ar={}));class $e{constructor(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,$e.FOR_BITS.set(n,this),$e.FOR_VALUE.set(e,this)}static forBits(e){const t=$e.FOR_BITS.get(e);if(t===void 0)throw new A;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return t<=9?r=0:t<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof $e))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}$e.FOR_BITS=new Map,$e.FOR_VALUE=new Map,$e.TERMINATOR=new $e(Ar.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),$e.NUMERIC=new $e(Ar.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),$e.ALPHANUMERIC=new $e(Ar.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),$e.STRUCTURED_APPEND=new $e(Ar.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),$e.BYTE=new $e(Ar.BYTE,"BYTE",Int32Array.from([8,16,16]),4),$e.ECI=new $e(Ar.ECI,"ECI",Int32Array.from([0,0,0]),7),$e.KANJI=new $e(Ar.KANJI,"KANJI",Int32Array.from([8,10,12]),8),$e.FNC1_FIRST_POSITION=new $e(Ar.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),$e.FNC1_SECOND_POSITION=new $e(Ar.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),$e.HANZI=new $e(Ar.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Tt{static decode(e,t,r,n){const i=new Hi(e);let s=new z;const c=new Array;let d=-1,g=-1;try{let y=null,T=!1,O;do{if(i.available()<4)O=$e.TERMINATOR;else{const H=i.readBits(4);O=$e.forBits(H)}switch(O){case $e.TERMINATOR:break;case $e.FNC1_FIRST_POSITION:case $e.FNC1_SECOND_POSITION:T=!0;break;case $e.STRUCTURED_APPEND:if(i.available()<16)throw new j;d=i.readBits(8),g=i.readBits(8);break;case $e.ECI:const H=Tt.parseECIValue(i);if(y=ae.getCharacterSetECIByValue(H),y===null)throw new j;break;case $e.HANZI:const ne=i.readBits(4),se=i.readBits(O.getCharacterCountBits(t));ne===Tt.GB2312_SUBSET&&Tt.decodeHanziSegment(i,s,se);break;default:const Ce=i.readBits(O.getCharacterCountBits(t));switch(O){case $e.NUMERIC:Tt.decodeNumericSegment(i,s,Ce);break;case $e.ALPHANUMERIC:Tt.decodeAlphanumericSegment(i,s,Ce,T);break;case $e.BYTE:Tt.decodeByteSegment(i,s,Ce,y,c,n);break;case $e.KANJI:Tt.decodeKanjiSegment(i,s,Ce);break;default:throw new j}break}}while(O!==$e.TERMINATOR)}catch{throw new j}return new te(e,s.toString(),c.length===0?null:c,r===null?null:r.toString(),d,g)}static decodeHanziSegment(e,t,r){if(r*13>e.available())throw new j;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const s=e.readBits(13);let c=s/96<<8&4294967295|s%96;c<959?c+=41377:c+=42657,n[i]=c>>8&255,n[i+1]=c&255,i+=2,r--}try{t.append(fe.decode(n,he.GB2312))}catch(s){throw new j(s)}}static decodeKanjiSegment(e,t,r){if(r*13>e.available())throw new j;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const s=e.readBits(13);let c=s/192<<8&4294967295|s%192;c<7936?c+=33088:c+=49472,n[i]=c>>8,n[i+1]=c,i+=2,r--}try{t.append(fe.decode(n,he.SHIFT_JIS))}catch(s){throw new j(s)}}static decodeByteSegment(e,t,r,n,i,s){if(8*r>e.available())throw new j;const c=new Uint8Array(r);for(let g=0;g<r;g++)c[g]=e.readBits(8);let d;n===null?d=he.guessEncoding(c,s):d=n.getName();try{t.append(fe.decode(c,d))}catch(g){throw new j(g)}i.push(c)}static toAlphaNumericChar(e){if(e>=Tt.ALPHANUMERIC_CHARS.length)throw new j;return Tt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,n){const i=t.length();for(;r>1;){if(e.available()<11)throw new j;const s=e.readBits(11);t.append(Tt.toAlphaNumericChar(Math.floor(s/45))),t.append(Tt.toAlphaNumericChar(s%45)),r-=2}if(r===1){if(e.available()<6)throw new j;t.append(Tt.toAlphaNumericChar(e.readBits(6)))}if(n)for(let s=i;s<t.length();s++)t.charAt(s)==="%"&&(s<t.length()-1&&t.charAt(s+1)==="%"?t.deleteCharAt(s+1):t.setCharAt(s,""))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new j;const n=e.readBits(10);if(n>=1e3)throw new j;t.append(Tt.toAlphaNumericChar(Math.floor(n/100))),t.append(Tt.toAlphaNumericChar(Math.floor(n/10)%10)),t.append(Tt.toAlphaNumericChar(n%10)),r-=3}if(r===2){if(e.available()<7)throw new j;const n=e.readBits(7);if(n>=100)throw new j;t.append(Tt.toAlphaNumericChar(Math.floor(n/10))),t.append(Tt.toAlphaNumericChar(n%10))}else if(r===1){if(e.available()<4)throw new j;const n=e.readBits(4);if(n>=10)throw new j;t.append(Tt.toAlphaNumericChar(n))}}static parseECIValue(e){const t=e.readBits(8);if(!(t&128))return t&127;if((t&192)===128){const r=e.readBits(8);return(t&63)<<8&4294967295|r}if((t&224)===192){const r=e.readBits(16);return(t&31)<<16&4294967295|r}throw new j}}Tt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Tt.GB2312_SUBSET=1;class yo{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class tl{constructor(){this.rsDecoder=new Fe(k.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(re.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new el(e);let n=null;try{return this.decodeBitMatrixParser(r,t)}catch(i){n=i}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const i=this.decodeBitMatrixParser(r,t);return i.setOther(new yo(!0)),i}catch(i){throw n!==null?n:i}}decodeBitMatrixParser(e,t){const r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),s=zi.getDataBlocks(i,r,n);let c=0;for(const y of s)c+=y.getNumDataCodewords();const d=new Uint8Array(c);let g=0;for(const y of s){const T=y.getCodewords(),O=y.getNumDataCodewords();this.correctErrors(T,O);for(let H=0;H<O;H++)d[g++]=T[H]}return Tt.decode(d,r,n,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch{throw new S}for(let n=0;n<t;n++)e[n]=r[n]}}class ji extends q{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=(this.getX()+t)/2,i=(this.getY()+e)/2,s=(this.estimatedModuleSize+r)/2;return new ji(n,i,s)}}class oi{constructor(e,t,r,n,i,s,c){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=i,this.moduleSize=s,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=this.width,n=e+r,i=this.startY+t/2,s=new Int32Array(3),c=this.image;for(let d=0;d<t;d++){const g=i+(d&1?-Math.floor((d+1)/2):Math.floor((d+1)/2));s[0]=0,s[1]=0,s[2]=0;let y=e;for(;y<n&&!c.get(y,g);)y++;let T=0;for(;y<n;){if(c.get(y,g))if(T===1)s[1]++;else if(T===2){if(this.foundPatternCross(s)){const O=this.handlePossibleCenter(s,g,y);if(O!==null)return O}s[0]=s[2],s[1]=1,s[2]=0,T=1}else s[++T]++;else T===1&&T++,s[T]++;y++}if(this.foundPatternCross(s)){const O=this.handlePossibleCenter(s,g,n);if(O!==null)return O}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new L}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0}crossCheckVertical(e,t,r,n){const i=this.image,s=i.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let d=e;for(;d>=0&&i.get(t,d)&&c[1]<=r;)c[1]++,d--;if(d<0||c[1]>r)return NaN;for(;d>=0&&!i.get(t,d)&&c[0]<=r;)c[0]++,d--;if(c[0]>r)return NaN;for(d=e+1;d<s&&i.get(t,d)&&c[1]<=r;)c[1]++,d++;if(d===s||c[1]>r)return NaN;for(;d<s&&!i.get(t,d)&&c[2]<=r;)c[2]++,d++;if(c[2]>r)return NaN;const g=c[0]+c[1]+c[2];return 5*Math.abs(g-n)>=2*n?NaN:this.foundPatternCross(c)?oi.centerFromEnd(c,d):NaN}handlePossibleCenter(e,t,r){const n=e[0]+e[1]+e[2],i=oi.centerFromEnd(e,r),s=this.crossCheckVertical(t,i,2*e[1],n);if(!isNaN(s)){const c=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(c,s,i))return g.combineEstimate(s,i,c);const d=new ji(i,s,c);this.possibleCenters.push(d),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(d)}return null}}class Wi extends q{constructor(e,t,r,n){super(e,t),this.estimatedModuleSize=r,this.count=n,n===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const n=Math.abs(e-this.estimatedModuleSize);return n<=1||n<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=this.count+1,i=(this.count*this.getX()+t)/n,s=(this.count*this.getY()+e)/n,c=(this.count*this.estimatedModuleSize+r)/n;return new Wi(i,s,c,n)}}class rl{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Pt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get($.TRY_HARDER)!==void 0,r=e!=null&&e.get($.PURE_BARCODE)!==void 0,n=this.image,i=n.getHeight(),s=n.getWidth();let c=Math.floor(3*i/(4*Pt.MAX_MODULES));(c<Pt.MIN_SKIP||t)&&(c=Pt.MIN_SKIP);let d=!1;const g=new Int32Array(5);for(let T=c-1;T<i&&!d;T+=c){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let O=0;for(let H=0;H<s;H++)if(n.get(H,T))(O&1)===1&&O++,g[O]++;else if(O&1)g[O]++;else if(O===4)if(Pt.foundPatternCross(g)){if(this.handlePossibleCenter(g,T,H,r)===!0)if(c=2,this.hasSkipped===!0)d=this.haveMultiplyConfirmedCenters();else{const se=this.findRowSkip();se>g[2]&&(T+=se-g[2]-c,H=s-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,O=3;continue}O=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,O=3;else g[++O]++;Pt.foundPatternCross(g)&&this.handlePossibleCenter(g,T,s,r)===!0&&(c=g[0],this.hasSkipped&&(d=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return q.orderBestPatterns(y),new rl(y)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let i=0;i<5;i++){const s=e[i];if(s===0)return!1;t+=s}if(t<7)return!1;const r=t/7,n=r/2;return Math.abs(r-e[0])<n&&Math.abs(r-e[1])<n&&Math.abs(3*r-e[2])<3*n&&Math.abs(r-e[3])<n&&Math.abs(r-e[4])<n}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,n){const i=this.getCrossCheckStateCount();let s=0;const c=this.image;for(;e>=s&&t>=s&&c.get(t-s,e-s);)i[2]++,s++;if(e<s||t<s)return!1;for(;e>=s&&t>=s&&!c.get(t-s,e-s)&&i[1]<=r;)i[1]++,s++;if(e<s||t<s||i[1]>r)return!1;for(;e>=s&&t>=s&&c.get(t-s,e-s)&&i[0]<=r;)i[0]++,s++;if(i[0]>r)return!1;const d=c.getHeight(),g=c.getWidth();for(s=1;e+s<d&&t+s<g&&c.get(t+s,e+s);)i[2]++,s++;if(e+s>=d||t+s>=g)return!1;for(;e+s<d&&t+s<g&&!c.get(t+s,e+s)&&i[3]<r;)i[3]++,s++;if(e+s>=d||t+s>=g||i[3]>=r)return!1;for(;e+s<d&&t+s<g&&c.get(t+s,e+s)&&i[4]<r;)i[4]++,s++;if(i[4]>=r)return!1;const y=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(y-n)<2*n&&Pt.foundPatternCross(i)}crossCheckVertical(e,t,r,n){const i=this.image,s=i.getHeight(),c=this.getCrossCheckStateCount();let d=e;for(;d>=0&&i.get(t,d);)c[2]++,d--;if(d<0)return NaN;for(;d>=0&&!i.get(t,d)&&c[1]<=r;)c[1]++,d--;if(d<0||c[1]>r)return NaN;for(;d>=0&&i.get(t,d)&&c[0]<=r;)c[0]++,d--;if(c[0]>r)return NaN;for(d=e+1;d<s&&i.get(t,d);)c[2]++,d++;if(d===s)return NaN;for(;d<s&&!i.get(t,d)&&c[3]<r;)c[3]++,d++;if(d===s||c[3]>=r)return NaN;for(;d<s&&i.get(t,d)&&c[4]<r;)c[4]++,d++;if(c[4]>=r)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-n)>=2*n?NaN:Pt.foundPatternCross(c)?Pt.centerFromEnd(c,d):NaN}crossCheckHorizontal(e,t,r,n){const i=this.image,s=i.getWidth(),c=this.getCrossCheckStateCount();let d=e;for(;d>=0&&i.get(d,t);)c[2]++,d--;if(d<0)return NaN;for(;d>=0&&!i.get(d,t)&&c[1]<=r;)c[1]++,d--;if(d<0||c[1]>r)return NaN;for(;d>=0&&i.get(d,t)&&c[0]<=r;)c[0]++,d--;if(c[0]>r)return NaN;for(d=e+1;d<s&&i.get(d,t);)c[2]++,d++;if(d===s)return NaN;for(;d<s&&!i.get(d,t)&&c[3]<r;)c[3]++,d++;if(d===s||c[3]>=r)return NaN;for(;d<s&&i.get(d,t)&&c[4]<r;)c[4]++,d++;if(c[4]>=r)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-n)>=n?NaN:Pt.foundPatternCross(c)?Pt.centerFromEnd(c,d):NaN}handlePossibleCenter(e,t,r,n){const i=e[0]+e[1]+e[2]+e[3]+e[4];let s=Pt.centerFromEnd(e,r),c=this.crossCheckVertical(t,Math.floor(s),e[2],i);if(!isNaN(c)&&(s=this.crossCheckHorizontal(Math.floor(s),Math.floor(c),e[2],i),!isNaN(s)&&(!n||this.crossCheckDiagonal(Math.floor(c),Math.floor(s),e[2],i)))){const d=i/7;let g=!1;const y=this.possibleCenters;for(let T=0,O=y.length;T<O;T++){const H=y[T];if(H.aboutEquals(d,c,s)){y[T]=H.combineEstimate(c,s,d),g=!0;break}}if(!g){const T=new Wi(s,c,d);y.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const r of this.possibleCenters)if(r.getCount()>=Pt.CENTER_QUORUM)if(t==null)t=r;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-r.getX())-Math.abs(t.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const s of this.possibleCenters)s.getCount()>=Pt.CENTER_QUORUM&&(e++,t+=s.getEstimatedModuleSize());if(e<3)return!1;const n=t/r;let i=0;for(const s of this.possibleCenters)i+=Math.abs(s.getEstimatedModuleSize()-n);return i<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new L;const t=this.possibleCenters;let r;if(e>3){let n=0,i=0;for(const d of this.possibleCenters){const g=d.getEstimatedModuleSize();n+=g,i+=g*g}r=n/e;let s=Math.sqrt(i/e-r*r);t.sort((d,g)=>{const y=Math.abs(g.getEstimatedModuleSize()-r),T=Math.abs(d.getEstimatedModuleSize()-r);return y<T?-1:y>T?1:0});const c=Math.max(.2*r,s);for(let d=0;d<t.length&&t.length>3;d++){const g=t[d];Math.abs(g.getEstimatedModuleSize()-r)>c&&(t.splice(d,1),d--)}}if(t.length>3){let n=0;for(const i of t)n+=i.getEstimatedModuleSize();r=n/t.length,t.sort((i,s)=>{if(s.getCount()===i.getCount()){const c=Math.abs(s.getEstimatedModuleSize()-r),d=Math.abs(i.getEstimatedModuleSize()-r);return c<d?1:c>d?-1:0}else return s.getCount()-i.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}Pt.CENTER_QUORUM=2,Pt.MIN_SKIP=3,Pt.MAX_MODULES=57;class On{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get($.NEED_RESULT_POINT_CALLBACK);const r=new Pt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(r)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),i=this.calculateModuleSize(t,r,n);if(i<1)throw new L("No pattern found in proccess finder.");const s=On.computeDimension(t,r,n,i),c=qe.getProvisionalVersionForDimension(s),d=c.getDimensionForVersion()-7;let g=null;if(c.getAlignmentPatternCenters().length>0){const H=r.getX()-t.getX()+n.getX(),ne=r.getY()-t.getY()+n.getY(),se=1-3/d,Ce=Math.floor(t.getX()+se*(H-t.getX())),_e=Math.floor(t.getY()+se*(ne-t.getY()));for(let Pe=4;Pe<=16;Pe<<=1)try{g=this.findAlignmentInRegion(i,Ce,_e,Pe);break}catch(Ue){if(!(Ue instanceof L))throw Ue}}const y=On.createTransform(t,r,n,g,s),T=On.sampleGrid(this.image,y,s);let O;return g===null?O=[n,t,r]:O=[n,t,r,g],new xe(T,O)}static createTransform(e,t,r,n,i){const s=i-3.5;let c,d,g,y;return n!==null?(c=n.getX(),d=n.getY(),g=s-3,y=g):(c=t.getX()-e.getX()+r.getX(),d=t.getY()-e.getY()+r.getY(),g=s,y=s),Ae.quadrilateralToQuadrilateral(3.5,3.5,s,3.5,g,y,3.5,s,e.getX(),e.getY(),t.getX(),t.getY(),c,d,r.getX(),r.getY())}static sampleGrid(e,t,r){return Ne.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,n){const i=ee.round(q.distance(e,t)/n),s=ee.round(q.distance(e,r)/n);let c=Math.floor((i+s)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new L("Dimensions could be not found.")}return c}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,n){let i=this.sizeOfBlackWhiteBlackRun(e,t,r,n),s=1,c=e-(r-e);c<0?(s=e/(e-c),c=0):c>=this.image.getWidth()&&(s=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);let d=Math.floor(t-(n-t)*s);return s=1,d<0?(s=t/(t-d),d=0):d>=this.image.getHeight()&&(s=(this.image.getHeight()-1-t)/(d-t),d=this.image.getHeight()-1),c=Math.floor(e+(c-e)*s),i+=this.sizeOfBlackWhiteBlackRun(e,t,c,d),i-1}sizeOfBlackWhiteBlackRun(e,t,r,n){const i=Math.abs(n-t)>Math.abs(r-e);if(i){let H=e;e=t,t=H,H=r,r=n,n=H}const s=Math.abs(r-e),c=Math.abs(n-t);let d=-s/2;const g=e<r?1:-1,y=t<n?1:-1;let T=0;const O=r+g;for(let H=e,ne=t;H!==O;H+=g){const se=i?ne:H,Ce=i?H:ne;if(T===1===this.image.get(se,Ce)){if(T===2)return ee.distance(H,ne,e,t);T++}if(d+=c,d>0){if(ne===n)break;ne+=y,d-=s}}return T===2?ee.distance(r+g,n,e,t):NaN}findAlignmentInRegion(e,t,r,n){const i=Math.floor(n*e),s=Math.max(0,t-i),c=Math.min(this.image.getWidth()-1,t+i);if(c-s<e*3)throw new L("Alignment top exceeds estimated module size.");const d=Math.max(0,r-i),g=Math.min(this.image.getHeight()-1,r+i);if(g-d<e*3)throw new L("Alignment bottom exceeds estimated module size.");return new oi(this.image,s,d,c-s,g-d,e,this.resultPointCallback).find()}}class Xr{constructor(){this.decoder=new tl}getDecoder(){return this.decoder}decode(e,t){let r,n;if(t!=null&&t.get($.PURE_BARCODE)!==void 0){const d=Xr.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(d,t),n=Xr.NO_POINTS}else{const d=new On(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(d.getBits(),t),n=d.getPoints()}r.getOther()instanceof yo&&r.getOther().applyMirroredCorrection(n);const i=new v(r.getText(),r.getRawBytes(),void 0,n,F.QR_CODE,void 0),s=r.getByteSegments();s!==null&&i.putMetadata(V.BYTE_SEGMENTS,s);const c=r.getECLevel();return c!==null&&i.putMetadata(V.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(i.putMetadata(V.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),i.putMetadata(V.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(t===null||r===null)throw new L;const n=this.moduleSize(t,e);let i=t[1],s=r[1],c=t[0],d=r[0];if(c>=d||i>=s)throw new L;if(s-i!==d-c&&(d=c+(s-i),d>=e.getWidth()))throw new L;const g=Math.round((d-c+1)/n),y=Math.round((s-i+1)/n);if(g<=0||y<=0)throw new L;if(y!==g)throw new L;const T=Math.floor(n/2);i+=T,c+=T;const O=c+Math.floor((g-1)*n)-d;if(O>0){if(O>T)throw new L;c-=O}const H=i+Math.floor((y-1)*n)-s;if(H>0){if(H>T)throw new L;i-=H}const ne=new re(g,y);for(let se=0;se<y;se++){const Ce=i+Math.floor(se*n);for(let _e=0;_e<g;_e++)e.get(c+Math.floor(_e*n),Ce)&&ne.set(_e,se)}return ne}static moduleSize(e,t){const r=t.getHeight(),n=t.getWidth();let i=e[0],s=e[1],c=!0,d=0;for(;i<n&&s<r;){if(c!==t.get(i,s)){if(++d===5)break;c=!c}i++,s++}if(i===n||s===r)throw new L;return(i-e[0])/7}}Xr.NO_POINTS=new Array;class Ke{PDF417Common(){}static getBitCountSum(e){return ee.sum(e)}static toIntArray(e){if(e==null||!e.length)return Ke.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const n of e)t[r++]=n;return t}static getCodeword(e){const t=B.binarySearch(Ke.SYMBOL_TABLE,e&262143);return t<0?-1:(Ke.CODEWORD_TABLE[t]-1)%Ke.NUMBER_OF_CODEWORDS}}Ke.NUMBER_OF_CODEWORDS=929,Ke.MAX_CODEWORDS_IN_BARCODE=Ke.NUMBER_OF_CODEWORDS-1,Ke.MIN_ROWS_IN_BARCODE=3,Ke.MAX_ROWS_IN_BARCODE=90,Ke.MODULES_IN_CODEWORD=17,Ke.MODULES_IN_STOP_PATTERN=18,Ke.BARS_IN_MODULE=8,Ke.EMPTY_INT_ARRAY=new Int32Array([]),Ke.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ke.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class nl{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class st{static detectMultiple(e,t,r){let n=e.getBlackMatrix(),i=st.detect(r,n);return i.length||(n=n.clone(),n.rotate180(),i=st.detect(r,n)),new nl(n,i)}static detect(e,t){const r=new Array;let n=0,i=0,s=!1;for(;n<t.getHeight();){const c=st.findVertices(t,n,i);if(c[0]==null&&c[3]==null){if(!s)break;s=!1,i=0;for(const d of r)d[1]!=null&&(n=Math.trunc(Math.max(n,d[1].getY()))),d[3]!=null&&(n=Math.max(n,Math.trunc(d[3].getY())));n+=st.ROW_STEP;continue}if(s=!0,r.push(c),!e)break;c[2]!=null?(i=Math.trunc(c[2].getX()),n=Math.trunc(c[2].getY())):(i=Math.trunc(c[4].getX()),n=Math.trunc(c[4].getY()))}return r}static findVertices(e,t,r){const n=e.getHeight(),i=e.getWidth(),s=new Array(8);return st.copyToResult(s,st.findRowsWithPattern(e,n,i,t,r,st.START_PATTERN),st.INDEXES_START_PATTERN),s[4]!=null&&(r=Math.trunc(s[4].getX()),t=Math.trunc(s[4].getY())),st.copyToResult(s,st.findRowsWithPattern(e,n,i,t,r,st.STOP_PATTERN),st.INDEXES_STOP_PATTERN),s}static copyToResult(e,t,r){for(let n=0;n<r.length;n++)e[r[n]]=t[n]}static findRowsWithPattern(e,t,r,n,i,s){const c=new Array(4);let d=!1;const g=new Int32Array(s.length);for(;n<t;n+=st.ROW_STEP){let T=st.findGuardPattern(e,i,n,r,!1,s,g);if(T!=null){for(;n>0;){const O=st.findGuardPattern(e,i,--n,r,!1,s,g);if(O!=null)T=O;else{n++;break}}c[0]=new q(T[0],n),c[1]=new q(T[1],n),d=!0;break}}let y=n+1;if(d){let T=0,O=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;y<t;y++){const H=st.findGuardPattern(e,O[0],y,r,!1,s,g);if(H!=null&&Math.abs(O[0]-H[0])<st.MAX_PATTERN_DRIFT&&Math.abs(O[1]-H[1])<st.MAX_PATTERN_DRIFT)O=H,T=0;else{if(T>st.SKIPPED_ROW_COUNT_MAX)break;T++}}y-=T+1,c[2]=new q(O[0],y),c[3]=new q(O[1],y)}return y-n<st.BARCODE_MIN_HEIGHT&&B.fill(c,null),c}static findGuardPattern(e,t,r,n,i,s,c){B.fillWithin(c,0,c.length,0);let d=t,g=0;for(;e.get(d,r)&&d>0&&g++<st.MAX_PIXEL_DRIFT;)d--;let y=d,T=0,O=s.length;for(let H=i;y<n;y++)if(e.get(y,r)!==H)c[T]++;else{if(T===O-1){if(st.patternMatchVariance(c,s,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE)return new Int32Array([d,y]);d+=c[0]+c[1],E.arraycopy(c,2,c,0,T-1),c[T-1]=0,c[T]=0,T--}else T++;c[T]=1,H=!H}return T===O-1&&st.patternMatchVariance(c,s,st.MAX_INDIVIDUAL_VARIANCE)<st.MAX_AVG_VARIANCE?new Int32Array([d,y-1]):null}static patternMatchVariance(e,t,r){let n=e.length,i=0,s=0;for(let g=0;g<n;g++)i+=e[g],s+=t[g];if(i<s)return 1/0;let c=i/s;r*=c;let d=0;for(let g=0;g<n;g++){let y=e[g],T=t[g]*c,O=y>T?y-T:T-y;if(O>r)return 1/0;d+=O}return d/i}}st.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),st.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),st.MAX_AVG_VARIANCE=.42,st.MAX_INDIVIDUAL_VARIANCE=.8,st.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),st.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),st.MAX_PIXEL_DRIFT=3,st.MAX_PATTERN_DRIFT=5,st.SKIPPED_ROW_COUNT_MAX=25,st.ROW_STEP=5,st.BARCODE_MIN_HEIGHT=10;class Vt{constructor(e,t){if(t.length===0)throw new A;this.field=e;let r=t.length;if(r>1&&t[0]===0){let n=1;for(;n<r&&t[n]===0;)n++;n===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-n),E.arraycopy(t,n,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let n=0;for(let i of this.coefficients)n=this.field.add(n,i);return n}let t=this.coefficients[0],r=this.coefficients.length;for(let n=1;n<r;n++)t=this.field.add(this.field.multiply(e,t),this.coefficients[n]);return t}add(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let s=t;t=r,r=s}let n=new Int32Array(r.length),i=r.length-t.length;E.arraycopy(r,0,n,0,i);for(let s=i;s<r.length;s++)n[s]=this.field.add(t[s-i],r[s]);return new Vt(this.field,n)}subtract(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Vt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new A("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Vt(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,s=new Int32Array(r+i-1);for(let c=0;c<r;c++){let d=t[c];for(let g=0;g<i;g++)s[c+g]=this.field.add(s[c+g],this.field.multiply(d,n[g]))}return new Vt(this.field,s)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new Vt(this.field,t)}multiplyScalar(e){if(e===0)return new Vt(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new Vt(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new A;if(t===0)return new Vt(this.field,new Int32Array([0]));let r=this.coefficients.length,n=new Int32Array(r+e);for(let i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new Vt(this.field,n)}toString(){let e=new z;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);r!==0&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),(t===0||r!==1)&&e.append(r),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class il{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new A;return this.logTable[e]}inverse(e){if(e===0)throw new Z;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Vi extends il{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let n=0;n<e;n++)this.expTable[n]=r,r=r*t%e;for(let n=0;n<e-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new Vt(this,new Int32Array([0])),this.one=new Vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new A;if(t===0)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new Vt(this,r)}}Vi.PDF417_GF=new Vi(Ke.NUMBER_OF_CODEWORDS,3);class vo{constructor(){this.field=Vi.PDF417_GF}decode(e,t,r){let n=new Vt(this.field,e),i=new Int32Array(t),s=!1;for(let ne=t;ne>0;ne--){let se=n.evaluateAt(this.field.exp(ne));i[t-ne]=se,se!==0&&(s=!0)}if(!s)return 0;let c=this.field.getOne();if(r!=null)for(const ne of r){let se=this.field.exp(e.length-1-ne),Ce=new Vt(this.field,new Int32Array([this.field.subtract(0,se),1]));c=c.multiply(Ce)}let d=new Vt(this.field,i),g=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),d,t),y=g[0],T=g[1],O=this.findErrorLocations(y),H=this.findErrorMagnitudes(T,y,O);for(let ne=0;ne<O.length;ne++){let se=e.length-1-this.field.log(O[ne]);if(se<0)throw S.getChecksumInstance();e[se]=this.field.subtract(e[se],H[ne])}return O.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let O=e;e=t,t=O}let n=e,i=t,s=this.field.getZero(),c=this.field.getOne();for(;i.getDegree()>=Math.round(r/2);){let O=n,H=s;if(n=i,s=c,n.isZero())throw S.getChecksumInstance();i=O;let ne=this.field.getZero(),se=n.getCoefficient(n.getDegree()),Ce=this.field.inverse(se);for(;i.getDegree()>=n.getDegree()&&!i.isZero();){let _e=i.getDegree()-n.getDegree(),Pe=this.field.multiply(i.getCoefficient(i.getDegree()),Ce);ne=ne.add(this.field.buildMonomial(_e,Pe)),i=i.subtract(n.multiplyByMonomial(_e,Pe))}c=ne.multiply(s).subtract(H).negative()}let d=c.getCoefficient(0);if(d===0)throw S.getChecksumInstance();let g=this.field.inverse(d),y=c.multiply(g),T=i.multiply(g);return[y,T]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),n=0;for(let i=1;i<this.field.getSize()&&n<t;i++)e.evaluateAt(i)===0&&(r[n]=this.field.inverse(i),n++);if(n!==t)throw S.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let n=t.getDegree(),i=new Int32Array(n);for(let g=1;g<=n;g++)i[n-g]=this.field.multiply(g,t.getCoefficient(g));let s=new Vt(this.field,i),c=r.length,d=new Int32Array(c);for(let g=0;g<c;g++){let y=this.field.inverse(r[g]),T=this.field.subtract(0,e.evaluateAt(y)),O=this.field.inverse(s.evaluateAt(y));d[g]=this.field.multiply(T,O)}return d}}class on{constructor(e,t,r,n,i){e instanceof on?this.constructor_2(e):this.constructor_1(e,t,r,n,i)}constructor_1(e,t,r,n,i){const s=t==null||r==null,c=n==null||i==null;if(s&&c)throw new L;s?(t=new q(0,n.getY()),r=new q(0,i.getY())):c&&(n=new q(e.getWidth()-1,t.getY()),i=new q(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new on(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let n=this.topLeft,i=this.bottomLeft,s=this.topRight,c=this.bottomRight;if(e>0){let d=r?this.topLeft:this.topRight,g=Math.trunc(d.getY()-e);g<0&&(g=0);let y=new q(d.getX(),g);r?n=y:s=y}if(t>0){let d=r?this.bottomLeft:this.bottomRight,g=Math.trunc(d.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let y=new q(d.getX(),g);r?i=y:c=y}return new on(this.image,n,i,s,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ol{constructor(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Mn{constructor(){this.buffer=""}static form(e,t){let r=-1;function n(s,c,d,g,y,T){if(s==="%%")return"%";if(t[++r]===void 0)return;s=g?parseInt(g.substr(1)):void 0;let O=y?parseInt(y.substr(1)):void 0,H;switch(T){case"s":H=t[r];break;case"c":H=t[r][0];break;case"f":H=parseFloat(t[r]).toFixed(s);break;case"p":H=parseFloat(t[r]).toPrecision(s);break;case"e":H=parseFloat(t[r]).toExponential(s);break;case"x":H=parseInt(t[r]).toString(O||16);break;case"d":H=parseFloat(parseInt(t[r],O||10).toPrecision(s)).toFixed(0);break}H=typeof H=="object"?JSON.stringify(H):(+H).toString(O);let ne=parseInt(d),se=d&&d[0]+""=="0"?"0":" ";for(;H.length<ne;)H=c!==void 0?H+se:se+H;return H}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}format(e,...t){this.buffer+=Mn.form(e,t)}toString(){return this.buffer}}class Rn{constructor(e){this.boundingBox=new on(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let r=1;r<Rn.MAX_NEARBY_DISTANCE;r++){let n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&(t=this.codewords[n],t!=null)||(n=this.imageRowToCodewordIndex(e)+r,n<this.codewords.length&&(t=this.codewords[n],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Mn;let t=0;for(const r of this.codewords){if(r==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue())}return e.toString()}}Rn.MAX_NEARBY_DISTANCE=5;class Fn{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,n]of this.values.entries()){const i={getKey:()=>r,getValue:()=>n};i.getValue()>e?(e=i.getValue(),t=[],t.push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return Ke.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Eo extends Rn{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(n.getY())),c=this.imageRowToCodewordIndex(Math.trunc(i.getY())),d=-1,g=1,y=0;for(let T=s;T<c;T++){if(t[T]==null)continue;let O=t[T],H=O.getRowNumber()-d;if(H===0)y++;else if(H===1)g=Math.max(g,y),y=1,d=O.getRowNumber();else if(H<0||O.getRowNumber()>=e.getRowCount()||H>T)t[T]=null;else{let ne;g>2?ne=(g-2)*H:ne=H;let se=ne>=T;for(let Ce=1;Ce<=ne&&!se;Ce++)se=t[T-Ce]!=null;se?t[T]=null:(d=O.getRowNumber(),y=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(r!=null){let n=r.getRowNumber();if(n>=t.length)continue;t[n]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),s=this.imageRowToCodewordIndex(Math.trunc(n.getY())),c=this.getCodewords(),d=-1;for(let g=i;g<s;g++){if(c[g]==null)continue;let y=c[g];y.setRowNumberAsRowIndicatorColumn();let T=y.getRowNumber()-d;T===0||(T===1?d=y.getRowNumber():y.getRowNumber()>=e.getRowCount()?c[g]=null:d=y.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Fn,r=new Fn,n=new Fn,i=new Fn;for(let c of e){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let d=c.getValue()%30,g=c.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:r.setValue(d*3+1);break;case 1:i.setValue(d/3),n.setValue(d%3);break;case 2:t.setValue(d+1);break}}if(t.getValue().length===0||r.getValue().length===0||n.getValue().length===0||i.getValue().length===0||t.getValue()[0]<1||r.getValue()[0]+n.getValue()[0]<Ke.MIN_ROWS_IN_BARCODE||r.getValue()[0]+n.getValue()[0]>Ke.MAX_ROWS_IN_BARCODE)return null;let s=new ol(t.getValue()[0],r.getValue()[0],n.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,s),s}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(e[r]==null)continue;let i=n.getValue()%30,s=n.getRowNumber();if(s>t.getRowCount()){e[r]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:i*3+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:(Math.trunc(i/3)!==t.getErrorCorrectionLevel()||i%3!==t.getRowCountLowerPart())&&(e[r]=null);break;case 2:i+1!==t.getColumnCount()&&(e[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ln{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=Ke.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let r=this.detectionResultColumns[t].getCodewords();for(let n=0;n<r.length;n++)r[n]!=null&&(r[n].hasValidRowNumber()||this.adjustRowNumbers(t,n,r))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(e[r]!=null&&t[r]!=null&&e[r].getRowNumber()===t[r].getRowNumber())for(let n=1;n<=this.barcodeColumnCount;n++){let i=this.detectionResultColumns[n].getCodewords()[r];i!=null&&(i.setRowNumber(e[r].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[n].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let n=t[r].getRowNumber(),i=0;for(let s=this.barcodeColumnCount+1;s>0&&i<this.ADJUST_ROW_NUMBER_SKIP;s--){let c=this.detectionResultColumns[s].getCodewords()[r];c!=null&&(i=Ln.adjustRowNumberIfValid(n,i,c),c.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(t[r]==null)continue;let n=t[r].getRowNumber(),i=0;for(let s=1;s<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;s++){let c=this.detectionResultColumns[s].getCodewords()[r];c!=null&&(i=Ln.adjustRowNumberIfValid(n,i,c),c.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let n=r[t],i=this.detectionResultColumns[e-1].getCodewords(),s=i;this.detectionResultColumns[e+1]!=null&&(s=this.detectionResultColumns[e+1].getCodewords());let c=new Array(14);c[2]=i[t],c[3]=s[t],t>0&&(c[0]=r[t-1],c[4]=i[t-1],c[5]=s[t-1]),t>1&&(c[8]=r[t-2],c[10]=i[t-2],c[11]=s[t-2]),t<r.length-1&&(c[1]=r[t+1],c[6]=i[t+1],c[7]=s[t+1]),t<r.length-2&&(c[9]=r[t+2],c[12]=i[t+2],c[13]=s[t+2]);for(let d of c)if(Ln.adjustRowNumber(n,d))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Mn;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let n=0;n<this.barcodeColumnCount+2;n++){if(this.detectionResultColumns[n]==null){t.format("    |   ");continue}let i=this.detectionResultColumns[n].getCodewords()[r];if(i==null){t.format("    |   ");continue}t.format(" %3d|%3d",i.getRowNumber(),i.getValue())}t.format("%n")}return t.toString()}}class kn{constructor(e,t,r,n){this.rowNumber=kn.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==kn.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}kn.BARCODE_ROW_UNKNOWN=-1;class rr{static initialize(){for(let e=0;e<Ke.SYMBOL_TABLE.length;e++){let t=Ke.SYMBOL_TABLE[e],r=t&1;for(let n=0;n<Ke.BARS_IN_MODULE;n++){let i=0;for(;(t&1)===r;)i+=1,t>>=1;r=t&1,rr.RATIOS_TABLE[e]||(rr.RATIOS_TABLE[e]=new Array(Ke.BARS_IN_MODULE)),rr.RATIOS_TABLE[e][Ke.BARS_IN_MODULE-n-1]=Math.fround(i/Ke.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=rr.getDecodedCodewordValue(rr.sampleBitCounts(e));return t!==-1?t:rr.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=ee.sum(e),r=new Int32Array(Ke.BARS_IN_MODULE),n=0,i=0;for(let s=0;s<Ke.MODULES_IN_CODEWORD;s++){let c=t/(2*Ke.MODULES_IN_CODEWORD)+s*t/Ke.MODULES_IN_CODEWORD;i+e[n]<=c&&(i+=e[n],n++),r[n]++}return r}static getDecodedCodewordValue(e){let t=rr.getBitValue(e);return Ke.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let n=0;n<e[r];n++)t=t<<1|(r%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=ee.sum(e),r=new Array(Ke.BARS_IN_MODULE);if(t>1)for(let s=0;s<r.length;s++)r[s]=Math.fround(e[s]/t);let n=Q.MAX_VALUE,i=-1;this.bSymbolTableReady||rr.initialize();for(let s=0;s<rr.RATIOS_TABLE.length;s++){let c=0,d=rr.RATIOS_TABLE[s];for(let g=0;g<Ke.BARS_IN_MODULE;g++){let y=Math.fround(d[g]-r[g]);if(c+=Math.fround(y*y),c>=n)break}c<n&&(n=c,i=Ke.SYMBOL_TABLE[s])}return i}}rr.bSymbolTableReady=!1,rr.RATIOS_TABLE=new Array(Ke.SYMBOL_TABLE.length).map(I=>new Array(Ke.BARS_IN_MODULE));class bo{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class _o{static parseLong(e,t=void 0){return parseInt(e,t)}}class So extends x{}So.kind="NullPointerException";class sl{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(e==null)throw new So;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new D;if(r===0)return;for(let n=0;n<r;n++)this.write(e[t+n])}flush(){}close(){}}class al extends x{}class ll extends sl{constructor(e=32){if(super(),this.count=0,e<0)throw new A("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let r=this.buf.length<<1;if(r-e<0&&(r=e),r<0){if(e<0)throw new al;r=N.MAX_VALUE}this.buf=B.copyOfUint8Array(this.buf,r)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new D;this.ensureCapacity(this.count+r),E.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return B.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var Ct;(function(I){I[I.ALPHA=0]="ALPHA",I[I.LOWER=1]="LOWER",I[I.MIXED=2]="MIXED",I[I.PUNCT=3]="PUNCT",I[I.ALPHA_SHIFT=4]="ALPHA_SHIFT",I[I.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function Io(){if(typeof window<"u")return window.BigInt||null;if(typeof et<"u")return et.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let si;function Yr(I){if(typeof si>"u"&&(si=Io()),si===null)throw new Error("BigInt is not supported!");return si(I)}function cl(){let I=[];I[0]=Yr(1);let e=Yr(900);I[1]=e;for(let t=2;t<16;t++)I[t]=I[t-1]*e;return I}class be{static decode(e,t){let r=new z(""),n=ae.ISO8859_1;r.enableDecoding(n);let i=1,s=e[i++],c=new bo;for(;i<e[0];){switch(s){case be.TEXT_COMPACTION_MODE_LATCH:i=be.textCompaction(e,i,r);break;case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:i=be.byteCompaction(s,e,n,i,r);break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case be.NUMERIC_COMPACTION_MODE_LATCH:i=be.numericCompaction(e,i,r);break;case be.ECI_CHARSET:ae.getCharacterSetECIByValue(e[i++]);break;case be.ECI_GENERAL_PURPOSE:i+=2;break;case be.ECI_USER_DEFINED:i++;break;case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=be.decodeMacroBlock(e,i,c);break;case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:throw new j;default:i--,i=be.textCompaction(e,i,r);break}if(i<e.length)s=e[i++];else throw j.getFormatInstance()}if(r.length()===0)throw j.getFormatInstance();let d=new te(null,r.toString(),null,t);return d.setOther(c),d}static decodeMacroBlock(e,t,r){if(t+be.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw j.getFormatInstance();let n=new Int32Array(be.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<be.NUMBER_OF_SEQUENCE_CODEWORDS;c++,t++)n[c]=e[t];r.setSegmentIndex(N.parseInt(be.decodeBase900toBase10(n,be.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new z;t=be.textCompaction(e,t,i),r.setFileId(i.toString());let s=-1;for(e[t]===be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=t+1);t<e[0];)switch(e[t]){case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new z;t=be.textCompaction(e,t+1,c),r.setFileName(c.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let d=new z;t=be.textCompaction(e,t+1,d),r.setSender(d.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new z;t=be.textCompaction(e,t+1,g),r.setAddressee(g.toString());break;case be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new z;t=be.numericCompaction(e,t+1,y),r.setSegmentCount(N.parseInt(y.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new z;t=be.numericCompaction(e,t+1,T),r.setTimestamp(_o.parseLong(T.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let O=new z;t=be.numericCompaction(e,t+1,O),r.setChecksum(N.parseInt(O.toString()));break;case be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let H=new z;t=be.numericCompaction(e,t+1,H),r.setFileSize(_o.parseLong(H.toString()));break;default:throw j.getFormatInstance()}break;case be.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(s!==-1){let c=t-s;r.isLastSegment()&&c--,r.setOptionalData(B.copyOfRange(e,s,s+c))}return t}static textCompaction(e,t,r){let n=new Int32Array((e[0]-t)*2),i=new Int32Array((e[0]-t)*2),s=0,c=!1;for(;t<e[0]&&!c;){let d=e[t++];if(d<be.TEXT_COMPACTION_MODE_LATCH)n[s]=d/30,n[s+1]=d%30,s+=2;else switch(d){case be.TEXT_COMPACTION_MODE_LATCH:n[s++]=be.TEXT_COMPACTION_MODE_LATCH;break;case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:t--,c=!0;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[s]=be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,d=e[t++],i[s]=d,s++;break}}return be.decodeTextCompaction(n,i,s,r),t}static decodeTextCompaction(e,t,r,n){let i=Ct.ALPHA,s=Ct.ALPHA,c=0;for(;c<r;){let d=e[c],g="";switch(i){case Ct.ALPHA:if(d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case be.LL:i=Ct.LOWER;break;case be.ML:i=Ct.MIXED;break;case be.PS:s=i,i=Ct.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[c]);break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break;case Ct.LOWER:if(d<26)g=String.fromCharCode(97+d);else switch(d){case 26:g=" ";break;case be.AS:s=i,i=Ct.ALPHA_SHIFT;break;case be.ML:i=Ct.MIXED;break;case be.PS:s=i,i=Ct.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[c]);break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break;case Ct.MIXED:if(d<be.PL)g=be.MIXED_CHARS[d];else switch(d){case be.PL:i=Ct.PUNCT;break;case 26:g=" ";break;case be.LL:i=Ct.LOWER;break;case be.AL:i=Ct.ALPHA;break;case be.PS:s=i,i=Ct.PUNCT_SHIFT;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[c]);break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break;case Ct.PUNCT:if(d<be.PAL)g=be.PUNCT_CHARS[d];else switch(d){case be.PAL:i=Ct.ALPHA;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[c]);break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(i=s,d<26)g=String.fromCharCode(65+d);else switch(d){case 26:g=" ";break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(i=s,d<be.PAL)g=be.PUNCT_CHARS[d];else switch(d){case be.PAL:i=Ct.ALPHA;break;case be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[c]);break;case be.TEXT_COMPACTION_MODE_LATCH:i=Ct.ALPHA;break}break}g!==""&&n.append(g),c++}}static byteCompaction(e,t,r,n,i){let s=new ll,c=0,d=0,g=!1;switch(e){case be.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),T=t[n++];for(;n<t[0]&&!g;)switch(y[c++]=T,d=900*d+T,T=t[n++],T){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:n--,g=!0;break;default:if(c%5===0&&c>0){for(let O=0;O<6;++O)s.write(Number(Yr(d)>>Yr(8*(5-O))));d=0,c=0}break}n===t[0]&&T<be.TEXT_COMPACTION_MODE_LATCH&&(y[c++]=T);for(let O=0;O<c;O++)s.write(y[O]);break;case be.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!g;){let O=t[n++];if(O<be.TEXT_COMPACTION_MODE_LATCH)c++,d=900*d+O;else switch(O){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.NUMERIC_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:n--,g=!0;break}if(c%5===0&&c>0){for(let H=0;H<6;++H)s.write(Number(Yr(d)>>Yr(8*(5-H))));d=0,c=0}}break}return i.append(fe.decode(s.toByteArray(),r)),n}static numericCompaction(e,t,r){let n=0,i=!1,s=new Int32Array(be.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let c=e[t++];if(t===e[0]&&(i=!0),c<be.TEXT_COMPACTION_MODE_LATCH)s[n]=c,n++;else switch(c){case be.TEXT_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH:case be.BYTE_COMPACTION_MODE_LATCH_6:case be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case be.MACRO_PDF417_TERMINATOR:t--,i=!0;break}(n%be.MAX_NUMERIC_CODEWORDS===0||c===be.NUMERIC_COMPACTION_MODE_LATCH||i)&&n>0&&(r.append(be.decodeBase900toBase10(s,n)),n=0)}return t}static decodeBase900toBase10(e,t){let r=Yr(0);for(let i=0;i<t;i++)r+=be.EXP900[t-i-1]*Yr(e[i]);let n=r.toString();if(n.charAt(0)!=="1")throw new j;return n.substring(1)}}be.TEXT_COMPACTION_MODE_LATCH=900,be.BYTE_COMPACTION_MODE_LATCH=901,be.NUMERIC_COMPACTION_MODE_LATCH=902,be.BYTE_COMPACTION_MODE_LATCH_6=924,be.ECI_USER_DEFINED=925,be.ECI_GENERAL_PURPOSE=926,be.ECI_CHARSET=927,be.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,be.MACRO_PDF417_TERMINATOR=922,be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,be.MAX_NUMERIC_CODEWORDS=15,be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,be.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,be.PL=25,be.LL=27,be.AS=27,be.ML=28,be.AL=28,be.PS=29,be.PAL=29,be.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,be.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",be.EXP900=Io()?cl():[],be.NUMBER_OF_SEQUENCE_CODEWORDS=2;class lt{constructor(){}static decode(e,t,r,n,i,s,c){let d=new on(e,t,r,n,i),g=null,y=null,T;for(let ne=!0;;ne=!1){if(t!=null&&(g=lt.getRowIndicatorColumn(e,d,t,!0,s,c)),n!=null&&(y=lt.getRowIndicatorColumn(e,d,n,!1,s,c)),T=lt.merge(g,y),T==null)throw L.getNotFoundInstance();let se=T.getBoundingBox();if(ne&&se!=null&&(se.getMinY()<d.getMinY()||se.getMaxY()>d.getMaxY()))d=se;else break}T.setBoundingBox(d);let O=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,g),T.setDetectionResultColumn(O,y);let H=g!=null;for(let ne=1;ne<=O;ne++){let se=H?ne:O-ne;if(T.getDetectionResultColumn(se)!==void 0)continue;let Ce;se===0||se===O?Ce=new Eo(d,se===0):Ce=new Rn(d),T.setDetectionResultColumn(se,Ce);let _e=-1,Pe=_e;for(let Ue=d.getMinY();Ue<=d.getMaxY();Ue++){if(_e=lt.getStartColumn(T,se,Ue,H),_e<0||_e>d.getMaxX()){if(Pe===-1)continue;_e=Pe}let ke=lt.detectCodeword(e,d.getMinX(),d.getMaxX(),H,_e,Ue,s,c);ke!=null&&(Ce.setCodeword(Ue,ke),Pe=_e,s=Math.min(s,ke.getWidth()),c=Math.max(c,ke.getWidth()))}}return lt.createDecoderResult(T)}static merge(e,t){if(e==null&&t==null)return null;let r=lt.getBarcodeMetadata(e,t);if(r==null)return null;let n=on.merge(lt.adjustBoundingBox(e),lt.adjustBoundingBox(t));return new Ln(r,n)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let r=lt.getMax(t),n=0;for(let c of t)if(n+=r-c,c>0)break;let i=e.getCodewords();for(let c=0;n>0&&i[c]==null;c++)n--;let s=0;for(let c=t.length-1;c>=0&&(s+=r-t[c],!(t[c]>0));c--);for(let c=i.length-1;s>0&&i[c]==null;c--)s--;return e.getBoundingBox().addMissingRows(n,s,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r;if(e==null||(r=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let n;return t==null||(n=t.getBarcodeMetadata())==null?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,n,i,s){let c=new Eo(t,n);for(let d=0;d<2;d++){let g=d===0?1:-1,y=Math.trunc(Math.trunc(r.getX()));for(let T=Math.trunc(Math.trunc(r.getY()));T<=t.getMaxY()&&T>=t.getMinY();T+=g){let O=lt.detectCodeword(e,0,e.getWidth(),n,y,T,i,s);O!=null&&(c.setCodeword(T,O),n?y=O.getStartX():y=O.getEndX())}}return c}static adjustCodewordCount(e,t){let r=t[0][1],n=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-lt.getNumberOfECCodeWords(e.getBarcodeECLevel());if(n.length===0){if(i<1||i>Ke.MAX_CODEWORDS_IN_BARCODE)throw L.getNotFoundInstance();r.setValue(i)}else n[0]!==i&&r.setValue(i)}static createDecoderResult(e){let t=lt.createBarcodeMatrix(e);lt.adjustCodewordCount(e,t);let r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],s=new Array;for(let d=0;d<e.getBarcodeRowCount();d++)for(let g=0;g<e.getBarcodeColumnCount();g++){let y=t[d][g+1].getValue(),T=d*e.getBarcodeColumnCount()+g;y.length===0?r.push(T):y.length===1?n[T]=y[0]:(s.push(T),i.push(y))}let c=new Array(i.length);for(let d=0;d<c.length;d++)c[d]=i[d];return lt.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,Ke.toIntArray(r),Ke.toIntArray(s),c)}static createDecoderResultFromAmbiguousValues(e,t,r,n,i){let s=new Int32Array(n.length),c=100;for(;c-- >0;){for(let d=0;d<s.length;d++)t[n[d]]=i[d][s[d]];try{return lt.decodeCodewords(t,e,r)}catch(d){if(!(d instanceof S))throw d}if(s.length===0)throw S.getChecksumInstance();for(let d=0;d<s.length;d++)if(s[d]<i[d].length-1){s[d]++;break}else if(s[d]=0,d===s.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let n=0;n<t.length;n++)for(let i=0;i<t[n].length;i++)t[n][i]=new Fn;let r=0;for(let n of e.getDetectionResultColumns()){if(n!=null){for(let i of n.getCodewords())if(i!=null){let s=i.getRowNumber();if(s>=0){if(s>=t.length)continue;t[s][r].setValue(i.getValue())}}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,n){let i=n?1:-1,s=null;if(lt.isValidBarcodeColumn(e,t-i)&&(s=e.getDetectionResultColumn(t-i).getCodeword(r)),s!=null)return n?s.getEndX():s.getStartX();if(s=e.getDetectionResultColumn(t).getCodewordNearby(r),s!=null)return n?s.getStartX():s.getEndX();if(lt.isValidBarcodeColumn(e,t-i)&&(s=e.getDetectionResultColumn(t-i).getCodewordNearby(r)),s!=null)return n?s.getEndX():s.getStartX();let c=0;for(;lt.isValidBarcodeColumn(e,t-i);){t-=i;for(let d of e.getDetectionResultColumn(t).getCodewords())if(d!=null)return(n?d.getEndX():d.getStartX())+i*c*(d.getEndX()-d.getStartX());c++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,n,i,s,c,d){i=lt.adjustCodewordStartColumn(e,t,r,n,i,s);let g=lt.getModuleBitCount(e,t,r,n,i,s);if(g==null)return null;let y,T=ee.sum(g);if(n)y=i+T;else{for(let ne=0;ne<g.length/2;ne++){let se=g[ne];g[ne]=g[g.length-1-ne],g[g.length-1-ne]=se}y=i,i=y-T}if(!lt.checkCodewordSkew(T,c,d))return null;let O=rr.getDecodedValue(g),H=Ke.getCodeword(O);return H===-1?null:new kn(i,y,lt.getCodewordBucketNumber(O),H)}static getModuleBitCount(e,t,r,n,i,s){let c=i,d=new Int32Array(8),g=0,y=n?1:-1,T=n;for(;(n?c<r:c>=t)&&g<d.length;)e.get(c,s)===T?(d[g]++,c+=y):(g++,T=!T);return g===d.length||c===(n?r:t)&&g===d.length-1?d:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,n,i,s){let c=i,d=n?-1:1;for(let g=0;g<2;g++){for(;(n?c>=t:c<r)&&n===e.get(c,s);){if(Math.abs(i-c)>lt.CODEWORD_SKEW_SIZE)return i;c+=d}d=-d,n=!n}return c}static checkCodewordSkew(e,t,r){return t-lt.CODEWORD_SKEW_SIZE<=e&&e<=r+lt.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(e.length===0)throw j.getFormatInstance();let n=1<<t+1,i=lt.correctErrors(e,r,n);lt.verifyCodewordCount(e,n);let s=be.decode(e,""+t);return s.setErrorsCorrected(i),s.setErasures(r.length),s}static correctErrors(e,t,r){if(t!=null&&t.length>r/2+lt.MAX_ERRORS||r<0||r>lt.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return lt.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw j.getFormatInstance();let r=e[0];if(r>e.length)throw j.getFormatInstance();if(r===0)if(t<e.length)e[0]=e.length-t;else throw j.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,n=t.length-1;for(;!((e&1)!==r&&(r=e&1,n--,n<0));)t[n]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return lt.getCodewordBucketNumber(lt.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Mn;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let n=0;n<e[r].length;n++){let i=e[r][n];i.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()}}lt.CODEWORD_SKEW_SIZE=2,lt.MAX_ERRORS=3,lt.MAX_EC_CODEWORDS=512,lt.errorCorrection=new vo;class Gt{decode(e,t=null){let r=Gt.decode(e,t,!1);if(r==null||r.length===0||r[0]==null)throw L.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return Gt.decode(e,t,!0)}catch(r){throw r instanceof j||r instanceof S?L.getNotFoundInstance():r}}static decode(e,t,r){const n=new Array,i=st.detectMultiple(e,t,r);for(const s of i.getPoints()){const c=lt.decode(i.getBits(),s[4],s[5],s[6],s[7],Gt.getMinCodewordWidth(s),Gt.getMaxCodewordWidth(s)),d=new v(c.getText(),c.getRawBytes(),void 0,s,F.PDF_417);d.putMetadata(V.ERROR_CORRECTION_LEVEL,c.getECLevel());const g=c.getOther();g!=null&&d.putMetadata(V.PDF417_EXTRA_METADATA,g),n.push(d)}return n.map(s=>s)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?N.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Gt.getMaxWidth(e[0],e[4]),Gt.getMaxWidth(e[6],e[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.max(Gt.getMaxWidth(e[1],e[5]),Gt.getMaxWidth(e[7],e[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Gt.getMinWidth(e[0],e[4]),Gt.getMinWidth(e[6],e[2])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN),Math.min(Gt.getMinWidth(e[1],e[5]),Gt.getMinWidth(e[7],e[3])*Ke.MODULES_IN_CODEWORD/Ke.MODULES_IN_STOP_PATTERN)))}reset(){}}class ai extends x{}ai.kind="ReaderException";class Do{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=!u(e)&&e.get($.TRY_HARDER)===!0,r=u(e)?null:e.get($.POSSIBLE_FORMATS),n=new Array;if(!u(r)){const i=r.some(s=>s===F.UPC_A||s===F.UPC_E||s===F.EAN_13||s===F.EAN_8||s===F.CODABAR||s===F.CODE_39||s===F.CODE_93||s===F.CODE_128||s===F.ITF||s===F.RSS_14||s===F.RSS_EXPANDED);i&&!t&&n.push(new pn(e,this.verbose)),r.includes(F.QR_CODE)&&n.push(new Xr),r.includes(F.DATA_MATRIX)&&n.push(new Gr),r.includes(F.AZTEC)&&n.push(new He),r.includes(F.PDF_417)&&n.push(new Gt),i&&t&&n.push(new pn(e,this.verbose))}n.length===0&&(t||n.push(new pn(e,this.verbose)),n.push(new Xr),n.push(new Gr),n.push(new He),n.push(new Gt),t&&n.push(new pn(e,this.verbose))),this.readers=n}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new ai("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(r){if(r instanceof ai)continue}throw new L("No MultiFormat Readers were able to detect the code.")}}class ul extends X{constructor(e=null,t=500){const r=new Do;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class fl extends X{constructor(e=500){super(new Gt,e)}}class hl extends X{constructor(e=500){super(new Xr,e)}}var Gi;(function(I){I[I.ERROR_CORRECTION=0]="ERROR_CORRECTION",I[I.CHARACTER_SET=1]="CHARACTER_SET",I[I.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",I[I.MIN_SIZE=3]="MIN_SIZE",I[I.MAX_SIZE=4]="MAX_SIZE",I[I.MARGIN=5]="MARGIN",I[I.PDF417_COMPACT=6]="PDF417_COMPACT",I[I.PDF417_COMPACTION=7]="PDF417_COMPACTION",I[I.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",I[I.AZTEC_LAYERS=9]="AZTEC_LAYERS",I[I.QR_VERSION=10]="QR_VERSION"})(Gi||(Gi={}));var Lt=Gi;class Xi{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new W(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const n=this.field;for(let i=t.length;i<=e;i++){const s=r.multiply(new W(n,Int32Array.from([1,n.exp(i-1+n.getGeneratorBase())])));t.push(s),r=s}}return t[e]}encode(e,t){if(t===0)throw new A("No error correction bytes");const r=e.length-t;if(r<=0)throw new A("No data bytes provided");const n=this.buildGenerator(t),i=new Int32Array(r);E.arraycopy(e,0,i,0,r);let s=new W(this.field,i);s=s.multiplyByMonomial(t,1);const d=s.divide(n)[1].getCoefficients(),g=t-d.length;for(let y=0;y<g;y++)e[r+y]=0;E.arraycopy(d,0,e,r+g,d.length)}}class Nt{constructor(){}static applyMaskPenaltyRule1(e){return Nt.applyMaskPenaltyRule1Internal(e,!0)+Nt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let s=0;s<i-1;s++){const c=r[s];for(let d=0;d<n-1;d++){const g=c[d];g===c[d+1]&&g===r[s+1][d]&&g===r[s+1][d+1]&&t++}}return Nt.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let s=0;s<i;s++)for(let c=0;c<n;c++){const d=r[s];c+6<n&&d[c]===1&&d[c+1]===0&&d[c+2]===1&&d[c+3]===1&&d[c+4]===1&&d[c+5]===0&&d[c+6]===1&&(Nt.isWhiteHorizontal(d,c-4,c)||Nt.isWhiteHorizontal(d,c+7,c+11))&&t++,s+6<i&&r[s][c]===1&&r[s+1][c]===0&&r[s+2][c]===1&&r[s+3][c]===1&&r[s+4][c]===1&&r[s+5][c]===0&&r[s+6][c]===1&&(Nt.isWhiteVertical(r,c,s-4,s)||Nt.isWhiteVertical(r,c,s+7,s+11))&&t++}return t*Nt.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let n=t;n<r;n++)if(e[n]===1)return!1;return!0}static isWhiteVertical(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(let i=r;i<n;i++)if(e[i][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let d=0;d<i;d++){const g=r[d];for(let y=0;y<n;y++)g[y]===1&&t++}const s=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-s)*10/s)*Nt.N4}static getDataMaskBit(e,t,r){let n,i;switch(e){case 0:n=r+t&1;break;case 1:n=r&1;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:i=r*t,n=(i&1)+i%3;break;case 6:i=r*t,n=(i&1)+i%3&1;break;case 7:i=r*t,n=i%3+(r+t&1)&1;break;default:throw new A("Invalid mask pattern: "+e)}return n===0}static applyMaskPenaltyRule1Internal(e,t){let r=0;const n=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),s=e.getArray();for(let c=0;c<n;c++){let d=0,g=-1;for(let y=0;y<i;y++){const T=t?s[c][y]:s[y][c];T===g?d++:(d>=5&&(r+=Nt.N1+(d-5)),d=1,g=T)}d>=5&&(r+=Nt.N1+(d-5))}return r}}Nt.N1=3,Nt.N2=3,Nt.N3=40,Nt.N4=10;class li{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)B.fill(t,e)}equals(e){if(!(e instanceof li))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let r=0,n=this.height;r<n;++r){const i=this.bytes[r],s=t.bytes[r];for(let c=0,d=this.width;c<d;++c)if(i[c]!==s[c])return!1}return!0}toString(){const e=new z;for(let t=0,r=this.height;t<r;++t){const n=this.bytes[t];for(let i=0,s=this.width;i<s;++i)switch(n[i]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class sn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new z;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<sn.NUM_MASK_PATTERNS}}sn.NUM_MASK_PATTERNS=8;class At extends x{}At.kind="WriterException";class Qe{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,n,i){Qe.clearMatrix(i),Qe.embedBasicPatterns(r,i),Qe.embedTypeInfo(t,n,i),Qe.maybeEmbedVersionInfo(r,i),Qe.embedDataBits(e,n,i)}static embedBasicPatterns(e,t){Qe.embedPositionDetectionPatternsAndSeparators(t),Qe.embedDarkDotAtLeftBottomCorner(t),Qe.maybeEmbedPositionAdjustmentPatterns(e,t),Qe.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const n=new M;Qe.makeTypeInfoBits(e,t,n);for(let i=0,s=n.getSize();i<s;++i){const c=n.get(n.getSize()-1-i),d=Qe.TYPE_INFO_COORDINATES[i],g=d[0],y=d[1];if(r.setBoolean(g,y,c),i<8){const T=r.getWidth()-i-1;r.setBoolean(T,8,c)}else{const O=r.getHeight()-7+(i-8);r.setBoolean(8,O,c)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new M;Qe.makeVersionInfoBits(e,r);let n=6*3-1;for(let i=0;i<6;++i)for(let s=0;s<3;++s){const c=r.get(n);n--,t.setBoolean(i,t.getHeight()-11+s,c),t.setBoolean(t.getHeight()-11+s,i,c)}}static embedDataBits(e,t,r){let n=0,i=-1,s=r.getWidth()-1,c=r.getHeight()-1;for(;s>0;){for(s===6&&(s-=1);c>=0&&c<r.getHeight();){for(let d=0;d<2;++d){const g=s-d;if(!Qe.isEmpty(r.get(g,c)))continue;let y;n<e.getSize()?(y=e.get(n),++n):y=!1,t!==255&&Nt.getDataMaskBit(t,g,c)&&(y=!y),r.setBoolean(g,c,y)}c+=i}i=-i,c+=i,s-=2}if(n!==e.getSize())throw new At("Not all bits consumed: "+n+"/"+e.getSize())}static findMSBSet(e){return 32-N.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new A("0 polynomial");const r=Qe.findMSBSet(t);for(e<<=r-1;Qe.findMSBSet(e)>=r;)e^=t<<Qe.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!sn.isValidMaskPattern(t))throw new At("Invalid mask pattern");const n=e.getBits()<<3|t;r.appendBits(n,5);const i=Qe.calculateBCHCode(n,Qe.TYPE_INFO_POLY);r.appendBits(i,10);const s=new M;if(s.appendBits(Qe.TYPE_INFO_MASK_PATTERN,15),r.xor(s),r.getSize()!==15)throw new At("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=Qe.calculateBCHCode(e.getVersionNumber(),Qe.VERSION_INFO_POLY);if(t.appendBits(r,12),t.getSize()!==18)throw new At("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;Qe.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),Qe.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new At;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let n=0;n<8;++n){if(!Qe.isEmpty(r.get(e+n,t)))throw new At;r.setNumber(e+n,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let n=0;n<7;++n){if(!Qe.isEmpty(r.get(e,t+n)))throw new At;r.setNumber(e,t+n,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let n=0;n<5;++n){const i=Qe.POSITION_ADJUSTMENT_PATTERN[n];for(let s=0;s<5;++s)r.setNumber(e+s,t+n,i[s])}}static embedPositionDetectionPattern(e,t,r){for(let n=0;n<7;++n){const i=Qe.POSITION_DETECTION_PATTERN[n];for(let s=0;s<7;++s)r.setNumber(e+s,t+n,i[s])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Qe.POSITION_DETECTION_PATTERN[0].length;Qe.embedPositionDetectionPattern(0,0,e),Qe.embedPositionDetectionPattern(e.getWidth()-t,0,e),Qe.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;Qe.embedHorizontalSeparationPattern(0,r-1,e),Qe.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Qe.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const n=7;Qe.embedVerticalSeparationPattern(n,0,e),Qe.embedVerticalSeparationPattern(e.getHeight()-n-1,0,e),Qe.embedVerticalSeparationPattern(n,e.getHeight()-n,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,n=Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let i=0,s=n.length;i!==s;i++){const c=n[i];if(c>=0)for(let d=0;d!==s;d++){const g=n[d];g>=0&&Qe.isEmpty(t.get(g,c))&&Qe.embedPositionAdjustmentPattern(g-2,c-2,t)}}}}Qe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Qe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Qe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Qe.VERSION_INFO_POLY=7973,Qe.TYPE_INFO_POLY=1335,Qe.TYPE_INFO_MASK_PATTERN=21522;class dl{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class St{constructor(){}static calculateMaskPenalty(e){return Nt.applyMaskPenaltyRule1(e)+Nt.applyMaskPenaltyRule2(e)+Nt.applyMaskPenaltyRule3(e)+Nt.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let n=St.DEFAULT_BYTE_MODE_ENCODING;const i=r!==null&&r.get(Lt.CHARACTER_SET)!==void 0;i&&(n=r.get(Lt.CHARACTER_SET).toString());const s=this.chooseMode(e,n),c=new M;if(s===$e.BYTE&&(i||St.DEFAULT_BYTE_MODE_ENCODING!==n)){const Ue=ae.getCharacterSetECIByName(n);Ue!==void 0&&this.appendECI(Ue,c)}this.appendModeInfo(s,c);const d=new M;this.appendBytes(e,s,d,n);let g;if(r!==null&&r.get(Lt.QR_VERSION)!==void 0){const Ue=Number.parseInt(r.get(Lt.QR_VERSION).toString(),10);g=qe.getVersionForNumber(Ue);const ke=this.calculateBitsNeeded(s,c,d,g);if(!this.willFit(ke,g,t))throw new At("Data too big for requested version")}else g=this.recommendVersion(t,s,c,d);const y=new M;y.appendBitArray(c);const T=s===$e.BYTE?d.getSizeInBytes():e.length;this.appendLengthInfo(T,g,s,y),y.appendBitArray(d);const O=g.getECBlocksForLevel(t),H=g.getTotalCodewords()-O.getTotalECCodewords();this.terminateBits(H,y);const ne=this.interleaveWithECBytes(y,g.getTotalCodewords(),H,O.getNumBlocks()),se=new sn;se.setECLevel(t),se.setMode(s),se.setVersion(g);const Ce=g.getDimensionForVersion(),_e=new li(Ce,Ce),Pe=this.chooseMaskPattern(ne,t,g,_e);return se.setMaskPattern(Pe),Qe.buildMatrix(ne,t,g,Pe,_e),se.setMatrix(_e),se}static recommendVersion(e,t,r,n){const i=this.calculateBitsNeeded(t,r,n,qe.getVersionForNumber(1)),s=this.chooseVersion(i,e),c=this.calculateBitsNeeded(t,r,n,s);return this.chooseVersion(c,e)}static calculateBitsNeeded(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()}static getAlphanumericCode(e){return e<St.ALPHANUMERIC_TABLE.length?St.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(ae.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return $e.KANJI;let r=!1,n=!1;for(let i=0,s=e.length;i<s;++i){const c=e.charAt(i);if(St.isDigit(c))r=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)n=!0;else return $e.BYTE}return n?$e.ALPHANUMERIC:r?$e.NUMERIC:$e.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=fe.encode(e,ae.SJIS)}catch{return!1}const r=t.length;if(r%2!==0)return!1;for(let n=0;n<r;n+=2){const i=t[n]&255;if((i<129||i>159)&&(i<224||i>235))return!1}return!0}static chooseMaskPattern(e,t,r,n){let i=Number.MAX_SAFE_INTEGER,s=-1;for(let c=0;c<sn.NUM_MASK_PATTERNS;c++){Qe.buildMatrix(e,t,r,c,n);let d=this.calculateMaskPenalty(n);d<i&&(i=d,s=c)}return s}static chooseVersion(e,t){for(let r=1;r<=40;r++){const n=qe.getVersionForNumber(r);if(St.willFit(e,n,t))return n}throw new At("Data too big")}static willFit(e,t,r){const n=t.getTotalCodewords(),s=t.getECBlocksForLevel(r).getTotalECCodewords(),c=n-s,d=(e+7)/8;return c>=d}static terminateBits(e,t){const r=e*8;if(t.getSize()>r)throw new At("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let s=0;s<4&&t.getSize()<r;++s)t.appendBit(!1);const n=t.getSize()&7;if(n>0)for(let s=n;s<8;s++)t.appendBit(!1);const i=e-t.getSizeInBytes();for(let s=0;s<i;++s)t.appendBits(s&1?17:236,8);if(t.getSize()!==r)throw new At("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,n,i,s){if(n>=r)throw new At("Block ID too large");const c=e%r,d=r-c,g=Math.floor(e/r),y=g+1,T=Math.floor(t/r),O=T+1,H=g-T,ne=y-O;if(H!==ne)throw new At("EC bytes mismatch");if(r!==d+c)throw new At("RS blocks mismatch");if(e!==(T+H)*d+(O+ne)*c)throw new At("Total bytes mismatch");n<d?(i[0]=T,s[0]=H):(i[0]=O,s[0]=ne)}static interleaveWithECBytes(e,t,r,n){if(e.getSizeInBytes()!==r)throw new At("Number of bits and data bytes does not match");let i=0,s=0,c=0;const d=new Array;for(let y=0;y<n;++y){const T=new Int32Array(1),O=new Int32Array(1);St.getNumDataBytesAndNumECBytesForBlockID(t,r,n,y,T,O);const H=T[0],ne=new Uint8Array(H);e.toBytes(8*i,ne,0,H);const se=St.generateECBytes(ne,O[0]);d.push(new dl(ne,se)),s=Math.max(s,H),c=Math.max(c,se.length),i+=T[0]}if(r!==i)throw new At("Data bytes does not match offset");const g=new M;for(let y=0;y<s;++y)for(const T of d){const O=T.getDataBytes();y<O.length&&g.appendBits(O[y],8)}for(let y=0;y<c;++y)for(const T of d){const O=T.getErrorCorrectionBytes();y<O.length&&g.appendBits(O[y],8)}if(t!==g.getSizeInBytes())throw new At("Interleaving error: "+t+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,t){const r=e.length,n=new Int32Array(r+t);for(let s=0;s<r;s++)n[s]=e[s]&255;new Xi(k.QR_CODE_FIELD_256).encode(n,t);const i=new Uint8Array(t);for(let s=0;s<t;s++)i[s]=n[r+s];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,n){const i=r.getCharacterCountBits(t);if(e>=1<<i)throw new At(e+" is bigger than "+((1<<i)-1));n.appendBits(e,i)}static appendBytes(e,t,r,n){switch(t){case $e.NUMERIC:St.appendNumericBytes(e,r);break;case $e.ALPHANUMERIC:St.appendAlphanumericBytes(e,r);break;case $e.BYTE:St.append8BitBytes(e,r,n);break;case $e.KANJI:St.appendKanjiBytes(e,r);break;default:throw new At("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=St.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=St.getDigit(e.charAt(n));if(n+2<r){const s=St.getDigit(e.charAt(n+1)),c=St.getDigit(e.charAt(n+2));t.appendBits(i*100+s*10+c,10),n+=3}else if(n+1<r){const s=St.getDigit(e.charAt(n+1));t.appendBits(i*10+s,7),n+=2}else t.appendBits(i,4),n++}}static appendAlphanumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=St.getAlphanumericCode(e.charCodeAt(n));if(i===-1)throw new At;if(n+1<r){const s=St.getAlphanumericCode(e.charCodeAt(n+1));if(s===-1)throw new At;t.appendBits(i*45+s,11),n+=2}else t.appendBits(i,6),n++}}static append8BitBytes(e,t,r){let n;try{n=fe.encode(e,r)}catch(i){throw new At(i)}for(let i=0,s=n.length;i!==s;i++){const c=n[i];t.appendBits(c,8)}}static appendKanjiBytes(e,t){let r;try{r=fe.encode(e,ae.SJIS)}catch(i){throw new At(i)}const n=r.length;for(let i=0;i<n;i+=2){const s=r[i]&255,c=r[i+1]&255,d=s<<8&4294967295|c;let g=-1;if(d>=33088&&d<=40956?g=d-33088:d>=57408&&d<=60351&&(g=d-49472),g===-1)throw new At("Invalid byte sequence");const y=(g>>8)*192+(g&255);t.appendBits(y,13)}}static appendECI(e,t){t.appendBits($e.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}St.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),St.DEFAULT_BYTE_MODE_ENCODING=ae.UTF8.getName();class an{write(e,t,r,n=null){if(e.length===0)throw new A("Found empty contents");if(t<0||r<0)throw new A("Requested dimensions are too small: "+t+"x"+r);let i=_t.L,s=an.QUIET_ZONE_SIZE;n!==null&&(n.get(Lt.ERROR_CORRECTION)!==void 0&&(i=_t.fromString(n.get(Lt.ERROR_CORRECTION).toString())),n.get(Lt.MARGIN)!==void 0&&(s=Number.parseInt(n.get(Lt.MARGIN).toString(),10)));const c=St.encode(e,i,n);return this.renderResult(c,t,r,s)}writeToDom(e,t,r,n,i=null){typeof e=="string"&&(e=document.querySelector(e));const s=this.write(t,r,n,i);e&&e.appendChild(s)}renderResult(e,t,r,n){const i=e.getMatrix();if(i===null)throw new me;const s=i.getWidth(),c=i.getHeight(),d=s+n*2,g=c+n*2,y=Math.max(t,d),T=Math.max(r,g),O=Math.min(Math.floor(y/d),Math.floor(T/g)),H=Math.floor((y-s*O)/2),ne=Math.floor((T-c*O)/2),se=this.createSVGElement(y,T);for(let Ce=0,_e=ne;Ce<c;Ce++,_e+=O)for(let Pe=0,Ue=H;Pe<s;Pe++,Ue+=O)if(i.get(Pe,Ce)===1){const ke=this.createSvgRectElement(Ue,_e,O,O);se.appendChild(ke)}return se}createSVGElement(e,t){const r=document.createElementNS(an.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,n){const i=document.createElementNS(an.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",n.toString()),i.setAttributeNS(null,"fill","#000000"),i}}an.QUIET_ZONE_SIZE=4,an.SVG_NS="http://www.w3.org/2000/svg";class Cn{encode(e,t,r,n,i){if(e.length===0)throw new A("Found empty contents");if(t!==F.QR_CODE)throw new A("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new A(`Requested dimensions are too small: ${r}x${n}`);let s=_t.L,c=Cn.QUIET_ZONE_SIZE;i!==null&&(i.get(Lt.ERROR_CORRECTION)!==void 0&&(s=_t.fromString(i.get(Lt.ERROR_CORRECTION).toString())),i.get(Lt.MARGIN)!==void 0&&(c=Number.parseInt(i.get(Lt.MARGIN).toString(),10)));const d=St.encode(e,s,i);return Cn.renderResult(d,r,n,c)}static renderResult(e,t,r,n){const i=e.getMatrix();if(i===null)throw new me;const s=i.getWidth(),c=i.getHeight(),d=s+n*2,g=c+n*2,y=Math.max(t,d),T=Math.max(r,g),O=Math.min(Math.floor(y/d),Math.floor(T/g)),H=Math.floor((y-s*O)/2),ne=Math.floor((T-c*O)/2),se=new re(y,T);for(let Ce=0,_e=ne;Ce<c;Ce++,_e+=O)for(let Pe=0,Ue=H;Pe<s;Pe++,Ue+=O)i.get(Pe,Ce)===1&&se.setRegion(Ue,_e,O,O);return se}}Cn.QUIET_ZONE_SIZE=4;class xl{encode(e,t,r,n,i){let s;switch(t){case F.QR_CODE:s=new Cn;break;default:throw new A("No encoder available for format "+t)}return s.encode(e,t,r,n,i)}}class Br extends ye{constructor(e,t,r,n,i,s,c,d){if(super(s,c),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=n,this.top=i,n+s>t||i+c>r)throw new A("Crop rectangle does not fit within image data.");d&&this.reverseHorizontal(s,c)}getRow(e,t){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return E.arraycopy(this.yuvData,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return E.arraycopy(this.yuvData,i,n,0,r),n;for(let s=0;s<t;s++){const c=s*e;E.arraycopy(this.yuvData,i,n,c,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Br(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,n,!1)}renderThumbnail(){const e=this.getWidth()/Br.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Br.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),n=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let s=0;s<t;s++){const c=s*e;for(let d=0;d<e;d++){const g=n[i+d*Br.THUMBNAIL_SCALE_FACTOR]&255;r[c+d]=4278190080|g*65793}i+=this.dataWidth*Br.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Br.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Br.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let n=0,i=this.top*this.dataWidth+this.left;n<t;n++,i+=this.dataWidth){const s=i+e/2;for(let c=i,d=i+e-1;c<s;c++,d--){const g=r[c];r[c]=r[d],r[d]=g}}}invert(){return new Be(this)}}Br.THUMBNAIL_SCALE_FACTOR=2;class Yi extends ye{constructor(e,t,r,n,i,s,c){if(super(t,r),this.dataWidth=n,this.dataHeight=i,this.left=s,this.top=c,e.BYTES_PER_ELEMENT===4){const d=t*r,g=new Uint8ClampedArray(d);for(let y=0;y<d;y++){const T=e[y],O=T>>16&255,H=T>>7&510,ne=T&255;g[y]=(O+H+ne)/4&255}this.luminances=g}else this.luminances=e;if(n===void 0&&(this.dataWidth=t),i===void 0&&(this.dataHeight=r),s===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new A("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new A("Requested row is outside the image: "+e);const r=this.getWidth();(t==null||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return E.arraycopy(this.luminances,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return E.arraycopy(this.luminances,i,n,0,r),n;for(let s=0;s<t;s++){const c=s*e;E.arraycopy(this.luminances,i,n,c,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Yi(this.luminances,r,n,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new Be(this)}}class To extends ae{static forName(e){return this.getCharacterSetECIByName(e)}}class qi{}qi.ISO_8859_1=ae.ISO8859_1;class Bo{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class No{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class gl{constructor(e){this.previous=e}getPrevious(){return this.previous}}class An extends gl{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new An(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new An(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+N.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class $i extends An{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):r===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new $i(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function pl(I,e,t){return new $i(I,e,t)}function Pn(I,e,t){return new An(I,e,t)}const ml=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],qr=0,ci=1,wr=2,Oo=3,Nr=4,Cl=new An(null,0,0),Zi=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Al(I){for(let e of I)B.fill(e,-1);return I[qr][Nr]=0,I[ci][Nr]=0,I[ci][qr]=28,I[Oo][Nr]=0,I[wr][Nr]=0,I[wr][qr]=15,I}const Mo=Al(B.createInt32Array(6,6));class Or{constructor(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,n=this.token;if(e!==this.mode){let s=Zi[this.mode][e];n=Pn(n,s&65535,s>>16),r+=s>>16}let i=e===wr?4:5;return n=Pn(n,t,i),new Or(n,e,0,r+i)}shiftAndAppend(e,t){let r=this.token,n=this.mode===wr?4:5;return r=Pn(r,Mo[this.mode][e],n),r=Pn(r,t,5),new Or(r,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,n=this.bitCount;if(this.mode===Nr||this.mode===wr){let c=Zi[r][qr];t=Pn(t,c&65535,c>>16),n+=c>>16,r=qr}let i=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new Or(t,r,this.binaryShiftByteCount+1,n+i);return s.binaryShiftByteCount===2078&&(s=s.endBinaryShift(e+1)),s}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=pl(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new Or(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Zi[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=Or.calculateBinaryShiftCost(e)-Or.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let n=this.endBinaryShift(e.length).token;n!==null;n=n.getPrevious())t.unshift(n);let r=new M;for(const n of t)n.appendTo(r,e);return r}toString(){return he.format("%s bits=%d bytes=%d",ml[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}Or.INITIAL_STATE=new Or(Cl,qr,0,0);function wl(I){const e=he.getCharCode(" "),t=he.getCharCode("."),r=he.getCharCode(",");I[qr][e]=1;const n=he.getCharCode("Z"),i=he.getCharCode("A");for(let O=i;O<=n;O++)I[qr][O]=O-i+2;I[ci][e]=1;const s=he.getCharCode("z"),c=he.getCharCode("a");for(let O=c;O<=s;O++)I[ci][O]=O-c+2;I[wr][e]=1;const d=he.getCharCode("9"),g=he.getCharCode("0");for(let O=g;O<=d;O++)I[wr][O]=O-g+2;I[wr][r]=12,I[wr][t]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let O=0;O<y.length;O++)I[Oo][he.getCharCode(y[O])]=O;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let O=0;O<T.length;O++)he.getCharCode(T[O])>0&&(I[Nr][he.getCharCode(T[O])]=O);return I}const Qi=wl(B.createInt32Array(5,256));class Un{constructor(e){this.text=e}encode(){const e=he.getCharCode(" "),t=he.getCharCode(`
`);let r=No.singletonList(Or.INITIAL_STATE);for(let i=0;i<this.text.length;i++){let s,c=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case he.getCharCode("\r"):s=c===t?2:0;break;case he.getCharCode("."):s=c===e?3:0;break;case he.getCharCode(","):s=c===e?4:0;break;case he.getCharCode(":"):s=c===e?5:0;break;default:s=0}s>0?(r=Un.updateStateListForPair(r,i,s),i++):r=this.updateStateListForChar(r,i)}return No.min(r,(i,s)=>i.getBitCount()-s.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let n of e)this.updateStateForChar(n,t,r);return Un.simplifyStates(r)}updateStateForChar(e,t,r){let n=this.text[t]&255,i=Qi[e.getMode()][n]>0,s=null;for(let c=0;c<=Nr;c++){let d=Qi[c][n];if(d>0){if(s==null&&(s=e.endBinaryShift(t)),!i||c===e.getMode()||c===wr){const g=s.latchAndAppend(c,d);r.push(g)}if(!i&&Mo[e.getMode()][c]>=0){const g=s.shiftAndAppend(c,d);r.push(g)}}}if(e.getBinaryShiftByteCount()>0||Qi[e.getMode()][n]===0){let c=e.addBinaryShiftChar(t);r.push(c)}}static updateStateListForPair(e,t,r){const n=[];for(let i of e)this.updateStateForPair(i,t,r,n);return this.simplifyStates(n)}static updateStateForPair(e,t,r,n){let i=e.endBinaryShift(t);if(n.push(i.latchAndAppend(Nr,r)),e.getMode()!==Nr&&n.push(i.shiftAndAppend(Nr,r)),r===3||r===4){let s=i.latchAndAppend(wr,16-r).latchAndAppend(wr,1);n.push(s)}if(e.getBinaryShiftByteCount()>0){let s=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(s)}}static simplifyStates(e){let t=[];for(const r of e){let n=!0;for(const i of t){if(i.isBetterThanOrEqualTo(r)){n=!1;break}r.isBetterThanOrEqualTo(i)&&(t=t.filter(s=>s!==i))}n&&t.push(r)}return t}}class ht{constructor(){}static encodeBytes(e){return ht.encode(e,ht.DEFAULT_EC_PERCENT,ht.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let n=new Un(e).encode(),i=N.truncDivision(n.getSize()*t,100)+11,s=n.getSize()+i,c,d,g,y,T;if(r!==ht.DEFAULT_AZTEC_LAYERS){if(c=r<0,d=Math.abs(r),d>(c?ht.MAX_NB_BITS_COMPACT:ht.MAX_NB_BITS))throw new A(he.format("Illegal value %s for layers",r));g=ht.totalBitsInLayer(d,c),y=ht.WORD_SIZE[d];let ke=g-g%y;if(T=ht.stuffBits(n,y),T.getSize()+i>ke)throw new A("Data to large for user specified layer");if(c&&T.getSize()>y*64)throw new A("Data to large for user specified layer")}else{y=0,T=null;for(let ke=0;;ke++){if(ke>ht.MAX_NB_BITS)throw new A("Data too large for an Aztec code");if(c=ke<=3,d=c?ke+1:ke,g=ht.totalBitsInLayer(d,c),s>g)continue;(T==null||y!==ht.WORD_SIZE[d])&&(y=ht.WORD_SIZE[d],T=ht.stuffBits(n,y));let ct=g-g%y;if(!(c&&T.getSize()>y*64)&&T.getSize()+i<=ct)break}}let O=ht.generateCheckWords(T,g,y),H=T.getSize()/y,ne=ht.generateModeMessage(c,d,H),se=(c?11:14)+d*4,Ce=new Int32Array(se),_e;if(c){_e=se;for(let ke=0;ke<Ce.length;ke++)Ce[ke]=ke}else{_e=se+1+2*N.truncDivision(N.truncDivision(se,2)-1,15);let ke=N.truncDivision(se,2),ct=N.truncDivision(_e,2);for(let nt=0;nt<ke;nt++){let nr=nt+N.truncDivision(nt,15);Ce[ke-nt-1]=ct-nr-1,Ce[ke+nt]=ct+nr+1}}let Pe=new re(_e);for(let ke=0,ct=0;ke<d;ke++){let nt=(d-ke)*4+(c?9:12);for(let nr=0;nr<nt;nr++){let vr=nr*2;for(let ir=0;ir<2;ir++)O.get(ct+vr+ir)&&Pe.set(Ce[ke*2+ir],Ce[ke*2+nr]),O.get(ct+nt*2+vr+ir)&&Pe.set(Ce[ke*2+nr],Ce[se-1-ke*2-ir]),O.get(ct+nt*4+vr+ir)&&Pe.set(Ce[se-1-ke*2-ir],Ce[se-1-ke*2-nr]),O.get(ct+nt*6+vr+ir)&&Pe.set(Ce[se-1-ke*2-nr],Ce[ke*2+ir])}ct+=nt*8}if(ht.drawModeMessage(Pe,c,_e,ne),c)ht.drawBullsEye(Pe,N.truncDivision(_e,2),5);else{ht.drawBullsEye(Pe,N.truncDivision(_e,2),7);for(let ke=0,ct=0;ke<N.truncDivision(se,2)-1;ke+=15,ct+=16)for(let nt=N.truncDivision(_e,2)&1;nt<_e;nt+=2)Pe.set(N.truncDivision(_e,2)-ct,nt),Pe.set(N.truncDivision(_e,2)+ct,nt),Pe.set(nt,N.truncDivision(_e,2)-ct),Pe.set(nt,N.truncDivision(_e,2)+ct)}let Ue=new Bo;return Ue.setCompact(c),Ue.setSize(_e),Ue.setLayers(d),Ue.setCodeWords(H),Ue.setMatrix(Pe),Ue}static drawBullsEye(e,t,r){for(let n=0;n<r;n+=2)for(let i=t-n;i<=t+n;i++)e.set(i,t-n),e.set(i,t+n),e.set(t-n,i),e.set(t+n,i);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let n=new M;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=ht.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=ht.generateCheckWords(n,40,4)),n}static drawModeMessage(e,t,r,n){let i=N.truncDivision(r,2);if(t)for(let s=0;s<7;s++){let c=i-3+s;n.get(s)&&e.set(c,i-5),n.get(s+7)&&e.set(i+5,c),n.get(20-s)&&e.set(c,i+5),n.get(27-s)&&e.set(i-5,c)}else for(let s=0;s<10;s++){let c=i-5+s+N.truncDivision(s,5);n.get(s)&&e.set(c,i-7),n.get(s+10)&&e.set(i+7,c),n.get(29-s)&&e.set(c,i+7),n.get(39-s)&&e.set(i-7,c)}}static generateCheckWords(e,t,r){let n=e.getSize()/r,i=new Xi(ht.getGF(r)),s=N.truncDivision(t,r),c=ht.bitsToWords(e,r,s);i.encode(c,s-n);let d=t%r,g=new M;g.appendBits(0,d);for(const y of Array.from(c))g.appendBits(y,r);return g}static bitsToWords(e,t,r){let n=new Int32Array(r),i,s;for(i=0,s=e.getSize()/t;i<s;i++){let c=0;for(let d=0;d<t;d++)c|=e.get(i*t+d)?1<<t-d-1:0;n[i]=c}return n}static getGF(e){switch(e){case 4:return k.AZTEC_PARAM;case 6:return k.AZTEC_DATA_6;case 8:return k.AZTEC_DATA_8;case 10:return k.AZTEC_DATA_10;case 12:return k.AZTEC_DATA_12;default:throw new A("Unsupported word size "+e)}}static stuffBits(e,t){let r=new M,n=e.getSize(),i=(1<<t)-2;for(let s=0;s<n;s+=t){let c=0;for(let d=0;d<t;d++)(s+d>=n||e.get(s+d))&&(c|=1<<t-1-d);(c&i)===i?(r.appendBits(c&i,t),s--):c&i?r.appendBits(c,t):(r.appendBits(c|1,t),s--)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ht.DEFAULT_EC_PERCENT=33,ht.DEFAULT_AZTEC_LAYERS=0,ht.MAX_NB_BITS=32,ht.MAX_NB_BITS_COMPACT=4,ht.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ui{encode(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)}encodeWithHints(e,t,r,n,i){let s=qi.ISO_8859_1,c=ht.DEFAULT_EC_PERCENT,d=ht.DEFAULT_AZTEC_LAYERS;return i!=null&&(i.has(Lt.CHARACTER_SET)&&(s=To.forName(i.get(Lt.CHARACTER_SET).toString())),i.has(Lt.ERROR_CORRECTION)&&(c=N.parseInt(i.get(Lt.ERROR_CORRECTION).toString())),i.has(Lt.AZTEC_LAYERS)&&(d=N.parseInt(i.get(Lt.AZTEC_LAYERS).toString()))),ui.encodeLayers(e,t,r,n,s,c,d)}static encodeLayers(e,t,r,n,i,s,c){if(t!==F.AZTEC)throw new A("Can only encode AZTEC, but got "+t);let d=ht.encode(he.getBytes(e,i),s,c);return ui.renderResult(d,r,n)}static renderResult(e,t,r){let n=e.getMatrix();if(n==null)throw new me;let i=n.getWidth(),s=n.getHeight(),c=Math.max(t,i),d=Math.max(r,s),g=Math.min(c/i,d/s),y=(c-i*g)/2,T=(d-s*g)/2,O=new re(c,d);for(let H=0,ne=T;H<s;H++,ne+=g)for(let se=0,Ce=y;se<i;se++,Ce+=g)n.get(se,H)&&O.setRegion(Ce,ne,g,g);return O}}a.AbstractExpandedDecoder=Li,a.ArgumentException=m,a.ArithmeticException=Z,a.AztecCode=Bo,a.AztecCodeReader=He,a.AztecCodeWriter=ui,a.AztecDecoder=Ee,a.AztecDetector=ze,a.AztecDetectorResult=le,a.AztecEncoder=ht,a.AztecHighLevelEncoder=Un,a.AztecPoint=De,a.BarcodeFormat=F,a.Binarizer=_,a.BinaryBitmap=b,a.BitArray=M,a.BitMatrix=re,a.BitSource=Hi,a.BrowserAztecCodeReader=Ye,a.BrowserBarcodeReader=Qa,a.BrowserCodeReader=X,a.BrowserDatamatrixCodeReader=Ja,a.BrowserMultiFormatReader=ul,a.BrowserPDF417Reader=fl,a.BrowserQRCodeReader=hl,a.BrowserQRCodeSvgWriter=an,a.CharacterSetECI=ae,a.ChecksumException=S,a.Code128Reader=Re,a.Code39Reader=ot,a.DataMatrixDecodedBitStreamParser=Vr,a.DataMatrixReader=Gr,a.DecodeHintType=$,a.DecoderResult=te,a.DefaultGridSampler=Oe,a.DetectorResult=xe,a.EAN13Reader=er,a.EncodeHintType=Lt,a.Exception=x,a.FormatException=j,a.GenericGF=k,a.GenericGFPoly=W,a.GlobalHistogramBinarizer=ue,a.GridSampler=pe,a.GridSamplerInstance=Ne,a.HTMLCanvasElementLuminanceSource=Ie,a.HybridBinarizer=K,a.ITFReader=at,a.IllegalArgumentException=A,a.IllegalStateException=me,a.InvertedLuminanceSource=Be,a.LuminanceSource=ye,a.MathUtils=ee,a.MultiFormatOneDReader=pn,a.MultiFormatReader=Do,a.MultiFormatWriter=xl,a.NotFoundException=L,a.OneDReader=Ve,a.PDF417DecodedBitStreamParser=be,a.PDF417DecoderErrorCorrection=vo,a.PDF417Reader=Gt,a.PDF417ResultMetadata=bo,a.PerspectiveTransform=Ae,a.PlanarYUVLuminanceSource=Br,a.QRCodeByteMatrix=li,a.QRCodeDataMask=Cr,a.QRCodeDecodedBitStreamParser=Tt,a.QRCodeDecoderErrorCorrectionLevel=_t,a.QRCodeDecoderFormatInformation=$t,a.QRCodeEncoder=St,a.QRCodeEncoderQRCode=sn,a.QRCodeMaskUtil=Nt,a.QRCodeMatrixUtil=Qe,a.QRCodeMode=$e,a.QRCodeReader=Xr,a.QRCodeVersion=qe,a.QRCodeWriter=Cn,a.RGBLuminanceSource=Yi,a.RSS14Reader=Bt,a.RSSExpandedReader=Me,a.ReaderException=ai,a.ReedSolomonDecoder=Fe,a.ReedSolomonEncoder=Xi,a.ReedSolomonException=oe,a.Result=v,a.ResultMetadataType=V,a.ResultPoint=q,a.StringUtils=he,a.UnsupportedOperationException=ie,a.VideoInputDevice=de,a.WhiteRectangleDetector=Y,a.WriterException=At,a.ZXingArrays=B,a.ZXingCharset=To,a.ZXingInteger=N,a.ZXingStandardCharsets=qi,a.ZXingStringBuilder=z,a.ZXingStringEncoding=fe,a.ZXingSystem=E,a.createAbstractExpandedDecoder=wo,Object.defineProperty(a,"__esModule",{value:!0})})})(Q0,Q0.exports);var It=Q0.exports;const Wu=Ca(It),Vu=El({__proto__:null,default:Wu},[It]);var Rs=function(){function o(l,a,u){if(this.formatMap=new Map([[Xe.QR_CODE,It.BarcodeFormat.QR_CODE],[Xe.AZTEC,It.BarcodeFormat.AZTEC],[Xe.CODABAR,It.BarcodeFormat.CODABAR],[Xe.CODE_39,It.BarcodeFormat.CODE_39],[Xe.CODE_93,It.BarcodeFormat.CODE_93],[Xe.CODE_128,It.BarcodeFormat.CODE_128],[Xe.DATA_MATRIX,It.BarcodeFormat.DATA_MATRIX],[Xe.MAXICODE,It.BarcodeFormat.MAXICODE],[Xe.ITF,It.BarcodeFormat.ITF],[Xe.EAN_13,It.BarcodeFormat.EAN_13],[Xe.EAN_8,It.BarcodeFormat.EAN_8],[Xe.PDF_417,It.BarcodeFormat.PDF_417],[Xe.RSS_14,It.BarcodeFormat.RSS_14],[Xe.RSS_EXPANDED,It.BarcodeFormat.RSS_EXPANDED],[Xe.UPC_A,It.BarcodeFormat.UPC_A],[Xe.UPC_E,It.BarcodeFormat.UPC_E],[Xe.UPC_EAN_EXTENSION,It.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Vu)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=a,this.logger=u;var h=this.createZXingFormats(l),f=new Map;f.set(It.DecodeHintType.POSSIBLE_FORMATS,h),f.set(It.DecodeHintType.TRY_HARDER,!1),this.hints=f}return o.prototype.decodeAsync=function(l){var a=this;return new Promise(function(u,h){try{u(a.decode(l))}catch(f){h(f)}})},o.prototype.decode=function(l){var a=new It.MultiFormatReader(this.verbose,this.hints),u=new It.HTMLCanvasElementLuminanceSource(l),h=new It.BinaryBitmap(new It.HybridBinarizer(u)),f=a.decode(h);return{text:f.text,format:za.create(this.toHtml5QrcodeSupportedFormats(f.format)),debugData:this.createDebugData()}},o.prototype.createReverseFormatMap=function(){var l=new Map;return this.formatMap.forEach(function(a,u,h){l.set(a,u)}),l},o.prototype.toHtml5QrcodeSupportedFormats=function(l){if(!this.reverseFormatMap.has(l))throw"reverseFormatMap doesn't have ".concat(l);return this.reverseFormatMap.get(l)},o.prototype.createZXingFormats=function(l){for(var a=[],u=0,h=l;u<h.length;u++){var f=h[u];this.formatMap.has(f)?a.push(this.formatMap.get(f)):this.logger.logError("".concat(f," is not supported by")+"ZXingHtml5QrcodeShim")}return a},o.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},o}(),Gu=function(o,l,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(A){p(A)}}function w(m){try{x(u.throw(m))}catch(A){p(A)}}function x(m){m.done?f(m.value):h(m.value).then(C,w)}x((u=u.apply(o,l||[])).next())})},Xu=function(o,l){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return w([x,m])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=l.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Fs=function(){function o(l,a,u){if(this.formatMap=new Map([[Xe.QR_CODE,"qr_code"],[Xe.AZTEC,"aztec"],[Xe.CODABAR,"codabar"],[Xe.CODE_39,"code_39"],[Xe.CODE_93,"code_93"],[Xe.CODE_128,"code_128"],[Xe.DATA_MATRIX,"data_matrix"],[Xe.ITF,"itf"],[Xe.EAN_13,"ean_13"],[Xe.EAN_8,"ean_8"],[Xe.PDF_417,"pdf417"],[Xe.UPC_A,"upc_a"],[Xe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!o.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=a,this.logger=u;var h=this.createBarcodeDetectorFormats(l);if(this.detector=new BarcodeDetector(h),!this.detector)throw"BarcodeDetector detector not supported"}return o.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var l=new BarcodeDetector({formats:["qr_code"]});return typeof l<"u"},o.prototype.decodeAsync=function(l){return Gu(this,void 0,void 0,function(){var a,u;return Xu(this,function(h){switch(h.label){case 0:return[4,this.detector.detect(l)];case 1:if(a=h.sent(),!a||a.length===0)throw"No barcode or QR code detected.";return u=this.selectLargestBarcode(a),[2,{text:u.rawValue,format:za.create(this.toHtml5QrcodeSupportedFormats(u.format)),debugData:this.createDebugData()}]}})})},o.prototype.selectLargestBarcode=function(l){for(var a=null,u=0,h=0,f=l;h<f.length;h++){var p=f[h],C=p.boundingBox.width*p.boundingBox.height;C>u&&(u=C,a=p)}if(!a)throw"No largest barcode found";return a},o.prototype.createBarcodeDetectorFormats=function(l){for(var a=[],u=0,h=l;u<h.length;u++){var f=h[u];this.formatMap.has(f)?a.push(this.formatMap.get(f)):this.logger.warn("".concat(f," is not supported by")+"BarcodeDetectorDelegate")}return{formats:a}},o.prototype.toHtml5QrcodeSupportedFormats=function(l){if(!this.reverseFormatMap.has(l))throw"reverseFormatMap doesn't have ".concat(l);return this.reverseFormatMap.get(l)},o.prototype.createReverseFormatMap=function(){var l=new Map;return this.formatMap.forEach(function(a,u,h){l.set(a,u)}),l},o.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},o}(),Ls=function(o,l,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(A){p(A)}}function w(m){try{x(u.throw(m))}catch(A){p(A)}}function x(m){m.done?f(m.value):h(m.value).then(C,w)}x((u=u.apply(o,l||[])).next())})},ks=function(o,l){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return w([x,m])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=l.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Yu=function(){function o(l,a,u,h){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=u,a&&Fs.isSupported()?(this.primaryDecoder=new Fs(l,u,h),this.secondaryDecoder=new Rs(l,u,h)):this.primaryDecoder=new Rs(l,u,h)}return o.prototype.decodeAsync=function(l){return Ls(this,void 0,void 0,function(){var a;return ks(this,function(u){switch(u.label){case 0:a=performance.now(),u.label=1;case 1:return u.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(l)];case 2:return[2,u.sent()];case 3:return this.possiblyLogPerformance(a),[7];case 4:return[2]}})})},o.prototype.decodeRobustlyAsync=function(l){return Ls(this,void 0,void 0,function(){var a,u;return ks(this,function(h){switch(h.label){case 0:a=performance.now(),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(l)];case 2:return[2,h.sent()];case 3:if(u=h.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(l)];throw u;case 4:return this.possiblyLogPerformance(a),[7];case 5:return[2]}})})},o.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},o.prototype.possiblyLogPerformance=function(l){if(this.verbose){var a=performance.now()-l;this.executionResults.push(a),this.executions++,this.possiblyFlushPerformanceReport()}},o.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var l=0,a=0,u=this.executionResults;a<u.length;a++){var h=u[a];l+=h}var f=l/this.executionResults.length;console.log("".concat(f," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},o}(),Co=function(){var o=function(l,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(u[f]=h[f])},o(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(l,a);function u(){this.constructor=l}l.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),bi=function(o,l,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(A){p(A)}}function w(m){try{x(u.throw(m))}catch(A){p(A)}}function x(m){m.done?f(m.value):h(m.value).then(C,w)}x((u=u.apply(o,l||[])).next())})},_i=function(o,l){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return w([x,m])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=l.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ga=function(){function o(l,a){this.name=l,this.track=a}return o.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},o.prototype.apply=function(l){var a={};a[this.name]=l;var u={advanced:[a]};return this.track.applyConstraints(u)},o.prototype.value=function(){var l=this.track.getSettings();if(this.name in l){var a=l[this.name];return a}return null},o}(),qu=function(o){Co(l,o);function l(a,u){return o.call(this,a,u)||this}return l.prototype.min=function(){return this.getCapabilities().min},l.prototype.max=function(){return this.getCapabilities().max},l.prototype.step=function(){return this.getCapabilities().step},l.prototype.apply=function(a){var u={};u[this.name]=a;var h={advanced:[u]};return this.track.applyConstraints(h)},l.prototype.getCapabilities=function(){this.failIfNotSupported();var a=this.track.getCapabilities(),u=a[this.name];return{min:u.min,max:u.max,step:u.step}},l.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},l}(Ga),$u=function(o){Co(l,o);function l(a){return o.call(this,"zoom",a)||this}return l}(qu),Zu=function(o){Co(l,o);function l(a){return o.call(this,"torch",a)||this}return l}(Ga),Qu=function(){function o(l){this.track=l}return o.prototype.zoomFeature=function(){return new $u(this.track)},o.prototype.torchFeature=function(){return new Zu(this.track)},o}(),Ku=function(){function o(l,a,u){this.isClosed=!1,this.parentElement=l,this.mediaStream=a,this.callbacks=u,this.surface=this.createVideoElement(this.parentElement.clientWidth),l.append(this.surface)}return o.prototype.createVideoElement=function(l){var a=document.createElement("video");return a.style.width="".concat(l,"px"),a.style.display="block",a.muted=!0,a.setAttribute("muted","true"),a.playsInline=!0,a},o.prototype.setupSurface=function(){var l=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var a=function(){var u=l.surface.clientWidth,h=l.surface.clientHeight;l.callbacks.onRenderSurfaceReady(u,h),l.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.srcObject=this.mediaStream,this.surface.play()},o.create=function(l,a,u,h){return bi(this,void 0,void 0,function(){var f,p;return _i(this,function(C){switch(C.label){case 0:return f=new o(l,a,h),u.aspectRatio?(p={aspectRatio:u.aspectRatio},[4,f.getFirstTrackOrFail().applyConstraints(p)]):[3,2];case 1:C.sent(),C.label=2;case 2:return f.setupSurface(),[2,f]}})})},o.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},o.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},o.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},o.prototype.resume=function(l){this.failIfClosed();var a=this,u=function(){setTimeout(l,200),a.surface.removeEventListener("playing",u)};this.surface.addEventListener("playing",u),this.surface.play()},o.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},o.prototype.getSurface=function(){return this.failIfClosed(),this.surface},o.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},o.prototype.applyVideoConstraints=function(l){return bi(this,void 0,void 0,function(){return _i(this,function(a){if("aspectRatio"in l)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(l)]})})},o.prototype.close=function(){if(this.isClosed)return Promise.resolve();var l=this;return new Promise(function(a,u){var h=l.mediaStream.getVideoTracks(),f=h.length,p=0;l.mediaStream.getVideoTracks().forEach(function(C){l.mediaStream.removeTrack(C),C.stop(),++p,p>=f&&(l.isClosed=!0,l.parentElement.removeChild(l.surface),a())})})},o.prototype.getCapabilities=function(){return new Qu(this.getFirstTrackOrFail())},o}(),Ju=function(){function o(l){this.mediaStream=l}return o.prototype.render=function(l,a,u){return bi(this,void 0,void 0,function(){return _i(this,function(h){return[2,Ku.create(l,this.mediaStream,a,u)]})})},o.create=function(l){return bi(this,void 0,void 0,function(){var a,u;return _i(this,function(h){switch(h.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return a={audio:!1,video:l},[4,navigator.mediaDevices.getUserMedia(a)];case 1:return u=h.sent(),[2,new o(u)]}})})},o}(),Ps=function(o,l,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(A){p(A)}}function w(m){try{x(u.throw(m))}catch(A){p(A)}}function x(m){m.done?f(m.value):h(m.value).then(C,w)}x((u=u.apply(o,l||[])).next())})},Us=function(o,l){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return w([x,m])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=l.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ef=function(){function o(){}return o.failIfNotSupported=function(){return Ps(this,void 0,void 0,function(){return Us(this,function(l){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new o]})})},o.prototype.create=function(l){return Ps(this,void 0,void 0,function(){return Us(this,function(a){return[2,Ju.create(l)]})})},o}(),tf=function(o,l,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(A){p(A)}}function w(m){try{x(u.throw(m))}catch(A){p(A)}}function x(m){m.done?f(m.value):h(m.value).then(C,w)}x((u=u.apply(o,l||[])).next())})},rf=function(o,l){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return w([x,m])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=l.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},nf=function(){function o(){}return o.retrieve=function(){if(navigator.mediaDevices)return o.getCamerasFromMediaDevices();var l=MediaStreamTrack;return MediaStreamTrack&&l.getSources?o.getCamerasFromMediaStreamTrack():o.rejectWithError()},o.rejectWithError=function(){var l=bn.unableToQuerySupportedDevices();return o.isHttpsOrLocalhost()||(l=bn.insecureContextCameraQueryError()),Promise.reject(l)},o.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var l=location.host.split(":")[0];return l==="127.0.0.1"||l==="localhost"},o.getCamerasFromMediaDevices=function(){return tf(this,void 0,void 0,function(){var l,a,u,h,f,p,C;return rf(this,function(w){switch(w.label){case 0:return l=function(x){for(var m=x.getVideoTracks(),A=0,b=m;A<b.length;A++){var S=b[A];S.enabled=!1,S.stop(),x.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return a=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(u=w.sent(),h=[],f=0,p=u;f<p.length;f++)C=p[f],C.kind==="videoinput"&&h.push({id:C.deviceId,label:C.label});return l(a),[2,h]}})})},o.getCamerasFromMediaStreamTrack=function(){return new Promise(function(l,a){var u=function(f){for(var p=[],C=0,w=f;C<w.length;C++){var x=w[C];x.kind==="video"&&p.push({id:x.id,label:x.label})}l(p)},h=MediaStreamTrack;h.getSources(u)})},o}(),Ot;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.NOT_STARTED=1]="NOT_STARTED",o[o.SCANNING=2]="SCANNING",o[o.PAUSED=3]="PAUSED"})(Ot||(Ot={}));var of=function(){function o(){this.state=Ot.NOT_STARTED,this.onGoingTransactionNewState=Ot.UNKNOWN}return o.prototype.directTransition=function(l){this.failIfTransitionOngoing(),this.validateTransition(l),this.state=l},o.prototype.startTransition=function(l){return this.failIfTransitionOngoing(),this.validateTransition(l),this.onGoingTransactionNewState=l,this},o.prototype.execute=function(){if(this.onGoingTransactionNewState===Ot.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var l=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ot.UNKNOWN,this.directTransition(l)},o.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ot.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ot.UNKNOWN},o.prototype.getState=function(){return this.state},o.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ot.UNKNOWN)throw"Cannot transition to a new state, already under transition"},o.prototype.validateTransition=function(l){switch(this.state){case Ot.UNKNOWN:throw"Transition from unknown is not allowed";case Ot.NOT_STARTED:this.failIfNewStateIs(l,[Ot.PAUSED]);break;case Ot.SCANNING:break;case Ot.PAUSED:break}},o.prototype.failIfNewStateIs=function(l,a){for(var u=0,h=a;u<h.length;u++){var f=h[u];if(l===f)throw"Cannot transition from ".concat(this.state," to ").concat(l)}},o}(),sf=function(){function o(l){this.stateManager=l}return o.prototype.startTransition=function(l){return this.stateManager.startTransition(l)},o.prototype.directTransition=function(l){this.stateManager.directTransition(l)},o.prototype.getState=function(){return this.stateManager.getState()},o.prototype.canScanFile=function(){return this.stateManager.getState()===Ot.NOT_STARTED},o.prototype.isScanning=function(){return this.stateManager.getState()!==Ot.NOT_STARTED},o.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ot.SCANNING},o.prototype.isPaused=function(){return this.stateManager.getState()===Ot.PAUSED},o}(),af=function(){function o(){}return o.create=function(){return new sf(new of)},o}(),lf=function(){var o=function(l,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(u[f]=h[f])},o(l,a)};return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(l,a);function u(){this.constructor=l}l.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),lr=function(o){lf(l,o);function l(){return o!==null&&o.apply(this,arguments)||this}return l.DEFAULT_WIDTH=300,l.DEFAULT_WIDTH_OFFSET=2,l.FILE_SCAN_MIN_HEIGHT=300,l.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,l.MIN_QR_BOX_SIZE=50,l.SHADED_LEFT=1,l.SHADED_RIGHT=2,l.SHADED_TOP=3,l.SHADED_BOTTOM=4,l.SHADED_REGION_ELEMENT_ID="qr-shaded-region",l.VERBOSE=!1,l.BORDER_SHADER_DEFAULT_COLOR="#ffffff",l.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",l}(br),cf=function(){function o(l,a){this.logger=a,this.fps=lr.SCAN_DEFAULT_FPS,l?(l.fps&&(this.fps=l.fps),this.disableFlip=l.disableFlip===!0,this.qrbox=l.qrbox,this.aspectRatio=l.aspectRatio,this.videoConstraints=l.videoConstraints):this.disableFlip=lr.DEFAULT_DISABLE_FLIP}return o.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Va.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},o.prototype.isShadedBoxEnabled=function(){return!Mr(this.qrbox)},o.create=function(l,a){return new o(l,a)},o}(),Hs=function(){function o(l,a){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(l))throw"HTML Element with id=".concat(l," not found");this.elementId=l,this.verbose=!1;var u;typeof a=="boolean"?this.verbose=a===!0:a&&(u=a,this.verbose=u.verbose===!0,u.experimentalFeatures),this.logger=new Wa(this.verbose),this.qrcode=new Yu(this.getSupportedFormats(a),this.getUseBarCodeDetectorIfSupported(u),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=af.create()}return o.prototype.start=function(l,a,u,h){var f=this;if(!l)throw"cameraIdOrConfig is required";if(!u||typeof u!="function")throw"qrCodeSuccessCallback is required and should be a function.";var p;h?p=h:p=this.verbose?this.logger.log:function(){};var C=cf.create(a,this.logger);this.clearElement();var w=!1;C.videoConstraints&&(C.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=w,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:lr.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var A=this,b=this.stateManagerProxy.startTransition(Ot.SCANNING);return new Promise(function(S,_){var E=x?C.videoConstraints:A.createVideoConstraints(l);if(!E){b.cancel(),_("videoConstraints should be defined");return}var D={};(!x||C.aspectRatio)&&(D.aspectRatio=C.aspectRatio);var R={onRenderSurfaceReady:function(B,N){A.setupUi(B,N,C),A.isScanning=!0,A.foreverScan(C,u,p)}};ef.failIfNotSupported().then(function(B){B.create(E).then(function(N){return N.render(f.element,D,R).then(function(M){A.renderedCamera=M,b.execute(),S(null)}).catch(function(M){b.cancel(),_(M)})}).catch(function(N){b.cancel(),_(bn.errorGettingUserMedia(N))})}).catch(function(B){b.cancel(),_(bn.cameraStreamingNotSupported())})})},o.prototype.pause=function(l){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ot.PAUSED),this.showPausedState(),(Mr(l)||l!==!0)&&(l=!1),l&&this.renderedCamera&&this.renderedCamera.pause()},o.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var l=this,a=function(){l.stateManagerProxy.directTransition(Ot.SCANNING),l.hidePausedState()};if(!this.renderedCamera.isPaused()){a();return}this.renderedCamera.resume(function(){a()})},o.prototype.getState=function(){return this.stateManagerProxy.getState()},o.prototype.stop=function(){var l=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var a=this.stateManagerProxy.startTransition(Ot.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var u=function(){if(l.element){var f=document.getElementById(lr.SHADED_REGION_ELEMENT_ID);f&&l.element.removeChild(f)}},h=this;return this.renderedCamera.close().then(function(){return h.renderedCamera=null,h.element&&(h.element.removeChild(h.canvasElement),h.canvasElement=null),u(),h.qrRegion&&(h.qrRegion=null),h.context&&(h.context=null),a.execute(),h.hidePausedState(),h.isScanning=!1,Promise.resolve()})},o.prototype.scanFile=function(l,a){return this.scanFileV2(l,a).then(function(u){return u.decodedText})},o.prototype.scanFileV2=function(l,a){var u=this;if(!l||!(l instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Mr(a)&&(a=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(h,f){u.possiblyCloseLastScanImageFile(),u.clearElement(),u.lastScanImageFile=URL.createObjectURL(l);var p=new Image;p.onload=function(){var C=p.width,w=p.height,x=document.getElementById(u.elementId),m=x.clientWidth?x.clientWidth:lr.DEFAULT_WIDTH,A=Math.max(x.clientHeight?x.clientHeight:w,lr.FILE_SCAN_MIN_HEIGHT),b=u.computeCanvasDrawConfig(C,w,m,A);if(a){var S=u.createCanvasElement(m,A,"qr-canvas-visible");S.style.display="inline-block",x.appendChild(S);var _=S.getContext("2d");if(!_)throw"Unable to get 2d context from canvas";_.canvas.width=m,_.canvas.height=A,_.drawImage(p,0,0,C,w,b.x,b.y,b.width,b.height)}var E=lr.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(p.width,b.width),R=Math.max(p.height,b.height),B=D+2*E,N=R+2*E,M=u.createCanvasElement(B,N);x.appendChild(M);var J=M.getContext("2d");if(!J)throw"Unable to get 2d context from canvas";J.canvas.width=B,J.canvas.height=N,J.drawImage(p,0,0,C,w,E,E,D,R);try{u.qrcode.decodeRobustlyAsync(M).then(function($){h(Os.createFromQrcodeResult($))}).catch(f)}catch($){f("QR code parse error, error = ".concat($))}},p.onerror=f,p.onabort=f,p.onstalled=f,p.onsuspend=f,p.src=URL.createObjectURL(l)})},o.prototype.clear=function(){this.clearElement()},o.getCameras=function(){return nf.retrieve()},o.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},o.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},o.prototype.applyVideoConstraints=function(l){if(l){if(!Va.isMediaStreamConstraintsValid(l,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(l)},o.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},o.prototype.getSupportedFormats=function(l){var a=[Xe.QR_CODE,Xe.AZTEC,Xe.CODABAR,Xe.CODE_39,Xe.CODE_93,Xe.CODE_128,Xe.DATA_MATRIX,Xe.MAXICODE,Xe.ITF,Xe.EAN_13,Xe.EAN_8,Xe.PDF_417,Xe.RSS_14,Xe.RSS_EXPANDED,Xe.UPC_A,Xe.UPC_E,Xe.UPC_EAN_EXTENSION];if(!l||typeof l=="boolean"||!l.formatsToSupport)return a;if(!Array.isArray(l.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(l.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var u=[],h=0,f=l.formatsToSupport;h<f.length;h++){var p=f[h];zu(p)?u.push(p):this.logger.warn("Invalid format: ".concat(p," passed in config, ignoring."))}if(u.length===0)throw"None of formatsToSupport match supported values.";return u},o.prototype.getUseBarCodeDetectorIfSupported=function(l){if(Mr(l))return!0;if(!Mr(l.useBarCodeDetectorIfSupported))return l.useBarCodeDetectorIfSupported!==!1;if(Mr(l.experimentalFeatures))return!0;var a=l.experimentalFeatures;return Mr(a.useBarCodeDetectorIfSupported)?!0:a.useBarCodeDetectorIfSupported!==!1},o.prototype.validateQrboxSize=function(l,a,u){var h=this,f=u.qrbox;this.validateQrboxConfig(f);var p=this.toQrdimensions(l,a,f),C=function(x){if(x<lr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(lr.MIN_QR_BOX_SIZE,"px.")},w=function(x){return x>l&&(h.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=l),x};C(p.width),C(p.height),p.width=w(p.width)},o.prototype.validateQrboxConfig=function(l){if(typeof l!="number"&&typeof l!="function"&&(l.width===void 0||l.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},o.prototype.toQrdimensions=function(l,a,u){if(typeof u=="number")return{width:u,height:u};if(typeof u=="function")try{return u(l,a)}catch(h){throw new Error("qrbox config was passed as a function but it failed with unknown error"+h)}return u},o.prototype.setupUi=function(l,a,u){u.isShadedBoxEnabled()&&this.validateQrboxSize(l,a,u);var h=Mr(u.qrbox)?{width:l,height:a}:u.qrbox;this.validateQrboxConfig(h);var f=this.toQrdimensions(l,a,h);f.height>a&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var p=u.isShadedBoxEnabled()&&f.height<=a,C={x:0,y:0,width:l,height:a},w=p?this.getShadedRegionBounds(l,a,f):C,x=this.createCanvasElement(w.width,w.height),m={willReadFrequently:!0},A=x.getContext("2d",m);A.canvas.width=w.width,A.canvas.height=w.height,this.element.append(x),p&&this.possiblyInsertShadingElement(this.element,l,a,f),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=A,this.canvasElement=x},o.prototype.createScannerPausedUiElement=function(l){var a=document.createElement("div");a.innerText=bn.scannerPaused(),a.style.display="none",a.style.position="absolute",a.style.top="0px",a.style.zIndex="1",a.style.background="rgba(9, 9, 9, 0.46)",a.style.color="#FFECEC",a.style.textAlign="center",a.style.width="100%",l.appendChild(a),this.scannerPausedUiElement=a},o.prototype.scanContext=function(l,a){var u=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(h){return l(h.text,Os.createFromQrcodeResult(h)),u.possiblyUpdateShaders(!0),!0}).catch(function(h){u.possiblyUpdateShaders(!1);var f=bn.codeParseError(h);return a(f,ja.createFrom(f)),!1})},o.prototype.foreverScan=function(l,a,u){var h=this;if(this.shouldScan&&this.renderedCamera){var f=this.renderedCamera.getSurface(),p=f.videoWidth/f.clientWidth,C=f.videoHeight/f.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*p,x=this.qrRegion.height*C,m=this.qrRegion.x*p,A=this.qrRegion.y*C;this.context.drawImage(f,m,A,w,x,0,0,this.qrRegion.width,this.qrRegion.height);var b=function(){h.foreverScanTimeout=setTimeout(function(){h.foreverScan(l,a,u)},h.getTimeoutFps(l.fps))};this.scanContext(a,u).then(function(S){!S&&l.disableFlip!==!0?(h.context.translate(h.context.canvas.width,0),h.context.scale(-1,1),h.scanContext(a,u).finally(function(){b()})):b()}).catch(function(S){h.logger.logError("Error happend while scanning context",S),b()})}},o.prototype.createVideoConstraints=function(l){if(typeof l=="string")return{deviceId:{exact:l}};if(typeof l=="object"){var a="facingMode",u="deviceId",h={user:!0,environment:!0},f="exact",p=function(_){if(_ in h)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(_,"'")},C=Object.keys(l);if(C.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(C.length," keys");var w=Object.keys(l)[0];if(w!==a&&w!==u)throw"Only '".concat(a,"' and '").concat(u,"' ")+" are supported for 'cameraIdOrConfig'";if(w===a){var x=l.facingMode;if(typeof x=="string"){if(p(x))return{facingMode:x}}else if(typeof x=="object")if(f in x){if(p(x["".concat(f)]))return{facingMode:{exact:x["".concat(f)]}}}else throw"'facingMode' should be string or object with"+" ".concat(f," as key.");else{var m=typeof x;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var A=l.deviceId;if(typeof A=="string")return{deviceId:A};if(typeof A=="object"){if(f in A)return{deviceId:{exact:A["".concat(f)]}};throw"'deviceId' should be string or object with"+" ".concat(f," as key.")}else{var b=typeof A;throw"Invalid type of 'deviceId' = ".concat(b)}}}var S=typeof l;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},o.prototype.computeCanvasDrawConfig=function(l,a,u,h){if(l<=u&&a<=h){var f=(u-l)/2,p=(h-a)/2;return{x:f,y:p,width:l,height:a}}else{var C=l,w=a;return l>u&&(a=u/l*a,l=u),a>h&&(l=h/a*l,a=h),this.logger.log("Image downsampled from "+"".concat(C,"X").concat(w)+" to ".concat(l,"X").concat(a,".")),this.computeCanvasDrawConfig(l,a,u,h)}},o.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var l=document.getElementById(this.elementId);l&&(l.innerHTML="")},o.prototype.possiblyUpdateShaders=function(l){this.qrMatch!==l&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(a){a.style.backgroundColor=l?lr.BORDER_SHADER_MATCH_COLOR:lr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=l)},o.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},o.prototype.createCanvasElement=function(l,a,u){var h=l,f=a,p=document.createElement("canvas");return p.style.width="".concat(h,"px"),p.style.height="".concat(f,"px"),p.style.display="none",p.id=Mr(u)?"qr-canvas":u,p},o.prototype.getShadedRegionBounds=function(l,a,u){if(u.width>l||u.height>a)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(l-u.width)/2,y:(a-u.height)/2,width:u.width,height:u.height}},o.prototype.possiblyInsertShadingElement=function(l,a,u,h){if(!(a-h.width<1||u-h.height<1)){var f=document.createElement("div");f.style.position="absolute";var p=(a-h.width)/2,C=(u-h.height)/2;if(f.style.borderLeft="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderRight="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderTop="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),f.style.borderBottom="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),f.style.boxSizing="border-box",f.style.top="0px",f.style.bottom="0px",f.style.left="0px",f.style.right="0px",f.id="".concat(lr.SHADED_REGION_ELEMENT_ID),a-h.width<11||u-h.height<11)this.hasBorderShaders=!1;else{var w=5,x=40;this.insertShaderBorders(f,x,w,-w,null,0,!0),this.insertShaderBorders(f,x,w,-w,null,0,!1),this.insertShaderBorders(f,x,w,null,-w,0,!0),this.insertShaderBorders(f,x,w,null,-w,0,!1),this.insertShaderBorders(f,w,x+w,-w,null,-w,!0),this.insertShaderBorders(f,w,x+w,null,-w,-w,!0),this.insertShaderBorders(f,w,x+w,-w,null,-w,!1),this.insertShaderBorders(f,w,x+w,null,-w,-w,!1),this.hasBorderShaders=!0}l.append(f)}},o.prototype.insertShaderBorders=function(l,a,u,h,f,p,C){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=lr.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(a,"px"),w.style.height="".concat(u,"px"),h!==null&&(w.style.top="".concat(h,"px")),f!==null&&(w.style.bottom="".concat(f,"px")),C?w.style.left="".concat(p,"px"):w.style.right="".concat(p,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),l.appendChild(w)},o.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},o.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},o.prototype.getTimeoutFps=function(l){return 1e3/l},o}(),Ao="data:image/svg+xml;base64,",uf=Ao+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",ff=Ao+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",zs=Ao+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",hf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",js=function(){function o(){}return o.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},o}(),df=function(){function o(){this.data=js.createDefault();var l=localStorage.getItem(o.LOCAL_STORAGE_KEY);l?this.data=JSON.parse(l):this.reset()}return o.prototype.hasCameraPermissions=function(){return this.data.hasPermission},o.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},o.prototype.setHasPermission=function(l){this.data.hasPermission=l,this.flush()},o.prototype.setLastUsedCameraId=function(l){this.data.lastUsedCameraId=l,this.flush()},o.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},o.prototype.reset=function(){this.data=js.createDefault(),this.flush()},o.prototype.flush=function(){localStorage.setItem(o.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},o.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",o}(),xf=function(){function o(){this.infoDiv=document.createElement("div")}return o.prototype.renderInto=function(l){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ms.poweredBy();var a=document.createElement("a");a.innerText="ScanApp",a.href="https://scanapp.org",a.target="new",a.style.color="white",this.infoDiv.appendChild(a);var u=document.createElement("br"),h=document.createElement("br");this.infoDiv.appendChild(u),this.infoDiv.appendChild(h);var f=document.createElement("a");f.innerText=Ms.reportIssues(),f.href="https://github.com/mebjas/html5-qrcode/issues",f.target="new",f.style.color="white",this.infoDiv.appendChild(f),l.appendChild(this.infoDiv)},o.prototype.show=function(){this.infoDiv.style.display="block"},o.prototype.hide=function(){this.infoDiv.style.display="none"},o}(),gf=function(){function o(l,a){this.isShowingInfoIcon=!0,this.onTapIn=l,this.onTapOut=a,this.infoIcon=document.createElement("img")}return o.prototype.renderInto=function(l){var a=this;this.infoIcon.alt="Info icon",this.infoIcon.src=zs,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(u){return a.onHoverIn()},this.infoIcon.onmouseout=function(u){return a.onHoverOut()},this.infoIcon.onclick=function(u){return a.onClick()},l.appendChild(this.infoIcon)},o.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},o.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},o.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=hf,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=zs,this.infoIcon.style.opacity="0.6")},o}(),pf=function(){function o(){var l=this;this.infoDiv=new xf,this.infoIcon=new gf(function(){l.infoDiv.show()},function(){l.infoDiv.hide()})}return o.prototype.renderInto=function(l){this.infoDiv.renderInto(l),this.infoIcon.renderInto(l)},o}(),mf=function(o,l,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(A){p(A)}}function w(m){try{x(u.throw(m))}catch(A){p(A)}}function x(m){m.done?f(m.value):h(m.value).then(C,w)}x((u=u.apply(o,l||[])).next())})},Cf=function(o,l){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return w([x,m])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=l.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ws=function(){function o(){}return o.hasPermissions=function(){return mf(this,void 0,void 0,function(){var l,a,u,h;return Cf(this,function(f){switch(f.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(l=f.sent(),a=0,u=l;a<u.length;a++)if(h=u[a],h.kind==="videoinput"&&h.label)return[2,!0];return[2,!1]}})})},o}(),$r=function(){function o(l){this.supportedScanTypes=this.validateAndReturnScanTypes(l)}return o.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},o.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},o.prototype.isCameraScanRequired=function(){for(var l=0,a=this.supportedScanTypes;l<a.length;l++){var u=a[l];if(o.isCameraScanType(u))return!0}return!1},o.isCameraScanType=function(l){return l===Kr.SCAN_TYPE_CAMERA},o.isFileScanType=function(l){return l===Kr.SCAN_TYPE_FILE},o.prototype.validateAndReturnScanTypes=function(l){if(!l||l.length===0)return br.DEFAULT_SUPPORTED_SCAN_TYPE;var a=br.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(l.length>a)throw"Max ".concat(a," values expected for ")+"supportedScanTypes";for(var u=0,h=l;u<h.length;u++){var f=h[u];if(!br.DEFAULT_SUPPORTED_SCAN_TYPE.includes(f))throw"Unsupported scan type ".concat(f)}return l},o}(),ur=function(){function o(){}return o.ALL_ELEMENT_CLASS="html5-qrcode-element",o.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",o.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",o.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",o.TORCH_BUTTON_ID="html5-qrcode-button-torch",o.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",o.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",o.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",o.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",o.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",o.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",o}(),Hr=function(){function o(){}return o.createElement=function(l,a){var u=document.createElement(l);return u.id=a,u.classList.add(ur.ALL_ELEMENT_CLASS),l==="button"&&u.setAttribute("type","button"),u},o}(),Xa=function(o,l,a,u){function h(f){return f instanceof a?f:new a(function(p){p(f)})}return new(a||(a=Promise))(function(f,p){function C(m){try{x(u.next(m))}catch(A){p(A)}}function w(m){try{x(u.throw(m))}catch(A){p(A)}}function x(m){m.done?f(m.value):h(m.value).then(C,w)}x((u=u.apply(o,l||[])).next())})},Ya=function(o,l){var a={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},u,h,f,p;return p={next:C(0),throw:C(1),return:C(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function C(x){return function(m){return w([x,m])}}function w(x){if(u)throw new TypeError("Generator is already executing.");for(;p&&(p=0,x[0]&&(a=0)),a;)try{if(u=1,h&&(f=x[0]&2?h.return:x[0]?h.throw||((f=h.return)&&f.call(h),0):h.next)&&!(f=f.call(h,x[1])).done)return f;switch(h=0,f&&(x=[x[0]&2,f.value]),x[0]){case 0:case 1:f=x;break;case 4:return a.label++,{value:x[1],done:!1};case 5:a.label++,h=x[1],x=[0];continue;case 7:x=a.ops.pop(),a.trys.pop();continue;default:if(f=a.trys,!(f=f.length>0&&f[f.length-1])&&(x[0]===6||x[0]===2)){a=0;continue}if(x[0]===3&&(!f||x[1]>f[0]&&x[1]<f[3])){a.label=x[1];break}if(x[0]===6&&a.label<f[1]){a.label=f[1],f=x;break}if(f&&a.label<f[2]){a.label=f[2],a.ops.push(x);break}f[2]&&a.ops.pop(),a.trys.pop();continue}x=l.call(o,a)}catch(m){x=[6,m],h=0}finally{u=f=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Vs=function(){function o(l,a,u){this.isTorchOn=!1,this.torchCapability=l,this.buttonController=a,this.onTorchActionFailureCallback=u}return o.prototype.isTorchEnabled=function(){return this.isTorchOn},o.prototype.flipState=function(){return Xa(this,void 0,void 0,function(){var l,a;return Ya(this,function(u){switch(u.label){case 0:this.buttonController.disable(),l=!this.isTorchOn,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.torchCapability.apply(l)];case 2:return u.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),l),[3,4];case 3:return a=u.sent(),this.propagateFailure(l,a),this.buttonController.enable(),[3,4];case 4:return[2]}})})},o.prototype.updateUiBasedOnLatestSettings=function(l,a){l===a?(this.buttonController.setText(a?mt.torchOffButton():mt.torchOnButton()),this.isTorchOn=a):this.propagateFailure(a),this.buttonController.enable()},o.prototype.propagateFailure=function(l,a){var u=l?mt.torchOnFailedMessage():mt.torchOffFailedMessage();a&&(u+="; Error = "+a),this.onTorchActionFailureCallback(u)},o.prototype.reset=function(){this.isTorchOn=!1},o}(),Af=function(){function o(l,a){this.onTorchActionFailureCallback=a,this.torchButton=Hr.createElement("button",ur.TORCH_BUTTON_ID),this.torchController=new Vs(l,this,a)}return o.prototype.render=function(l,a){var u=this;this.torchButton.innerText=mt.torchOnButton(),this.torchButton.style.display=a.display,this.torchButton.style.marginLeft=a.marginLeft;var h=this;this.torchButton.addEventListener("click",function(f){return Xa(u,void 0,void 0,function(){return Ya(this,function(p){switch(p.label){case 0:return[4,h.torchController.flipState()];case 1:return p.sent(),h.torchController.isTorchEnabled()?(h.torchButton.classList.remove(ur.TORCH_BUTTON_CLASS_TORCH_OFF),h.torchButton.classList.add(ur.TORCH_BUTTON_CLASS_TORCH_ON)):(h.torchButton.classList.remove(ur.TORCH_BUTTON_CLASS_TORCH_ON),h.torchButton.classList.add(ur.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),l.appendChild(this.torchButton)},o.prototype.updateTorchCapability=function(l){this.torchController=new Vs(l,this,this.onTorchActionFailureCallback)},o.prototype.getTorchButton=function(){return this.torchButton},o.prototype.hide=function(){this.torchButton.style.display="none"},o.prototype.show=function(){this.torchButton.style.display="inline-block"},o.prototype.disable=function(){this.torchButton.disabled=!0},o.prototype.enable=function(){this.torchButton.disabled=!1},o.prototype.setText=function(l){this.torchButton.innerText=l},o.prototype.reset=function(){this.torchButton.innerText=mt.torchOnButton(),this.torchController.reset()},o.create=function(l,a,u,h){var f=new o(a,h);return f.render(l,u),f},o}(),wf=function(){function o(l,a,u){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=a?"block":"none",l.appendChild(this.fileBasedScanRegion);var h=document.createElement("label");h.setAttribute("for",this.getFileScanInputId()),h.style.display="inline-block",this.fileBasedScanRegion.appendChild(h),this.fileSelectionButton=Hr.createElement("button",ur.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(C){h.click()}),h.append(this.fileSelectionButton),this.fileScanInput=Hr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",h.appendChild(this.fileScanInput);var f=this;this.fileScanInput.addEventListener("change",function(C){if(!(C==null||C.target==null)){var w=C.target;if(!(w.files&&w.files.length===0)){var x=w.files,m=x[0],A=m.name;f.setImageNameToButton(A),u(m)}}});var p=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(p),this.fileBasedScanRegion.addEventListener("dragenter",function(C){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(C){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(C){f.fileBasedScanRegion.style.border=f.fileBasedScanRegionActiveBorder(),C.stopPropagation(),C.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(C){C.stopPropagation(),C.preventDefault(),f.fileBasedScanRegion.style.border=f.fileBasedScanRegionDefaultBorder();var w=C.dataTransfer;if(w){var x=w.files;if(!x||x.length===0)return;for(var m=!1,A=0;A<x.length;++A){var b=x.item(A);if(b){var S=/image.*/;if(b.type.match(S)){m=!0;var _=b.name;f.setImageNameToButton(_),u(b),p.innerText=mt.dragAndDropMessage();break}}}m||(p.innerText=mt.dragAndDropMessageOnlyImages())}})}return o.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},o.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},o.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},o.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},o.prototype.createFileBasedScanRegion=function(){var l=document.createElement("div");return l.style.textAlign="center",l.style.margin="auto",l.style.width="80%",l.style.maxWidth="600px",l.style.border=this.fileBasedScanRegionDefaultBorder(),l.style.padding="10px",l.style.marginBottom="10px",l},o.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},o.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},o.prototype.createDragAndDropMessage=function(){var l=document.createElement("div");return l.innerText=mt.dragAndDropMessage(),l.style.fontWeight="400",l},o.prototype.setImageNameToButton=function(l){var a=20;if(l.length>a){var u=l.substring(0,8),h=l.length,f=l.substring(h-8,h);l="".concat(u,"....").concat(f)}var p=mt.fileSelectionChooseAnother()+" - "+l;this.fileSelectionButton.innerText=p},o.prototype.setInitialValueToButton=function(){var l=mt.fileSelectionChooseImage()+" - "+mt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=l},o.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},o.create=function(l,a,u){var h=new o(l,a,u);return h},o}(),yf=function(){function o(l){this.selectElement=Hr.createElement("select",ur.CAMERA_SELECTION_SELECT_ID),this.cameras=l,this.options=[]}return o.prototype.render=function(l){var a=document.createElement("span");a.style.marginRight="10px";var u=this.cameras.length;if(u===0)throw new Error("No cameras found");if(u===1)a.style.display="none";else{var h=mt.selectCamera();a.innerText="".concat(h," (").concat(this.cameras.length,")  ")}for(var f=1,p=0,C=this.cameras;p<C.length;p++){var w=C[p],x=w.id,m=w.label==null?x:w.label;(!m||m==="")&&(m=[mt.anonymousCameraPrefix(),f++].join(" "));var A=document.createElement("option");A.value=x,A.innerText=m,this.options.push(A),this.selectElement.appendChild(A)}a.appendChild(this.selectElement),l.appendChild(a)},o.prototype.disable=function(){this.selectElement.disabled=!0},o.prototype.isDisabled=function(){return this.selectElement.disabled===!0},o.prototype.enable=function(){this.selectElement.disabled=!1},o.prototype.getValue=function(){return this.selectElement.value},o.prototype.hasValue=function(l){for(var a=0,u=this.options;a<u.length;a++){var h=u[a];if(h.value===l)return!0}return!1},o.prototype.setValue=function(l){if(!this.hasValue(l))throw new Error("".concat(l," is not present in the camera list."));this.selectElement.value=l},o.prototype.hasSingleItem=function(){return this.cameras.length===1},o.prototype.numCameras=function(){return this.cameras.length},o.create=function(l,a){var u=new o(a);return u.render(l),u},o}(),vf=function(){function o(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Hr.createElement("input",ur.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return o.prototype.render=function(l,a){this.zoomElementContainer.style.display=a?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",l.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var u=mt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(u),this.rangeText.style.marginRight="10px";var h=this;this.rangeInput.addEventListener("input",function(){return h.onValueChange()}),this.rangeInput.addEventListener("change",function(){return h.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},o.prototype.onValueChange=function(){var l=mt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(l),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},o.prototype.setValues=function(l,a,u,h){this.rangeInput.min=l.toString(),this.rangeInput.max=a.toString(),this.rangeInput.step=h.toString(),this.rangeInput.value=u.toString(),this.onValueChange()},o.prototype.show=function(){this.zoomElementContainer.style.display="block"},o.prototype.hide=function(){this.zoomElementContainer.style.display="none"},o.prototype.setOnCameraZoomValueChangeCallback=function(l){this.onChangeCallback=l},o.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},o.create=function(l,a){var u=new o;return u.render(l,a),u},o}(),cr;(function(o){o[o.STATUS_DEFAULT=0]="STATUS_DEFAULT",o[o.STATUS_SUCCESS=1]="STATUS_SUCCESS",o[o.STATUS_WARNING=2]="STATUS_WARNING",o[o.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(cr||(cr={}));function Ef(o){return{fps:o.fps,qrbox:o.qrbox,aspectRatio:o.aspectRatio,disableFlip:o.disableFlip,videoConstraints:o.videoConstraints}}function bf(o,l){return{formatsToSupport:o.formatsToSupport,useBarCodeDetectorIfSupported:o.useBarCodeDetectorIfSupported,experimentalFeatures:o.experimentalFeatures,verbose:l}}var _f=function(){function o(l,a,u){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=l,this.config=this.createConfig(a),this.verbose=u===!0,!document.getElementById(l))throw"HTML Element with id=".concat(l," not found");this.scanTypeSelector=new $r(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Wa(this.verbose),this.persistedDataManager=new df,a.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return o.prototype.render=function(l,a){var u=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(f,p){if(l)l(f,p);else{if(u.lastMatchFound===f)return;u.lastMatchFound=f,u.setHeaderMessage(mt.lastMatch(f),cr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(f,p){a&&a(f,p)};var h=document.getElementById(this.elementId);if(!h)throw"HTML Element with id=".concat(this.elementId," not found");h.innerHTML="",this.createBasicLayout(h),this.html5Qrcode=new Hs(this.getScanRegionId(),bf(this.config,this.verbose))},o.prototype.pause=function(l){(Mr(l)||l!==!0)&&(l=!1),this.getHtml5QrcodeOrFail().pause(l)},o.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},o.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},o.prototype.clear=function(){var l=this,a=function(){var u=document.getElementById(l.elementId);u&&(u.innerHTML="",l.resetBasicLayout(u))};return this.html5Qrcode?new Promise(function(u,h){if(!l.html5Qrcode){u();return}l.html5Qrcode.isScanning?l.html5Qrcode.stop().then(function(f){if(!l.html5Qrcode){u();return}l.html5Qrcode.clear(),a(),u()}).catch(function(f){l.verbose&&l.logger.logError("Unable to stop qrcode scanner",f),h(f)}):(l.html5Qrcode.clear(),a(),u())}):Promise.resolve()},o.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},o.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},o.prototype.applyVideoConstraints=function(l){return this.getHtml5QrcodeOrFail().applyVideoConstraints(l)},o.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},o.prototype.createConfig=function(l){return l?(l.fps||(l.fps=br.SCAN_DEFAULT_FPS),l.rememberLastUsedCamera!==!br.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(l.rememberLastUsedCamera=br.DEFAULT_REMEMBER_LAST_CAMERA_USED),l.supportedScanTypes||(l.supportedScanTypes=br.DEFAULT_SUPPORTED_SCAN_TYPE),l):{fps:br.SCAN_DEFAULT_FPS,rememberLastUsedCamera:br.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:br.DEFAULT_SUPPORTED_SCAN_TYPE}},o.prototype.createBasicLayout=function(l){l.style.position="relative",l.style.padding="0px",l.style.border="1px solid silver",this.createHeader(l);var a=document.createElement("div"),u=this.getScanRegionId();a.id=u,a.style.width="100%",a.style.minHeight="100px",a.style.textAlign="center",l.appendChild(a),$r.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var h=document.createElement("div"),f=this.getDashboardId();h.id=f,h.style.width="100%",l.appendChild(h),this.setupInitialDashboard(h)},o.prototype.resetBasicLayout=function(l){l.style.border="none"},o.prototype.setupInitialDashboard=function(l){this.createSection(l),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},o.prototype.createHeader=function(l){var a=document.createElement("div");a.style.textAlign="left",a.style.margin="0px",l.appendChild(a);var u=new pf;u.renderInto(a);var h=document.createElement("div");h.id=this.getHeaderMessageContainerId(),h.style.display="none",h.style.textAlign="center",h.style.fontSize="14px",h.style.padding="2px 10px",h.style.margin="4px",h.style.borderTop="1px solid #f6f6f6",a.appendChild(h)},o.prototype.createSection=function(l){var a=document.createElement("div");a.id=this.getDashboardSectionId(),a.style.width="100%",a.style.padding="10px 0px 10px 0px",a.style.textAlign="left",l.appendChild(a)},o.prototype.createCameraListUi=function(l,a,u){var h=this;h.showHideScanTypeSwapLink(!1),h.setHeaderMessage(mt.cameraPermissionRequesting());var f=function(){u||h.createPermissionButton(l,a)};Hs.getCameras().then(function(p){h.persistedDataManager.setHasPermission(!0),h.showHideScanTypeSwapLink(!0),h.resetHeaderMessage(),p&&p.length>0?(l.removeChild(a),h.renderCameraSelection(p)):(h.setHeaderMessage(mt.noCameraFound(),cr.STATUS_WARNING),f())}).catch(function(p){h.persistedDataManager.setHasPermission(!1),u?u.disabled=!1:f(),h.setHeaderMessage(p,cr.STATUS_WARNING),h.showHideScanTypeSwapLink(!0)})},o.prototype.createPermissionButton=function(l,a){var u=this,h=Hr.createElement("button",this.getCameraPermissionButtonId());h.innerText=mt.cameraPermissionTitle(),h.addEventListener("click",function(){h.disabled=!0,u.createCameraListUi(l,a,h)}),a.appendChild(h)},o.prototype.createPermissionsUi=function(l,a){var u=this;if($r.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Ws.hasPermissions().then(function(h){h?u.createCameraListUi(l,a):(u.persistedDataManager.setHasPermission(!1),u.createPermissionButton(l,a))}).catch(function(h){u.persistedDataManager.setHasPermission(!1),u.createPermissionButton(l,a)});return}this.createPermissionButton(l,a)},o.prototype.createSectionControlPanel=function(){var l=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");l.appendChild(a);var u=document.createElement("div");u.id=this.getDashboardSectionCameraScanRegionId(),u.style.display=$r.isCameraScanType(this.currentScanType)?"block":"none",a.appendChild(u);var h=document.createElement("div");h.style.textAlign="center",u.appendChild(h),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(u,h),this.renderFileScanUi(a)},o.prototype.renderFileScanUi=function(l){var a=$r.isFileScanType(this.currentScanType),u=this,h=function(f){if(!u.html5Qrcode)throw"html5Qrcode not defined";$r.isFileScanType(u.currentScanType)&&(u.setHeaderMessage(mt.loadingImage()),u.html5Qrcode.scanFileV2(f,!0).then(function(p){u.resetHeaderMessage(),u.qrCodeSuccessCallback(p.decodedText,p)}).catch(function(p){u.setHeaderMessage(p,cr.STATUS_WARNING),u.qrCodeErrorCallback(p,ja.createFrom(p))}))};this.fileSelectionUi=wf.create(l,a,h)},o.prototype.renderCameraSelection=function(l){var a=this,u=this,h=document.getElementById(this.getDashboardSectionCameraScanRegionId());h.style.textAlign="center";var f=vf.create(h,!1),p=function(E){var D=E.zoomFeature();if(D.isSupported()){f.setOnCameraZoomValueChangeCallback(function(B){D.apply(B)});var R=1;a.config.defaultZoomValueIfSupported&&(R=a.config.defaultZoomValueIfSupported),R=ju(R,D.min(),D.max()),f.setValues(D.min(),D.max(),R,D.step()),f.show()}},C=yf.create(h,l),w=document.createElement("span"),x=Hr.createElement("button",ur.CAMERA_START_BUTTON_ID);x.innerText=mt.scanButtonStartScanningText(),w.appendChild(x);var m=Hr.createElement("button",ur.CAMERA_STOP_BUTTON_ID);m.innerText=mt.scanButtonStopScanningText(),m.style.display="none",m.disabled=!0,w.appendChild(m);var A,b=function(E){if(!E.torchFeature().isSupported()){A&&A.hide();return}A?A.updateTorchCapability(E.torchFeature()):A=Af.create(w,E.torchFeature(),{display:"none",marginLeft:"5px"},function(D){u.setHeaderMessage(D,cr.STATUS_WARNING)}),A.show()};h.appendChild(w);var S=function(E){E||(x.style.display="none"),x.innerText=mt.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,E&&(x.style.display="inline-block")};if(x.addEventListener("click",function(E){x.innerText=mt.scanButtonScanningStarting(),C.disable(),x.disabled=!0,x.style.opacity="0.5",a.scanTypeSelector.hasMoreThanOneScanType()&&u.showHideScanTypeSwapLink(!1),u.resetHeaderMessage();var D=C.getValue();u.persistedDataManager.setLastUsedCameraId(D),u.html5Qrcode.start(D,Ef(u.config),u.qrCodeSuccessCallback,u.qrCodeErrorCallback).then(function(R){m.disabled=!1,m.style.display="inline-block",S(!1);var B=u.html5Qrcode.getRunningTrackCameraCapabilities();a.config.showTorchButtonIfSupported===!0&&b(B),a.config.showZoomSliderIfSupported===!0&&p(B)}).catch(function(R){u.showHideScanTypeSwapLink(!0),C.enable(),S(!0),u.setHeaderMessage(R,cr.STATUS_WARNING)})}),C.hasSingleItem()&&x.click(),m.addEventListener("click",function(E){if(!u.html5Qrcode)throw"html5Qrcode not defined";m.disabled=!0,u.html5Qrcode.stop().then(function(D){a.scanTypeSelector.hasMoreThanOneScanType()&&u.showHideScanTypeSwapLink(!0),C.enable(),x.disabled=!1,m.style.display="none",x.style.display="inline-block",A&&(A.reset(),A.hide()),f.removeOnCameraZoomValueChangeCallback(),f.hide(),u.insertCameraScanImageToScanRegion()}).catch(function(D){m.disabled=!1,u.setHeaderMessage(D,cr.STATUS_WARNING)})}),u.persistedDataManager.getLastUsedCameraId()){var _=u.persistedDataManager.getLastUsedCameraId();C.hasValue(_)?(C.setValue(_),x.click()):u.persistedDataManager.resetLastUsedCameraId()}},o.prototype.createSectionSwap=function(){var l=this,a=mt.textIfCameraScanSelected(),u=mt.textIfFileScanSelected(),h=document.getElementById(this.getDashboardSectionId()),f=document.createElement("div");f.style.textAlign="center";var p=Hr.createElement("span",this.getDashboardSectionSwapLinkId());p.style.textDecoration="underline",p.style.cursor="pointer",p.innerText=$r.isCameraScanType(this.currentScanType)?a:u,p.addEventListener("click",function(){if(!l.sectionSwapAllowed){l.verbose&&l.logger.logError("Section swap called when not allowed");return}l.resetHeaderMessage(),l.fileSelectionUi.resetValue(),l.sectionSwapAllowed=!1,$r.isCameraScanType(l.currentScanType)?(l.clearScanRegion(),l.getCameraScanRegion().style.display="none",l.fileSelectionUi.show(),p.innerText=u,l.currentScanType=Kr.SCAN_TYPE_FILE,l.insertFileScanImageToScanRegion()):(l.clearScanRegion(),l.getCameraScanRegion().style.display="block",l.fileSelectionUi.hide(),p.innerText=a,l.currentScanType=Kr.SCAN_TYPE_CAMERA,l.insertCameraScanImageToScanRegion(),l.startCameraScanIfPermissionExistsOnSwap()),l.sectionSwapAllowed=!0}),f.appendChild(p),h.appendChild(f)},o.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var l=this,a=this;if(this.persistedDataManager.hasCameraPermissions()){Ws.hasPermissions().then(function(u){if(u){var h=document.getElementById(a.getCameraPermissionButtonId());if(!h)throw l.logger.logError("Permission button not found, fail;"),"Permission button not found";h.click()}else a.persistedDataManager.setHasPermission(!1)}).catch(function(u){a.persistedDataManager.setHasPermission(!1)});return}},o.prototype.resetHeaderMessage=function(){var l=document.getElementById(this.getHeaderMessageContainerId());l.style.display="none"},o.prototype.setHeaderMessage=function(l,a){a||(a=cr.STATUS_DEFAULT);var u=this.getHeaderMessageDiv();switch(u.innerText=l,u.style.display="block",a){case cr.STATUS_SUCCESS:u.style.background="rgba(106, 175, 80, 0.26)",u.style.color="#477735";break;case cr.STATUS_WARNING:u.style.background="rgba(203, 36, 49, 0.14)",u.style.color="#cb2431";break;case cr.STATUS_DEFAULT:default:u.style.background="rgba(0, 0, 0, 0)",u.style.color="rgb(17, 17, 17)";break}},o.prototype.showHideScanTypeSwapLink=function(l){this.scanTypeSelector.hasMoreThanOneScanType()&&(l!==!0&&(l=!1),this.sectionSwapAllowed=l,this.getDashboardSectionSwapLink().style.display=l?"inline-block":"none")},o.prototype.insertCameraScanImageToScanRegion=function(){var l=this,a=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){a.innerHTML="<br>",a.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(u){a.innerHTML="<br>",a.appendChild(l.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=uf,this.cameraScanImage.alt=mt.cameraScanAltText()},o.prototype.insertFileScanImageToScanRegion=function(){var l=this,a=document.getElementById(this.getScanRegionId());if(this.fileScanImage){a.innerHTML="<br>",a.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(u){a.innerHTML="<br>",a.appendChild(l.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=ff,this.fileScanImage.alt=mt.fileScanAltText()},o.prototype.clearScanRegion=function(){var l=document.getElementById(this.getScanRegionId());l.innerHTML=""},o.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},o.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},o.prototype.getDashboardSectionSwapLinkId=function(){return ur.SCAN_TYPE_CHANGE_ANCHOR_ID},o.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},o.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},o.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},o.prototype.getCameraPermissionButtonId=function(){return ur.CAMERA_PERMISSION_BUTTON_ID},o.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},o.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},o.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},o}(),Sf=We("<ul class=inline><li>Camera</li><li>Scanner</li><li>Manual"),If=We('<div class=scanWrp><div><div class=" _dsplFlx"><h3 class="errTxt err centerBx "></h3></div><div class=" _dsplFlx"><h3 class="errTxt ybcity centerBx"></h3></div><div class=" _dsplFlx"><h3 class="errTxt centerBx"></h3></div></div><div></div><div id=qr-reader style=width:300px>'),Df=We("<slot name=plans><div></div><div>"),Tf=We('<div class="_dsplFlx flxWrp spaceAround centerBx">'),Bf=We("<div>estamos trabajando en esta funcion"),Nf=We("<div><div class=tab>"),Of=We('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Escanear</h2></div><div style=padding:16px></div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class=centerBx100 style=margin-top:20px>'),Mf=We("<div class=loader>Loading..."),Rf=We("<div>esta funcion es solo para dispositivos mobiles");const Ff=1;function Lf(){const[o,l]=Ht({lbs:"",price:0}),[a,u]=Ht({lbs:"",price:0}),[h,f]=Ht({}),[p,C]=Je(""),[w,x]=Je(),[m,A]=Je(),[b,S]=Je(""),[_,E]=Je(""),[D,R]=Je(""),[B,N]=Je("");Ht({});let M;const[J,$]=Je(0),[j,ce]=Zs(),ae=ge=>()=>ce(()=>$(ge)),ie=(ge,X)=>{l({[ge]:X}),N(Kt())};Jr(()=>{z();let ge=document?.getElementById("html5-qrcode-anchor-scan-type-change");ge&&(ge.style.height=0,ge.style.display="none")}),Sr(()=>x(!1)),Di(()=>{});function fe(){return"geolocation"in navigator}function he(ge){u({latitude:ge?.coords?.latitude,longitude:ge?.coords?.longitude})}function z(){fe()?navigator.geolocation.getCurrentPosition(he):showMessage("Geolocation isn't supported by your browser")}const re=(ge,X)=>{S(X),E(ge),setTimeout(()=>{E("")},3800)},L=ge=>{R(ge),setTimeout(()=>{R("")},4e3)},ue=(ge,X)=>{ge!==m()&&(A(ge),setTimeout(()=>{A("")},3e3),K(ge))},K=ge=>{ge||(ge=p()),C("");let X={timeStamp:new Date().getTime(),latitude:a?.latitude,longitude:a?.longitude,statusId:o?.status},v=ge.split("/"),U={idairguide:v?.[0],":search0":v?.[1],":search1":v?.[3]};v.length>4&&v?.[0].length===12?ye(U,X):(re("","error"),f({consigneeInfo:{ybestate:"Codigo Incorrecto"}}),L(Kt())),M?.focus()},ye=async(ge,X)=>{let v=await kf(ge),U=Object.keys(v)?.[0];if(v[U]?.cidentity){let F=v[U]?.statusHistory||[];if(F.push(X),ge.ssg_track_key=U,v[U]?.street?.split(","),f(""),f(v[U]),L(Kt()),re("","success"),v[U]?.currentStatus!==X.statusId){let G={statusHistory:F,currentStatus:X.statusId};await Pf(ge,G)}else re("","warning"),f({consigneeInfo:{ybcity:"Fue escaneado",ybestate:staUpd?.consigneeInfo?.ybestate}})}else re("","error"),f({consigneeInfo:{ybestate:"Error con manifiesto"}}),L(Kt())},Be=()=>{x(!0);var ge=new _f("qr-reader",{fps:10,qrbox:200});ge.render(ue)};tn(ue,400);const Ie=()=>fu?.list?.filter(ge=>ge.id),de=()=>{f(""),f({consigneeInfo:{ybestate:"codigo incorrecto",ybestawte:""}}),L(Kt())};return(()=>{var ge=Of(),X=ge.firstChild,v=X.nextSibling,U=v.nextSibling,F=U.nextSibling;return Te(U,Se(lo,{get list(){return Ie()},lbl_empty:"Funciones de Escaneado",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return o?.status},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",hasDebounce:!1,onSelect:G=>ie("status",G.id),width:"260px"})),Te(F,Se(Ze,{get when(){return o?.status},get children(){return[(()=>{var G=Sf(),V=G.firstChild,te=V.nextSibling,ve=te.nextSibling;return Vn(V,"click",ae(0)),Vn(te,"click",ae(1)),Vn(ve,"click",ae(2)),yt(W=>{var Z=J()===0,k=J()===1,oe=J()===2;return Z!==W.e&&V.classList.toggle("selected",W.e=Z),k!==W.t&&te.classList.toggle("selected",W.t=k),oe!==W.a&&ve.classList.toggle("selected",W.a=oe),W},{e:void 0,t:void 0,a:void 0}),G})(),(()=>{var G=Nf(),V=G.firstChild;return Te(V,Se(ei,{get fallback(){return Mf()},get children(){return Se(na,{get children(){return[Se(Wn,{get when(){return J()===0},get children(){return Se(Ze,{when:!0,get fallback(){return Rf()},get children(){return Se(Ze,{get when(){return w()},get fallback(){return Se(Ss,{color:"rgb(200 25 60 / .9)",label:"scannear",handleClick:Be})},get children(){var te=Df(),ve=te.firstChild,W=ve.nextSibling;return te._$owner=Ti(),Te(te,Se(Ze,{get when(){return w()},get children(){return[Se(Ze,{when:!Ff,get children(){return Se(Ss,{color:"rgb(200 25 60 / .9)",label:"test",handleClick:de})}}),(()=>{var Z=If(),k=Z.firstChild,oe=k.firstChild,me=oe.firstChild,Fe=oe.nextSibling,Le=Fe.firstChild,Ee=Fe.nextSibling,ee=Ee.firstChild,Q=k.nextSibling;return Te(oe,Se(or,{}),me),Te(me,_),Te(oe,Se(or,{}),null),Te(Fe,Se(or,{}),Le),Te(Le,()=>h?.consigneeInfo?.ybcity),Te(Fe,Se(or,{}),null),Te(Ee,Se(or,{}),ee),Te(ee,()=>h?.consigneeInfo?.ybestate),Te(Ee,Se(or,{}),null),yt(q=>{var xe=`scanOverlayFront ${b()}`,le=D()?"block":"none",Y=300/_()?.length*1.73+"px",pe=300/h?.consigneeInfo?.ybcity?.length*1.13+"px",Ae=300/h?.consigneeInfo?.ybestate?.length*1.23+"px",Oe=`scanOverlay  ${b()} `,Ne=D()?"block":"none";return xe!==q.e&&_r(k,q.e=xe),le!==q.t&&((q.t=le)!=null?k.style.setProperty("display",le):k.style.removeProperty("display")),Y!==q.a&&((q.a=Y)!=null?me.style.setProperty("font-size",Y):me.style.removeProperty("font-size")),pe!==q.o&&((q.o=pe)!=null?Le.style.setProperty("font-size",pe):Le.style.removeProperty("font-size")),Ae!==q.i&&((q.i=Ae)!=null?ee.style.setProperty("font-size",Ae):ee.style.removeProperty("font-size")),Oe!==q.n&&_r(Q,q.n=Oe),Ne!==q.s&&((q.s=Ne)!=null?Q.style.setProperty("display",Ne):Q.style.removeProperty("display")),q},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),Z})()]}}),W),te}})}})}}),Se(Wn,{get when(){return J()===1},get children(){var te=Tf();return Te(te,Se(to,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--hrm-palette-tertiary80)",ref(ve){var W=M;typeof W=="function"?W(ve):M=ve},get value(){return p()},placeholder:"codigo ...",colors:"#2b2b2b",handleClick:C,onEnter:K})),te}}),Se(Wn,{get when(){return J()===2},get children(){return Bf()}})]}})}})),yt(()=>V.classList.toggle("pending",!!j())),G})()]}})),yt(()=>_r(ge,Mi.App)),ge})()}const kf=async o=>(await dn({params:o,query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2"}))?.data,Pf=async(o,l)=>(await dn({params:o,query:"updateLogisticYabaExpress",data2update:l}))?.data;hr(["click"]);var Uf=We('<div class=" _dsplFlx"><div class="icon_status centerBx">'),Hf=We('<p class="tr_bar_30 textleft fullName_consigne">'),zf=We("<div style=margin-right:4vw>"),jf=We('<h4 class="tr_bar_20 textleft">'),Wf=We("<div class=bag_number><h5>"),Vf=We('<div class="_dsplFlx bottombx"><h5>'),Gf=We('<div class="client_item_box gWXAaj jlytmu manifest"><div class="_dsplFlx topbx centerBx"><div class="_dsplFlx bottombx"><div class="_dsplFlx bottombx"><h5 class=rpto></h5><div class=vertseparator></div><h5></h5><div class=vertseparator></div><h4>');function Xf(o){Ht({search:"",status:"AERO_33"});const[l,a]=Je(""),[u,h]=Je("");tn(h,400),co(a);const f=m=>m?" "+m:"",p=()=>{let m=o?.item?.consigneeInfo;return f(m?.firstName)+f(m?.middleName)+f(m?.lastName)+f(m?.lastName2)},C=()=>{let m=o?.item?.consigneeInfo,A=f(m?.altPhoneNumber);return f(m?.phoneNumber)+(A?" |"+A:"")};o?.item?.street?.split(",");const w=()=>{let m=o?.item?.hbls.length;const A=o?.item?.hbls.reduce((_,E)=>_+`${_?"/":""}${E.hbl}/${E.quantity}/${E.weight}`,"");let b=`${o?.item?.idairguide}/${o?.item?.cidentity}/${m}/${A}`,S={};S.id=Kt(),S.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},S.content=Se(uo,{val:b}),Fi(S)},x=()=>{let m=o?.item?.ssg_track_key;In?.list?.[m]?Yn("list",m,void 0):Yn("list",m,1)};return Se(Ze,{get when(){return o?.item?.guia},get children(){var m=Gf(),A=m.firstChild,b=A.firstChild,S=b.firstChild,_=S.firstChild,E=_.nextSibling,D=E.nextSibling,R=D.nextSibling,B=R.nextSibling;return Te(A,Se(Ze,{get when(){return o?.item?.guia},get children(){return[(()=>{var N=Uf(),M=N.firstChild;return M.$$click=x,Te(M,Se(sr,{get name(){return In?.list?.[o?.item?.ssg_track_key]?"check_circle_outline":"radio_unchecked"},get color(){return In?.list?.[o?.item?.ssg_track_key]?"var(--background-red-ssg)":"var(--hrm_palette-imput-label_gray)"}})),N})(),(()=>{var N=Hf();return Te(N,p),N})(),zf(),(()=>{var N=jf();return Te(N,C),N})()]}}),b),Te(A,Se(or,{}),b),Te(_,()=>o?.item?.consigneeInfo?.ybreparto),Te(D,()=>o?.item?.consigneeInfo?.ybcity),Te(B,()=>o?.item?.consigneeInfo?.ybestate),Te(A,Se(Ze,{get when(){return o?.item?.bagnumber},get children(){var N=Wf(),M=N.firstChild;return N.$$click=w,Te(M,()=>o?.item?.bagnumber),N}}),null),Te(m,Se(Ze,{get when(){return o?.item?.consigneeInfo?.ybcity}}),null),Te(m,Se(Ze,{when:!1,get children(){var N=Vf(),M=N.firstChild;return Te(N,Se(or,{}),M),Te(M,()=>o?.item?.nameshipper),Te(N,Se(or,{}),null),N}}),null),m}})}hr(["click"]);var Yf=We("<div style=padding:4px>"),qf=We('<div class="_dsplFlx hdr_bar purple"><div class="tr_bar tr_bar_5 align_itm centerBx"><div class="icon align_itm"></div></div><div class="tr_bar tr_bar_20 align_itm left_alg bottombx"><h5> / <!> Seleccionado(s)</h5></div><div class="tr_bar tr_bar_70"></div><div class="tr_bar tr_bar_5 align_itm"><div class="icon align_itm">'),$f=We('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div style="width:94vw;margin:0 auto;">'),Zf=We("<div> <!>."),Qf=We("<div> ");const[In,Yn]=Ht({list:{}});Je("");function Kf(){const[o,l]=Ht({search:""}),[a,u]=Je(""),h=tn(u,400),f=(m,A)=>{l({[m]:A}),h(Kt())};Sr(()=>{Yn("list",void 0)}),Jr(()=>{});const[p,{refetch:C}]=Ii(a,async m=>{let A=o?.manifest?.id;const b=await Jf(o.search,A,o.status);return so(b)}),w=()=>{p().map(m=>{Yn(m,0)})},x=()=>{let m={},A=0;Xn(In?.list)?.length!==p()?.length?(A=1,p().map(b=>{let S=b.ssg_track_key;m[S]=A})):p().map(b=>{let S=b.ssg_track_key;m[S]=void 0}),Yn("list",m)};return(()=>{var m=$f(),A=m.firstChild,b=A.firstChild,S=A.nextSibling;return Te(b,Se(lo,{list:ma,lbl_empty:"Manifiesto",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return o?.manifest?.id},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:_=>f("manifest",_),width:"260px"})),Te(A,Se(Ze,{get when(){return o?.manifest?.id},get children(){var _=Yf();return Te(_,Se(to,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return o?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:E=>f("search",E)})),_}}),null),Te(S,Se(Ze,{get when(){return vt(()=>!!o?.manifest?.id)()&&p().length>0},get children(){var _=qf(),E=_.firstChild,D=E.firstChild,R=E.nextSibling,B=R.firstChild,N=B.firstChild,M=N.nextSibling;M.nextSibling;var J=R.nextSibling,$=J.nextSibling,j=$.firstChild;return _.style.setProperty("margin","18px 0"),D.$$click=x,Te(D,Se(sr,{get name(){return Xn(In?.list)?.length<p()?.length?"minus-circle-outline":"check_circle_outline"},color:"var(--background-red-ssg)"})),Te(B,()=>Xn(In?.list)?.length,N),Te(B,()=>p()?.length,M),j.$$click=w,_}}),null),Te(S,Se(ia,{fallback:_=>(()=>{var E=Zf(),D=E.firstChild,R=D.nextSibling;return R.nextSibling,Te(E,()=>_.toString(),R),E})(),get children(){return Se(ei,{get fallback(){return(()=>{var _=Qf();return _.firstChild,Te(_,Se(mo,{stroke:"rgb(200 25 60 / 1)",size:62}),null),_})()},get children(){return Se(Ze,{get when(){return p()},get children(){return Se($n,{get each(){return p()},children:_=>Se(Xf,{item:_})})}})}})}}),null),yt(()=>_r(m,Mi.App)),m})()}const Jf=async(o,l)=>{let a={params:{idairguide:l,":status":"YABA_39"},query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4 AND !* contain :search5 AND currentStatus = :status"};if(o&&o.split(" ").map((u,h)=>{u&&(a.params[":search"+h]=u.trim())}),l&&Object.keys(a.params).length>=2){const u=await dn(a);return console.log(u),u?.data?.error?{}:u?.data}return{}};hr(["click","mousemove","mouseout"]);var eh=We('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Manifiestos</h2><ul class=inline><li><div class=centerBx><div class="icon_status centerBx"></div><div>List</div></div></li><li class=_dsplFlx><div class=centerBx><div class="icon_status centerBx"></div><div>Crear Manifiesto</div></div></li></ul></div><div class=tab>'),th=We("<div class=loader>Loading...");function rh(){const[o,l]=Ht({search:"",status:""}),[a,u]=Je("");tn(u,400);const[h,f]=Je(0),[p,C]=Zs(),w=x=>()=>C(()=>f(x));return Sr(()=>{}),Jr(()=>{}),Ii(a,async x=>{let m=o?.manifest?.id;const A=await nh(o.search,m,o.status);return so(A)}),(()=>{var x=eh(),m=x.firstChild,A=m.firstChild,b=A.nextSibling,S=b.firstChild,_=S.firstChild,E=_.firstChild,D=S.nextSibling,R=D.firstChild,B=R.firstChild,N=m.nextSibling;return Vn(S,"click",w(0)),Te(E,Se(sr,{name:"menu",size:22})),Vn(D,"click",w(1)),Te(B,Se(sr,{name:"plus",size:22})),Te(N,Se(ei,{get fallback(){return th()},get children(){return Se(na,{get children(){return[Se(Wn,{get when(){return h()===0}}),Se(Wn,{get when(){return h()===1},get children(){return Se(Kf,{})}})]}})}})),yt(M=>{var J=Mi.App,$=h()===0,j=h()===1,ce=!!p();return J!==M.e&&_r(x,M.e=J),$!==M.t&&S.classList.toggle("selected",M.t=$),j!==M.a&&D.classList.toggle("selected",M.a=j),ce!==M.o&&N.classList.toggle("pending",M.o=ce),M},{e:void 0,t:void 0,a:void 0,o:void 0}),x})()}const nh=async(o,l)=>{let a={params:{idairguide:l,":status":"YABA_39"},query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4 AND !* contain :search5 AND currentStatus = :status"};if(o&&o.split(" ").map((u,h)=>{u&&(a.params[":search"+h]=u.trim())}),l&&Object.keys(a.params).length>=2){const u=await dn(a);return console.log(u),u?.data?.error?{}:u?.data}return{}};hr(["click","mousemove","mouseout"]);const ih=document.getElementById("root"),oh=o=>vt(()=>o.children);jl(()=>[Se(Iu,{}),Se(Ze,{get when(){return $0()},get fallback(){return Se(xu,{})},get children(){return Se(Cc,{root:oh,get children(){return[Se(Ze,{get when(){return Zr?.roles?.SEARCH?.isActive},get children(){return Se(r0,{path:"/",component:ku})}}),Se(Ze,{get when(){return Zr?.roles?.SCANING?.isActive},get children(){return Se(r0,{path:"/scan",component:Lf})}}),Se(Ze,{get when(){return Zr?.roles?.MANIFEST?.isActive},get children(){return Se(r0,{path:"/manifest",component:rh})}})]}})}}),Se(D1,{})],ih);
