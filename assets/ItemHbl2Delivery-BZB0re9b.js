const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-B_5pPcbx.js","assets/index-BoVoFF7F.js","assets/index-CJxZRJNk.css","assets/SVG-veB1cEkA.js","assets/Util-Df9CfxGL.js","assets/ShowQR-Dj7Nc_Qu.js","assets/ShowQRPrintLabel-75R0fqlU.js","assets/PDFButton-BDIa4If0.js","assets/qrcode-DHy8FFhS.js","assets/fontkit.es-6TA5hJ2T.js","assets/InitPrintServices-BR2Uf5F7.js","assets/Toast-uJHGH_6K.js","assets/Toast-DLpFKn-Q.css","assets/ButonUploadHrm-Gd1Z_q1t.js","assets/ButonHrm-BSeWNUGQ.css","assets/ButonHrm-BHuPEyN5.js","assets/LoadingColorSpinner-DPEQeZgp.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-BbKQDsox.js","assets/debounces-CmBp9kbx.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ItemOnHbl-DFeV8RaT.js","assets/DialogHRM-m_hXK0xn.js","assets/DialogHRM-V9_lZntj.css","assets/FindHBL-BvF0sqPm.js","assets/InputHr-CPkpiC6H.js","assets/InputHr-M3rJ9grQ.css","assets/handelImagesServices-7vqnmAnM.js","assets/browser-image-compression-BVJ4p9S0.js","assets/ItemOnReports-BXx7a-iR.js","assets/ContainerElasticView-CxXp1wQ-.js","assets/ContainerElasticView-LzOd6fDI.css","assets/DashInventory-DfhdYnrb.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css"])))=>i.map(i=>d[i]);
import{l as p,_ as h,a as C,p as Q,c as Y,L as G,b as K,i as t,d as l,S as b,m as T,e as P,s as X,f as O,O as J,q as Z,g as ee,h as te,t as d,n as V}from"./index-BoVoFF7F.js";import{d as re,t as U,b as S,O as q,c as F,f as H,G as le}from"./Util-Df9CfxGL.js";/* empty css                             */import{c as ie,i as ae,b as se,u as ne,a as oe}from"./handelImagesServices-7vqnmAnM.js";import ce from"./InputHr-CPkpiC6H.js";import{OpenToast as de}from"./Toast-uJHGH_6K.js";import{getAddress as ue}from"./ItemOnReports-BXx7a-iR.js";import"./browser-image-compression-BVJ4p9S0.js";import"./DialogHRM-m_hXK0xn.js";import"./ContainerElasticView-CxXp1wQ-.js";import"./SVG-veB1cEkA.js";import"./ShowQRPrintLabel-75R0fqlU.js";import"./PDFButton-BDIa4If0.js";import"./qrcode-DHy8FFhS.js";import"./fontkit.es-6TA5hJ2T.js";import"./InitPrintServices-BR2Uf5F7.js";import"./DashInventory-DfhdYnrb.js";import"./App.module-CbHnVtRQ.js";var me=d('<div class="elastic_view_bx show"><div class=" spaceAround centerBx">'),_e=d('<div style="margin:15px 0"class=" spaceAround centerBx">'),ge=d('<div class="centerBx bottombx "><div><img alt=sf></div><div style="padding:15px "><div>'),be=d('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><div class="centerBx bottombx "><div>'),pe=d("<div class=centerBx><h5 style=margin-left:12px>Subiendo imagen"),he=d('<div class="centerBx bottombx"><h5>'),ve=d('<div class=" tr_bar_40 _dsplFlx"><div class="icon_status centerBx">'),fe=d("<div class=bag_number><h5>"),xe=d("<div><div>"),$e=d('<div class="errorBx centerBx mxW375 "><div class="icon_status centerBx"></div><p class=" centerBx">Click para completar la entrega si la imagen esta clara y con calidad'),ye=d('<div><div class="_dsplFlx topbx centerBx"></div><div class="_dsplFlx topbx centerBx"><p class=" textleft fullName_consigne"></p></div><div class="_dsplFlx topbx centerBx"></div><div class="_dsplFlx topbx centerBx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4></h4></div></div><div class="elastic_view_bx show centerBx"><div style="margin:15px 0"class=" spaceAround centerBx">');const we=p(()=>h(()=>import("./FlexSpace-B_5pPcbx.js"),__vite__mapDeps([0,1,2]))),M=p(()=>h(()=>import("./SVG-veB1cEkA.js"),__vite__mapDeps([3,1,2,4])));p(()=>h(()=>import("./ShowQR-Dj7Nc_Qu.js"),__vite__mapDeps([5,1,2,6,7,4,8,9,10,11,12])));const Ce=p(()=>h(()=>import("./ButonUploadHrm-Gd1Z_q1t.js"),__vite__mapDeps([13,1,2,3,4,14]))),z=p(()=>h(()=>import("./ButonHrm-BHuPEyN5.js"),__vite__mapDeps([15,1,2,3,4,14]))),Ie=p(()=>h(()=>import("./LoadingColorSpinner-DPEQeZgp.js"),__vite__mapDeps([16,1,2,17])));p(()=>h(()=>import("./DropDwnSearch-BbKQDsox.js"),__vite__mapDeps([18,1,2,19,3,4,20])));p(()=>h(()=>import("./ItemOnHbl-DFeV8RaT.js"),__vite__mapDeps([21,1,2,4,22,23,6,7,8,9,10,11,12,24,25,26,3,0,27,28,29,30,31,32,33,34])));function Ge(e){const[a,s]=C(null),[n,v]=C(!1),[f,x]=C(""),[k,$]=C(""),[A,y]=C(!1),[E,L]=Q(),[i,u]=Y();G(),K(()=>{});const m=async(c,_)=>{let g=await se(c.type,_);if(await ne(g,c)){let o={deliveryProof:oe()+"/"+_,currentStatus:"YABA_99",deliveryUserId:V?.profile?.userId,deliveryUserName:V?.profile?.name,wasDelivery:"OK",deliveryTime:le()},I={ssg_track_key:i?.hbl?.ssg_track_key,idairguide:i?.hbl?.guia};await Se(I,o),y(!1),v(!1),u("hbl",void 0)}else y(!1)},w=async()=>{y(!0);let c=await ie(a()?.file,{maxSizeMB:.5,maxWidthOrHeight:1080}),_=await ae(c),r=await(await fetch(_)).blob(),o=i?.hbl?.cid+"/"+S()+S()+".webp";m(r,o)},W=c=>{s(c),v(!0)},D=()=>{console.log("retake"),s(null),u("hbl",void 0),v(!1)},j=async c=>{let _=c,g=null,r=await ke({":search0":_}),o=q(r)?.[0];r?.[o]?.guia&&(g=await Be({":search0":o,idairguide:r?.[o]?.guia})),g?.cidentity?(x(_),u("hbl",g),L({id:c}),$("")):(u("hbl",null),x(""),showProv(S()),de({text:"No se encontro ningun registro",timeout:2500,theme:"red",id:S()}))};return(()=>{var c=be(),_=c.firstChild,g=_.firstChild;return t(g,l(b,{get when(){return!n()||!a()?.source},get children(){var r=me(),o=r.firstChild;return t(o,l(Ce,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"image_outline",label:"Subir Imagen",handleClick:W})),r}}),null),t(g,l(b,{get when(){return T(()=>!!n())()&&a()?.source},get children(){return[(()=>{var r=_e();return t(r,l(z,{color:"#fa9514",icon:"reload",label:"Utilizar otra imagen",handleClick:D})),r})(),(()=>{var r=ge(),o=r.firstChild,N=o.firstChild,I=o.nextSibling,R=I.firstChild;return t(I,l(ce,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return k()},placeholder:"HBL",colors:"#2b2b2b",handleClick:$,onEnter:j}),R),t(R,l(Ee,{get item(){return i?.hbl},get currentHbl(){return f()},retake:D,uploadImg:w})),P(()=>X(N,"src",a()?.source)),r})(),l(b,{get when(){return T(()=>!!n())()&&!A()},get fallback(){return(()=>{var r=pe(),o=r.firstChild;return t(r,l(Ie,{stroke:"rgb(200 25 60 / 1)",size:32}),o),r})()}})]}}),null),c})()}const Se=async(e,a)=>{let s={params:e,data2update:a},n=F(809004);return s={...s,...n},await H(s)},Be=async e=>{let a={params:e},s=F(802001);a={...a,...s};const n=await H(a);return n?.[q(n)?.[0]]},ke=async(e,a)=>{let s={params:e},n=F(265002);return s={...s,...n},await H(s)},B=e=>e?" "+e:"",Ae=e=>B(e?.firstName)+B(e?.middleName)+B(e?.lastName)+B(e?.lastName2),Ee=e=>l(b,{get when(){return e?.item?.idairguide},get children(){var a=ye(),s=a.firstChild,n=s.nextSibling,v=n.firstChild,f=n.nextSibling,x=f.nextSibling,k=x.firstChild,$=k.firstChild,A=$.nextSibling,y=A.nextSibling,E=x.nextSibling,L=E.firstChild;return t(s,l(b,{get when(){return e?.item?.idairnumber},get children(){return[(()=>{var i=ve(),u=i.firstChild;return t(u,l(M,{get name(){return re("M023009")?.statusListIcons?.[e?.item?.currentStatus]},size:32})),t(i,l(b,{get when(){return!O()&&e?.item?.idairnumber},get children(){var m=he(),w=m.firstChild;return t(w,()=>e?.item?.idairguide),m}}),null),i})(),l(we,{}),l(b,{get when(){return!O()&&e?.item?.bagnumber},get children(){var i=xe(),u=i.firstChild;return t(u,l(b,{get when(){return e?.item?.bagnumber},get children(){var m=fe(),w=m.firstChild;return t(w,()=>e?.item?.bagnumber),m}})),i}})]}})),n.style.setProperty("padding","6px"),t(v,()=>Ae(e?.item?.consigneeInfo)),f.style.setProperty("padding","6px"),t(f,()=>ue(e?.item?.consigneeInfo)),t($,()=>e?.item?.consigneeInfo?.ybcity),t(y,()=>e?.item?.consigneeInfo?.ybestate),t(L,l(z,{color:"#fa9514",icon:"reload",label:"Utilizar otra imagen",get handleClick(){return e?.retake}})),t(E,l(b,{get when(){return e?.item?.currentStatus!=="YABA_99"},get children(){var i=$e(),u=i.firstChild;return J(i,"click",e?.uploadImg,!0),t(u,l(M,{name:"success",size:32,get color(){return U?.success?.svg}})),P(m=>Z(i,U?.success,m)),i}}),null),P(()=>ee(a,`client_item_box gWXAaj jlytmu ${O()?"isMobile":""}`)),a}});te(["click"]);export{Ge as default};
