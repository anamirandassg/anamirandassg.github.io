const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-2RvdhW_Q.js","assets/index-Cy4A-QRE.js","assets/index-B8bAFC38.css","assets/SVG-ghv3QYb1.js","assets/ShowQR-Kmn0n0KK.js","assets/ShowQRPrintLabel-6Y_0ybYg.js","assets/fontkit.es-B5kfBrxZ.js","assets/qrcode-DHy8FFhS.js","assets/InitPrintServices-DpKAH5vZ.js","assets/Toast-BU2UvnPf.js","assets/Toast-DLpFKn-Q.css","assets/ButonUploadHrm-DsPbciPE.js","assets/ButonHrm-BSeWNUGQ.css","assets/ButonHrm-DxKcRVEN.js","assets/LoadingColorSpinner-DXELGEyy.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-ChS5ZxYW.js","assets/debounces-De-8aWXQ.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as r,_ as s,a as p,G as O,u as D,d as T,e as a,i as g,S as h,E as f,p as w,x as V,H as y,s as L,A as R,t as d,q as b,j as E,aw as U,O as M,k as z,m as F}from"./index-Cy4A-QRE.js";/* empty css                             */import{c as H,i as q,b as W,u as j,a as G}from"./handelImagesServices-Z_jOewss.js";import"./browser-image-compression-BVJ4p9S0.js";var K=d('<div class="elastic_view_bx show"><div class=" spaceAround centerBx">'),N=d("<div><img alt=sf>"),Q=d('<div class="elastic_view_bx show centerBx"><div style="margin:15px 0"class=" spaceAround centerBx"></div><div class="errorBx centerBx mxW375 "><div class="icon_status centerBx"></div><p class=" centerBx">Click para completar la entrega si la imagen esta clara y con calidad'),Y=d("<div>"),J=d("<div class=centerBx><h5 style=margin-left:12px>Subiendo imagen");r(()=>s(()=>import("./FlexSpace-2RvdhW_Q.js"),__vite__mapDeps([0,1,2])));const X=r(()=>s(()=>import("./SVG-ghv3QYb1.js"),__vite__mapDeps([3,1,2])));r(()=>s(()=>import("./ShowQR-Kmn0n0KK.js"),__vite__mapDeps([4,1,2,5,6,7,8,9,10])));const Z=r(()=>s(()=>import("./ButonUploadHrm-DsPbciPE.js"),__vite__mapDeps([11,1,2,3,12]))),ee=r(()=>s(()=>import("./ButonHrm-DxKcRVEN.js"),__vite__mapDeps([13,1,2,3,12]))),te=r(()=>s(()=>import("./LoadingColorSpinner-DXELGEyy.js"),__vite__mapDeps([14,1,2,15])));r(()=>s(()=>import("./DropDwnSearch-ChS5ZxYW.js"),__vite__mapDeps([16,1,2,17,3,18])));function ce(u){const[l,i]=p(null),[n,_]=p(!1);p("");const[I,v]=p(!1),[x,re]=O(),S=D();T(()=>{});const $=async(e,t)=>{let o=await W(e.type,t);if(await j(o,e)){let c={deliveryProof:G()+"/"+t,currentStatus:"YABA_99",deliveryUserId:E?.profile?.userId,deliveryUserName:E?.profile?.name,wasDelivery:"OK",deliveryTime:U()};const P=M(u?.list).map(async k=>{await ae({ssg_track_key:k,idairguide:"all"},c)});await Promise.all(P),v(!1),_(!1),S(`/delivery-detail?dId=${x?.dId}`,{replace:!0})}else v(!1)},A=async()=>{v(!0);let e=await H(l()?.file,{maxSizeMB:.5,maxWidthOrHeight:1080}),t=await q(e),m=await(await fetch(t)).blob(),c=u?.cid+"/"+b()+b()+".webp";$(m,c)},B=e=>{i(e),_(!0)},C=()=>{i(null),_(!1)};return[a(h,{get when(){return!n()||!l()?.source},get children(){var e=K(),t=e.firstChild;return g(t,a(Z,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"image_outline",label:"Subir Imagen",handleClick:B})),e}}),a(h,{get when(){return f(()=>!!n())()&&l()?.source},get children(){return[(()=>{var e=N(),t=e.firstChild;return w(()=>V(t,"src",l()?.source)),e})(),a(h,{get when(){return f(()=>!!n())()&&!I()},get fallback(){return(()=>{var e=J(),t=e.firstChild;return g(e,a(te,{stroke:"rgb(200 25 60 / 1)",size:32}),t),e})()},get children(){var e=Q(),t=e.firstChild,o=t.nextSibling,m=o.firstChild;return g(t,a(ee,{color:"#fa9514",icon:"reload",label:"Tomar imagen nuevamente",handleClick:C})),o.$$click=A,g(m,a(X,{name:"success",size:32,get color(){return y?.success?.svg}})),w(c=>L(o,y?.success,c)),e}}),Y()]}})]}const ae=async(u,l)=>{let i={params:u,data2update:l},n=z(809004);return i={...i,...n},await F(i)};R(["click"]);export{ce as default};
