const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-D_GvX28x.js","assets/index-WdQUpnA8.js","assets/index-DGSEMnLR.css","assets/SVG-BQYfoCtp.js","assets/ShowQR-B2NPCNOM.js","assets/ShowQRPrintLabel-DF_r3drM.js","assets/fontkit.es-BgEBu-ZA.js","assets/qrcode-C5vWJp7P.js","assets/InitPrintServices-CsH7y8Fy.js","assets/Toast-dGtFHnN3.js","assets/Toast-SmEZ1JuI.css","assets/ButonUploadHrm-fpK4ge3R.js","assets/ButonHrm-BSeWNUGQ.css","assets/ButonHrm-lko_uZkQ.js","assets/DropDwnSearch-D28fYXRw.js","assets/debounces-Bu_cYg6t.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as n,_ as c,a as v,u as D,X as L,q as O,d as i,o as S,e as R,i as _,S as y,a1 as U,f as h,x as V,a7 as f,s as k,t as m,j as b,n as q,ao as Y,O as F}from"./index-WdQUpnA8.js";/* empty css                             */var M=m('<div class="elastic_view_bx show"><div class=" spaceAround centerBx"><div>|</div>'),j=m("<div><img alt=sf>"),z=m('<div class="elastic_view_bx show centerBx"><div style="margin:15px 0"class=" spaceAround centerBx"></div><div class="errorBx centerBx mxW375 "><div class="icon_status centerBx"></div><p class=" centerBx">Click para completar la entrega si la imagen esta clara y con calidad'),H=m("<div>");n(()=>c(()=>import("./FlexSpace-D_GvX28x.js"),__vite__mapDeps([0,1,2])));const K=n(()=>c(()=>import("./SVG-BQYfoCtp.js"),__vite__mapDeps([3,1,2])));n(()=>c(()=>import("./ShowQR-B2NPCNOM.js"),__vite__mapDeps([4,1,2,5,6,7,8,9,10])));const E=n(()=>c(()=>import("./ButonUploadHrm-fpK4ge3R.js"),__vite__mapDeps([11,1,2,3,12]))),G=n(()=>c(()=>import("./ButonHrm-lko_uZkQ.js"),__vite__mapDeps([13,1,2,3,12])));n(()=>c(()=>import("./DropDwnSearch-D28fYXRw.js"),__vite__mapDeps([14,1,2,15,3,16])));function ee(s){const[t,o]=v(null),[d,l]=v(!1),[I,N]=D(),A=L();O(()=>{});const $=async(e,a)=>{let r=await X(e.type,a);console.log(a),console.log(e),console.log(r);let u=await J(r,e);if(console.log(u),u){let p={deliveryProof:w()+"/"+a,currentStatus:"YABA_99",deliveryUserId:q?.profile?.userId,wasDelivery:"OK",deliveryTime:Y()};const P=F(s?.list).map(async g=>{let T={ssg_track_key:g,idairguide:s?.list[g]?.idairguide};await W(T,p)});await Promise.all(P),A(`/delivery-detail?dId=${I?.dId}`,{replace:!0})}},x=async()=>{l(!1),console.log(s?.item);let e=s?.cid+"/"+b()+b()+"."+t()?.name.split(".").pop();console.log(e),$(t().file,e)},B=e=>{o(e),l(!0)},C=()=>{o(null),l(!1)};return[i(y,{get when(){return!d()||!t()?.source},get children(){var e=M(),a=e.firstChild,r=a.firstChild;return _(a,i(E,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"image_outline",label:"Subir Imagen",handleClick:B}),r),_(a,i(E,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"progress-upload",label:"Subir Imagen mas tarde",handleClick:()=>{}}),null),e}}),i(y,{get when(){return U(()=>!!d())()&&t()?.source},get children(){return[(()=>{var e=j(),a=e.firstChild;return h(()=>V(a,"src",t()?.source)),e})(),(()=>{var e=z(),a=e.firstChild,r=a.nextSibling,u=r.firstChild;return _(a,i(G,{color:"#fa9514",icon:"reload",label:"Tomar imagen nuevamente",handleClick:C})),r.$$click=x,_(u,i(K,{name:"success",size:32,get color(){return f?.success?.svg}})),h(p=>k(r,f?.success,p)),e})(),H()]}})]}const W=async(s,t)=>await S({params:s,query:"updateLogisticYabaExpress",data2update:t}),w=()=>"YABABYSSolution",X=async(s,t)=>{let o={query:"SignedUrlUpload",params:{userId:w(),fileName:t,mimeType:s}};const l=await S(o);return l&&!l.error?l.uploadURL:null},J=async(s,t)=>(await fetch(s,{method:"PUT",headers:{"Content-Type":t.type},body:t}))?.status===200?!0:null;R(["click"]);export{ee as default,X as getSignedUploadUrlAsync,J as uploadSignedUrlBlob};
