const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-BqtxHkz8.js","assets/index-BOYuCN0S.js","assets/index-DGSEMnLR.css","assets/SVG-CxYWE_S9.js","assets/ShowQR-B9AeRpWW.js","assets/ShowQRPrintLabel-DeI1PvK_.js","assets/fontkit.es-B8_sCfQU.js","assets/qrcode-C5vWJp7P.js","assets/InitPrintServices-D2F_4ovx.js","assets/Toast-B1zAgmoU.js","assets/Toast-SmEZ1JuI.css","assets/ButonUploadHrm-BobkQK1Q.js","assets/ButonHrm-BSeWNUGQ.css","assets/ButonHrm-k9Jyat4e.js","assets/DropDwnSearch-CApcj13v.js","assets/debounces-TwFXo-EL.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as i,_ as n,a as y,u as C,X as T,q as D,d as l,o as S,e as L,i as _,S as h,a1 as O,f,x as R,a7 as b,s as U,t as p,ao as V,n as k,ap as q,O as Y}from"./index-BOYuCN0S.js";/* empty css                             */var F=p('<div class="elastic_view_bx show"><div class=" spaceAround centerBx"><div>|</div>'),M=p("<div><img alt=sf>"),z=p('<div class="elastic_view_bx show centerBx"><div style="margin:15px 0"class=" spaceAround centerBx"></div><div class="errorBx centerBx mxW375 "><div class="icon_status centerBx"></div><p class=" centerBx">Click para completar la entrega si la imagen esta clara y con calidad'),H=p("<div>");i(()=>n(()=>import("./FlexSpace-BqtxHkz8.js"),__vite__mapDeps([0,1,2])));const K=i(()=>n(()=>import("./SVG-CxYWE_S9.js"),__vite__mapDeps([3,1,2])));i(()=>n(()=>import("./ShowQR-B9AeRpWW.js"),__vite__mapDeps([4,1,2,5,6,7,8,9,10])));const E=i(()=>n(()=>import("./ButonUploadHrm-BobkQK1Q.js"),__vite__mapDeps([11,1,2,3,12]))),N=i(()=>n(()=>import("./ButonHrm-k9Jyat4e.js"),__vite__mapDeps([13,1,2,3,12])));i(()=>n(()=>import("./DropDwnSearch-CApcj13v.js"),__vite__mapDeps([14,1,2,15,3,16])));function ee(r){const[t,o]=y(null),[d,u]=y(!1),[c,J]=C(),w=T();D(()=>{});const I=async(e,a)=>{let s=await W(e.type,a);if(await X(s,e)){let m={deliveryProof:a,currentStatus:"YABA_99",deliveryUserId:k?.profile?.userId,wasDelivery:"OK",deliveryTime:q()};const B=Y(r?.list).map(async v=>{let P={ssg_track_key:v,idairguide:r?.list[v]?.idairguide};await j(P,m)});await Promise.all(B),w(`/delivery-detail?dId=${c?.dId}`,{replace:!0})}},A=async()=>{u(!1);let e=G()+"/"+r?.cid+"/"+V(t()?.name)+"."+t()?.name.split(".").pop();I(t().file,e)},$=e=>{o(e),u(!0)},x=()=>{o(null),u(!1)};return[l(h,{get when(){return!d()||!t()?.source},get children(){var e=F(),a=e.firstChild,s=a.firstChild;return _(a,l(E,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"image_outline",label:"Subir Imagen",handleClick:$}),s),_(a,l(E,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"progress-upload",label:"Subir Imagen mas tarde",handleClick:()=>{}}),null),e}}),l(h,{get when(){return O(()=>!!d())()&&t()?.source},get children(){return[(()=>{var e=M(),a=e.firstChild;return f(()=>R(a,"src",t()?.source)),e})(),(()=>{var e=z(),a=e.firstChild,s=a.nextSibling,g=s.firstChild;return _(a,l(N,{color:"#fa9514",icon:"reload",label:"Tomar imagen nuevamente",handleClick:x})),s.$$click=A,_(g,l(K,{name:"success",size:32,get color(){return b?.success?.svg}})),f(m=>U(s,b?.success,m)),e})(),H()]}})]}const j=async(r,t)=>await S({params:r,query:"updateLogisticYabaExpress",data2update:t}),G=()=>"YABABYSSolution",W=async(r,t,o)=>{const c=await S({query:"SignedUrlUpload",params:{fileName:t,mimeType:r}});return c&&!c.error?c.uploadURL:null},X=async(r,t)=>(await fetch(r,{method:"PUT",headers:{"Content-Type":t.type},body:t}))?.status===200?!0:null;L(["click"]);export{ee as default,W as getSignedUploadUrlAsync,X as uploadSignedUrlBlob};
