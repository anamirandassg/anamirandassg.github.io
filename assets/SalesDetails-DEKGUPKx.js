const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-YpvrkGn-.js","assets/index-B0vjCw4c.js","assets/index-DI_XrWgU.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-CwDFeSr_.js","assets/debounces-CkeATmjq.js","assets/SVG-CCR9cGoq.js","assets/DropDwnSearch-DMkLkRPc.css","assets/CheckBoxSlide-DUlCOo5r.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/FlexSpace-DXLdI5UT.js","assets/ButonHrm-DIEdJHMT.js","assets/ButonHrm-BSeWNUGQ.css","assets/UpdInventory--kw2gduc.js","assets/DialogHRM-CHooNwxd.js","assets/DialogHRM-V9_lZntj.css","assets/DashProducts-DuhONaI7.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InputHr-DtEW1As1.js","assets/InputHr-BXFw4d2l.css"])))=>i.map(i=>d[i]);
import{l as V,_ as M,c as D,G as ye,a as L,o as Ce,b as xe,d as X,i as t,e as n,S,F as K,aH as oe,f as G,aI as we,J as Se,k as ue,m as T,z as se,g as Oe,x as fe,n as Q,p as U,U as ke,D as Ie,r as Pe,t as x,aJ as qe,w as ie,al as ae,v as ce,aK as de,O as te,ax as je}from"./index-B0vjCw4c.js";import{u as Be}from"./debounces-CkeATmjq.js";import{OpenModal as Ee}from"./DialogHRM-CHooNwxd.js";import{g as me,a as be}from"./handelImagesServices-BHL_sELF.js";import{LookupInventory as he}from"./DashInventoryMov-IxTLm5pn.js";import{LookupProducts as le}from"./DashProducts-DuhONaI7.js";import{a as Ae}from"./print_invoice_service-CxaOHBgl.js";import{OpenToast as pe}from"./Toast-BHMrqVn0.js";import"./browser-image-compression-BVJ4p9S0.js";import"./AddInventory-OVj0vB2S.js";import"./FlexSpace-DXLdI5UT.js";import"./App.module-CbHnVtRQ.js";import"./fontkit.es-BMtOEA4d.js";import"./InitPrintServices-8TC3R4m4.js";import"./qrcode-DHy8FFhS.js";var Ne=x('<div style="padding:50px 0"><section class=qsuVSc><section class=bLl6je><section class=dvPdhb>'),ge=x('<div style=margin:15px class=" spaceAround centerBx">'),Te=x('<section class=KgyCAd><section class=WirBi><div class=EMijzc><p class=jhB0af>Agregar reserva</p><section class="Jm2qx centerBx flxWrp spaceAround "><span class=label aria-hidden=true>Mercancia:</span><select class=RIw0b aria-label=merchandise></select><div class="centerBx bottombx "><h5 class="">Solo Arancel</h5></div></section><div style=margin:15px class=" spaceAround centerBx"><div style=margin:7px></div><div style=margin:7px>'),Ue=x('<section class=qsuVSc><section class=bLl6je><section class=dvPdhb></section></section><section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b">'),Fe=x("<option> "),De=x('<div class="centerBx spaceAround"><div class="centerBx bottombx "><h5 class="">Taxes'),Qe=x('<p class=B7xUP><span data-test-integ-cart-subtotal-label="">Taxes Estimado</span><span data-test-integ-cart-subtotal-value="">$'),Ve=x('<section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b"><div class=kDdWge><div class=QCNFEe><p class=jhB0af>Sumario de la Orden</p></div><div class=qntUl><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Subtotal</span><span data-test-integ-cart-subtotal-value="">$</span></p><p class=B7xUP><span data-test-integ-cart-subtotal-label=""class=OGw7rb>Total Estimado</span><span data-test-integ-cart-subtotal-value=""class=OGw7rb> $</span></p></div></div><div class=oPYFfd><section class=BQHvme><section class=wo08ff><span class=PwY8l2>Fecha:</span><span class=PwY8l33> </span></section><section class=wo08ff><span class=PwY8l2>Invoice:</span><span class=PwY8l33></span></section><section class=wo08ff><span class=PwY8l2>Almacen:</span><span class=PwY8l33> </span></section></section></div><section class="JM2zDb RW86"><div class="centerBx bottombx flxWrp spaceAround">'),_e=x("<section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Remove"),Me=x('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><section class=Jm2qx><span aria-hidden=true>Qty:</span><select class=RIw0b aria-label="Product Quantity"></select></section><p class=GehUpe data-test-line-item-price="">'),Le=x("<option selected>"),Je=x("<option>"),Ye=x("<span class=arancelSep> | "),Re=x('<span class="arancel pricePq"> $'),Ge=x('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price=""class=pricePq>$</span>'),He=x('<div class=option-header style=padding:17px;margin:5px><span class=option-icon> </span><div class=" centerBx"><span class="option-name ">Env√≠o <!> '),We=x("<div class=separator>"),ze=x('<div class="icon_status centerBx "style="margin:0 4px">'),Ke=x('<div style=padding:8px><div class=" centerBx"><p class=jhB0af>Envia</p></div><div class="bottombx flxWrp spaceAround centerBx"><h4 class=centerBx></h4><h4 class="centerBx phonesNum"></h4></div><div class=separator></div><div class=centerBx><p class=jhB0af>Recibe</p><div class="icon_status centerBx "style="margin:0 4px"></div></div><div class="bottombx spaceAround "><h5></h5><h4></h4><h4 class=" textleft phonesNum"></h4></div><div class="bottombx flxWrp spaceAround centerBx"><p class="textleft "></p><h4></h4></div><div class="bottombx flxWrp spaceAround centerBx"><h5 class="textleft "></h5><h4>'),Xe=x('<section class="h6rxkc ">'),Ze=x('<section class=KgyCAd><section class=WirBi><section class=""><div class=QCNFEe><p class=jhB0af>Agregar mercancias</p></div><section class="EMijzc centerBx"><div class="icon_status centerBx "style="margin:0 4px"></div><div class="icon_status centerBx "style="margin:0 4px">'),et=x('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),tt=x('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),lt=x('<div class="centerBx flxWrp">'),rt=x('<div><div class=QCNFEe><p class=jhB0af>Enviar a Solve D Cargo</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Esta seguro de querer enviar a Solve D Cargo tenga en cuenta que puede duplicar la informacion</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">'),it=x('<div class="centerBx flxWrp "><div class="bottombx centerBx unit"><h5>$'),st=x("<div class=unitBx><h5>");V(()=>M(()=>import("./LoadingColorSpinner-YpvrkGn-.js"),__vite__mapDeps([0,1,2,3])));V(()=>M(()=>import("./DropDwnSearch-CwDFeSr_.js"),__vite__mapDeps([4,1,2,5,6,7])));const $e=V(()=>M(()=>import("./CheckBoxSlide-DUlCOo5r.js"),__vite__mapDeps([8,1,2,9]))),ne=V(()=>M(()=>import("./FlexSpace-DXLdI5UT.js"),__vite__mapDeps([10,1,2]))),Y=V(()=>M(()=>import("./ButonHrm-DIEdJHMT.js"),__vite__mapDeps([11,1,2,6,12])));V(()=>M(()=>import("./UpdInventory--kw2gduc.js"),__vite__mapDeps([13,1,2,14,15,5,16,17,18,10])));const R=V(()=>M(()=>import("./InputHr-DtEW1As1.js"),__vite__mapDeps([19,1,2,20]))),re=V(()=>M(()=>import("./SVG-CCR9cGoq.js"),__vite__mapDeps([6,1,2]))),[C,B]=D({manifestObj:{}});let nt=864e5,at=Array.from(Array(20).keys());function At(){const[e,a]=ye();D(),D(),D();const[c,p]=L("");Be(p,400),Ce(()=>{}),xe(()=>{});const $=async()=>{if(e?.mId){let d={":search0":e?.mId,businessId:T?.profile?.businessYId},s=await ve(d);B("manifestObj",s[e?.mId])}};return X(async()=>{B("manifestObj",void 0),$(),qe()}),(()=>{var d=Ne(),s=d.firstChild,i=s.firstChild,b=i.firstChild;return t(d,n(S,{get when(){return C?.manifestObj?.packagesOrder},get children(){return n(ct,{})}}),s),t(b,n(S,{get when(){return C?.manifestObj?.products},get children(){return n(K,{get each(){return C?.manifestObj?.products},children:(g,u)=>n(dt,{itm:g})})}})),t(s,n(S,{get when(){return C?.manifestObj?.packagesOrder&&!C?.manifestObj?.isCompleted},get children(){return n(bt,{})}}),null),t(s,n(ot,{get item(){return C?.manifestObj},get list(){return C?.manifestObj}}),null),d})()}const ct=e=>{const a={type:"",qty:0,arancel:0,price:0},[c,p]=D({frm:{...a}}),$=(i,b)=>{p("frm",i,b)},d=i=>{let b={...c?.frm};b.key=je();let g=C?.manifestObj?.reservas||[],u=ie(g);u.push(b),console.log(b),B("manifestObj","reservas",u),p("frm",{...a})},s=i=>{$("type",i),oe?.list.filter(g=>g.id===i)?.[0]?.isA?$("onlyTariff",!0):$("onlyTariff",!1)};return(()=>{var i=Ue(),b=i.firstChild,g=b.firstChild,u=b.nextSibling,_=u.firstChild,f=_.firstChild;return t(g,n(S,{get when(){return C?.manifestObj?.reservas},get children(){return n(K,{get each(){return C?.manifestObj?.reservas},children:(h,l)=>n(ut,{itm:h})})}})),t(i,n(S,{get when(){return!C?.manifestObj?.isCompleted},get children(){var h=Te(),l=h.firstChild,r=l.firstChild,o=r.firstChild,v=o.nextSibling,w=v.firstChild,y=w.nextSibling,P=y.nextSibling,q=P.firstChild,k=v.nextSibling,I=k.firstChild,F=I.nextSibling;return y.addEventListener("change",m=>{s(m?.target?.value)}),t(y,n(K,{get each(){return oe?.list},children:(m,E)=>(()=>{var O=Fe();return O.firstChild,t(O,()=>m.label,null),G(()=>O.selected=m.id===c?.frm?.type),G(()=>O.value=m.id),O})()})),t(P,n($e,{get initValue(){return c?.frm?.onlyTariff},updChange:m=>$("onlyTariff",m),color:"var(--background-red-ssg)"}),q),t(k,n(S,{get when(){return!c?.frm?.onlyTariff&&c?.frm?.type},get children(){return n(R,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return c?.frm?.qty||""},label:"cantidad (lbs)",colors:"#2b2b2b",type:"number",handleClick:m=>$("qty",we(m))})}}),I),t(k,n(S,{get when(){return c?.frm?.qty&&c?.frm?.type},get children(){return n(R,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.price||""},label:"precio",colors:"#2b2b2b",handleClick:m=>$("price",m)})}}),F),t(k,n(S,{get when(){return c?.frm?.type},get children(){return n(R,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.arancel||""},label:"Arancel",colors:"#2b2b2b",handleClick:m=>$("arancel",m)})}}),null),t(r,n(S,{get when(){return(c?.frm?.price&&c?.frm?.qty||c?.frm?.onlyTariff&&c?.frm?.arancel)&&c?.frm?.type},get children(){var m=ge();return t(m,n(Y,{color:"#646cff",label:"Agregar",handleClick:d})),m}}),null),h}}),u),t(f,n(ft,{get item(){return C?.manifestObj?.shipper_consignee}})),i})()},ot=e=>{const a=d=>{let s=0;return e?.item?.products?.map(i=>{s+=z(i?.qty)*z(i?.salePrice)*-1}),e?.item?.reservas?.map(i=>{s+=z(i?.qty)*z(i?.price)+z(i?.arancel)}),s},c=async d=>{let s={...e?.item};s.amount=a();let i=await Ae(s);window.open(i)},p=async()=>{let d={...e?.item},s={params:{businessId:T?.profile?.businessYId,id:d.ssg_sorder_key},form:{isCompleted:!1}},i=Q(431007);s={...s,...i},await U(s)},$=async d=>{let s=ie(e?.item);s.isCompleted=!0,s.dayNum=s?.createDate/nt;let i={params:{businessId:T?.profile?.businessYId,id:s.ssg_sorder_key},form:s},b=Q(431007);if(i={...i,...b},await U(i),s?.products?.length>0){let _={params:{businessId:T?.profile?.businessYId},form:s},f=Q(139003);_={..._,...f},await U(_)}let g={":search0":s.ssg_sorder_key,businessId:T?.profile?.businessYId},u=await ve(g);B("manifestObj",u[s.ssg_sorder_key])};return(()=>{var d=Ve(),s=d.firstChild,i=s.firstChild,b=i.firstChild,g=b.firstChild,u=g.nextSibling,_=u.firstChild,f=_.firstChild,h=f.nextSibling;h.firstChild;var l=_.nextSibling,r=l.firstChild,o=r.nextSibling;o.firstChild;var v=b.nextSibling,w=v.firstChild,y=w.firstChild,P=y.firstChild,q=P.nextSibling;q.firstChild;var k=y.nextSibling,I=k.firstChild,F=I.nextSibling,m=k.nextSibling,E=m.firstChild,O=E.nextSibling;O.firstChild;var Z=v.nextSibling,H=Z.firstChild;return t(b,n(S,{get when(){return!C?.manifestObj?.isCompleted},get children(){return[(()=>{var A=De(),N=A.firstChild,J=N.firstChild;return t(N,n($e,{get initValue(){return C?.manifestObj?.hasTax},updChange:W=>B("manifestObj","hasTax",W),color:"var(--background-red-ssg)"}),J),A})(),(()=>{var A=ge();return t(A,n(S,{get when(){return C?.manifestObj?.hasTax},get children(){return n(R,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return C?.manifestObj?.TaxPercent||""},label:"Porciento de Impuestos",colors:"#2b2b2b",type:"number",handleClick:N=>B("manifestObj","TaxPercent",N)})}})),A})()]}}),u),t(h,()=>a().toFixed(2),null),t(u,n(S,{get when(){return C?.manifestObj?.hasTax&&C?.manifestObj?.TaxPercent},get children(){var A=Qe(),N=A.firstChild,J=N.nextSibling;return J.firstChild,t(J,()=>(a()*(C?.manifestObj?.TaxPercent/100)).toFixed(2),null),A}}),l),t(o,()=>(a()*((C?.manifestObj?.TaxPercent?C?.manifestObj?.TaxPercent:0)/100)+a()).toFixed(2),null),t(q,()=>Se(e?.item?.createDate),null),t(F,()=>e?.item?.invoice),t(O,()=>ue("storeGroupBy")?.[e?.item?.store]?.label,null),t(H,n(Y,{color:"#646cff",label:"Imprimir",handleClick:c}),null),t(H,n(S,{get when(){return!e?.item?.isCompleted},get children(){return n(Y,{color:"#646cff",label:"Confirmar",handleClick:$})}}),null),t(H,n(S,{get when(){return e?.item?.isCompleted&&T?.profile?.isAdmin},get children(){return n(Y,{color:"#646cff",label:"arrow",handleClick:p})}}),null),d})()},dt=e=>{const[a,c]=D(),p=()=>a?.[e?.itm?.product?.id]?.productImageUrl?me()+be()+"/"+a?.[e?.itm?.product?.id]?.productImageUrl:null,$=async()=>{let i=e?.itm?.product?.id,b=`${i}`,g=await le(b);g?.[i]?.productImageUrl&&c(i,g?.[i])};X(()=>{$()});const d=()=>{let i=ie(C?.manifestObj?.products);B("manifestObj","products",i.filter(b=>b.product.id!==e?.itm?.product.id))},s=(i,b)=>{let g={};C?.manifestObj?.products?.map(_=>{let f={..._};e?.itm?.product.id===_.product.id&&(f[i]=b*1),g[_.product.id]=f});let u=ae(g);B("manifestObj","products",u)};return n(S,{get when(){return e?.itm?.product?.id},get children(){var i=Me(),b=i.firstChild,g=b.firstChild,u=g.firstChild,_=u.firstChild,f=_.firstChild,h=_.nextSibling,l=h.firstChild,r=l.firstChild,o=r.firstChild;o.firstChild;var v=l.nextSibling,w=v.firstChild,y=w.firstChild,P=y.nextSibling,q=w.nextSibling,k=q.firstChild,I=k.nextSibling,F=q.nextSibling;return t(o,()=>e?.itm?.product?.label,null),t(P,()=>e?.itm?.qty*-1),I.addEventListener("change",m=>{console.log(m?.target?.value),s("qty",m?.target?.value*-1)}),t(I,n(K,{each:at,children:(m,E)=>n(S,{get when(){return m*1+1===Math.abs(e?.itm?.qty)},get fallback(){return(()=>{var O=Je();return O.value=m*1+1+"",t(O,m*1+1),O})()},get children(){var O=Le();return O.value=m*1+1+"",t(O,m*1+1),O}})})),t(F,n(_t,{value:"",get label(){return`${(e?.itm?.salePrice*1).toFixed(2)}`},key:"salePrice",updItem:s,width:"600px"})),t(v,n(S,{get when(){return!C?.manifestObj?.isCompleted},get children(){var m=_e(),E=m.firstChild,O=E.firstChild;return O.$$click=d,m}}),null),G(m=>{var E=p(),O=Math.abs(e?.itm?.qty);return E!==m.e&&se(f,"src",m.e=E),O!==m.t&&se(I,"aria-value",m.t=O),m},{e:void 0,t:void 0}),i}})},ut=e=>{const[a,c]=D(),p=async()=>{let d=e?.itm?.product?.id,s=`${d}`,i=await le(s);i?.[d]?.productImageUrl&&c(d,i?.[d])};X(()=>{p()});const $=()=>{let s=ie(C?.manifestObj?.reservas).filter(i=>i.key!==e?.itm?.key);B("manifestObj","reservas",s)};return(()=>{var d=Ge(),s=d.firstChild,i=s.firstChild,b=i.firstChild,g=b.firstChild,u=g.firstChild,_=u.firstChild,f=_.firstChild;f.firstChild;var h=u.nextSibling,l=h.firstChild,r=l.firstChild,o=r.nextSibling,v=l.nextSibling,w=v.firstChild;return w.firstChild,t(f,()=>e?.itm?.type,null),t(o,()=>e?.itm?.qty*1),t(w,()=>(e?.itm?.price*1).toFixed(2),null),t(v,n(S,{get when(){return e?.itm?.arancel},get children(){return[Ye(),(()=>{var y=Re();return y.firstChild,t(y,()=>(e?.itm?.arancel*1).toFixed(2),null),y})()]}}),null),t(h,n(S,{get when(){return!C?.manifestObj?.isCompleted},get children(){var y=_e(),P=y.firstChild,q=P.firstChild;return q.$$click=$,y}}),null),d})()},ft=e=>{const[a,c]=L(),[p,$]=L(!0),d=l=>l?" "+l:"",s=l=>d(l?.firstName)+d(l?.middleName)+d(l?.lastName)+d(l?.lastName2),i=l=>{let r=d(l?.altPhoneNumber);return d(l?.phoneNumber)+(r?" |"+r:"")},b=async()=>{let l={};l.id=ce(),l.closeEvent=()=>{},l.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},l.content=n(gt,{confirm:g}),Ee(l)},g=async()=>{let l=T?.profile?.agency?.id;if(l&&e?.item?.citiId&&e?.item?.provinceId){let r=e?.item,o=`;${j(r?.firstName)};${j(r?.middleName)};${j(r?.lastName)};${j(r?.lastName2)};N/A;${j(r?.cid)};CUB;${j(r?.phoneNumber)};${j(r?.altPhoneNumber)};${j(r?.ybstreet)};${j(r?.ybstreetNo)};${j(r?.ybbetwen1)};${j(r?.ybbetwen2)};${j(r?.ybreparto)};;${r?.citiId};${r?.provinceId};${j(r?.email)};;${l}`;u("consignee",o)}},u=async(l,r,o)=>{let v=`funcname=insertRecord&option=${l}&params=${r}`,w={query:"querySolveGlobal"};w.params={query:v},await U(w)},_=async()=>{let l={params:{id:e?.item?.name,key:"shipper"}},r=Q(181009);l={...l,...r};const o=await U(l);let v=de(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],o,e?.item);console.log(v),o.cid===e?.item?.cid&&console.log()},f=async()=>{let l={params:{id:e?.item?.cid,key:"consignee"}},r=Q(181009);l={...l,...r};const o=await U(l);return console.log(o),de(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],o,e?.item).hasChange&&o.cid===e?.item?.cid?e?.item:o},h=async(l,r)=>{let o=await f();console.log(o)};return X(()=>{if(e?.item?.ybestate){let l=ue("M023009")?.provincias?.filter?.(r=>r.label===e?.item?.ybestate)?.[0];if(l?.id&&c(l),e?.item?.ybcity){let r=l?.cities?.filter?.(o=>o.label===e?.item?.ybcity)?.[0];r?.id&&B("manifestObj","shipper_consignee","citiId",r?.id)}}h()}),console.log(e?.item),n(S,{get when(){return e?.item?.name},get children(){return[n(S,{get when(){return e?.item?.shipping},get children(){return[(()=>{var l=He(),r=l.firstChild;r.firstChild;var o=r.nextSibling,v=o.firstChild,w=v.firstChild,y=w.nextSibling;return y.nextSibling,t(r,()=>e?.item?.shipping==="AEREO"?"‚úàÔ∏è":"üö¢",null),t(v,()=>e?.item?.shipping==="AEREO"?"a√©reo":"mar√≠timo",y),l})(),We()]}}),(()=>{var l=Ke(),r=l.firstChild;r.firstChild;var o=r.nextSibling,v=o.firstChild,w=v.nextSibling,y=o.nextSibling,P=y.nextSibling,q=P.firstChild,k=q.nextSibling,I=P.nextSibling,F=I.firstChild,m=F.nextSibling,E=m.nextSibling,O=I.nextSibling,Z=O.firstChild,H=Z.nextSibling,A=O.nextSibling,N=A.firstChild,J=N.nextSibling;return t(r,n(ne,{}),null),t(v,()=>e?.item?.name),w.$$click=_,t(w,()=>e?.item?.phoneNumberS),t(P,n(ne,{}),k),k.$$click=f,t(k,n(re,{name:"success",size:22,get color(){return p()?"#37be5fff":"#c6c6c6"}})),t(P,n(S,{get when(){return!p()},get children(){var W=ze();return W.$$click=b,t(W,n(re,{name:"send",size:22,color:"#646cff"})),W}}),null),t(F,()=>e?.item?.cid),t(m,()=>s(e?.item)),t(E,()=>i(e?.item)),t(Z,()=>pt(e?.item)),t(H,()=>e?.item?.ybreparto),t(N,()=>e?.item?.ybcity),t(J,()=>e?.item?.ybestate),G(()=>Oe(l,`    ${fe()?"isMobile":""}`)),l})()]}})},Nt=async(e,a)=>{let c={params:e,data2update:a},p=Q(431007);return c={...c,...p},await U(c)},ve=async e=>{let a={params:e},c=Q(431002);return a={...a,...c},await U(a)},Tt=async e=>{let a=[];e.map(c=>{let p={params:{id:c?.ssg_track_key,idairguide:"all"}},$=Q(802002);p={...p,...$},a.push(p)}),ke(a,mt)},mt=async e=>{const c=await U(e);if(c)return c},bt=e=>{const[a,c]=L(""),[p,$]=L(2),d=()=>{p()===1&&a().length>5&&s(a())},s=async u=>{T?.profile?.agencyStore?.id;let _=`${u}`,f=await le(_),h=te(f)?.[0],l=`${h} `,r=await he(l),o=0,v=0;te(r)?.map(k=>{r[k]?.products?.map(I=>{h===I?.product?.id&&(o+=I?.price*1*I?.qty*1,v+=I?.qty*1)})});let w=1,y={};C?.manifestObj?.products?.map(k=>{let I={...k};h===k.product.id&&(I.qty=I.qty*-1),y[k.product.id]=I}),y?.[h]&&(w=y?.[h].qty*1+1);const P=v?o/v:0;if(y?.[h])y[h].qty=w*-1;else{let k={product:{id:h,label:f?.[h]?.name,code:f?.[h]?.code},qty:w*-1,price:P,salePrice:f?.[h]?.salePrice};y[h]=k}let q=ae(y);B("manifestObj","products",q),c(""),pe({text:f?.[h]?.name+" agregado al carrito",timeout:3500,theme:"blue",id:ce()})},[i,{refetch:b}]=Ie(a,async u=>{if(p()===2&&u.length>3){const _=await le(u);let f=[];return te(_).map(h=>{let l=_[h];f.push(l)}),f}else return[]}),g=()=>{c(""),$(2)};return(()=>{var u=Ze(),_=u.firstChild,f=_.firstChild,h=f.firstChild,l=h.nextSibling,r=l.firstChild,o=r.nextSibling;return t(f,n(S,{get when(){return i()?.length>0},get children(){var v=Xe();return t(v,n(K,{get each(){return i()},children:(w,y)=>n(ht,{itm:w,clearTx:g})})),v}}),l),t(l,n(R,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return a()},placeholder:"buscar productos ...",colors:"#2b2b2b",handleClick:c,onEnter:d}),r),r.$$click=()=>$(1),t(r,n(re,{name:"qrcode-scan",size:22,get color(){return p()===1?"#646cff":""}})),o.$$click=()=>$(2),t(o,n(re,{name:"keyboard",size:22,get color(){return p()===2?"#646cff":""}})),u})()},ht=e=>{const[a,c]=D(),p=()=>a?.prod?.productImageUrl?me()+be()+"/"+a?.prod?.productImageUrl:null;X(()=>{c("prod",e?.itm)});const $=async d=>{T?.profile?.agencyStore?.id;let s=a?.prod?.ssg_product_key,i=`${s}`,b=await he(i),g=0,u=0;te(b)?.map(r=>{b[r]?.products?.map(o=>{s===o?.product?.id&&(g+=o?.price*1*o?.qty*1,u+=o?.qty*1)})});let _=1,f={};C?.manifestObj?.products?.map(r=>{let o={...r};s===r.product.id&&(o.qty=o.qty*-1),f[r.product.id]=o}),f?.[s]&&(_=f?.[s].qty*1+(d||1));const h=u?g/u:0;if(f?.[s])f[s].qty=_*-1;else{let r={product:{id:s,label:a?.prod?.name,code:a?.prod?.code},qty:_*-1,price:h,salePrice:a?.prod?.salePrice};f[s]=r}let l=ae(f);B("manifestObj","products",l),e?.clearTx(),pe({text:a?.prod?.name+" agregado al carrito",timeout:3500,theme:"blue",id:ce()})};return n(S,{get when(){return e?.itm?.name},get children(){var d=et(),s=d.firstChild,i=s.firstChild,b=i.firstChild,g=b.firstChild,u=g.firstChild,_=g.nextSibling,f=_.firstChild,h=f.firstChild,l=h.firstChild;l.firstChild;var r=f.nextSibling,o=r.firstChild,v=o.nextSibling,w=v.firstChild;return w.firstChild,t(l,()=>e?.itm?.name,null),t(o,n(Y,{color:"#646cff",label:"Agregar",handleClick:$})),t(w,()=>(e?.itm?.salePrice*1).toFixed(2),null),G(()=>se(u,"src",p())),d}})},ee=(e,a)=>a?(()=>{var c=tt(),p=c.firstChild,$=p.nextSibling;return t(p," "+e),t($,a),c})():"",pt=e=>(()=>{var a=lt();return t(a,()=>ee("Calle",e?.ybstreet),null),t(a,()=>ee("#",e?.ybstreetNo),null),t(a,()=>ee("E/",e?.ybbetwen1),null),t(a,()=>ee("y",e?.ybbetwen2),null),a})(),z=e=>e?e*1:0,j=e=>e?e.toString().toUpperCase().trim():"";function gt(e){return(()=>{var a=rt(),c=a.firstChild,p=c.nextSibling,$=p.nextSibling,d=$.nextSibling;return a.style.setProperty("max-height","80vh"),a.style.setProperty("overflow","auto"),a.style.setProperty("background","#fff"),a.style.setProperty("border-radius","11px"),a.style.setProperty("padding"," 0 21px"),c.style.setProperty("padding","21px"),t(d,n(ne,{}),null),t(d,n(Y,{color:"#646cff",icon:"send",label:"Enviar",get handleClick(){return e.confirm}}),null),G(s=>(s=fe()?"96vw":"420px")!=null?a.style.setProperty("width",s):a.style.removeProperty("width")),a})()}const _t=e=>{const[a,c]=L(!1),[p,$]=L(""),d=()=>{e?.updItem(e?.key,p()),c(!1)},s=()=>{let i=a();i||$(e?.value),c(!i)};return(()=>{var i=it(),b=i.firstChild,g=b.firstChild;return g.firstChild,g.$$click=s,t(g,()=>e?.label,null),t(b,n(S,{get when(){return a()},get fallback(){return n(S,{get when(){return e?.value},get children(){var u=st(),_=u.firstChild;return t(_,()=>e?.value),u}})},get children(){return n(R,{width:"110px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return p()||""},get placeholder(){return e?.label},colors:"#2b2b2b",handleClick:u=>$(u),onEnter:d})}}),null),i})()};Pe(["click"]);export{_t as EditInput,At as default,mt as fetchCSVInve,pt as getAddress,z as isValNum,Tt as loadInventory,Nt as updConfirmSale};
