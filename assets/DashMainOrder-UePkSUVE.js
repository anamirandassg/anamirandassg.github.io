const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-ztrFAOUC.js","assets/index-CjD_SJv6.js","assets/index-BRlA1Q7g.css","assets/SVG-BTQp7fHh.js","assets/Util-CJwQ4eI5.js","assets/LoadingColorSpinner-CxI4rENH.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-Bxqyphuy.js","assets/InputHr-BXFw4d2l.css","assets/ButonHrm-oe0_tTp-.js","assets/ButonHrm-BSeWNUGQ.css","assets/PickDate-CSaGAHEC.js","assets/DialogHRM-DL1Dh61x.js","assets/DialogHRM-V9_lZntj.css"])))=>i.map(i=>d[i]);
import{l as E,_ as B,c as F,a as y,o as Z,b as ee,d as Y,i as n,e as l,u as te,S as L,g as O,f as K,s as re,h as le,t as x,j as oe}from"./index-CjD_SJv6.js";import{g as I,f as P,i as ne,a as N,b as j,O as J,c as se}from"./Util-CJwQ4eI5.js";import"./browser-image-compression-BVJ4p9S0.js";import{OpenToast as D}from"./Toast-CfX-K1g6.js";import"./AddInventory-DU0QaG4Q.js";import"./fontkit.es-yAesCE8D.js";import"./qrcode-DHy8FFhS.js";import{u as Q}from"./debounces-Bk13QwKY.js";import{OpenModal as ae,CloseModal as ie}from"./DialogHRM-DL1Dh61x.js";import"./DashProducts-BzomssoY.js";import"./App.module-CbHnVtRQ.js";import"./FlexSpace-ztrFAOUC.js";var ce=x('<div style="padding:50px 0 0 0"><section class="qsuVSc mainM">'),de=x('<section class="bLl6je "><section class="dvPdhb "><div class="QCNFEe centerBx"><p class=jhB0af>Confirmar</p></div><section class="EMijzc centerBx">'),be=x('<section class="Mijzc12 blue_datepick">'),ue=x('<section class=KgyCAd><section class=WirBi><div class="QCNFEe centerBx"><p class=jhB0af>Quien envia</p><section class=JpKBkb><button class=yjHiqb><span>Buscar coincidencias</span></button></section></div><section class="EMijzc "><section class="Mijzc12 "></section><section class=Mijzc12>'),w=x('<section class="Mijzc12 centerBx flxWrp spaceAround">'),R=x("<div class=separator>"),pe=x('<section class="rtS8wf InvE "><div class=X3QHFf><section class=WirBi><section class=""><div class="QCNFEe centerBx"><p class=jhB0af>Quien recibe</p><section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Buscar coincidencias</span></button></section></section></div><div class=" centerBx flxWrp spaceAround"></div><section class="Mijzc12 centerBx "></section><section class="EMijzc centerBx"><section class=pFJUxe><section class=DHk3Fe>'),fe=x('<div class=save><div class="container savings"><div class="bento-text standardSubheading3">'),me=x('<div><div class=QCNFEe><p class=jhB0af>Confirmar Orden</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Desea enviar la orden</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">');const A=E(()=>B(()=>import("./FlexSpace-ztrFAOUC.js"),__vite__mapDeps([0,1,2]))),he=E(()=>B(()=>import("./SVG-BTQp7fHh.js"),__vite__mapDeps([3,1,2,4])));E(()=>B(()=>import("./LoadingColorSpinner-CxI4rENH.js"),__vite__mapDeps([5,1,2,6])));const m=E(()=>B(()=>import("./InputHr-Bxqyphuy.js"),__vite__mapDeps([7,1,2,8]))),W=E(()=>B(()=>import("./ButonHrm-oe0_tTp-.js"),__vite__mapDeps([9,1,2,3,4,10]))),ve=E(()=>B(()=>import("./PickDate-CSaGAHEC.js"),__vite__mapDeps([11,1,2,12,13,4]))),[Fe,Le]=F({items:{}}),Qe="348723orh2idsffs";let Ce={name:"",phoneNumberS:"",dob:""},_e={firstName:"",lastName:"",lastName2:"",middleName:"",email:"",phoneNumber:"",altPhoneNumber:"",cid:"",ybstreetNo:"",ybstreet:"",ybbetwen1:"",ybbetwen2:"",ybapt:"",ybreparto:""};const[S,V]=F(Ce),[f,H]=F(_e);function Te(){y(0),y("");const[s,r]=y("");Q(r,400),Z(()=>{}),ee(()=>{}),Y(()=>{o()});const o=async()=>{};return(()=>{var b=ce(),e=b.firstChild;return n(e,l(ge,{}),null),n(e,l(ye,{}),null),n(e,l(xe,{}),null),b})()}const ge=s=>{const r=te(),o=async t=>{let c=new Date,_=N(),p=Object.assign({},j(S),j(f)),$={type:"SALES",invoice:c.getFullYear()+se(12),description:"",store:O?.profile?.agencyStore?.id,ssg_inventory_key:_,ssg_sorder_key:_,createDate:c.getTime(),shipper_consignee:p,packagesOrder:!0,businessId:O?.profile?.businessYId},a={params:{businessId:O?.profile?.businessYId},form:$},u=I(431005),C={...a,...u};(await P(C))?.error||(ie(t),r("/orders",{replace:!0}))},b=()=>{let t=N(),c={};c.id=t,c.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},c.content=l(ke,{modalId:t,completeOrder:()=>o(t)}),ae(c)},e=()=>{let t=Object.assign({},j(S),j(f));return t.name&&t.phoneNumberS&&t.phoneNumber&&t.cid&&t.firstName&&t.lastName&&t.lastName2&&t.ybstreet};return l(L,{get when(){return e()},get children(){var t=de(),c=t.firstChild,_=c.firstChild,p=_.nextSibling;return n(p,l(A,{}),null),n(p,l(W,{color:"#1967d2",placeholder:"Enviar Orden",icon:"outline_cart",handleClick:b}),null),t}})},ye=s=>{const[r,o]=y(""),[b,e]=y(0),t=Q(o,400),c=async()=>{let p=S?.phoneNumberS;if(!(typeof p!="number"&&!isNaN(p)&&p.length===10)){D({text:p+" no es un numero de telefono valido ",timeout:3500,theme:"red",id:N()}),e(1);return}let a=await $e(p),u=J(a)?.[0];if(a?.[u]?.name?.toLowerCase()?.indexOf(S?.name?.toLowerCase())>=0){let h=a?.[u]?.dob.split("-"),v=new Date(h[1]+"/"+h[2]+"/"+h[0]);V({dob:v,name:a?.[u]?.name,phoneNumberS:a?.[u]?.phoneNumber}),e(1)}else{D({text:" la informacion no coincide ",timeout:3500,theme:"red",id:N()}),e(1);return}},_=(p,$)=>{V({[p]:$}),t(N())};return(()=>{var p=ue(),$=p.firstChild,a=$.firstChild,u=a.firstChild,C=u.nextSibling,h=C.firstChild,v=a.nextSibling,k=v.firstChild,M=k.nextSibling;return n(a,l(A,{}),C),h.$$click=c,n(v,l(U,{placeholder:"buscar coincidencias con su numero de telefono y apellido",icon:"info",backColor:"#edf4fd",color:"#1967d2"}),k),n(k,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"numero de telefono",colors:"#2b2b2b",type:"number",handleClick:g=>_("phoneNumberS",g),get value(){return S?.phoneNumberS},validations:{required:!0,number:!0},index:1})),n(M,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Apellido",colors:"#2b2b2b",handleClick:g=>_("name",g),get value(){return S?.name},validations:{required:!0},index:2})),n(v,l(L,{get when(){return b()},get children(){var g=be();return n(g,l(ve,{get init(){return S?.dob},placeholder:"Fecha de nacimiento",updDate:q=>_("dob",q)})),g}}),null),p})()},xe=s=>{const[r,o]=y(""),b=Q(o,400),e=(u,C)=>{H({[u]:C}),b(N())};y("");const[t,c]=y(0),[_,p]=y("");Y(()=>{p(O?.profile?.agencyStore?.id)});const $=async()=>{let u=f?.cid;if(!(typeof u!="number"&&!isNaN(u)&&u.length===11)){D({text:u+" no es un carnet de identidad valido ",timeout:3500,theme:"red",id:N()}),c(1);return}let h=await Ne(u),v=J(h)?.[0];if(h[v]?.cid)console.log(h[v]),H(h[v]),c(1);else{c(1),D({text:"no encontramos ninguna coincidencia ",timeout:3500,theme:"red",id:N()});return}};let a=3;return(()=>{var u=pe(),C=u.firstChild,h=C.firstChild,v=h.firstChild,k=v.firstChild,M=k.firstChild,g=M.nextSibling,q=g.firstChild,G=q.firstChild,T=k.nextSibling,z=T.nextSibling,X=z.nextSibling;return n(k,l(A,{}),g),G.$$click=$,n(T,l(U,{placeholder:"buscar coincidencias con el carnet identidad",icon:"info",backColor:"#edf4fd",color:"#1967d2"})),n(z,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",colors:"#2b2b2b",placeholder:"carnet de identidad",handleClick:i=>e("cid",i),get value(){return f?.cid},validations:{required:!0,number:!0,cid:!0},index:1+a})),n(v,l(L,{get when(){return t()===1},get children(){return[(()=>{var i=w();return n(i,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",colors:"#2b2b2b",placeholder:"1er nombre",handleClick:d=>e("firstName",d),get value(){return f?.firstName},validations:{required:!0},index:2+a}),null),n(i,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"2do nombre",colors:"#2b2b2b",handleClick:d=>e("middleName",d),get value(){return f?.middleName},index:3+a}),null),i})(),(()=>{var i=w();return n(i,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"1er Apellido",colors:"#2b2b2b",handleClick:d=>e("lastName",d),get value(){return f?.lastName},validations:{required:!0},index:4+a}),null),n(i,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"2do Apellido",colors:"#2b2b2b",handleClick:d=>e("lastName2",d),get value(){return f?.lastName2},validations:{required:!0},index:5+a}),null),i})(),R(),(()=>{var i=w();return n(i,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Telefono Principal",colors:"#2b2b2b",handleClick:d=>e("phoneNumber",d),get value(){return f?.phoneNumber},validations:{required:!0,number:!0,cubaphone:!0},index:6+a}),null),n(i,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Telefono Alternativo",colors:"#2b2b2b",handleClick:d=>e("altPhoneNumber",d),get value(){return f?.altPhoneNumber},validations:{required:!1,number:!0,cubaphone:!0},index:7+a}),null),i})(),R(),(()=>{var i=w();return n(i,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Calle",colors:"#2b2b2b",handleClick:d=>e("ybstreet",d),get value(){return f?.ybstreet},validations:{required:!0},index:8+a}),null),n(i,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"No Calle",colors:"#2b2b2b",handleClick:d=>e("ybstreetNo",d),get value(){return f?.ybstreetNo},validations:{required:!0},index:9+a}),null),i})(),(()=>{var i=w();return n(i,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Entre calle",colors:"#2b2b2b",handleClick:d=>e("ybbetwen1",d),get value(){return f?.ybbetwen1},index:10+a}),null),n(i,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Y calle",colors:"#2b2b2b",handleClick:d=>e("ybbetwen2",d),get value(){return f?.ybbetwen2},index:11+a}),null),i})(),(()=>{var i=w();return n(i,l(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Reparto",colors:"#2b2b2b",handleClick:d=>e("ybreparto",d),get value(){return f?.ybreparto},index:12+a})),i})()]}}),X),u})()},ze=async(s,r)=>{let o={params:{businessId:O?.profile?.businessYId}};s&&s.split(" ").map((t,c)=>{t&&(o.params[":search"+c]=t.trim())});let b=I(122001);o={...o,...b},o.params[":search0"];const e=await P(o);return e?.error?{}:e},Re=s=>new Promise((r,o)=>{ne.get(s,function(e,t){r(t)})}),Ve=async(s,r)=>{let o={params:{businessId:O?.profile?.businessYId,":store":r.trim()}};s&&s.split(" ").map((t,c)=>{t&&(o.params[":search"+c]=t.trim())});let b=I(132001);o={...o,...b},o.params[":search0"];const e=await P(o);return e?.error?{}:e},$e=async s=>{if(s.length===10){let r={params:{}};s&&s.split(" ").map((e,t)=>{e&&(r.params[":search"+t]=e.trim())});let o=I(421001);return r={...r,...o},await P(r)}else return{}},Ne=async s=>{if(s.length===11){let r={params:{}};s&&s.split(" ").map((e,t)=>{e&&(r.params[":search"+t]=e.trim())});let o=I(401001);return r={...r,...o},await P(r)}else return{}},U=s=>{const r=()=>({"--bento-badge-background-color":s?.backColor,"--bento-badge-text-color":s?.color});return(()=>{var o=fe(),b=o.firstChild,e=b.firstChild;return n(b,l(he,{get name(){return s.icon},size:16,color:"var(--bento-badge-text-color)"}),e),n(e,()=>s.placeholder),K(t=>re(o,r(),t)),o})()};function ke(s){return(()=>{var r=me(),o=r.firstChild,b=o.nextSibling,e=b.nextSibling,t=e.nextSibling;return r.style.setProperty("max-height","80vh"),r.style.setProperty("overflow","auto"),r.style.setProperty("background","#fff"),r.style.setProperty("border-radius","11px"),r.style.setProperty("padding"," 0 21px"),n(t,l(A,{}),null),n(t,l(W,{color:"#646cff",icon:"send",placeholder:"Completar Orden",get handleClick(){return s.completeOrder}}),null),K(c=>(c=oe()?"96vw":"420px")!=null?r.style.setProperty("width",c):r.style.removeProperty("width")),r})()}le(["click"]);export{Ve as LookupInventory,ze as LookupProducts,Te as default,Re as getCartId,Fe as inventoryItems,Qe as inventoryKey,Le as setInventoryItems};
