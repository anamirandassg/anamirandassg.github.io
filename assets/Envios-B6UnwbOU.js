const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-B7mb3eud.js","assets/index-BzMSixM3.js","assets/index-DGHHyjai.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-ueI2US6u.js","assets/InputHr-M3rJ9grQ.css","assets/SVG-DcD881Yz.js","assets/index-Ci0zXM0r.js","assets/DropDwnSearch-Ctn2SIHd.js","assets/debounces-CIuAnbJ2.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ContainerElasticView-BmrFhDVJ.js","assets/ContainerElasticView-LzOd6fDI.css","assets/ButonHrm-COCrj24w.js","assets/Util-uEfv1z7O.js","assets/ButonHrm-BSeWNUGQ.css","assets/CheckBoxSlide-DlDn29nH.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/ItemOnEnvios-MX27cNdI.js","assets/DialogHRM-DS0SEjGv.js","assets/DialogHRM-V9_lZntj.css","assets/globalSignal-Bm3JLTSv.js","assets/ShowQRPrintLabel-Ddttvdp2.js","assets/fontkit.es-DEjOtITv.js","assets/qrcode-C5vWJp7P.js","assets/InitPrintServices-2OOIWYuu.js","assets/Toast-D0pPohcN.js","assets/Toast-DLpFKn-Q.css","assets/ShowPdfResume-Dvej_4rQ.js"])))=>i.map(i=>d[i]);
import{l as A,_ as D,c as ne,a as M,o as Re,h as Te,b as je,m as qe,i as r,d as t,f as q,e as Qe,t as f,k as le,S as h,j as We,E as ce,q as Z,F as K,g as ee,s as Ye,r as te}from"./index-BzMSixM3.js";import{b as Q,e as he,f as re,a as O,O as j,g as G,h as He,s as Xe}from"./Util-uEfv1z7O.js";import{u as Ue}from"./debounces-CIuAnbJ2.js";import{i as H}from"./globalSignal-Bm3JLTSv.js";import{g as ue,l as Je}from"./ShowQRPrintLabel-Ddttvdp2.js";import"./Toast-D0pPohcN.js";import{OpenModal as Ke}from"./DialogHRM-DS0SEjGv.js";import"./index-Ci0zXM0r.js";import"./fontkit.es-DEjOtITv.js";import"./qrcode-C5vWJp7P.js";import"./InitPrintServices-2OOIWYuu.js";var Ze=f("<div style=padding:4px>"),J=f('<div class="icon_status centerBx">'),et=f('<div class="centerBx bottombx"style=margin-top:10px;><h5>Duplicados'),tt=f('<div><div class="centerBx bottombx "><h5 class="">Manifiesto Incorrecto'),rt=f('<div><div class="_dsplFlx flxWrp spaceAround ">'),nt=f('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround "><div class="icon_status centerBx"></div><div class="icon_status centerBx">'),lt=f('<div><div class="centerBx100 centerBx"><div class=plans></div></div><div class="icon_status centerBx">'),st=f('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2><div class="centerBx bottombx"style=margin-top:10px;><h4></h4></div><div class="centerBx bottombx "><h5 class="">Mostrar Envios</h5></div></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div>'),de=f("<div> <!>."),ge=f("<div> "),it=f("<div class=centerBx><h5 style=margin-left:12px>generando excel"),me=f("<div class=centerBx><h5 style=margin-left:12px>generando etiquetas"),at=f("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),_e=f("<h5 class=totalBagsNo> <!> / "),fe=f('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),ve=f("<div class=leftMrg> "),ot=f("<div class=bottombx><h4>"),ct=f('<div class="_dsplFlx bottombx lowbordr"><div class=" bottombx spaceAround centerBx"><h5> :</h5><h4>'),ut=f("<div style=padding:16px;margin-left:20px;>"),dt=f("<div>"),gt=f('<div class="bottombx left centerBx"style=text-align:left;><h4></h4><h5>');const L=A(()=>D(()=>import("./LoadingColorSpinner-B7mb3eud.js"),__vite__mapDeps([0,1,2,3]))),mt=A(()=>D(()=>import("./InputHr-ueI2US6u.js"),__vite__mapDeps([4,1,2,5]))),P=A(()=>D(()=>import("./SVG-DcD881Yz.js"),__vite__mapDeps([6,1,2,7]))),ht=A(()=>D(()=>import("./DropDwnSearch-Ctn2SIHd.js"),__vite__mapDeps([8,1,2,9,6,7,10]))),_t=A(()=>D(()=>import("./ContainerElasticView-BmrFhDVJ.js"),__vite__mapDeps([11,1,2,6,7,12]))),ft=A(()=>D(()=>import("./ButonHrm-COCrj24w.js"),__vite__mapDeps([13,1,2,6,7,14,15]))),se=A(()=>D(()=>import("./CheckBoxSlide-DlDn29nH.js"),__vite__mapDeps([16,1,2,17]))),vt=A(()=>D(()=>import("./ItemOnEnvios-MX27cNdI.js"),__vite__mapDeps([18,1,2,14,7,19,20,11,6,12,21,22,23,24,25,26,27]))),bt=A(()=>D(()=>import("./ShowPdfResume-Dvej_4rQ.js"),__vite__mapDeps([28,1,2,21,22,23,7,24,25,14,26,27])));function Vt(){const[e,i]=ne({list:{manifest:{id:"",label:""},search:"",status:""}}),[n,a]=ne({}),[d,o]=ne({}),[k,x]=M(""),[g,W]=M(!1),[X,E]=M(64),[B,N]=M(!1),[V,U]=M(!1),[$e,pe]=M(""),z=Ue(x,500),[ye,It]=M(!1),[ke,ie]=M(!1),[xe,ae]=M(!1),Y=(c,l)=>{i("list",{[c]:l}),z(G())},Ce=()=>{N(!B()),z(G())},we=()=>{W(!g()),z(G())},Se=()=>{U(!V()),z(G())};Re(()=>{}),Te(()=>{});const Ie=()=>{E(c=>c+64)},Me=c=>{let l=Math.ceil(c?.length/64);Xe(Ie,1250,l)},[F,{refetch:Mt}]=je(k,async c=>{a(void 0),o("prov",void 0);let l=e?.list?.manifest?.id;$e()!==l&&pe(l);let I={},C=[],y={};var w={};if(l&&(I=await kt(l)),!g())a(I?.sumary),o("prov",I?.provinceGroup);else{w=await yt(e?.list?.search,l,e?.list?.status,e?.list?.estate,e?.list?.city),a(I?.sumary),E(0);let T={};B()?j(w).map(p=>{let b=w[p],$=b?.estate||b?.consigneeInfo?.ybestate;T[p]?C.push(b):T[p]=1,O("M023009")?.ZoneCity?.[b?.zone]?.[$]||C.push(b)}):V()?j(w).map(p=>{let b=w[p];b?.estate||b?.consigneeInfo?.ybestate,b?.bagnumber||C.push(b)}):(j(w).map(p=>{let b=w[p],$=b?.estate||b?.consigneeInfo?.ybestate,s=b?.city||b?.consigneeInfo?.ybcity;($||s)&&(y[$]||(y[$]={cities:{},total:0}),y[$].cities?.[s]||(y[$].cities[s]=0),y[$].cities[s]+=1,y[$].total+=1),C.push(b)}),o("prov",y)),Me(C)}return C}),oe=()=>F()?.length,Ee=c=>{i("list",{manifest:c,status:void 0}),z(G())},Be=()=>{Ct(F())},Ge=()=>{wt(F())},Pe=()=>{},Ae=(c,l)=>{Y("estate",c),Y("city",l)},De=(c,l)=>{i("list",{estate:void 0,city:void 0}),z(G())},R=c=>c?" "+c:"",Oe=c=>{let l=c?.consigneeInfo;return R(l?.firstName)+R(l?.middleName)+R(l?.lastName)+R(l?.lastName2)},ze=c=>{let l=c?.consigneeInfo,I=R(l?.altPhoneNumber);return R(l?.phoneNumber)+(I?" | "+I:"")},Fe=async()=>{let c=[];ae(!0),setTimeout(async()=>{let l=4,I=619124,C=[],y=new Date().getFullYear().toString().slice(2,4);for(let p=0;p<l;p++)C.push(p);const w=C.map(async(p,b)=>{let $=I+p*2,s=$+1;const _=await ue("Y"+y+$),m=await ue("Y"+y+s);let v={mtrx:_,mtrx2:m,lbl:"Y"+y+$,lbl2:"Y"+y+s};c.push(v)});await Promise.all(w);let T=await Je(c);window.open(T),ae(!1)},760)},Le=async()=>{ie(!0);let c=[];F().map(async(l,I)=>{let C=l?.estate||l?.consigneeInfo?.ybestate,y=l?.city||l?.consigneeInfo?.ybcity,w={provincia:C,ciudad:y,nombre:Oe(l),telefonos:ze(l),guia:l?.idairguide,bulto:l?.bagnumber,hbls:l?.hblS};c.push(w)}),He(`listas_caneados_${G()}.csv`,c),ie(!1)},Ne=c=>{let l={};l.id=G(),l.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},l.content=t(bt,{get list(){return F()}}),Ke(l)},Ve=async c=>{await xt(e?.list?.manifest?.id)};return qe(()=>{}),(()=>{var c=st(),l=c.firstChild,I=l.firstChild,C=I.nextSibling,y=C.firstChild,w=C.nextSibling,T=w.firstChild,p=l.nextSibling,b=p.firstChild,$=p.nextSibling;return r(y,()=>e?.list?.manifest?.id),r(w,t(se,{get initValue(){return g()},updChange:we,color:"var(--background-red-ssg)"}),T),r(c,t(h,{get when(){return le?.profile?.isAdmin},get children(){return t(ft,{color:"rgb(200 25 60 / 1)",label:"updManifest",handleClick:Be})}}),p),r(b,t(ht,{get list(){return O("M023009")?.manifestList},lbl_empty:"Guia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:s=>Ee(s),width:"260px"})),r(p,t(h,{get when(){return We(()=>!!e?.list?.manifest?.id)()&&g()},get children(){return[(()=>{var s=Ze();return r(s,t(mt,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return e?.list?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:_=>Y("search",_)})),s})(),(()=>{var s=tt(),_=s.firstChild,m=_.firstChild;return r(_,t(se,{get initValue(){return B()},updChange:Ce,color:"var(--background-red-ssg)"}),m),r(s,t(h,{get when(){return le?.profile?.isAdmin},get children(){var v=et(),u=v.firstChild;return r(v,t(se,{get initValue(){return V()},updChange:Se,color:"var(--background-red-ssg)"}),u),r(v,t(h,{get when(){return V()},get children(){var S=J();return S.$$click=Ge,r(S,t(P,{name:"outline_delete",size:24})),S}}),null),v}}),null),s})()]}}),null),r($,t(h,{get when(){return e?.list?.manifest?.id},get children(){var s=rt(),_=s.firstChild;return r(_,t(ce,{fallback:m=>(()=>{var v=de(),u=v.firstChild,S=u.nextSibling;return S.nextSibling,r(v,()=>m.toString(),S),v})(),get children(){return t(Z,{get fallback(){return(()=>{var m=ge();return m.firstChild,r(m,t(L,{stroke:"rgb(200 25 60 / 1)",size:62}),null),m})()},get children(){return t(h,{get when(){return n?.total},get children(){return t(K,{get each(){return j(n)},children:(m,v)=>H()?t(pt,{keyG:m,total:oe,get status(){return e?.list?.status},get amount(){return n?.[m]},get showItems(){return g()},updForm:Y}):t($t,{keyG:m,total:oe,get showItems(){return g()},get status(){return e?.list?.status},get amount(){return n?.[m]},updForm:Y})})}})}})}})),q(()=>ee(s,`client_item_box gWXAaj jlytmu ${H()?"isMobile":""}`)),s}}),null),r($,t(h,{get when(){return le?.profile?.isAdmin},get children(){var s=nt(),_=s.firstChild,m=_.firstChild,v=m.nextSibling;return r(_,t(h,{get when(){return g()},get children(){return t(h,{get when(){return!ke()},get fallback(){return(()=>{var u=it(),S=u.firstChild;return r(u,t(L,{stroke:"rgb(200 25 60 / 1)",size:32}),S),u})()},get children(){var u=J();return u.$$click=Le,r(u,t(P,{name:"grid",size:24,color:"firebrick"})),u}})}}),m),r(_,t(h,{get when(){return!xe()},get fallback(){return(()=>{var u=me(),S=u.firstChild;return r(u,t(L,{stroke:"rgb(200 25 60 / 1)",size:32}),S),u})()},get children(){var u=J();return u.$$click=Fe,r(u,t(P,{name:"printer",size:24,color:"firebrick"})),u}}),m),m.$$click=Ve,r(m,t(P,{name:"tag-outline",size:24})),v.$$click=Pe,r(v,t(P,{name:"outline_renew",size:24})),r(_,t(h,{get when(){return!ye()},get fallback(){return(()=>{var u=me(),S=u.firstChild;return r(u,t(L,{stroke:"rgb(200 25 60 / 1)",size:32}),S),u})()},get children(){var u=J();return u.$$click=Ne,r(u,t(P,{name:"printer",size:32})),u}}),null),s}}),null),r($,t(h,{get when(){return d?.prov},get children(){var s=lt(),_=s.firstChild,m=_.firstChild,v=_.nextSibling;return r(m,t(h,{get when(){return d?.prov},get children(){return t(K,{get each(){return j(d?.prov)},children:(u,S)=>t(St,{ism:u,get item(){return d?.prov?.[u]},updS:Ae})})}})),v.$$click=De,r(v,t(P,{name:"Xclose",size:22})),q(()=>ee(s,`client_item_box gWXAaj jlytmu ${H()?"isMobile":""}`)),s}}),null),r($,t(ce,{fallback:s=>(()=>{var _=de(),m=_.firstChild,v=m.nextSibling;return v.nextSibling,r(_,()=>s.toString(),v),_})(),get children(){return t(Z,{get fallback(){return(()=>{var s=ge();return s.firstChild,r(s,t(L,{stroke:"rgb(200 25 60 / 1)",size:62}),null),s})()},get children(){return t(h,{get when(){return F()},get children(){return t(K,{get each(){return F()?.slice(0,X())},children:(s,_)=>t(vt,{item:s,refresh:()=>z(G())})})}})}})}}),null),q(s=>Ye($,` ${H()?"":"width:94vw;"} margin: 0 auto;`,s)),c})()}const $t=e=>{const[i,n]=M(!1),[a,d]=M(0),o=()=>{let g=e?.keyG;e?.keyG==="total"&&(g=null),e?.updForm("status",g)},k=()=>{i()||!H()&&e?.keyG!=="total"&&(d(O("M023009")?.statusObjDesc?.[e?.keyG]?.length*8.5+"px"),n(!0))},x=()=>{d("0px"),i()&&n(!1)};return t(h,{get when(){return e?.amount>0},get children(){return t(Z,{get fallback(){return(()=>{var g=ve();return g.firstChild,r(g,t(L,{stroke:"rgb(200 25 60 / 1)",size:32}),null),g})()},get children(){var g=fe(),W=g.firstChild,X=W.nextSibling;return g.$$mouseout=x,g.$$mousemove=k,g.$$click=o,r(g,t(h,{get when(){return i()},get children(){var E=at(),B=E.firstChild,N=B.firstChild,V=N.firstChild;return r(V,()=>O("M023009")?.statusObjDesc?.[e?.keyG]),q(U=>(U=a())!=null?B.style.setProperty("width",U):B.style.removeProperty("width")),E}}),W),r(W,t(P,{get name(){return O("M023009")?.statusListIcons?.[e?.keyG]},size:22})),r(g,t(h,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var E=_e(),B=E.firstChild,N=B.nextSibling;return N.nextSibling,r(E,()=>e?.total(),N),E}}),X),r(X,()=>e?.amount),q(()=>ee(g,`resumeStatus centerBx ${e?.keyG==="total"?"witXs":""}  ${e?.status===e?.keyG?"active":""}`)),g}})}})},pt=e=>{const i=()=>{let n=e?.keyG;e?.keyG==="total"&&(n=null),e?.updForm("status",n)};return t(h,{get when(){return e?.amount>0},get children(){return t(Z,{get fallback(){return(()=>{var n=ve();return n.firstChild,r(n,t(L,{stroke:"rgb(200 25 60 / 1)",size:32}),null),n})()},get children(){var n=fe(),a=n.firstChild,d=a.nextSibling;return n.$$click=i,r(a,t(P,{get name(){return O("M023009")?.statusListIcons?.[e?.keyG]},size:22})),r(n,t(h,{get when(){return O("M023009")?.statusObjDesc?.[e?.keyG]},get children(){var o=ot(),k=o.firstChild;return r(k,()=>O("M023009")?.statusObjDesc?.[e?.keyG]),o}}),d),r(n,t(h,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var o=_e(),k=o.firstChild,x=k.nextSibling;return x.nextSibling,r(o,()=>e?.total(),x),o}}),d),r(d,()=>e?.amount),q(()=>ee(n,`resumeStatus centerBx  spaceAround ${e?.status===e?.keyG?"active":""}`)),n}})}})},yt=async(e,i,n,a,d)=>{let o={params:{idairguide:i,":search5":i},fldsQry:["street","agency","idairguide","currentStatus","cidentity","ssg_track_key","bagnumber","tracking","estate","city","zone","consigneeInfo:phoneNumber","consigneeInfo:altPhoneNumber","consigneeInfo:firstName","consigneeInfo:middleName","consigneeInfo:lastName","consigneeInfo:ybestate","consigneeInfo:ybcity","deliveryUserId","deliveryTime"]};e&&e.split(" ").map((x,g)=>{x&&(o.params[":search"+g]=x.trim())}),n&&(o.params[":status"]=n),a&&(o.params[":estate"]=a),d&&(o.params[":city"]=d),te?.roles?.agency&&(o.params[":agency"]=te?.roles?.agency+"");let k=Q(802001);if(o={...o,...k},i&&Object.keys(o.params)?.length>=2){const x=await re(o);return x?.data?.error?{}:x}return{}},kt=async e=>{let i={params:{idairguide:e}},n=Q(802004);i={...i,...n},te?.roles?.agency&&(i.params[":agency"]=te?.roles?.agency+"");const a=await re(i);return a?.error?{}:a},xt=async e=>{let i={params:{idairguide:e,":search5":e,checkDuplicate:!0},fldsQry:["street"]},n=Q(802001);i={...i,...n};const a=await re(i);return a?.error?{}:a},Ct=async e=>{e.map(i=>{let n={params:{id:i?.ssg_track_key,idairguide:i?.idairguide}},a=Q(802002);n={...n,...a}})},wt=async e=>{let i=[];e.map(n=>{let a={params:{ssg_track_key:n?.ssg_track_key,idairguide:n?.idairguide}},d=Q(809005);a={...a,...d},i.push(a)}),he(i,be)},Rt=async(e,i)=>{let n=[];e.map(a=>{let d={params:{ssg_track_key:a?.ssg_track_key,idairguide:a?.idairguide},data2update:{currentStatus:i}},o=Q(802004);d={...d,...o},n.push(d)}),he(n,be)},be=async e=>{const n=await re(e);if(n)return n},St=e=>(()=>{var i=dt();return r(i,t(h,{get when(){return e?.item?.total>0},get children(){var n=ct(),a=n.firstChild,d=a.firstChild,o=d.firstChild,k=d.nextSibling;return a.$$click=()=>e?.updS(e?.ism),r(d,()=>e?.ism,o),r(k,()=>e?.item?.total),n}}),null),r(i,t(_t,{get children(){var n=ut();return r(n,t(h,{get when(){return e?.item?.cities},get children(){return t(K,{get each(){return j(e?.item?.cities)},children:(a,d)=>(()=>{var o=gt(),k=o.firstChild,x=k.nextSibling;return o.$$click=()=>e?.updS(e?.ism,a),r(k,a),r(x,()=>e?.item?.cities?.[a]),o})()})}})),n}}),null),i})();Qe(["click","mousemove","mouseout"]);export{$t as StatusGroupItem,Vt as default,wt as deleteManifest,be as fetchCSVInve,Ct as loadManifest,Rt as updateManifest};
