const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-Bqi6dCjg.js","assets/index-BVfadb6y.js","assets/index-DI_XrWgU.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-DAw4euwU.js","assets/InputHr-BXFw4d2l.css","assets/SVG-LCo5ObZa.js","assets/CheckBoxSlide-ajo7he9w.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{l as u,_ as g,a as c,c as R,o as j,d as M,i,e as l,Y as V,S as d,H as v,f as x,s as L,r as W,t as _,Z as z,k as A,W as F,v as $,n as H,p as X,O as q}from"./index-BVfadb6y.js";import{OpenToast as E}from"./Toast-C1SPobmY.js";import{setManifestScan as G,manifestScan as K}from"./LinkScanManifest-DhqnaK1w.js";import{i as Q,l as Z}from"./DashManifest-Cio9i0_S.js";import"./App.module-CbHnVtRQ.js";import"./DialogHRM-DfFAgRQ9.js";import"./ScanningServices-B_vrpZcB.js";var N=_('<div class="centerBx bottombx"style=margin-top:10px;><h5>show'),Y=_('<div class="_dsplFlx spaceAround flxWrp">'),J=_('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),U=_('<div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div class="icon_status centerBx">');let T=[300,80,300,80,300,80,300];u(()=>g(()=>import("./LoadingColorSpinner-Bqi6dCjg.js"),__vite__mapDeps([0,1,2,3])));const P=u(()=>g(()=>import("./InputHr-DAw4euwU.js"),__vite__mapDeps([4,1,2,5]))),w=u(()=>g(()=>import("./SVG-LCo5ObZa.js"),__vite__mapDeps([6,1,2]))),ee=u(()=>g(()=>import("./CheckBoxSlide-ajo7he9w.js"),__vite__mapDeps([7,1,2,8])));function me(y){const[o,b]=c(!1),[p,re]=R({}),[I,f]=c("");c("");const[h,se]=c(""),[C,B]=c(""),[S,ae]=c("");j(()=>{}),M(()=>{Q(),Z()});const k=async t=>{t.split("-").length>3&&(t=t.split("-").join("")),t?.split("/")?.length>=5&&(t=t?.split("/")?.[3]),t=t.split(",")?.[0]?.trim(),t=t.split("'").join("-"),t=t.split(",").join("-"),t=t.split(";").join("-");let s=t.split("/")?.[0]?.trim(),n=s,e=null;if(z()){let r=A("manifestByHbls")?.[n];e=A("manifestByKeys")?.[r]}else e=await te(n);if(e?.cidentity){let r={};r.tracking=s,r.idairguide=e?.idairguide,r.ssg_track_key=e?.ssg_track_key,r.consigneeInfo=e?.consigneeInfo;let m=e?.address?.estate||e?.consigneeInfo?.ybestate;if(!F?.roles?.[m]?.isActive){E({text:"Zona incorrecta "+m,timeout:3500,theme:"red",id:$()}),f(""),navigator.vibrate(T);return}r.timeStamp=new Date().getTime(),G([...K(),r]),f("")}else E({text:"No se encontro ningun registro hbl "+n,timeout:3500,theme:"red",id:$()}),console.log({error:n})},O=async()=>{const a=C().split(",").map(async s=>{s&&await k(s)});Promise.all(a)};return(()=>{var t=U(),a=t.firstChild,s=a.nextSibling,n=s.firstChild;return i(t,l(d,{get when(){return V()},get children(){return[(()=>{var e=N(),r=e.firstChild;return i(e,l(ee,{get initValue(){return o()},updChange:b,color:"var(--background-red-ssg)"}),r),e})(),l(d,{get when(){return o()},get children(){var e=Y();return i(e,l(P,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--hrm-palette-tertiary80)",get value(){return C()},placeholder:"reply",colors:"#2b2b2b",handleClick:B,onEnter:O})),e}})]}}),a),a.style.setProperty("padding","16px"),i(a,l(d,{get when(){return S()},get children(){var e=J(),r=e.firstChild,m=r.nextSibling;return i(r,l(w,{get name(){return v?.[h()]?.icon},size:32,get color(){return v?.[h()]?.svg}})),i(m,()=>p?.consigneeInfo?.ybestate),x(D=>L(e,v?.[h()],D)),e}})),s.style.setProperty("padding","16px"),s.style.setProperty("margin-top","35px"),i(s,l(P,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--hrm-palette-tertiary80)",get value(){return I()},placeholder:"escanear o escribir hbl...",colors:"#2b2b2b",handleClick:f,onEnter:k}),n),n.$$click=()=>f(""),i(n,l(w,{name:"Xclose",size:32,color:"#2b2b2b"})),x(e=>(e=S()?"block":"none")!=null?a.style.setProperty("display",e):a.style.removeProperty("display")),t})()}const te=async y=>{let o={params:{idairguide:"all",":search0":y}},b=H(802001);o={...o,...b};const p=await X(o);return p?.[q(p)?.[0]]};W(["click"]);export{me as default};
