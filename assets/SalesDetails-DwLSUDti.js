const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-tymsiVXI.js","assets/index-CGUrKMLu.js","assets/index-B8bAFC38.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-BMTU2Wlw.js","assets/debounces-C1s7JakJ.js","assets/SVG-CAfbGfq5.js","assets/DropDwnSearch-DMkLkRPc.css","assets/CheckBoxSlide-kMD95f2F.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/FlexSpace-h0WTAOdc.js","assets/ButonHrm-CRhfRgQj.js","assets/ButonHrm-BSeWNUGQ.css","assets/UpdInventory-CJMHD0F2.js","assets/DialogHRM-HsynpYNi.js","assets/DialogHRM-V9_lZntj.css","assets/DashProducts-CSAUfUri.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InputHr-CF6qe29D.js","assets/InputHr-BXFw4d2l.css"])))=>i.map(i=>d[i]);
import{l as V,_ as F,c as L,G as Ie,a as z,o as we,b as Pe,d as K,i as t,e as n,S,F as le,n as Y,b0 as ke,J as Ae,E as oe,h as B,w as he,r as de,x as ue,j as R,k as U,U as Ee,C as qe,z as je,t as O,q as ae,p as W,b1 as fe,O as te,aj as ge,at as Te}from"./index-CGUrKMLu.js";import{u as Ne}from"./debounces-C1s7JakJ.js";import{OpenModal as Be}from"./DialogHRM-HsynpYNi.js";import{g as _e,a as $e}from"./handelImagesServices-DqBuo4qc.js";import{LookupInventory as ye}from"./DashInventoryMov-DiLUo93M.js";import{LookupProducts as ie}from"./DashProducts-CSAUfUri.js";import{a as De}from"./print_invoice_service-B-zsXfDZ.js";import{OpenToast as se}from"./Toast-DvUuFSAg.js";import"./browser-image-compression-BVJ4p9S0.js";import"./AddInventory-WM8SEeoA.js";import"./FlexSpace-h0WTAOdc.js";import"./App.module-CbHnVtRQ.js";import"./fontkit.es-95peULV2.js";import"./InitPrintServices-DQBQG4zX.js";import"./qrcode-DHy8FFhS.js";var Le=O('<div style="padding:50px 0"><section class=qsuVSc><section class=bLl6je><section class=dvPdhb>'),ve=O('<div style=margin:15px class=" spaceAround centerBx">'),Re=O('<section class=KgyCAd><section class=WirBi><div class=EMijzc><p class=jhB0af>Agregar reserva</p><section class="Jm2qx centerBx flxWrp spaceAround "><span class=label aria-hidden=true>Mercancia:</span><select class=RIw0b aria-label=merchandise></select><div class="centerBx bottombx "><h5 class="">Solo Arancel</h5></div></section><div style=margin:15px class=" spaceAround centerBx"><div style=margin:7px></div><div style=margin:7px>'),Ue=O('<section class=qsuVSc><section class=bLl6je><section class=dvPdhb></section></section><section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b">'),Ve=O("<option> "),Fe=O('<div class="centerBx spaceAround"><div class="centerBx bottombx "><h5 class="">Taxes'),Me=O('<p class=B7xUP><span data-test-integ-cart-subtotal-label="">Taxes Estimado</span><span data-test-integ-cart-subtotal-value="">$'),Qe=O('<section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b"><div class=kDdWge><div class=QCNFEe><p class=jhB0af>Sumario de la Orden</p></div><div class=qntUl><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Subtotal</span><span data-test-integ-cart-subtotal-value="">$</span></p><p class=B7xUP><span data-test-integ-cart-subtotal-label=""class=OGw7rb>Total Estimado</span><span data-test-integ-cart-subtotal-value=""class=OGw7rb> $</span></p></div></div><div class=oPYFfd><section class=BQHvme><section class=wo08ff><span class=PwY8l2>Fecha:</span><span class=PwY8l33> </span></section><section class=wo08ff><span class=PwY8l2>Invoice:</span><span class=PwY8l33></span></section><section class=wo08ff><span class=PwY8l2>Almacen:</span><span class=PwY8l33> </span></section></section></div><section class=JM2zDb>'),Ce=O("<section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Remove"),Ye=O('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),Ge=O("<span class=arancelSep> | "),Je=O('<span class="arancel pricePq"> $'),He=O('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price=""class=pricePq>$</span>'),ze=O('<div class="icon_status centerBx "style="margin:0 4px">'),We=O("<div style=padding:4px>"),Ke=O('<div style=padding:8px><div class=" centerBx"><p class=jhB0af>Envia</p></div><div class="bottombx flxWrp spaceAround centerBx"><h4 class=centerBx></h4><h4 class="centerBx phonesNum"></h4></div><div class=separator></div><div class=centerBx><p class=jhB0af>Recibe</p><div class="icon_status centerBx "style="margin:0 4px"></div></div><div class="bottombx spaceAround "><h5></h5><h4></h4><h4 class=" textleft phonesNum"></h4></div><div class="bottombx flxWrp spaceAround centerBx"><p class="textleft "></p><h4></h4></div><div><p class=" textleft "></p></div><div style=padding:4px>'),Xe=O('<section class="h6rxkc ">'),Ze=O('<section class=KgyCAd><section class=WirBi><section class=""><div class=QCNFEe><p class=jhB0af>Agregar mercancias</p></div><section class="EMijzc centerBx"><div class="icon_status centerBx "style="margin:0 4px"></div><div class="icon_status centerBx "style="margin:0 4px">'),et=O('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),tt=O('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),rt=O('<div class="centerBx flxWrp">'),lt=O('<div><div class=QCNFEe><p class=jhB0af>Enviar a Solve D Cargo</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Esta seguro de querer enviar a Solve D Cargo tenga en cuenta que puede duplicar la informacion</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">');V(()=>F(()=>import("./LoadingColorSpinner-tymsiVXI.js"),__vite__mapDeps([0,1,2,3])));const be=V(()=>F(()=>import("./DropDwnSearch-BMTU2Wlw.js"),__vite__mapDeps([4,1,2,5,6,7]))),xe=V(()=>F(()=>import("./CheckBoxSlide-kMD95f2F.js"),__vite__mapDeps([8,1,2,9]))),re=V(()=>F(()=>import("./FlexSpace-h0WTAOdc.js"),__vite__mapDeps([10,1,2]))),Q=V(()=>F(()=>import("./ButonHrm-CRhfRgQj.js"),__vite__mapDeps([11,1,2,6,12])));V(()=>F(()=>import("./UpdInventory-CJMHD0F2.js"),__vite__mapDeps([13,1,2,14,15,5,16,17,18,10])));const H=V(()=>F(()=>import("./InputHr-CF6qe29D.js"),__vite__mapDeps([19,1,2,20]))),ne=V(()=>F(()=>import("./SVG-CAfbGfq5.js"),__vite__mapDeps([6,1,2]))),[y,q]=L({manifestObj:{}});let it=864e5;function At(){const[e,s]=Ie();L(),L(),L();const[c,f]=z("");Ne(f,400),we(()=>{}),Pe(()=>{});const _=async()=>{if(e?.mId){let o={":search0":e?.mId,businessId:B?.profile?.businessYId},i=await Se(o);q("manifestObj",i[e?.mId])}};return K(async()=>{q("manifestObj",void 0),_()}),(()=>{var o=Le(),i=o.firstChild,a=i.firstChild,C=a.firstChild;return t(o,n(S,{get when(){return y?.manifestObj?.packagesOrder},get children(){return n(nt,{})}}),i),t(C,n(S,{get when(){return y?.manifestObj?.products},get children(){return n(le,{get each(){return y?.manifestObj?.products},children:($,p)=>n(ct,{itm:$})})}})),t(i,n(S,{get when(){return y?.manifestObj?.packagesOrder&&!y?.manifestObj?.isCompleted},get children(){return n(ut,{})}}),null),t(i,n(at,{get item(){return y?.manifestObj},get list(){return y?.manifestObj}}),null),o})()}let st=[{label:"escojer",id:""},{label:"MISCELANEAS",id:"MISCELANEAS"},{label:"UTILES DEL HOGAR",id:"UTILES DEL HOGAR"},{label:"VENTILADOR",id:"VENTILADOR"},{label:"TV",id:"TV"},{label:"CELULAR",id:"CELULAR"},{label:"TABLETS",id:"TABLETS"},{label:"LAPTOPS",id:"LAPTOPS"},{label:"PLAYSTATION",id:"PLAYSTATION"},{label:"BICICLETAS",id:"BICICLETAS"},{label:"GENERADOR",id:"GENERADOR"},{label:"SERVICIO DE RAPEADO",id:"SERVICIO DE RAPEADO"},{label:"TRANSPORTACION",id:"TRANSPORTACION"},{label:"OTROS SERVICIO",id:"OTROS SERVICIO"}];const nt=e=>{const s={type:"",qty:0,arancel:0,price:0},[c,f]=L({frm:{...s}}),_=(i,a)=>{f("frm",i,a)},o=i=>{let a={...c?.frm};a.key=Te();let C=y?.manifestObj?.reservas||[],$=ae(C);$.push(a),console.log(a),q("manifestObj","reservas",$),f("frm",{...s})};return(()=>{var i=Ue(),a=i.firstChild,C=a.firstChild,$=a.nextSibling,p=$.firstChild,g=p.firstChild;return t(C,n(S,{get when(){return y?.manifestObj?.reservas},get children(){return n(le,{get each(){return y?.manifestObj?.reservas},children:(b,u)=>n(ot,{itm:b})})}})),t(i,n(S,{get when(){return!y?.manifestObj?.isCompleted},get children(){var b=Re(),u=b.firstChild,d=u.firstChild,r=d.firstChild,l=r.nextSibling,m=l.firstChild,h=m.nextSibling,v=h.nextSibling,k=v.firstChild,w=l.nextSibling,P=w.firstChild,I=P.nextSibling;return h.addEventListener("change",x=>{_("type",x?.target?.value)}),t(h,n(le,{each:st,children:(x,G)=>(()=>{var T=Ve();return T.firstChild,t(T,()=>x.label,null),Y(()=>T.selected=x.id===c?.frm?.type),Y(()=>T.value=x.id),T})()})),t(v,n(xe,{get initValue(){return c?.frm?.onlyTariff},updChange:x=>_("onlyTariff",x),color:"var(--background-red-ssg)"}),k),t(w,n(S,{get when(){return!c?.frm?.onlyTariff&&c?.frm?.type},get children(){return n(H,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return c?.frm?.qty||""},label:"cantidad (lbs)",colors:"#2b2b2b",type:"number",handleClick:x=>_("qty",ke(x))})}}),P),t(w,n(S,{get when(){return c?.frm?.qty&&c?.frm?.type},get children(){return n(H,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.price||""},label:"precio",colors:"#2b2b2b",handleClick:x=>_("price",x)})}}),I),t(w,n(S,{get when(){return c?.frm?.type},get children(){return n(H,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.arancel||""},label:"Arancel",colors:"#2b2b2b",handleClick:x=>_("arancel",x)})}}),null),t(d,n(S,{get when(){return(c?.frm?.price&&c?.frm?.qty||c?.frm?.onlyTariff&&c?.frm?.arancel)&&c?.frm?.type},get children(){var x=ve();return t(x,n(Q,{color:"#646cff",label:"Agregar",handleClick:o})),x}}),null),b}}),$),t(g,n(dt,{get item(){return y?.manifestObj?.shipper_consignee}})),i})()},at=e=>{const s=o=>{let i=0;return e?.item?.products?.map(a=>{i+=J(a?.qty)*J(a?.salePrice)*-1}),e?.item?.reservas?.map(a=>{i+=J(a?.qty)*J(a?.price)+J(a?.arancel)}),i},c=async o=>{let i={...e?.item};i.amount=s();let a=await De(i);window.open(a)},f=async()=>{let o={...e?.item},i={params:{businessId:B?.profile?.businessYId,id:o.ssg_sorder_key},form:{isCompleted:!1}},a=R(431007);i={...i,...a}},_=async o=>{let i=ae(e?.item);i.isCompleted=!0,i.dayNum=i?.createDate/it;let a={params:{businessId:B?.profile?.businessYId,id:i.ssg_sorder_key},form:i},C=R(431007);a={...a,...C},await U(a);let $={params:{businessId:B?.profile?.businessYId},form:i},p=R(139003);$={...$,...p},await U($);let g={":search0":i.ssg_sorder_key,businessId:B?.profile?.businessYId},b=await Se(g);q("manifestObj",b[i.ssg_sorder_key])};return(()=>{var o=Qe(),i=o.firstChild,a=i.firstChild,C=a.firstChild,$=C.firstChild,p=$.nextSibling,g=p.firstChild,b=g.firstChild,u=b.nextSibling;u.firstChild;var d=g.nextSibling,r=d.firstChild,l=r.nextSibling;l.firstChild;var m=C.nextSibling,h=m.firstChild,v=h.firstChild,k=v.firstChild,w=k.nextSibling;w.firstChild;var P=v.nextSibling,I=P.firstChild,x=I.nextSibling,G=P.nextSibling,T=G.firstChild,X=T.nextSibling;X.firstChild;var M=m.nextSibling;return t(C,n(S,{get when(){return!y?.manifestObj?.isCompleted},get children(){return[(()=>{var j=Fe(),D=j.firstChild,N=D.firstChild;return t(D,n(xe,{get initValue(){return y?.manifestObj?.hasTax},updChange:ce=>q("manifestObj","hasTax",ce),color:"var(--background-red-ssg)"}),N),j})(),(()=>{var j=ve();return t(j,n(S,{get when(){return y?.manifestObj?.hasTax},get children(){return n(H,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return y?.manifestObj?.TaxPercent||""},label:"Porciento de Impuestos",colors:"#2b2b2b",type:"number",handleClick:D=>q("manifestObj","TaxPercent",D)})}})),j})()]}}),p),t(u,()=>s().toFixed(2),null),t(p,n(S,{get when(){return y?.manifestObj?.hasTax&&y?.manifestObj?.TaxPercent},get children(){var j=Me(),D=j.firstChild,N=D.nextSibling;return N.firstChild,t(N,()=>(s()*(y?.manifestObj?.TaxPercent/100)).toFixed(2),null),j}}),d),t(l,()=>(s()*((y?.manifestObj?.TaxPercent?y?.manifestObj?.TaxPercent:0)/100)+s()).toFixed(2),null),t(w,()=>Ae(e?.item?.createDate),null),t(x,()=>e?.item?.invoice),t(X,()=>oe("storeGroupBy")?.[e?.item?.store]?.label,null),t(M,n(S,{get when(){return e?.item?.isCompleted},get children(){return n(Q,{color:"#646cff",label:"Imprimir",handleClick:c})}}),null),t(M,n(S,{get when(){return!e?.item?.isCompleted},get children(){return n(Q,{color:"#646cff",label:"Confirmar",handleClick:_})}}),null),t(M,n(S,{get when(){return e?.item?.isCompleted&&B?.profile?.isAdmin},get children(){return n(Q,{color:"#646cff",label:"arrow",handleClick:f})}}),null),o})()},ct=e=>{const[s,c]=L(),f=()=>s?.[e?.itm?.product?.id]?.productImageUrl?_e()+$e()+"/"+s?.[e?.itm?.product?.id]?.productImageUrl:null,_=async()=>{let i=e?.itm?.product?.id,a=`${i}`,C=await ie(a);C?.[i]?.productImageUrl&&c(i,C?.[i])};K(()=>{console.log(""),_()});const o=()=>{let i=ae(y?.manifestObj?.products);delete i[e?.itm?.product?.id],q("manifestObj","products",i)};return(()=>{var i=Ye(),a=i.firstChild,C=a.firstChild,$=C.firstChild,p=$.firstChild,g=p.firstChild,b=p.nextSibling,u=b.firstChild,d=u.firstChild,r=d.firstChild;r.firstChild;var l=u.nextSibling,m=l.firstChild,h=m.firstChild,v=h.nextSibling,k=m.nextSibling,w=k.firstChild;return w.firstChild,t(r,()=>e?.itm?.product?.label,null),t(v,()=>e?.itm?.qty*-1),t(w,()=>(e?.itm?.salePrice*1).toFixed(2),null),t(l,n(S,{get when(){return!y?.manifestObj?.isCompleted},get children(){var P=Ce(),I=P.firstChild,x=I.firstChild;return x.$$click=o,P}}),null),Y(()=>he(g,"src",f())),i})()},ot=e=>{const[s,c]=L(),f=async()=>{let o=e?.itm?.product?.id,i=`${o}`,a=await ie(i);a?.[o]?.productImageUrl&&c(o,a?.[o])};K(()=>{f()});const _=()=>{let i=ae(y?.manifestObj?.reservas).filter(a=>a.key!==e?.itm?.key);q("manifestObj","reservas",i)};return(()=>{var o=He(),i=o.firstChild,a=i.firstChild,C=a.firstChild,$=C.firstChild,p=$.firstChild,g=p.firstChild,b=g.firstChild;b.firstChild;var u=p.nextSibling,d=u.firstChild,r=d.firstChild,l=r.nextSibling,m=d.nextSibling,h=m.firstChild;return h.firstChild,t(b,()=>e?.itm?.type,null),t(l,()=>e?.itm?.qty*1),t(h,()=>(e?.itm?.price*1).toFixed(2),null),t(m,n(S,{get when(){return e?.itm?.arancel},get children(){return[Ge(),(()=>{var v=Je();return v.firstChild,t(v,()=>(e?.itm?.arancel*1).toFixed(2),null),v})()]}}),null),t(u,n(S,{get when(){return!y?.manifestObj?.isCompleted},get children(){var v=Ce(),k=v.firstChild,w=k.firstChild;return w.$$click=_,v}}),null),o})()},dt=e=>{const[s,c]=z(),[f,_]=z(!0),o=r=>r?" "+r:"",i=r=>o(r?.firstName)+o(r?.middleName)+o(r?.lastName)+o(r?.lastName2),a=r=>{let l=o(r?.altPhoneNumber);return o(r?.phoneNumber)+(l?" |"+l:"")},C=async()=>{let r={};r.id=W(),r.closeEvent=()=>{},r.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},r.content=n(bt,{confirm:$}),Be(r)},$=async()=>{let r=B?.profile?.agency?.id;if(r&&e?.item?.citiId&&s()?.id){let l=e?.item,m=`;${E(l?.firstName)};${E(l?.middleName)};${E(l?.lastName)};${E(l?.lastName2)};N/A;${E(l?.cid)};CUB;${E(l?.phoneNumber)};${E(l?.altPhoneNumber)};${E(l?.ybstreet)};${E(l?.ybstreetNo)};${E(l?.ybbetwen1)};${E(l?.ybbetwen2)};${E(l?.ybreparto)};;${l?.citiId};${s()?.id};${E(l?.email)};;${r}`;p("consignee",m)}},p=async(r,l,m)=>{let h=`funcname=insertRecord&option=${r}&params=${l}`,v={query:"querySolveGlobal"};v.params={query:h},await U(v)},g=async()=>{let r={params:{id:e?.item?.name,key:"shipper"}},l=R(181009);r={...r,...l};const m=await U(r);let h=fe(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],m,e?.item);console.log(h),m.cid===e?.item?.cid&&console.log()},b=async()=>{let r={params:{id:e?.item?.cid,key:"consignee"}},l=R(181009);r={...r,...l};const m=await U(r);return fe(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],m,e?.item).hasChange&&m.cid===e?.item?.cid?e?.item:m},u=(r,l)=>{q("manifestObj","shipper_consignee",r,l)},d=async(r,l)=>{let m=await b();console.log(m)};return K(()=>{if(e?.item?.ybestate){let r=oe("M023009")?.provincias?.filter?.(l=>l.label===e?.item?.ybestate)?.[0];if(r?.id&&c(r),e?.item?.ybcity){let l=r?.cities?.filter?.(m=>m.label===e?.item?.ybcity)?.[0];l?.id&&q("manifestObj","shipper_consignee","citiId",l?.id)}}d()}),n(S,{get when(){return e?.item?.name},get children(){var r=Ke(),l=r.firstChild;l.firstChild;var m=l.nextSibling,h=m.firstChild,v=h.nextSibling,k=m.nextSibling,w=k.nextSibling,P=w.firstChild,I=P.nextSibling,x=w.nextSibling,G=x.firstChild,T=G.nextSibling,X=T.nextSibling,M=x.nextSibling,j=M.firstChild,D=j.nextSibling,N=M.nextSibling,ce=N.firstChild,Oe=N.nextSibling;return t(l,n(re,{}),null),t(h,()=>e?.item?.name),v.$$click=g,t(v,()=>e?.item?.phoneNumberS),t(w,n(re,{}),I),I.$$click=b,t(I,n(ne,{name:"success",size:22,get color(){return f()?"#37be5fff":"#c6c6c6"}})),t(w,n(S,{get when(){return!f()},get children(){var A=ze();return A.$$click=C,t(A,n(ne,{name:"send",size:22,color:"#646cff"})),A}}),null),t(G,()=>e?.item?.cid),t(T,()=>i(e?.item)),t(X,()=>a(e?.item)),t(j,()=>pe(e?.item)),t(D,()=>e?.item?.ybreparto),t(ce,pe),t(N,n(re,{}),null),t(Oe,n(be,{get list(){return oe("M023009")?.provincias},lbl_empty:"Provincia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return s()?.id},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:A=>c(A),width:"260px"})),t(r,n(S,{get when(){return s()},get children(){var A=We();return t(A,n(be,{get list(){return s()?.cities},lbl_empty:"Cities",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.item?.citiId},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:Z=>u("citiId",Z.id),width:"260px"})),A}}),null),Y(A=>{var Z=`    ${de()?"isMobile":""}`,me=` ${de(),"centerBx"} bottombx flxWrp  centerBx`;return Z!==A.e&&ue(r,A.e=Z),me!==A.t&&ue(N,A.t=me),A},{e:void 0,t:void 0}),r}})},Et=async(e,s)=>{let c={params:e,data2update:s},f=R(431007);return c={...c,...f},await U(c)},Se=async e=>{let s={params:e},c=R(431002);return s={...s,...c},await U(s)},qt=async e=>{let s=[];e.map(c=>{let f={params:{id:c?.ssg_track_key,idairguide:"all"}},_=R(802002);f={...f,..._},s.push(f)}),Ee(s,mt)},mt=async e=>{const c=await U(e);if(c)return c},ut=e=>{const[s,c]=z(""),[f,_]=z(1),o=()=>{f()===1&&s().length>8&&i(s())},i=async p=>{let g=B?.profile?.agencyStore?.id,b=`${p}`,u=await ie(b),d=te(u)?.[0],r=`${d} ${g}`,l=await ye(r),m=0,h=0;te(l)?.map(P=>{l[P]?.products?.map(I=>{d===I?.product?.id&&(m+=I?.price*1*I?.qty*1,h+=I?.qty*1)})});let v=1,k={};y?.manifestObj?.products?.map(P=>{let I={...P};d===P.product.id&&(I.qty=I.qty*-1),k[P.product.id]=I}),k?.[d]&&(v=k?.[d].qty*1+1);const w=h?m/h:0;if(h&&h-v>=0){if(k?.[d])k[d].qty=v*-1;else{let I={product:{id:d,label:u?.[d]?.name,code:u?.[d]?.code},qty:v*-1,price:w,salePrice:u?.[d]?.salePrice};k[d]=I}let P=ge(k);q("manifestObj","products",P),c(""),se({text:u?.[d]?.name+" agregado al carrito",timeout:3500,theme:"blue",id:W()})}else se({text:"Sin Existencia",timeout:3500,theme:"red",id:W()})},[a,{refetch:C}]=qe(s,async p=>{if(f()===2&&p.length>4){const g=await ie(p);let b=[];return te(g).map(u=>{let d=g[u];b.push(d)}),b}else return[]}),$=()=>{c(""),_(1)};return(()=>{var p=Ze(),g=p.firstChild,b=g.firstChild,u=b.firstChild,d=u.nextSibling,r=d.firstChild,l=r.nextSibling;return t(b,n(S,{get when(){return a()?.length>0},get children(){var m=Xe();return t(m,n(le,{get each(){return a()},children:(h,v)=>n(ft,{itm:h,clearTx:$})})),m}}),d),t(d,n(H,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return s()},placeholder:"buscar productos ...",colors:"#2b2b2b",handleClick:c,onEnter:o}),r),r.$$click=()=>_(1),t(r,n(ne,{name:"qrcode-scan",size:22,get color(){return f()===1?"#646cff":""}})),l.$$click=()=>_(2),t(l,n(ne,{name:"keyboard",size:22,get color(){return f()===2?"#646cff":""}})),p})()},ft=e=>{const[s,c]=L(),f=()=>s?.prod?.productImageUrl?_e()+$e()+"/"+s?.prod?.productImageUrl:null;K(()=>{c("prod",e?.itm)}),Array.from(Array(10).keys());const _=async o=>{let i=B?.profile?.agencyStore?.id,a=s?.prod?.ssg_product_key,C=`${a} ${i}`,$=await ye(C),p=0,g=0;te($)?.map(r=>{$[r]?.products?.map(l=>{a===l?.product?.id&&(p+=l?.price*1*l?.qty*1,g+=l?.qty*1)})});let b=1,u={};y?.manifestObj?.products?.map(r=>{let l={...r};a===r.product.id&&(l.qty=l.qty*-1),u[r.product.id]=l}),u?.[a]&&(b=u?.[a].qty*1+1);const d=g?p/g:0;if(console.log(d,g,p),g&&g-b>=0){if(u?.[a])u[a].qty=b*-1;else{let l={product:{id:a,label:s?.prod?.name,code:s?.prod?.code},qty:b*-1,price:d,salePrice:s?.prod?.salePrice};u[a]=l}let r=ge(u);q("manifestObj","products",r),e?.clearTx(),se({text:s?.prod?.name+" agregado al carrito",timeout:3500,theme:"blue",id:W()})}else e?.clearTx(),se({text:"Sin Existencia",timeout:3500,theme:"red",id:W()})};return(()=>{var o=et(),i=o.firstChild,a=i.firstChild,C=a.firstChild,$=C.firstChild,p=$.firstChild,g=$.nextSibling,b=g.firstChild,u=b.firstChild,d=u.firstChild;d.firstChild;var r=b.nextSibling,l=r.firstChild,m=l.nextSibling,h=m.firstChild;return h.firstChild,t(d,()=>e?.itm?.name,null),t(l,n(Q,{color:"#646cff",label:"Agregar",handleClick:_})),t(h,()=>(e?.itm?.salePrice*1).toFixed(2),null),Y(()=>he(p,"src",f())),o})()},ee=(e,s)=>s?(()=>{var c=tt(),f=c.firstChild,_=f.nextSibling;return t(f," "+e),t(_,s),c})():"",pe=e=>(()=>{var s=rt();return t(s,()=>ee("Calle",e?.ybstreet),null),t(s,()=>ee("#",e?.ybstreetNo),null),t(s,()=>ee("E/",e?.ybbetwen1),null),t(s,()=>ee("y",e?.ybbetwen2),null),s})(),J=e=>e?e*1:0,E=e=>e?e.toString().toUpperCase().trim():"";function bt(e){return(()=>{var s=lt(),c=s.firstChild,f=c.nextSibling,_=f.nextSibling,o=_.nextSibling;return s.style.setProperty("max-height","80vh"),s.style.setProperty("overflow","auto"),s.style.setProperty("background","#fff"),s.style.setProperty("border-radius","11px"),s.style.setProperty("padding"," 0 21px"),c.style.setProperty("padding","21px"),t(o,n(re,{}),null),t(o,n(Q,{color:"#646cff",icon:"send",label:"Enviar",get handleClick(){return e.confirm}}),null),Y(i=>(i=de()?"96vw":"420px")!=null?s.style.setProperty("width",i):s.style.removeProperty("width")),s})()}je(["click"]);export{At as default,mt as fetchCSVInve,pe as getAddress,J as isValNum,qt as loadInventory,Et as updConfirmSale};
