const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SVG-BK8v7PHn.js","assets/index-DJTrF_KF.js","assets/index-mmPwS5V-.css","assets/FlexSpace-DmFrxGO8.js","assets/LoadingColorSpinner-DGGIJo4t.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DeliveryCamera-CSQFQyFB.js","assets/ButonHrm-8OLJZ1h4.js","assets/ButonHrm-BSeWNUGQ.css","assets/html5-qrcode-scanner-ziWUrEJA.js","assets/debounces-E-njADDr.js","assets/ItemOnDeliveryList-4qPBJz4K.js"])))=>i.map(i=>d[i]);
import{l as g,_ as p,e as M,p as R,q as O,i,d as a,f as T,h as V,t as _,n as A,c as q,a as w,a7 as H,u as j,k as U,o as W,j as L,S as I,O as E,y as K,F as Z,E as Y,s as J,B as X}from"./index-DJTrF_KF.js";import{CloseModal as ee,OpenModal as te}from"./DialogHRM-Dio6bV9K.js";import{H as re,a as ne}from"./html5-qrcode-scanner-ziWUrEJA.js";import{LookupManifets as se}from"./DashManifest-DqDgSAjZ.js";import{updLinkedBags as ie}from"./LinkManifest-C1Q1vfvW.js";import"./fontkit.es-BsQXkUEN.js";import"./App.module-CbHnVtRQ.js";import"./debounces-E-njADDr.js";import"./InitPrintServices-D74TR-OP.js";var ae=_('<div><div><div class="_dsplFlx bottombx lowbordr"><h5>Confirmar Entrega</h5><div class="icon_status centerBx"></div></div></div><div class=" flxWrp spaceAround centerBx"style="margin:30px 0"><div id=qr-reader style=width:220px>');const oe=g(()=>p(()=>import("./SVG-BK8v7PHn.js"),__vite__mapDeps([0,1,2]))),le=g(()=>p(()=>import("./FlexSpace-DmFrxGO8.js"),__vite__mapDeps([3,1,2])));let B;function de(e){R(()=>{B?.clear()}),O(()=>{setTimeout(()=>{c()},90)});const s=async o=>{let u="kZxxLCeHlz8l3gU8";(await se(u))?.[u]&&(await ie({ssg_manifest_key:u},{linkedUser:A?.profile?.userId}),e?.callback({ssg_manifest_key:u,linkedUser:A?.profile?.userId})),ee(e?.modalId)},c=()=>{let o={fps:10,qrbox:{width:250,height:200},supportedScanTypes:[re.SCAN_TYPE_CAMERA],showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,verbose:!0};B=new ne("qr-reader",o),B.render(s)};return(()=>{var o=ae(),u=o.firstChild,f=u.firstChild,$=f.firstChild,v=$.nextSibling;return o.style.setProperty("max-height","80vh"),o.style.setProperty("overflow","auto"),o.style.setProperty("background","#ffffff"),o.style.setProperty("border-radius","13"),o.style.setProperty("padding","10px 19px"),$.$$click=s,i(f,a(le,{}),v),v.$$click=()=>{},i(v,a(oe,{name:"keyboard",size:32,color:"#2b2b2b"})),T(x=>(x=V()?"92vw":"420px")!=null?o.style.setProperty("width",x):o.style.removeProperty("width")),o})()}M(["click"]);var ce=_("<h4>"),ue=_("<h5>"),me=_('<div class=" flxWrp spaceAround centerBx bottombx"><div class=bottombx><h4></h4></div>|<div class=bag_number><h4>'),ge=_('<div><div class=" flxWrp spaceAround centerBx"><h2>Delivery Manifest</h2><div class="icon_status centerBx"></div></div><div style=padding:16px></div><div>'),N=_("<div> "),pe=_("<div> <!>.");const[Ee,Be]=q(),D=g(()=>p(()=>import("./LoadingColorSpinner-DGGIJo4t.js"),__vite__mapDeps([4,1,2,5])));g(()=>p(()=>import("./DeliveryCamera-CSQFQyFB.js"),__vite__mapDeps([6,1,2,7,0,8,9,10,3])));const _e=g(()=>p(()=>import("./ItemOnDeliveryList-4qPBJz4K.js"),__vite__mapDeps([11,1,2,10]))),he=g(()=>p(()=>import("./SVG-BK8v7PHn.js"),__vite__mapDeps([0,1,2])));g(()=>p(()=>import("./FlexSpace-DmFrxGO8.js"),__vite__mapDeps([3,1,2])));const[Ae,Le]=w("");function Ne(){w([]);const[e,s]=q({});H();const[c,o]=j(),[u,f]=w("");w(0),U(()=>{x()}),R(()=>{}),O(async()=>{let l=await fe({id:c?.dId,checkAuth:!0});s("detail",l);let n={};l?.linkedBagsInfo?.map(r=>{let d=F(r),y=r.cidentity;if(n[d]||(n[d]={city:r?.city,estate:r?.estate,currentStatus:r?.currentStatus,customers:{},bagsNo:0}),!n[d].customers[y]){let b={name:ve(r),phoneNumber:ye(r),cid:r.cidentity},t={...r,...b};t.bagsNumb=[],n[d].customers[y]=t}n[d].customers[y].bagsNumb.push(r?.bagnumber),n[d].bagsNo+=1}),s("linkedBagsInfo",n),f(L())});function $(){return"geolocation"in navigator}function v(l){X({latitude:l?.coords?.latitude,longitude:l?.coords?.longitude})}function x(){$()?navigator.geolocation.getCurrentPosition(v):showMessage("Geolocation isn't supported by your browser")}const z=l=>{},Q=l=>{let n=L(),r={};r.id=n,r.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},r.content=a(de,{get item(){return props?.item},modalId:n,callback:z}),te(r)},F=l=>{let n=l?.street.split(",");return n.slice(0,n.length-2).join(",")};return(()=>{var l=ge(),n=l.firstChild,r=n.firstChild,d=r.nextSibling,y=n.nextSibling,b=y.nextSibling;return d.$$click=Q,i(d,a(he,{name:"qr_code",size:32,color:"#2b2b2b"})),i(l,a(I,{get when(){return e?.detail?.name},get fallback(){return(()=>{var t=N();return t.firstChild,i(t,a(D,{stroke:"rgb(200 25 60 / 1)",size:62}),null),t})()},get children(){var t=me(),m=t.firstChild,P=m.firstChild,k=m.nextSibling,C=k.nextSibling,G=C.firstChild;return i(P,()=>e?.detail?.name),i(t,a(I,{get when(){return e?.detail?.city},get children(){return[(()=>{var S=ce();return i(S,()=>e?.detail?.city),S})(),"|"]}}),C),i(t,a(I,{get when(){return e?.detail?.province},get children(){return[(()=>{var S=ue();return i(S,()=>e?.detail?.province),S})(),"|"]}}),C),i(G,()=>E(e?.linkedBagsInfo)?.length),t}}),b),i(b,a(Y,{fallback:t=>(()=>{var m=pe(),P=m.firstChild,k=P.nextSibling;return k.nextSibling,i(m,()=>t.toString(),k),m})(),get children(){return a(K,{get fallback(){return(()=>{var t=N();return t.firstChild,i(t,a(D,{stroke:"rgb(200 25 60 / 1)",size:62}),null),t})()},get children(){return a(I,{get when(){return E(e?.linkedBagsInfo)?.length>0},get children(){return a(Z,{get each(){return E(e?.linkedBagsInfo)},children:(t,m)=>a(_e,{addressId:t,get item(){return e?.linkedBagsInfo?.[t]},get list(){return e?.linkedBagsInfo}})})}})}})}})),T(t=>J(b,` ${V()?"":"width:94vw;"} margin: 0 auto`,t)),l})()}const fe=async e=>await W({params:e,query:"getManifestOrderByKeyID"}),h=e=>e?" "+e:"",ve=e=>{let s=e?.consigneeInfo;return h(s?.firstName)+h(s?.middleName)+h(s?.lastName)+h(s?.lastName2)},ye=e=>{let s=e?.consigneeInfo,c=h(s?.altPhoneNumber);return h(s?.phoneNumber)+(c?" |"+c:"")};M(["click"]);export{fe as LookupBagId,Ne as default,Ee as scannedQRs,Be as setScannedQRs,Le as setStatus,Ae as status};
