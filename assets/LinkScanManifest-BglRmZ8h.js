const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DropDwnSearch-CwDFeSr_.js","assets/index-B0vjCw4c.js","assets/index-DI_XrWgU.css","assets/debounces-CkeATmjq.js","assets/SVG-CCR9cGoq.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ScanningManifestManual-k0IUDiuz.js","assets/Toast-BHMrqVn0.js","assets/Toast-DLpFKn-Q.css","assets/DashManifest-BN5ye_Bn.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/DialogHRM-CHooNwxd.js","assets/DialogHRM-V9_lZntj.css","assets/ScanningServices-BZ4wg1rv.js","assets/FlexSpace-DXLdI5UT.js","assets/LoadingColorSpinner-YpvrkGn-.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/ButonHrm-DIEdJHMT.js","assets/ButonHrm-BSeWNUGQ.css","assets/CheckBoxSlide-DUlCOo5r.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{c as u,l as o,_ as l,a as f,G as V,u as q,b as Q,o as j,d as G,i as n,e as d,F as K,am as z,k as S,f as N,g as W,x as H,S as X,n as k,p as B,O as Z,t as I,Z as w,$ as J,an as U,ao as Y,ap as tt,aq as et}from"./index-B0vjCw4c.js";import{h as st}from"./DashManifest-BN5ye_Bn.js";import"./App.module-CbHnVtRQ.js";import"./DialogHRM-CHooNwxd.js";import"./ScanningServices-BZ4wg1rv.js";import"./Toast-BHMrqVn0.js";var at=I('<div class=" bottombx lowbordr centerBx "style=padding-top:26px;><h5>Escaneados'),it=I('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Associar a el Manifiesto </h2></div><div class=centerBx100 style=margin-top:20px>'),nt=I('<div style=background:#FFF;width:90%><div class="centerBx bottombx"><div class="icon_status centerBx"></div><h5 class=" centerBx "></h5><p class=" title_scan centerBx "></p></div><div class="centerBx bottombx"><h5></h5><div class=vertseparator></div><h4>');const[St,kt]=u();o(()=>l(()=>import("./DropDwnSearch-CwDFeSr_.js"),__vite__mapDeps([0,1,2,3,4,5])));const rt=o(()=>l(()=>import("./ScanningManifestManual-k0IUDiuz.js"),__vite__mapDeps([6,1,2,7,8,9,10,11,12,13,14]))),ot=o(()=>l(()=>import("./SVG-CCR9cGoq.js"),__vite__mapDeps([4,1,2]))),lt=o(()=>l(()=>import("./FlexSpace-DXLdI5UT.js"),__vite__mapDeps([15,1,2])));o(()=>l(()=>import("./LoadingColorSpinner-YpvrkGn-.js"),__vite__mapDeps([16,1,2,17])));const ct=o(()=>l(()=>import("./ButonHrm-DIEdJHMT.js"),__vite__mapDeps([18,1,2,4,19])));o(()=>l(()=>import("./CheckBoxSlide-DUlCOo5r.js"),__vite__mapDeps([20,1,2,21])));const[Bt,It]=f(""),[x,dt]=f([]);function Mt(){u({});const[t,i]=V(),[a,c]=u({search:""});u();const[_,m]=u(),y=q();u();const[h,gt]=f(""),[pt,A]=f("");Q(()=>{R()}),j(()=>{}),G(async()=>{if(await st(),t?.mId){let s={id:t?.mId},r=await ut(s);A(t?.mId),c("manifestObj",r),m("linked",r?.linkedBags)}});function O(){return"geolocation"in navigator}function C(s){Y({latitude:s?.coords?.latitude,longitude:s?.coords?.longitude})}function R(){O()?navigator.geolocation.getCurrentPosition(C):showMessage("Geolocation isn't supported by your browser")}const D=async()=>{let s={..._?.linked};x().map(e=>{let b=e.ssg_track_key;s?.[b]||(s[b]={idairguide:e?.guia})}),m("linked",s);let r={ssg_manifest_key:t?.mId},g={linkedBags:s};if(w()){let e={...S("manifestList")};e?.[t?.mId]?.linkedBags||(e[t?.mId].linkedBags={}),e[t?.mId].linkedBags=s,J("manifestList",e),await U(et,tt,e)}else await _t(r,g);y(`/manifest-detail?mId=${t?.mId}`,{replace:!0}),setTimeout(()=>{dt([])},450)};return(()=>{var s=it(),r=s.firstChild;r.firstChild;var g=r.nextSibling;return n(r,d(ct,{color:"#c8193c",label:"Associar Manifiesto",handleClick:D}),null),n(g,d(rt,{get status(){return h()},get locat(){return h()}}),null),n(g,d(X,{get when(){return x()?.length>0},get children(){return[at(),d(K,{get each(){return z(x(),"timeStamp",0)},children:(e,b)=>(()=>{var p=nt(),M=p.firstChild,L=M.firstChild,v=L.nextSibling,E=v.nextSibling,$=M.nextSibling,P=$.firstChild,F=P.nextSibling,T=F.nextSibling;return n(L,d(ot,{get name(){return S("M023009")?.statusListIcons?.[e?.currentStatus]},size:32})),v.style.setProperty("padding","8px"),n(v,()=>e?.idairguide),E.style.setProperty("padding","8px"),n(E,()=>e?.tracking),n(p,d(lt,{}),$),n(P,()=>e?.city),n(T,()=>e?.consigneeInfo?.ybestate),N(()=>W(p,`client_item_box gWXAaj jlytmu manifest  ${H()?"isMobile":"centerBx"}`)),p})()})]}}),null),s})()}const ut=async t=>{let i={params:t};if(w())return{...S("manifestList")?.[t?.id]};{let a=k(703003);return i={...i,...a},await B(i)}},_t=async(t,i)=>{let a={params:t,data2update:i},c=k(709002);a={...a,...c};const _=await B(a),m=Z(i?.linkedBags).map(async(y,h)=>{await mt({ssg_track_key:y,idairguide:"all"},{currentManifestKey:t?.ssg_manifest_key})});return await Promise.all(m),_},mt=async(t,i)=>{let a={params:t,data2update:i},c=k(809004);return a={...a,...c},await B(a)};export{Mt as default,x as manifestScan,St as scannedQRs,dt as setManifestScan,kt as setScannedQRs,It as setStatus,Bt as status,_t as updLinkedBags};
