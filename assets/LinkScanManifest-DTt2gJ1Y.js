const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DropDwnSearch-C7drp5vq.js","assets/index-QyFZRsay.js","assets/index-BRlA1Q7g.css","assets/debounces-CPySIorQ.js","assets/SVG-CAKwlgPS.js","assets/Util-84vxEF7d.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ScanningManifestManual-DhRrsRSy.js","assets/DialogHRM-CZlDCplu.js","assets/DialogHRM-V9_lZntj.css","assets/Toast-DA0Z0m64.js","assets/Toast-DLpFKn-Q.css","assets/DashManifest-CVFUClqV.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/Scanning-VAkqkidr.js","assets/FlexSpace-CxbxncVK.js","assets/LoadingColorSpinner-CtccZnzM.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/ButonHrm-DE3t3Ey6.js","assets/ButonHrm-BSeWNUGQ.css","assets/CheckBoxSlide-DBt9X7Yt.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{c as u,l as o,_ as l,a as f,r as T,u as j,b as q,o as Q,d as G,i as n,e as d,F as K,f as z,m as H,j as N,S as W,t as k,J as w,O as J}from"./index-QyFZRsay.js";import{F as X,e as S,g as B,f as I,O as U,u as Y,G as Z,H as tt,I as et}from"./Util-84vxEF7d.js";import{handleListManifest as st}from"./DashManifest-CVFUClqV.js";import"./App.module-CbHnVtRQ.js";import"./DialogHRM-CZlDCplu.js";import"./Toast-DA0Z0m64.js";import"./Scanning-VAkqkidr.js";var at=k('<div class=" bottombx lowbordr centerBx "style=padding-top:26px;><h5>Escaneados'),it=k('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Associar a el Manifiesto </h2></div><div class=centerBx100 style=margin-top:20px>'),nt=k('<div style=background:#FFF;width:90%><div class="centerBx bottombx"><div class="icon_status centerBx"></div><h5 class=" centerBx "></h5><p class=" title_scan centerBx "></p></div><div class="centerBx bottombx"><h5></h5><div class=vertseparator></div><h4>');const[St,kt]=u();o(()=>l(()=>import("./DropDwnSearch-C7drp5vq.js"),__vite__mapDeps([0,1,2,3,4,5,6])));const rt=o(()=>l(()=>import("./ScanningManifestManual-DhRrsRSy.js"),__vite__mapDeps([7,1,2,5,8,9,10,11,12,13,14,15]))),ot=o(()=>l(()=>import("./SVG-CAKwlgPS.js"),__vite__mapDeps([4,1,2,5]))),lt=o(()=>l(()=>import("./FlexSpace-CxbxncVK.js"),__vite__mapDeps([16,1,2])));o(()=>l(()=>import("./LoadingColorSpinner-CtccZnzM.js"),__vite__mapDeps([17,1,2,18])));const ct=o(()=>l(()=>import("./ButonHrm-DE3t3Ey6.js"),__vite__mapDeps([19,1,2,4,5,20])));o(()=>l(()=>import("./CheckBoxSlide-DBt9X7Yt.js"),__vite__mapDeps([21,1,2,22])));const[Bt,It]=f(""),[x,Mt]=f([]);function Lt(){u({});const[t,i]=T(),[a,c]=u({search:""});u();const[_,g]=u(),y=j();u();const[b,gt]=f(""),[mt,O]=f("");q(()=>{R()}),Q(()=>{}),G(async()=>{if(await st(),t?.mId){let s={id:t?.mId},r=await dt(s);O(t?.mId),c("manifestObj",r),g("linked",r?.linkedBags)}});function A(){return"geolocation"in navigator}function C(s){J({latitude:s?.coords?.latitude,longitude:s?.coords?.longitude})}function R(){A()?navigator.geolocation.getCurrentPosition(C):showMessage("Geolocation isn't supported by your browser")}const F=async()=>{let s={..._?.linked};x().map(e=>{let h=e.ssg_track_key;s?.[h]||(s[h]={idairguide:e?.guia})}),g("linked",s);let r={ssg_manifest_key:t?.mId},m={linkedBags:s};if(w()){let e={...S("manifestList")};console.log(t?.mId,e),e?.[t?.mId]?.linkedBags||(e[t?.mId].linkedBags={}),e[t?.mId].linkedBags=s,Y("manifestList",e),Z(et,tt,e)}else await ut(r,m);y("/manifest",{replace:!0})};return(()=>{var s=it(),r=s.firstChild;r.firstChild;var m=r.nextSibling;return n(r,d(ct,{color:"#c8193c",label:"Associar Manifiesto",handleClick:F}),null),n(m,d(rt,{get status(){return b()},get locat(){return b()}}),null),n(m,d(W,{get when(){return x()?.length>0},get children(){return[at(),d(K,{get each(){return X(x(),"timeStamp",0)},children:(e,h)=>(()=>{var p=nt(),M=p.firstChild,L=M.firstChild,v=L.nextSibling,E=v.nextSibling,P=M.nextSibling,$=P.firstChild,D=$.nextSibling,V=D.nextSibling;return n(L,d(ot,{get name(){return S("M023009")?.statusListIcons?.[e?.currentStatus]},size:32})),v.style.setProperty("padding","8px"),n(v,()=>e?.idairguide),E.style.setProperty("padding","8px"),n(E,()=>e?.tracking),n(p,d(lt,{}),P),n($,()=>e?.city),n(V,()=>e?.consigneeInfo?.ybestate),z(()=>H(p,`client_item_box gWXAaj jlytmu manifest  ${N()?"isMobile":"centerBx"}`)),p})()})]}}),null),s})()}const dt=async t=>{let i={params:t};if(w())return{...S("manifestList")?.[t?.id]};{let a=B(703003);return i={...i,...a},await I(i)}},ut=async(t,i)=>{let a={params:t,data2update:i},c=B(709002);a={...a,...c};const _=await I(a),g=U(i?.linkedBags).map(async(y,b)=>{await _t({ssg_track_key:y,idairguide:"all"},{currentManifestKey:t?.ssg_manifest_key})});return await Promise.all(g),_},_t=async(t,i)=>{let a={params:t,data2update:i},c=B(809004);return a={...a,...c},await I(a)};export{Lt as default,x as manifestScan,St as scannedQRs,Mt as setManifestScan,kt as setScannedQRs,It as setStatus,Bt as status,ut as updLinkedBags};
