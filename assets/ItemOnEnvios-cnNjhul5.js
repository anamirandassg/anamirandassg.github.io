const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-CtzalO8r.js","assets/index-v1_MOgQp.js","assets/index-DHvNTsK7.css","assets/ShowQR-MdegmpfO.js","assets/ShowQRPrintLabel-B_Y0U6Nu.js"])))=>i.map(i=>d[i]);
import{l as H,_ as A,d as i,i as t,S as m,w as Y,m as k,y as j,k as M,A as K,a as W,J as N,B as S,K as G,M as E,b as D,F as q,x as Q,W as X,X as J,e as Z,t as u,g as U,O as p,N as ee,n as z}from"./index-v1_MOgQp.js";import te from"./ContainerElasticView-CSd8BDK3.js";import{I as ie}from"./ItemOnEnviosAlert-D-JldnBe.js";var re=u("<div class=guide_number><h5>"),ne=u('<div class=" tr_bar_10 _dsplFlx"><div class="icon_status centerBx">'),T=u("<div class=bag_number><h5>"),F=u("<div class=bottombx><h5>"),R=u("<div><div>"),le=u('<p class="tr_bar_30 textleft fullName_consigne">'),se=u("<div style=margin-right:4vw>"),ae=u('<h4 class="tr_bar_20 textleft">'),ce=u('<div class="icon_status centerBx">'),de=u("<p>"),ue=u('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),ge=u('<div><div class="_dsplFlx topbx centerBx"></div><div class="_dsplFlx bottombx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),me=u('<ul class=inline><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Movimientos</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">HBLS</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Embarcador'),he=u("<div class=tab>"),C=u("<div class=loader>Loading..."),V=u("<div>"),_e=u('<div class="centerBx bottombx"><h4 class=""></h4><h5>el <!> a las <!> por</h5><h4 class="">'),oe=u('<div class="centerBx bottombx"><h4 class=""></h4><h5> KG</h5><h4 class="">'),$e=u("<div class=bottombx><div><h4></h4></div><div><h5>");const L=H(()=>A(()=>import("./FlexSpace-CtzalO8r.js"),__vite__mapDeps([0,1,2]))),w=H(()=>A(()=>import("./index-v1_MOgQp.js").then(e=>e.a8),__vite__mapDeps([1,2]))),ve=H(()=>A(()=>import("./ShowQR-MdegmpfO.js"),__vite__mapDeps([3,1,2,4])));function Ne(e){const n=l=>l?" "+l:"",g=()=>{let l=e?.item?.consigneeInfo;return n(l?.firstName)+n(l?.middleName)+n(l?.lastName)+n(l?.lastName2)},s=()=>{let l=e?.item?.consigneeInfo,a=n(l?.altPhoneNumber);return n(l?.phoneNumber)+(a?" |"+a:"")},d=()=>{let l=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let a=l.reduce(($,b)=>Math.min($,b.timeStamp),1/0);return Math.floor((new Date().getTime()-a)/864e5)}else return null},v=async()=>{let l={ssg_track_key:e?.item?.ssg_track_key,idairguide:e?.item?.idairguide};await Se(l),e?.refresh()},h=()=>{let l=e?.item?.street.split(",");return l.slice(0,l.length-2).join(",")},o=l=>{let a="";if(l)a=l;else if(e?.item?.hblS){let b=e?.item?.hblS;a=`${e?.item?.idairguide}/${e?.item?.cidentity}/${b}`}let $={};$.id=U(),$.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},$.content=i(ve,{val:a,get item(){return e?.item}}),p($)},x=l=>{let a=l,$="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const b=new RegExp($);return a.length===13&&b.test(a)&&(a=a.slice(3,12)),a};return e?.filter?i(ie,{get item(){return e?.item},get filter(){return e?.filter}}):i(m,{get when(){return e?.item?.tracking},get children(){var l=ge(),a=l.firstChild,$=a.nextSibling,b=$.firstChild,y=b.firstChild,I=y.nextSibling,B=I.nextSibling;return t(a,i(m,{get when(){return e?.item?.tracking},get children(){return[(()=>{var r=ne(),f=r.firstChild;return t(f,i(w,{get name(){return Y?.[e?.item?.currentStatus]},size:32})),t(r,i(m,{get when(){return d()},get children(){var c=re(),_=c.firstChild;return t(_,d),c}}),null),r})(),i(m,{get when(){return k()&&e?.item?.tracking},get children(){return[i(L,{}),(()=>{var r=R(),f=r.firstChild;return t(f,i(m,{get when(){return e?.item?.bagnumber},get children(){var c=T(),_=c.firstChild;return c.$$click=()=>o(null),t(_,()=>e?.item?.bagnumber),c}})),t(r,i(m,{get when(){return e?.item?.tracking},get children(){var c=F(),_=c.firstChild;return c.$$click=()=>o(x(e?.item?.tracking)),t(_,()=>x(e?.item?.tracking)),c}}),null),r})()]}}),i(m,{get when(){return!k()},get children(){return[(()=>{var r=le();return t(r,g),r})(),se(),(()=>{var r=ae();return t(r,s),r})()]}})]}}),null),t(a,i(L,{}),null),t(a,i(m,{get when(){return!k()&&e?.item?.tracking},get children(){var r=R(),f=r.firstChild;return t(f,i(m,{get when(){return e?.item?.bagnumber},get children(){var c=T(),_=c.firstChild;return c.$$click=()=>o(null),t(_,()=>x(e?.item?.bagnumber)),c}})),t(r,i(m,{get when(){return e?.item?.tracking},get children(){var c=F(),_=c.firstChild;return c.$$click=()=>o(x(e?.item?.tracking)),t(_,()=>x(e?.item?.tracking)),c}}),null),r}}),null),t(a,i(m,{get when(){return!e?.item?.bagnumber||j?.profile?.isAdmin},get children(){var r=ce();return r.$$click=v,t(r,i(w,{name:"outline_delete",size:24})),r}}),null),t($,i(m,{get when(){return!k()&&e?.item?.consigneeInfo?.ybcity},get children(){var r=de();return t(r,h),r}}),b),t($,i(L,{}),b),t(y,()=>e?.item?.consigneeInfo?.ybcity),t(B,()=>e?.item?.consigneeInfo?.ybestate),t(l,i(m,{get when(){return k()&&e?.item?.consigneeInfo?.ybcity},get children(){var r=ue(),f=r.firstChild,c=f.nextSibling,_=c.nextSibling,P=_.nextSibling;return t(f,g),t(_,s),t(P,h),r}}),null),t(l,i(be,{get item(){return e?.item}}),null),M(()=>K(l,`client_item_box gWXAaj jlytmu ${k()?"isMobile":""}`)),l}})}const be=e=>{const[n,g]=W(0),[s,d]=ee(),v=h=>()=>d(()=>g(h));return i(te,{get children(){return[(()=>{var h=me(),o=h.firstChild,x=o.firstChild,l=x.firstChild,a=o.nextSibling,$=a.firstChild,b=$.firstChild,y=a.nextSibling,I=y.firstChild,B=I.firstChild;return N(o,"click",v(1)),t(l,i(w,{name:"list_dot",size:24})),N(a,"click",v(2)),t(b,i(w,{name:"receipt",size:24})),N(y,"click",v(3)),t(B,i(w,{name:"send",size:24})),M(r=>{var f=n()===1,c=n()===2,_=n()===3;return f!==r.e&&o.classList.toggle("selected",r.e=f),c!==r.t&&a.classList.toggle("selected",r.t=c),_!==r.a&&y.classList.toggle("selected",r.a=_),r},{e:void 0,t:void 0,a:void 0}),h})(),(()=>{var h=he();return t(h,i(S,{get fallback(){return C()},get children(){return i(G,{get children(){return[i(E,{get when(){return n()===1},get children(){return i(m,{get when(){return n()===1},get children(){return i(fe,{index:1,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(E,{get when(){return n()===2},get children(){return i(m,{get when(){return n()===2},get children(){return i(ye,{index:2,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(E,{get when(){return n()===3},get children(){return i(m,{get when(){return n()===3},get children(){return i(we,{index:3,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}})]}})}})),M(()=>h.classList.toggle("pending",!!s())),h})()]}})},fe=e=>{const[n,{refetch:g}]=D(e?.id,async s=>(await O(e?.idairguide,e?.id,["statusHistory"]))?.statusHistory);return i(S,{get fallback(){return C()},get children(){var s=V();return t(s,i(q,{get each(){return n()},children:d=>i(xe,{item:d})})),s}})},xe=e=>(()=>{var n=_e(),g=n.firstChild,s=g.nextSibling,d=s.firstChild,v=d.nextSibling,h=v.nextSibling,o=h.nextSibling;o.nextSibling;var x=s.nextSibling;return t(g,()=>Q[e?.item?.statusId]),t(s,()=>X(e?.item?.timeStamp),v),t(s,()=>J(e?.item?.timeStamp),o),t(x,()=>e?.item?.userName),n})(),ye=e=>{const[n,{refetch:g}]=D(e?.id,async s=>(await O(e?.idairguide,e?.id,["hbls"]))?.hbls);return i(S,{get fallback(){return C()},get children(){var s=V();return t(s,i(q,{get each(){return n()},children:d=>i(ke,{item:d})})),s}})},ke=e=>(()=>{var n=oe(),g=n.firstChild,s=g.nextSibling,d=s.firstChild,v=s.nextSibling;return t(g,()=>e?.item?.hbl),t(s,()=>e?.item?.weight,d),t(v,()=>e?.item?.namegood),n})(),we=e=>{const[n,{refetch:g}]=D(e?.id,async s=>await O(e?.idairguide,e?.id,["nameshipper","shipperInfo:phoneNumber"]));return i(S,{get fallback(){return C()},get children(){var s=$e(),d=s.firstChild,v=d.firstChild,h=d.nextSibling,o=h.firstChild;return t(v,()=>n()?.nameshipper),t(o,()=>n()?.shipperInfo?.phoneNumber),s}})},Se=async e=>(await z({params:e,query:"deleteLogisticYabaExpress"}))?.data,O=async(e,n,g)=>{const d=await z({params:{id:n,idairguide:e},fldsQry:g,query:"getLogisticOrderByKeyID"});return d?.data?.error?{}:d};Z(["click"]);export{Ne as default};
