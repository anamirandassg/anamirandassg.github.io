const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-DFT_ffAV.js","assets/index-C6vutg0M.js","assets/index-B8E-m_hz.css","assets/SVG-DpAiMh2e.js","assets/index-Ci0zXM0r.js","assets/ButonHrm-BqyCjLae.js","assets/Util-Bqo0w8TL.js","assets/ButonHrm-BSeWNUGQ.css","assets/InputHr-D-7bhtrY.js","assets/InputHr-M3rJ9grQ.css","assets/ShowQR-jhgjXxwA.js","assets/globalSignal-CDF0Ia_2.js","assets/ShowQRPrintLabel-DoEKzYNk.js","assets/PDFButton-B_0lS8EG.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-BKe7DAJ7.js","assets/InitPrintServices-DEuVy0QW.js","assets/Toast-DBGfBEiY.js","assets/Toast-DLpFKn-Q.css","assets/ItemOnConsigner-A71Rdkme.js","assets/DialogHRM-0rdVWY9y.js","assets/DialogHRM-V9_lZntj.css","assets/ContainerElasticView-BW_mb-cb.js","assets/ContainerElasticView-LzOd6fDI.css","assets/DropDwnSearch-wJvY1U3o.js","assets/debounces-DQr651iQ.js","assets/DropDwnSearch-DMkLkRPc.css","assets/CheckBoxSlide-D8yAKjkc.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{l as N,_ as A,a as H,d as i,i as t,e as ce,t as m,S as _,f as V,n as de,k as U,j as ue,g as me,w as Q,r as R,x as ge,M as W,b as ee,F as ae,m as oe,q as he,y as _e}from"./index-C6vutg0M.js";import{a as j,p as be,c as ve,g as Z,O as $e,b as p,f as q}from"./Util-Bqo0w8TL.js";import{OpenModal as ie,CloseModal as ye}from"./DialogHRM-0rdVWY9y.js";import fe from"./ContainerElasticView-BW_mb-cb.js";import{i as I}from"./globalSignal-CDF0Ia_2.js";import{c as xe}from"./ShowQRPrintLabel-DoEKzYNk.js";import"./index-Ci0zXM0r.js";import"./SVG-DpAiMh2e.js";/* empty css                             */import"./PDFButton-B_0lS8EG.js";import"./qrcode-C5vWJp7P.js";import"./fontkit.es-BKe7DAJ7.js";import"./InitPrintServices-DEuVy0QW.js";import"./Toast-DBGfBEiY.js";var L=m('<div class="icon_status centerBx">'),we=m("<div class=guide_number><h5>"),Se=m('<div class=" tr_bar_10 _dsplFlx">'),re=m("<div class=bag_number><h5>"),ke=m("<div class=bottombx><h5>"),Ce=m("<div><div>"),Be=m('<p class="tr_bar_30 textleft fullName_consigne">'),Ie=m("<div style=margin-right:4vw>"),Ne=m('<h4 class="tr_bar_20 textleft">'),Ae=m("<div class=centerBx><div>"),Pe=m("<p>"),Ee=m("<div class=separator> "),De=m('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),Me=m('<div class="centerBx bottombx"style=margin-top:10px;><h5>is SSG'),J=m("<div style=padding:4px>"),He=m('<div><div class="_dsplFlx topbx centerBx"></div><div class="centerBx bottombx"><div class="centerBx bottombx flxWrp"><h4></h4><div class=vertseparator></div><h5></h5><div class=vertseparator></div><h4></h4></div></div><div class="centerBx bottombx flxWrp">'),Le=m('<ul class=inline><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Movimientos</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">HBLS</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Embarcador</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Agency'),Oe=m("<div class=tab>"),G=m("<div class=loader>Loading..."),se=m("<div>"),Te=m('<div class="centerBx bottombx"><h4 class=""></h4><h5>el <!> a las <!> por</h5><h4 class="">'),ze=m('<div class="centerBx bottombx"><h4 class=""></h4>|<div class="icon_status centerBx"></div><h5> KG</h5>|<div class="icon_status centerBx"></div><h5> LB</h5>|<h4 class=""></h4><div class="icon_status centerBx">'),Ve=m("<h5>"),Fe=m("<h4>"),Re=m("<div class=bottombx><div><h4></h4></div><div><h5>"),pe=m("<div class=bottombx><div><h4>"),qe=m('<div><div style=max-height:220px></div><div class="centerBx flxWrp spaceAround ">'),Ge=m('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),Qe=m('<div class="centerBx flxWrp">');const K=N(()=>A(()=>import("./FlexSpace-DFT_ffAV.js"),__vite__mapDeps([0,1,2]))),k=N(()=>A(()=>import("./SVG-DpAiMh2e.js"),__vite__mapDeps([3,1,2,4]))),We=N(()=>A(()=>import("./ButonHrm-BqyCjLae.js"),__vite__mapDeps([5,1,2,3,4,6,7]))),ne=N(()=>A(()=>import("./InputHr-D-7bhtrY.js"),__vite__mapDeps([8,1,2,9]))),Ye=N(()=>A(()=>import("./ShowQR-jhgjXxwA.js"),__vite__mapDeps([10,1,2,11,12,13,4,14,15,16,6,17,18]))),je=N(()=>A(()=>import("./ItemOnConsigner-A71Rdkme.js"),__vite__mapDeps([19,1,2,6,4,20,21,22,3,23,11,13,14,15,17,18,5,7]))),Ue=N(()=>A(()=>import("./DropDwnSearch-wJvY1U3o.js"),__vite__mapDeps([24,1,2,25,3,4,26]))),Ke=N(()=>A(()=>import("./CheckBoxSlide-D8yAKjkc.js"),__vite__mapDeps([27,1,2,28])));let X={YABA_99:"check_circle"};function St(e){const[r,n]=H(0),l=c=>c?" "+c:"",d=()=>{let c=e?.item?.consigneeInfo;return l(c?.firstName)+l(c?.middleName)+l(c?.lastName)+l(c?.lastName2)},u=()=>{let c=e?.item?.consigneeInfo,a=l(c?.altPhoneNumber);return l(c?.phoneNumber)+(a?" |"+a:"")},g=()=>{let c=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let a=c.reduce((o,v)=>Math.min(o,v.timeStamp),1/0);return Math.floor((new Date().getTime()-a)/864e5)}else return null},$=async()=>{let a={ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"};e?.item?.bagnumber&&await at({id:e?.item?.bagnumber}),e?.item?.hbls?.map(async o=>{}),await lt(a),e?.refresh()},f=c=>{let a="";if(c)a=c,c.indexOf("/")>0&&(a=e?.item?.hblS.split("/")?.[2]);else if(e?.item?.hblS){let v=e?.item?.hblS;a=`${e?.item?.idairguide}/${e?.item?.cidentity}/${v}`}let o={};o.id=Z(),o.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},o.content=i(Ye,{val:a,get item(){return e?.item}}),ie(o)},O=async c=>{let a=await st(e?.item?.cidentity),o=$e(a)?.[0],v=Z(),w={};w.id=v,w.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},w.content=i(ct,{get item(){return a?.[o]},get it(){return e?.item},modalId:v}),ie(w)},C=c=>{let a=c,o="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const v=new RegExp(o);return a.length===13&&v.test(a)&&(a=a.slice(3,12)),a},T=async c=>{await F({ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"},{isSSG:c?"1":null})},z=async c=>{await F({ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"},{billedBy:c})};return i(_,{get when(){return e?.item?.cidentity},get children(){var c=He(),a=c.firstChild,o=a.nextSibling,v=o.firstChild,w=v.firstChild,P=w.nextSibling,x=P.nextSibling,M=x.nextSibling,E=M.nextSibling,B=o.nextSibling;return t(a,i(_,{get when(){return e?.item?.cidentity},get children(){return[(()=>{var s=Se();return t(s,i(_,{get when(){return X[e?.item?.currentStatus]},get children(){var h=L();return h.$$click=()=>n(!r()),t(h,i(k,{get name(){return X?.[e?.item?.currentStatus]},size:32,color:"var(--hrm-palette-tertiary60)"})),h}}),null),t(s,i(_,{get when(){return!X[e?.item?.currentStatus]},get children(){var h=L();return h.$$click=()=>n(!r()),t(h,i(k,{get name(){return j("M023009")?.statusListIcons?.[e?.item?.currentStatus]},size:32})),h}}),null),t(s,i(_,{get when(){return g()},get children(){var h=we(),y=h.firstChild;return t(y,g),h}}),null),s})(),i(_,{get when(){return I()},get children(){return[i(K,{}),(()=>{var s=Ce(),h=s.firstChild;return t(h,i(_,{get when(){return e?.item?.bagnumber},get children(){var y=re(),S=y.firstChild;return y.$$click=()=>f(e?.item?.bagnumber),t(S,()=>e?.item?.bagnumber),y}})),t(s,i(_,{get when(){return e?.item?.tracking},get children(){var y=ke(),S=y.firstChild;return y.$$click=()=>f(C(e?.item?.tracking)),t(S,()=>C(e?.item?.tracking)),y}}),null),s})()]}}),i(_,{get when(){return!I()},get children(){return[(()=>{var s=Be();return t(s,d),V(()=>de(s,"data-name",`${e?.item?.cidentity}`)),s})(),Ie(),(()=>{var s=Ne();return t(s,u),s})()]}})]}}),null),t(a,i(K,{}),null),t(a,i(_,{get when(){return!I()},get children(){var s=Ae(),h=s.firstChild;return t(h,i(_,{get when(){return e?.item?.bagnumber},get children(){var y=re(),S=y.firstChild;return y.$$click=()=>f(e?.item?.bagnumber),t(S,()=>C(e?.item?.bagnumber)),y}})),s}}),null),t(a,i(_,{get when(){return U?.profile?.isAdmin},get children(){var s=L();return s.$$click=O,t(s,i(k,{name:"home",size:24})),s}}),null),t(a,i(_,{get when(){return!e?.item?.bagnumber||U?.profile?.isAdmin},get children(){var s=L();return s.$$click=$,t(s,i(k,{name:"outline_delete",size:24})),s}}),null),t(o,i(_,{get when(){return!I()&&e?.item?.consigneeInfo?.ybstreet},get children(){var s=Pe();return t(s,()=>le(e?.item?.consigneeInfo)),s}}),v),t(o,i(K,{}),v),t(w,()=>e?.item?.consigneeInfo?.ybreparto),t(x,()=>e?.item?.consigneeInfo?.ybcity),t(E,()=>e?.item?.consigneeInfo?.ybestate),t(c,i(_,{get when(){return I()&&e?.item?.consigneeInfo?.ybcity},get children(){return[Ee(),(()=>{var s=De(),h=s.firstChild,y=h.nextSibling,S=y.nextSibling,b=S.nextSibling;return t(h,d),t(S,u),t(b,()=>le(e?.item?.consigneeInfo)),s})()]}}),B),t(B,i(_,{get when(){return ue(()=>!!(r()&&he()))()&&!I()},get children(){return[(()=>{var s=Me(),h=s.firstChild;return t(s,i(Ke,{get initValue(){return e?.item?.isSSG},updChange:T,color:"var(--background-red-ssg)"}),h),s})(),i(_,{get when(){return U?.profile?.isAdmin},get children(){var s=J();return t(s,i(Ue,{get list(){return j("M023009")?.usersListSSG},lbl_empty:"Billed by",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.item?.billedBy},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:h=>z(h?.id),width:"260px"})),s}})]}})),t(c,i(Xe,{get item(){return e?.item}}),null),V(()=>me(c,`client_item_box gWXAaj jlytmu ${I()?"isMobile":""}`)),c}})}const Xe=e=>{const[r,n]=H(0),[l,d]=_e(),u=g=>()=>d(()=>n(g));return i(fe,{get children(){return[(()=>{var g=Le(),$=g.firstChild,f=$.firstChild,O=f.firstChild,C=$.nextSibling,T=C.firstChild,z=T.firstChild,c=C.nextSibling,a=c.firstChild,o=a.firstChild,v=c.nextSibling,w=v.firstChild,P=w.firstChild;return Q($,"click",u(1),!0),t(O,i(k,{name:"list_dot",size:24})),Q(C,"click",u(2),!0),t(z,i(k,{name:"receipt",size:24})),Q(c,"click",u(3),!0),t(o,i(k,{name:"send",size:24})),Q(v,"click",u(4),!0),t(P,i(k,{name:"store",size:24})),V(x=>{var M=r()===1,E=r()===2,B=r()===3,s=r()===4;return M!==x.e&&$.classList.toggle("selected",x.e=M),E!==x.t&&C.classList.toggle("selected",x.t=E),B!==x.a&&c.classList.toggle("selected",x.a=B),s!==x.o&&v.classList.toggle("selected",x.o=s),x},{e:void 0,t:void 0,a:void 0,o:void 0}),g})(),(()=>{var g=Oe();return t(g,i(R,{get fallback(){return G()},get children(){return i(ge,{get children(){return[i(W,{get when(){return r()===1},get children(){return i(_,{get when(){return r()===1},get children(){return i(Ze,{index:1,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key},get currentStatus(){return e?.item?.currentStatus}})}})}}),i(W,{get when(){return r()===2},get children(){return i(_,{get when(){return r()===2},get children(){return i(et,{index:2,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(W,{get when(){return r()===3},get children(){return i(_,{get when(){return r()===3},get children(){return i(rt,{index:3,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(W,{get when(){return r()===4},get children(){return i(_,{get when(){return r()===4},get children(){return i(nt,{index:4,get agency(){return e?.item?.agency},get id(){return e?.item?.ssg_track_key}})}})}})]}})}})),V(()=>g.classList.toggle("pending",!!l())),g})()]}})},Ze=e=>{const[r,{refetch:n}]=ee(e?.id,async l=>{const d=await te(e?.idairguide,e?.id,["statusHistory","deliveryUserName","deliveryTime"]);let u=d?.statusHistory;if(d?.deliveryTime){let g={statusId:e?.currentStatus,timeStamp:d?.deliveryTime,userName:d?.deliveryUserName};u.push(g)}return u});return i(R,{get fallback(){return G()},get children(){var l=se();return t(l,i(ae,{get each(){return r()},children:d=>i(Je,{item:d})})),l}})},Je=e=>(()=>{var r=Te(),n=r.firstChild,l=n.nextSibling,d=l.firstChild,u=d.nextSibling,g=u.nextSibling,$=g.nextSibling;$.nextSibling;var f=l.nextSibling;return t(n,()=>j("M023009")?.statusObjDesc[e?.item?.statusId]),t(l,()=>be(e?.item?.timeStamp),u),t(l,()=>ve(e?.item?.timeStamp),$),t(f,()=>e?.item?.userName),r})(),et=e=>{const[r,{refetch:n}]=ee(e?.id,async u=>(await te(e?.idairguide,e?.id,["hbls"]))?.hbls),l=async(u,g)=>{let $=[];r().map(f=>{f.hbl===u&&(f={...f,...g}),$.push(f)}),await F({ssg_track_key:e?.id,idairguide:"all"},{hbls:$}),n()},d=async u=>{let g=[];r().map($=>{$.hbl!==u&&g.push($)}),await F({ssg_track_key:e?.id,idairguide:"all"},{hbls:g}),n()};return i(R,{get fallback(){return G()},get children(){var u=se();return t(u,i(ae,{get each(){return r()},children:g=>i(it,{item:g,updHbls:l,rmvHbls:d})})),u}})},tt=2.20462,it=e=>{const[r,n]=H(0),[l,d]=H(0),[u,g]=H(0),[$,f]=H(0),O=a=>{xe(a)};oe(()=>{e?.item?.pricePerPound&&g(e?.item?.pricePerPound),e?.item?.dutyFee&&f(e?.item?.dutyFee)});const C=(a,o,v)=>{e?.updHbls(e?.item?.hbl,{[a]:o}),v?n(!1):d(!1)},T=()=>{let a=e?.item?.pricePerPound;return a?"$ "+(a*1).toFixed(2):" agregar precio por libra"},z=()=>{let a=e?.item?.dutyFee;return a?"$ "+(a*1).toFixed(2):" agregar aranceles"},c=()=>{e?.rmvHbls(e?.item?.hbl)};return(()=>{var a=ze(),o=a.firstChild,v=o.nextSibling,w=v.nextSibling,P=w.nextSibling,x=P.firstChild,M=P.nextSibling,E=M.nextSibling,B=E.nextSibling,s=B.firstChild,h=B.nextSibling,y=h.nextSibling,S=y.nextSibling;return o.$$click=()=>O(e?.item?.hbl),t(o,()=>e?.item?.hbl),t(w,i(k,{name:"weight-kilogram",size:20})),t(P,()=>e?.item?.weight,x),t(E,i(k,{name:"weight-pound",size:20})),t(B,()=>(e?.item?.weight*tt).toFixed(2),s),t(y,()=>e?.item?.namegood),t(a,i(_,{get when(){return r()},get fallback(){return["|",(()=>{var b=L();return t(b,i(k,{name:"money",size:20})),b})(),(()=>{var b=Ve();return b.$$click=()=>n(!r()),t(b,T),b})()]},get children(){var b=J();return t(b,i(ne,{width:"160px",backColor:"#ffffff",borderColor:"#b2b2b2",type:"number",borderActiveColor:"var(--background-red-ssg)",get value(){return u()},placeholder:"Precio por Libra",colors:"#2b2b2b",handleClick:D=>g(D),onEnter:D=>C("pricePerPound",D,1)})),b}}),S),t(a,i(_,{get when(){return l()},get fallback(){return["|",(()=>{var b=L();return t(b,i(k,{name:"warehouse",size:20})),b})(),(()=>{var b=Fe();return b.$$click=()=>d(!l()),t(b,z),b})()]},get children(){var b=J();return t(b,i(ne,{width:"160px",backColor:"#ffffff",borderColor:"#b2b2b2",type:"number",borderActiveColor:"var(--background-red-ssg)",get value(){return $()},placeholder:"Aranceles",colors:"#2b2b2b",handleClick:D=>f(D),onEnter:D=>C("dutyFee",D)})),b}}),S),S.$$click=c,t(S,i(k,{name:"outline_delete",size:20})),a})()},rt=e=>{const[r,{refetch:n}]=ee(e?.id,async l=>await te(e?.idairguide,e?.id,["nameshipper","shipperInfo:phoneNumber"]));return i(R,{get fallback(){return G()},get children(){var l=Re(),d=l.firstChild,u=d.firstChild,g=d.nextSibling,$=g.firstChild;return t(u,()=>r()?.nameshipper),t($,()=>r()?.shipperInfo?.phoneNumber),l}})},nt=e=>{const r=()=>j("M023009")?.agencies?.filter(l=>e?.agency===l?.id?.toString())?.[0];return i(R,{get fallback(){return G()},get children(){var n=pe(),l=n.firstChild,d=l.firstChild;return t(d,()=>r()?.label),n}})},lt=async e=>{let r={params:e},n=p(809005);return r={...r,...n},(await q(r))?.data},at=async e=>{let r={params:e},n=p(409098);return r={...r,...n},(await q(r))?.data},te=async(e,r,n)=>{let l={params:{id:r,idairguide:"all"},fldsQry:n},d=p(802002);l={...l,...d};const u=await q(l);return u?.data?.error?{}:u},st=async e=>{if(e.length>4){let r={params:{}};e&&e.split(" ").map((d,u)=>{d&&(r.params[":search"+u]=d.trim())});let n=p(401001);return r={...r,...n},await q(r)}else return{}},F=async(e,r)=>{let n={params:e,data2update:r},l=p(809004);return n={...n,...l},await q(n)},ct=e=>{const r=async()=>{let n={consigneeInfo:{cid:e?.item?.cid,firstName:e?.item?.firstName,lastName:e?.item?.lastName,lastName2:e?.item?.lastName2,middleName:e?.item?.middleName,phoneNumber:e?.item?.phoneNumber,ybapt:e?.item?.ybapt,ybbetwen1:e?.item?.ybbetwen1,ybbetwen2:e?.item?.ybbetwen2,ybcity:e?.item?.ybcity,ybestate:e?.item?.ybestate,ybreparto:e?.item?.ybreparto,ybstreet:e?.item?.ybstreet,ybstreetNo:e?.item?.ybstreetNo},city:e?.item?.ybcity,estate:e?.item?.ybestate};await F({ssg_track_key:e?.it?.ssg_track_key,idairguide:"all"},n),ye(e?.modalId)};return(()=>{var n=qe(),l=n.firstChild,d=l.nextSibling;return n.style.setProperty("height","clamp(20vh, 45vh, 80vh)"),n.style.setProperty("overflow","auto"),n.style.setProperty("background","#ffffff"),n.style.setProperty("border-radius","13"),n.style.setProperty("padding","10px 19px"),t(l,i(je,{get item(){return e?.item},refresh:()=>isOpenDebounced(Z())})),t(d,i(We,{color:"rgb(200 25 60 / 1)",label:"Actualizar",handleClick:r})),V(u=>(u=I()?"96vw":"920px")!=null?n.style.setProperty("width",u):n.style.removeProperty("width")),n})()},Y=(e,r)=>r?(()=>{var n=Ge(),l=n.firstChild,d=l.nextSibling;return t(l," "+e),t(d,r),n})():"",le=e=>(()=>{var r=Qe();return t(r,()=>Y("Calle",e?.ybstreet),null),t(r,()=>Y("#",e?.ybstreetNo),null),t(r,()=>Y("E/",e?.ybbetwen1),null),t(r,()=>Y("y",e?.ybbetwen2),null),r})();ce(["click"]);export{St as default,le as getAddress};
