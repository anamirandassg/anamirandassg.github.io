const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-ByajFvup.js","assets/index-Dm_1QUuo.js","assets/index-DGHHyjai.css","assets/SVG-pHESldcO.js","assets/index-Ci0zXM0r.js","assets/ButonHrm-jJkUviS4.js","assets/Util-uEfv1z7O.js","assets/ButonHrm-BSeWNUGQ.css","assets/InputHr-DpJcYBiX.js","assets/InputHr-M3rJ9grQ.css","assets/ShowQR-CylBTzEG.js","assets/globalSignal-LYm_F9-S.js","assets/ShowQRPrintLabel-K73F5xdL.js","assets/PDFButton-B_0lS8EG.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-BKe7DAJ7.js","assets/InitPrintServices-CprHcwF4.js","assets/Toast-Bc5MUz5O.js","assets/Toast-DLpFKn-Q.css","assets/ItemOnConsigner-Cz6gt8eb.js","assets/DialogHRM-lh_z7mqb.js","assets/DialogHRM-V9_lZntj.css","assets/ContainerElasticView-CM5hFTRx.js","assets/ContainerElasticView-LzOd6fDI.css","assets/CheckBoxSlide-Du4CZ5NC.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{l as P,_ as A,d as i,i as t,e as me,t as g,S as _,j as ge,f as D,n as ee,k as j,g as oe,a as T,w as q,r as z,x as he,M as Q,b as X,F as ce,m as _e,y as be}from"./index-Dm_1QUuo.js";import{a as Z,p as ve,c as $e,g as K,O as ye,b as O,f as F}from"./Util-uEfv1z7O.js";import{OpenModal as te,CloseModal as fe}from"./DialogHRM-lh_z7mqb.js";import xe from"./ContainerElasticView-CM5hFTRx.js";import{i as B}from"./globalSignal-LYm_F9-S.js";import{c as we}from"./ShowQRPrintLabel-K73F5xdL.js";import"./index-Ci0zXM0r.js";import"./SVG-pHESldcO.js";/* empty css                             */import"./PDFButton-B_0lS8EG.js";import"./qrcode-C5vWJp7P.js";import"./fontkit.es-BKe7DAJ7.js";import"./InitPrintServices-CprHcwF4.js";import"./Toast-Bc5MUz5O.js";var ke=g('<div class="centerBx bottombx"style=margin-top:10px;><h5>is SSG'),M=g('<div class="icon_status centerBx">'),Se=g("<div class=guide_number><h5>"),Ce=g('<div class=" tr_bar_10 _dsplFlx">'),ie=g("<div class=bag_number><h5>"),re=g("<div class=bottombx><h5>"),ne=g("<div><div>"),Be=g('<p class="tr_bar_30 textleft fullName_consigne">'),Ie=g("<div style=margin-right:4vw>"),Ne=g('<h4 class="tr_bar_20 textleft">'),Pe=g("<p>"),Ae=g("<div class=separator> "),Ee=g('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),He=g('<div><div class="_dsplFlx topbx centerBx"></div><div class="centerBx bottombx"><div class="centerBx bottombx flxWrp"><h4></h4><div class=vertseparator></div><h5></h5><div class=vertseparator></div><h4>'),Me=g('<ul class=inline><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Movimientos</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">HBLS</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Embarcador</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Agency'),De=g("<div class=tab>"),R=g("<div class=loader>Loading..."),de=g("<div>"),Le=g('<div class="centerBx bottombx"><h4 class=""></h4><h5>el <!> a las <!> por</h5><h4 class="">'),le=g("<div style=padding:4px>"),Te=g('<div class="centerBx bottombx"><h4 class=""></h4>|<div class="icon_status centerBx"></div><h5> KG</h5>|<div class="icon_status centerBx"></div><h5> LB</h5>|<h4 class=""></h4><div class="icon_status centerBx">'),ze=g("<h5>"),Oe=g("<h4>"),Fe=g("<div class=bottombx><div><h4></h4></div><div><h5>"),Re=g("<div class=bottombx><div><h4>"),Ve=g('<div><div style=max-height:220px></div><div class="centerBx flxWrp spaceAround ">'),qe=g('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),Qe=g('<div class="centerBx flxWrp">');const W=P(()=>A(()=>import("./FlexSpace-ByajFvup.js"),__vite__mapDeps([0,1,2]))),k=P(()=>A(()=>import("./SVG-pHESldcO.js"),__vite__mapDeps([3,1,2,4]))),Ge=P(()=>A(()=>import("./ButonHrm-jJkUviS4.js"),__vite__mapDeps([5,1,2,3,4,6,7]))),ae=P(()=>A(()=>import("./InputHr-DpJcYBiX.js"),__vite__mapDeps([8,1,2,9]))),Ye=P(()=>A(()=>import("./ShowQR-CylBTzEG.js"),__vite__mapDeps([10,1,2,11,12,13,4,14,15,16,6,17,18]))),je=P(()=>A(()=>import("./ItemOnConsigner-Cz6gt8eb.js"),__vite__mapDeps([19,1,2,6,4,20,21,22,3,23,11,13,14,15,17,18,5,7]))),We=P(()=>A(()=>import("./CheckBoxSlide-Du4CZ5NC.js"),__vite__mapDeps([24,1,2,25])));let U={YABA_99:"check_circle"};function ft(e){const r=s=>s?" "+s:"",l=()=>{let s=e?.item?.consigneeInfo;return r(s?.firstName)+r(s?.middleName)+r(s?.lastName)+r(s?.lastName2)},a=()=>{let s=e?.item?.consigneeInfo,u=r(s?.altPhoneNumber);return r(s?.phoneNumber)+(u?" |"+u:"")},c=()=>{let s=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let u=s.reduce(($,y)=>Math.min($,y.timeStamp),1/0);return Math.floor((new Date().getTime()-u)/864e5)}else return null},d=async()=>{let u={ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"};e?.item?.bagnumber&&await rt({id:e?.item?.bagnumber}),e?.item?.hbls?.map(async $=>{}),await it(u),e?.refresh()},m=s=>{let u="";if(s)u=s,s.indexOf("/")>0&&(u=e?.item?.hblS.split("/")?.[2]);else if(e?.item?.hblS){let y=e?.item?.hblS;u=`${e?.item?.idairguide}/${e?.item?.cidentity}/${y}`}let $={};$.id=K(),$.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},$.content=i(Ye,{val:u,get item(){return e?.item}}),te($)},v=async s=>{let u=await nt(e?.item?.cidentity),$=ye(u)?.[0],y=K(),h={};h.id=y,h.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},h.content=i(lt,{get item(){return u?.[$]},get it(){return e?.item},modalId:y}),te(h)},x=s=>{let u=s,$="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const y=new RegExp($);return u.length===13&&y.test(u)&&(u=u.slice(3,12)),u},L=async s=>{await Y({ssg_track_key:e?.item?.ssg_track_key,idairguide:"all"},{isSSG:s?"1":null})};return i(_,{get when(){return e?.item?.cidentity},get children(){var s=He(),u=s.firstChild,$=u.nextSibling,y=$.firstChild,h=y.firstChild,C=h.nextSibling,S=C.nextSibling,E=S.nextSibling,I=E.nextSibling;return t(u,i(_,{get when(){return ge(()=>!!j?.profile?.isAdmin)()&&!B()},get children(){var n=ke(),b=n.firstChild;return t(n,i(We,{get initValue(){return e?.item?.isSSG},updChange:L,color:"var(--background-red-ssg)"}),b),n}}),null),t(u,i(_,{get when(){return e?.item?.cidentity},get children(){return[(()=>{var n=Ce();return t(n,i(_,{get when(){return U[e?.item?.currentStatus]},get children(){var b=M();return t(b,i(k,{get name(){return U?.[e?.item?.currentStatus]},size:32,color:"var(--hrm-palette-tertiary60)"})),b}}),null),t(n,i(_,{get when(){return!U[e?.item?.currentStatus]},get children(){var b=M();return t(b,i(k,{get name(){return Z("M023009")?.statusListIcons?.[e?.item?.currentStatus]},size:32})),b}}),null),t(n,i(_,{get when(){return c()},get children(){var b=Se(),o=b.firstChild;return t(o,c),b}}),null),n})(),i(_,{get when(){return B()},get children(){return[i(W,{}),(()=>{var n=ne(),b=n.firstChild;return t(b,i(_,{get when(){return e?.item?.bagnumber},get children(){var o=ie(),w=o.firstChild;return o.$$click=()=>m(e?.item?.bagnumber),t(w,()=>e?.item?.bagnumber),o}})),t(n,i(_,{get when(){return e?.item?.tracking},get children(){var o=re(),w=o.firstChild;return o.$$click=()=>m(x(e?.item?.tracking)),t(w,()=>x(e?.item?.tracking)),o}}),null),n})()]}}),i(_,{get when(){return!B()},get children(){return[(()=>{var n=Be();return t(n,l),D(()=>ee(n,"data-name",`${e?.item?.cidentity}`)),n})(),Ie(),(()=>{var n=Ne();return t(n,a),n})()]}})]}}),null),t(u,i(W,{}),null),t(u,i(_,{get when(){return!B()},get children(){var n=ne(),b=n.firstChild;return t(b,i(_,{get when(){return e?.item?.bagnumber},get children(){var o=ie(),w=o.firstChild;return o.$$click=()=>m(e?.item?.bagnumber),t(w,()=>x(e?.item?.bagnumber)),o}})),t(n,i(_,{get when(){return e?.item?.tracking},get children(){var o=re(),w=o.firstChild;return o.$$click=()=>m(x(e?.item?.tracking)),t(w,()=>x(e?.item?.tracking)),D(()=>ee(o,"data-tracking",`${e?.item?.tracking}`)),o}}),null),n}}),null),t(u,i(_,{get when(){return j?.profile?.isAdmin},get children(){var n=M();return n.$$click=v,t(n,i(k,{name:"home",size:24})),n}}),null),t(u,i(_,{get when(){return!e?.item?.bagnumber||j?.profile?.isAdmin},get children(){var n=M();return n.$$click=d,t(n,i(k,{name:"outline_delete",size:24})),n}}),null),t($,i(_,{get when(){return!B()&&e?.item?.consigneeInfo?.ybstreet},get children(){var n=Pe();return t(n,()=>se(e?.item?.consigneeInfo)),n}}),y),t($,i(W,{}),y),t(h,()=>e?.item?.consigneeInfo?.ybreparto),t(S,()=>e?.item?.consigneeInfo?.ybcity),t(I,()=>e?.item?.consigneeInfo?.ybestate),t(s,i(_,{get when(){return B()&&e?.item?.consigneeInfo?.ybcity},get children(){return[Ae(),(()=>{var n=Ee(),b=n.firstChild,o=b.nextSibling,w=o.nextSibling,H=w.nextSibling;return t(b,l),t(w,a),t(H,()=>se(e?.item?.consigneeInfo)),n})()]}}),null),t(s,i(Ue,{get item(){return e?.item}}),null),D(()=>oe(s,`client_item_box gWXAaj jlytmu ${B()?"isMobile":""}`)),s}})}const Ue=e=>{const[r,l]=T(0),[a,c]=be(),d=m=>()=>c(()=>l(m));return i(xe,{get children(){return[(()=>{var m=Me(),v=m.firstChild,x=v.firstChild,L=x.firstChild,s=v.nextSibling,u=s.firstChild,$=u.firstChild,y=s.nextSibling,h=y.firstChild,C=h.firstChild,S=y.nextSibling,E=S.firstChild,I=E.firstChild;return q(v,"click",d(1),!0),t(L,i(k,{name:"list_dot",size:24})),q(s,"click",d(2),!0),t($,i(k,{name:"receipt",size:24})),q(y,"click",d(3),!0),t(C,i(k,{name:"send",size:24})),q(S,"click",d(4),!0),t(I,i(k,{name:"store",size:24})),D(n=>{var b=r()===1,o=r()===2,w=r()===3,H=r()===4;return b!==n.e&&v.classList.toggle("selected",n.e=b),o!==n.t&&s.classList.toggle("selected",n.t=o),w!==n.a&&y.classList.toggle("selected",n.a=w),H!==n.o&&S.classList.toggle("selected",n.o=H),n},{e:void 0,t:void 0,a:void 0,o:void 0}),m})(),(()=>{var m=De();return t(m,i(z,{get fallback(){return R()},get children(){return i(he,{get children(){return[i(Q,{get when(){return r()===1},get children(){return i(_,{get when(){return r()===1},get children(){return i(Ke,{index:1,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key},get currentStatus(){return e?.item?.currentStatus}})}})}}),i(Q,{get when(){return r()===2},get children(){return i(_,{get when(){return r()===2},get children(){return i(Ze,{index:2,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(Q,{get when(){return r()===3},get children(){return i(_,{get when(){return r()===3},get children(){return i(et,{index:3,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(Q,{get when(){return r()===4},get children(){return i(_,{get when(){return r()===4},get children(){return i(tt,{index:4,get agency(){return e?.item?.agency},get id(){return e?.item?.ssg_track_key}})}})}})]}})}})),D(()=>m.classList.toggle("pending",!!a())),m})()]}})},Ke=e=>{const[r,{refetch:l}]=X(e?.id,async a=>{const c=await J(e?.idairguide,e?.id,["statusHistory","deliveryUserName","deliveryTime"]);let d=c?.statusHistory;if(c?.deliveryTime){let m={statusId:e?.currentStatus,timeStamp:c?.deliveryTime,userName:c?.deliveryUserName};d.push(m)}return d});return i(z,{get fallback(){return R()},get children(){var a=de();return t(a,i(ce,{get each(){return r()},children:c=>i(Xe,{item:c})})),a}})},Xe=e=>(()=>{var r=Le(),l=r.firstChild,a=l.nextSibling,c=a.firstChild,d=c.nextSibling,m=d.nextSibling,v=m.nextSibling;v.nextSibling;var x=a.nextSibling;return t(l,()=>Z("M023009")?.statusObjDesc[e?.item?.statusId]),t(a,()=>ve(e?.item?.timeStamp),d),t(a,()=>$e(e?.item?.timeStamp),v),t(x,()=>e?.item?.userName),r})(),Ze=e=>{const[r,{refetch:l}]=X(e?.id,async d=>(await J(e?.idairguide,e?.id,["hbls"]))?.hbls),a=async(d,m)=>{let v=[];r().map(x=>{x.hbl===d&&(x={...x,...m}),v.push(x)}),await Y({ssg_track_key:e?.id,idairguide:"all"},{hbls:v}),l()},c=async d=>{let m=[];r().map(v=>{v.hbl!==d&&m.push(v)}),await Y({ssg_track_key:e?.id,idairguide:"all"},{hbls:m}),l()};return i(z,{get fallback(){return R()},get children(){var d=de();return t(d,i(ce,{get each(){return r()},children:m=>i(pe,{item:m,updHbls:a,rmvHbls:c})})),d}})},Je=2.20462,pe=e=>{const[r,l]=T(0),[a,c]=T(0),[d,m]=T(0),[v,x]=T(0),L=h=>{we(h)};_e(()=>{e?.item?.pricePerPound&&m(e?.item?.pricePerPound),e?.item?.dutyFee&&x(e?.item?.dutyFee)});const s=(h,C,S)=>{e?.updHbls(e?.item?.hbl,{[h]:C}),S?l(!1):c(!1)},u=()=>{let h=e?.item?.pricePerPound;return h?"$ "+(h*1).toFixed(2):" agregar precio por libra"},$=()=>{let h=e?.item?.dutyFee;return h?"$ "+(h*1).toFixed(2):" agregar aranceles"},y=()=>{e?.rmvHbls(e?.item?.hbl)};return(()=>{var h=Te(),C=h.firstChild,S=C.nextSibling,E=S.nextSibling,I=E.nextSibling,n=I.firstChild,b=I.nextSibling,o=b.nextSibling,w=o.nextSibling,H=w.firstChild,ue=w.nextSibling,p=ue.nextSibling,V=p.nextSibling;return C.$$click=()=>L(e?.item?.hbl),t(C,()=>e?.item?.hbl),t(E,i(k,{name:"weight-kilogram",size:20})),t(I,()=>e?.item?.weight,n),t(o,i(k,{name:"weight-pound",size:20})),t(w,()=>(e?.item?.weight*Je).toFixed(2),H),t(p,()=>e?.item?.namegood),t(h,i(_,{get when(){return r()},get fallback(){return["|",(()=>{var f=M();return t(f,i(k,{name:"money",size:20})),f})(),(()=>{var f=ze();return f.$$click=()=>l(!r()),t(f,u),f})()]},get children(){var f=le();return t(f,i(ae,{width:"160px",backColor:"#ffffff",borderColor:"#b2b2b2",type:"number",borderActiveColor:"var(--background-red-ssg)",get value(){return d()},placeholder:"Precio por Libra",colors:"#2b2b2b",handleClick:N=>m(N),onEnter:N=>s("pricePerPound",N,1)})),f}}),V),t(h,i(_,{get when(){return a()},get fallback(){return["|",(()=>{var f=M();return t(f,i(k,{name:"warehouse",size:20})),f})(),(()=>{var f=Oe();return f.$$click=()=>c(!a()),t(f,$),f})()]},get children(){var f=le();return t(f,i(ae,{width:"160px",backColor:"#ffffff",borderColor:"#b2b2b2",type:"number",borderActiveColor:"var(--background-red-ssg)",get value(){return v()},placeholder:"Aranceles",colors:"#2b2b2b",handleClick:N=>x(N),onEnter:N=>s("dutyFee",N)})),f}}),V),V.$$click=y,t(V,i(k,{name:"outline_delete",size:20})),h})()},et=e=>{const[r,{refetch:l}]=X(e?.id,async a=>await J(e?.idairguide,e?.id,["nameshipper","shipperInfo:phoneNumber"]));return i(z,{get fallback(){return R()},get children(){var a=Fe(),c=a.firstChild,d=c.firstChild,m=c.nextSibling,v=m.firstChild;return t(d,()=>r()?.nameshipper),t(v,()=>r()?.shipperInfo?.phoneNumber),a}})},tt=e=>{const r=()=>Z("M023009")?.agencies?.filter(a=>e?.agency===a?.id?.toString())?.[0];return i(z,{get fallback(){return R()},get children(){var l=Re(),a=l.firstChild,c=a.firstChild;return t(c,()=>r()?.label),l}})},it=async e=>{let r={params:e},l=O(809005);return r={...r,...l},(await F(r))?.data},rt=async e=>{let r={params:e},l=O(409098);return r={...r,...l},(await F(r))?.data},J=async(e,r,l)=>{let a={params:{id:r,idairguide:"all"},fldsQry:l},c=O(802002);a={...a,...c};const d=await F(a);return d?.data?.error?{}:d},nt=async e=>{if(e.length>4){let r={params:{}};e&&e.split(" ").map((c,d)=>{c&&(r.params[":search"+d]=c.trim())});let l=O(401001);return r={...r,...l},await F(r)}else return{}},Y=async(e,r)=>{let l={params:e,data2update:r},a=O(809004);return l={...l,...a},await F(l)},lt=e=>{const r=async()=>{let l={consigneeInfo:{cid:e?.item?.cid,firstName:e?.item?.firstName,lastName:e?.item?.lastName,lastName2:e?.item?.lastName2,middleName:e?.item?.middleName,phoneNumber:e?.item?.phoneNumber,ybapt:e?.item?.ybapt,ybbetwen1:e?.item?.ybbetwen1,ybbetwen2:e?.item?.ybbetwen2,ybcity:e?.item?.ybcity,ybestate:e?.item?.ybestate,ybreparto:e?.item?.ybreparto,ybstreet:e?.item?.ybstreet,ybstreetNo:e?.item?.ybstreetNo},city:e?.item?.ybcity,estate:e?.item?.ybestate};await Y({ssg_track_key:e?.it?.ssg_track_key,idairguide:"all"},l),fe(e?.modalId)};return(()=>{var l=Ve(),a=l.firstChild,c=a.nextSibling;return l.style.setProperty("height","clamp(20vh, 45vh, 80vh)"),l.style.setProperty("overflow","auto"),l.style.setProperty("background","#ffffff"),l.style.setProperty("border-radius","13"),l.style.setProperty("padding","10px 19px"),t(a,i(je,{get item(){return e?.item},refresh:()=>isOpenDebounced(K())})),t(c,i(Ge,{color:"rgb(200 25 60 / 1)",label:"Actualizar",handleClick:r})),D(d=>(d=B()?"96vw":"920px")!=null?l.style.setProperty("width",d):l.style.removeProperty("width")),l})()},G=(e,r)=>r?(()=>{var l=qe(),a=l.firstChild,c=a.nextSibling;return t(a," "+e),t(c,r),l})():"",se=e=>(()=>{var r=Qe();return t(r,()=>G("Calle",e?.ybstreet),null),t(r,()=>G("#",e?.ybstreetNo),null),t(r,()=>G("E/",e?.ybbetwen1),null),t(r,()=>G("y",e?.ybbetwen2),null),r})();me(["click"]);export{ft as default,se as getAddress};
