const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-DP92pPZD.js","assets/index-BZXQGr8I.js","assets/index-DI_XrWgU.css","assets/SVG-nYWhmofq.js","assets/AddInventory-DYjFXYJL.js","assets/DialogHRM-DzWfmHHw.js","assets/DialogHRM-V9_lZntj.css","assets/debounces-C1dO4n2P.js","assets/DashProducts-DFRfDl9W.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InventoryOut-C7aLY0r6.js","assets/DashInventory-BmqedAC-.js","assets/Toast-DHdi5F_B.js","assets/Toast-DLpFKn-Q.css","assets/LoadingColorSpinner-BRXQfn3B.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-CZEfQtVf.js","assets/InputHr-BXFw4d2l.css","assets/CheckBoxSlide-3kgKxhf9.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/ItemOnInventory-CobLlM07.js","assets/components-2680V997.js","assets/DropDwnSearch-BmBf_PVY.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as n,_ as d,a as b,c as D,o as x,b as I,D as $,i as c,e as s,x as R,S,R as T,F as O,Q as k,m as L,n as F,p as P,t as v,v as V,aG as h,O as w,am as M}from"./index-BZXQGr8I.js";import"./DialogHRM-DzWfmHHw.js";import{validStores as N}from"./AddInventory-DYjFXYJL.js";import{u as Q}from"./debounces-C1dO4n2P.js";import"./DashProducts-DFRfDl9W.js";import"./App.module-CbHnVtRQ.js";import"./FlexSpace-DP92pPZD.js";var q=v('<div class="_dsplFlx bottombx tr_bar_15"><h5>$'),z=v('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:16px><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px>'),B=v("<div> <!>."),Y=v("<div> ");n(()=>d(()=>import("./FlexSpace-DP92pPZD.js"),__vite__mapDeps([0,1,2])));n(()=>d(()=>import("./SVG-nYWhmofq.js"),__vite__mapDeps([3,1,2])));n(()=>d(()=>import("./AddInventory-DYjFXYJL.js"),__vite__mapDeps([4,1,2,5,6,7,8,9,10,0])));n(()=>d(()=>import("./InventoryOut-C7aLY0r6.js"),__vite__mapDeps([11,1,2,5,6,7,8,9,10,0,12,13,14,4])));const G=n(()=>d(()=>import("./LoadingColorSpinner-BRXQfn3B.js"),__vite__mapDeps([15,1,2,16]))),H=n(()=>d(()=>import("./InputHr-CZEfQtVf.js"),__vite__mapDeps([17,1,2,18])));n(()=>d(()=>import("./CheckBoxSlide-3kgKxhf9.js"),__vite__mapDeps([19,1,2,20])));const K=n(()=>d(()=>import("./ItemOnInventory-CobLlM07.js"),__vite__mapDeps([21,1,2,13,14,22]))),y=n(()=>d(()=>import("./DropDwnSearch-BmBf_PVY.js"),__vite__mapDeps([23,1,2,7,3,24])));function te(){b(0),b(0),b("");const[l,f]=D({store:"",search:""});x(()=>{}),I(()=>{});const[p,g]=b(""),m=Q(g,400),u=(e,r)=>{f({[e]:r}),m(V())},[_,{refetch:A}]=$(p,async e=>{let r=`${h(l?.search)} ${h(l?.store)} ${h(l?.type)}`;const o=await W(r);let i=[];return w(o).map(t=>{let a=o[t];a?.createDate||(a.createDate=a?.date||1734674400800),a?.type==="SALES"&&a?.products,i.push(a)}),M(i,"createDate",1)}),C=e=>{let r=0;return _()?.map(o=>{let i=o?.transport?o?.transport*1:0,t=o?.products?.reduce((a,E)=>a+E.price*E.qty,0);r+=t+i}),r};return[(()=>{var e=z(),r=e.firstChild,o=r.nextSibling,i=o.nextSibling;return c(r,s(H,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return l?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:t=>u("search",t)})),c(o,s(y,{list:[{id:"ENTRY",label:"ENTRADAS"},{id:"TRANSFER",label:"TRANSFERENCIAS"},{id:"SALES",label:"VENTAS"}],lbl_empty:"Tipo de Movimiento",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return l?.type},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:t=>u("type",t.id),width:"260px"})),c(i,s(y,{get list(){return N()},lbl_empty:"Almacen",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return l?.store},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:t=>u("store",t.id),width:"260px"})),c(e,s(S,{get when(){return!R()},get children(){var t=q(),a=t.firstChild;return a.firstChild,c(a,()=>C()?.toFixed(2),null),t}}),null),e})(),s(k,{fallback:e=>(()=>{var r=B(),o=r.firstChild,i=o.nextSibling;return i.nextSibling,c(r,()=>e.toString(),i),r})(),get children(){return s(T,{get fallback(){return(()=>{var e=Y();return e.firstChild,c(e,s(G,{stroke:"rgb(200 25 60 / 1)",size:62}),null),e})()},get children(){return s(S,{get when(){return _()},get children(){return s(O,{get each(){return _()},children:(e,r)=>s(K,{item:e,refetch:A})})}})}})}})]}const W=async(l,f)=>{let p={params:{businessId:L?.profile?.businessYId}};l&&l.split(" ").map((u,_)=>{u&&(p.params[":search"+_]=u.trim())});let g=F(132001);p={...p,...g},p.params[":search0"];const m=await P(p);return m?.error?{}:m};export{W as LookupInventory,te as default};
