const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-C0Mzn-ya.js","assets/index-DfnndQVu.js","assets/index-DGHHyjai.css","assets/SVG-B3M6J_R5.js","assets/index-Ci0zXM0r.js","assets/ShowQR-BmM7UmcU.js","assets/globalSignal-B85JDhH1.js","assets/ShowQRPrintLabel-NZ0q9ufT.js","assets/fontkit.es-DEjOtITv.js","assets/qrcode-C5vWJp7P.js","assets/InitPrintServices-khaE0HRx.js","assets/Util-uEfv1z7O.js","assets/Toast-DVa0BnZN.js","assets/Toast-DLpFKn-Q.css","assets/ButonHrm-CWmogd9k.js","assets/ButonHrm-BSeWNUGQ.css","assets/ItemOnConsigner-BGAo2oy8.js","assets/DialogHRM-AsYatAEW.js","assets/DialogHRM-V9_lZntj.css","assets/ContainerElasticView-BkQ42HNO.js","assets/ContainerElasticView-LzOd6fDI.css"])))=>i.map(i=>d[i]);
import{l as C,_ as k,e as ee,d as i,i as t,S as b,t as _,f as N,n as W,k as K,g as re,a as ne,v as L,q as A,w as le,M as D,b as Q,F as te,x as ae}from"./index-DfnndQVu.js";import{g as O,a as j,p as se,c as ce,O as de,b as E,f as M}from"./Util-uEfv1z7O.js";import{OpenModal as q,CloseModal as me}from"./DialogHRM-AsYatAEW.js";import ue from"./ContainerElasticView-BkQ42HNO.js";import{i as I}from"./globalSignal-B85JDhH1.js";import{c as ge}from"./ShowQRPrintLabel-NZ0q9ufT.js";import"./index-Ci0zXM0r.js";import"./SVG-B3M6J_R5.js";/* empty css                             */import"./fontkit.es-DEjOtITv.js";import"./qrcode-C5vWJp7P.js";import"./InitPrintServices-khaE0HRx.js";import"./Toast-DVa0BnZN.js";var he=_('<div class=" tr_bar_20 _dsplFlx"><div class="icon_status centerBx"></div><div class=bottombx><h5>'),_e=_('<div><div class="icon_status centerBx">'),oe=_('<div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),be=_("<div class=bag_number><h5>"),ve=_('<div class="_dsplFlx "><div class="_dsplFlx bottombx"><p></p></div><p class="tr_bar_30 textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class="tr_bar_20 textleft">'),$e=_('<div class="_dsplFlx bottombx"><h5>'),fe=_('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx topbx centerBx">');const F=C(()=>k(()=>import("./FlexSpace-C0Mzn-ya.js"),__vite__mapDeps([0,1,2]))),X=C(()=>k(()=>import("./SVG-B3M6J_R5.js"),__vite__mapDeps([3,1,2,4]))),ye=C(()=>k(()=>import("./ShowQR-BmM7UmcU.js"),__vite__mapDeps([5,1,2,6,7,8,4,9,10,11,12,13])));function xe(e){const r=s=>s?" "+s:"",n=()=>{let s=e?.item?.consigneeInfo;return r(s?.firstName)+r(s?.middleName)+r(s?.lastName)+r(s?.lastName2)},l=()=>{let s=e?.item?.consigneeInfo,v=r(s?.altPhoneNumber);return r(s?.phoneNumber)+(v?" |"+v:"")},d=()=>{let s=e?.item?.street.split(",");return s.slice(0,s.length-2).join(",")},o=()=>{let s=e?.item?.hbls.length;const v=e?.item?.hbls.reduce((a,c)=>a+`${a?"/":""}${c.hbl}/${c.quantity}/${c.weight}`,"");let g=`${e?.item?.idairguide}/${e?.item?.cidentity}/${s}/${v}`,h={};h.id=O(),h.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},h.content=i(ye,{val:g,get item(){return e?.item}}),q(h)};return i(b,{get when(){return e?.item?.tracking},get children(){var s=fe(),v=s.firstChild;return t(v,i(b,{get when(){return e?.item?.tracking},get children(){return[(()=>{var g=he(),h=g.firstChild,a=h.nextSibling,c=a.firstChild;return t(h,i(X,{name:"alert",size:32,color:"var(--background-red-ssg)"})),t(c,()=>e?.item?.idairnumber),g})(),(()=>{var g=_e(),h=g.firstChild;return t(h,i(X,{name:"link-off",size:32,color:"var(--background-red-ssg)"})),g})(),(()=>{var g=oe(),h=g.firstChild,a=h.nextSibling,c=a.nextSibling;return t(h,()=>e?.item?.consigneeInfo?.ybcity),t(c,()=>e?.item?.consigneeInfo?.ybestate),g})()]}}),null),t(v,i(F,{}),null),t(v,i(b,{get when(){return e?.item?.bagnumber},get children(){var g=be(),h=g.firstChild;return g.$$click=o,t(h,()=>e?.item?.bagnumber),g}}),null),t(s,i(b,{get when(){return e?.item?.consigneeInfo?.ybcity},get children(){var g=ve(),h=g.firstChild,a=h.firstChild,c=h.nextSibling,f=c.nextSibling,$=f.nextSibling;return t(a,d),t(g,i(F,{}),c),t(c,n),t($,l),g}}),null),t(s,i(b,{when:!1,get children(){var g=$e(),h=g.firstChild;return t(g,i(F,{}),h),t(h,()=>e?.item?.nameshipper),t(g,i(F,{}),null),g}}),null),s}})}ee(["click"]);var H=_('<div class="icon_status centerBx">'),we=_("<div class=guide_number><h5>"),Se=_('<div class=" tr_bar_10 _dsplFlx">'),Z=_("<div class=bag_number><h5>"),J=_("<div class=bottombx><h5>"),p=_("<div><div>"),Ce=_('<p class="tr_bar_30 textleft fullName_consigne">'),ke=_("<div style=margin-right:4vw>"),Ie=_('<h4 class="tr_bar_20 textleft">'),Ne=_("<p>"),Be=_('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),Ae=_('<div><div class="_dsplFlx topbx centerBx"></div><div class="_dsplFlx bottombx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),Ee=_('<ul class=inline><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Movimientos</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">HBLS</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Embarcador</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Agency'),Me=_("<div class=tab>"),P=_("<div class=loader>Loading..."),ie=_("<div>"),Pe=_('<div class="centerBx bottombx"><h4 class=""></h4><h5>el <!> a las <!> por</h5><h4 class="">'),Te=_('<div class="centerBx bottombx"><h4 class=""></h4><h5> KG</h5><h4 class="">'),Le=_("<div class=bottombx><div><h4></h4></div><div><h5>"),De=_("<div class=bottombx><div><h4>"),Fe=_('<div><div style=max-height:220px></div><div class="centerBx flxWrp spaceAround ">');const R=C(()=>k(()=>import("./FlexSpace-C0Mzn-ya.js"),__vite__mapDeps([0,1,2]))),S=C(()=>k(()=>import("./SVG-B3M6J_R5.js"),__vite__mapDeps([3,1,2,4]))),He=C(()=>k(()=>import("./ButonHrm-CWmogd9k.js"),__vite__mapDeps([14,1,2,3,4,11,15]))),Oe=C(()=>k(()=>import("./ShowQR-BmM7UmcU.js"),__vite__mapDeps([5,1,2,6,7,8,4,9,10,11,12,13]))),ze=C(()=>k(()=>import("./ItemOnConsigner-BGAo2oy8.js"),__vite__mapDeps([16,1,2,11,4,17,18,19,3,20,6,8,9,12,13,14,15])));let V={YABA_99:"check_circle"};function ut(e){const r=a=>a?" "+a:"",n=()=>{let a=e?.item?.consigneeInfo;return r(a?.firstName)+r(a?.middleName)+r(a?.lastName)+r(a?.lastName2)},l=()=>{let a=e?.item?.consigneeInfo,c=r(a?.altPhoneNumber);return r(a?.phoneNumber)+(c?" |"+c:"")},d=()=>{let a=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let c=a.reduce((f,$)=>Math.min(f,$.timeStamp),1/0);return Math.floor((new Date().getTime()-c)/864e5)}else return null},o=async()=>{let a={ssg_track_key:e?.item?.ssg_track_key,idairguide:e?.item?.idairguide};e?.item?.bagnumber&&await We({id:e?.item?.bagnumber}),e?.item?.hbls?.map(async c=>{}),await Ue(a),e?.refresh()},s=()=>{let a=e?.item?.street.split(",");return a.slice(0,a.length-2).join(",")},v=a=>{let c="";if(a)c=a;else if(e?.item?.hblS){let $=e?.item?.hblS;c=`${e?.item?.idairguide}/${e?.item?.cidentity}/${$}`}let f={};f.id=O(),f.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},f.content=i(Oe,{val:c,get item(){return e?.item}}),q(f)},g=async a=>{let c=await Ke(e?.item?.cidentity),f=de(c)?.[0],$=O(),w={};w.id=$,w.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},w.content=i(Ze,{get item(){return c?.[f]},get it(){return e?.item},modalId:$}),q(w)},h=a=>{let c=a,f="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const $=new RegExp(f);return c.length===13&&$.test(c)&&(c=c.slice(3,12)),c};return e?.filter?i(xe,{get item(){return e?.item},get filter(){return e?.filter}}):i(b,{get when(){return e?.item?.cidentity},get children(){var a=Ae(),c=a.firstChild,f=c.nextSibling,$=f.firstChild,w=$.firstChild,z=w.nextSibling,B=z.nextSibling;return t(c,i(b,{get when(){return e?.item?.cidentity},get children(){return[(()=>{var m=Se();return t(m,i(b,{get when(){return V[e?.item?.currentStatus]},get children(){var y=H();return t(y,i(S,{get name(){return V?.[e?.item?.currentStatus]},size:32,color:"var(--hrm-palette-tertiary60)"})),y}}),null),t(m,i(b,{get when(){return!V[e?.item?.currentStatus]},get children(){var y=H();return t(y,i(S,{get name(){return j("M023009")?.statusListIcons?.[e?.item?.currentStatus]},size:32})),y}}),null),t(m,i(b,{get when(){return d()},get children(){var y=we(),u=y.firstChild;return t(u,d),y}}),null),m})(),i(b,{get when(){return I()},get children(){return[i(R,{}),(()=>{var m=p(),y=m.firstChild;return t(y,i(b,{get when(){return e?.item?.bagnumber},get children(){var u=Z(),x=u.firstChild;return u.$$click=()=>v(e?.item?.bagnumber),t(x,()=>e?.item?.bagnumber),u}})),t(m,i(b,{get when(){return e?.item?.tracking},get children(){var u=J(),x=u.firstChild;return u.$$click=()=>v(h(e?.item?.tracking)),t(x,()=>h(e?.item?.tracking)),u}}),null),m})()]}}),i(b,{get when(){return!I()},get children(){return[(()=>{var m=Ce();return t(m,n),N(()=>W(m,"data-name",`${e?.item?.cidentity}`)),m})(),ke(),(()=>{var m=Ie();return t(m,l),m})()]}})]}}),null),t(c,i(R,{}),null),t(c,i(b,{get when(){return!I()},get children(){var m=p(),y=m.firstChild;return t(y,i(b,{get when(){return e?.item?.bagnumber},get children(){var u=Z(),x=u.firstChild;return u.$$click=()=>v(e?.item?.bagnumber),t(x,()=>h(e?.item?.bagnumber)),u}})),t(m,i(b,{get when(){return e?.item?.tracking},get children(){var u=J(),x=u.firstChild;return u.$$click=()=>v(h(e?.item?.tracking)),t(x,()=>h(e?.item?.tracking)),N(()=>W(u,"data-tracking",`${e?.item?.tracking}`)),u}}),null),m}}),null),t(c,i(b,{get when(){return K?.profile?.isAdmin},get children(){var m=H();return m.$$click=g,t(m,i(S,{name:"home",size:24})),m}}),null),t(c,i(b,{get when(){return!e?.item?.bagnumber||K?.profile?.isAdmin},get children(){var m=H();return m.$$click=o,t(m,i(S,{name:"outline_delete",size:24})),m}}),null),t(f,i(b,{get when(){return!I()&&e?.item?.consigneeInfo?.ybcity},get children(){var m=Ne();return t(m,s),m}}),$),t(f,i(R,{}),$),t(w,()=>e?.item?.consigneeInfo?.ybcity),t(B,()=>e?.item?.consigneeInfo?.ybestate),t(a,i(b,{get when(){return I()&&e?.item?.consigneeInfo?.ybcity},get children(){var m=Be(),y=m.firstChild,u=y.nextSibling,x=u.nextSibling,T=x.nextSibling;return t(y,n),t(x,l),t(T,s),m}}),null),t(a,i(Re,{get item(){return e?.item}}),null),N(()=>re(a,`client_item_box gWXAaj jlytmu ${I()?"isMobile":""}`)),a}})}const Re=e=>{const[r,n]=ne(0),[l,d]=ae(),o=s=>()=>d(()=>n(s));return i(ue,{get children(){return[(()=>{var s=Ee(),v=s.firstChild,g=v.firstChild,h=g.firstChild,a=v.nextSibling,c=a.firstChild,f=c.firstChild,$=a.nextSibling,w=$.firstChild,z=w.firstChild,B=$.nextSibling,m=B.firstChild,y=m.firstChild;return L(v,"click",o(1),!0),t(h,i(S,{name:"list_dot",size:24})),L(a,"click",o(2),!0),t(f,i(S,{name:"receipt",size:24})),L($,"click",o(3),!0),t(z,i(S,{name:"send",size:24})),L(B,"click",o(4),!0),t(y,i(S,{name:"store",size:24})),N(u=>{var x=r()===1,T=r()===2,G=r()===3,U=r()===4;return x!==u.e&&v.classList.toggle("selected",u.e=x),T!==u.t&&a.classList.toggle("selected",u.t=T),G!==u.a&&$.classList.toggle("selected",u.a=G),U!==u.o&&B.classList.toggle("selected",u.o=U),u},{e:void 0,t:void 0,a:void 0,o:void 0}),s})(),(()=>{var s=Me();return t(s,i(A,{get fallback(){return P()},get children(){return i(le,{get children(){return[i(D,{get when(){return r()===1},get children(){return i(b,{get when(){return r()===1},get children(){return i(Ve,{index:1,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key},get currentStatus(){return e?.item?.currentStatus}})}})}}),i(D,{get when(){return r()===2},get children(){return i(b,{get when(){return r()===2},get children(){return i(Qe,{index:2,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(D,{get when(){return r()===3},get children(){return i(b,{get when(){return r()===3},get children(){return i(Ye,{index:3,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(D,{get when(){return r()===4},get children(){return i(b,{get when(){return r()===4},get children(){return i(Ge,{index:4,get agency(){return e?.item?.agency},get id(){return e?.item?.ssg_track_key}})}})}})]}})}})),N(()=>s.classList.toggle("pending",!!l())),s})()]}})},Ve=e=>{const[r,{refetch:n}]=Q(e?.id,async l=>{const d=await Y(e?.idairguide,e?.id,["statusHistory","deliveryUserName","deliveryTime"]);let o=d?.statusHistory;if(d?.deliveryTime){let s={statusId:e?.currentStatus,timeStamp:d?.deliveryTime,userName:d?.deliveryUserName};o.push(s)}return o});return i(A,{get fallback(){return P()},get children(){var l=ie();return t(l,i(te,{get each(){return r()},children:d=>i(qe,{item:d})})),l}})},qe=e=>(()=>{var r=Pe(),n=r.firstChild,l=n.nextSibling,d=l.firstChild,o=d.nextSibling,s=o.nextSibling,v=s.nextSibling;v.nextSibling;var g=l.nextSibling;return t(n,()=>j("M023009")?.statusObjDesc[e?.item?.statusId]),t(l,()=>se(e?.item?.timeStamp),o),t(l,()=>ce(e?.item?.timeStamp),v),t(g,()=>e?.item?.userName),r})(),Qe=e=>{const[r,{refetch:n}]=Q(e?.id,async l=>(await Y(e?.idairguide,e?.id,["hbls"]))?.hbls);return i(A,{get fallback(){return P()},get children(){var l=ie();return t(l,i(te,{get each(){return r()},children:d=>i(je,{item:d})})),l}})},je=e=>{const r=n=>{ge(n)};return(()=>{var n=Te(),l=n.firstChild,d=l.nextSibling,o=d.firstChild,s=d.nextSibling;return l.$$click=()=>r(e?.item?.hbl),t(l,()=>e?.item?.hbl),t(d,()=>e?.item?.weight,o),t(s,()=>e?.item?.namegood),n})()},Ye=e=>{const[r,{refetch:n}]=Q(e?.id,async l=>await Y(e?.idairguide,e?.id,["nameshipper","shipperInfo:phoneNumber"]));return i(A,{get fallback(){return P()},get children(){var l=Le(),d=l.firstChild,o=d.firstChild,s=d.nextSibling,v=s.firstChild;return t(o,()=>r()?.nameshipper),t(v,()=>r()?.shipperInfo?.phoneNumber),l}})},Ge=e=>{const r=()=>j("M023009")?.agencies?.filter(l=>e?.agency===l?.id?.toString())?.[0];return i(A,{get fallback(){return P()},get children(){var n=De(),l=n.firstChild,d=l.firstChild;return t(d,()=>r()?.label),n}})},Ue=async e=>{let r={params:e},n=E(809005);return r={...r,...n},(await M(r))?.data},We=async e=>{let r={params:e},n=E(409098);return r={...r,...n},(await M(r))?.data},Y=async(e,r,n)=>{let l={params:{id:r,idairguide:e},fldsQry:n},d=E(802002);l={...l,...d};const o=await M(l);return o?.data?.error?{}:o},Ke=async e=>{if(e.length>4){let r={params:{}};e&&e.split(" ").map((d,o)=>{d&&(r.params[":search"+o]=d.trim())});let n=E(401001);return r={...r,...n},await M(r)}else return{}},Xe=async(e,r)=>{let n={params:e,data2update:r},l=E(809004);return n={...n,...l},await M(n)},Ze=e=>{const r=async()=>{let n={consigneeInfo:{cid:e?.item?.cid,firstName:e?.item?.firstName,lastName:e?.item?.lastName,lastName2:e?.item?.lastName2,middleName:e?.item?.middleName,phoneNumber:e?.item?.phoneNumber,ybapt:e?.item?.ybapt,ybbetwen1:e?.item?.ybbetwen1,ybbetwen2:e?.item?.ybbetwen2,ybcity:e?.item?.ybcity,ybestate:e?.item?.ybestate,ybreparto:e?.item?.ybreparto,ybstreet:e?.item?.ybstreet,ybstreetNo:e?.item?.ybstreetNo},city:e?.item?.ybcity,estate:e?.item?.ybestate};await Xe({ssg_track_key:e?.it?.ssg_track_key,idairguide:e?.it?.idairguide},n),me(e?.modalId)};return(()=>{var n=Fe(),l=n.firstChild,d=l.nextSibling;return n.style.setProperty("height","clamp(20vh, 45vh, 80vh)"),n.style.setProperty("overflow","auto"),n.style.setProperty("background","#ffffff"),n.style.setProperty("border-radius","13"),n.style.setProperty("padding","10px 19px"),t(l,i(ze,{get item(){return e?.item},refresh:()=>isOpenDebounced(O())})),t(d,i(He,{color:"rgb(200 25 60 / 1)",label:"Actualizar",handleClick:r})),N(o=>(o=I()?"96vw":"920px")!=null?n.style.setProperty("width",o):n.style.removeProperty("width")),n})()};ee(["click"]);export{ut as default};
