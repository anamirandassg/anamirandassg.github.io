const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-BsnWKJxZ.js","assets/index-BdPh1Ntw.js","assets/index-C5hUrAPZ.css","assets/DropDwnSearch-BFJlPszu.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ContainerElasticView-DPME8OJS.js","assets/ContainerElasticView-LzOd6fDI.css","assets/ButonHrm-K15iXvAo.js","assets/ButonHrm-BPLzySnX.css","assets/CheckBoxSlide-BcLNhbeM.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/InputHr-Cm1yESpy.js","assets/InputHr-M3rJ9grQ.css","assets/ItemOnEnvios-BWP0GxPj.js","assets/FlexSpace-7M5wFx6r.js","assets/ShowQR-BhDlk89A.js","assets/ItemOnEnviosMobile-CjZyMuQz.js","assets/isMobile-MIg_Xo_i.js"])))=>i.map(i=>d[i]);
import{l as p,_ as x,c as z,a as S,u as _e,p as he,f as me,b as fe,i as n,d as t,y as Q,S as u,z as ve,F as N,j as D,m as F,A as W,g as G,E as be,x as P,k as q,w as J,B as U,D as ee,n as H,e as ye,t as g,Z as $e,G as R,H as pe}from"./index-BdPh1Ntw.js";var xe=g("<div style=padding:4px>"),ke=g('<div class="icon_status centerBx">'),Ce=g('<div class="centerBx bottombx"style=margin-top:10px;><h5>Duplicados'),Se=g('<div><div class="centerBx bottombx "><h5 class="">Manifiesto Incorrecto'),Ie=g('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround "><div class="icon_status centerBx">'),we=g('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround ">'),Ee=g('<div class="client_item_box gWXAaj jlytmu"><div class=centerBx100><div class=plans>'),Ae=g('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div style="width:94vw;margin:0 auto;">'),Ge=g("<div> <!>."),De=g("<div> "),Be=g("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),te=g("<h5 class=totalBagsNo> <!> / "),re=g('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),ne=g("<div class=leftMrg> "),Me=g("<div class=bottombx><h4>"),Oe=g("<div>"),Le=g('<div class="_dsplFlx bottombx lowbordr"><div class=" bottombx spaceAround centerBx"><h5> :</h5><h4>'),Ne=g("<div style=padding:16px;margin-left:20px;>"),Fe=g('<div class="bottombx left centerBx"style=text-align:left;><h4></h4><h5>');const X=p(()=>x(()=>import("./LoadingColorSpinner-BsnWKJxZ.js"),__vite__mapDeps([0,1,2]))),Pe=p(()=>x(()=>import("./DropDwnSearch-BFJlPszu.js"),__vite__mapDeps([3,1,2,4]))),Re=p(()=>x(()=>import("./ContainerElasticView-DPME8OJS.js"),__vite__mapDeps([5,1,2,6]))),Ve=p(()=>x(()=>import("./ButonHrm-K15iXvAo.js"),__vite__mapDeps([7,1,2,8]))),Z=p(()=>x(()=>import("./CheckBoxSlide-BcLNhbeM.js"),__vite__mapDeps([9,1,2,10]))),Te=p(()=>x(()=>import("./InputHr-Cm1yESpy.js"),__vite__mapDeps([11,1,2,12]))),V=p(()=>x(()=>import("./index-BdPh1Ntw.js").then(e=>e.a8),__vite__mapDeps([1,2]))),je=p(()=>x(()=>import("./ItemOnEnvios-BWP0GxPj.js"),__vite__mapDeps([13,1,2,14,15,5,6]))),ze=p(()=>x(()=>import("./ItemOnEnviosMobile-CjZyMuQz.js"),__vite__mapDeps([16,1,2,14,15,5,6,17])));function Ue(){const[e,l]=z({list:{manifest:{id:"175-23834613",label:""},search:"",status:""}}),[r,a]=z({}),[c,d]=z({}),[h,k]=S(""),[_,I]=S(64),[w,C]=S(!1),[b,E]=S(!1),[T,O]=S(""),A=_e(k,400),L=(m,y)=>{l("list",{[m]:y}),A(G())},ie=()=>{C(!w()),A(G())},le=()=>{E(!b()),A(G())};he(()=>{}),me(()=>{});const ae=()=>{I(m=>m+64)},ce=m=>{let y=Math.ceil(m?.length/64);pe(ae,1250,y)},[B,{refetch:Ze}]=fe(h,async m=>{let y=e?.list?.manifest?.id;T()!==y&&O(y);const f=await He(e?.list?.search,y,e?.list?.status),j=await Xe(y);a(j),d("prov",void 0),I(0);let $=[],s={};return w()?D(f).map(o=>{let i=f[o];$e?.[i?.zone]?.[i?.consigneeInfo?.ybestate]||$.push(i)}):b()?D(f).map(o=>{let i=f[o];i?.currentStatus||$.push(i)}):(D(f).map(o=>{let i=f[o];s[i?.consigneeInfo?.ybestate]||(s[i?.consigneeInfo?.ybestate]={cities:{},total:0}),s[i?.consigneeInfo?.ybestate].cities?.[i?.consigneeInfo?.ybcity]||(s[i?.consigneeInfo?.ybestate].cities[i?.consigneeInfo?.ybcity]=0),s[i?.consigneeInfo?.ybestate].cities[i?.consigneeInfo?.ybcity]+=1,s[i?.consigneeInfo?.ybestate].total+=1,$.push(i)}),d("prov",s)),ce($),$}),Y=()=>B()?.length,oe=m=>{l("list",{manifest:m,status:void 0}),A(G())},ue=()=>{Ye(B())},de=()=>{Ke(B())},ge=()=>{e.status};return(()=>{var m=Ae(),y=m.firstChild,f=y.nextSibling,j=f.firstChild,$=f.nextSibling;return n(m,t(u,{get when(){return Q?.profile?.isAdmin},get children(){return t(Ve,{color:"rgb(200 25 60 / 1)",label:"updManifest",handleClick:ue})}}),f),n(j,t(Pe,{list:ve,lbl_empty:"Manifiesto",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:s=>oe(s),width:"260px"})),n(f,t(u,{get when(){return e?.list?.manifest?.id},get children(){return[(()=>{var s=xe();return n(s,t(Te,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return e?.list?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:o=>L("search",o)})),s})(),(()=>{var s=Se(),o=s.firstChild,i=o.firstChild;return n(o,t(Z,{get initValue(){return w()},updChange:ie,color:"var(--background-red-ssg)"}),i),n(s,t(u,{get when(){return Q?.profile?.isAdmin},get children(){var v=Ce(),K=v.firstChild;return n(v,t(Z,{get initValue(){return b()},updChange:le,color:"var(--background-red-ssg)"}),K),n(v,t(u,{get when(){return b()},get children(){var M=ke();return M.$$click=de,n(M,t(V,{name:"outline_delete",size:24})),M}}),null),v}}),null),s})()]}}),null),n($,t(u,{get when(){return!1},get children(){var s=Ie(),o=s.firstChild,i=o.firstChild;return i.$$click=ge,n(i,t(V,{name:"outline_renew",size:24})),s}}),null),n($,t(u,{get when(){return e?.list?.manifest?.id},get children(){var s=we(),o=s.firstChild;return n(o,t(u,{get when(){return r?.total},get children(){return t(N,{get each(){return D(r)},children:(i,v)=>F()?t(We,{keyG:i,total:Y,get status(){return e?.list?.status},get amount(){return r?.[i]},updForm:L}):t(qe,{keyG:i,total:Y,get status(){return e?.list?.status},get amount(){return r?.[i]},updForm:L})})}})),s}}),null),n($,t(u,{get when(){return c?.prov},get children(){var s=Ee(),o=s.firstChild,i=o.firstChild;return n(i,t(u,{get when(){return c?.prov},get children(){return t(N,{get each(){return D(c?.prov)},children:(v,K)=>t(Qe,{ism:v,get item(){return c?.prov?.[v]},updS:M=>L("search",M)})})}})),s}}),null),n($,t(be,{fallback:s=>(()=>{var o=Ge(),i=o.firstChild,v=i.nextSibling;return v.nextSibling,n(o,()=>s.toString(),v),o})(),get children(){return t(W,{get fallback(){return(()=>{var s=De();return s.firstChild,n(s,t(X,{stroke:"rgb(200 25 60 / 1)",size:62}),null),s})()},get children(){return t(u,{get when(){return B()},get children(){return t(N,{get each(){return B()?.slice(0,_())},children:(s,o)=>[t(u,{get when(){return!F()},get children(){return t(je,{item:s,refresh:()=>A(G())})}}),t(u,{get when(){return F()},get children(){return t(ze,{item:s,refresh:()=>A(G())})}})]})}})}})}}),null),m})()}const qe=e=>{const[l,r]=S(!1),[a,c]=S(0),d=()=>{let _=e?.keyG;e?.keyG==="total"&&(_=null),e?.updForm("status",_)},h=()=>{l()||!F()&&e?.keyG!=="total"&&(c(P?.[e?.keyG]?.length*8.5+"px"),r(!0))},k=()=>{c("0px"),l()&&r(!1)};return t(u,{get when(){return e?.amount>0},get children(){return t(W,{get fallback(){return(()=>{var _=ne();return _.firstChild,n(_,t(X,{stroke:"rgb(200 25 60 / 1)",size:32}),null),_})()},get children(){var _=re(),I=_.firstChild,w=I.nextSibling;return _.$$mouseout=k,_.$$mousemove=h,_.$$click=d,n(_,t(u,{get when(){return l()},get children(){var C=Be(),b=C.firstChild,E=b.firstChild,T=E.firstChild;return n(T,()=>P?.[e?.keyG]),q(O=>(O=a())!=null?b.style.setProperty("width",O):b.style.removeProperty("width")),C}}),I),n(I,t(V,{get name(){return J?.[e?.keyG]},size:22})),n(_,t(u,{get when(){return e?.keyG==="total"},get children(){var C=te(),b=C.firstChild,E=b.nextSibling;return E.nextSibling,n(C,()=>e?.total(),E),C}}),w),n(w,()=>e?.amount),q(()=>U(_,`resumeStatus centerBx ${e?.keyG==="total"?"witXs":""}  ${e?.status===e?.keyG?"active":""}`)),_}})}})},We=e=>{const l=()=>{let r=e?.keyG;e?.keyG==="total"&&(r=null),e?.updForm("status",r)};return t(u,{get when(){return e?.amount>0},get children(){return t(W,{get fallback(){return(()=>{var r=ne();return r.firstChild,n(r,t(X,{stroke:"rgb(200 25 60 / 1)",size:32}),null),r})()},get children(){var r=re(),a=r.firstChild,c=a.nextSibling;return r.$$click=l,n(a,t(V,{get name(){return J?.[e?.keyG]},size:22})),n(r,t(u,{get when(){return P?.[e?.keyG]},get children(){var d=Me(),h=d.firstChild;return n(h,()=>P?.[e?.keyG]),d}}),c),n(r,t(u,{get when(){return e?.keyG==="total"},get children(){var d=te(),h=d.firstChild,k=h.nextSibling;return k.nextSibling,n(d,()=>e?.total(),k),d}}),c),n(c,()=>e?.amount),q(()=>U(r,`resumeStatus centerBx  spaceAround ${e?.status===e?.keyG?"active":""}`)),r}})}})},He=async(e,l,r)=>{let a={params:{idairguide:l,":search5":l},fldsQry:["street","agency","idairguide","currentStatus","cidentity","ssg_track_key","bagnumber","tracking","consigneeInfo:phoneNumber","consigneeInfo:altPhoneNumber","consigneeInfo:firstName","consigneeInfo:middleName","consigneeInfo:lastName","consigneeInfo:ybestate","consigneeInfo:ybcity"],query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4 AND !* contain :search5 AND currentStatus = :status AND agency = :agency"};if(e&&e.split(" ").map((c,d)=>{c&&(a.params[":search"+d]=c.trim())}),r&&(a.params[":status"]=r),R?.roles?.agency&&(a.params[":agency"]=R?.roles?.agency+""),l&&Object.keys(a.params).length>=2){const c=await H(a);return console.log(JSON.stringify(a,null,4)),c?.data?.error?{}:c}return{}},Xe=async e=>{let l={params:{idairguide:e},query:"getGroupStatusLogisticYabaExpress",queryString:"agency = :agency"};R?.roles?.agency&&(l.params[":agency"]=R?.roles?.agency+"");const r=await H(l);return r?.data?.error?{}:r},Ye=async e=>{e.map(l=>{l?.ssg_track_key,l?.idairguide})},Ke=async e=>{let l=[];e.map(r=>{let a={params:{ssg_track_key:r?.ssg_track_key,idairguide:r?.idairguide},query:"deleteLogisticYabaExpress"};l.push(a)}),ee(l,se)},et=async(e,l)=>{let r=[];e.map(a=>{let c={params:{ssg_track_key:a?.ssg_track_key,idairguide:a?.idairguide},data2update:{currentStatus:l},query:"updateLogisticYabaExpress"};r.push(c)}),ee(r,se)},se=async e=>{const r=await H(e);if(r)return r},Qe=e=>(()=>{var l=Oe();return n(l,t(u,{get when(){return e?.item?.total>0},get children(){var r=Le(),a=r.firstChild,c=a.firstChild,d=c.firstChild,h=c.nextSibling;return a.$$click=()=>e?.updS(e?.ism),n(c,()=>e?.ism,d),n(h,()=>e?.item?.total),r}}),null),n(l,t(Re,{get children(){var r=Ne();return n(r,t(u,{get when(){return e?.item?.cities},get children(){return t(N,{get each(){return D(e?.item?.cities)},children:(a,c)=>(()=>{var d=Fe(),h=d.firstChild,k=h.nextSibling;return d.$$click=()=>e?.updS(`${e?.ism} ${a}`),n(h,a),n(k,()=>e?.item?.cities?.[a]),d})()})}})),r}}),null),l})();ye(["click","mousemove","mouseout"]);export{Ue as default,Ke as deleteManifest,se as fetchCSVInve,Ye as loadManifest,et as updateManifest};
