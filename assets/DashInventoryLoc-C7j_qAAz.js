const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-CujNE1G-.js","assets/index-tWWE3APe.js","assets/index-DeAzZMb6.css","assets/SVG-BxmKYklJ.js","assets/index-Ci0zXM0r.js","assets/AddInventory-F-EtSLhx.js","assets/globalSignal-SPKCYQS7.js","assets/Util-D2YTzGDx.js","assets/DialogHRM-CA8S7GoR.js","assets/DialogHRM-V9_lZntj.css","assets/debounces-BJRRuXT0.js","assets/DashProducts-BhQERw-E.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InventoryOut-CoEFM4kT.js","assets/DashInventory-Ds4zNnRx.js","assets/Toast-CXLct5eF.js","assets/Toast-DLpFKn-Q.css","assets/DropDwnSearch-BXKAzEqR.js","assets/DropDwnSearch-DMkLkRPc.css","assets/LoadingColorSpinner-4_YFF7L8.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-BepULZHV.js","assets/InputHr-M3rJ9grQ.css","assets/CheckBoxSlide-Dy_I2pUC.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/ItemOnGroupInventory-B9YGUDTL.js"])))=>i.map(i=>d[i]);
import{l as v,_ as x,a as P,c as V,o as N,h as M,b as j,i as r,d as e,k as q,t as c,j as B,E as H,S as i,r as W,F as z,f as S,g as w}from"./index-tWWE3APe.js";import{b as G,f as Q,O as A,g as X}from"./Util-D2YTzGDx.js";import"./DialogHRM-CA8S7GoR.js";import{i as d}from"./globalSignal-SPKCYQS7.js";import{validStores as Y}from"./AddInventory-F-EtSLhx.js";import{u as K}from"./debounces-BJRRuXT0.js";import"./index-Ci0zXM0r.js";import"./DashProducts-BhQERw-E.js";import"./App.module-CbHnVtRQ.js";import"./FlexSpace-CujNE1G-.js";var J=c('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:16px><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px>'),U=c("<div> <!>."),Z=c("<div> "),I=c('<p class=" textleft fullName_consigne">Producto'),D=c('<div class="_dsplFlx bottombx tr_bar_15"><h5>Envio'),ee=c('<div class="_dsplFlx bottombx tr_bar_15"><h5>Existencia'),L=c('<div class="_dsplFlx bottombx tr_bar_15"><h5>Costo'),te=c('<div class="_dsplFlx bottombx tr_bar_15"><h5>Total'),k=c('<div><div class="_dsplFlx bottombx centerBx"><div class="_dsplFlx bottombx tr_bar_40">'),re=c('<div class="_dsplFlx bottombx tr_bar_15"><h5>Venta'),le=c('<div class="_dsplFlx bottombx tr_bar_15"><h5>Ganancia'),F=c('<div class="_dsplFlx bottombx tr_bar_15 red"><h5>'),ie=c('<div class="_dsplFlx bottombx tr_bar_15"><h5>'),ne=c("<div><h5>"),se=c('<div class="_dsplFlx bottombx centerBx"><div class="_dsplFlx bottombx tr_bar_40 green"><h5 class=" textleft fullName_consigne">Resume</h5>');const C=v(()=>x(()=>import("./FlexSpace-CujNE1G-.js"),__vite__mapDeps([0,1,2])));v(()=>x(()=>import("./SVG-BxmKYklJ.js"),__vite__mapDeps([3,1,2,4])));v(()=>x(()=>import("./AddInventory-F-EtSLhx.js"),__vite__mapDeps([5,1,2,6,7,4,8,9,10,11,12,13,0])));v(()=>x(()=>import("./InventoryOut-CoEFM4kT.js"),__vite__mapDeps([14,1,2,6,7,4,8,9,10,11,12,13,0,15,16,17,5])));const R=v(()=>x(()=>import("./DropDwnSearch-BXKAzEqR.js"),__vite__mapDeps([18,1,2,10,3,4,19]))),oe=v(()=>x(()=>import("./LoadingColorSpinner-4_YFF7L8.js"),__vite__mapDeps([20,1,2,21]))),ae=v(()=>x(()=>import("./InputHr-BepULZHV.js"),__vite__mapDeps([22,1,2,23])));v(()=>x(()=>import("./CheckBoxSlide-Dy_I2pUC.js"),__vite__mapDeps([24,1,2,25])));const ce=v(()=>x(()=>import("./ItemOnGroupInventory-B9YGUDTL.js"),__vite__mapDeps([26,1,2,7,4,6,8,9,5,10,11,12,13,0])));function ye(){const[t,n]=P({}),[s,y]=P({}),[l,$]=V({store:"",search:""}),[o,g]=P(""),T=K(g,400),E=(u,m)=>{$({[u]:m}),T(X())};return N(()=>{}),M(()=>{}),j(o,async u=>{let m=`${l?.store} ${l?.search} `;if(!l?.store)return[];const f=await de(m,l?.type);let _={},p={cost:0,shipingCost:0,salePrice:0};return A(f).map(O=>{let b=f[O];b.products.map(a=>{l?.type&&b?.type!==l?.type||(_[a.product?.id]||(_[a.product?.id]={productName:a.product?.label,stock:0,invoices:{},cost:0,price:0,shipingCost:0,salePrice:0}),_[a.product?.id].stock+=h(a.qty),_[a.product?.id].salePrice+=h(a.salePrice),l?.type==="SALES"&&(p.cost+=h(a.price)*(h(a.qty)*-1),p.shipingCost+=h(b.weight)*h(b.pricePerPound),p.salePrice+=h(a.salePrice)),_[a.product?.id].price+=h(a.price)*h(a.qty),_[a.product?.id].shipingCost+=h(b.weight)*h(b.pricePerPound),_[a.product?.id].invoices[b.invoice]={weight:b.weight,pricePerPound:b.pricePerPound})})}),y(p),n(_),[]}),[(()=>{var u=J(),m=u.firstChild,f=m.nextSibling,_=f.nextSibling;return r(m,e(ae,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return l?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:p=>E("search",p)})),r(f,e(R,{list:[{id:"ENTRY",label:"ENTRADAS"},{id:"TRANSFER",label:"TRANSFERENCIAS"},{id:"SALES",label:"VENTAS"}],lbl_empty:"Tipo de Movimiento",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return l?.type},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:p=>E("type",p.id),width:"260px"})),r(_,e(R,{get list(){return Y()},lbl_empty:"Almacen",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return l?.store},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:p=>E("store",p.id),width:"260px"})),u})(),e(i,{get when(){return B(()=>!!l?.store)()&&t()},get children(){return e(H,{fallback:u=>(()=>{var m=U(),f=m.firstChild,_=f.nextSibling;return _.nextSibling,r(m,()=>u.toString(),_),m})(),get children(){return[e(i,{get when(){return l?.type!=="SALES"},get children(){return e(ue,{})}}),e(i,{get when(){return l?.type==="SALES"},get children(){return e(_e,{get item(){return s()}})}}),e(W,{get fallback(){return(()=>{var u=Z();return u.firstChild,r(u,e(oe,{stroke:"rgb(200 25 60 / 1)",size:62}),null),u})()},get children(){return e(i,{get when(){return t()},get children(){return e(z,{get each(){return A(t())},children:(u,m)=>e(ce,{get item(){return t()?.[u]},refetch:()=>{},get isSales(){return l?.type==="SALES"}})})}})}})]}})}})]}const de=async(t,n)=>{let s={params:{businessId:q?.profile?.businessYId}};t&&t.split(" ").map(($,o)=>{$&&(s.params[":search"+o]=$.trim())}),n&&(s.params[":type"]=n.trim());let y=G(132001);s={...s,...y};const l=await Q(s);return l?.error?{}:l},h=t=>t?t*1:0,ue=()=>(()=>{var t=k(),n=t.firstChild,s=n.firstChild;return r(s,e(i,{when:1,get children(){return I()}})),r(n,e(C,{}),null),r(n,e(i,{get when(){return!d()},get children(){return D()}}),null),r(n,e(C,{}),null),r(n,e(i,{get when(){return!d()},get children(){return ee()}}),null),r(n,e(i,{get when(){return!d()},get children(){return L()}}),null),r(n,e(i,{get when(){return!d()},get children(){return te()}}),null),S(()=>w(t,`client_item_box gWXAaj jlytmu inventory ${d()?"isMobile":""}`)),t})(),_e=t=>(()=>{var n=k(),s=n.firstChild,y=s.firstChild;return r(y,e(i,{when:1,get children(){return I()}})),r(s,e(C,{}),null),r(s,e(i,{get when(){return!d()},get children(){return D()}}),null),r(s,e(C,{}),null),r(s,e(i,{get when(){return!d()},get children(){return L()}}),null),r(s,e(i,{get when(){return!d()},get children(){return re()}}),null),r(s,e(i,{get when(){return!d()},get children(){return le()}}),null),r(n,e(i,{get when(){return t?.item?.salePrice&&t?.item?.cost},get children(){var l=se(),$=l.firstChild;return $.firstChild,r(l,e(C,{}),null),r(l,e(i,{get when(){return!d()&&t?.item?.shipingCost},get children(){var o=F(),g=o.firstChild;return r(g,()=>t?.item?.shipingCost?.toFixed(2)),o}}),null),r(l,e(C,{}),null),r(l,e(i,{get when(){return!d()&&t?.item?.cost},get children(){var o=F(),g=o.firstChild;return r(g,()=>t?.item?.cost?.toFixed(2)),o}}),null),r(l,e(i,{get when(){return!d()&&t?.item?.salePrice},get children(){var o=ie(),g=o.firstChild;return r(g,()=>t?.item?.salePrice?.toFixed(2)),o}}),null),r(l,e(i,{get when(){return!d()&&t?.item?.salePrice&&t?.item?.shipingCost&&t?.item?.cost},get children(){var o=ne(),g=o.firstChild;return r(g,()=>(t?.item?.salePrice-(t?.item?.shipingCost+t?.item?.cost)).toFixed(2)),S(()=>w(o,`_dsplFlx bottombx tr_bar_15  ${t?.item?.salePrice-(t?.item?.shipingCost+t?.item?.cost)>0?"green":"red"}`)),o}}),null),l}}),null),S(()=>w(n,`client_item_box gWXAaj jlytmu inventory ${d()?"isMobile":""}`)),n})();export{de as LookupInventory,ye as default,h as isValNum};
