import{p as ot}from"./index-BGxHyqTm.js";import{f as qe,d as at,b as ft}from"./Util-DErZaF9J.js";function st(C,I){return I.forEach(function(S){S&&typeof S!="string"&&!Array.isArray(S)&&Object.keys(S).forEach(function(s){if(s!=="default"&&!(s in C)){var e=Object.getOwnPropertyDescriptor(S,s);Object.defineProperty(C,s,e.get?e:{enumerable:!0,get:function(){return S[s]}})}})}),Object.freeze(C)}function Ge(C,I){return new Promise(function(S,s){let e;return lt(C).then(function(t){try{return e=t,S(new Blob([I.slice(0,2),e,I.slice(2)],{type:"image/jpeg"}))}catch(h){return s(h)}},s)})}const lt=C=>new Promise((I,S)=>{const s=new FileReader;s.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let h=0;if(t.getUint16(h)!==65496)return S("not a valid JPEG");for(h+=2;;){const f=t.getUint16(h);if(f===65498)break;const p=t.getUint16(h+2);if(f===65505&&t.getUint32(h+4)===1165519206){const A=h+10;let r;switch(t.getUint16(A)){case 18761:r=!0;break;case 19789:r=!1;break;default:return S("TIFF header contains invalid endian")}if(t.getUint16(A+2,r)!==42)return S("TIFF header contains invalid version");const i=t.getUint32(A+4,r),n=A+i+2+12*t.getUint16(A+i,r);for(let a=A+i+2;a<n;a+=12)if(t.getUint16(a,r)==274){if(t.getUint16(a+2,r)!==3)return S("Orientation data type is invalid");if(t.getUint32(a+4,r)!==1)return S("Orientation data count is invalid");t.setUint16(a+8,1,r);break}return I(e.slice(h,h+2+p))}h+=2+p}return I(new Blob)}),s.readAsArrayBuffer(C)});var Te={},ct={get exports(){return Te},set exports(C){Te=C}};(function(C){var I,S,s={};ct.exports=s,s.parse=function(e,t){for(var h=s.bin.readUshort,f=s.bin.readUint,p=0,A={},r=new Uint8Array(e),i=r.length-4;f(r,i)!=101010256;)i--;p=i,p+=4;var n=h(r,p+=4);h(r,p+=2);var a=f(r,p+=2),d=f(r,p+=4);p+=4,p=d;for(var F=0;F<n;F++){f(r,p),p+=4,p+=4,p+=4,f(r,p+=4),a=f(r,p+=4);var M=f(r,p+=4),b=h(r,p+=4),H=h(r,p+2),P=h(r,p+4);p+=6;var _=f(r,p+=8);p+=4,p+=b+H+P,s._readLocal(r,_,A,a,M,t)}return A},s._readLocal=function(e,t,h,f,p,A){var r=s.bin.readUshort,i=s.bin.readUint;i(e,t),r(e,t+=4),r(e,t+=2);var n=r(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var a=r(e,t+=8),d=r(e,t+=2);t+=2;var F=s.bin.readUTF8(e,t,a);if(t+=a,t+=d,A)h[F]={size:p,csize:f};else{var M=new Uint8Array(e.buffer,t);if(n==0)h[F]=new Uint8Array(M.buffer.slice(t,t+f));else{if(n!=8)throw"unknown compression method: "+n;var b=new Uint8Array(p);s.inflateRaw(M,b),h[F]=b}}},s.inflateRaw=function(e,t){return s.F.inflate(e,t)},s.inflate=function(e,t){return e[0],e[1],s.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},s.deflate=function(e,t){t==null&&(t={level:6});var h=0,f=new Uint8Array(50+Math.floor(1.1*e.length));f[h]=120,f[h+1]=156,h+=2,h=s.F.deflateRaw(e,f,h,t.level);var p=s.adler(e,0,e.length);return f[h+0]=p>>>24&255,f[h+1]=p>>>16&255,f[h+2]=p>>>8&255,f[h+3]=p>>>0&255,new Uint8Array(f.buffer,0,h+4)},s.deflateRaw=function(e,t){t==null&&(t={level:6});var h=new Uint8Array(50+Math.floor(1.1*e.length)),f=s.F.deflateRaw(e,h,f,t.level);return new Uint8Array(h.buffer,0,f)},s.encode=function(e,t){t==null&&(t=!1);var h=0,f=s.bin.writeUint,p=s.bin.writeUshort,A={};for(var r in e){var i=!s._noNeed(r)&&!t,n=e[r],a=s.crc.crc(n,0,n.length);A[r]={cpr:i,usize:n.length,crc:a,file:i?s.deflateRaw(n):n}}for(var r in A)h+=A[r].file.length+30+46+2*s.bin.sizeUTF8(r);h+=22;var d=new Uint8Array(h),F=0,M=[];for(var r in A){var b=A[r];M.push(F),F=s._writeHeader(d,F,r,b,0)}var H=0,P=F;for(var r in A)b=A[r],M.push(F),F=s._writeHeader(d,F,r,b,1,M[H++]);var _=F-P;return f(d,F,101010256),F+=4,p(d,F+=4,H),p(d,F+=2,H),f(d,F+=2,_),f(d,F+=4,P),F+=4,F+=2,d.buffer},s._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},s._writeHeader=function(e,t,h,f,p,A){var r=s.bin.writeUint,i=s.bin.writeUshort,n=f.file;return r(e,t,p==0?67324752:33639248),t+=4,p==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,f.cpr?8:0),r(e,t+=2,0),r(e,t+=4,f.crc),r(e,t+=4,n.length),r(e,t+=4,f.usize),i(e,t+=4,s.bin.sizeUTF8(h)),i(e,t+=2,0),t+=2,p==1&&(t+=2,t+=2,r(e,t+=6,A),t+=4),t+=s.bin.writeUTF8(e,t,h),p==0&&(e.set(n,t),t+=n.length),t},s.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var h=t,f=0;f<8;f++)1&h?h=3988292384^h>>>1:h>>>=1;e[t]=h}return e}(),update:function(e,t,h,f){for(var p=0;p<f;p++)e=s.crc.table[255&(e^t[h+p])]^e>>>8;return e},crc:function(e,t,h){return 4294967295^s.crc.update(4294967295,e,t,h)}},s.adler=function(e,t,h){for(var f=1,p=0,A=t,r=t+h;A<r;){for(var i=Math.min(A+5552,r);A<i;)p+=f+=e[A++];f%=65521,p%=65521}return p<<16|f},s.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,h){e[t]=255&h,e[t+1]=h>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,h){e[t]=255&h,e[t+1]=h>>8&255,e[t+2]=h>>16&255,e[t+3]=h>>24&255},readASCII:function(e,t,h){for(var f="",p=0;p<h;p++)f+=String.fromCharCode(e[t+p]);return f},writeASCII:function(e,t,h){for(var f=0;f<h.length;f++)e[t+f]=h.charCodeAt(f)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,h){for(var f,p="",A=0;A<h;A++)p+="%"+s.bin.pad(e[t+A].toString(16));try{f=decodeURIComponent(p)}catch{return s.bin.readASCII(e,t,h)}return f},writeUTF8:function(e,t,h){for(var f=h.length,p=0,A=0;A<f;A++){var r=h.charCodeAt(A);if(!(4294967168&r))e[t+p]=r,p++;else if(!(4294965248&r))e[t+p]=192|r>>6,e[t+p+1]=128|r>>0&63,p+=2;else if(!(4294901760&r))e[t+p]=224|r>>12,e[t+p+1]=128|r>>6&63,e[t+p+2]=128|r>>0&63,p+=3;else{if(4292870144&r)throw"e";e[t+p]=240|r>>18,e[t+p+1]=128|r>>12&63,e[t+p+2]=128|r>>6&63,e[t+p+3]=128|r>>0&63,p+=4}}return p},sizeUTF8:function(e){for(var t=e.length,h=0,f=0;f<t;f++){var p=e.charCodeAt(f);if(!(4294967168&p))h++;else if(!(4294965248&p))h+=2;else if(!(4294901760&p))h+=3;else{if(4292870144&p)throw"e";h+=4}}return h}},s.F={},s.F.deflateRaw=function(e,t,h,f){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][f],A=s.F.U,r=s.F._goodIndex;s.F._hash;var i=s.F._putsE,n=0,a=h<<3,d=0,F=e.length;if(f==0){for(;n<F;)i(t,a,n+(y=Math.min(65535,F-n))==F?1:0),a=s.F._copyExact(e,n,y,t,a+8),n+=y;return a>>>3}var M=A.lits,b=A.strt,H=A.prev,P=0,_=0,k=0,g=0,T=0,c=0;for(F>2&&(b[c=s.F._hash(e,0)]=0),n=0;n<F;n++){if(T=c,n+1<F-2){c=s.F._hash(e,n+1);var l=n+1&32767;H[l]=b[c],b[c]=l}if(d<=n){(P>14e3||_>26697)&&F-n>100&&(d<n&&(M[P]=n-d,P+=2,d=n),a=s.F._writeBlock(n==F-1||d==F?1:0,M,P,g,e,k,n-k,t,a),P=_=g=0,k=n);var v=0;n<F-2&&(v=s.F._bestMatch(e,n,H,T,Math.min(p[2],F-n),p[3]));var y=v>>>16,w=65535&v;if(v!=0){w=65535&v;var U=r(y=v>>>16,A.of0);A.lhst[257+U]++;var m=r(w,A.df0);A.dhst[m]++,g+=A.exb[U]+A.dxb[m],M[P]=y<<23|n-d,M[P+1]=w<<16|U<<8|m,P+=2,d=n+y}else A.lhst[e[n]]++;_++}}for(k==n&&e.length!=0||(d<n&&(M[P]=n-d,P+=2,d=n),a=s.F._writeBlock(1,M,P,g,e,k,n-k,t,a),P=0,_=0,P=_=g=0,k=n);7&a;)a++;return a>>>3},s.F._bestMatch=function(e,t,h,f,p,A){var r=32767&t,i=h[r],n=r-i+32768&32767;if(i==r||f!=s.F._hash(e,t-n))return 0;for(var a=0,d=0,F=Math.min(32767,t);n<=F&&--A!=0&&i!=r;){if(a==0||e[t+a]==e[t+a-n]){var M=s.F._howLong(e,t,n);if(M>a){if(d=n,(a=M)>=p)break;n+2<M&&(M=n+2);for(var b=0,H=0;H<M-2;H++){var P=t-n+H+32768&32767,_=P-h[P]+32768&32767;_>b&&(b=_,i=P)}}}n+=(r=i)-(i=h[r])+32768&32767}return a<<16|d},s.F._howLong=function(e,t,h){if(e[t]!=e[t-h]||e[t+1]!=e[t+1-h]||e[t+2]!=e[t+2-h])return 0;var f=t,p=Math.min(e.length,t+258);for(t+=3;t<p&&e[t]==e[t-h];)t++;return t-f},s.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},s.saved=0,s.F._writeBlock=function(e,t,h,f,p,A,r,i,n){var a,d,F,M,b,H,P,_,k,g=s.F.U,T=s.F._putsF,c=s.F._putsE;g.lhst[256]++,d=(a=s.F.getTrees())[0],F=a[1],M=a[2],b=a[3],H=a[4],P=a[5],_=a[6],k=a[7];var l=32+(n+3&7?8-(n+3&7):0)+(r<<3),v=f+s.F.contSize(g.fltree,g.lhst)+s.F.contSize(g.fdtree,g.dhst),y=f+s.F.contSize(g.ltree,g.lhst)+s.F.contSize(g.dtree,g.dhst);y+=14+3*P+s.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var w=0;w<286;w++)g.lhst[w]=0;for(w=0;w<30;w++)g.dhst[w]=0;for(w=0;w<19;w++)g.ihst[w]=0;var U=l<v&&l<y?0:v<y?1:2;if(T(i,n,e),T(i,n+1,U),n+=3,U==0){for(;7&n;)n++;n=s.F._copyExact(p,A,r,i,n)}else{var m,x;if(U==1&&(m=g.fltree,x=g.fdtree),U==2){s.F.makeCodes(g.ltree,d),s.F.revCodes(g.ltree,d),s.F.makeCodes(g.dtree,F),s.F.revCodes(g.dtree,F),s.F.makeCodes(g.itree,M),s.F.revCodes(g.itree,M),m=g.ltree,x=g.dtree,c(i,n,b-257),c(i,n+=5,H-1),c(i,n+=5,P-4),n+=4;for(var u=0;u<P;u++)c(i,n+3*u,g.itree[1+(g.ordr[u]<<1)]);n+=3*P,n=s.F._codeTiny(_,g.itree,i,n),n=s.F._codeTiny(k,g.itree,i,n)}for(var o=A,L=0;L<h;L+=2){for(var E=t[L],O=E>>>23,Q=o+(8388607&E);o<Q;)n=s.F._writeLit(p[o++],m,i,n);if(O!=0){var z=t[L+1],B=z>>16,D=z>>8&255,R=255&z;c(i,n=s.F._writeLit(257+D,m,i,n),O-g.of0[D]),n+=g.exb[D],T(i,n=s.F._writeLit(R,x,i,n),B-g.df0[R]),n+=g.dxb[R],o+=O}}n=s.F._writeLit(256,m,i,n)}return n},s.F._copyExact=function(e,t,h,f,p){var A=p>>>3;return f[A]=h,f[A+1]=h>>>8,f[A+2]=255-f[A],f[A+3]=255-f[A+1],A+=4,f.set(new Uint8Array(e.buffer,t,h),A),p+(h+4<<3)},s.F.getTrees=function(){for(var e=s.F.U,t=s.F._hufTree(e.lhst,e.ltree,15),h=s.F._hufTree(e.dhst,e.dtree,15),f=[],p=s.F._lenCodes(e.ltree,f),A=[],r=s.F._lenCodes(e.dtree,A),i=0;i<f.length;i+=2)e.ihst[f[i]]++;for(i=0;i<A.length;i+=2)e.ihst[A[i]]++;for(var n=s.F._hufTree(e.ihst,e.itree,7),a=19;a>4&&e.itree[1+(e.ordr[a-1]<<1)]==0;)a--;return[t,h,n,p,r,a,f,A]},s.F.getSecond=function(e){for(var t=[],h=0;h<e.length;h+=2)t.push(e[h+1]);return t},s.F.nonZero=function(e){for(var t="",h=0;h<e.length;h+=2)e[h+1]!=0&&(t+=(h>>1)+",");return t},s.F.contSize=function(e,t){for(var h=0,f=0;f<t.length;f++)h+=t[f]*e[1+(f<<1)];return h},s.F._codeTiny=function(e,t,h,f){for(var p=0;p<e.length;p+=2){var A=e[p],r=e[p+1];f=s.F._writeLit(A,t,h,f);var i=A==16?2:A==17?3:7;A>15&&(s.F._putsE(h,f,r,i),f+=i)}return f},s.F._lenCodes=function(e,t){for(var h=e.length;h!=2&&e[h-1]==0;)h-=2;for(var f=0;f<h;f+=2){var p=e[f+1],A=f+3<h?e[f+3]:-1,r=f+5<h?e[f+5]:-1,i=f==0?-1:e[f-1];if(p==0&&A==p&&r==p){for(var n=f+5;n+2<h&&e[n+2]==p;)n+=2;(a=Math.min(n+1-f>>>1,138))<11?t.push(17,a-3):t.push(18,a-11),f+=2*a-2}else if(p==i&&A==p&&r==p){for(n=f+5;n+2<h&&e[n+2]==p;)n+=2;var a=Math.min(n+1-f>>>1,6);t.push(16,a-3),f+=2*a-2}else t.push(p,0)}return h>>>1},s.F._hufTree=function(e,t,h){var f=[],p=e.length,A=t.length,r=0;for(r=0;r<A;r+=2)t[r]=0,t[r+1]=0;for(r=0;r<p;r++)e[r]!=0&&f.push({lit:r,f:e[r]});var i=f.length,n=f.slice(0);if(i==0)return 0;if(i==1){var a=f[0].lit;return n=a==0?1:0,t[1+(a<<1)]=1,t[1+(n<<1)]=1,1}f.sort(function(_,k){return _.f-k.f});var d=f[0],F=f[1],M=0,b=1,H=2;for(f[0]={lit:-1,f:d.f+F.f,l:d,r:F,d:0};b!=i-1;)d=M!=b&&(H==i||f[M].f<f[H].f)?f[M++]:f[H++],F=M!=b&&(H==i||f[M].f<f[H].f)?f[M++]:f[H++],f[b++]={lit:-1,f:d.f+F.f,l:d,r:F};var P=s.F.setDepth(f[b-1],0);for(P>h&&(s.F.restrictDepth(n,h,P),P=h),r=0;r<i;r++)t[1+(n[r].lit<<1)]=n[r].d;return P},s.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(s.F.setDepth(e.l,t+1),s.F.setDepth(e.r,t+1))},s.F.restrictDepth=function(e,t,h){var f=0,p=1<<h-t,A=0;for(e.sort(function(i,n){return n.d==i.d?i.f-n.f:n.d-i.d}),f=0;f<e.length&&e[f].d>t;f++){var r=e[f].d;e[f].d=t,A+=p-(1<<h-r)}for(A>>>=h-t;A>0;)(r=e[f].d)<t?(e[f].d++,A-=1<<t-r-1):f++;for(;f>=0;f--)e[f].d==t&&A<0&&(e[f].d--,A++);A!=0&&console.log("debt left")},s.F._goodIndex=function(e,t){var h=0;return t[16|h]<=e&&(h|=16),t[8|h]<=e&&(h|=8),t[4|h]<=e&&(h|=4),t[2|h]<=e&&(h|=2),t[1|h]<=e&&(h|=1),h},s.F._writeLit=function(e,t,h,f){return s.F._putsF(h,f,t[e<<1]),f+t[1+(e<<1)]},s.F.inflate=function(e,t){var h=Uint8Array;if(e[0]==3&&e[1]==0)return t||new h(0);var f=s.F,p=f._bitsF,A=f._bitsE,r=f._decodeTiny,i=f.makeCodes,n=f.codes2map,a=f._get17,d=f.U,F=t==null;F&&(t=new h(e.length>>>2<<3));for(var M,b,H=0,P=0,_=0,k=0,g=0,T=0,c=0,l=0,v=0;H==0;)if(H=p(e,v,1),P=p(e,v+1,2),v+=3,P!=0){if(F&&(t=s.F._check(t,l+(1<<17))),P==1&&(M=d.flmap,b=d.fdmap,T=511,c=31),P==2){_=A(e,v,5)+257,k=A(e,v+5,5)+1,g=A(e,v+10,4)+4,v+=14;for(var y=0;y<38;y+=2)d.itree[y]=0,d.itree[y+1]=0;var w=1;for(y=0;y<g;y++){var U=A(e,v+3*y,3);d.itree[1+(d.ordr[y]<<1)]=U,U>w&&(w=U)}v+=3*g,i(d.itree,w),n(d.itree,w,d.imap),M=d.lmap,b=d.dmap,v=r(d.imap,(1<<w)-1,_+k,e,v,d.ttree);var m=f._copyOut(d.ttree,0,_,d.ltree);T=(1<<m)-1;var x=f._copyOut(d.ttree,_,k,d.dtree);c=(1<<x)-1,i(d.ltree,m),n(d.ltree,m,M),i(d.dtree,x),n(d.dtree,x,b)}for(;;){var u=M[a(e,v)&T];v+=15&u;var o=u>>>4;if(!(o>>>8))t[l++]=o;else{if(o==256)break;var L=l+o-254;if(o>264){var E=d.ldef[o-257];L=l+(E>>>3)+A(e,v,7&E),v+=7&E}var O=b[a(e,v)&c];v+=15&O;var Q=O>>>4,z=d.ddef[Q],B=(z>>>4)+p(e,v,15&z);for(v+=15&z,F&&(t=s.F._check(t,l+(1<<17)));l<L;)t[l]=t[l++-B],t[l]=t[l++-B],t[l]=t[l++-B],t[l]=t[l++-B];l=L}}}else{7&v&&(v+=8-(7&v));var D=4+(v>>>3),R=e[D-4]|e[D-3]<<8;F&&(t=s.F._check(t,l+R)),t.set(new h(e.buffer,e.byteOffset+D,R),l),v=D+R<<3,l+=R}return t.length==l?t:t.slice(0,l)},s.F._check=function(e,t){var h=e.length;if(t<=h)return e;var f=new Uint8Array(Math.max(h<<1,t));return f.set(e,0),f},s.F._decodeTiny=function(e,t,h,f,p,A){for(var r=s.F._bitsE,i=s.F._get17,n=0;n<h;){var a=e[i(f,p)&t];p+=15&a;var d=a>>>4;if(d<=15)A[n]=d,n++;else{var F=0,M=0;d==16?(M=3+r(f,p,2),p+=2,F=A[n-1]):d==17?(M=3+r(f,p,3),p+=3):d==18&&(M=11+r(f,p,7),p+=7);for(var b=n+M;n<b;)A[n]=F,n++}}return p},s.F._copyOut=function(e,t,h,f){for(var p=0,A=0,r=f.length>>>1;A<h;){var i=e[A+t];f[A<<1]=0,f[1+(A<<1)]=i,i>p&&(p=i),A++}for(;A<r;)f[A<<1]=0,f[1+(A<<1)]=0,A++;return p},s.F.makeCodes=function(e,t){for(var h,f,p,A,r=s.F.U,i=e.length,n=r.bl_count,a=0;a<=t;a++)n[a]=0;for(a=1;a<i;a+=2)n[e[a]]++;var d=r.next_code;for(h=0,n[0]=0,f=1;f<=t;f++)h=h+n[f-1]<<1,d[f]=h;for(p=0;p<i;p+=2)(A=e[p+1])!=0&&(e[p]=d[A],d[A]++)},s.F.codes2map=function(e,t,h){for(var f=e.length,p=s.F.U.rev15,A=0;A<f;A+=2)if(e[A+1]!=0)for(var r=A>>1,i=e[A+1],n=r<<4|i,a=t-i,d=e[A]<<a,F=d+(1<<a);d!=F;)h[p[d]>>>15-t]=n,d++},s.F.revCodes=function(e,t){for(var h=s.F.U.rev15,f=15-t,p=0;p<e.length;p+=2){var A=e[p]<<t-e[p+1];e[p]=h[A]>>>f}},s.F._putsE=function(e,t,h){h<<=7&t;var f=t>>>3;e[f]|=h,e[f+1]|=h>>>8},s.F._putsF=function(e,t,h){h<<=7&t;var f=t>>>3;e[f]|=h,e[f+1]|=h>>>8,e[f+2]|=h>>>16},s.F._bitsE=function(e,t,h){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<h)-1},s.F._bitsF=function(e,t,h){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<h)-1},s.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},s.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},s.F.U=(I=Uint16Array,S=Uint32Array,{next_code:new I(16),bl_count:new I(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new I(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new S(32),flmap:new I(512),fltree:[],fdmap:new I(32),fdtree:[],lmap:new I(32768),ltree:[],ttree:[],dmap:new I(32768),dtree:[],imap:new I(512),itree:[],rev15:new I(32768),lhst:new S(286),dhst:new S(30),ihst:new S(19),lits:new S(15e3),strt:new I(65536),prev:new I(32768)}),function(){for(var e=s.F.U,t=0;t<32768;t++){var h=t;h=(4278255360&(h=(4042322160&(h=(3435973836&(h=(2863311530&h)>>>1|(1431655765&h)<<1))>>>2|(858993459&h)<<2))>>>4|(252645135&h)<<4))>>>8|(16711935&h)<<8,e.rev15[t]=(h>>>16|h<<16)>>>17}function f(p,A,r){for(;A--!=0;)p.push(0,r)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];f(e.fltree,144,8),f(e.fltree,112,9),f(e.fltree,24,7),f(e.fltree,8,8),s.F.makeCodes(e.fltree,9),s.F.codes2map(e.fltree,9,e.flmap),s.F.revCodes(e.fltree,9),f(e.fdtree,32,5),s.F.makeCodes(e.fdtree,5),s.F.codes2map(e.fdtree,5,e.fdmap),s.F.revCodes(e.fdtree,5),f(e.itree,19,0),f(e.ltree,286,0),f(e.dtree,30,0),f(e.ttree,320,0)}()})();var ut=st({__proto__:null,default:Te},[Te]);const he=function(){var C={nextZero(r,i){for(;r[i]!=0;)i++;return i},readUshort:(r,i)=>r[i]<<8|r[i+1],writeUshort(r,i,n){r[i]=n>>8&255,r[i+1]=255&n},readUint:(r,i)=>16777216*r[i]+(r[i+1]<<16|r[i+2]<<8|r[i+3]),writeUint(r,i,n){r[i]=n>>24&255,r[i+1]=n>>16&255,r[i+2]=n>>8&255,r[i+3]=255&n},readASCII(r,i,n){let a="";for(let d=0;d<n;d++)a+=String.fromCharCode(r[i+d]);return a},writeASCII(r,i,n){for(let a=0;a<n.length;a++)r[i+a]=n.charCodeAt(a)},readBytes(r,i,n){const a=[];for(let d=0;d<n;d++)a.push(r[i+d]);return a},pad:r=>r.length<2?`0${r}`:r,readUTF8(r,i,n){let a,d="";for(let F=0;F<n;F++)d+=`%${C.pad(r[i+F].toString(16))}`;try{a=decodeURIComponent(d)}catch{return C.readASCII(r,i,n)}return a}};function I(r,i,n,a){const d=i*n,F=t(a),M=Math.ceil(i*F/8),b=new Uint8Array(4*d),H=new Uint32Array(b.buffer),{ctype:P}=a,{depth:_}=a,k=C.readUshort;if(P==6){const E=d<<2;if(_==8)for(var g=0;g<E;g+=4)b[g]=r[g],b[g+1]=r[g+1],b[g+2]=r[g+2],b[g+3]=r[g+3];if(_==16)for(g=0;g<E;g++)b[g]=r[g<<1]}else if(P==2){const E=a.tabs.tRNS;if(E==null){if(_==8)for(g=0;g<d;g++){var T=3*g;H[g]=255<<24|r[T+2]<<16|r[T+1]<<8|r[T]}if(_==16)for(g=0;g<d;g++)T=6*g,H[g]=255<<24|r[T+4]<<16|r[T+2]<<8|r[T]}else{var c=E[0];const O=E[1],Q=E[2];if(_==8)for(g=0;g<d;g++){var l=g<<2;T=3*g,H[g]=255<<24|r[T+2]<<16|r[T+1]<<8|r[T],r[T]==c&&r[T+1]==O&&r[T+2]==Q&&(b[l+3]=0)}if(_==16)for(g=0;g<d;g++)l=g<<2,T=6*g,H[g]=255<<24|r[T+4]<<16|r[T+2]<<8|r[T],k(r,T)==c&&k(r,T+2)==O&&k(r,T+4)==Q&&(b[l+3]=0)}}else if(P==3){const E=a.tabs.PLTE,O=a.tabs.tRNS,Q=O?O.length:0;if(_==1)for(var v=0;v<n;v++){var y=v*M,w=v*i;for(g=0;g<i;g++){l=w+g<<2;var U=3*(m=r[y+(g>>3)]>>7-((7&g)<<0)&1);b[l]=E[U],b[l+1]=E[U+1],b[l+2]=E[U+2],b[l+3]=m<Q?O[m]:255}}if(_==2)for(v=0;v<n;v++)for(y=v*M,w=v*i,g=0;g<i;g++)l=w+g<<2,U=3*(m=r[y+(g>>2)]>>6-((3&g)<<1)&3),b[l]=E[U],b[l+1]=E[U+1],b[l+2]=E[U+2],b[l+3]=m<Q?O[m]:255;if(_==4)for(v=0;v<n;v++)for(y=v*M,w=v*i,g=0;g<i;g++)l=w+g<<2,U=3*(m=r[y+(g>>1)]>>4-((1&g)<<2)&15),b[l]=E[U],b[l+1]=E[U+1],b[l+2]=E[U+2],b[l+3]=m<Q?O[m]:255;if(_==8)for(g=0;g<d;g++){var m;l=g<<2,U=3*(m=r[g]),b[l]=E[U],b[l+1]=E[U+1],b[l+2]=E[U+2],b[l+3]=m<Q?O[m]:255}}else if(P==4){if(_==8)for(g=0;g<d;g++){l=g<<2;var x=r[u=g<<1];b[l]=x,b[l+1]=x,b[l+2]=x,b[l+3]=r[u+1]}if(_==16)for(g=0;g<d;g++){var u;l=g<<2,x=r[u=g<<2],b[l]=x,b[l+1]=x,b[l+2]=x,b[l+3]=r[u+2]}}else if(P==0)for(c=a.tabs.tRNS?a.tabs.tRNS:-1,v=0;v<n;v++){const E=v*M,O=v*i;if(_==1)for(var o=0;o<i;o++){var L=(x=255*(r[E+(o>>>3)]>>>7-(7&o)&1))==255*c?0:255;H[O+o]=L<<24|x<<16|x<<8|x}else if(_==2)for(o=0;o<i;o++)L=(x=85*(r[E+(o>>>2)]>>>6-((3&o)<<1)&3))==85*c?0:255,H[O+o]=L<<24|x<<16|x<<8|x;else if(_==4)for(o=0;o<i;o++)L=(x=17*(r[E+(o>>>1)]>>>4-((1&o)<<2)&15))==17*c?0:255,H[O+o]=L<<24|x<<16|x<<8|x;else if(_==8)for(o=0;o<i;o++)L=(x=r[E+o])==c?0:255,H[O+o]=L<<24|x<<16|x<<8|x;else if(_==16)for(o=0;o<i;o++)x=r[E+(o<<1)],L=k(r,E+(o<<1))==c?0:255,H[O+o]=L<<24|x<<16|x<<8|x}return b}function S(r,i,n,a){const d=t(r),F=Math.ceil(n*d/8),M=new Uint8Array((F+1+r.interlace)*a);return i=r.tabs.CgBI?e(i,M):s(i,M),r.interlace==0?i=h(i,r,0,n,a):r.interlace==1&&(i=function(H,P){const _=P.width,k=P.height,g=t(P),T=g>>3,c=Math.ceil(_*g/8),l=new Uint8Array(k*c);let v=0;const y=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],U=[8,8,8,4,4,2,2],m=[8,8,4,4,2,2,1];let x=0;for(;x<7;){const o=U[x],L=m[x];let E=0,O=0,Q=y[x];for(;Q<k;)Q+=o,O++;let z=w[x];for(;z<_;)z+=L,E++;const B=Math.ceil(E*g/8);h(H,P,v,E,O);let D=0,R=y[x];for(;R<k;){let N=w[x],Z=v+D*B<<3;for(;N<_;){var u;if(g==1&&(u=(u=H[Z>>3])>>7-(7&Z)&1,l[R*c+(N>>3)]|=u<<7-((7&N)<<0)),g==2&&(u=(u=H[Z>>3])>>6-(7&Z)&3,l[R*c+(N>>2)]|=u<<6-((3&N)<<1)),g==4&&(u=(u=H[Z>>3])>>4-(7&Z)&15,l[R*c+(N>>1)]|=u<<4-((1&N)<<2)),g>=8){const W=R*c+N*T;for(let j=0;j<T;j++)l[W+j]=H[(Z>>3)+j]}Z+=g,N+=L}D++,R+=o}E*O!=0&&(v+=O*(1+B)),x+=1}return l}(i,r)),i}function s(r,i){return e(new Uint8Array(r.buffer,2,r.length-6),i)}var e=function(){const r={H:{}};return r.H.N=function(i,n){const a=Uint8Array;let d,F,M=0,b=0,H=0,P=0,_=0,k=0,g=0,T=0,c=0;if(i[0]==3&&i[1]==0)return n||new a(0);const l=r.H,v=l.b,y=l.e,w=l.R,U=l.n,m=l.A,x=l.Z,u=l.m,o=n==null;for(o&&(n=new a(i.length>>>2<<5));M==0;)if(M=v(i,c,1),b=v(i,c+1,2),c+=3,b!=0){if(o&&(n=r.H.W(n,T+(1<<17))),b==1&&(d=u.J,F=u.h,k=511,g=31),b==2){H=y(i,c,5)+257,P=y(i,c+5,5)+1,_=y(i,c+10,4)+4,c+=14;let E=1;for(var L=0;L<38;L+=2)u.Q[L]=0,u.Q[L+1]=0;for(L=0;L<_;L++){const z=y(i,c+3*L,3);u.Q[1+(u.X[L]<<1)]=z,z>E&&(E=z)}c+=3*_,U(u.Q,E),m(u.Q,E,u.u),d=u.w,F=u.d,c=w(u.u,(1<<E)-1,H+P,i,c,u.v);const O=l.V(u.v,0,H,u.C);k=(1<<O)-1;const Q=l.V(u.v,H,P,u.D);g=(1<<Q)-1,U(u.C,O),m(u.C,O,d),U(u.D,Q),m(u.D,Q,F)}for(;;){const E=d[x(i,c)&k];c+=15&E;const O=E>>>4;if(!(O>>>8))n[T++]=O;else{if(O==256)break;{let Q=T+O-254;if(O>264){const N=u.q[O-257];Q=T+(N>>>3)+y(i,c,7&N),c+=7&N}const z=F[x(i,c)&g];c+=15&z;const B=z>>>4,D=u.c[B],R=(D>>>4)+v(i,c,15&D);for(c+=15&D;T<Q;)n[T]=n[T++-R],n[T]=n[T++-R],n[T]=n[T++-R],n[T]=n[T++-R];T=Q}}}}else{7&c&&(c+=8-(7&c));const E=4+(c>>>3),O=i[E-4]|i[E-3]<<8;o&&(n=r.H.W(n,T+O)),n.set(new a(i.buffer,i.byteOffset+E,O),T),c=E+O<<3,T+=O}return n.length==T?n:n.slice(0,T)},r.H.W=function(i,n){const a=i.length;if(n<=a)return i;const d=new Uint8Array(a<<1);return d.set(i,0),d},r.H.R=function(i,n,a,d,F,M){const b=r.H.e,H=r.H.Z;let P=0;for(;P<a;){const _=i[H(d,F)&n];F+=15&_;const k=_>>>4;if(k<=15)M[P]=k,P++;else{let g=0,T=0;k==16?(T=3+b(d,F,2),F+=2,g=M[P-1]):k==17?(T=3+b(d,F,3),F+=3):k==18&&(T=11+b(d,F,7),F+=7);const c=P+T;for(;P<c;)M[P]=g,P++}}return F},r.H.V=function(i,n,a,d){let F=0,M=0;const b=d.length>>>1;for(;M<a;){const H=i[M+n];d[M<<1]=0,d[1+(M<<1)]=H,H>F&&(F=H),M++}for(;M<b;)d[M<<1]=0,d[1+(M<<1)]=0,M++;return F},r.H.n=function(i,n){const a=r.H.m,d=i.length;let F,M,b,H;const P=a.j;for(var _=0;_<=n;_++)P[_]=0;for(_=1;_<d;_+=2)P[i[_]]++;const k=a.K;for(F=0,P[0]=0,M=1;M<=n;M++)F=F+P[M-1]<<1,k[M]=F;for(b=0;b<d;b+=2)H=i[b+1],H!=0&&(i[b]=k[H],k[H]++)},r.H.A=function(i,n,a){const d=i.length,F=r.H.m.r;for(let M=0;M<d;M+=2)if(i[M+1]!=0){const b=M>>1,H=i[M+1],P=b<<4|H,_=n-H;let k=i[M]<<_;const g=k+(1<<_);for(;k!=g;)a[F[k]>>>15-n]=P,k++}},r.H.l=function(i,n){const a=r.H.m.r,d=15-n;for(let F=0;F<i.length;F+=2){const M=i[F]<<n-i[F+1];i[F]=a[M]>>>d}},r.H.M=function(i,n,a){a<<=7&n;const d=n>>>3;i[d]|=a,i[d+1]|=a>>>8},r.H.I=function(i,n,a){a<<=7&n;const d=n>>>3;i[d]|=a,i[d+1]|=a>>>8,i[d+2]|=a>>>16},r.H.e=function(i,n,a){return(i[n>>>3]|i[1+(n>>>3)]<<8)>>>(7&n)&(1<<a)-1},r.H.b=function(i,n,a){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)&(1<<a)-1},r.H.Z=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16)>>>(7&n)},r.H.i=function(i,n){return(i[n>>>3]|i[1+(n>>>3)]<<8|i[2+(n>>>3)]<<16|i[3+(n>>>3)]<<24)>>>(7&n)},r.H.m=function(){const i=Uint16Array,n=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=r.H.m;for(var n=0;n<32768;n++){let d=n;d=(2863311530&d)>>>1|(1431655765&d)<<1,d=(3435973836&d)>>>2|(858993459&d)<<2,d=(4042322160&d)>>>4|(252645135&d)<<4,d=(4278255360&d)>>>8|(16711935&d)<<8,i.r[n]=(d>>>16|d<<16)>>>17}function a(d,F,M){for(;F--!=0;)d.push(0,M)}for(n=0;n<32;n++)i.q[n]=i.S[n]<<3|i.T[n],i.c[n]=i.p[n]<<4|i.z[n];a(i._,144,8),a(i._,112,9),a(i._,24,7),a(i._,8,8),r.H.n(i._,9),r.H.A(i._,9,i.J),r.H.l(i._,9),a(i.$,32,5),r.H.n(i.$,5),r.H.A(i.$,5,i.h),r.H.l(i.$,5),a(i.Q,19,0),a(i.C,286,0),a(i.D,30,0),a(i.v,320,0)}(),r.H.N}();function t(r){return[1,null,3,1,2,null,4][r.ctype]*r.depth}function h(r,i,n,a,d){let F=t(i);const M=Math.ceil(a*F/8);let b,H;F=Math.ceil(F/8);let P=r[n],_=0;if(P>1&&(r[n]=[0,0,1][P-2]),P==3)for(_=F;_<M;_++)r[_+1]=r[_+1]+(r[_+1-F]>>>1)&255;for(let k=0;k<d;k++)if(b=n+k*M,H=b+k+1,P=r[H-1],_=0,P==0)for(;_<M;_++)r[b+_]=r[H+_];else if(P==1){for(;_<F;_++)r[b+_]=r[H+_];for(;_<M;_++)r[b+_]=r[H+_]+r[b+_-F]}else if(P==2)for(;_<M;_++)r[b+_]=r[H+_]+r[b+_-M];else if(P==3){for(;_<F;_++)r[b+_]=r[H+_]+(r[b+_-M]>>>1);for(;_<M;_++)r[b+_]=r[H+_]+(r[b+_-M]+r[b+_-F]>>>1)}else{for(;_<F;_++)r[b+_]=r[H+_]+f(0,r[b+_-M],0);for(;_<M;_++)r[b+_]=r[H+_]+f(r[b+_-F],r[b+_-M],r[b+_-F-M])}return r}function f(r,i,n){const a=r+i-n,d=a-r,F=a-i,M=a-n;return d*d<=F*F&&d*d<=M*M?r:F*F<=M*M?i:n}function p(r,i,n){n.width=C.readUint(r,i),i+=4,n.height=C.readUint(r,i),i+=4,n.depth=r[i],i++,n.ctype=r[i],i++,n.compress=r[i],i++,n.filter=r[i],i++,n.interlace=r[i],i++}function A(r,i,n,a,d,F,M,b,H){const P=Math.min(i,d),_=Math.min(n,F);let k=0,g=0;for(let x=0;x<_;x++)for(let u=0;u<P;u++)if(M>=0&&b>=0?(k=x*i+u<<2,g=(b+x)*d+M+u<<2):(k=(-b+x)*i-M+u<<2,g=x*d+u<<2),H==0)a[g]=r[k],a[g+1]=r[k+1],a[g+2]=r[k+2],a[g+3]=r[k+3];else if(H==1){var T=r[k+3]*.00392156862745098,c=r[k]*T,l=r[k+1]*T,v=r[k+2]*T,y=a[g+3]*(1/255),w=a[g]*y,U=a[g+1]*y,m=a[g+2]*y;const o=1-T,L=T+y*o,E=L==0?0:1/L;a[g+3]=255*L,a[g+0]=(c+w*o)*E,a[g+1]=(l+U*o)*E,a[g+2]=(v+m*o)*E}else if(H==2)T=r[k+3],c=r[k],l=r[k+1],v=r[k+2],y=a[g+3],w=a[g],U=a[g+1],m=a[g+2],T==y&&c==w&&l==U&&v==m?(a[g]=0,a[g+1]=0,a[g+2]=0,a[g+3]=0):(a[g]=c,a[g+1]=l,a[g+2]=v,a[g+3]=T);else if(H==3){if(T=r[k+3],c=r[k],l=r[k+1],v=r[k+2],y=a[g+3],w=a[g],U=a[g+1],m=a[g+2],T==y&&c==w&&l==U&&v==m)continue;if(T<220&&y>20)return!1}return!0}return{decode:function(i){const n=new Uint8Array(i);let a=8;const d=C,F=d.readUshort,M=d.readUint,b={tabs:{},frames:[]},H=new Uint8Array(n.length);let P,_=0,k=0;const g=[137,80,78,71,13,10,26,10];for(var T=0;T<8;T++)if(n[T]!=g[T])throw"The input is not a PNG file!";for(;a<n.length;){const x=d.readUint(n,a);a+=4;const u=d.readASCII(n,a,4);if(a+=4,u=="IHDR")p(n,a,b);else if(u=="iCCP"){for(var c=a;n[c]!=0;)c++;d.readASCII(n,a,c-a),n[c+1];const o=n.slice(c+2,a+x);let L=null;try{L=s(o)}catch{L=e(o)}b.tabs[u]=L}else if(u=="CgBI")b.tabs[u]=n.slice(a,a+4);else if(u=="IDAT"){for(T=0;T<x;T++)H[_+T]=n[a+T];_+=x}else if(u=="acTL")b.tabs[u]={num_frames:M(n,a),num_plays:M(n,a+4)},P=new Uint8Array(n.length);else if(u=="fcTL"){k!=0&&((m=b.frames[b.frames.length-1]).data=S(b,P.slice(0,k),m.rect.width,m.rect.height),k=0);const o={x:M(n,a+12),y:M(n,a+16),width:M(n,a+4),height:M(n,a+8)};let L=F(n,a+22);L=F(n,a+20)/(L==0?100:L);const E={rect:o,delay:Math.round(1e3*L),dispose:n[a+24],blend:n[a+25]};b.frames.push(E)}else if(u=="fdAT"){for(T=0;T<x-4;T++)P[k+T]=n[a+T+4];k+=x-4}else if(u=="pHYs")b.tabs[u]=[d.readUint(n,a),d.readUint(n,a+4),n[a+8]];else if(u=="cHRM")for(b.tabs[u]=[],T=0;T<8;T++)b.tabs[u].push(d.readUint(n,a+4*T));else if(u=="tEXt"||u=="zTXt"){b.tabs[u]==null&&(b.tabs[u]={});var l=d.nextZero(n,a),v=d.readASCII(n,a,l-a),y=a+x-l-1;if(u=="tEXt")U=d.readASCII(n,l+1,y);else{var w=s(n.slice(l+2,l+2+y));U=d.readUTF8(w,0,w.length)}b.tabs[u][v]=U}else if(u=="iTXt"){b.tabs[u]==null&&(b.tabs[u]={}),l=0,c=a,l=d.nextZero(n,c),v=d.readASCII(n,c,l-c);const o=n[c=l+1];var U;n[c+1],c+=2,l=d.nextZero(n,c),d.readASCII(n,c,l-c),c=l+1,l=d.nextZero(n,c),d.readUTF8(n,c,l-c),y=x-((c=l+1)-a),o==0?U=d.readUTF8(n,c,y):(w=s(n.slice(c,c+y)),U=d.readUTF8(w,0,w.length)),b.tabs[u][v]=U}else if(u=="PLTE")b.tabs[u]=d.readBytes(n,a,x);else if(u=="hIST"){const o=b.tabs.PLTE.length/3;for(b.tabs[u]=[],T=0;T<o;T++)b.tabs[u].push(F(n,a+2*T))}else if(u=="tRNS")b.ctype==3?b.tabs[u]=d.readBytes(n,a,x):b.ctype==0?b.tabs[u]=F(n,a):b.ctype==2&&(b.tabs[u]=[F(n,a),F(n,a+2),F(n,a+4)]);else if(u=="gAMA")b.tabs[u]=d.readUint(n,a)/1e5;else if(u=="sRGB")b.tabs[u]=n[a];else if(u=="bKGD")b.ctype==0||b.ctype==4?b.tabs[u]=[F(n,a)]:b.ctype==2||b.ctype==6?b.tabs[u]=[F(n,a),F(n,a+2),F(n,a+4)]:b.ctype==3&&(b.tabs[u]=n[a]);else if(u=="IEND")break;a+=x,d.readUint(n,a),a+=4}var m;return k!=0&&((m=b.frames[b.frames.length-1]).data=S(b,P.slice(0,k),m.rect.width,m.rect.height)),b.data=S(b,H,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(i){const n=i.width,a=i.height;if(i.tabs.acTL==null)return[I(i.data,n,a,i).buffer];const d=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const F=n*a*4,M=new Uint8Array(F),b=new Uint8Array(F),H=new Uint8Array(F);for(let _=0;_<i.frames.length;_++){const k=i.frames[_],g=k.rect.x,T=k.rect.y,c=k.rect.width,l=k.rect.height,v=I(k.data,c,l,i);if(_!=0)for(var P=0;P<F;P++)H[P]=M[P];if(k.blend==0?A(v,c,l,M,n,a,g,T,0):k.blend==1&&A(v,c,l,M,n,a,g,T,1),d.push(M.buffer.slice(0)),k.dispose!=0){if(k.dispose==1)A(b,c,l,M,n,a,g,T,0);else if(k.dispose==2)for(P=0;P<F;P++)M[P]=H[P]}}return d},_paeth:f,_copyTile:A,_bin:C}}();(function(){const{_copyTile:C}=he,{_bin:I}=he,S=he._paeth;var s={table:function(){const c=new Uint32Array(256);for(let l=0;l<256;l++){let v=l;for(let y=0;y<8;y++)1&v?v=3988292384^v>>>1:v>>>=1;c[l]=v}return c}(),update(c,l,v,y){for(let w=0;w<y;w++)c=s.table[255&(c^l[v+w])]^c>>>8;return c},crc:(c,l,v)=>4294967295^s.update(4294967295,c,l,v)};function e(c,l,v,y){l[v]+=c[0]*y>>4,l[v+1]+=c[1]*y>>4,l[v+2]+=c[2]*y>>4,l[v+3]+=c[3]*y>>4}function t(c){return Math.max(0,Math.min(255,c))}function h(c,l){const v=c[0]-l[0],y=c[1]-l[1],w=c[2]-l[2],U=c[3]-l[3];return v*v+y*y+w*w+U*U}function f(c,l,v,y,w,U,m){m==null&&(m=1);const x=y.length,u=[];for(var o=0;o<x;o++){const R=y[o];u.push([R>>>0&255,R>>>8&255,R>>>16&255,R>>>24&255])}for(o=0;o<x;o++){let R=4294967295;for(var L=0,E=0;E<x;E++){var O=h(u[o],u[E]);E!=o&&O<R&&(R=O,L=E)}}const Q=new Uint32Array(w.buffer),z=new Int16Array(l*v*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(o=0;o<B.length;o++)B[o]=255*((B[o]+.5)/16-.5);for(let R=0;R<v;R++)for(let N=0;N<l;N++){var D;o=4*(R*l+N),m!=2?D=[t(c[o]+z[o]),t(c[o+1]+z[o+1]),t(c[o+2]+z[o+2]),t(c[o+3]+z[o+3])]:(O=B[4*(3&R)+(3&N)],D=[t(c[o]+O),t(c[o+1]+O),t(c[o+2]+O),t(c[o+3]+O)]),L=0;let Z=16777215;for(E=0;E<x;E++){const q=h(D,u[E]);q<Z&&(Z=q,L=E)}const W=u[L],j=[D[0]-W[0],D[1]-W[1],D[2]-W[2],D[3]-W[3]];m==1&&(N!=l-1&&e(j,z,o+4,7),R!=v-1&&(N!=0&&e(j,z,o+4*l-4,3),e(j,z,o+4*l,5),N!=l-1&&e(j,z,o+4*l+4,1))),U[o>>2]=L,Q[o>>2]=y[L]}}function p(c,l,v,y,w){w==null&&(w={});const{crc:U}=s,m=I.writeUint,x=I.writeUshort,u=I.writeASCII;let o=8;const L=c.frames.length>1;let E,O=!1,Q=33+(L?20:0);if(w.sRGB!=null&&(Q+=13),w.pHYs!=null&&(Q+=21),w.iCCP!=null&&(E=pako.deflate(w.iCCP),Q+=21+E.length+4),c.ctype==3){for(var z=c.plte.length,B=0;B<z;B++)c.plte[B]>>>24!=255&&(O=!0);Q+=8+3*z+4+(O?8+1*z+4:0)}for(var D=0;D<c.frames.length;D++)L&&(Q+=38),Q+=(W=c.frames[D]).cimg.length+12,D!=0&&(Q+=4);Q+=12;const R=new Uint8Array(Q),N=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)R[B]=N[B];if(m(R,o,13),o+=4,u(R,o,"IHDR"),o+=4,m(R,o,l),o+=4,m(R,o,v),o+=4,R[o]=c.depth,o++,R[o]=c.ctype,o++,R[o]=0,o++,R[o]=0,o++,R[o]=0,o++,m(R,o,U(R,o-17,17)),o+=4,w.sRGB!=null&&(m(R,o,1),o+=4,u(R,o,"sRGB"),o+=4,R[o]=w.sRGB,o++,m(R,o,U(R,o-5,5)),o+=4),w.iCCP!=null){const j=13+E.length;m(R,o,j),o+=4,u(R,o,"iCCP"),o+=4,u(R,o,"ICC profile"),o+=11,o+=2,R.set(E,o),o+=E.length,m(R,o,U(R,o-(j+4),j+4)),o+=4}if(w.pHYs!=null&&(m(R,o,9),o+=4,u(R,o,"pHYs"),o+=4,m(R,o,w.pHYs[0]),o+=4,m(R,o,w.pHYs[1]),o+=4,R[o]=w.pHYs[2],o++,m(R,o,U(R,o-13,13)),o+=4),L&&(m(R,o,8),o+=4,u(R,o,"acTL"),o+=4,m(R,o,c.frames.length),o+=4,m(R,o,w.loop!=null?w.loop:0),o+=4,m(R,o,U(R,o-12,12)),o+=4),c.ctype==3){for(m(R,o,3*(z=c.plte.length)),o+=4,u(R,o,"PLTE"),o+=4,B=0;B<z;B++){const j=3*B,q=c.plte[B],V=255&q,ee=q>>>8&255,Ae=q>>>16&255;R[o+j+0]=V,R[o+j+1]=ee,R[o+j+2]=Ae}if(o+=3*z,m(R,o,U(R,o-3*z-4,3*z+4)),o+=4,O){for(m(R,o,z),o+=4,u(R,o,"tRNS"),o+=4,B=0;B<z;B++)R[o+B]=c.plte[B]>>>24&255;o+=z,m(R,o,U(R,o-z-4,z+4)),o+=4}}let Z=0;for(D=0;D<c.frames.length;D++){var W=c.frames[D];L&&(m(R,o,26),o+=4,u(R,o,"fcTL"),o+=4,m(R,o,Z++),o+=4,m(R,o,W.rect.width),o+=4,m(R,o,W.rect.height),o+=4,m(R,o,W.rect.x),o+=4,m(R,o,W.rect.y),o+=4,x(R,o,y[D]),o+=2,x(R,o,1e3),o+=2,R[o]=W.dispose,o++,R[o]=W.blend,o++,m(R,o,U(R,o-30,30)),o+=4);const j=W.cimg;m(R,o,(z=j.length)+(D==0?0:4)),o+=4;const q=o;u(R,o,D==0?"IDAT":"fdAT"),o+=4,D!=0&&(m(R,o,Z++),o+=4),R.set(j,o),o+=z,m(R,o,U(R,q,o-q)),o+=4}return m(R,o,0),o+=4,u(R,o,"IEND"),o+=4,m(R,o,U(R,o-4,4)),o+=4,R.buffer}function A(c,l,v){for(let y=0;y<c.frames.length;y++){const w=c.frames[y];w.rect.width;const U=w.rect.height,m=new Uint8Array(U*w.bpl+U);w.cimg=a(w.img,U,w.bpp,w.bpl,m,l,v)}}function r(c,l,v,y,w){const U=w[0],m=w[1],x=w[2],u=w[3],o=w[4],L=w[5];let E=6,O=8,Q=255;for(var z=0;z<c.length;z++){const ne=new Uint8Array(c[z]);for(var B=ne.length,D=0;D<B;D+=4)Q&=ne[D+3]}const R=Q!=255,N=function($,G,te,oe,X,se){const J=[];for(var K=0;K<$.length;K++){const ae=new Uint8Array($[K]),ue=new Uint32Array(ae.buffer);var le;let ce=0,me=0,ge=G,Ue=te,He=oe?1:0;if(K!=0){const rt=se||oe||K==1||J[K-2].dispose!=0?1:2;let De=0,Ne=1e9;for(let Ce=0;Ce<rt;Ce++){var ve=new Uint8Array($[K-1-Ce]);const it=new Uint32Array($[K-1-Ce]);let be=G,we=te,Ie=-1,Me=-1;for(let Fe=0;Fe<te;Fe++)for(let Ee=0;Ee<G;Ee++)ue[re=Fe*G+Ee]!=it[re]&&(Ee<be&&(be=Ee),Ee>Ie&&(Ie=Ee),Fe<we&&(we=Fe),Fe>Me&&(Me=Fe));Ie==-1&&(be=we=Ie=Me=0),X&&((1&be)==1&&be--,(1&we)==1&&we--);const je=(Ie-be+1)*(Me-we+1);je<Ne&&(Ne=je,De=Ce,ce=be,me=we,ge=Ie-be+1,Ue=Me-we+1)}ve=new Uint8Array($[K-1-De]),De==1&&(J[K-1].dispose=2),le=new Uint8Array(ge*Ue*4),C(ve,G,te,le,ge,Ue,-ce,-me,0),He=C(ae,G,te,le,ge,Ue,-ce,-me,3)?1:0,He==1?n(ae,G,te,le,{x:ce,y:me,width:ge,height:Ue}):C(ae,G,te,le,ge,Ue,-ce,-me,0)}else le=ae.slice(0);J.push({rect:{x:ce,y:me,width:ge,height:Ue},img:le,blend:He,dispose:0})}if(oe)for(K=0;K<J.length;K++){if((ye=J[K]).blend==1)continue;const ae=ye.rect,ue=J[K-1].rect,ce=Math.min(ae.x,ue.x),me=Math.min(ae.y,ue.y),ge={x:ce,y:me,width:Math.max(ae.x+ae.width,ue.x+ue.width)-ce,height:Math.max(ae.y+ae.height,ue.y+ue.height)-me};J[K-1].dispose=1,K-1!=0&&i($,G,te,J,K-1,ge,X),i($,G,te,J,K,ge,X)}let Re=0;if($.length!=1)for(var re=0;re<J.length;re++){var ye;Re+=(ye=J[re]).rect.width*ye.rect.height}return J}(c,l,v,U,m,x),Z={},W=[],j=[];if(y!=0){const ne=[];for(D=0;D<N.length;D++)ne.push(N[D].img.buffer);const $=function(X){let se=0;for(var J=0;J<X.length;J++)se+=X[J].byteLength;const K=new Uint8Array(se);let le=0;for(J=0;J<X.length;J++){const ve=new Uint8Array(X[J]),Re=ve.length;for(let re=0;re<Re;re+=4){let ye=ve[re],ae=ve[re+1],ue=ve[re+2];const ce=ve[re+3];ce==0&&(ye=ae=ue=0),K[le+re]=ye,K[le+re+1]=ae,K[le+re+2]=ue,K[le+re+3]=ce}le+=Re}return K.buffer}(ne),G=F($,y);for(D=0;D<G.plte.length;D++)W.push(G.plte[D].est.rgba);let te=0;for(D=0;D<N.length;D++){const oe=(V=N[D]).img.length;var q=new Uint8Array(G.inds.buffer,te>>2,oe>>2);j.push(q);const X=new Uint8Array(G.abuf,te,oe);L&&f(V.img,V.rect.width,V.rect.height,W,X,q),V.img.set(X),te+=oe}}else for(z=0;z<N.length;z++){var V=N[z];const ne=new Uint32Array(V.img.buffer);var ee=V.rect.width;for(B=ne.length,q=new Uint8Array(B),j.push(q),D=0;D<B;D++){const $=ne[D];if(D!=0&&$==ne[D-1])q[D]=q[D-1];else if(D>ee&&$==ne[D-ee])q[D]=q[D-ee];else{let G=Z[$];if(G==null&&(Z[$]=G=W.length,W.push($),W.length>=300))break;q[D]=G}}}const Ae=W.length;for(Ae<=256&&o==0&&(O=Ae<=2?1:Ae<=4?2:Ae<=16?4:8,O=Math.max(O,u)),z=0;z<N.length;z++){(V=N[z]).rect.x,V.rect.y,ee=V.rect.width;const ne=V.rect.height;let $=V.img;new Uint32Array($.buffer);let G=4*ee,te=4;if(Ae<=256&&o==0){G=Math.ceil(O*ee/8);var de=new Uint8Array(G*ne);const oe=j[z];for(let X=0;X<ne;X++){D=X*G;const se=X*ee;if(O==8)for(var Y=0;Y<ee;Y++)de[D+Y]=oe[se+Y];else if(O==4)for(Y=0;Y<ee;Y++)de[D+(Y>>1)]|=oe[se+Y]<<4-4*(1&Y);else if(O==2)for(Y=0;Y<ee;Y++)de[D+(Y>>2)]|=oe[se+Y]<<6-2*(3&Y);else if(O==1)for(Y=0;Y<ee;Y++)de[D+(Y>>3)]|=oe[se+Y]<<7-1*(7&Y)}$=de,E=3,te=1}else if(R==0&&N.length==1){de=new Uint8Array(ee*ne*3);const oe=ee*ne;for(D=0;D<oe;D++){const X=3*D,se=4*D;de[X]=$[se],de[X+1]=$[se+1],de[X+2]=$[se+2]}$=de,E=2,te=3,G=3*ee}V.img=$,V.bpl=G,V.bpp=te}return{ctype:E,depth:O,plte:W,frames:N}}function i(c,l,v,y,w,U,m){const x=Uint8Array,u=Uint32Array,o=new x(c[w-1]),L=new u(c[w-1]),E=w+1<c.length?new x(c[w+1]):null,O=new x(c[w]),Q=new u(O.buffer);let z=l,B=v,D=-1,R=-1;for(let Z=0;Z<U.height;Z++)for(let W=0;W<U.width;W++){const j=U.x+W,q=U.y+Z,V=q*l+j,ee=Q[V];ee==0||y[w-1].dispose==0&&L[V]==ee&&(E==null||E[4*V+3]!=0)||(j<z&&(z=j),j>D&&(D=j),q<B&&(B=q),q>R&&(R=q))}D==-1&&(z=B=D=R=0),m&&((1&z)==1&&z--,(1&B)==1&&B--),U={x:z,y:B,width:D-z+1,height:R-B+1};const N=y[w];N.rect=U,N.blend=1,N.img=new Uint8Array(U.width*U.height*4),y[w-1].dispose==0?(C(o,l,v,N.img,U.width,U.height,-U.x,-U.y,0),n(O,l,v,N.img,U)):C(O,l,v,N.img,U.width,U.height,-U.x,-U.y,0)}function n(c,l,v,y,w){C(c,l,v,y,w.width,w.height,-w.x,-w.y,2)}function a(c,l,v,y,w,U,m){const x=[];let u,o=[0,1,2,3,4];U!=-1?o=[U]:(l*y>5e5||v==1)&&(o=[0]),m&&(u={level:0});const L=ut;for(var E=0;E<o.length;E++){for(let z=0;z<l;z++)d(w,c,z,y,v,o[E]);x.push(L.deflate(w,u))}let O,Q=1e9;for(E=0;E<x.length;E++)x[E].length<Q&&(O=E,Q=x[E].length);return x[O]}function d(c,l,v,y,w,U){const m=v*y;let x=m+v;if(c[x]=U,x++,U==0)if(y<500)for(var u=0;u<y;u++)c[x+u]=l[m+u];else c.set(new Uint8Array(l.buffer,m,y),x);else if(U==1){for(u=0;u<w;u++)c[x+u]=l[m+u];for(u=w;u<y;u++)c[x+u]=l[m+u]-l[m+u-w]+256&255}else if(v==0){for(u=0;u<w;u++)c[x+u]=l[m+u];if(U==2)for(u=w;u<y;u++)c[x+u]=l[m+u];if(U==3)for(u=w;u<y;u++)c[x+u]=l[m+u]-(l[m+u-w]>>1)+256&255;if(U==4)for(u=w;u<y;u++)c[x+u]=l[m+u]-S(l[m+u-w],0,0)+256&255}else{if(U==2)for(u=0;u<y;u++)c[x+u]=l[m+u]+256-l[m+u-y]&255;if(U==3){for(u=0;u<w;u++)c[x+u]=l[m+u]+256-(l[m+u-y]>>1)&255;for(u=w;u<y;u++)c[x+u]=l[m+u]+256-(l[m+u-y]+l[m+u-w]>>1)&255}if(U==4){for(u=0;u<w;u++)c[x+u]=l[m+u]+256-S(0,l[m+u-y],0)&255;for(u=w;u<y;u++)c[x+u]=l[m+u]+256-S(l[m+u-w],l[m+u-y],l[m+u-w-y])&255}}}function F(c,l){const v=new Uint8Array(c),y=v.slice(0),w=new Uint32Array(y.buffer),U=M(y,l),m=U[0],x=U[1],u=v.length,o=new Uint8Array(u>>2);let L;if(v.length<2e7)for(var E=0;E<u;E+=4)L=b(m,O=v[E]*(1/255),Q=v[E+1]*(1/255),z=v[E+2]*(1/255),B=v[E+3]*(1/255)),o[E>>2]=L.ind,w[E>>2]=L.est.rgba;else for(E=0;E<u;E+=4){var O=v[E]*.00392156862745098,Q=v[E+1]*(1/255),z=v[E+2]*(1/255),B=v[E+3]*(1/255);for(L=m;L.left;)L=H(L.est,O,Q,z,B)<=0?L.left:L.right;o[E>>2]=L.ind,w[E>>2]=L.est.rgba}return{abuf:y.buffer,inds:o,plte:x}}function M(c,l,v){v==null&&(v=1e-4);const y=new Uint32Array(c.buffer),w={i0:0,i1:c.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=k(c,w.i0,w.i1),w.est=g(w.bst);const U=[w];for(;U.length<l;){let x=0,u=0;for(var m=0;m<U.length;m++)U[m].est.L>x&&(x=U[m].est.L,u=m);if(x<v)break;const o=U[u],L=P(c,y,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=L||o.i1<=L){o.est.L=0;continue}const E={i0:o.i0,i1:L,bst:null,est:null,tdst:0,left:null,right:null};E.bst=k(c,E.i0,E.i1),E.est=g(E.bst);const O={i0:L,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(O.bst={R:[],m:[],N:o.bst.N-E.bst.N},m=0;m<16;m++)O.bst.R[m]=o.bst.R[m]-E.bst.R[m];for(m=0;m<4;m++)O.bst.m[m]=o.bst.m[m]-E.bst.m[m];O.est=g(O.bst),o.left=E,o.right=O,U[u]=E,U.push(O)}for(U.sort((x,u)=>u.bst.N-x.bst.N),m=0;m<U.length;m++)U[m].ind=m;return[w,U]}function b(c,l,v,y,w){if(c.left==null)return c.tdst=function(E,O,Q,z,B){const D=O-E[0],R=Q-E[1],N=z-E[2],Z=B-E[3];return D*D+R*R+N*N+Z*Z}(c.est.q,l,v,y,w),c;const U=H(c.est,l,v,y,w);let m=c.left,x=c.right;U>0&&(m=c.right,x=c.left);const u=b(m,l,v,y,w);if(u.tdst<=U*U)return u;const o=b(x,l,v,y,w);return o.tdst<u.tdst?o:u}function H(c,l,v,y,w){const{e:U}=c;return U[0]*l+U[1]*v+U[2]*y+U[3]*w-c.eMq}function P(c,l,v,y,w,U){for(y-=4;v<y;){for(;_(c,v,w)<=U;)v+=4;for(;_(c,y,w)>U;)y-=4;if(v>=y)break;const m=l[v>>2];l[v>>2]=l[y>>2],l[y>>2]=m,v+=4,y-=4}for(;_(c,v,w)>U;)v-=4;return v+4}function _(c,l,v){return c[l]*v[0]+c[l+1]*v[1]+c[l+2]*v[2]+c[l+3]*v[3]}function k(c,l,v){const y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],U=v-l>>2;for(let m=l;m<v;m+=4){const x=c[m]*.00392156862745098,u=c[m+1]*(1/255),o=c[m+2]*(1/255),L=c[m+3]*(1/255);w[0]+=x,w[1]+=u,w[2]+=o,w[3]+=L,y[0]+=x*x,y[1]+=x*u,y[2]+=x*o,y[3]+=x*L,y[5]+=u*u,y[6]+=u*o,y[7]+=u*L,y[10]+=o*o,y[11]+=o*L,y[15]+=L*L}return y[4]=y[1],y[8]=y[2],y[9]=y[6],y[12]=y[3],y[13]=y[7],y[14]=y[11],{R:y,m:w,N:U}}function g(c){const{R:l}=c,{m:v}=c,{N:y}=c,w=v[0],U=v[1],m=v[2],x=v[3],u=y==0?0:1/y,o=[l[0]-w*w*u,l[1]-w*U*u,l[2]-w*m*u,l[3]-w*x*u,l[4]-U*w*u,l[5]-U*U*u,l[6]-U*m*u,l[7]-U*x*u,l[8]-m*w*u,l[9]-m*U*u,l[10]-m*m*u,l[11]-m*x*u,l[12]-x*w*u,l[13]-x*U*u,l[14]-x*m*u,l[15]-x*x*u],L=o,E=T;let O=[Math.random(),Math.random(),Math.random(),Math.random()],Q=0,z=0;if(y!=0)for(let D=0;D<16&&(O=E.multVec(L,O),z=Math.sqrt(E.dot(O,O)),O=E.sml(1/z,O),!(D!=0&&Math.abs(z-Q)<1e-9));D++)Q=z;const B=[w*u,U*u,m*u,x*u];return{Cov:o,q:B,e:O,L:Q,eMq255:E.dot(E.sml(255,B),O),eMq:E.dot(O,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var T={multVec:(c,l)=>[c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3],c[4]*l[0]+c[5]*l[1]+c[6]*l[2]+c[7]*l[3],c[8]*l[0]+c[9]*l[1]+c[10]*l[2]+c[11]*l[3],c[12]*l[0]+c[13]*l[1]+c[14]*l[2]+c[15]*l[3]],dot:(c,l)=>c[0]*l[0]+c[1]*l[1]+c[2]*l[2]+c[3]*l[3],sml:(c,l)=>[c*l[0],c*l[1],c*l[2],c*l[3]]};he.encode=function(l,v,y,w,U,m,x){w==null&&(w=0),x==null&&(x=!1);const u=r(l,v,y,w,[!1,!1,!1,0,x,!1]);return A(u,-1),p(u,v,y,U,m)},he.encodeLL=function(l,v,y,w,U,m,x,u){const o={ctype:0+(w==1?0:2)+(U==0?0:4),depth:m,frames:[]},L=(w+U)*m,E=L*v;for(let O=0;O<l.length;O++)o.frames.push({rect:{x:0,y:0,width:v,height:y},img:new Uint8Array(l[O]),blend:0,dispose:1,bpp:Math.ceil(L/8),bpl:Math.ceil(E/8)});return A(o,0,!0),p(o,v,y,x,u)},he.encode.compress=r,he.encode.dither=f,he.quantize=F,he.quantize.getKDtree=M,he.quantize.getNearest=b})();const Ke={toArrayBuffer(C,I){const S=C.width,s=C.height,e=S<<2,t=C.getContext("2d").getImageData(0,0,S,s),h=new Uint32Array(t.data.buffer),f=(32*S+31)/32<<2,p=f*s,A=122+p,r=new ArrayBuffer(A),i=new DataView(r),n=1<<20;let a,d,F,M,b=n,H=0,P=0,_=0;function k(c){i.setUint16(P,c,!0),P+=2}function g(c){i.setUint32(P,c,!0),P+=4}function T(c){P+=c}k(19778),g(A),T(4),g(122),g(108),g(S),g(-s>>>0),k(1),k(32),g(3),g(p),g(2835),g(2835),T(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),function c(){for(;H<s&&b>0;){for(M=122+H*f,a=0;a<e;)b--,d=h[_++],F=d>>>24,i.setUint32(M+a,d<<8|F),a+=4;H++}_<h.length?(b=n,setTimeout(c,Ke._dly)):I(r)}()},toBlob(C,I){this.toArrayBuffer(C,S=>{I(new Blob([S],{type:"image/bmp"}))})},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},ht={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const Be=typeof window<"u",Ze=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Pe=Be&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),dt=(Be||Ze)&&(Pe&&Pe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),$e=(Be||Ze)&&(Pe&&Pe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Qe(C,I,S=Date.now()){return new Promise(s=>{const e=C.split(","),t=e[0].match(/:(.*?);/)[1],h=globalThis.atob(e[1]);let f=h.length;const p=new Uint8Array(f);for(;f--;)p[f]=h.charCodeAt(f);const A=new Blob([p],{type:t});A.name=I,A.lastModified=S,s(A)})}function Ye(C){return new Promise((I,S)=>{const s=new $e;s.onload=()=>I(s.result),s.onerror=e=>S(e),s.readAsDataURL(C)})}function Ve(C){return new Promise((I,S)=>{const s=new Image;s.onload=()=>I(s),s.onerror=e=>S(e),s.src=C})}function xe(){if(xe.cachedResult!==void 0)return xe.cachedResult;let C=fe.ETC;const{userAgent:I}=navigator;return/Chrom(e|ium)/i.test(I)?C=fe.CHROME:/iP(ad|od|hone)/i.test(I)&&/WebKit/i.test(I)?C=fe.IOS:/Safari/i.test(I)?C=fe.DESKTOP_SAFARI:/Firefox/i.test(I)?C=fe.FIREFOX:(/MSIE/i.test(I)||document.documentMode)&&(C=fe.IE),xe.cachedResult=C,xe.cachedResult}function Xe(C,I){const S=xe(),s=ht[S];let e=C,t=I,h=e*t;const f=e>t?t/e:e/t;for(;h>s*s;){const p=(s+e)/2,A=(s+t)/2;p<A?(t=A,e=A*f):(t=p*f,e=p),h=e*t}return{width:e,height:t}}function ke(C,I){let S,s;try{if(S=new OffscreenCanvas(C,I),s=S.getContext("2d"),s===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{S=document.createElement("canvas"),s=S.getContext("2d")}return S.width=C,S.height=I,[S,s]}function Je(C,I){const{width:S,height:s}=Xe(C.width,C.height),[e,t]=ke(S,s);return I&&/jpe?g/.test(I)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(C,0,0,e.width,e.height),e}function Se(){return Se.cachedResult!==void 0||(Se.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Se.cachedResult}function Le(C,I={}){return new Promise(function(S,s){let e,t;var h=function(){try{return t=Je(e,I.fileType||C.type),S([e,t])}catch(p){return s(p)}},f=function(p){try{var A=function(r){try{throw r}catch(i){return s(i)}};try{let r;return Ye(C).then(function(i){try{return r=i,Ve(r).then(function(n){try{return e=n,function(){try{return h()}catch(a){return s(a)}}()}catch(a){return A(a)}},A)}catch(n){return A(n)}},A)}catch(r){A(r)}}catch(r){return s(r)}};try{if(Se()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(xe()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(C).then(function(p){try{return e=p,h()}catch{return f()}},f)}catch{f()}})}function Oe(C,I,S,s,e=1){return new Promise(function(t,h){let f;if(I==="image/png"){let A,r,i;return A=C.getContext("2d"),{data:r}=A.getImageData(0,0,C.width,C.height),i=he.encode([r.buffer],C.width,C.height,4096*e),f=new Blob([i],{type:I}),f.name=S,f.lastModified=s,p.call(this)}{let A=function(){return p.call(this)};if(I==="image/bmp")return new Promise(r=>Ke.toBlob(C,r)).then(function(r){try{return f=r,f.name=S,f.lastModified=s,A.call(this)}catch(i){return h(i)}}.bind(this),h);{let r=function(){return A.call(this)};if(typeof OffscreenCanvas=="function"&&C instanceof OffscreenCanvas)return C.convertToBlob({type:I,quality:e}).then(function(i){try{return f=i,f.name=S,f.lastModified=s,r.call(this)}catch(n){return h(n)}}.bind(this),h);{let i;return i=C.toDataURL(I,e),Qe(i,S,s).then(function(n){try{return f=n,r.call(this)}catch(a){return h(a)}}.bind(this),h)}}}function p(){return t(f)}})}function pe(C){C.width=0,C.height=0}function _e(){return new Promise(function(C,I){let S,s,e,t;return _e.cachedResult!==void 0?C(_e.cachedResult):Qe("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(h){try{return S=h,Le(S).then(function(f){try{return s=f[1],Oe(s,S.type,S.name,S.lastModified).then(function(p){try{return e=p,pe(s),Le(e).then(function(A){try{return t=A[0],_e.cachedResult=t.width===1&&t.height===2,C(_e.cachedResult)}catch(r){return I(r)}},I)}catch(A){return I(A)}},I)}catch(p){return I(p)}},I)}catch(f){return I(f)}},I)})}function et(C){return new Promise((I,S)=>{const s=new $e;s.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return I(-2);const h=t.byteLength;let f=2;for(;f<h;){if(t.getUint16(f+2,!1)<=8)return I(-1);const p=t.getUint16(f,!1);if(f+=2,p==65505){if(t.getUint32(f+=2,!1)!=1165519206)return I(-1);const A=t.getUint16(f+=6,!1)==18761;f+=t.getUint32(f+4,A);const r=t.getUint16(f,A);f+=2;for(let i=0;i<r;i++)if(t.getUint16(f+12*i,A)==274)return I(t.getUint16(f+12*i+8,A))}else{if((65280&p)!=65280)break;f+=t.getUint16(f,!1)}}return I(-1)},s.onerror=e=>S(e),s.readAsArrayBuffer(C)})}function tt(C,I){const{width:S}=C,{height:s}=C,{maxWidthOrHeight:e}=I;let t,h=C;return isFinite(e)&&(S>e||s>e)&&([h,t]=ke(S,s),S>s?(h.width=e,h.height=s/S*e):(h.width=S/s*e,h.height=e),t.drawImage(C,0,0,h.width,h.height),pe(C)),h}function nt(C,I){const{width:S}=C,{height:s}=C,[e,t]=ke(S,s);switch(I>4&&I<9?(e.width=s,e.height=S):(e.width=S,e.height=s),I){case 2:t.transform(-1,0,0,1,S,0);break;case 3:t.transform(-1,0,0,-1,S,s);break;case 4:t.transform(1,0,0,-1,0,s);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,s,0);break;case 7:t.transform(0,-1,-1,0,s,S);break;case 8:t.transform(0,-1,1,0,0,S)}return t.drawImage(C,0,0,S,s),pe(C),e}function We(C,I,S=0){return new Promise(function(s,e){let t,h,f,p,A,r,i,n,a,d,F,M,b,H,P,_,k,g,T,c;function l(y=5){if(I.signal&&I.signal.aborted)throw I.signal.reason;t+=y,I.onProgress(Math.min(t,100))}function v(y){if(I.signal&&I.signal.aborted)throw I.signal.reason;t=Math.min(Math.max(y,t),100),I.onProgress(t)}return t=S,h=I.maxIteration||10,f=1024*I.maxSizeMB*1024,l(),Le(C,I).then(function(y){try{return[,p]=y,l(),A=tt(p,I),l(),new Promise(function(w,U){var m;if(!(m=I.exifOrientation))return et(C).then(function(u){try{return m=u,x.call(this)}catch(o){return U(o)}}.bind(this),U);function x(){return w(m)}return x.call(this)}).then(function(w){try{return r=w,l(),_e().then(function(U){try{return i=U?A:nt(A,r),l(),n=I.initialQuality||1,a=I.fileType||C.type,Oe(i,a,C.name,C.lastModified,n).then(function(m){try{{let u=function(){if(h--&&(P>f||P>b)){let L,E;return L=c?.95*T.width:T.width,E=c?.95*T.height:T.height,[k,g]=ke(L,E),g.drawImage(T,0,0,L,E),n*=a==="image/png"?.85:.95,Oe(k,a,C.name,C.lastModified,n).then(function(O){try{return _=O,pe(T),T=k,P=_.size,v(Math.min(99,Math.floor((H-P)/(H-f)*100))),u}catch(Q){return e(Q)}},e)}return[1]},o=function(){return pe(T),pe(k),pe(A),pe(i),pe(p),v(100),s(_)};if(d=m,l(),F=d.size>f,M=d.size>C.size,!F&&!M)return v(100),s(d);var x;return b=C.size,H=d.size,P=H,T=i,c=!I.alwaysKeepResolution&&F,(x=function(L){for(;L;){if(L.then)return void L.then(x,e);try{if(L.pop){if(L.length)return L.pop()?o.call(this):L;L=u}else L=L.call(this)}catch(E){return e(E)}}}.bind(this))(u)}}catch(u){return e(u)}}.bind(this),e)}catch(m){return e(m)}}.bind(this),e)}catch(U){return e(U)}}.bind(this),e)}catch(w){return e(w)}}.bind(this),e)})}const gt=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let ze;function pt(C,I){return new Promise((S,s)=>{ze||(ze=function(h){const f=[];return f.push(h),URL.createObjectURL(new Blob(f))}(gt));const e=new Worker(ze);e.addEventListener("message",function(h){if(I.signal&&I.signal.aborted)e.terminate();else if(h.data.progress===void 0){if(h.data.error)return s(new Error(h.data.error)),void e.terminate();S(h.data.file),e.terminate()}else I.onProgress(h.data.progress)}),e.addEventListener("error",s),I.signal&&I.signal.addEventListener("abort",()=>{s(I.signal.reason),e.terminate()}),e.postMessage({file:C,imageCompressionLibUrl:I.libURL,options:{...I,onProgress:void 0,signal:void 0}})})}function ie(C,I){return new Promise(function(S,s){let e,t,h,f,p,A;if(e={...I},h=0,{onProgress:f}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=a=>{h=a,typeof f=="function"&&f(h)},!(C instanceof Blob||C instanceof dt))return s(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(C.type))return s(new Error("The file given is not an image"));if(A=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||A)return We(C,e).then(function(a){try{return t=a,n.call(this)}catch(d){return s(d)}}.bind(this),s);var r=function(){try{return n.call(this)}catch(a){return s(a)}}.bind(this),i=function(a){try{return We(C,e).then(function(d){try{return t=d,r()}catch(F){return s(F)}},s)}catch(d){return s(d)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",pt(C,e).then(function(a){try{return t=a,r()}catch{return i()}},i)}catch{i()}function n(){try{t.name=C.name,t.lastModified=C.lastModified}catch{}try{e.preserveExif&&C.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===C.type)&&(t=Ge(C,t))}catch{}return S(t)}})}ie.getDataUrlFromFile=Ye,ie.getFilefromDataUrl=Qe,ie.loadImage=Ve,ie.drawImageInCanvas=Je,ie.drawFileInCanvas=Le,ie.canvasToFile=Oe,ie.getExifOrientation=et,ie.handleMaxWidthOrHeight=tt,ie.followExifOrientation=nt,ie.cleanupCanvasMemory=pe,ie.isAutoOrientationInBrowser=_e,ie.approximateBelowMaximumCanvasSizeOfBrowser=Xe,ie.copyExifWithoutOrientation=Ge,ie.getBrowserName=xe,ie.version="2.0.2";const mt=()=>"YABABYSSolution",Et=()=>"https://qvamarkets.s3.us-east-2.amazonaws.com/V2_images/7258/";let vt={webp:"image/webp",jpg:"image/jpg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",ts:"video/MP2T",m3u8:"application/x-mpegURL",mp4:"video/MP4",m4a:"audio/MP4",webm:"video/webm",weba:"audio/webm",m4s:"text/plain",txt:"text/plain",srt:"text/plain",vtt:"text/plain",js:"application/javascript; charset=UTF-8",css:"text/css; charset=utf-8",mpd:"video/vnd.mpeg.dash.mpd",aac:"audio/aac",mp3:"audio/mpeg",wav:"audio/wav",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pdf:"application/pdf","7z":"application/x-7z-compressed",zip:"application/zip",xml:"application/xml",json:"application/json",html:"text/html; charset=UTF-8"};const bt=C=>C&&C.split(".").pop().toLowerCase(),wt=C=>{let I=bt(C);return vt[I]},At=async(C,I)=>{let s=await(await fetch(C)).blob();return I&&(s=s.slice(0,s.size,I)),URL.createObjectURL(s)},yt=async C=>{let I={query:"getSignedUrl",params:{fileName:C}};var S;return ot()?S=await qe(I):S=(await at(I))?.data,S?.url?S:null},xt=async C=>{let I=wt(C);console.log(C);var S=await yt(C);console.log(S);var s=await At(S?.url,I);return console.log(S?.url),s},It=async(C,I)=>{let S=I||{maxSizeMB:1,maxWidthOrHeight:1920};try{return await ie(C,S)}catch(s){return s}},_t=C=>new Promise(function(I,S){let s=new Image;s.addEventListener("load",function(){I(s)}),s.src=URL.createObjectURL(C)}).then(function(I){return new Promise(function(S,s){let e=document.createElement("canvas"),t=e.getContext("2d");e.width=I.width,e.height=I.height,t.drawImage(I,0,0),e.toBlob(function(h){S(URL.createObjectURL(h))},"image/webp")})}).then(function(I){return new Promise(function(S,s){let e=new Image;e.addEventListener("load",function(){S({imageURL:I,scaledImg:e})}),e.setAttribute("src",I)})}).then(function(I){return new Promise(function(S,s){S(I.imageURL)})}),Ct=async(C,I)=>{let S={params:{userId:mt(),fileName:I,mimeType:C}},s=ft(933001);S={...S,...s};const t=await qe(S);return t&&!t.error?t.uploadURL:null},Mt=async(C,I)=>(await fetch(C,{method:"PUT",headers:{"Content-Type":I.type},body:I}))?.status===200?!0:null;export{mt as a,Ct as b,It as c,Et as g,_t as i,xt as l,Mt as u};
