const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-DEbuPAan.js","assets/index-BMo9JdU5.js","assets/index-DeAzZMb6.css","assets/SVG-CKIz6gh5.js","assets/index-Ci0zXM0r.js","assets/AddInventory-BjD3Nkqg.js","assets/globalSignal-BE-U1QCH.js","assets/Util-D2YTzGDx.js","assets/DialogHRM-DWsJikP8.js","assets/DialogHRM-V9_lZntj.css","assets/debounces-QlmEzmS6.js","assets/DashProducts-BTwvtEXO.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InventoryOut-DUSff4Qb.js","assets/DashInventory-4dS0EjIS.js","assets/Toast-BUEQhYLI.js","assets/Toast-DLpFKn-Q.css","assets/DropDwnSearch-CCVQe7_D.js","assets/DropDwnSearch-DMkLkRPc.css","assets/LoadingColorSpinner-BTZfV8iP.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-CaBboORT.js","assets/InputHr-M3rJ9grQ.css","assets/CheckBoxSlide-BFxqwoSN.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/ItemOnGroupInventory-C0yHid3m.js"])))=>i.map(i=>d[i]);
import{l as v,_ as x,a as S,c as V,o as N,h as M,b as j,i as r,d as e,k as q,t as a,j as B,E as H,S as i,r as W,F as z,f as w,g as A}from"./index-BMo9JdU5.js";import{b as G,f as Q,O as F,g as X}from"./Util-D2YTzGDx.js";import"./DialogHRM-DWsJikP8.js";import{i as c}from"./globalSignal-BE-U1QCH.js";import{validStores as Y}from"./AddInventory-BjD3Nkqg.js";import{u as K}from"./debounces-QlmEzmS6.js";import"./index-Ci0zXM0r.js";import"./DashProducts-BTwvtEXO.js";import"./App.module-CbHnVtRQ.js";import"./FlexSpace-DEbuPAan.js";var J=a('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:16px><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px>'),U=a("<div> <!>."),Z=a("<div> "),D=a('<p class=" textleft fullName_consigne">Producto'),L=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Envio'),ee=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Existencia'),k=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Costo'),te=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Total'),T=a('<div><div class="_dsplFlx bottombx centerBx"><div class="_dsplFlx bottombx tr_bar_40">'),re=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Venta'),le=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>Ganancia'),R=a('<div class="_dsplFlx bottombx tr_bar_15 red"><h5>'),ie=a('<div class="_dsplFlx bottombx tr_bar_15"><h5>'),ne=a("<div><h5>"),se=a('<div class="_dsplFlx bottombx centerBx"><div class="_dsplFlx bottombx tr_bar_40 "><h4>Resume</h4>');const y=v(()=>x(()=>import("./FlexSpace-DEbuPAan.js"),__vite__mapDeps([0,1,2])));v(()=>x(()=>import("./SVG-CKIz6gh5.js"),__vite__mapDeps([3,1,2,4])));v(()=>x(()=>import("./AddInventory-BjD3Nkqg.js"),__vite__mapDeps([5,1,2,6,7,4,8,9,10,11,12,13,0])));v(()=>x(()=>import("./InventoryOut-DUSff4Qb.js"),__vite__mapDeps([14,1,2,6,7,4,8,9,10,11,12,13,0,15,16,17,5])));const I=v(()=>x(()=>import("./DropDwnSearch-CCVQe7_D.js"),__vite__mapDeps([18,1,2,10,3,4,19]))),oe=v(()=>x(()=>import("./LoadingColorSpinner-BTZfV8iP.js"),__vite__mapDeps([20,1,2,21]))),ae=v(()=>x(()=>import("./InputHr-CaBboORT.js"),__vite__mapDeps([22,1,2,23])));v(()=>x(()=>import("./CheckBoxSlide-BFxqwoSN.js"),__vite__mapDeps([24,1,2,25])));const de=v(()=>x(()=>import("./ItemOnGroupInventory-C0yHid3m.js"),__vite__mapDeps([26,1,2,7,4,6,8,9,5,10,11,12,13,0])));function Ce(){const[t,n]=S({}),[s,C]=S({}),[l,$]=V({store:"",search:""}),[E,d]=S(""),b=K(d,400),P=(u,m)=>{$({[u]:m}),b(X())};return N(()=>{}),M(()=>{}),j(E,async u=>{let m=`${l?.store} ${l?.search} `;if(!l?.store)return[];const f=await ce(m,l?.type);let _={},h={cost:0,shipingCost:0,salePrice:0};return F(f).map(O=>{let g=f[O];g.products.map(o=>{l?.type&&g?.type!==l?.type||(_[o.product?.id]||(_[o.product?.id]={productName:o.product?.label,stock:0,invoices:{},cost:0,price:0,shipingCost:0,salePrice:0}),_[o.product?.id].stock+=p(o.qty),_[o.product?.id].salePrice+=p(o.salePrice),l?.type==="SALES"&&(h.cost+=p(o.price)*(p(o.qty)*-1),h.shipingCost+=p(g.weight)*p(g.pricePerPound),h.salePrice+=p(o.salePrice)),_[o.product?.id].price+=p(o.price)*p(o.qty),_[o.product?.id].shipingCost+=p(g.weight)*p(g.pricePerPound),_[o.product?.id].invoices[g.invoice]={weight:g.weight,pricePerPound:g.pricePerPound})})}),C(h),n(_),[]}),[(()=>{var u=J(),m=u.firstChild,f=m.nextSibling,_=f.nextSibling;return r(m,e(ae,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return l?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:h=>P("search",h)})),r(f,e(I,{list:[{id:"ENTRY",label:"ENTRADAS"},{id:"TRANSFER",label:"TRANSFERENCIAS"},{id:"SALES",label:"VENTAS"}],lbl_empty:"Tipo de Movimiento",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return l?.type},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:h=>P("type",h.id),width:"260px"})),r(_,e(I,{get list(){return Y()},lbl_empty:"Almacen",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return l?.store},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:h=>P("store",h.id),width:"260px"})),u})(),e(i,{get when(){return B(()=>!!l?.store)()&&t()},get children(){return e(H,{fallback:u=>(()=>{var m=U(),f=m.firstChild,_=f.nextSibling;return _.nextSibling,r(m,()=>u.toString(),_),m})(),get children(){return[e(i,{get when(){return l?.type!=="SALES"},get children(){return e(ue,{})}}),e(i,{get when(){return l?.type==="SALES"},get children(){return e(_e,{get item(){return s()}})}}),e(W,{get fallback(){return(()=>{var u=Z();return u.firstChild,r(u,e(oe,{stroke:"rgb(200 25 60 / 1)",size:62}),null),u})()},get children(){return e(i,{get when(){return t()},get children(){return e(z,{get each(){return F(t())},children:(u,m)=>e(de,{get item(){return t()?.[u]},refetch:()=>{},get isSales(){return l?.type==="SALES"}})})}})}})]}})}})]}const ce=async(t,n)=>{let s={params:{businessId:q?.profile?.businessYId}};t&&t.split(" ").map(($,E)=>{$&&(s.params[":search"+E]=$.trim())}),n&&(s.params[":type"]=n.trim());let C=G(132001);s={...s,...C};const l=await Q(s);return l?.error?{}:l},p=t=>t?t*1:0,ue=()=>(()=>{var t=T(),n=t.firstChild,s=n.firstChild;return r(s,e(i,{when:1,get children(){return D()}})),r(n,e(y,{}),null),r(n,e(i,{get when(){return!c()},get children(){return L()}}),null),r(n,e(y,{}),null),r(n,e(i,{get when(){return!c()},get children(){return ee()}}),null),r(n,e(i,{get when(){return!c()},get children(){return k()}}),null),r(n,e(i,{get when(){return!c()},get children(){return te()}}),null),w(()=>A(t,`client_item_box gWXAaj jlytmu inventory ${c()?"isMobile":""}`)),t})(),_e=t=>(()=>{var n=T(),s=n.firstChild,C=s.firstChild;return r(C,e(i,{when:1,get children(){return D()}})),r(s,e(y,{}),null),r(s,e(i,{get when(){return!c()},get children(){return L()}}),null),r(s,e(y,{}),null),r(s,e(i,{get when(){return!c()},get children(){return k()}}),null),r(s,e(i,{get when(){return!c()},get children(){return re()}}),null),r(s,e(i,{get when(){return!c()},get children(){return le()}}),null),r(n,e(i,{get when(){return t?.item?.salePrice&&t?.item?.cost},get children(){var l=se(),$=l.firstChild,E=$.firstChild;return E.style.setProperty("color","#4d4d4d"),r(l,e(y,{}),null),r(l,e(i,{get when(){return!c()&&t?.item?.shipingCost},get children(){var d=R(),b=d.firstChild;return r(b,()=>t?.item?.shipingCost?.toFixed(2)),d}}),null),r(l,e(y,{}),null),r(l,e(i,{get when(){return!c()&&t?.item?.cost},get children(){var d=R(),b=d.firstChild;return r(b,()=>t?.item?.cost?.toFixed(2)),d}}),null),r(l,e(i,{get when(){return!c()&&t?.item?.salePrice},get children(){var d=ie(),b=d.firstChild;return r(b,()=>t?.item?.salePrice?.toFixed(2)),d}}),null),r(l,e(i,{get when(){return!c()&&t?.item?.salePrice&&t?.item?.shipingCost&&t?.item?.cost},get children(){var d=ne(),b=d.firstChild;return r(b,()=>(t?.item?.salePrice-(t?.item?.shipingCost+t?.item?.cost)).toFixed(2)),w(()=>A(d,`_dsplFlx bottombx tr_bar_15  ${t?.item?.salePrice-(t?.item?.shipingCost+t?.item?.cost)>0?"green":"red"}`)),d}}),null),l}}),null),w(()=>A(n,`client_item_box gWXAaj jlytmu inventory ${c()?"isMobile":""}`)),n})();export{ce as LookupInventory,Ce as default,p as isValNum};
