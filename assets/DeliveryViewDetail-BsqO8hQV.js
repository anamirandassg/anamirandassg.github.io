const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SVG-E76cUvOQ.js","assets/index-f9fOxBB0.js","assets/index-C8O1wSFC.css","assets/FlexSpace-DoAj3N5Q.js","assets/LoadingColorSpinner-IzqrybPy.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DeliveryCamera-CTxRe5b-.js","assets/ButonHrm-VBikVM6W.js","assets/ButonHrm-BSeWNUGQ.css","assets/html5-qrcode-scanner-Ftkb535h.js","assets/debounces-CARLR0_K.js","assets/ItemOnDeliveryList-B1C90LtQ.js","assets/DialogHRM-B-gZDgUI.js","assets/DialogHRM-V9_lZntj.css","assets/LinkManifest-CQfm06Z7.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/fontkit.es-C7nlUBMr.js","assets/InitPrintServices-Mm2SBvRF.js","assets/DashManifest-C2lls1S7.js"])))=>i.map(i=>d[i]);
import{l as m,_ as p,e as D,p as M,q as R,i as l,d as a,f as N,h as O,t as S,n as C,c as T,a as I,a8 as G,u as H,k as j,o as U,j as B,S as A,y as W,O as L,F as K,E as Z,s as Y,B as J}from"./index-f9fOxBB0.js";import{CloseModal as X,OpenModal as ee}from"./DialogHRM-B-gZDgUI.js";import{H as te,a as re}from"./html5-qrcode-scanner-Ftkb535h.js";import{LookupManifets as se}from"./DashManifest-C2lls1S7.js";import{updLinkedBags as ne}from"./LinkManifest-CQfm06Z7.js";import"./fontkit.es-C7nlUBMr.js";import"./App.module-CbHnVtRQ.js";import"./debounces-CARLR0_K.js";import"./InitPrintServices-Mm2SBvRF.js";var ie=S('<div><div><div class="_dsplFlx bottombx lowbordr"><h5>Confirmar Entrega</h5><div class="icon_status centerBx"></div></div></div><div class=" flxWrp spaceAround centerBx"style="margin:30px 0"><div id=qr-reader style=width:220px>');const oe=m(()=>p(()=>import("./SVG-E76cUvOQ.js"),__vite__mapDeps([0,1,2]))),ae=m(()=>p(()=>import("./FlexSpace-DoAj3N5Q.js"),__vite__mapDeps([3,1,2])));let k;function le(e){M(()=>{k?.clear()}),R(()=>{setTimeout(()=>{c()},90)});const s=async n=>{let u="kZxxLCeHlz8l3gU8";(await se(u))?.[u]&&(await ne({ssg_manifest_key:u},{linkedUser:C?.profile?.userId}),e?.callback({ssg_manifest_key:u,linkedUser:C?.profile?.userId})),X(e?.modalId)},c=()=>{let n={fps:10,qrbox:{width:250,height:200},supportedScanTypes:[te.SCAN_TYPE_CAMERA],showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,verbose:!0};k=new re("qr-reader",n),k.render(s)};return(()=>{var n=ie(),u=n.firstChild,_=u.firstChild,b=_.firstChild,f=b.nextSibling;return n.style.setProperty("max-height","80vh"),n.style.setProperty("overflow","auto"),n.style.setProperty("background","#ffffff"),n.style.setProperty("border-radius","13"),n.style.setProperty("padding","10px 19px"),b.$$click=s,l(_,a(ae,{}),f),f.$$click=()=>{},l(f,a(oe,{name:"keyboard",size:32,color:"#2b2b2b"})),N($=>($=O()?"92vw":"420px")!=null?n.style.setProperty("width",$):n.style.removeProperty("width")),n})()}D(["click"]);var de=S("<h4>"),ce=S('<div><div class=" flxWrp spaceAround centerBx"><h2>Delivery Manifest</h2><div class="icon_status centerBx"></div></div><div style=padding:16px></div><div class=" flxWrp spaceAround centerBx"><div class=bottombx><h4></h4></div><h5></h5></div><div>'),ue=S("<div> <!>."),me=S("<div> ");const[Ee,Ce]=T(),pe=m(()=>p(()=>import("./LoadingColorSpinner-IzqrybPy.js"),__vite__mapDeps([4,1,2,5])));m(()=>p(()=>import("./DeliveryCamera-CTxRe5b-.js"),__vite__mapDeps([6,1,2,7,0,8,9,10,3])));const ge=m(()=>p(()=>import("./ItemOnDeliveryList-B1C90LtQ.js"),__vite__mapDeps([11,1,2,10,12,13,14,15,16,17,18,19]))),_e=m(()=>p(()=>import("./SVG-E76cUvOQ.js"),__vite__mapDeps([0,1,2])));m(()=>p(()=>import("./FlexSpace-DoAj3N5Q.js"),__vite__mapDeps([3,1,2])));const[Be,Ae]=I("");function Le(){I([]);const[e,s]=T({});G();const[c,n]=H(),[u,_]=I("");I(0),j(()=>{$()}),M(()=>{}),R(async()=>{let o=await fe({id:c?.dId,checkAuth:!0});s("detail",o);let r={};o.linkedBagsInfo.map(t=>{let d=Q(t),h=t.cidentity;if(r[d]||(r[d]={city:t?.city,estate:t?.estate,currentStatus:t?.currentStatus,customers:{}}),!r[d].customers[h]){let v={name:he(t),phoneNumber:ve(t),cid:t.cidentity},y={...t,...v};y.bagsNumb=[],r[d].customers[h]=y}r[d].customers[h].bagsNumb.push(t?.bagnumber)}),s("linkedBagsInfo",r),_(B())});function b(){return"geolocation"in navigator}function f(o){J({latitude:o?.coords?.latitude,longitude:o?.coords?.longitude})}function $(){b()?navigator.geolocation.getCurrentPosition(f):showMessage("Geolocation isn't supported by your browser")}const V=o=>{},q=o=>{let r=B(),t={};t.id=r,t.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},t.content=a(le,{get item(){return props?.item},modalId:r,callback:V}),ee(t)},Q=o=>{let r=o?.street.split(",");return r.slice(0,r.length-2).join(",")};return(()=>{var o=ce(),r=o.firstChild,t=r.firstChild,d=t.nextSibling,h=r.nextSibling,v=h.nextSibling,y=v.firstChild,z=y.firstChild,w=y.nextSibling,P=v.nextSibling;return d.$$click=q,l(d,a(_e,{name:"qr_code",size:32,color:"#2b2b2b"})),l(z,()=>e?.detail?.name),l(v,a(A,{get when(){return e?.detail?.city},get children(){return[(()=>{var i=de();return l(i,()=>e?.detail?.city),i})(),"|"]}}),w),l(w,()=>e?.detail?.province),l(P,a(Z,{fallback:i=>(()=>{var x=ue(),F=x.firstChild,E=F.nextSibling;return E.nextSibling,l(x,()=>i.toString(),E),x})(),get children(){return a(W,{get fallback(){return(()=>{var i=me();return i.firstChild,l(i,a(pe,{stroke:"rgb(200 25 60 / 1)",size:62}),null),i})()},get children(){return a(A,{get when(){return L(e?.linkedBagsInfo)?.length>0},get children(){return a(K,{get each(){return L(e?.linkedBagsInfo)},children:(i,x)=>a(ge,{addressId:i,get item(){return e?.linkedBagsInfo?.[i]},get list(){return e?.linkedBagsInfo}})})}})}})}})),N(i=>Y(P,` ${O()?"":"width:94vw;"} margin: 0 auto`,i)),o})()}const fe=async e=>await U({params:e,query:"getManifestOrderByKeyID"}),g=e=>e?" "+e:"",he=e=>{let s=e?.consigneeInfo;return g(s?.firstName)+g(s?.middleName)+g(s?.lastName)+g(s?.lastName2)},ve=e=>{let s=e?.consigneeInfo,c=g(s?.altPhoneNumber);return g(s?.phoneNumber)+(c?" |"+c:"")};D(["click"]);export{fe as LookupBagId,Le as default,Ee as scannedQRs,Ce as setScannedQRs,Ae as setStatus,Be as status};
