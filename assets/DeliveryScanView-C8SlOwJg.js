const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-aKXTXIMR.js","assets/index-Da7N5RNO.js","assets/index-IeDM_K18.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/ContainerElasticView-BQPdIGD6.js","assets/SVG-B-V7C10a.js","assets/ContainerElasticView-LzOd6fDI.css","assets/FlexSpace-DNjAxfTL.js"])))=>i.map(i=>d[i]);
import{c as Q,l as k,_ as E,a as A,a9 as te,u as re,aa as ie,k as se,p as W,q as j,i as t,d as s,f as T,e as H,t as S,j as ne,S as B,y as Y,O,F as Z,$ as K,h as R,g as L,s as ae,D as J,B as le,C as z,n as oe,o as ce}from"./index-Da7N5RNO.js";import{H as de,a as ue}from"./html5-qrcode-scanner-geQmrTK5.js";import"./DashManifest-DrFzQbcn.js";import"./ManifestDetails-YQh0b2dQ.js";import{OpenModal as ge}from"./DialogHRM-CpG4gTAS.js";import{stop2Deliver as g}from"./DeliveryView-ClNVvUP-.js";import"./App.module-CbHnVtRQ.js";import"./debounces-2l2144_y.js";import"./fontkit.es-CBHpcS9v.js";import"./ButonHrm-C6KpUxdn.js";/* empty css                 */import"./SVG-B-V7C10a.js";var pe=S("<h5 class=rpto>"),ve=S("<h5>"),he=S('<div><div class=" flxWrp spaceAround centerBx"><h2>Completar Entrega</h2><div class="icon_status centerBx"></div></div><div style=padding:16px><div class=" flxWrp centerBx "style=" margin:0 auto;;padding:8px 9px;"><div class="icon_status centerBx"></div><div class=bagsNo></div></div><div><div class=vertseparator></div><div class=vertseparator></div><h4></h4></div></div><p class=" textleft "style=padding:18px>;</p><div>'),U=S("<div> <!>."),X=S("<div> "),_e=S('<div class="_dsplFlx flxWrp spaceAround "style=" margin:0 auto;;padding:8px 9px;">'),me=S('<div class="icon_status centerBx">'),be=S("<div style=max-width:120px;margin:8px;><h5>"),fe=S('<div><div class=separator></div><div><h5></h5><h4></h4><div class="_dsplFlx bottombx flxWrp spaceAround "><div class=""><h5></h5></div></div></div><div class="_dsplFlx bottombx flxWrp spaceAround ">');const[Ve,ze]=Q(),ee=k(()=>E(()=>import("./LoadingColorSpinner-aKXTXIMR.js"),__vite__mapDeps([0,1,2,3])));k(()=>E(()=>import("./ContainerElasticView-BQPdIGD6.js"),__vite__mapDeps([4,1,2,5,6])));const G=k(()=>E(()=>import("./SVG-B-V7C10a.js"),__vite__mapDeps([5,1,2]))),Se=k(()=>E(()=>import("./FlexSpace-DNjAxfTL.js"),__vite__mapDeps([7,1,2]))),[Fe,Qe]=A(""),[F,xe]=Q();function We(l){te();const[_,o]=re();A(0);const c=ie();se(()=>{x()}),W(()=>{}),j(async()=>{g?.stopD?.addressId||c(`/delivery-detail?dId=${_?.dId}`,{replace:!0})});function a(){return"geolocation"in navigator}function p(v){le({latitude:v?.coords?.latitude,longitude:v?.coords?.longitude})}function x(){a()?navigator.geolocation.getCurrentPosition(p):showMessage("Geolocation isn't supported by your browser")}const I=v=>{v.cidentity,{...g?.stopD}},P=v=>{let d=ne(),e={};e.id=d,e.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},e.content=s(Ie,{get item(){return g?.stopD},modalId:d,callback:I}),ge(e)};return(()=>{var v=he(),d=v.firstChild,e=d.firstChild,r=e.nextSibling,i=d.nextSibling,m=i.firstChild,h=m.firstChild,$=h.nextSibling,b=m.nextSibling,y=b.firstChild,u=y.nextSibling,C=u.nextSibling,f=i.nextSibling,D=f.firstChild,V=f.nextSibling;return r.$$click=P,t(r,s(G,{name:"qr_code",size:32,color:"#2b2b2b"})),t(h,s(G,{name:"open_package_file_outline",size:32})),t($,()=>g?.stopD?.bagsNo),t(i,s(Se,{}),b),t(b,s(B,{get when(){return g?.stopD?.consigneeInfo?.ybreparto},get children(){return[(()=>{var n=pe();return t(n,()=>g?.stopD?.consigneeInfo?.ybreparto),n})(),"|"]}}),y),t(b,s(B,{get when(){return g?.stopD?.city},get children(){return[(()=>{var n=ve();return t(n,()=>g?.stopD?.city),n})(),"|"]}}),u),t(C,()=>g?.stopD?.estate),t(f,()=>g?.stopD?.addressId,D),t(V,s(K,{fallback:n=>(()=>{var w=U(),N=w.firstChild,M=N.nextSibling;return M.nextSibling,t(w,()=>n.toString(),M),w})(),get children(){return s(Y,{get fallback(){return(()=>{var n=X();return n.firstChild,t(n,s(ee,{stroke:"rgb(200 25 60 / 1)",size:62}),null),n})()},get children(){return s(B,{get when(){return O(g?.stopD?.customers)?.length>0},get children(){return s(Z,{get each(){return O(g?.stopD?.customers)},children:(n,w)=>s(ye,{get item(){return g?.stopD?.customers?.[n]}})})}})}})}})),T(n=>{var w=` ${R(),"centerBx"}  topbx `,N=` ${R(),"centerBx"} bottombx`,M=` ${R()?"":"width:94vw;"} margin: 0 auto; ; padding: 18px 29px;`;return w!==n.e&&L(i,n.e=w),N!==n.t&&L(b,n.t=N),n.a=ae(V,M,n.a),n},{e:void 0,t:void 0,a:void 0}),v})()}const $e=l=>(()=>{var _=_e();return t(_,s(K,{fallback:o=>(()=>{var c=U(),a=c.firstChild,p=a.nextSibling;return p.nextSibling,t(c,()=>o.toString(),p),c})(),get children(){return s(Y,{get fallback(){return(()=>{var o=X();return o.firstChild,t(o,s(ee,{stroke:"rgb(200 25 60 / 1)",size:62}),null),o})()},get children(){return s(B,{get when(){return O(l?.list)?.length>0},get children(){return s(Z,{get each(){return O(l?.list)},children:(o,c)=>(()=>{var a=be(),p=a.firstChild;return J(a,"data-id",`${o}`),t(a,s(B,{get when(){return F?.[o]?.scanned==="ST200"},get children(){var x=me();return t(x,s(G,{name:"success",size:32,color:"var(--hrm-palette-tertiary50)"})),x}}),p),t(p,()=>l?.list?.[o]?.bagnumber),T(()=>L(a,`bag_number centerBx ${F?.[o]?.scanned==="ST200"?"checked":""} `)),a})()})}})}})}})),_})(),ye=l=>(()=>{var _=fe(),o=_.firstChild,c=o.nextSibling,a=c.firstChild,p=a.nextSibling,x=p.nextSibling,I=x.firstChild,P=I.firstChild,v=c.nextSibling;return t(a,()=>l?.item?.name),t(p,()=>l?.item?.phoneNumber),t(P,()=>l?.item?.tracking),t(v,s($e,{get list(){return l?.item?.bagsNumb}})),T(d=>{var e=l?.item?.cidentity,r=` ${R()?"":"centerBx"} bottombx`;return e!==d.e&&J(_,"data-cid",d.e=e),r!==d.t&&L(c,d.t=r),d},{e:void 0,t:void 0}),_})();H(["click"]);var Ce=S('<div><div><div class="_dsplFlx bottombx lowbordr"><h5>Confirmar Entrega</h5><div class="icon_status centerBx"></div></div></div><div class=" flxWrp spaceAround centerBx"style="margin:30px 0"><div style=position:relative;><div></div><div id=qr-reader_SSDM>');const De=k(()=>E(()=>import("./SVG-B-V7C10a.js"),__vite__mapDeps([5,1,2]))),we=k(()=>E(()=>import("./FlexSpace-DNjAxfTL.js"),__vite__mapDeps([7,1,2])));let q;function Ie(l){const[_,o]=A(""),[c,a]=A(""),[p,x]=A();W(()=>{q?.clear()}),j(()=>{setTimeout(()=>{d()},90)});const I=(e,r)=>{e!==p()&&(x(e),setTimeout(()=>{x("")},3e3),P(e))},P=e=>{e||(e=_()),e=e.split("'").join("-"),new Date().getTime(),z?.latitude,z?.longitude,l?.status,oe?.profile?.userId;let r=e.split("/");e.split("-").length>3&&(r=e.split("-").join);let i=r?.[0],m="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const h=new RegExp(m);let $=i.length===13&&h.test(i),b="^[0-9]{4}-[1-9]{4}";const y=new RegExp(b);let u=i.length===9&&y.test(i),C=r.length>4&&i.length===12,f={idairguide:r?.[0],":search0":r?.[1],":search1":r?.[3]};$&&(f={idairguide:"175-2383"+i.slice(3,7),":search0":i}),u&&(f={idairguide:"175-2383"+i.slice(0,4),":search0":i}),$||C||u?v(f):(a("alert"),setTimeout(()=>{a("")},1800))},v=async e=>{let r=await ke(e),i=Object.keys(r)?.[0];if(r[i]?.cidentity){let m=r[i]?.cidentity,h=r[i]?.ssg_track_key,$={...l?.item};$?.customers?.[m]?.bagsNumb?.[h]?(a("success"),xe(h,{scanned:"ST200"})):a("alert"),setTimeout(()=>{a("")},1800),$?.customers?.[m]?.bagsNumb?.[h],l?.callback(r[i])}},d=()=>{let e={fps:10,qrbox:{width:350,height:200},supportedScanTypes:[de.SCAN_TYPE_CAMERA],showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,verbose:!0};q=new ue("qr-reader_SSDM",e),q.render(I)};return(()=>{var e=Ce(),r=e.firstChild,i=r.firstChild,m=i.firstChild,h=m.nextSibling,$=r.nextSibling,b=$.firstChild,y=b.firstChild;return e.style.setProperty("max-height","80vh"),e.style.setProperty("overflow","auto"),e.style.setProperty("background","#ffffff"),e.style.setProperty("border-radius","13"),e.style.setProperty("padding","10px 19px"),m.$$click=I,t(i,s(we,{}),h),h.$$click=()=>{},t(h,s(De,{name:"keyboard",size:32,color:"#2b2b2b"})),T(u=>{var C=R()?"92vw":"420px",f=`scanOverlay ${c()} `,D=c()?"block":"none";return C!==u.e&&((u.e=C)!=null?e.style.setProperty("width",C):e.style.removeProperty("width")),f!==u.t&&L(y,u.t=f),D!==u.a&&((u.a=D)!=null?y.style.setProperty("display",D):y.style.removeProperty("display")),u},{e:void 0,t:void 0,a:void 0}),e})()}const ke=async l=>await ce({params:l,query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2"});H(["click"]);export{We as default,Ve as scannedQRs,ze as setScannedQRs,Qe as setStatus,xe as setStatusD,Fe as status,F as statusD};
