const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-D3ljtz2L.js","assets/index-DLm-qbVb.js","assets/index-DGSEMnLR.css","assets/SVG-DMQC_3si.js","assets/index-Ci0zXM0r.js","assets/ShowQR-brnziTZl.js","assets/globalSignal-DG1rgUS8.js","assets/ShowQRPrintLabel-Bk6Cpfac.js","assets/fontkit.es-DEjOtITv.js","assets/qrcode-C5vWJp7P.js","assets/InitPrintServices-CHWoTnax.js","assets/Util-R0w8Fgio.js","assets/Toast-Dm0lmTlX.js","assets/Toast-SmEZ1JuI.css","assets/ButonUploadHrm-BqeTEmvb.js","assets/ButonHrm-BSeWNUGQ.css","assets/ButonHrm-Xix89h7D.js","assets/DropDwnSearch-B6X7A5rV.js","assets/debounces-_rTXI1rL.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as n,_ as c,a as v,u as D,C as L,m as O,d as i,e as R,i as m,S as y,D as U,f as h,n as V,s as k,t as _,j as q}from"./index-DLm-qbVb.js";import{f as S,g as f,l as Y,O as F}from"./Util-R0w8Fgio.js";/* empty css                             */import{t as b}from"./manifestList-CSHEgbpJ.js";import"./index-Ci0zXM0r.js";var M=_('<div class="elastic_view_bx show"><div class=" spaceAround centerBx"><div>|</div>'),j=_("<div><img alt=sf>"),z=_('<div class="elastic_view_bx show centerBx"><div style="margin:15px 0"class=" spaceAround centerBx"></div><div class="errorBx centerBx mxW375 "><div class="icon_status centerBx"></div><p class=" centerBx">Click para completar la entrega si la imagen esta clara y con calidad'),H=_("<div>");n(()=>c(()=>import("./FlexSpace-D3ljtz2L.js"),__vite__mapDeps([0,1,2])));const K=n(()=>c(()=>import("./SVG-DMQC_3si.js"),__vite__mapDeps([3,1,2,4])));n(()=>c(()=>import("./ShowQR-brnziTZl.js"),__vite__mapDeps([5,1,2,6,7,8,4,9,10,11,12,13])));const E=n(()=>c(()=>import("./ButonUploadHrm-BqeTEmvb.js"),__vite__mapDeps([14,1,2,3,4,11,15]))),G=n(()=>c(()=>import("./ButonHrm-Xix89h7D.js"),__vite__mapDeps([16,1,2,3,4,11,15])));n(()=>c(()=>import("./DropDwnSearch-B6X7A5rV.js"),__vite__mapDeps([17,1,2,18,3,4,19])));function re(r){const[t,o]=v(null),[d,l]=v(!1),[I,Q]=D(),A=L();O(()=>{});const $=async(e,s)=>{let a=await J(e.type,s);console.log(s),console.log(e),console.log(a);let u=await N(a,e);if(console.log(u),u){let p={deliveryProof:w()+"/"+s,currentStatus:"YABA_99",deliveryUserId:q?.profile?.userId,wasDelivery:"OK",deliveryTime:Y()};const P=F(r?.list).map(async g=>{let T={ssg_track_key:g,idairguide:r?.list[g]?.idairguide};await W(T,p)});await Promise.all(P),A(`/delivery-detail?dId=${I?.dId}`,{replace:!0})}},x=async()=>{l(!1),console.log(r?.item);let e=r?.cid+"/"+f()+f()+"."+t()?.name.split(".").pop();console.log(e),$(t().file,e)},B=e=>{o(e),l(!0)},C=()=>{o(null),l(!1)};return[i(y,{get when(){return!d()||!t()?.source},get children(){var e=M(),s=e.firstChild,a=s.firstChild;return m(s,i(E,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"image_outline",label:"Subir Imagen",handleClick:B}),a),m(s,i(E,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"progress-upload",label:"Subir Imagen mas tarde",handleClick:()=>{}}),null),e}}),i(y,{get when(){return U(()=>!!d())()&&t()?.source},get children(){return[(()=>{var e=j(),s=e.firstChild;return h(()=>V(s,"src",t()?.source)),e})(),(()=>{var e=z(),s=e.firstChild,a=s.nextSibling,u=a.firstChild;return m(s,i(G,{color:"#fa9514",icon:"reload",label:"Tomar imagen nuevamente",handleClick:C})),a.$$click=x,m(u,i(K,{name:"success",size:32,get color(){return b?.success?.svg}})),h(p=>k(a,b?.success,p)),e})(),H()]}})]}const W=async(r,t)=>await S({params:r,query:"updateLogisticYabaExpress",data2update:t}),w=()=>"YABABYSSolution",J=async(r,t)=>{let o={query:"SignedUrlUpload",params:{userId:w(),fileName:t,mimeType:r}};const l=await S(o);return l&&!l.error?l.uploadURL:null},N=async(r,t)=>(await fetch(r,{method:"PUT",headers:{"Content-Type":t.type},body:t}))?.status===200?!0:null;R(["click"]);export{re as default,J as getSignedUploadUrlAsync,N as uploadSignedUrlBlob};
