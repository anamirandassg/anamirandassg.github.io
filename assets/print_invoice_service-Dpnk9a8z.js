import{P as H,f as V,S as C,r as o}from"./fontkit.es-BHcUmD3g.js";import{e as w,h as U,b as rt}from"./Util-B8-DWw-6.js";import{i as at,b as J}from"./InitPrintServices-BhTuseMZ.js";import"./qrcode-DHy8FFhS.js";import"./Toast-DW6JLgQU.js";let t=0;const I=a=>a?a*1:0,p=a=>a?" "+a:"",nt=a=>p(a?.firstName)+p(a?.middleName)+p(a?.lastName)+p(a?.lastName2),dt=a=>{let d=p(a?.altPhoneNumber);return p(a?.phoneNumber)+(d?" |"+d:"")},R=(a,d)=>d?" "+a+" "+d:"",it=a=>`${R("Calle",a?.ybstreet)}${R("#",a?.ybstreetNo)}${R("E/",a?.ybbetwen1)}${R("y",a?.ybbetwen2)}, ${R("Reparto",a?.ybreparto)},${R("",a?.ybcity)},${R("",a?.ybestate)}`,wt=async a=>{const d=await H.create();d.registerFontkit(V),await d.embedFont(C.TimesRoman);var s=await d.embedFont(C.TimesRomanBold);if(await d.embedFont(C.TimesRomanBold),w("modernFontReport")){let i=w("Roboto-Bold.ttf");const S=await fetch(i).then(T=>T.arrayBuffer());s=await d.embedFont(S);let _=w("ggSans-Italic.ttf");const y=await fetch(_).then(T=>T.arrayBuffer());await d.embedFont(y);let l=w("ggSans-Medium.ttf");const x=await fetch(l).then(T=>T.arrayBuffer());await d.embedFont(x)}const e=await at(d);let r=d.addPage();const{width:X,height:g}=r.getSize(),n=10;t=g-40;const P=e.GSansBold.widthOfTextAtSize("Invoice: ",9),D=e.Lexend_700.widthOfTextAtSize(a?.invoice,10);r.drawText("Invoice: ",{x:580-D-P,y:t,size:9,font:e.GSansBold,color:o(0,0,0)}),r.drawText(a?.invoice,{x:580-D,y:t,size:10,font:e.Lexend_700,color:o(0,0,0)});let G=g-30,M=w("storeGroupBy")?.[a?.store]?.label||"";r.drawText(M,{x:20,y:G,size:13,font:s,color:o(0,0,0)}),t=t-20;let m=a?.createDate;const q=e.GSansBold.widthOfTextAtSize("Fecha: ",11),W=e.Lexend_700.widthOfTextAtSize(U(m)+"",12);r.drawText("Fecha: ",{x:580-q-W,y:t,size:11,font:e.GSansBold,color:o(0,0,0)}),r.drawText(U(m)+"",{x:580-W,y:t,size:12,font:e.Lexend_700,color:o(.06,.06,.06)}),t=t-20;let f=a?.shipper_consignee,c="";if(f){c=f?.name||"";let i=f?.phoneNumberS||"";r.drawText("Envia: ",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)}),t=t-12,r.drawText(c+"   |   "+i,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-20;let S=nt(f),_=dt(f),y=it(f);r.drawText("Recibe: ",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)}),t=t-13,r.drawText(f?.cid,{x:28,y:t,size:10,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,r.drawText(S,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,r.drawText(_,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,r.drawText(y,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)})}if((a?.reservas||[])?.length>0){t=t-40,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,r.drawText("Tipo de envio",{x:20,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const i=s.widthOfTextAtSize("Lbs",11);r.drawText("Lbs",{x:320-i,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const S=s.widthOfTextAtSize("Precio",11);r.drawText("Precio",{x:400-S,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const _=s.widthOfTextAtSize("Aranceles",11);r.drawText("Aranceles",{x:480-_,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const y=s.widthOfTextAtSize("Total",11);r.drawText("Total",{x:560-y,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)}),t=t-8,r.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let l=a?.reservas||[];Array.isArray(l)&&l.map((x,T)=>{const O=x?.type;t=t-16,O&&r.drawText(O+"",{x:20,y:t,size:n,font:e.GSansBold,color:o(0,0,0)});let F=I(x?.qty)?.toFixed(2);const z=e.Lexend_700.widthOfTextAtSize(F+"",n);r.drawText(F+"",{x:320-z,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let B=I(x?.price)?.toFixed(2);const L=e.Lexend_700.widthOfTextAtSize(B+"",n);r.drawText(B+"",{x:400-L,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let N=I(x?.arancel)?.toFixed(2);const et=e.Lexend_700.widthOfTextAtSize(N+"",n);r.drawText(N+"",{x:480-et,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let v=(I(x?.price)*I(x?.qty)+I(x?.arancel))?.toFixed(2);const ot=e.Lexend_700.widthOfTextAtSize(v+"",n);r.drawText(v+"",{x:560-ot,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)})})}let b=a?.products||[];if(Array.isArray(b)&&b.length>0){t=t-50,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,r.drawText("Producto",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)});const i=e.roboto_bold.widthOfTextAtSize("Qty",11);r.drawText("Qty",{x:400-i,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const S=e.roboto_bold.widthOfTextAtSize("Precio",11);r.drawText("Precio",{x:480-S,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const _=e.roboto_bold.widthOfTextAtSize("Total",11);r.drawText("Total",{x:560-_,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)}),t=t-8,r.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),(rt(a?.products)||[]).map((l,x)=>{const T=l?.product?.label;t=t-16,T&&r.drawText(T+"",{x:20,y:t,size:n,font:e.GSansBold,color:o(0,0,0)});let O=l?.qty?(l?.qty*-1).toFixed(2):"0.00";const F=e.Lexend_700.widthOfTextAtSize(O+"",n);r.drawText(O+"",{x:400-F,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let z=l?.qty?(l?.salePrice*1).toFixed(2):"0.00";const B=e.Lexend_700.widthOfTextAtSize(z+"",n);r.drawText(z+"",{x:480-B,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let L=l?.qty?(l?.salePrice*l?.qty*-1).toFixed(2):"0.00";const N=e.Lexend_700.widthOfTextAtSize(L+"",n);r.drawText(L+"",{x:560-N,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)})})}t=t-28,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let A=500;t=t-20;let E=a?.amount?a?.amount?.toFixed(2):"0.00";const u=e.Lexend_700.widthOfTextAtSize(E+"",n);r.drawText(E+"",{x:560-u,y:t,size:n,font:e.Lexend_700,color:o(.13,.13,.13)});const h=e.GSansBold.widthOfTextAtSize("SubTotal",n);r.drawText("SubTotal",{x:A-h,y:t,size:n,font:e.GSansBold,color:o(0,0,0)}),t=t-16;let Y=a?.hasTax?a?.hasTax?.toFixed(2):"0.00";const j=e.Lexend_700.widthOfTextAtSize(Y+"",n);r.drawText(Y+"",{x:560-j,y:t,size:n,font:e.Lexend_700,color:o(.13,.13,.13)});const K=e.GSansBold.widthOfTextAtSize("Taxes",n);r.drawText("Taxes",{x:A-K,y:t,size:n,font:e.GSansBold,color:o(0,0,0)});let $=a?.hasTax?a?.hasTax+a?.amount:a?.amount*1;t=t-16;let k=$?$?.toFixed(2):"0.00";const Z=e.Lexend_700.widthOfTextAtSize(k+"",11);r.drawText(k+"",{x:560-Z,y:t,size:11,font:e.Lexend_700,color:o(0,0,0)});const tt=e.GSansBold.widthOfTextAtSize("Total",11);if(r.drawText("Total",{x:A-tt,y:t,size:11,font:e.GSansBold,color:o(0,0,0)}),a?.packagesOrder){let i=40,S="CERTIFICO QUE NO ENVIO SUSTANCIAS NI PRODUCTOS PROHIBIDOS POR LAS LEYES Y LAS ADUANAS DE USA Y CUBA, COMO POR EJEMPLO DROGAS, ARMAS, EXPLOSIVOS,CIGARRILLOS ELECTRONICOS,",_="DRONES PROFESIONALES, JOYAS, PRENDAS, DINERO EN EFECTIVO, SEMILLAS, NARCOTICOS, FARMACOS CONTROLADOS, PRODUCTOS AGRICOLAS DE TIPO HERBICIDAS O ANTIFUNGUICIDAS, ",y="NINGUN TIPO DE PRODUCTO PERECEDERO QUE NECESITE REFRIGERACION. ENTIENDO QUE AL LLENAR ESTE FORMULARIO, AL ENVIAR ALGUNA DE LAS SUSTANCIAS O PRODUCTOS ANTES DESCRITOS",l="MI CARGA PUEDE SER DESCAMISADA COMPLETA O PARCIALMENTE POR LAS ADUANAS DE CUBA O USA SIN DERECHO A RECLAMO NI COMPENSACION, DE PARTE MIA COMO EMBARCADOR,",x="NI DE LA PERSONA A QUIEN ENVIO( CONSIGNATARIO )";r.drawText(S.toLowerCase(),{x:10,y:i+80,size:7,font:e?.GSansBold,color:o(0,0,0)}),r.drawText(_.toLowerCase(),{x:10,y:i+70,size:7,font:e.GSansBold,color:o(0,0,0)}),r.drawText(y.toLowerCase(),{x:10,y:i+60,size:7,font:e?.GSansBold,color:o(0,0,0)}),r.drawText(l.toLowerCase(),{x:10,y:i+50,size:7,font:e?.GSansBold,color:o(0,0,0)}),r.drawText(x.toLowerCase(),{x:10,y:i+40,size:7,font:e?.GSansBold,color:o(0,0,0)}),i=10;let T=c+"    ______________________________";const O=e.GSansBold.widthOfTextAtSize(T,8);r.drawText(T,{x:30,y:i+20,size:8,font:e?.GSansBold,color:o(0,0,0)}),r.drawText("Firmar       .",{x:O-30,y:i+10,size:8,font:e?.GSansBold,color:o(0,0,0)});const z="________________________",B=e.GSansBold.widthOfTextAtSize(z,8);r.drawText(z,{x:540-B,y:i+20,size:8,font:e?.GSansBold,color:o(0,0,0)});let L="Fecha";const N=e.GSansBold.widthOfTextAtSize(L,8);r.drawText(L,{x:540-N*2,y:i+10,size:8,font:e?.GSansBold,color:o(0,0,0)})}{const i=await d.save();return J(i)}},ht=async a=>{const d=await H.create();d.registerFontkit(V);var s=await d.embedFont(C.TimesRoman),e=await d.embedFont(C.TimesRomanBold);if(await d.embedFont(C.TimesRomanBold),w("modernFontReport")){let c=w("Roboto-Bold.ttf");const Q=await fetch(c).then(h=>h.arrayBuffer());e=await d.embedFont(Q);let b=w("ggSans-Italic.ttf");const A=await fetch(b).then(h=>h.arrayBuffer());s=await d.embedFont(A);let E=w("ggSans-Medium.ttf");const u=await fetch(E).then(h=>h.arrayBuffer());await d.embedFont(u)}let r=d.addPage();const{width:X,height:g}=r.getSize(),n=10;t=g-40;let P=g-30,D=w("storeGroupBy")?.[a?.store]?.label;r.drawText(D,{x:20,y:P,size:13,font:e,color:o(0,0,0)});let G=a?.createDate;const M=s.widthOfTextAtSize("Fecha: ",11),m=e.widthOfTextAtSize(U(G)+"",12);r.drawText("Fecha: ",{x:580-M-m,y:t,size:11,font:s,color:o(0,0,0)}),r.drawText(U(G)+"",{x:580-m,y:t,size:12,font:e,color:o(.06,.06,.06)}),t=t-20,t=t-20,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,r.drawText("Producto",{x:20,y:t,size:13,font:e,color:o(0,0,0)});const q=e.widthOfTextAtSize("Existencia",12);r.drawText("Existencia",{x:480-q,y:t,size:12,font:e,color:o(0,0,0)});const W=e.widthOfTextAtSize("Qty",12);r.drawText("Qty",{x:560-W,y:t,size:12,font:e,color:o(0,0,0)}),t=t-8,r.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let f=a?.products||[];Array.isArray(f)&&f.map((c,Q)=>{const b=c?.product?.label;t=t-16,b&&r.drawText(b+"",{x:20,y:t,size:n,font:s,color:o(0,0,0)});let A=c?.stock?c?.stock*1:"0";const E=s.widthOfTextAtSize(A+"",n);r.drawText(A+"",{x:480-E,y:t,size:n,font:s,color:o(0,0,0)});let u=c?.qty?c?.qty*1:"0";const h=s.widthOfTextAtSize(u+"",n);r.drawText(u+"",{x:560-h,y:t,size:n,font:s,color:o(0,0,0)})});{const c=await d.save();return J(c)}};export{ht as I,wt as a};
