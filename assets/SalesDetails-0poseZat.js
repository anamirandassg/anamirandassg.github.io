const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-BRXQfn3B.js","assets/index-BZXQGr8I.js","assets/index-DI_XrWgU.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-BmBf_PVY.js","assets/debounces-C1dO4n2P.js","assets/SVG-nYWhmofq.js","assets/DropDwnSearch-DMkLkRPc.css","assets/CheckBoxSlide-3kgKxhf9.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/FlexSpace-DP92pPZD.js","assets/ButonHrm-B1192gEr.js","assets/ButonHrm-BSeWNUGQ.css","assets/UpdInventory-Cl0lXSUH.js","assets/DialogHRM-DzWfmHHw.js","assets/DialogHRM-V9_lZntj.css","assets/DashProducts-DFRfDl9W.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InputHr-CZEfQtVf.js","assets/InputHr-BXFw4d2l.css"])))=>i.map(i=>d[i]);
import{l as V,_ as Q,c as F,G as ve,a as L,o as Ce,b as xe,d as z,i as t,e as a,S as x,F as te,aH as ce,f as R,aI as we,J as Se,k as de,m as N,z as fe,g as Oe,x as ue,n as D,p as T,U as ke,D as Ie,r as Pe,t as w,aJ as qe,w as ie,al as ne,v as ae,aK as oe,O as ee,ax as je}from"./index-BZXQGr8I.js";import{u as Be}from"./debounces-C1dO4n2P.js";import{OpenModal as Ee}from"./DialogHRM-DzWfmHHw.js";import{g as me,a as be}from"./handelImagesServices-CYRFnitt.js";import{LookupInventory as pe}from"./DashInventoryMov-vX9mcsdE.js";import{LookupProducts as le}from"./DashProducts-DFRfDl9W.js";import{a as Ae}from"./print_invoice_service-M_HOJut9.js";import{OpenToast as he}from"./Toast-DHdi5F_B.js";import"./browser-image-compression-BVJ4p9S0.js";import"./AddInventory-DYjFXYJL.js";import"./FlexSpace-DP92pPZD.js";import"./App.module-CbHnVtRQ.js";import"./fontkit.es-D0GMkxC2.js";import"./InitPrintServices-DOPBjM-B.js";import"./qrcode-DHy8FFhS.js";var Ne=w('<div style="padding:50px 0"><section class=qsuVSc><section class=bLl6je><section class=dvPdhb>'),ge=w('<div style=margin:15px class=" spaceAround centerBx">'),Te=w('<section class=KgyCAd><section class=WirBi><div class=EMijzc><p class=jhB0af>Agregar reserva</p><section class="Jm2qx centerBx flxWrp spaceAround "><span class=label aria-hidden=true>Mercancia:</span><select class=RIw0b aria-label=merchandise></select><div class="centerBx bottombx "><h5 class="">Solo Arancel</h5></div></section><div style=margin:15px class=" spaceAround centerBx"><div style=margin:7px></div><div style=margin:7px>'),Ue=w('<section class=qsuVSc><section class=bLl6je><section class=dvPdhb></section></section><section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b">'),Fe=w("<option> "),De=w('<div class="centerBx spaceAround"><div class="centerBx bottombx "><h5 class="">Taxes'),Ve=w('<p class=B7xUP><span data-test-integ-cart-subtotal-label="">Taxes Estimado</span><span data-test-integ-cart-subtotal-value="">$'),Qe=w('<section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b"><div class=kDdWge><div class=QCNFEe><p class=jhB0af>Sumario de la Orden</p></div><div class=qntUl><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Subtotal</span><span data-test-integ-cart-subtotal-value="">$</span></p><p class=B7xUP><span data-test-integ-cart-subtotal-label=""class=OGw7rb>Total Estimado</span><span data-test-integ-cart-subtotal-value=""class=OGw7rb> $</span></p></div></div><div class=oPYFfd><section class=BQHvme><section class=wo08ff><span class=PwY8l2>Fecha:</span><span class=PwY8l33> </span></section><section class=wo08ff><span class=PwY8l2>Invoice:</span><span class=PwY8l33></span></section><section class=wo08ff><span class=PwY8l2>Almacen:</span><span class=PwY8l33> </span></section></section></div><section class="JM2zDb RW86"><div class="centerBx bottombx flxWrp spaceAround">'),_e=w("<section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Remove"),Le=w('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price="">'),Me=w("<span class=arancelSep> | "),Ye=w('<span class="arancel pricePq"> $'),Je=w('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price=""class=pricePq>$</span>'),Re=w('<div class=option-header style=padding:17px;margin:5px><span class=option-icon> </span><div class=" centerBx"><span class="option-name ">Env√≠o <!> '),Ge=w("<div class=separator>"),He=w('<div class="icon_status centerBx "style="margin:0 4px">'),We=w('<div style=padding:8px><div class=" centerBx"><p class=jhB0af>Envia</p></div><div class="bottombx flxWrp spaceAround centerBx"><h4 class=centerBx></h4><h4 class="centerBx phonesNum"></h4></div><div class=separator></div><div class=centerBx><p class=jhB0af>Recibe</p><div class="icon_status centerBx "style="margin:0 4px"></div></div><div class="bottombx spaceAround "><h5></h5><h4></h4><h4 class=" textleft phonesNum"></h4></div><div class="bottombx flxWrp spaceAround centerBx"><p class="textleft "></p><h4></h4></div><div class="bottombx flxWrp spaceAround centerBx"><h5 class="textleft "></h5><h4>'),ze=w('<section class="h6rxkc ">'),Ke=w('<section class=KgyCAd><section class=WirBi><section class=""><div class=QCNFEe><p class=jhB0af>Agregar mercancias</p></div><section class="EMijzc centerBx"><div class="icon_status centerBx "style="margin:0 4px"></div><div class="icon_status centerBx "style="margin:0 4px">'),Xe=w('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),Ze=w('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),et=w('<div class="centerBx flxWrp">'),tt=w('<div><div class=QCNFEe><p class=jhB0af>Enviar a Solve D Cargo</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Esta seguro de querer enviar a Solve D Cargo tenga en cuenta que puede duplicar la informacion</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">'),lt=w('<div class="centerBx flxWrp "><div class="bottombx centerBx unit"><h5>$'),rt=w("<div class=unitBx><h5>");V(()=>Q(()=>import("./LoadingColorSpinner-BRXQfn3B.js"),__vite__mapDeps([0,1,2,3])));V(()=>Q(()=>import("./DropDwnSearch-BmBf_PVY.js"),__vite__mapDeps([4,1,2,5,6,7])));const $e=V(()=>Q(()=>import("./CheckBoxSlide-3kgKxhf9.js"),__vite__mapDeps([8,1,2,9]))),se=V(()=>Q(()=>import("./FlexSpace-DP92pPZD.js"),__vite__mapDeps([10,1,2]))),Y=V(()=>Q(()=>import("./ButonHrm-B1192gEr.js"),__vite__mapDeps([11,1,2,6,12])));V(()=>Q(()=>import("./UpdInventory-Cl0lXSUH.js"),__vite__mapDeps([13,1,2,14,15,5,16,17,18,10])));const J=V(()=>Q(()=>import("./InputHr-CZEfQtVf.js"),__vite__mapDeps([19,1,2,20]))),re=V(()=>Q(()=>import("./SVG-nYWhmofq.js"),__vite__mapDeps([6,1,2]))),[v,j]=F({manifestObj:{}});let it=864e5;function jt(){const[e,n]=ve();F(),F(),F();const[c,p]=L("");Be(p,400),Ce(()=>{}),xe(()=>{});const _=async()=>{if(e?.mId){let d={":search0":e?.mId,businessId:N?.profile?.businessYId},s=await ye(d);j("manifestObj",s[e?.mId])}};return z(async()=>{j("manifestObj",void 0),_(),qe()}),(()=>{var d=Ne(),s=d.firstChild,i=s.firstChild,m=i.firstChild;return t(d,a(x,{get when(){return v?.manifestObj?.packagesOrder},get children(){return a(st,{})}}),s),t(m,a(x,{get when(){return v?.manifestObj?.products},get children(){return a(te,{get each(){return v?.manifestObj?.products},children:(h,f)=>a(at,{itm:h})})}})),t(s,a(x,{get when(){return v?.manifestObj?.packagesOrder&&!v?.manifestObj?.isCompleted},get children(){return a(ft,{})}}),null),t(s,a(nt,{get item(){return v?.manifestObj},get list(){return v?.manifestObj}}),null),d})()}const st=e=>{const n={type:"",qty:0,arancel:0,price:0},[c,p]=F({frm:{...n}}),_=(i,m)=>{p("frm",i,m)},d=i=>{let m={...c?.frm};m.key=je();let h=v?.manifestObj?.reservas||[],f=ie(h);f.push(m),console.log(m),j("manifestObj","reservas",f),p("frm",{...n})},s=i=>{_("type",i),ce?.list.filter(h=>h.id===i)?.[0]?.isA?_("onlyTariff",!0):_("onlyTariff",!1)};return(()=>{var i=Ue(),m=i.firstChild,h=m.firstChild,f=m.nextSibling,g=f.firstChild,u=g.firstChild;return t(h,a(x,{get when(){return v?.manifestObj?.reservas},get children(){return a(te,{get each(){return v?.manifestObj?.reservas},children:(b,l)=>a(ct,{itm:b})})}})),t(i,a(x,{get when(){return!v?.manifestObj?.isCompleted},get children(){var b=Te(),l=b.firstChild,r=l.firstChild,o=r.firstChild,$=o.nextSibling,C=$.firstChild,y=C.nextSibling,I=y.nextSibling,q=I.firstChild,S=$.nextSibling,k=S.firstChild,U=k.nextSibling;return y.addEventListener("change",O=>{s(O?.target?.value)}),t(y,a(te,{get each(){return ce?.list},children:(O,K)=>(()=>{var B=Fe();return B.firstChild,t(B,()=>O.label,null),R(()=>B.selected=O.id===c?.frm?.type),R(()=>B.value=O.id),B})()})),t(I,a($e,{get initValue(){return c?.frm?.onlyTariff},updChange:O=>_("onlyTariff",O),color:"var(--background-red-ssg)"}),q),t(S,a(x,{get when(){return!c?.frm?.onlyTariff&&c?.frm?.type},get children(){return a(J,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return c?.frm?.qty||""},label:"cantidad (lbs)",colors:"#2b2b2b",type:"number",handleClick:O=>_("qty",we(O))})}}),k),t(S,a(x,{get when(){return c?.frm?.qty&&c?.frm?.type},get children(){return a(J,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.price||""},label:"precio",colors:"#2b2b2b",handleClick:O=>_("price",O)})}}),U),t(S,a(x,{get when(){return c?.frm?.type},get children(){return a(J,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.arancel||""},label:"Arancel",colors:"#2b2b2b",handleClick:O=>_("arancel",O)})}}),null),t(r,a(x,{get when(){return(c?.frm?.price&&c?.frm?.qty||c?.frm?.onlyTariff&&c?.frm?.arancel)&&c?.frm?.type},get children(){var O=ge();return t(O,a(Y,{color:"#646cff",label:"Agregar",handleClick:d})),O}}),null),b}}),f),t(u,a(ot,{get item(){return v?.manifestObj?.shipper_consignee}})),i})()},nt=e=>{const n=d=>{let s=0;return e?.item?.products?.map(i=>{s+=W(i?.qty)*W(i?.salePrice)*-1}),e?.item?.reservas?.map(i=>{s+=W(i?.qty)*W(i?.price)+W(i?.arancel)}),s},c=async d=>{let s={...e?.item};s.amount=n();let i=await Ae(s);window.open(i)},p=async()=>{let d={...e?.item},s={params:{businessId:N?.profile?.businessYId,id:d.ssg_sorder_key},form:{isCompleted:!1}},i=D(431007);s={...s,...i},await T(s)},_=async d=>{let s=ie(e?.item);s.isCompleted=!0,s.dayNum=s?.createDate/it;let i={params:{businessId:N?.profile?.businessYId,id:s.ssg_sorder_key},form:s},m=D(431007);if(i={...i,...m},await T(i),s?.products?.length>0){let g={params:{businessId:N?.profile?.businessYId},form:s},u=D(139003);g={...g,...u},await T(g)}let h={":search0":s.ssg_sorder_key,businessId:N?.profile?.businessYId},f=await ye(h);j("manifestObj",f[s.ssg_sorder_key])};return(()=>{var d=Qe(),s=d.firstChild,i=s.firstChild,m=i.firstChild,h=m.firstChild,f=h.nextSibling,g=f.firstChild,u=g.firstChild,b=u.nextSibling;b.firstChild;var l=g.nextSibling,r=l.firstChild,o=r.nextSibling;o.firstChild;var $=m.nextSibling,C=$.firstChild,y=C.firstChild,I=y.firstChild,q=I.nextSibling;q.firstChild;var S=y.nextSibling,k=S.firstChild,U=k.nextSibling,O=S.nextSibling,K=O.firstChild,B=K.nextSibling;B.firstChild;var X=$.nextSibling,G=X.firstChild;return t(m,a(x,{get when(){return!v?.manifestObj?.isCompleted},get children(){return[(()=>{var E=De(),A=E.firstChild,M=A.firstChild;return t(A,a($e,{get initValue(){return v?.manifestObj?.hasTax},updChange:H=>j("manifestObj","hasTax",H),color:"var(--background-red-ssg)"}),M),E})(),(()=>{var E=ge();return t(E,a(x,{get when(){return v?.manifestObj?.hasTax},get children(){return a(J,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return v?.manifestObj?.TaxPercent||""},label:"Porciento de Impuestos",colors:"#2b2b2b",type:"number",handleClick:A=>j("manifestObj","TaxPercent",A)})}})),E})()]}}),f),t(b,()=>n().toFixed(2),null),t(f,a(x,{get when(){return v?.manifestObj?.hasTax&&v?.manifestObj?.TaxPercent},get children(){var E=Ve(),A=E.firstChild,M=A.nextSibling;return M.firstChild,t(M,()=>(n()*(v?.manifestObj?.TaxPercent/100)).toFixed(2),null),E}}),l),t(o,()=>(n()*((v?.manifestObj?.TaxPercent?v?.manifestObj?.TaxPercent:0)/100)+n()).toFixed(2),null),t(q,()=>Se(e?.item?.createDate),null),t(U,()=>e?.item?.invoice),t(B,()=>de("storeGroupBy")?.[e?.item?.store]?.label,null),t(G,a(Y,{color:"#646cff",label:"Imprimir",handleClick:c}),null),t(G,a(x,{get when(){return!e?.item?.isCompleted},get children(){return a(Y,{color:"#646cff",label:"Confirmar",handleClick:_})}}),null),t(G,a(x,{get when(){return e?.item?.isCompleted&&N?.profile?.isAdmin},get children(){return a(Y,{color:"#646cff",label:"arrow",handleClick:p})}}),null),d})()},at=e=>{const[n,c]=F(),p=()=>n?.[e?.itm?.product?.id]?.productImageUrl?me()+be()+"/"+n?.[e?.itm?.product?.id]?.productImageUrl:null,_=async()=>{let i=e?.itm?.product?.id,m=`${i}`,h=await le(m);h?.[i]?.productImageUrl&&c(i,h?.[i])};z(()=>{_()});const d=()=>{let i=ie(v?.manifestObj?.products);j("manifestObj","products",i.filter(m=>m.product.id!==e?.itm?.product.id))},s=(i,m)=>{let h={};v?.manifestObj?.products?.map(g=>{let u={...g};e?.itm?.product.id===g.product.id&&(u[i]=m*1),h[g.product.id]=u});let f=ne(h);j("manifestObj","products",f)};return a(x,{get when(){return e?.itm?.product?.id},get children(){var i=Le(),m=i.firstChild,h=m.firstChild,f=h.firstChild,g=f.firstChild,u=g.firstChild,b=g.nextSibling,l=b.firstChild,r=l.firstChild,o=r.firstChild;o.firstChild;var $=l.nextSibling,C=$.firstChild,y=C.firstChild,I=y.nextSibling,q=C.nextSibling;return t(o,()=>e?.itm?.product?.label,null),t(I,()=>e?.itm?.qty*-1),t(q,a(pt,{value:"",get label(){return`${(e?.itm?.salePrice*1).toFixed(2)}`},key:"salePrice",updItem:s,width:"600px"})),t($,a(x,{get when(){return!v?.manifestObj?.isCompleted},get children(){var S=_e(),k=S.firstChild,U=k.firstChild;return U.$$click=d,S}}),null),R(()=>fe(u,"src",p())),i}})},ct=e=>{const[n,c]=F(),p=async()=>{let d=e?.itm?.product?.id,s=`${d}`,i=await le(s);i?.[d]?.productImageUrl&&c(d,i?.[d])};z(()=>{p()});const _=()=>{let s=ie(v?.manifestObj?.reservas).filter(i=>i.key!==e?.itm?.key);j("manifestObj","reservas",s)};return(()=>{var d=Je(),s=d.firstChild,i=s.firstChild,m=i.firstChild,h=m.firstChild,f=h.firstChild,g=f.firstChild,u=g.firstChild;u.firstChild;var b=f.nextSibling,l=b.firstChild,r=l.firstChild,o=r.nextSibling,$=l.nextSibling,C=$.firstChild;return C.firstChild,t(u,()=>e?.itm?.type,null),t(o,()=>e?.itm?.qty*1),t(C,()=>(e?.itm?.price*1).toFixed(2),null),t($,a(x,{get when(){return e?.itm?.arancel},get children(){return[Me(),(()=>{var y=Ye();return y.firstChild,t(y,()=>(e?.itm?.arancel*1).toFixed(2),null),y})()]}}),null),t(b,a(x,{get when(){return!v?.manifestObj?.isCompleted},get children(){var y=_e(),I=y.firstChild,q=I.firstChild;return q.$$click=_,y}}),null),d})()},ot=e=>{const[n,c]=L(),[p,_]=L(!0),d=l=>l?" "+l:"",s=l=>d(l?.firstName)+d(l?.middleName)+d(l?.lastName)+d(l?.lastName2),i=l=>{let r=d(l?.altPhoneNumber);return d(l?.phoneNumber)+(r?" |"+r:"")},m=async()=>{let l={};l.id=ae(),l.closeEvent=()=>{},l.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},l.content=a(bt,{confirm:h}),Ee(l)},h=async()=>{let l=N?.profile?.agency?.id;if(l&&e?.item?.citiId&&e?.item?.provinceId){let r=e?.item,o=`;${P(r?.firstName)};${P(r?.middleName)};${P(r?.lastName)};${P(r?.lastName2)};N/A;${P(r?.cid)};CUB;${P(r?.phoneNumber)};${P(r?.altPhoneNumber)};${P(r?.ybstreet)};${P(r?.ybstreetNo)};${P(r?.ybbetwen1)};${P(r?.ybbetwen2)};${P(r?.ybreparto)};;${r?.citiId};${r?.provinceId};${P(r?.email)};;${l}`;f("consignee",o)}},f=async(l,r,o)=>{let $=`funcname=insertRecord&option=${l}&params=${r}`,C={query:"querySolveGlobal"};C.params={query:$},await T(C)},g=async()=>{let l={params:{id:e?.item?.name,key:"shipper"}},r=D(181009);l={...l,...r};const o=await T(l);let $=oe(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],o,e?.item);console.log($),o.cid===e?.item?.cid&&console.log()},u=async()=>{let l={params:{id:e?.item?.cid,key:"consignee"}},r=D(181009);l={...l,...r};const o=await T(l);return console.log(o),oe(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],o,e?.item).hasChange&&o.cid===e?.item?.cid?e?.item:o},b=async(l,r)=>{let o=await u();console.log(o)};return z(()=>{if(e?.item?.ybestate){let l=de("M023009")?.provincias?.filter?.(r=>r.label===e?.item?.ybestate)?.[0];if(l?.id&&c(l),e?.item?.ybcity){let r=l?.cities?.filter?.(o=>o.label===e?.item?.ybcity)?.[0];r?.id&&j("manifestObj","shipper_consignee","citiId",r?.id)}}b()}),console.log(e?.item),a(x,{get when(){return e?.item?.name},get children(){return[a(x,{get when(){return e?.item?.shipping},get children(){return[(()=>{var l=Re(),r=l.firstChild;r.firstChild;var o=r.nextSibling,$=o.firstChild,C=$.firstChild,y=C.nextSibling;return y.nextSibling,t(r,()=>e?.item?.shipping==="AEREO"?"‚úàÔ∏è":"üö¢",null),t($,()=>e?.item?.shipping==="AEREO"?"a√©reo":"mar√≠timo",y),l})(),Ge()]}}),(()=>{var l=We(),r=l.firstChild;r.firstChild;var o=r.nextSibling,$=o.firstChild,C=$.nextSibling,y=o.nextSibling,I=y.nextSibling,q=I.firstChild,S=q.nextSibling,k=I.nextSibling,U=k.firstChild,O=U.nextSibling,K=O.nextSibling,B=k.nextSibling,X=B.firstChild,G=X.nextSibling,E=B.nextSibling,A=E.firstChild,M=A.nextSibling;return t(r,a(se,{}),null),t($,()=>e?.item?.name),C.$$click=g,t(C,()=>e?.item?.phoneNumberS),t(I,a(se,{}),S),S.$$click=u,t(S,a(re,{name:"success",size:22,get color(){return p()?"#37be5fff":"#c6c6c6"}})),t(I,a(x,{get when(){return!p()},get children(){var H=He();return H.$$click=m,t(H,a(re,{name:"send",size:22,color:"#646cff"})),H}}),null),t(U,()=>e?.item?.cid),t(O,()=>s(e?.item)),t(K,()=>i(e?.item)),t(X,()=>mt(e?.item)),t(G,()=>e?.item?.ybreparto),t(A,()=>e?.item?.ybcity),t(M,()=>e?.item?.ybestate),R(()=>Oe(l,`    ${ue()?"isMobile":""}`)),l})()]}})},Bt=async(e,n)=>{let c={params:e,data2update:n},p=D(431007);return c={...c,...p},await T(c)},ye=async e=>{let n={params:e},c=D(431002);return n={...n,...c},await T(n)},Et=async e=>{let n=[];e.map(c=>{let p={params:{id:c?.ssg_track_key,idairguide:"all"}},_=D(802002);p={...p,..._},n.push(p)}),ke(n,dt)},dt=async e=>{const c=await T(e);if(c)return c},ft=e=>{const[n,c]=L(""),[p,_]=L(1),d=()=>{p()===1&&n().length>5&&s(n())},s=async f=>{N?.profile?.agencyStore?.id;let g=`${f}`,u=await le(g),b=ee(u)?.[0],l=`${b} `,r=await pe(l),o=0,$=0;ee(r)?.map(S=>{r[S]?.products?.map(k=>{b===k?.product?.id&&(o+=k?.price*1*k?.qty*1,$+=k?.qty*1)})});let C=1,y={};v?.manifestObj?.products?.map(S=>{let k={...S};b===S.product.id&&(k.qty=k.qty*-1),y[S.product.id]=k}),y?.[b]&&(C=y?.[b].qty*1+1);const I=$?o/$:0;if(y?.[b])y[b].qty=C*-1;else{let S={product:{id:b,label:u?.[b]?.name,code:u?.[b]?.code},qty:C*-1,price:I,salePrice:u?.[b]?.salePrice};y[b]=S}let q=ne(y);j("manifestObj","products",q),c(""),he({text:u?.[b]?.name+" agregado al carrito",timeout:3500,theme:"blue",id:ae()})},[i,{refetch:m}]=Ie(n,async f=>{if(p()===2&&f.length>3){const g=await le(f);let u=[];return ee(g).map(b=>{let l=g[b];u.push(l)}),u}else return[]}),h=()=>{c(""),_(1)};return(()=>{var f=Ke(),g=f.firstChild,u=g.firstChild,b=u.firstChild,l=b.nextSibling,r=l.firstChild,o=r.nextSibling;return t(u,a(x,{get when(){return i()?.length>0},get children(){var $=ze();return t($,a(te,{get each(){return i()},children:(C,y)=>a(ut,{itm:C,clearTx:h})})),$}}),l),t(l,a(J,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return n()},placeholder:"buscar productos ...",colors:"#2b2b2b",handleClick:c,onEnter:d}),r),r.$$click=()=>_(1),t(r,a(re,{name:"qrcode-scan",size:22,get color(){return p()===1?"#646cff":""}})),o.$$click=()=>_(2),t(o,a(re,{name:"keyboard",size:22,get color(){return p()===2?"#646cff":""}})),f})()},ut=e=>{const[n,c]=F(),p=()=>n?.prod?.productImageUrl?me()+be()+"/"+n?.prod?.productImageUrl:null;z(()=>{c("prod",e?.itm)}),Array.from(Array(10).keys());const _=async d=>{N?.profile?.agencyStore?.id;let s=n?.prod?.ssg_product_key,i=`${s}`,m=await pe(i),h=0,f=0;ee(m)?.map(r=>{m[r]?.products?.map(o=>{s===o?.product?.id&&(h+=o?.price*1*o?.qty*1,f+=o?.qty*1)})});let g=1,u={};v?.manifestObj?.products?.map(r=>{let o={...r};s===r.product.id&&(o.qty=o.qty*-1),u[r.product.id]=o}),u?.[s]&&(g=u?.[s].qty*1+1);const b=f?h/f:0;if(u?.[s])u[s].qty=g*-1;else{let r={product:{id:s,label:n?.prod?.name,code:n?.prod?.code},qty:g*-1,price:b,salePrice:n?.prod?.salePrice};u[s]=r}let l=ne(u);j("manifestObj","products",l),e?.clearTx(),he({text:n?.prod?.name+" agregado al carrito",timeout:3500,theme:"blue",id:ae()})};return a(x,{get when(){return e?.itm?.name},get children(){var d=Xe(),s=d.firstChild,i=s.firstChild,m=i.firstChild,h=m.firstChild,f=h.firstChild,g=h.nextSibling,u=g.firstChild,b=u.firstChild,l=b.firstChild;l.firstChild;var r=u.nextSibling,o=r.firstChild,$=o.nextSibling,C=$.firstChild;return C.firstChild,t(l,()=>e?.itm?.name,null),t(o,a(Y,{color:"#646cff",label:"Agregar",handleClick:_})),t(C,()=>(e?.itm?.salePrice*1).toFixed(2),null),R(()=>fe(f,"src",p())),d}})},Z=(e,n)=>n?(()=>{var c=Ze(),p=c.firstChild,_=p.nextSibling;return t(p," "+e),t(_,n),c})():"",mt=e=>(()=>{var n=et();return t(n,()=>Z("Calle",e?.ybstreet),null),t(n,()=>Z("#",e?.ybstreetNo),null),t(n,()=>Z("E/",e?.ybbetwen1),null),t(n,()=>Z("y",e?.ybbetwen2),null),n})(),W=e=>e?e*1:0,P=e=>e?e.toString().toUpperCase().trim():"";function bt(e){return(()=>{var n=tt(),c=n.firstChild,p=c.nextSibling,_=p.nextSibling,d=_.nextSibling;return n.style.setProperty("max-height","80vh"),n.style.setProperty("overflow","auto"),n.style.setProperty("background","#fff"),n.style.setProperty("border-radius","11px"),n.style.setProperty("padding"," 0 21px"),c.style.setProperty("padding","21px"),t(d,a(se,{}),null),t(d,a(Y,{color:"#646cff",icon:"send",label:"Enviar",get handleClick(){return e.confirm}}),null),R(s=>(s=ue()?"96vw":"420px")!=null?n.style.setProperty("width",s):n.style.removeProperty("width")),n})()}const pt=e=>{const[n,c]=L(!1),[p,_]=L(""),d=()=>{e?.updItem(e?.key,p()),c(!1)},s=()=>{let i=n();i||_(e?.value),c(!i)};return(()=>{var i=lt(),m=i.firstChild,h=m.firstChild;return h.firstChild,h.$$click=s,t(h,()=>e?.label,null),t(m,a(x,{get when(){return n()},get fallback(){return a(x,{get when(){return e?.value},get children(){var f=rt(),g=f.firstChild;return t(g,()=>e?.value),f}})},get children(){return a(J,{width:"110px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return p()||""},get placeholder(){return e?.label},colors:"#2b2b2b",handleClick:f=>_(f),onEnter:d})}}),null),i})()};Pe(["click"]);export{pt as EditInput,jt as default,dt as fetchCSVInve,mt as getAddress,W as isValNum,Et as loadInventory,Bt as updConfirmSale};
