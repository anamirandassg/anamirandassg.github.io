const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SVG-BE2hHXui.js","assets/index-DEu1n9fd.js","assets/index-BRlQ52V4.css","assets/index-Ci0zXM0r.js","assets/InputHr-ClArF7O9.js","assets/InputHr-M3rJ9grQ.css","assets/ButonHrm-CAyfbRTf.js","assets/Util-D2YTzGDx.js","assets/ButonHrm-BSeWNUGQ.css","assets/DropDwnFetchSearch-AlaUNoX0.js","assets/debounces-M5amJJ4g.js","assets/DropDwnSearch-DMkLkRPc.css","assets/DropDwnSearch-B257tq3H.js"])))=>i.map(i=>d[i]);
import{l as f,_ as g,c as R,a as w,m as oe,i as o,d as l,f as le,U as ie,e as de,t as x,j as se,S as m,F as ae,k as ne}from"./index-DEu1n9fd.js";import{i as ce}from"./globalSignal-CQa7yuH5.js";import{a as be,g as pe,y as V,b as ue,f as ve}from"./Util-D2YTzGDx.js";import{CloseModal as fe}from"./DialogHRM-Cz4bVEPc.js";import{u as ge}from"./debounces-M5amJJ4g.js";import{LookupProducts as he}from"./DashProducts-BVtoUorj.js";import B from"./FlexSpace-BmiJQcE8.js";import"./index-Ci0zXM0r.js";import"./App.module-CbHnVtRQ.js";var L=x("<div style=padding:4px>"),_e=x('<div style="margin:15px 0"class=" spaceAround centerBx">'),me=x('<div><div><div class="_dsplFlx flxWrp spaceAround "><div><div class="_dsplFlx bottombx lowbordr"><h5>Entrada</h5></div></div><div class="_dsplFlx bottombx "></div></div><div class="_dsplFlx bottombx flxWrp spaceAround txtWrap"><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div style=padding:4px></div><div class=hseparator></div><div style=padding:4px>'),xe=x('<div class="bottombx centerBx unit"><div class=tr_bar_50><h5></h5></div><div class="bottombx centerBx unit tr_bar_20"><h5>Cantidad:</h5><div class=bag_number><h5></h5></div></div><div class="bottombx centerBx unit tr_bar_20"><h5>Precio:</h5><div class=unitBx><h5>$</h5></div></div><div class="icon_status centerBx tr_bar_10">');const ye=f(()=>g(()=>import("./SVG-BE2hHXui.js"),__vite__mapDeps([0,1,2,3]))),v=f(()=>g(()=>import("./InputHr-ClArF7O9.js"),__vite__mapDeps([4,1,2,5]))),N=f(()=>g(()=>import("./ButonHrm-CAyfbRTf.js"),__vite__mapDeps([6,1,2,0,3,7,8]))),Ce=f(()=>g(()=>import("./DropDwnFetchSearch-AlaUNoX0.js"),__vite__mapDeps([9,1,2,10,0,3,11]))),W=f(()=>g(()=>import("./DropDwnSearch-B257tq3H.js"),__vite__mapDeps([12,1,2,10,0,3,11])));function Te(d){R();const[r,c]=R({invoice:"",seller:"",description:""}),[p,y]=w(""),[a,A]=w(null),[u,C]=w([]),j=ge(y,400),n=(t,i)=>{c({[t]:i}),j(pe())},z=async t=>{let s=V(P,r,d?.frm2).data;await ke(d?.frm1?.ssg_inventory_key,s),fe(d?.modalId)};oe(()=>{c(d?.frm1),d?.frm1?.products.map(t=>{C([...u(),t])})});const H=async t=>{let i=await he(t),s=[];return Object.keys(i).map(b=>{s.push({id:b,label:i[b]?.name,code:i[b]?.code})}),s},Q=async t=>{let i={product:a(),qty:r?.qty,price:r?.price};C([...u(),i]),c({qty:0}),c({price:0}),A(null)},U=t=>{C(i=>i.filter((s,b)=>s.product.id!==t))};let P=["invoice","type","store","seller","description","products"];return(()=>{var t=me(),i=t.firstChild,s=i.firstChild,b=s.firstChild,Y=b.nextSibling,k=s.nextSibling,E=k.firstChild,D=E.nextSibling,F=D.nextSibling,I=F.nextSibling,M=I.nextSibling,G=M.nextSibling,J=G.nextSibling;return t.style.setProperty("height","clamp(60vh, 70vh, 80vh)"),t.style.setProperty("overflow","auto"),t.style.setProperty("background","#ffffff"),t.style.setProperty("border-radius","13"),t.style.setProperty("padding","10px 19px"),o(Y,l(m,{get when(){return se(()=>!!(r?.invoice&&r?.store&&V(P,r,d?.frm2)?.hasChange))()&&u()?.length>0},get children(){return l(N,{color:"#047db7ff",icon:"save",label:"Salvar",handleClick:z})}})),k.style.setProperty("padding","16px"),o(E,l(v,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.invoice},placeholder:"Factura",colors:"#2b2b2b",handleClick:e=>n("invoice",e)})),o(D,l(W,{list:[{id:"ENTRY",label:"ENTRADAS"},{id:"SALES",label:"VENTAS"}],lbl_empty:"Tipo de Movimiento",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return r?.type},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:e=>n("type",e.id),width:"260px"})),o(F,l(W,{get list(){return Se()},lbl_empty:"Almacen",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return r?.store},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:e=>n("store",e.id),width:"360px"})),o(I,l(v,{width:"360px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.seller},placeholder:"Vendedor o Comprador",colors:"#2b2b2b",handleClick:e=>n("seller",e)})),o(M,l(v,{width:"460px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r?.description},placeholder:"Descripcion",colors:"#2b2b2b",handleClick:e=>n("description",e)})),o(J,l(Ce,{callback:H,lbl_empty:"Productos",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",borderColor:"#b2b2b2",get value(){return a()},hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:A,width:"360px"})),o(k,l(m,{get when(){return a()?.id},get children(){return[(()=>{var e=L();return o(e,l(v,{width:"130px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return r?.qty},placeholder:"Cantidad",colors:"#2b2b2b",handleClick:h=>n("qty",h)})),e})(),(()=>{var e=L();return o(e,l(v,{width:"130px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return r?.price},placeholder:"Precio",colors:"#2b2b2b",handleClick:h=>n("price",h)})),e})(),l(m,{get when(){return r?.price&&r?.qty},get children(){var e=_e();return o(e,l(N,{color:"#041e49ff",icon:"plus",label:"Agregar",handleClick:Q})),e}})]}}),null),o(i,l(m,{get when(){return u()},get children(){return l(ae,{get each(){return u()},children:(e,h)=>(()=>{var _=xe(),T=_.firstChild,K=T.firstChild,S=T.nextSibling,X=S.firstChild,Z=X.nextSibling,ee=Z.firstChild,$=S.nextSibling,re=$.firstChild,te=re.nextSibling,q=te.firstChild;q.firstChild;var O=$.nextSibling;return o(K,()=>e?.product?.label),o(_,l(B,{}),S),o(ee,()=>(e?.qty*1).toFixed(2)),o(_,l(B,{}),$),o(q,()=>(e?.price*1).toFixed(2),null),O.$$click=()=>U(e?.product?.id),o(O,l(ye,{name:"outline_delete",size:24})),_})()})}}),null),le(e=>(e=ce()?"96vw":"1020px")!=null?t.style.setProperty("width",e):t.style.removeProperty("width")),t})()}const ke=async(d,r)=>{let c={...r},p={params:{businessId:ne?.profile?.businessYId,id:d},form:c},y=ue(139004);p={...p,...y},console.log(p);{const a=await ve(p);return console.log(a),a?.data?.error?{}:a?.data}},Se=()=>{let d=[];return be("M023009")?.stores.map(r=>{ie()[r.id]&&d.push(r)}),d};de(["click"]);export{Te as default,Se as validStores};
