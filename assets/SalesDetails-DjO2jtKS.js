const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-Rr7MPnOz.js","assets/index-B0yHIKUr.js","assets/index-DI_XrWgU.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-DPNtNbYG.js","assets/debounces-BRDRkBxW.js","assets/SVG-C1QIvnp-.js","assets/DropDwnSearch-DMkLkRPc.css","assets/CheckBoxSlide-oFtnKszG.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/FlexSpace-b1mouiw-.js","assets/ButonHrm-B7pqqULO.js","assets/ButonHrm-BSeWNUGQ.css","assets/UpdInventory-Bj3G7Ms8.js","assets/DialogHRM-CMtiwDEl.js","assets/DialogHRM-V9_lZntj.css","assets/DashProducts-Bg601beM.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InputHr-C3z8yRI8.js","assets/InputHr-BXFw4d2l.css"])))=>i.map(i=>d[i]);
import{l as V,_ as Q,c as F,G as ye,a as M,o as Ce,b as xe,d as X,i as t,e as a,S,F as le,aH as oe,f as H,aI as Se,J as we,k as fe,m as N,z as me,g as Oe,x as ue,n as D,p as T,U as ke,D as Ie,r as Pe,t as w,aJ as qe,w as ne,al as ce,v as L,aK as de,O as ie,ax as je}from"./index-B0yHIKUr.js";import{u as Be}from"./debounces-BRDRkBxW.js";import{OpenModal as Ee}from"./DialogHRM-CMtiwDEl.js";import{g as be,a as pe}from"./handelImagesServices-BiRvQM6l.js";import{LookupInventory as he}from"./DashInventoryMov-Cld-_Vek.js";import{LookupProducts as re}from"./DashProducts-Bg601beM.js";import{a as Ae}from"./print_invoice_service-DKtSGBcC.js";import{OpenToast as J}from"./Toast-7ZjRvaI-.js";import"./browser-image-compression-BVJ4p9S0.js";import"./AddInventory-CG8G33dn.js";import"./FlexSpace-b1mouiw-.js";import"./App.module-CbHnVtRQ.js";import"./fontkit.es-B-YAzz2J.js";import"./InitPrintServices-By8lCubt.js";import"./qrcode-DHy8FFhS.js";var Ne=w('<div style="padding:50px 0"><section class=qsuVSc><section class=bLl6je><section class=dvPdhb>'),ge=w('<div style=margin:15px class=" spaceAround centerBx">'),Te=w('<section class=KgyCAd><section class=WirBi><div class=EMijzc><p class=jhB0af>Agregar reserva</p><section class="Jm2qx centerBx flxWrp spaceAround "><span class=label aria-hidden=true>Mercancia:</span><select class=RIw0b aria-label=merchandise></select><div class="centerBx bottombx "><h5 class="">Solo Arancel</h5></div></section><div style=margin:15px class=" spaceAround centerBx"><div style=margin:7px></div><div style=margin:7px>'),Ue=w('<section class=qsuVSc><section class=bLl6je><section class=dvPdhb></section></section><section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b">'),Fe=w("<option> "),De=w('<div class="centerBx spaceAround"><div class="centerBx bottombx "><h5 class="">Taxes'),Ve=w('<p class=B7xUP><span data-test-integ-cart-subtotal-label="">Taxes Estimado</span><span data-test-integ-cart-subtotal-value="">$'),Qe=w('<section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b"><div class=kDdWge><div class=QCNFEe><p class=jhB0af>Sumario de la Orden</p></div><div class=qntUl><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Subtotal</span><span data-test-integ-cart-subtotal-value="">$</span></p><p class=B7xUP><span data-test-integ-cart-subtotal-label=""class=OGw7rb>Total Estimado</span><span data-test-integ-cart-subtotal-value=""class=OGw7rb> $</span></p></div></div><div class=oPYFfd><section class=BQHvme><section class=wo08ff><span class=PwY8l2>Fecha:</span><span class=PwY8l33> </span></section><section class=wo08ff><span class=PwY8l2>Invoice:</span><span class=PwY8l33></span></section><section class=wo08ff><span class=PwY8l2>Almacen:</span><span class=PwY8l33> </span></section></section></div><section class="JM2zDb RW86"><div class="centerBx bottombx flxWrp spaceAround">'),_e=w("<section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Remove"),Le=w('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price="">'),Me=w("<span class=arancelSep> | "),Ye=w('<span class="arancel pricePq"> $'),Je=w('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price=""class=pricePq>$</span>'),Re=w('<div class=option-header style=padding:17px;margin:5px><span class=option-icon> </span><div class=" centerBx"><span class="option-name ">Env√≠o <!> '),Ge=w("<div class=separator>"),He=w('<div class="icon_status centerBx "style="margin:0 4px">'),We=w('<div style=padding:8px><div class=" centerBx"><p class=jhB0af>Envia</p></div><div class="bottombx flxWrp spaceAround centerBx"><h4 class=centerBx></h4><h4 class="centerBx phonesNum"></h4></div><div class=separator></div><div class=centerBx><p class=jhB0af>Recibe</p><div class="icon_status centerBx "style="margin:0 4px"></div></div><div class="bottombx spaceAround "><h5></h5><h4></h4><h4 class=" textleft phonesNum"></h4></div><div class="bottombx flxWrp spaceAround centerBx"><p class="textleft "></p><h4></h4></div><div class="bottombx flxWrp spaceAround centerBx"><h5 class="textleft "></h5><h4>'),ze=w('<section class="h6rxkc ">'),Ke=w('<section class=KgyCAd><section class=WirBi><section class=""><div class=QCNFEe><p class=jhB0af>Agregar mercancias</p></div><section class="EMijzc centerBx"><div class="icon_status centerBx "style="margin:0 4px"></div><div class="icon_status centerBx "style="margin:0 4px">'),Xe=w('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),Ze=w('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),et=w('<div class="centerBx flxWrp">'),tt=w('<div><div class=QCNFEe><p class=jhB0af>Enviar a Solve D Cargo</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Esta seguro de querer enviar a Solve D Cargo tenga en cuenta que puede duplicar la informacion</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">'),it=w('<div class="centerBx flxWrp "><div class="bottombx centerBx unit"><h5>$'),lt=w("<div class=unitBx><h5>");V(()=>Q(()=>import("./LoadingColorSpinner-Rr7MPnOz.js"),__vite__mapDeps([0,1,2,3])));V(()=>Q(()=>import("./DropDwnSearch-DPNtNbYG.js"),__vite__mapDeps([4,1,2,5,6,7])));const $e=V(()=>Q(()=>import("./CheckBoxSlide-oFtnKszG.js"),__vite__mapDeps([8,1,2,9]))),ae=V(()=>Q(()=>import("./FlexSpace-b1mouiw-.js"),__vite__mapDeps([10,1,2]))),R=V(()=>Q(()=>import("./ButonHrm-B7pqqULO.js"),__vite__mapDeps([11,1,2,6,12])));V(()=>Q(()=>import("./UpdInventory-Bj3G7Ms8.js"),__vite__mapDeps([13,1,2,14,15,5,16,17,18,10])));const G=V(()=>Q(()=>import("./InputHr-C3z8yRI8.js"),__vite__mapDeps([19,1,2,20]))),se=V(()=>Q(()=>import("./SVG-C1QIvnp-.js"),__vite__mapDeps([6,1,2]))),[y,q]=F({manifestObj:{}});let rt=864e5;function jt(){const[e,s]=ye();F(),F(),F();const[c,p]=M("");Be(p,400),Ce(()=>{}),xe(()=>{});const $=async()=>{if(e?.mId){let o={":search0":e?.mId,businessId:N?.profile?.businessYId},n=await ve(o);q("manifestObj",n[e?.mId])}};return X(async()=>{q("manifestObj",void 0),$(),qe()}),(()=>{var o=Ne(),n=o.firstChild,r=n.firstChild,m=r.firstChild;return t(o,a(S,{get when(){return y?.manifestObj?.packagesOrder},get children(){return a(st,{})}}),n),t(m,a(S,{get when(){return y?.manifestObj?.products},get children(){return a(le,{get each(){return y?.manifestObj?.products},children:(h,d)=>a(at,{itm:h})})}})),t(n,a(S,{get when(){return y?.manifestObj?.packagesOrder&&!y?.manifestObj?.isCompleted},get children(){return a(ft,{})}}),null),t(n,a(nt,{get item(){return y?.manifestObj},get list(){return y?.manifestObj}}),null),o})()}const st=e=>{const s={type:"",qty:0,arancel:0,price:0},[c,p]=F({frm:{...s}}),$=(r,m)=>{p("frm",r,m)},o=r=>{let m={...c?.frm};m.key=je();let h=y?.manifestObj?.reservas||[],d=ne(h);d.push(m),console.log(m),q("manifestObj","reservas",d),p("frm",{...s})},n=r=>{$("type",r),oe?.list.filter(h=>h.id===r)?.[0]?.isA?$("onlyTariff",!0):$("onlyTariff",!1)};return(()=>{var r=Ue(),m=r.firstChild,h=m.firstChild,d=m.nextSibling,g=d.firstChild,f=g.firstChild;return t(h,a(S,{get when(){return y?.manifestObj?.reservas},get children(){return a(le,{get each(){return y?.manifestObj?.reservas},children:(b,i)=>a(ct,{itm:b})})}})),t(r,a(S,{get when(){return!y?.manifestObj?.isCompleted},get children(){var b=Te(),i=b.firstChild,l=i.firstChild,u=l.firstChild,_=u.nextSibling,C=_.firstChild,v=C.nextSibling,I=v.nextSibling,k=I.firstChild,x=_.nextSibling,E=x.firstChild,U=E.nextSibling;return v.addEventListener("change",O=>{n(O?.target?.value)}),t(v,a(le,{get each(){return oe?.list},children:(O,Z)=>(()=>{var j=Fe();return j.firstChild,t(j,()=>O.label,null),H(()=>j.selected=O.id===c?.frm?.type),H(()=>j.value=O.id),j})()})),t(I,a($e,{get initValue(){return c?.frm?.onlyTariff},updChange:O=>$("onlyTariff",O),color:"var(--background-red-ssg)"}),k),t(x,a(S,{get when(){return!c?.frm?.onlyTariff&&c?.frm?.type},get children(){return a(G,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return c?.frm?.qty||""},label:"cantidad (lbs)",colors:"#2b2b2b",type:"number",handleClick:O=>$("qty",Se(O))})}}),E),t(x,a(S,{get when(){return c?.frm?.qty&&c?.frm?.type},get children(){return a(G,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.price||""},label:"precio",colors:"#2b2b2b",handleClick:O=>$("price",O)})}}),U),t(x,a(S,{get when(){return c?.frm?.type},get children(){return a(G,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return c?.frm?.arancel||""},label:"Arancel",colors:"#2b2b2b",handleClick:O=>$("arancel",O)})}}),null),t(l,a(S,{get when(){return(c?.frm?.price&&c?.frm?.qty||c?.frm?.onlyTariff&&c?.frm?.arancel)&&c?.frm?.type},get children(){var O=ge();return t(O,a(R,{color:"#646cff",label:"Agregar",handleClick:o})),O}}),null),b}}),d),t(f,a(ot,{get item(){return y?.manifestObj?.shipper_consignee}})),r})()},nt=e=>{const s=o=>{let n=0;return e?.item?.products?.map(r=>{n+=K(r?.qty)*K(r?.salePrice)*-1}),e?.item?.reservas?.map(r=>{n+=K(r?.qty)*K(r?.price)+K(r?.arancel)}),n},c=async o=>{let n={...e?.item};n.amount=s();let r=await Ae(n);window.open(r)},p=async()=>{let o={...e?.item},n={params:{businessId:N?.profile?.businessYId,id:o.ssg_sorder_key},form:{isCompleted:!1}},r=D(431007);n={...n,...r},await T(n)},$=async o=>{let n=ne(e?.item);n.isCompleted=!0,n.dayNum=n?.createDate/rt;let r={params:{businessId:N?.profile?.businessYId,id:n.ssg_sorder_key},form:n},m=D(431007);if(r={...r,...m},await T(r),n?.products?.length>0){let g={params:{businessId:N?.profile?.businessYId},form:n},f=D(139003);g={...g,...f},await T(g)}let h={":search0":n.ssg_sorder_key,businessId:N?.profile?.businessYId},d=await ve(h);q("manifestObj",d[n.ssg_sorder_key])};return(()=>{var o=Qe(),n=o.firstChild,r=n.firstChild,m=r.firstChild,h=m.firstChild,d=h.nextSibling,g=d.firstChild,f=g.firstChild,b=f.nextSibling;b.firstChild;var i=g.nextSibling,l=i.firstChild,u=l.nextSibling;u.firstChild;var _=m.nextSibling,C=_.firstChild,v=C.firstChild,I=v.firstChild,k=I.nextSibling;k.firstChild;var x=v.nextSibling,E=x.firstChild,U=E.nextSibling,O=x.nextSibling,Z=O.firstChild,j=Z.nextSibling;j.firstChild;var ee=_.nextSibling,W=ee.firstChild;return t(m,a(S,{get when(){return!y?.manifestObj?.isCompleted},get children(){return[(()=>{var B=De(),A=B.firstChild,Y=A.firstChild;return t(A,a($e,{get initValue(){return y?.manifestObj?.hasTax},updChange:z=>q("manifestObj","hasTax",z),color:"var(--background-red-ssg)"}),Y),B})(),(()=>{var B=ge();return t(B,a(S,{get when(){return y?.manifestObj?.hasTax},get children(){return a(G,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return y?.manifestObj?.TaxPercent||""},label:"Porciento de Impuestos",colors:"#2b2b2b",type:"number",handleClick:A=>q("manifestObj","TaxPercent",A)})}})),B})()]}}),d),t(b,()=>s().toFixed(2),null),t(d,a(S,{get when(){return y?.manifestObj?.hasTax&&y?.manifestObj?.TaxPercent},get children(){var B=Ve(),A=B.firstChild,Y=A.nextSibling;return Y.firstChild,t(Y,()=>(s()*(y?.manifestObj?.TaxPercent/100)).toFixed(2),null),B}}),i),t(u,()=>(s()*((y?.manifestObj?.TaxPercent?y?.manifestObj?.TaxPercent:0)/100)+s()).toFixed(2),null),t(k,()=>we(e?.item?.createDate),null),t(U,()=>e?.item?.invoice),t(j,()=>fe("storeGroupBy")?.[e?.item?.store]?.label,null),t(W,a(R,{color:"#646cff",label:"Imprimir",handleClick:c}),null),t(W,a(S,{get when(){return!e?.item?.isCompleted},get children(){return a(R,{color:"#646cff",label:"Confirmar",handleClick:$})}}),null),t(W,a(S,{get when(){return e?.item?.isCompleted&&N?.profile?.isAdmin},get children(){return a(R,{color:"#646cff",label:"arrow",handleClick:p})}}),null),o})()},at=e=>{const[s,c]=F(),p=()=>s?.[e?.itm?.product?.id]?.productImageUrl?be()+pe()+"/"+s?.[e?.itm?.product?.id]?.productImageUrl:null,$=async()=>{let r=e?.itm?.product?.id,m=`${r}`,h=await re(m);h?.[r]?.productImageUrl&&c(r,h?.[r])};X(()=>{$()});const o=()=>{let r=ne(y?.manifestObj?.products);q("manifestObj","products",r.filter(m=>m.product.id!==e?.itm?.product.id))},n=(r,m)=>{let h={};y?.manifestObj?.products?.map(g=>{let f={...g};e?.itm?.product.id===g.product.id&&(f[r]=m*1),h[g.product.id]=f});let d=ce(h);q("manifestObj","products",d)};return a(S,{get when(){return e?.itm?.product?.id},get children(){var r=Le(),m=r.firstChild,h=m.firstChild,d=h.firstChild,g=d.firstChild,f=g.firstChild,b=g.nextSibling,i=b.firstChild,l=i.firstChild,u=l.firstChild;u.firstChild;var _=i.nextSibling,C=_.firstChild,v=C.firstChild,I=v.nextSibling,k=C.nextSibling;return t(u,()=>e?.itm?.product?.label,null),t(I,()=>e?.itm?.qty*-1),t(k,a(pt,{value:"",get label(){return`${(e?.itm?.salePrice*1).toFixed(2)}`},key:"salePrice",updItem:n,width:"600px"})),t(_,a(S,{get when(){return!y?.manifestObj?.isCompleted},get children(){var x=_e(),E=x.firstChild,U=E.firstChild;return U.$$click=o,x}}),null),H(()=>me(f,"src",p())),r}})},ct=e=>{const[s,c]=F(),p=async()=>{let o=e?.itm?.product?.id,n=`${o}`,r=await re(n);r?.[o]?.productImageUrl&&c(o,r?.[o])};X(()=>{p()});const $=()=>{let n=ne(y?.manifestObj?.reservas).filter(r=>r.key!==e?.itm?.key);q("manifestObj","reservas",n)};return(()=>{var o=Je(),n=o.firstChild,r=n.firstChild,m=r.firstChild,h=m.firstChild,d=h.firstChild,g=d.firstChild,f=g.firstChild;f.firstChild;var b=d.nextSibling,i=b.firstChild,l=i.firstChild,u=l.nextSibling,_=i.nextSibling,C=_.firstChild;return C.firstChild,t(f,()=>e?.itm?.type,null),t(u,()=>e?.itm?.qty*1),t(C,()=>(e?.itm?.price*1).toFixed(2),null),t(_,a(S,{get when(){return e?.itm?.arancel},get children(){return[Me(),(()=>{var v=Ye();return v.firstChild,t(v,()=>(e?.itm?.arancel*1).toFixed(2),null),v})()]}}),null),t(b,a(S,{get when(){return!y?.manifestObj?.isCompleted},get children(){var v=_e(),I=v.firstChild,k=I.firstChild;return k.$$click=$,v}}),null),o})()},ot=e=>{const[s,c]=M(),[p,$]=M(!0),o=i=>i?" "+i:"",n=i=>o(i?.firstName)+o(i?.middleName)+o(i?.lastName)+o(i?.lastName2),r=i=>{let l=o(i?.altPhoneNumber);return o(i?.phoneNumber)+(l?" |"+l:"")},m=async()=>{let i={};i.id=L(),i.closeEvent=()=>{},i.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},i.content=a(bt,{confirm:h}),Ee(i)},h=async()=>{let i=N?.profile?.agency?.id;if(i&&e?.item?.citiId&&e?.item?.provinceId){let l=e?.item,u=`;${P(l?.firstName)};${P(l?.middleName)};${P(l?.lastName)};${P(l?.lastName2)};N/A;${P(l?.cid)};CUB;${P(l?.phoneNumber)};${P(l?.altPhoneNumber)};${P(l?.ybstreet)};${P(l?.ybstreetNo)};${P(l?.ybbetwen1)};${P(l?.ybbetwen2)};${P(l?.ybreparto)};;${l?.citiId};${l?.provinceId};${P(l?.email)};;${i}`;d("consignee",u)}},d=async(i,l,u)=>{let _=`funcname=insertRecord&option=${i}&params=${l}`,C={query:"querySolveGlobal"};C.params={query:_},await T(C)},g=async()=>{let i={params:{id:e?.item?.name,key:"shipper"}},l=D(181009);i={...i,...l};const u=await T(i);let _=de(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],u,e?.item);console.log(_),u.cid===e?.item?.cid&&console.log()},f=async()=>{let i={params:{id:e?.item?.cid,key:"consignee"}},l=D(181009);i={...i,...l};const u=await T(i);return console.log(u),de(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],u,e?.item).hasChange&&u.cid===e?.item?.cid?e?.item:u},b=async(i,l)=>{let u=await f();console.log(u)};return X(()=>{if(e?.item?.ybestate){let i=fe("M023009")?.provincias?.filter?.(l=>l.label===e?.item?.ybestate)?.[0];if(i?.id&&c(i),e?.item?.ybcity){let l=i?.cities?.filter?.(u=>u.label===e?.item?.ybcity)?.[0];l?.id&&q("manifestObj","shipper_consignee","citiId",l?.id)}}b()}),console.log(e?.item),a(S,{get when(){return e?.item?.name},get children(){return[a(S,{get when(){return e?.item?.shipping},get children(){return[(()=>{var i=Re(),l=i.firstChild;l.firstChild;var u=l.nextSibling,_=u.firstChild,C=_.firstChild,v=C.nextSibling;return v.nextSibling,t(l,()=>e?.item?.shipping==="AEREO"?"‚úàÔ∏è":"üö¢",null),t(_,()=>e?.item?.shipping==="AEREO"?"a√©reo":"mar√≠timo",v),i})(),Ge()]}}),(()=>{var i=We(),l=i.firstChild;l.firstChild;var u=l.nextSibling,_=u.firstChild,C=_.nextSibling,v=u.nextSibling,I=v.nextSibling,k=I.firstChild,x=k.nextSibling,E=I.nextSibling,U=E.firstChild,O=U.nextSibling,Z=O.nextSibling,j=E.nextSibling,ee=j.firstChild,W=ee.nextSibling,B=j.nextSibling,A=B.firstChild,Y=A.nextSibling;return t(l,a(ae,{}),null),t(_,()=>e?.item?.name),C.$$click=g,t(C,()=>e?.item?.phoneNumberS),t(I,a(ae,{}),x),x.$$click=f,t(x,a(se,{name:"success",size:22,get color(){return p()?"#37be5fff":"#c6c6c6"}})),t(I,a(S,{get when(){return!p()},get children(){var z=He();return z.$$click=m,t(z,a(se,{name:"send",size:22,color:"#646cff"})),z}}),null),t(U,()=>e?.item?.cid),t(O,()=>n(e?.item)),t(Z,()=>r(e?.item)),t(ee,()=>ut(e?.item)),t(W,()=>e?.item?.ybreparto),t(A,()=>e?.item?.ybcity),t(Y,()=>e?.item?.ybestate),H(()=>Oe(i,`    ${ue()?"isMobile":""}`)),i})()]}})},Bt=async(e,s)=>{let c={params:e,data2update:s},p=D(431007);return c={...c,...p},await T(c)},ve=async e=>{let s={params:e},c=D(431002);return s={...s,...c},await T(s)},Et=async e=>{let s=[];e.map(c=>{let p={params:{id:c?.ssg_track_key,idairguide:"all"}},$=D(802002);p={...p,...$},s.push(p)}),ke(s,dt)},dt=async e=>{const c=await T(e);if(c)return c},ft=e=>{const[s,c]=M(""),[p,$]=M(1),o=()=>{p()===1&&s().length>5&&n(s())},n=async d=>{N?.profile?.agencyStore?.id;let g=`${d}`,f=await re(g),b=ie(f)?.[0],i=`${b} `,l=await he(i),u=0,_=0;ie(l)?.map(k=>{l[k]?.products?.map(x=>{b===x?.product?.id&&(u+=x?.price*1*x?.qty*1,_+=x?.qty*1)})});let C=1,v={};y?.manifestObj?.products?.map(k=>{let x={...k};b===k.product.id&&(x.qty=x.qty*-1),v[k.product.id]=x}),v?.[b]&&(C=v?.[b].qty*1+1);const I=_?u/_:0;if(f?.[b]?.salePrice||J({text:"Sin precio de venta",timeout:3500,theme:"red",id:L()}),_&&_-C>=0){if(v?.[b])v[b].qty=C*-1;else{let x={product:{id:b,label:f?.[b]?.name,code:f?.[b]?.code},qty:C*-1,price:I,salePrice:f?.[b]?.salePrice};v[b]=x}let k=ce(v);q("manifestObj","products",k),c(""),J({text:f?.[b]?.name+" agregado al carrito",timeout:3500,theme:"blue",id:L()})}else J({text:"Sin Existencia",timeout:3500,theme:"red",id:L()})},[r,{refetch:m}]=Ie(s,async d=>{if(p()===2&&d.length>3){const g=await re(d);let f=[];return ie(g).map(b=>{let i=g[b];f.push(i)}),f}else return[]}),h=()=>{c(""),$(1)};return(()=>{var d=Ke(),g=d.firstChild,f=g.firstChild,b=f.firstChild,i=b.nextSibling,l=i.firstChild,u=l.nextSibling;return t(f,a(S,{get when(){return r()?.length>0},get children(){var _=ze();return t(_,a(le,{get each(){return r()},children:(C,v)=>a(mt,{itm:C,clearTx:h})})),_}}),i),t(i,a(G,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return s()},placeholder:"buscar productos ...",colors:"#2b2b2b",handleClick:c,onEnter:o}),l),l.$$click=()=>$(1),t(l,a(se,{name:"qrcode-scan",size:22,get color(){return p()===1?"#646cff":""}})),u.$$click=()=>$(2),t(u,a(se,{name:"keyboard",size:22,get color(){return p()===2?"#646cff":""}})),d})()},mt=e=>{const[s,c]=F(),p=()=>s?.prod?.productImageUrl?be()+pe()+"/"+s?.prod?.productImageUrl:null;X(()=>{c("prod",e?.itm)}),Array.from(Array(10).keys());const $=async o=>{N?.profile?.agencyStore?.id;let n=s?.prod?.ssg_product_key,r=`${n}`,m=await he(r),h=0,d=0;ie(m)?.map(i=>{m[i]?.products?.map(l=>{n===l?.product?.id&&(h+=l?.price*1*l?.qty*1,d+=l?.qty*1)})});let g=1,f={};y?.manifestObj?.products?.map(i=>{let l={...i};n===i.product.id&&(l.qty=l.qty*-1),f[i.product.id]=l}),f?.[n]&&(g=f?.[n].qty*1+1);const b=d?h/d:0;if(s?.prod?.salePrice||J({text:"Sin precio de venta",timeout:3500,theme:"red",id:L()}),d&&d-g>=0){if(f?.[n])f[n].qty=g*-1;else{let l={product:{id:n,label:s?.prod?.name,code:s?.prod?.code},qty:g*-1,price:b,salePrice:s?.prod?.salePrice};f[n]=l}let i=ce(f);q("manifestObj","products",i),e?.clearTx(),J({text:s?.prod?.name+" agregado al carrito",timeout:3500,theme:"blue",id:L()})}else e?.clearTx(),J({text:"Sin Existencia",timeout:3500,theme:"red",id:L()})};return a(S,{get when(){return e?.itm?.name},get children(){var o=Xe(),n=o.firstChild,r=n.firstChild,m=r.firstChild,h=m.firstChild,d=h.firstChild,g=h.nextSibling,f=g.firstChild,b=f.firstChild,i=b.firstChild;i.firstChild;var l=f.nextSibling,u=l.firstChild,_=u.nextSibling,C=_.firstChild;return C.firstChild,t(i,()=>e?.itm?.name,null),t(u,a(R,{color:"#646cff",label:"Agregar",handleClick:$})),t(C,()=>(e?.itm?.salePrice*1).toFixed(2),null),H(()=>me(d,"src",p())),o}})},te=(e,s)=>s?(()=>{var c=Ze(),p=c.firstChild,$=p.nextSibling;return t(p," "+e),t($,s),c})():"",ut=e=>(()=>{var s=et();return t(s,()=>te("Calle",e?.ybstreet),null),t(s,()=>te("#",e?.ybstreetNo),null),t(s,()=>te("E/",e?.ybbetwen1),null),t(s,()=>te("y",e?.ybbetwen2),null),s})(),K=e=>e?e*1:0,P=e=>e?e.toString().toUpperCase().trim():"";function bt(e){return(()=>{var s=tt(),c=s.firstChild,p=c.nextSibling,$=p.nextSibling,o=$.nextSibling;return s.style.setProperty("max-height","80vh"),s.style.setProperty("overflow","auto"),s.style.setProperty("background","#fff"),s.style.setProperty("border-radius","11px"),s.style.setProperty("padding"," 0 21px"),c.style.setProperty("padding","21px"),t(o,a(ae,{}),null),t(o,a(R,{color:"#646cff",icon:"send",label:"Enviar",get handleClick(){return e.confirm}}),null),H(n=>(n=ue()?"96vw":"420px")!=null?s.style.setProperty("width",n):s.style.removeProperty("width")),s})()}const pt=e=>{const[s,c]=M(!1),[p,$]=M(""),o=()=>{e?.updItem(e?.key,p()),c(!1)},n=()=>{let r=s();r||$(e?.value),c(!r)};return(()=>{var r=it(),m=r.firstChild,h=m.firstChild;return h.firstChild,h.$$click=n,t(h,()=>e?.label,null),t(m,a(S,{get when(){return s()},get fallback(){return a(S,{get when(){return e?.value},get children(){var d=lt(),g=d.firstChild;return t(g,()=>e?.value),d}})},get children(){return a(G,{width:"110px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return p()||""},get placeholder(){return e?.label},colors:"#2b2b2b",handleClick:d=>$(d),onEnter:o})}}),null),r})()};Pe(["click"]);export{pt as EditInput,jt as default,dt as fetchCSVInve,ut as getAddress,K as isValNum,Et as loadInventory,Bt as updConfirmSale};
