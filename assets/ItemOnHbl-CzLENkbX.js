const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-B6DmNQM5.js","assets/index-Cj6AZogZ.js","assets/index-DHvNTsK7.css","assets/ShowQR-BCBH1tuc.js","assets/ShowQRPrintLabel-WMkUsZsc.js","assets/DropDwnSearch-BjKrZO5d.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as I,_ as C,a as S,c as p,q as ee,b as te,d as s,i as n,S as d,a2 as B,k,s as ie,w as ne,m,F as re,B as O,R as le,e as ae,t as g,g as $,O as se,H as N,I as ce,P as ue,n as de}from"./index-Cj6AZogZ.js";import{g as ge}from"./ShowQRPrintLabel-WMkUsZsc.js";var oe=g('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),Q=g('<div class="centerBx bottombx"><h5>'),me=g('<div class=" tr_bar_20 _dsplFlx"><div class="icon_status centerBx">'),V=g("<div class=bag_number><h5>"),z=g("<div class=bottombx><h5>"),W=g("<div><div>"),_e=g('<p class="tr_bar_30 textleft fullName_consigne">'),he=g("<div style=margin-right:4vw>"),be=g('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),ve=g("<div>"),$e=g('<div class="centerBx flxWrp spaceAround "><img ref width=200 alt=qr>'),fe=g('<div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class="_dsplFlx topbx centerBx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),xe=g('<div class=" resumeStatus icon_status centerBx"><div class=bottombx bottombx><h4>');const F=I(()=>C(()=>import("./FlexSpace-B6DmNQM5.js"),__vite__mapDeps([0,1,2]))),T=I(()=>C(()=>import("./index-Cj6AZogZ.js").then(e=>e.a8),__vite__mapDeps([1,2]))),ye=I(()=>C(()=>import("./ShowQR-BCBH1tuc.js"),__vite__mapDeps([3,1,2,4])));I(()=>C(()=>import("./DropDwnSearch-BjKrZO5d.js"),__vite__mapDeps([5,1,2,6])));function Ae(e){const[E,j]=S(""),[D,v]=p({}),[A,Z]=S(""),[Se,L]=S(""),[M,q]=S(""),_=i=>i?" "+i:"",H=()=>{let i=e?.item?.consigneeInfo;return _(i?.firstName)+_(i?.middleName)+_(i?.lastName)+_(i?.lastName2)},G=()=>{let i=e?.item?.consigneeInfo,l=_(i?.altPhoneNumber);return _(i?.phoneNumber)+(l?" |"+l:"")},X=()=>{let i=e?.item?.street.split(",");return i.slice(0,i.length-2).join(",")},f=i=>{let l="";if(i)l=i;else if(e?.item?.hblS){let o=e?.item?.hblS;l=`${e?.item?.idairguide}/${e?.item?.cidentity}/${o}`}let u={};u.id=$(),u.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},u.content=s(ye,{val:l,get item(){return e?.item}}),se(u)},h=i=>{let l=i,u="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const o=new RegExp(u);return l.length===13&&o.test(l)&&(l=l.slice(3,12)),l},x=(i,l)=>{Z(l),L(i),setTimeout(()=>{L("")},300)},y=i=>{q(i),setTimeout(()=>{q("")},3e3)},Y=async i=>{let l={timeStamp:new Date().getTime(),latitude:N?.latitude,longitude:N?.longitude,statusId:i,userId:ce?.profile?.userId};if(e?.item?.idairguide){let u=e?.item?.statusHistory||[];u.push(l);let o={idairguide:e?.item?.idairguide,ssg_track_key:e?.item?.ssg_track_key},b=e?.item?.estate||e?.item?.consigneeInfo?.ybestate,P=e?.item?.city||e?.item?.consigneeInfo?.ybcity;if(e?.item?.tracking,E(),new Date().getTime(),v(""),v(e?.item),y($()),x("","success"),!ue?.roles?.[b])x("","warning"),v({consigneeInfo:{ybestate:"Zona incorrecta"}}),y($());else if(e?.item?.currentStatus!==l.statusId){let R={statusHistory:u,currentStatus:l.statusId};await we(o,R),e?.newSear()}else x("","warning"),v({consigneeInfo:{ybcity:"Fue escaneado",ybestate:e?.item?.consigneeInfo?.ybestate}}),y($())}else x("","error"),v({consigneeInfo:{ybestate:"Error con manifiesto"}}),y($())};ee(()=>{});const J=()=>N?.list?.filter(i=>i.id),[K,{refetch:ke}]=te(e?.showQR,async()=>{let i=h(e?.item?.tracking);return await ge(i)});return s(d,{get when(){return e?.item?.tracking},get children(){var i=fe(),l=i.firstChild,u=l.nextSibling,o=u.firstChild,b=o.firstChild,P=b.nextSibling,R=P.nextSibling;return l.style.setProperty("padding","16px"),n(l,s(d,{get when(){return M()},get children(){var t=oe(),a=t.firstChild,r=a.nextSibling;return n(a,s(T,{get name(){return B?.[A()]?.icon},size:32,get color(){return B?.[A()]?.svg}})),n(r,()=>D?.consigneeInfo?.ybestate),k(c=>ie(t,B?.[A()],c)),t}})),n(u,s(d,{get when(){return e?.item?.tracking},get children(){return[(()=>{var t=me(),a=t.firstChild;return n(a,s(T,{get name(){return ne?.[e?.item?.currentStatus]},size:32})),n(t,s(d,{get when(){return!m()&&e?.item?.idairnumber},get children(){var r=Q(),c=r.firstChild;return n(c,()=>e?.item?.idairnumber),r}}),null),t})(),s(d,{get when(){return m()&&e?.item?.tracking},get children(){return[s(F,{}),(()=>{var t=W(),a=t.firstChild;return n(a,s(d,{get when(){return e?.item?.bagnumber},get children(){var r=V(),c=r.firstChild;return r.$$click=()=>f(null),n(c,()=>e?.item?.bagnumber),r}})),n(t,s(d,{get when(){return e?.item?.tracking},get children(){var r=z(),c=r.firstChild;return r.$$click=()=>f(h(e?.item?.tracking)),n(c,()=>h(e?.item?.tracking)),r}}),null),t})()]}}),s(d,{get when(){return!m()},get children(){return[(()=>{var t=_e();return n(t,H),t})(),he()]}})]}}),o),n(u,s(F,{}),o),n(b,()=>e?.item?.consigneeInfo?.ybcity),n(R,()=>e?.item?.consigneeInfo?.ybestate),n(u,s(F,{}),null),n(u,s(d,{get when(){return!m()&&e?.item?.tracking},get children(){var t=W(),a=t.firstChild;return n(a,s(d,{get when(){return e?.item?.bagnumber},get children(){var r=V(),c=r.firstChild;return r.$$click=()=>f(null),n(c,()=>h(e?.item?.bagnumber)),r}})),n(t,s(d,{get when(){return e?.item?.tracking},get children(){var r=z(),c=r.firstChild;return r.$$click=()=>f(h(e?.item?.tracking)),n(c,()=>h(e?.item?.tracking)),r}}),null),t}}),null),n(i,s(d,{get when(){return m()&&e?.item?.idairnumber},get children(){var t=Q(),a=t.firstChild;return n(a,()=>e?.item?.idairnumber),t}}),null),n(i,s(d,{get when(){return m()&&e?.item?.consigneeInfo?.ybcity},get children(){var t=be(),a=t.firstChild,r=a.nextSibling,c=r.nextSibling,w=c.nextSibling;return n(a,H),n(c,G),n(w,X),t}}),null),n(i,s(d,{get when(){return!e?.showQR},get children(){var t=ve();return n(t,s(re,{get each(){return J()},children:(a,r)=>(()=>{var c=xe(),w=c.firstChild,U=w.firstChild;return c.$$click=Ie=>Y(a.id),c.style.setProperty("padding","9px"),n(c,s(T,{get name(){return a.icon},size:24}),w),n(U,()=>m()?a.label:a.tag),c})()})),k(()=>O(t,m()?"":" bottombx flxWrp spaceAround centerBx")),t}}),null),n(i,s(d,{get when(){return e?.showQR},get children(){var t=$e(),a=t.firstChild;return t.style.setProperty("padding","16px"),k(()=>le(a,"src",K())),t}}),null),k(t=>{var a=`client_item_box gWXAaj jlytmu ${m()?"isMobile":""}`,r=M()?"block":"none";return a!==t.e&&O(i,t.e=a),r!==t.t&&((t.t=r)!=null?l.style.setProperty("display",r):l.style.removeProperty("display")),t},{e:void 0,t:void 0}),i}})}const we=async(e,E)=>await de({params:e,query:"updateLogisticYabaExpress",data2update:E});ae(["click"]);export{Ae as default};
