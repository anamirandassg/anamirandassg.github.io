const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-C9SLCIF8.js","assets/index-d383HIyr.js","assets/index-BmzAZVve.css","assets/SVG-CvA555w4.js","assets/index-Ci0zXM0r.js","assets/ShowQR-BvlKl2Go.js","assets/ShowQRPrintLabel-BSZrwvzj.js","assets/PDFButton-B_0lS8EG.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-BKe7DAJ7.js","assets/InitPrintServices-B2FiA8Iv.js","assets/Util-DMUIj5ci.js","assets/Toast-CIE8LDZU.js","assets/Toast-DLpFKn-Q.css","assets/ButonUploadHrm-C96adtU6.js","assets/ButonHrm-BSeWNUGQ.css","assets/ButonHrm-D-M6DAwF.js","assets/LoadingColorSpinner-r-UDW8xr.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-BEz74UQM.js","assets/debounces-DOSNyJ7h.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as r,_ as s,a as v,u as O,N as D,n as T,d as a,i as p,S as h,k as f,e as b,q as V,s as L,h as R,t as d,m as y}from"./index-d383HIyr.js";import{t as w,g as E,A as U,O as M,b as z,f as F}from"./Util-DMUIj5ci.js";/* empty css                             */import{c as q,i as H,b as N,u as W,a as K}from"./handelImagesServices-CrBBgo-b.js";import"./index-Ci0zXM0r.js";import"./browser-image-compression-BVJ4p9S0.js";var Q=d('<div class="elastic_view_bx show"><div class=" spaceAround centerBx">'),Y=d("<div><img alt=sf>"),j=d('<div class="elastic_view_bx show centerBx"><div style="margin:15px 0"class=" spaceAround centerBx"></div><div class="errorBx centerBx mxW375 "><div class="icon_status centerBx"></div><p class=" centerBx">Click para completar la entrega si la imagen esta clara y con calidad'),G=d("<div>"),J=d("<div class=centerBx><h5 style=margin-left:12px>Subiendo imagen");r(()=>s(()=>import("./FlexSpace-C9SLCIF8.js"),__vite__mapDeps([0,1,2])));const X=r(()=>s(()=>import("./SVG-CvA555w4.js"),__vite__mapDeps([3,1,2,4])));r(()=>s(()=>import("./ShowQR-BvlKl2Go.js"),__vite__mapDeps([5,1,2,6,7,4,8,9,10,11,12,13])));const Z=r(()=>s(()=>import("./ButonUploadHrm-C96adtU6.js"),__vite__mapDeps([14,1,2,3,4,11,15]))),ee=r(()=>s(()=>import("./ButonHrm-D-M6DAwF.js"),__vite__mapDeps([16,1,2,3,4,11,15]))),te=r(()=>s(()=>import("./LoadingColorSpinner-r-UDW8xr.js"),__vite__mapDeps([17,1,2,18])));r(()=>s(()=>import("./DropDwnSearch-BEz74UQM.js"),__vite__mapDeps([19,1,2,20,3,4,21])));function me(m){const[l,i]=v(null),[n,u]=v(!1),[I,g]=v(!1),[S,re]=O(),$=D();T(()=>{});const x=async(e,t)=>{let o=await N(e.type,t);if(await W(o,e)){let c={deliveryProof:K()+"/"+t,currentStatus:"YABA_99",deliveryUserId:y?.profile?.userId,deliveryUserName:y?.profile?.name,wasDelivery:"OK",deliveryTime:U()};const P=M(m?.list).map(async k=>{await ae({ssg_track_key:k,idairguide:"all"},c)});await Promise.all(P),g(!1),u(!1),$(`/delivery-detail?dId=${S?.dId}`,{replace:!0})}else g(!1)},A=async()=>{g(!0);let e=await q(l()?.file,{maxSizeMB:.5,maxWidthOrHeight:1080}),t=await H(e),_=await(await fetch(t)).blob(),c=m?.cid+"/"+E()+E()+".webp";x(_,c)},B=e=>{i(e),u(!0)},C=()=>{i(null),u(!1)};return[a(h,{get when(){return!n()||!l()?.source},get children(){var e=Q(),t=e.firstChild;return p(t,a(Z,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"image_outline",label:"Subir Imagen",handleClick:B})),e}}),a(h,{get when(){return f(()=>!!n())()&&l()?.source},get children(){return[(()=>{var e=Y(),t=e.firstChild;return b(()=>V(t,"src",l()?.source)),e})(),a(h,{get when(){return f(()=>!!n())()&&!I()},get fallback(){return(()=>{var e=J(),t=e.firstChild;return p(e,a(te,{stroke:"rgb(200 25 60 / 1)",size:32}),t),e})()},get children(){var e=j(),t=e.firstChild,o=t.nextSibling,_=o.firstChild;return p(t,a(ee,{color:"#fa9514",icon:"reload",label:"Tomar imagen nuevamente",handleClick:C})),o.$$click=A,p(_,a(X,{name:"success",size:32,get color(){return w?.success?.svg}})),b(c=>L(o,w?.success,c)),e}}),G()]}})]}const ae=async(m,l)=>{let i={params:m,data2update:l},n=z(809004);return i={...i,...n},await F(i)};R(["click"]);export{me as default};
