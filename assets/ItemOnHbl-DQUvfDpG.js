const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-B3HXNVXc.js","assets/index-BsH4vb_L.js","assets/index-BmzAZVve.css","assets/SVG-BlkwGQm0.js","assets/ShowQR-BG41y6Qw.js","assets/ShowQRPrintLabel-hT7Cz09d.js","assets/PDFButton-BNuwWsqH.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-Bn0WCazU.js","assets/InitPrintServices-B0jgZ6qP.js","assets/Util-Ce3tbPYr.js","assets/Toast-C6yOCMLy.js","assets/Toast-DLpFKn-Q.css"])))=>i.map(i=>d[i]);
import{l as P,_ as p,c as Z,a as C,n as G,b as U,d as a,i as n,S as g,e as x,s as X,g as h,x as A,F as J,f as T,q as K,h as Y,t as m,B,m as H}from"./index-BsH4vb_L.js";import{t as E,a as ee,g as v,b as te,f as ie}from"./Util-Ce3tbPYr.js";import{OpenModal as re}from"./DialogHRM-CLz_lJ2_.js";import{g as ne}from"./ShowQRPrintLabel-hT7Cz09d.js";import{setTasks as ae,tasks as le}from"./FindHBL-CY7Q4l0q.js";import se from"./ItemHbl2Delivery-3BIX_tHT.js";import"./PDFButton-BNuwWsqH.js";import"./qrcode-C5vWJp7P.js";import"./fontkit.es-Bn0WCazU.js";import"./InitPrintServices-B0jgZ6qP.js";import"./Toast-C6yOCMLy.js";import"./InputHr-Dw6b5jqN.js";import"./SVG-BlkwGQm0.js";import"./FlexSpace-B3HXNVXc.js";/* empty css                             */import"./handelImagesServices-Dw83p5aA.js";import"./browser-image-compression-BVJ4p9S0.js";import"./ItemOnReports-By3FJEl4.js";import"./ContainerElasticView-DHDX19ue.js";import"./DashInventory-CHDuz64P.js";import"./App.module-CbHnVtRQ.js";var oe=m('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),ce=m('<div class="centerBx bottombx"><h5>'),me=m('<div class=" tr_bar_20 _dsplFlx"><div class="icon_status centerBx">'),ue=m('<p class="tr_bar_30 textleft fullName_consigne">'),de=m("<div style=margin-right:4vw>"),ge=m("<div class=bag_number><h5>"),_e=m("<div><div>"),he=m("<div>"),be=m('<div class="centerBx flxWrp spaceAround "><img ref width=200 alt=qr>'),ve=m('<div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class="_dsplFlx topbx centerBx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),fe=m('<div class=" resumeStatus icon_status centerBx"><div class=bottombx bottombx><h4>');const M=P(()=>p(()=>import("./FlexSpace-B3HXNVXc.js"),__vite__mapDeps([0,1,2]))),k=P(()=>p(()=>import("./SVG-BlkwGQm0.js"),__vite__mapDeps([3,1,2]))),ye=P(()=>p(()=>import("./ShowQR-BG41y6Qw.js"),__vite__mapDeps([4,1,2,5,6,7,8,9,10,11,12])));function We(e){const[w,_]=Z({}),[b,R]=C(""),[xe,N]=C(""),[D,F]=C(""),f=i=>i?" "+i:"",q=()=>{let i=e?.item?.consigneeInfo;return f(i?.firstName)+f(i?.middleName)+f(i?.lastName)+f(i?.lastName2)},Q=i=>{let r="";if(e?.item?.hblS){let u=e?.item?.hblS;r=`${e?.item?.idairguide}/${e?.item?.cidentity}/${u}`}let l={};l.id=v(),l.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},l.content=a(ye,{val:r,get item(){return e?.item}}),re(l)},z=i=>{let r=i,l="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const u=new RegExp(l);return r.length===13&&u.test(r)&&(r=r.slice(3,12)),r},y=(i,r)=>{R(r),N(i),setTimeout(()=>{N("")},300)},$=i=>{F(i),setTimeout(()=>{F("")},3e3)},V=async i=>{let r={timeStamp:new Date().getTime(),latitude:B?.latitude,longitude:B?.longitude,statusId:i,userId:H?.profile?.userId,userName:H?.profile?.name};if(e?.item?.idairguide){let l=e?.item?.statusHistory||[];l.push(r);let u={idairguide:"all",ssg_track_key:e?.item?.ssg_track_key},d=e?.item?.estate||e?.item?.consigneeInfo?.ybestate,S=e?.item?.city||e?.item?.consigneeInfo?.ybcity,I={idairnumber:e?.item?.idairnumber,estate:d,city:S,tracking:e?.currentHbl,currentStatus:i,timeStamp:new Date().getTime()};if(_(""),_(e?.item),$(v()),y("","success"),!A?.roles?.[d])y("","warning"),_({consigneeInfo:{ybestate:"Zona incorrecta"}}),$(v());else if(e?.item?.currentStatus!==r.statusId){let t={statusHistory:l,currentStatus:r.statusId};typeof e?.item?.guia=="number"&&(t.guia=e?.item?.guia+""),await $e(u,t),ae([...le(),I]),e?.newSear()}else y("","warning"),_({consigneeInfo:{ybcity:"Fue escaneado",ybestate:e?.item?.consigneeInfo?.ybestate}}),$(v())}else y("","error"),_({consigneeInfo:{ybestate:"Error con manifiesto"}}),$(v())};G(()=>{});const O=()=>B?.list?.filter(i=>i.id),[W,{refetch:we}]=U(e?.item?.bagnumber,async()=>{let i=e?.item?.hbls,r=i.map(d=>`${d.hbl}/${d.quantity}/${d.weight}`).join(""),l=`${e?.item?.idairguide}/${e?.item?.cidentity}/${i.length}/${r}`;return await ne(l)});return a(g,{get when(){return e?.item?.idairguide},get children(){var i=ve(),r=i.firstChild,l=r.nextSibling,u=l.firstChild,d=u.firstChild,S=d.nextSibling,I=S.nextSibling;return r.style.setProperty("padding","16px"),n(r,a(g,{get when(){return D()},get children(){var t=oe(),s=t.firstChild,o=s.nextSibling;return n(s,a(k,{get name(){return E?.[b()]?.icon},size:32,get color(){return E?.[b()]?.svg}})),n(o,()=>w?.consigneeInfo?.ybestate),x(c=>X(t,E?.[b()],c)),t}})),n(l,a(g,{get when(){return e?.item?.idairnumber},get children(){return[(()=>{var t=me(),s=t.firstChild;return n(s,a(k,{get name(){return ee("M023009")?.statusListIcons?.[e?.item?.currentStatus]},size:32})),n(t,a(g,{get when(){return!h()&&e?.item?.idairnumber},get children(){var o=ce(),c=o.firstChild;return n(c,()=>e?.item?.idairnumber),o}}),null),t})(),a(g,{get when(){return!h()},get children(){return[(()=>{var t=ue();return n(t,q),t})(),de()]}})]}}),u),n(l,a(M,{}),u),n(d,()=>e?.item?.consigneeInfo?.ybcity),n(I,()=>e?.item?.consigneeInfo?.ybestate),n(l,a(M,{}),null),n(l,a(g,{get when(){return!h()&&e?.item?.bagnumber},get children(){var t=_e(),s=t.firstChild;return n(s,a(g,{get when(){return e?.item?.bagnumber},get children(){var o=ge(),c=o.firstChild;return o.$$click=()=>Q(),n(c,()=>z(e?.item?.bagnumber)),o}})),t}}),null),n(i,a(g,{get when(){return!e?.showQR&&A?.roles?.HBLUPD?.isActive},get children(){var t=he();return n(t,a(J,{get each(){return O()},children:(s,o)=>(()=>{var c=fe(),L=c.firstChild,j=L.firstChild;return c.$$click=Se=>V(s.id),c.style.setProperty("padding","9px"),n(c,a(k,{get name(){return s.icon},size:24}),L),n(j,()=>h()?s.label:s.tag),c})()})),x(()=>T(t,h()?"":" bottombx flxWrp spaceAround centerBx")),t}}),null),n(i,a(g,{get when(){return e?.showQR},get children(){var t=be(),s=t.firstChild;return t.style.setProperty("padding","16px"),x(()=>K(s,"src",W())),t}}),null),n(i,a(g,{get when(){return A?.roles?.HBLCMPL?.isActive},get children(){return a(se,{get item(){return e?.item}})}}),null),x(t=>{var s=`client_item_box gWXAaj jlytmu ${h()?"isMobile":""}`,o=D()?"block":"none";return s!==t.e&&T(i,t.e=s),o!==t.t&&((t.t=o)!=null?r.style.setProperty("display",o):r.style.removeProperty("display")),t},{e:void 0,t:void 0}),i}})}const $e=async(e,w)=>{let _={params:e,data2update:w},b=te(809004);return _={..._,...b},await ie(_)};Y(["click"]);export{We as default};
