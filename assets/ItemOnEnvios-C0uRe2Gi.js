import{e as E,d as l,i as t,S as $,q as N,t as c,g as j,O as A,a as P,b as R,r as Y,w as K,K as B,h as M,y as H,L as W,M as L,F as z,v as X,W as Q,X as V,P as G,k as D}from"./index-nkWDr4DZ.js";import{F as S}from"./FlexSpace-D_MmVA8U.js";import{S as T}from"./ShowQR-D-EJAlkM.js";import J from"./ContainerElasticView-CTgUccWX.js";var U=c('<div class=" tr_bar_20 _dsplFlx"><div class="icon_status centerBx"></div><div class=bottombx><h5>'),Z=c('<div><div class="icon_status centerBx">'),p=c('<div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),ee=c("<div class=bag_number><h5>"),te=c('<div class="_dsplFlx "><div class="_dsplFlx bottombx"><p></p></div><p class="tr_bar_30 textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class="tr_bar_20 textleft">'),le=c('<div class="_dsplFlx bottombx"><h5>'),ie=c('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx topbx centerBx">');function ne(e){const r=s=>s?" "+s:"",m=()=>{let s=e?.item?.consigneeInfo;return r(s?.firstName)+r(s?.middleName)+r(s?.lastName)+r(s?.lastName2)},h=()=>{let s=e?.item?.consigneeInfo,b=r(s?.altPhoneNumber);return r(s?.phoneNumber)+(b?" |"+b:"")},f=()=>{let s=e?.item?.street.split(",");return s.slice(0,s.length-2).join(",")},y=()=>{let s=e?.item?.hbls.length;const b=e?.item?.hbls.reduce((x,v)=>x+`${x?"/":""}${v.hbl}/${v.quantity}/${v.weight}`,"");let a=`${e?.item?.idairguide}/${e?.item?.cidentity}/${s}/${b}`,d={};d.id=j(),d.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},d.content=l(T,{val:a,get item(){return e?.item}}),A(d)};return l($,{get when(){return e?.item?.tracking},get children(){var s=ie(),b=s.firstChild;return t(b,l($,{get when(){return e?.item?.tracking},get children(){return[(()=>{var a=U(),d=a.firstChild,x=d.nextSibling,v=x.firstChild;return t(d,l(N,{name:"alert",size:32,color:"var(--background-red-ssg)"})),t(v,()=>e?.item?.idairnumber),a})(),(()=>{var a=Z(),d=a.firstChild;return t(d,l(N,{name:"link-off",size:32,color:"var(--background-red-ssg)"})),a})(),(()=>{var a=p(),d=a.firstChild,x=d.nextSibling,v=x.nextSibling;return t(d,()=>e?.item?.consigneeInfo?.ybcity),t(v,()=>e?.item?.consigneeInfo?.ybestate),a})()]}}),null),t(b,l(S,{}),null),t(b,l($,{get when(){return e?.item?.bagnumber},get children(){var a=ee(),d=a.firstChild;return a.$$click=y,t(d,()=>e?.item?.bagnumber),a}}),null),t(s,l($,{get when(){return e?.item?.consigneeInfo?.ybcity},get children(){var a=te(),d=a.firstChild,x=d.firstChild,v=d.nextSibling,k=v.nextSibling,w=k.nextSibling;return t(x,f),t(a,l(S,{}),v),t(v,m),t(w,h),a}}),null),t(s,l($,{when:!1,get children(){var a=le(),d=a.firstChild;return t(a,l(S,{}),d),t(d,()=>e?.item?.nameshipper),t(a,l(S,{}),null),a}}),null),s}})}E(["click"]);var re=c("<div class=guide_number><h5>"),se=c('<div class=" tr_bar_10 _dsplFlx"><div class="icon_status centerBx">'),ae=c('<p class="tr_bar_30 textleft fullName_consigne">'),ce=c("<div style=margin-right:4vw>"),de=c('<h4 class="tr_bar_20 textleft">'),me=c("<div class=bag_number><h5>"),ue=c("<div class=bottombx><h5>"),ge=c("<div><div>"),he=c('<div class="icon_status centerBx">'),_e=c('<div class="_dsplFlx bottombx"><p></p><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),oe=c('<div class="_dsplFlx bottombx"><h5>'),$e=c("<ul class=inline><li>Movimientos</li><li>HBLS"),be=c("<div class=tab>"),ve=c('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx topbx centerBx">'),F=c("<div class=loader>Loading..."),O=c("<div>"),fe=c('<div class="centerBx bottombx"><h4 class=""></h4><h5>el <!> a las <!> por</h5><h4 class="">'),xe=c('<div class="centerBx bottombx"><h4 class=""></h4><h5> KG</h5><h4 class="">');function Me(e){const[r,m]=P(0),[h,f]=G(),y=n=>()=>f(()=>m(n)),s=n=>n?" "+n:"",b=()=>{let n=e?.item?.consigneeInfo;return s(n?.firstName)+s(n?.middleName)+s(n?.lastName)+s(n?.lastName2)},a=()=>{let n=e?.item?.consigneeInfo,_=s(n?.altPhoneNumber);return s(n?.phoneNumber)+(_?" |"+_:"")},d=()=>{let n=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let _=n.reduce((i,u)=>Math.min(i,u.timeStamp),1/0);return Math.floor((new Date().getTime()-_)/864e5)}else return null},x=async()=>{let n={ssg_track_key:e?.item?.ssg_track_key,idairguide:e?.item?.idairguide};console.log("sdfsa",n),await Ce(n),e?.refresh()},v=()=>{let n=e?.item?.street.split(",");return n.slice(0,n.length-2).join(",")},k=n=>{console.log(e?.item);let _="";if(n)_=n;else if(e?.item?.hblS){let u=e?.item?.hblS;_=`${e?.item?.idairguide}/${e?.item?.cidentity}/${u}`}let i={};i.id=j(),i.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},i.content=l(T,{val:_,get item(){return e?.item}}),A(i)},[w,{refetch:Ie}]=R(r,async n=>n===1?(await q(e?.item?.idairguide,e?.item?.ssg_track_key,["statusHistory"]))?.statusHistory:n===2?(await q(e?.item?.idairguide,e?.item?.ssg_track_key,["hbls"]))?.hbls:null);return e?.filter?l(ne,{get item(){return e?.item},get filter(){return e?.filter}}):l($,{get when(){return e?.item?.tracking},get children(){var n=ve(),_=n.firstChild;return t(_,l($,{get when(){return e?.item?.tracking},get children(){return[(()=>{var i=se(),u=i.firstChild;return t(u,l(N,{get name(){return Y?.[e?.item?.currentStatus]},size:32})),t(i,l($,{get when(){return d()},get children(){var g=re(),o=g.firstChild;return t(o,d),g}}),null),i})(),(()=>{var i=ae();return t(i,b),i})(),ce(),(()=>{var i=de();return t(i,a),i})()]}}),null),t(_,l(S,{}),null),t(_,l($,{get when(){return e?.item?.tracking},get children(){var i=ge(),u=i.firstChild;return t(u,l($,{get when(){return e?.item?.bagnumber},get children(){var g=me(),o=g.firstChild;return g.$$click=()=>k(null),t(o,()=>e?.item?.bagnumber),g}})),t(i,l($,{get when(){return e?.item?.tracking},get children(){var g=ue(),o=g.firstChild;return g.$$click=()=>k(e?.item?.tracking),t(o,()=>e?.item?.tracking),g}}),null),i}}),null),t(_,l($,{get when(){return!e?.item?.bagnumber||K?.profile?.isAdmin},get children(){var i=he();return i.$$click=x,t(i,l(N,{name:"outline_delete",size:24})),i}}),null),t(n,l($,{get when(){return e?.item?.consigneeInfo?.ybcity},get children(){var i=_e(),u=i.firstChild,g=u.nextSibling,o=g.firstChild,C=o.nextSibling,I=C.nextSibling;return t(u,v),t(i,l(S,{}),g),t(o,()=>e?.item?.consigneeInfo?.ybcity),t(I,()=>e?.item?.consigneeInfo?.ybestate),i}}),null),t(n,l($,{when:!1,get children(){var i=oe(),u=i.firstChild;return t(i,l(S,{}),u),t(u,()=>e?.item?.nameshipper),t(i,l(S,{}),null),i}}),null),t(n,l(J,{get children(){return[(()=>{var i=$e(),u=i.firstChild,g=u.nextSibling;return B(u,"click",y(1)),B(g,"click",y(2)),M(o=>{var C=r()===1,I=r()===2;return C!==o.e&&u.classList.toggle("selected",o.e=C),I!==o.t&&g.classList.toggle("selected",o.t=I),o},{e:void 0,t:void 0}),i})(),(()=>{var i=be();return t(i,l(H,{get fallback(){return F()},get children(){return l(W,{get children(){return[l(L,{get when(){return r()===1},get children(){return l(ye,{get statusHistory(){return w()},get tracking(){return e?.item?.tracking}})}}),l(L,{get when(){return r()===2},get children(){return l(ke,{get statusHistory(){return w()},get tracking(){return e?.item?.tracking}})}})]}})}})),M(()=>i.classList.toggle("pending",!!h())),i})()]}}),null),n}})}const ye=e=>l(H,{get fallback(){return F()},get children(){var r=O();return t(r,l(z,{get each(){return e?.statusHistory},children:m=>l(Se,{item:m})})),r}}),Se=e=>(()=>{var r=fe(),m=r.firstChild,h=m.nextSibling,f=h.firstChild,y=f.nextSibling,s=y.nextSibling,b=s.nextSibling;b.nextSibling;var a=h.nextSibling;return t(m,()=>X[e?.item?.statusId]),t(h,()=>Q(e?.item?.timeStamp),y),t(h,()=>V(e?.item?.timeStamp),b),t(a,()=>e?.item?.userId),r})(),ke=e=>l(H,{get fallback(){return F()},get children(){var r=O();return t(r,l(z,{get each(){return e?.statusHistory},children:m=>l(we,{item:m})})),r}}),we=e=>(()=>{var r=xe(),m=r.firstChild,h=m.nextSibling,f=h.firstChild,y=h.nextSibling;return t(m,()=>e?.item?.hbl),t(h,()=>e?.item?.weight,f),t(y,()=>e?.item?.namegood),r})(),Ce=async e=>{console.log(e);let r={params:e,query:"deleteLogisticYabaExpress"};const m=await D(r);return console.log(r),m?.data},q=async(e,r,m)=>{let h={params:{id:r,idairguide:e},fldsQry:m,query:"getLogisticOrderByKeyID"};const f=await D(h);return console.log(h),console.log(f),f?.data?.error?{}:f};E(["click"]);export{Me as default};
