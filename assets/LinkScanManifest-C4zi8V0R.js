const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DropDwnSearch-P3esQWD3.js","assets/index-MWcyRJ7Y.js","assets/index-BmzAZVve.css","assets/debounces-CWPhYdOE.js","assets/SVG-0DyuRqFt.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ScanningManifestManual-C6di8ty-.js","assets/DialogHRM-CX4AZT-W.js","assets/DialogHRM-V9_lZntj.css","assets/Toast-kUDxtYWW.js","assets/Toast-DLpFKn-Q.css","assets/Scanning-BuYoK8-S.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/FlexSpace-D2xE4IT5.js","assets/LoadingColorSpinner-CAQbMN22.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/ButonHrm-DYarANhh.js","assets/ButonHrm-BSeWNUGQ.css","assets/CheckBoxSlide-BotaVPeE.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{c as f,l as c,_ as d,a as k,u as q,a8 as D,k as T,r as Q,s as G,i as o,d as p,F as K,a9 as z,o as h,e as N,f as W,g as X,S as H,p as B,q as M,O as U,t as E,M as w,aa as J,X as Y}from"./index-MWcyRJ7Y.js";import{i as Z}from"./Scanning-BuYoK8-S.js";import"./App.module-CbHnVtRQ.js";import"./Toast-kUDxtYWW.js";import"./DialogHRM-CX4AZT-W.js";var tt=E('<div class=" bottombx lowbordr centerBx "style=padding-top:26px;><h5>Escaneados'),et=E('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Associar a el Manifiesto </h2></div><div class=centerBx100 style=margin-top:20px>'),st=E('<div style=background:#FFF;width:90%><div class="centerBx bottombx"><div class="icon_status centerBx"></div><h5 class=" centerBx "></h5><p class=" title_scan centerBx "></p></div><div class="centerBx bottombx"><h5></h5><div class=vertseparator></div><h4>');const[yt,bt]=f();c(()=>d(()=>import("./DropDwnSearch-P3esQWD3.js"),__vite__mapDeps([0,1,2,3,4,5])));const at=c(()=>d(()=>import("./ScanningManifestManual-C6di8ty-.js"),__vite__mapDeps([6,1,2,7,8,9,10,11,12,13]))),nt=c(()=>d(()=>import("./SVG-0DyuRqFt.js"),__vite__mapDeps([4,1,2]))),it=c(()=>d(()=>import("./FlexSpace-D2xE4IT5.js"),__vite__mapDeps([14,1,2])));c(()=>d(()=>import("./LoadingColorSpinner-CAQbMN22.js"),__vite__mapDeps([15,1,2,16])));const rt=c(()=>d(()=>import("./ButonHrm-DYarANhh.js"),__vite__mapDeps([17,1,2,4,18])));c(()=>d(()=>import("./CheckBoxSlide-BotaVPeE.js"),__vite__mapDeps([19,1,2,20])));const[ht,kt]=k(""),[S,vt]=k([]);function xt(){f({});const[e,a]=q(),[t,n]=f({search:""});f();const[u,l]=f(),_=D();f();const[m,dt]=k(""),[ut,O]=k("");T(()=>{R()}),Q(()=>{}),G(async()=>{if(await Z(),e?.mId){let s={id:e?.mId},i=await ot(s);O(e?.mId),n("manifestObj",i),l("linked",i?.linkedBags)}});function A(){return"geolocation"in navigator}function C(s){Y({latitude:s?.coords?.latitude,longitude:s?.coords?.longitude})}function R(){A()?navigator.geolocation.getCurrentPosition(C):showMessage("Geolocation isn't supported by your browser")}const F=async()=>{let s={...u?.linked};S().map(r=>{let b=r.ssg_track_key;s?.[b]||(s[b]={idairguide:"all"})}),l("linked",s);let i={ssg_manifest_key:e?.mId},y={linkedBags:s};if(w()){let r={params:i,data2update:y};J.post(r,function(g,v){g||console.log("Successfully posted")})}else await lt(i,y);_("/manifest",{replace:!0})};return(()=>{var s=et(),i=s.firstChild;i.firstChild;var y=i.nextSibling;return o(i,p(rt,{color:"#c8193c",label:"Associar Manifiesto",handleClick:F}),null),o(y,p(at,{get status(){return m()},get locat(){return m()}}),null),o(y,p(H,{get when(){return S()?.length>0},get children(){return[tt(),p(K,{get each(){return z(S(),"timeStamp",0)},children:(r,b)=>(()=>{var g=st(),v=g.firstChild,I=v.firstChild,x=I.nextSibling,L=x.nextSibling,P=v.nextSibling,$=P.firstChild,V=$.nextSibling,j=V.nextSibling;return o(I,p(nt,{get name(){return h("M023009")?.statusListIcons?.[r?.currentStatus]},size:32})),x.style.setProperty("padding","8px"),o(x,()=>r?.idairguide),L.style.setProperty("padding","8px"),o(L,()=>r?.tracking),o(g,p(it,{}),P),o($,()=>r?.city),o(j,()=>r?.consigneeInfo?.ybestate),N(()=>W(g,`client_item_box gWXAaj jlytmu manifest  ${X()?"isMobile":"centerBx"}`)),g})()})]}}),null),s})()}const ot=async e=>{let a={params:e};if(w()){let t={...h("manifestList")?.[e?.id]},n=[],u=h("alinkM")?.[e?.id]?.data2update?.linkedBags||{},l=Object.assign({},t?.linkedBags,u);return l&&Object.keys(l)?.map(async _=>{if(_){let m=h("manifestByKeys")?.[_];n.push(m)}}),t.linkedBagsInfo=n,t}else{let t=B(703003);return a={...a,...t},await M(a)}},lt=async(e,a)=>{let t={params:e,data2update:a},n=B(709002);t={...t,...n};const u=await M(t),l=U(a?.linkedBags).map(async(_,m)=>{await ct({ssg_track_key:_,idairguide:"all"},{currentManifestKey:e?.ssg_manifest_key})});return await Promise.all(l),u},ct=async(e,a)=>{let t={params:e,data2update:a},n=B(809004);return t={...t,...n},await M(t)};export{xt as default,S as manifestScan,yt as scannedQRs,vt as setManifestScan,bt as setScannedQRs,kt as setStatus,ht as status,lt as updLinkedBags};
