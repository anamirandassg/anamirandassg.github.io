const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-r-UDW8xr.js","assets/index-d383HIyr.js","assets/index-BmzAZVve.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-BEz74UQM.js","assets/debounces-DOSNyJ7h.js","assets/SVG-CvA555w4.js","assets/index-Ci0zXM0r.js","assets/DropDwnSearch-DMkLkRPc.css","assets/FlexSpace-C9SLCIF8.js","assets/InputHr-DUiN2H00.js","assets/InputHr-M3rJ9grQ.css"])))=>i.map(i=>d[i]);
import{l as x,_ as y,u as N,c as k,a as R,o as V,j as q,n as z,i,d as a,S as _,w as Q,F as T,E as H,e as D,s as Y,g as p,f as E,h as G,t as g,x as M}from"./index-d383HIyr.js";import{x as J,b as j,f as A,e as X,a as L}from"./Util-DMUIj5ci.js";import{u as K}from"./debounces-DOSNyJ7h.js";import U from"./ButonHrm-D-M6DAwF.js";import"./index-Ci0zXM0r.js";/* empty css                 */import"./SVG-CvA555w4.js";var F=g("<h5>"),Z=g('<div class=bottombx style=padding:16px><div class="_dsplFlx flxWrp spaceAround centerBx"><h4></h4>|<h4>'),ee=g("<div><div>"),W=g("<div> "),te=g("<div> <!>."),re=g('<div class="bottombx flxWrp spaceAround centerBx"><h4></h4><div class="icon_status centerBx">'),ie=g('<div class="bottombx flxWrp spaceAround centerBx"><h4>'),ne=g('<div class="icon_status centerBx">'),ae=g("<h5 class=rpto>"),se=g('<div><div class=" flxWrp centerBx "style=" margin:0 auto;;padding:8px 9px;"><div class="bag_number centerBx"><div class="icon_status centerBx"></div><h5></h5></div><div class=bottombx><div class="_dsplFlx flxWrp spaceAround centerBx"><h5></h5></div></div></div><div><p class=" textleft "></p><div class=vertseparator>');const P=x(()=>y(()=>import("./LoadingColorSpinner-r-UDW8xr.js"),__vite__mapDeps([0,1,2,3])));x(()=>y(()=>import("./DropDwnSearch-BEz74UQM.js"),__vite__mapDeps([4,1,2,5,6,7,8])));const O=x(()=>y(()=>import("./FlexSpace-C9SLCIF8.js"),__vite__mapDeps([9,1,2])));x(()=>y(()=>import("./InputHr-DUiN2H00.js"),__vite__mapDeps([10,1,2,11])));const C=x(()=>y(()=>import("./SVG-CvA555w4.js"),__vite__mapDeps([6,1,2,7])));function be(){const[r,u]=N(),[t,l]=k({search:""});k();const[h,s]=k(),[v,$]=k(),[B,S]=R("");K(S,400),V(()=>{}),q(()=>{});const b=async()=>{if(r?.mId&&!t?.province){let m={id:r?.mId},d=await de(m);l("province",d?.province),l("city",d?.city),l("manifestObj",void 0),s("linked",void 0),l("manifestObj",d),s("linked",{...d?.linkedBags})}};z(async()=>{let m=[];[33,46,40,41,42,50,52,54,56].map(o=>{let e=o,c=L("M023009")?.whStList?.[e];M?.roles?.[c?.id]?.isActive&&m.push(c)}),$("list",m);let n=[];L("M023009")?.provincias.map(o=>{let e=o.label;M?.roles?.[e]?.isActive&&n.push(o)}),$("prov",n),b()});const w=async()=>{await ce({ssg_manifest_key:r?.mId},{linkedBags:t?.manifestObj?.linkedBags}),b()};return(()=>{var m=ee(),d=m.firstChild;return i(m,a(_,{get when(){return t?.manifestObj?.province},get fallback(){return(()=>{var n=W();return n.firstChild,i(n,a(P,{stroke:"rgb(200 25 60 / 1)",size:62}),null),n})()},get children(){var n=Z(),o=n.firstChild,e=o.firstChild,c=e.nextSibling,f=c.nextSibling;return i(e,()=>t?.manifestObj?.name),i(o,a(_,{get when(){return t?.manifestObj?.city},get children(){return["|",(()=>{var I=F();return i(I,()=>t?.manifestObj?.city),I})()]}}),c),i(f,()=>t?.manifestObj?.province),i(o,a(_,{get when(){return!J(t?.manifestObj?.linkedBags,h?.linked)},get children(){return a(U,{color:"#c8193c",label:"updManifest",handleClick:w})}}),null),n}}),d),i(d,a(H,{fallback:n=>(()=>{var o=te(),e=o.firstChild,c=e.nextSibling;return c.nextSibling,i(o,()=>n.toString(),c),o})(),get children(){return a(Q,{get fallback(){return(()=>{var n=W();return n.firstChild,i(n,a(P,{stroke:"rgb(200 25 60 / 1)",size:62}),null),n})()},get children(){return a(_,{get when(){return t?.manifestObj?.linkedBagsInfo?.length>0},get children(){return a(T,{get each(){return t?.manifestObj?.linkedBagsInfo},children:n=>a(le,{item:n,get city(){return t?.manifestObj?.city},get manifestObj(){return t?.manifestObj},get isAlready(){return t?.manifestObj?.linkedBags?.[n.ssg_track_key]},setFormsM:l})})}})}})}})),D(n=>Y(d,` ${p(),"width:86vw;"} margin: 0 auto;`,n)),m})()}const le=r=>{const u=()=>{let s=r?.item?.street.split(",");return s.slice(0,s.length-2).join(",")},t=s=>s?" "+s:"",l=()=>{let s=r?.item?.consigneeInfo;return t(s?.firstName)+t(s?.middleName)+t(s?.lastName)+t(s?.lastName2)},h=s=>{r?.item?.currentStatus!=="99"&&r?.setFormsM("manifestObj","linkedBags",r?.item?.ssg_track_key,void 0)};return a(_,{get when(){return r?.manifestObj?.linkedBags[r?.item?.ssg_track_key]},get children(){var s=se(),v=s.firstChild,$=v.firstChild,B=$.firstChild,S=B.nextSibling,b=$.nextSibling,w=b.firstChild,m=w.firstChild,d=v.nextSibling,n=d.firstChild,o=n.nextSibling;return i(s,a(_,{get when(){return p()},get children(){var e=re(),c=e.firstChild,f=c.nextSibling;return i(c,l),i(e,a(O,{}),f),f.$$click=h,i(f,a(C,{name:"outline_delete",size:28,color:"var(--background-red-ssg)"})),e}}),v),i(B,a(C,{name:"open_package_file_outline",size:20})),i(S,()=>r?.item?.bagnumber),i(v,a(_,{get when(){return!p()},get children(){var e=ie(),c=e.firstChild;return i(c,l),e}}),b),i(v,a(O,{}),b),i(m,()=>r?.item?.idairguide),i(v,a(_,{get when(){return!p()},get children(){var e=ne();return e.$$click=h,i(e,a(C,{get name(){return r?.item?.currentStatus==="YABA_99"?"check_circle":"outline_delete"},size:24,get color(){return r?.item?.currentStatus==="YABA_99"?"var(--hrm-palette-tertiary60)":"var(--background-red-ssg)"}})),e}}),null),i(n,u),i(d,a(O,{}),o),i(d,a(_,{get when(){return r?.item?.consigneeInfo?.ybreparto},get children(){return[(()=>{var e=ae();return i(e,()=>r?.item?.consigneeInfo?.ybreparto),e})(),"|"]}}),o),i(d,a(_,{get when(){return!r?.city&&r?.item?.city},get children(){var e=F();return i(e,()=>r?.item?.city),e}}),null),D(e=>{var c=`client_item_box gWXAaj jlytmu manifest ${p()?"isMobile":""}`,f=` ${p(),"centerBx"} bottombx flxWrp  centerBx`;return c!==e.e&&E(s,e.e=c),f!==e.t&&E(d,e.t=f),e},{e:void 0,t:void 0}),s}})},ce=async(r,u)=>{let t={params:r,data2update:u},l=j(709002);return t={...t,...l},await A(t)},de=async r=>{let u={params:r},t=j(703003);u={...u,...t};const l=await A(u);return console.log(u),console.log(l),l},pe=async r=>{let u=[];r.map(t=>{let l={params:{id:t?.ssg_track_key,idairguide:"all"}},h=j(802002);l={...l,...h},u.push(l)}),X(u,oe)},oe=async r=>{const t=await A(r);if(t)return t};G(["click"]);export{be as default,oe as fetchCSVInve,pe as loadManifest,ce as updLinkedBags};
