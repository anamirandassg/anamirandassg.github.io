const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-ZuIl_VRM.js","assets/index-CMPFS5l3.js","assets/index-CaL-WNrg.css","assets/SVG-Bw-dPoFc.js","assets/Util-7ERmh4Cp.js","assets/LoadingColorSpinner-DdRS_GH9.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-DWNR00eQ.js","assets/InputHr-BXFw4d2l.css","assets/ButonHrm-DIUBNgu5.js","assets/ButonHrm-BSeWNUGQ.css","assets/PickDate-CLYzeVzI.js","assets/DialogHRM-1fBgaf-_.js","assets/DialogHRM-V9_lZntj.css"])))=>i.map(i=>d[i]);
import{d as q,l as A,_ as O,c as T,a as g,o as re,b as te,e as K,i as s,f as t,S as z,g as S,h as J,s as oe,t as C,j as le}from"./index-CMPFS5l3.js";import{g as I,f as B,i as se,a as x,b as j,O as W,c as ne}from"./Util-7ERmh4Cp.js";import"./browser-image-compression-BVJ4p9S0.js";import{OpenToast as D}from"./Toast-DS_YK2AF.js";import"./AddInventory-DqMfkdtO.js";import"./PDFButton-DXdwVZ_H.js";import"./fontkit.es-hw3Kqgbm.js";import"./qrcode-DHy8FFhS.js";import{u as R}from"./debounces-B1ypXRVS.js";/* empty css                */import{OpenModal as ae}from"./DialogHRM-1fBgaf-_.js";import"./DashProducts-5qP7Cp-q.js";import"./App.module-CbHnVtRQ.js";import"./FlexSpace-ZuIl_VRM.js";q(["keydown","input"]);var ie=C('<div style="padding:50px 0 0 0"><section class="qsuVSc mainM">'),ce=C('<section class="bLl6je "><section class="dvPdhb "><div class="QCNFEe centerBx"><p class=jhB0af>Confirmar</p></div><section class="EMijzc centerBx">'),de=C("<section class=Mijzc12>"),be=C('<section class=KgyCAd><section class=WirBi><div class="QCNFEe centerBx"><p class=jhB0af>Quien envia</p><section class=JpKBkb><button class=yjHiqb><span>Buscar coincidencias</span></button></section></div><section class="EMijzc "><section class="Mijzc12 "></section><section class=Mijzc12>'),w=C('<section class="Mijzc12 centerBx flxWrp spaceAround">'),Y=C("<div class=separator>"),ue=C('<section class="rtS8wf InvE "><div class=X3QHFf><section class=WirBi><section class=""><div class="QCNFEe centerBx"><p class=jhB0af>Quien recibe</p><section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Buscar coincidencias</span></button></section></section></div><div class=" centerBx flxWrp spaceAround"></div><section class="Mijzc12 centerBx "></section><section class="EMijzc centerBx"><section class=pFJUxe><section class=DHk3Fe>'),fe=C('<div class=save><div class="container savings"><div class="bento-text standardSubheading3">'),pe=C('<div><div class=QCNFEe><p class=jhB0af>Confirmar Orden</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Desea enviar la orden</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">');const M=A(()=>O(()=>import("./FlexSpace-ZuIl_VRM.js"),__vite__mapDeps([0,1,2]))),me=A(()=>O(()=>import("./SVG-Bw-dPoFc.js"),__vite__mapDeps([3,1,2,4])));A(()=>O(()=>import("./LoadingColorSpinner-DdRS_GH9.js"),__vite__mapDeps([5,1,2,6])));const m=A(()=>O(()=>import("./InputHr-DWNR00eQ.js"),__vite__mapDeps([7,1,2,8]))),U=A(()=>O(()=>import("./ButonHrm-DIUBNgu5.js"),__vite__mapDeps([9,1,2,3,4,10]))),ve=A(()=>O(()=>import("./PickDate-CLYzeVzI.js"),__vite__mapDeps([11,1,2,12,13,4]))),[Fe,Le]=T({items:{}}),Qe="348723orh2idsffs";let G={name:"",phoneNumberS:"",dob:""},X={firstName:"",lastName:"",lastName2:"",middleName:"",email:"",phoneNumber:"",altPhoneNumber:"",cid:"",ybstreetNo:"",ybstreet:"",ybbetwen1:"",ybbetwen2:"",ybapt:"",ybreparto:""};const[N,L]=T(G),[f,Q]=T(X);function Te(){g(0),g("");const[n,r]=g("");R(r,400),re(()=>{}),te(()=>{}),K(()=>{o()});const o=async()=>{};return(()=>{var d=ie(),e=d.firstChild;return s(e,t(he,{}),null),s(e,t(ge,{}),null),s(e,t(Ce,{}),null),d})()}const he=n=>{const r=async e=>{let l=new Date,b=x(),h=Object.assign({},j(N),j(f)),p={type:"SALES",invoice:l.getFullYear()+ne(12),description:"",store:S?.profile?.agencyStore?.id,ssg_inventory_key:b,ssg_sorder_key:b,createDate:l.getTime(),shipper_consignee:h,packagesOrder:!0,businessId:S?.profile?.businessYId},_={params:{businessId:S?.profile?.businessYId},form:p},i=I(431005),u={..._,...i};const v=await B(u);console.log(u),console.log(v),v?.error||(Q(X),L(G))},o=()=>{let e=x(),l={};l.id=e,l.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},l.content=t(ke,{modalId:e,completeOrder:()=>r()}),ae(l)},d=()=>{let e=Object.assign({},j(N),j(f));return e.name&&e.phoneNumberS&&e.phoneNumber&&e.cid&&e.firstName&&e.lastName&&e.lastName2&&e.ybstreet};return(()=>{var e=ce(),l=e.firstChild,b=l.firstChild,h=b.nextSibling;return s(h,t(M,{}),null),s(h,t(z,{get when(){return d()},get children(){return t(U,{color:"#1967d2",label:"Enviar Orden",icon:"outline_cart",handleClick:o})}}),null),e})()},ge=n=>{const[r,o]=g(""),[d,e]=g(0),l=R(o,400),b=async()=>{let p=N?.phoneNumberS;if(!(typeof p!="number"&&!isNaN(p)&&p.length===10)){D({text:p+" no es un numero de telefono valido ",timeout:3500,theme:"red",id:x()}),e(1);return}let i=await _e(p),u=W(i)?.[0];if(i?.[u]?.name?.toLowerCase()?.indexOf(N?.name?.toLowerCase())>=0)console.log(i[u]),L({dob:i?.[u]?.dob,name:i?.[u]?.name,phoneNumberS:i?.[u]?.phoneNumber}),e(1);else{D({text:" la informacion no coincide ",timeout:3500,theme:"red",id:x()}),e(1);return}},h=(p,_)=>{L({[p]:_}),l(x())};return(()=>{var p=be(),_=p.firstChild,i=_.firstChild,u=i.firstChild,v=u.nextSibling,y=v.firstChild,$=i.nextSibling,E=$.firstChild,P=E.nextSibling;return s(i,t(M,{}),v),y.$$click=b,s($,t(Z,{label:"buscar coincidencias con su numero de telefono y apellido",icon:"info",backColor:"#edf4fd",color:"#1967d2"}),E),s(E,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"numero de telefono",colors:"#2b2b2b",type:"number",handleClick:k=>h("phoneNumberS",k),get value(){return N?.phoneNumberS}})),s(P,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Apellido",colors:"#2b2b2b",handleClick:k=>h("name",k),get value(){return N?.name}})),s($,t(z,{get when(){return d()},get children(){var k=de();return s(k,t(ve,{get init(){return N?.dob},label:"Fecha de nacimiento",updDate:F=>h("dob",F)})),k}}),null),p})()},Ce=n=>{const[r,o]=g(""),d=R(o,400),e=(i,u)=>{Q({[i]:u}),d(x())};g("");const[l,b]=g(0),[h,p]=g("");K(()=>{p(S?.profile?.agencyStore?.id)});const _=async()=>{let i=f?.cid;if(!(typeof i!="number"&&!isNaN(i)&&i.length===11)){D({text:i+" no es un carnet de identidad valido ",timeout:3500,theme:"red",id:x()});return}let v=await ye(i),y=W(v)?.[0];if(v[y]?.cid)console.log(v[y]),Q(v[y]),b(1);else{b(1),D({text:"no encontramos ninguna coincidencia ",timeout:3500,theme:"red",id:x()});return}};return(()=>{var i=ue(),u=i.firstChild,v=u.firstChild,y=v.firstChild,$=y.firstChild,E=$.firstChild,P=E.nextSibling,k=P.firstChild,F=k.firstChild,V=$.nextSibling,H=V.nextSibling,ee=H.nextSibling;return s($,t(M,{}),P),F.$$click=_,s(V,t(Z,{label:"buscar coincidencias con el carnet identidad",icon:"info",backColor:"#edf4fd",color:"#1967d2"})),s(H,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",colors:"#2b2b2b",label:"carnet de identidad",handleClick:a=>e("cid",a),get value(){return f?.cid}})),s(y,t(z,{get when(){return l()===1},get children(){return[(()=>{var a=w();return s(a,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",colors:"#2b2b2b",label:"1er nombre",handleClick:c=>e("firstName",c),get value(){return f?.firstName}}),null),s(a,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"2do nombre",colors:"#2b2b2b",handleClick:c=>e("middleName",c),get value(){return f?.middleName}}),null),a})(),(()=>{var a=w();return s(a,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"1er Apellido",colors:"#2b2b2b",handleClick:c=>e("lastName",c),get value(){return f?.lastName}}),null),s(a,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"2do Apellido",colors:"#2b2b2b",handleClick:c=>e("lastName2",c),get value(){return f?.lastName2}}),null),a})(),Y(),(()=>{var a=w();return s(a,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Telefono Principal",colors:"#2b2b2b",handleClick:c=>e("phoneNumber",c),get value(){return f?.phoneNumber}}),null),s(a,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Telefono Alternativo",colors:"#2b2b2b",handleClick:c=>e("altPhoneNumber",c),get value(){return f?.altPhoneNumber}}),null),a})(),Y(),(()=>{var a=w();return s(a,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Calle",colors:"#2b2b2b",handleClick:c=>e("ybstreet",c),get value(){return f?.ybstreet}}),null),s(a,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"No",colors:"#2b2b2b",handleClick:c=>e("ybstreetNo",c),get value(){return f?.ybstreetNo}}),null),a})(),(()=>{var a=w();return s(a,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Entre calle",colors:"#2b2b2b",handleClick:c=>e("ybbetwen1",c),get value(){return f?.ybbetwen1}}),null),s(a,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Y calle",colors:"#2b2b2b",handleClick:c=>e("ybbetwen2",c),get value(){return f?.ybbetwen2}}),null),a})(),(()=>{var a=w();return s(a,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",label:"Reparto",colors:"#2b2b2b",handleClick:c=>e("ybreparto",c),get value(){return f?.ybreparto}})),a})()]}}),ee),i})()},ze=async(n,r)=>{let o={params:{businessId:S?.profile?.businessYId}};n&&n.split(" ").map((l,b)=>{l&&(o.params[":search"+b]=l.trim())});let d=I(122001);o={...o,...d},o.params[":search0"];const e=await B(o);return e?.error?{}:e},Re=n=>new Promise((r,o)=>{se.get(n,function(e,l){r(l)})}),Ve=async(n,r)=>{let o={params:{businessId:S?.profile?.businessYId,":store":r.trim()}};n&&n.split(" ").map((l,b)=>{l&&(o.params[":search"+b]=l.trim())});let d=I(132001);o={...o,...d},o.params[":search0"];const e=await B(o);return e?.error?{}:e},_e=async n=>{if(n.length===10){let r={params:{}};n&&n.split(" ").map((e,l)=>{e&&(r.params[":search"+l]=e.trim())});let o=I(421001);return r={...r,...o},await B(r)}else return{}},ye=async n=>{if(n.length===11){let r={params:{}};n&&n.split(" ").map((e,l)=>{e&&(r.params[":search"+l]=e.trim())});let o=I(401001);return r={...r,...o},await B(r)}else return{}},Z=n=>{const r=()=>({"--bento-badge-background-color":n?.backColor,"--bento-badge-text-color":n?.color});return(()=>{var o=fe(),d=o.firstChild,e=d.firstChild;return s(d,t(me,{get name(){return n.icon},size:16,color:"var(--bento-badge-text-color)"}),e),s(e,()=>n.label),J(l=>oe(o,r(),l)),o})()};function ke(n){return(()=>{var r=pe(),o=r.firstChild,d=o.nextSibling,e=d.nextSibling,l=e.nextSibling;return r.style.setProperty("max-height","80vh"),r.style.setProperty("overflow","auto"),r.style.setProperty("background","#fff"),r.style.setProperty("border-radius","11px"),r.style.setProperty("padding"," 0 21px"),s(l,t(M,{}),null),s(l,t(U,{color:"#646cff",icon:"send",label:"Completar Orden",get handleClick(){return n.completeOrder}}),null),J(b=>(b=le()?"96vw":"420px")!=null?r.style.setProperty("width",b):r.style.removeProperty("width")),r})()}q(["click"]);export{Ve as LookupInventory,ze as LookupProducts,Te as default,Re as getCartId,Fe as inventoryItems,Qe as inventoryKey,Le as setInventoryItems};
