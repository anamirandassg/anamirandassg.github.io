const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-CtJ039qE.js","assets/index-Du-T8lqp.js","assets/index-DvBVPk7j.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-BUiUSj-h.js","assets/debounces-BaDtmQbF.js","assets/SVG-uh0oN_E0.js","assets/Util-C4Gv2Rs-.js","assets/DropDwnSearch-DMkLkRPc.css","assets/FlexSpace-BBTawuvh.js","assets/ButonHrm-CQwlFjWI.js","assets/ButonHrm-BSeWNUGQ.css","assets/UpdInventory-KTVNpZT0.js","assets/DialogHRM-B5-a-GR7.js","assets/DialogHRM-V9_lZntj.css","assets/DashProducts-Be5aekXS.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InputHr-XdlhAl07.js","assets/InputHr-M3rJ9grQ.css"])))=>i.map(i=>d[i]);
import{l as S,_ as $,p as ct,c as D,a as dt,o as ft,k as ht,b as tt,i as f,d as P,F as ut,S as et,w as xt,e as mt,s as pt,h as _t,t as Y,n as bt}from"./index-Du-T8lqp.js";import{d as v,e as H,c as J,f as N,j as wt}from"./Util-C4Gv2Rs-.js";import{u as yt}from"./debounces-BaDtmQbF.js";import"./DialogHRM-B5-a-GR7.js";import{g as Tt,a as gt}from"./handelImagesServices-CwO-yTQF.js";import"./DashInventoryMov-eNA1CyG7.js";import{LookupProducts as vt}from"./DashProducts-Be5aekXS.js";import{P as St,S as M,r as i}from"./PDFButton-CCQT0yk3.js";import{f as $t}from"./fontkit.es-BaZy4qZc.js";import{b as zt}from"./InitPrintServices-COQVt4ve.js";import"./qrcode-DHy8FFhS.js";import"./Toast-BuOEiF8b.js";import"./browser-image-compression-BVJ4p9S0.js";import"./App.module-CbHnVtRQ.js";let t=0;const At=async s=>{const o=await St.create();o.registerFontkit($t);var a=await o.embedFont(M.TimesRoman),l=await o.embedFont(M.TimesRomanBold),n=await o.embedFont(M.TimesRomanBold);if(v("modernFontReport")){let d=v("Roboto-Bold.ttf");const B=await fetch(d).then(g=>g.arrayBuffer());l=await o.embedFont(B);let q=v("ggSans-Italic.ttf");const U=await fetch(q).then(g=>g.arrayBuffer());a=await o.embedFont(U);let G=v("ggSans-Medium.ttf");const k=await fetch(G).then(g=>g.arrayBuffer());n=await o.embedFont(k)}let e=o.addPage();const{width:u,height:c}=e.getSize(),r=10;t=c-40;const h=n.widthOfTextAtSize(s?.invoice,12),b=a.widthOfTextAtSize("Invoice: ",11);e.drawText("Invoice: ",{x:580-h-b,y:t,size:11,font:a,color:i(0,0,0)}),e.drawText(s?.invoice,{x:580-h,y:t,size:12,font:n,color:i(0,0,0)});let x=c-30,m=v("storeGroupBy")?.[s?.store]?.label;e.drawText(m,{x:20,y:x,size:13,font:l,color:i(0,0,0)}),t=t-20;let z=s?.createDate;const w=a.widthOfTextAtSize("Fecha: ",11),y=l.widthOfTextAtSize(H(z)+"",12);e.drawText("Fecha: ",{x:580-w-y,y:t,size:11,font:a,color:i(0,0,0)}),e.drawText(H(z)+"",{x:580-y,y:t,size:12,font:l,color:i(.06,.06,.06)}),t=t-20;let p=v("providers_ids")?.[s?.customer?.providerId]?.name||"";if(p){const d=a.widthOfTextAtSize("Bill To: ",11),B=l.widthOfTextAtSize(p+"",12);e.drawText("Bill To: ",{x:580-d-B,y:t,size:11,font:a,color:i(0,0,0)}),e.drawText(p+"",{x:580-B,y:t,size:12,font:l,color:i(0,0,0)})}t=t-50,e.drawRectangle({x:15,y:t+1,width:560,height:.85,color:i(.53,.53,.53),borderColor:i(.53,.53,.53)}),e.drawText(s?.description+"",{x:20,y:t-11,size:10,font:a,color:i(0,0,0)}),t=t-20,e.drawRectangle({x:15,y:t+1,width:560,height:.85,color:i(.53,.53,.53),borderColor:i(.53,.53,.53)}),t=t-18,e.drawText("Producto",{x:20,y:t,size:13,font:l,color:i(0,0,0)});const A=l.widthOfTextAtSize("Qty",12);e.drawText("Qty",{x:400-A,y:t,size:12,font:l,color:i(0,0,0)});const C=l.widthOfTextAtSize("Precio",12);e.drawText("Precio",{x:480-C,y:t,size:12,font:l,color:i(0,0,0)});const F=l.widthOfTextAtSize("Total",12);e.drawText("Total",{x:560-F,y:t,size:12,font:l,color:i(0,0,0)}),t=t-8,e.drawRectangle({x:15,y:t+1,width:560,height:.95,color:i(.53,.53,.53),borderColor:i(.53,.53,.53)});let _=s?.products||[];Array.isArray(_)&&_.map((d,B)=>{const q=d?.product?.label;t=t-16,q&&e.drawText(q+"",{x:20,y:t,size:r,font:a,color:i(0,0,0)});let U=d?.qty?(d?.qty*-1).toFixed(2):"0.00";const G=a.widthOfTextAtSize(U+"",r);e.drawText(U+"",{x:400-G,y:t,size:r,font:a,color:i(0,0,0)});let k=d?.qty?(d?.salePrice*1).toFixed(2):"0.00";const g=a.widthOfTextAtSize(k+"",r);e.drawText(k+"",{x:480-g,y:t,size:r,font:a,color:i(0,0,0)});let Z=d?.qty?(d?.salePrice*d?.qty*-1).toFixed(2):"0.00";const rt=a.widthOfTextAtSize(Z+"",r);e.drawText(Z+"",{x:560-rt,y:t,size:r,font:a,color:i(0,0,0)})}),t=t-28,e.drawRectangle({x:15,y:t+1,width:560,height:.85,color:i(.53,.53,.53),borderColor:i(.53,.53,.53)});let T=500;t=t-20;let I=s?.amount?s?.amount?.toFixed(2):"0.00";const W=a.widthOfTextAtSize(I+"",r);e.drawText(I+"",{x:560-W,y:t,size:r,font:a,color:i(.13,.13,.13)});const L=a.widthOfTextAtSize("SubTotal",r);e.drawText("SubTotal",{x:T-L,y:t,size:r,font:a,color:i(0,0,0)}),t=t-16;let E=s?.hasTax?s?.hasTax?.toFixed(2):"0.00";const j=a.widthOfTextAtSize(E+"",r);e.drawText(E+"",{x:560-j,y:t,size:r,font:a,color:i(.13,.13,.13)});const Q=a.widthOfTextAtSize("Taxes",r);e.drawText("Taxes",{x:T-Q,y:t,size:r,font:a,color:i(0,0,0)});let O=s?.hasTax?s?.hasTax+s?.amount:s?.amount*1;t=t-16;let R=O?O?.toFixed(2):"0.00";const at=n.widthOfTextAtSize(R+"",11);e.drawText(R+"",{x:560-at,y:t,size:11,font:n,color:i(0,0,0)});const st=n.widthOfTextAtSize("Total",11);e.drawText("Total",{x:T-st,y:t,size:11,font:n,color:i(0,0,0)}),t=t-16;let V=s?.hasAdvancePay?(s?.hasAdvancePay*-1).toFixed(2):"0.00";const it=a.widthOfTextAtSize(""+V,11);e.drawText(""+V,{x:560-it,y:t,size:11,font:a,color:i(.13,.13,.13)});const ot=a.widthOfTextAtSize("Advance Payment",11);e.drawText("Advance Payment",{x:T-ot,y:t,size:11,font:a,color:i(0,0,0)});let K=O+V*1;t=t-16;let X=K?K?.toFixed(2):"0.00";const lt=n.widthOfTextAtSize(X+"",11);e.drawText(X+"",{x:560-lt,y:t,size:11,font:n,color:i(0,0,0)});const nt=n.widthOfTextAtSize("Balance Due",11);e.drawText("Balance Due",{x:T-nt,y:t,size:11,font:n,color:i(0,0,0)});{const d=await o.save();return zt(d)}};var Ct=Y('<div style="padding:50px 0"><section class=qsuVSc><section class=bLl6je><section class=dvPdhb></section></section><section class=KgyCAd>'),Ot=Y('<section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b"><div class=kDdWge><div class=QCNFEe><p class=jhB0af>Summario de la orden</p></div><div class=qntUl><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Subtotal</span><span data-test-integ-cart-subtotal-value="">$</span></p><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Estimated tax</span><span data-test-integ-cart-subtotal-value="">$</span></p><p class=B7xUP><span data-test-integ-cart-subtotal-label=""class=OGw7rb>Estimated total</span><span data-test-integ-cart-subtotal-value=""class=OGw7rb> $</span></p></div></div><div class=oPYFfd><section class=BQHvme><section class=wo08ff><span class=PwY8l2>Fecha:</span><span class=PwY8l33> </span></section><section class=wo08ff><span class=PwY8l2>Invoice:</span><span class=PwY8l33></span></section><section class=wo08ff><span class=PwY8l2>Almacen:</span><span class=PwY8l33> </span></section></section></div><section class=JM2zDb>'),Pt=Y('<section class=dEfaq><section><button class="yjHiqb wv2Pxc"jsaction=click:A4e0fe data-line-number=1 data-test-sfl-btn=1 aria-label="Move Nest Doorbell (wired, 2nd gen) (Snow) from cart to save for later cart."><span>Save for later</span></button></section><section class=JpKBkb><button class=yjHiqb jsaction=click:IY6UFe data-line-number=1 data-selected-quantity=1 data-test-remove-btn=1 aria-label="Remove Nest Doorbell (wired, 2nd gen) (Snow) from cart"><span>Remove'),Ft=Y('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$');S(()=>$(()=>import("./LoadingColorSpinner-CtJ039qE.js"),__vite__mapDeps([0,1,2,3])));S(()=>$(()=>import("./DropDwnSearch-BUiUSj-h.js"),__vite__mapDeps([4,1,2,5,6,7,8])));S(()=>$(()=>import("./FlexSpace-BBTawuvh.js"),__vite__mapDeps([9,1,2])));const It=S(()=>$(()=>import("./ButonHrm-CQwlFjWI.js"),__vite__mapDeps([10,1,2,6,7,11])));S(()=>$(()=>import("./UpdInventory-KTVNpZT0.js"),__vite__mapDeps([12,1,2,7,13,14,5,15,16,17,9])));S(()=>$(()=>import("./InputHr-XdlhAl07.js"),__vite__mapDeps([18,1,2,19])));S(()=>$(()=>import("./SVG-uh0oN_E0.js"),__vite__mapDeps([6,1,2,7])));function Kt(){const[s,o]=ct(),[a,l]=D({search:""});D(),D(),D();const[n,e]=dt("");yt(e,400),ft(()=>{}),ht(()=>{});const u=async()=>{if(s?.mId){let c={id:s?.mId,businessId:bt?.profile?.businessYId},r=await Wt(c);l("manifestObj",r)}};return tt(async()=>{u()}),(()=>{var c=Ct(),r=c.firstChild,h=r.firstChild,b=h.firstChild;return h.nextSibling,f(b,P(et,{get when(){return a?.manifestObj?.products},get children(){return P(ut,{get each(){return a?.manifestObj?.products},children:(x,m)=>P(Dt,{itm:x})})}})),f(r,P(Bt,{get item(){return a?.manifestObj},get list(){return a?.manifestObj}}),null),c})()}const Bt=s=>{const o=l=>{let n=0;return s?.item?.products?.map(e=>{n+=e?.qty*-1*e?.salePrice}),n},a=async l=>{let n={...s?.item};n.amount=o();let e=await At(n);window.open(e)};return(()=>{var l=Ot(),n=l.firstChild,e=n.firstChild,u=e.firstChild,c=u.firstChild,r=c.nextSibling,h=r.firstChild,b=h.firstChild,x=b.nextSibling;x.firstChild;var m=h.nextSibling,z=m.firstChild,w=z.nextSibling;w.firstChild;var y=m.nextSibling,p=y.firstChild,A=p.nextSibling;A.firstChild;var C=u.nextSibling,F=C.firstChild,_=F.firstChild,T=_.firstChild,I=T.nextSibling;I.firstChild;var W=_.nextSibling,L=W.firstChild,E=L.nextSibling,j=W.nextSibling,Q=j.firstChild,O=Q.nextSibling;O.firstChild;var R=C.nextSibling;return f(x,()=>o().toFixed(2),null),f(w,()=>(o()*.06).toFixed(2),null),f(A,()=>(o()*.06+o()).toFixed(2),null),f(I,()=>H(s?.item?.createDate),null),f(E,()=>s?.item?.invoice),f(O,()=>v("storeGroupBy")?.[s?.item?.store]?.label,null),f(R,P(It,{color:"#646cff",label:"Imprimir",handleClick:a})),l})()},Dt=s=>{const[o,a]=D(),l=()=>o?.[s?.itm?.product?.id]?.productImageUrl?Tt()+gt()+"/"+o?.[s?.itm?.product?.id]?.productImageUrl:null,n=async()=>{let e=s?.itm?.product?.id,u=`${e}`,c=await vt(u);c?.[e]?.productImageUrl&&a(e,c?.[e])};return tt(()=>{n()}),(()=>{var e=Ft(),u=e.firstChild,c=u.firstChild,r=c.firstChild,h=r.firstChild,b=h.firstChild,x=h.nextSibling,m=x.firstChild,z=m.firstChild,w=z.firstChild;w.firstChild;var y=m.nextSibling,p=y.firstChild,A=p.firstChild,C=A.nextSibling,F=p.nextSibling,_=F.firstChild;return _.firstChild,f(w,()=>s?.itm?.product?.label,null),f(C,()=>s?.itm?.qty*-1),f(_,()=>(s?.itm?.salePrice*1).toFixed(2),null),f(y,P(et,{get when(){return xt()},get children(){return Pt()}}),null),mt(()=>pt(b,"src",l())),e})()},Xt=async(s,o)=>{let a={params:s,data2update:o},l=J(709002);return a={...a,...l},await N(a)},Wt=async s=>{let o={params:s},a=J(132002);return o={...o,...a},await N(o)},Zt=async s=>{let o=[];s.map(a=>{let l={params:{id:a?.ssg_track_key,idairguide:"all"}},n=J(802002);l={...l,...n},o.push(l)}),wt(o,Et)},Et=async s=>{const a=await N(s);if(a)return a};_t(["click"]);export{Kt as default,Et as fetchCSVInve,Zt as loadInventory,Xt as updLinkedBags};
