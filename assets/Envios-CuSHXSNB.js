const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-CYH5YddL.js","assets/index-CoSVbbFx.js","assets/index-DAWJqpJe.css","assets/DropDwnSearch-CS2yDKjn.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ContainerElasticView-Dr8hEbPE.js","assets/ContainerElasticView-LzOd6fDI.css","assets/ButonHrm-CxhRYFtA.js","assets/ButonHrm-BPLzySnX.css","assets/CheckBoxSlide-KgjHFiDK.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/InputHr-CPI5_R0G.js","assets/InputHr-M3rJ9grQ.css","assets/ItemOnEnvios-DB6rtnE7.js","assets/ItemOnEnviosMobile-C8bq2Fjv.js"])))=>i.map(i=>d[i]);
import{l as x,_ as k,c as H,a as w,u as _e,p as me,f as he,b as fe,i as r,d as t,y as Z,S as m,z as ve,F as R,j as B,m as O,k as M,A as z,B as X,g as G,E as $e,s as ye,x as T,w as J,D as be,n as Y,e as pe,t as g,Z as xe,G as j,H as ke}from"./index-CoSVbbFx.js";var Ce=g("<div style=padding:4px>"),Se=g('<div class="icon_status centerBx">'),we=g('<div class="centerBx bottombx"style=margin-top:10px;><h5>Duplicados'),Ae=g('<div><div class="centerBx bottombx "><h5 class="">Manifiesto Incorrecto'),Ee=g('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround "><div class="icon_status centerBx">'),Ie=g('<div><div class="_dsplFlx flxWrp spaceAround ">'),De=g('<div><div class="centerBx100 centerBx"><div class=plans></div></div><div class="icon_status centerBx">'),Ge=g('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div>'),Be=g("<div> <!>."),Me=g("<div> "),Ne=g("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),ee=g("<h5 class=totalBagsNo> <!> / "),te=g('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),re=g("<div class=leftMrg> "),Le=g("<div class=bottombx><h4>"),Oe=g("<div>"),Ve=g('<div class="_dsplFlx bottombx lowbordr"><div class=" bottombx spaceAround centerBx"><h5> :</h5><h4>'),Fe=g("<div style=padding:16px;margin-left:20px;>"),Pe=g('<div class="bottombx left centerBx"style=text-align:left;><h4></h4><h5>');const K=x(()=>k(()=>import("./LoadingColorSpinner-CYH5YddL.js"),__vite__mapDeps([0,1,2]))),Re=x(()=>k(()=>import("./DropDwnSearch-CS2yDKjn.js"),__vite__mapDeps([3,1,2,4]))),ze=x(()=>k(()=>import("./ContainerElasticView-Dr8hEbPE.js"),__vite__mapDeps([5,1,2,6]))),Te=x(()=>k(()=>import("./ButonHrm-CxhRYFtA.js"),__vite__mapDeps([7,1,2,8]))),U=x(()=>k(()=>import("./CheckBoxSlide-KgjHFiDK.js"),__vite__mapDeps([9,1,2,10]))),je=x(()=>k(()=>import("./InputHr-CPI5_R0G.js"),__vite__mapDeps([11,1,2,12]))),V=x(()=>k(()=>import("./index-CoSVbbFx.js").then(e=>e.a7),__vite__mapDeps([1,2]))),qe=x(()=>k(()=>import("./ItemOnEnvios-DB6rtnE7.js"),__vite__mapDeps([13,1,2,5,6])));x(()=>k(()=>import("./ItemOnEnviosMobile-C8bq2Fjv.js"),__vite__mapDeps([14,1,2,5,6])));function tt(){const[e,i]=H({list:{manifest:{id:"175-23834613",label:""},search:"",status:""}}),[n,d]=H({}),[o,a]=H({}),[_,b]=w(""),[h,A]=w(64),[E,C]=w(!1),[p,I]=w(!1),[q,F]=w(""),D=_e(b,400),N=(f,v)=>{i("list",{[f]:v}),D(G())},ne=()=>{C(!E()),D(G())},se=()=>{I(!p()),D(G())};me(()=>{}),he(()=>{});const ie=()=>{A(f=>f+64)},le=f=>{let v=Math.ceil(f?.length/64);ke(ie,1250,v)},[L,{refetch:Je}]=fe(_,async f=>{let v=e?.list?.manifest?.id;q()!==v&&F(v);const $=await Xe(e?.list?.search,v,e?.list?.status,e?.list?.estate,e?.list?.city),W=await Ye(v);d(W),a("prov",void 0),A(0);let y=[],s={};return E()?B($).map(c=>{let l=$[c],u=l?.estate||l?.consigneeInfo?.ybestate;xe?.[l?.zone]?.[u]||y.push(l)}):p()?B($).map(c=>{let l=$[c];l?.currentStatus||y.push(l)}):(B($).map(c=>{let l=$[c],u=l?.estate||l?.consigneeInfo?.ybestate,S=l?.city||l?.consigneeInfo?.ybcity;s[u]||(s[u]={cities:{},total:0}),s[u].cities?.[S]||(s[u].cities[S]=0),s[u].cities[S]+=1,s[u].total+=1,y.push(l)}),a("prov",s)),le(y),y}),Q=()=>L()?.length,ae=f=>{i("list",{manifest:f,status:void 0}),D(G())},ce=()=>{Ke(L())},oe=()=>{Qe(L())},ue=()=>{e.status},de=(f,v)=>{N("estate",f),N("city",v)},ge=(f,v)=>{i("list",{estate:void 0,city:void 0}),D(G())};return(()=>{var f=Ge(),v=f.firstChild,$=v.nextSibling,W=$.firstChild,y=$.nextSibling;return r(f,t(m,{get when(){return Z?.profile?.isAdmin},get children(){return t(Te,{color:"rgb(200 25 60 / 1)",label:"updManifest",handleClick:ce})}}),$),r(W,t(Re,{list:ve,lbl_empty:"Manifiesto",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:s=>ae(s),width:"260px"})),r($,t(m,{get when(){return e?.list?.manifest?.id},get children(){return[(()=>{var s=Ce();return r(s,t(je,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return e?.list?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:c=>N("search",c)})),s})(),(()=>{var s=Ae(),c=s.firstChild,l=c.firstChild;return r(c,t(U,{get initValue(){return E()},updChange:ne,color:"var(--background-red-ssg)"}),l),r(s,t(m,{get when(){return Z?.profile?.isAdmin},get children(){var u=we(),S=u.firstChild;return r(u,t(U,{get initValue(){return p()},updChange:se,color:"var(--background-red-ssg)"}),S),r(u,t(m,{get when(){return p()},get children(){var P=Se();return P.$$click=oe,r(P,t(V,{name:"outline_delete",size:24})),P}}),null),u}}),null),s})()]}}),null),r(y,t(m,{get when(){return!1},get children(){var s=Ee(),c=s.firstChild,l=c.firstChild;return l.$$click=ue,r(l,t(V,{name:"outline_renew",size:24})),s}}),null),r(y,t(m,{get when(){return e?.list?.manifest?.id},get children(){var s=Ie(),c=s.firstChild;return r(c,t(m,{get when(){return n?.total},get children(){return t(R,{get each(){return B(n)},children:(l,u)=>O()?t(He,{keyG:l,total:Q,get status(){return e?.list?.status},get amount(){return n?.[l]},updForm:N}):t(We,{keyG:l,total:Q,get status(){return e?.list?.status},get amount(){return n?.[l]},updForm:N})})}})),M(()=>z(s,`client_item_box gWXAaj jlytmu ${O()?"isMobile":""}`)),s}}),null),r(y,t(m,{get when(){return o?.prov},get children(){var s=De(),c=s.firstChild,l=c.firstChild,u=c.nextSibling;return r(l,t(m,{get when(){return o?.prov},get children(){return t(R,{get each(){return B(o?.prov)},children:(S,P)=>t(Ue,{ism:S,get item(){return o?.prov?.[S]},updS:de})})}})),u.$$click=ge,r(u,t(V,{name:"Xclose",size:22})),M(()=>z(s,`client_item_box gWXAaj jlytmu ${O()?"isMobile":""}`)),s}}),null),r(y,t($e,{fallback:s=>(()=>{var c=Be(),l=c.firstChild,u=l.nextSibling;return u.nextSibling,r(c,()=>s.toString(),u),c})(),get children(){return t(X,{get fallback(){return(()=>{var s=Me();return s.firstChild,r(s,t(K,{stroke:"rgb(200 25 60 / 1)",size:62}),null),s})()},get children(){return t(m,{get when(){return L()},get children(){return t(R,{get each(){return L()?.slice(0,h())},children:(s,c)=>t(qe,{item:s,refresh:()=>D(G())})})}})}})}}),null),M(s=>ye(y,` ${O()?"":"width:94vw;"} margin: 0 auto;`,s)),f})()}const We=e=>{const[i,n]=w(!1),[d,o]=w(0),a=()=>{let h=e?.keyG;e?.keyG==="total"&&(h=null),e?.updForm("status",h)},_=()=>{i()||!O()&&e?.keyG!=="total"&&(o(T?.[e?.keyG]?.length*8.5+"px"),n(!0))},b=()=>{o("0px"),i()&&n(!1)};return t(m,{get when(){return e?.amount>0},get children(){return t(X,{get fallback(){return(()=>{var h=re();return h.firstChild,r(h,t(K,{stroke:"rgb(200 25 60 / 1)",size:32}),null),h})()},get children(){var h=te(),A=h.firstChild,E=A.nextSibling;return h.$$mouseout=b,h.$$mousemove=_,h.$$click=a,r(h,t(m,{get when(){return i()},get children(){var C=Ne(),p=C.firstChild,I=p.firstChild,q=I.firstChild;return r(q,()=>T?.[e?.keyG]),M(F=>(F=d())!=null?p.style.setProperty("width",F):p.style.removeProperty("width")),C}}),A),r(A,t(V,{get name(){return J?.[e?.keyG]},size:22})),r(h,t(m,{get when(){return e?.keyG==="total"},get children(){var C=ee(),p=C.firstChild,I=p.nextSibling;return I.nextSibling,r(C,()=>e?.total(),I),C}}),E),r(E,()=>e?.amount),M(()=>z(h,`resumeStatus centerBx ${e?.keyG==="total"?"witXs":""}  ${e?.status===e?.keyG?"active":""}`)),h}})}})},He=e=>{const i=()=>{let n=e?.keyG;e?.keyG==="total"&&(n=null),e?.updForm("status",n)};return t(m,{get when(){return e?.amount>0},get children(){return t(X,{get fallback(){return(()=>{var n=re();return n.firstChild,r(n,t(K,{stroke:"rgb(200 25 60 / 1)",size:32}),null),n})()},get children(){var n=te(),d=n.firstChild,o=d.nextSibling;return n.$$click=i,r(d,t(V,{get name(){return J?.[e?.keyG]},size:22})),r(n,t(m,{get when(){return T?.[e?.keyG]},get children(){var a=Le(),_=a.firstChild;return r(_,()=>T?.[e?.keyG]),a}}),o),r(n,t(m,{get when(){return e?.keyG==="total"},get children(){var a=ee(),_=a.firstChild,b=_.nextSibling;return b.nextSibling,r(a,()=>e?.total(),b),a}}),o),r(o,()=>e?.amount),M(()=>z(n,`resumeStatus centerBx  spaceAround ${e?.status===e?.keyG?"active":""}`)),n}})}})},Xe=async(e,i,n,d,o)=>{let a={params:{idairguide:i,":search5":i},fldsQry:["street","agency","idairguide","currentStatus","cidentity","ssg_track_key","bagnumber","tracking","estate","city","zone","consigneeInfo:phoneNumber","consigneeInfo:altPhoneNumber","consigneeInfo:firstName","consigneeInfo:middleName","consigneeInfo:lastName","consigneeInfo:ybestate","consigneeInfo:ybcity"],query:"getScanLogisticYabaExpress",queryString:"!* contain :search0 AND !* contain :search1 AND !* contain :search2 AND !* contain :search3 AND !* contain :search4 AND !* contain :search5 AND currentStatus = :status AND agency = :agency AND estate = :estate AND city = :city"};if(e&&e.split(" ").map((_,b)=>{_&&(a.params[":search"+b]=_.trim())}),n&&(a.params[":status"]=n),d&&(a.params[":estate"]=d),o&&(a.params[":city"]=o),j?.roles?.agency&&(a.params[":agency"]=j?.roles?.agency+""),i&&Object.keys(a.params).length>=2){const _=await Y(a);return _?.data?.error?{}:_}return{}},Ye=async e=>{let i={params:{idairguide:e},query:"getGroupStatusLogisticYabaExpress",queryString:"agency = :agency"};j?.roles?.agency&&(i.params[":agency"]=j?.roles?.agency+"");const n=await Y(i);return n?.data?.error?{}:n},Ke=async e=>{e.map(i=>{i?.ssg_track_key,i?.idairguide})},Qe=async e=>{e.map(i=>{i?.ssg_track_key,i?.idairguide})},rt=async(e,i)=>{let n=[];e.map(d=>{let o={params:{ssg_track_key:d?.ssg_track_key,idairguide:d?.idairguide},data2update:{currentStatus:i},query:"updateLogisticYabaExpress"};n.push(o)}),be(n,Ze)},Ze=async e=>{const n=await Y(e);if(n)return n},Ue=e=>(()=>{var i=Oe();return r(i,t(m,{get when(){return e?.item?.total>0},get children(){var n=Ve(),d=n.firstChild,o=d.firstChild,a=o.firstChild,_=o.nextSibling;return d.$$click=()=>e?.updS(e?.ism),r(o,()=>e?.ism,a),r(_,()=>e?.item?.total),n}}),null),r(i,t(ze,{get children(){var n=Fe();return r(n,t(m,{get when(){return e?.item?.cities},get children(){return t(R,{get each(){return B(e?.item?.cities)},children:(d,o)=>(()=>{var a=Pe(),_=a.firstChild,b=_.nextSibling;return a.$$click=()=>e?.updS(e?.ism,d),r(_,d),r(b,()=>e?.item?.cities?.[d]),a})()})}})),n}}),null),i})();pe(["click","mousemove","mouseout"]);export{tt as default,Qe as deleteManifest,Ze as fetchCSVInve,Ke as loadManifest,rt as updateManifest};
