import{e as q,d as n,i as t,S as o,r as x,t as u,g as z,O as E,w as R,y as T,a as Y,M as k,k as L,A as y,N as P,P as I,b as N,F as A,x as V,Y as K,$ as Q,R as W,n as j}from"./index-BdPh1Ntw.js";import{F as b}from"./FlexSpace-7M5wFx6r.js";import{S as D}from"./ShowQR-BhDlk89A.js";import X from"./ContainerElasticView-DPME8OJS.js";var G=u('<div class=" tr_bar_20 _dsplFlx"><div class="icon_status centerBx"></div><div class=bottombx><h5>'),J=u('<div><div class="icon_status centerBx">'),U=u('<div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),Z=u("<div class=bag_number><h5>"),p=u('<div class="_dsplFlx "><div class="_dsplFlx bottombx"><p></p></div><p class="tr_bar_30 textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class="tr_bar_20 textleft">'),ee=u('<div class="_dsplFlx bottombx"><h5>'),te=u('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx topbx centerBx">');function ie(e){const r=a=>a?" "+a:"",h=()=>{let a=e?.item?.consigneeInfo;return r(a?.firstName)+r(a?.middleName)+r(a?.lastName)+r(a?.lastName2)},c=()=>{let a=e?.item?.consigneeInfo,g=r(a?.altPhoneNumber);return r(a?.phoneNumber)+(g?" |"+g:"")},m=()=>{let a=e?.item?.street.split(",");return a.slice(0,a.length-2).join(",")},$=()=>{let a=e?.item?.hbls.length;const g=e?.item?.hbls.reduce((l,d)=>l+`${l?"/":""}${d.hbl}/${d.quantity}/${d.weight}`,"");let i=`${e?.item?.idairguide}/${e?.item?.cidentity}/${a}/${g}`,s={};s.id=z(),s.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},s.content=n(D,{val:i,get item(){return e?.item}}),E(s)};return n(o,{get when(){return e?.item?.tracking},get children(){var a=te(),g=a.firstChild;return t(g,n(o,{get when(){return e?.item?.tracking},get children(){return[(()=>{var i=G(),s=i.firstChild,l=s.nextSibling,d=l.firstChild;return t(s,n(x,{name:"alert",size:32,color:"var(--background-red-ssg)"})),t(d,()=>e?.item?.idairnumber),i})(),(()=>{var i=J(),s=i.firstChild;return t(s,n(x,{name:"link-off",size:32,color:"var(--background-red-ssg)"})),i})(),(()=>{var i=U(),s=i.firstChild,l=s.nextSibling,d=l.nextSibling;return t(s,()=>e?.item?.consigneeInfo?.ybcity),t(d,()=>e?.item?.consigneeInfo?.ybestate),i})()]}}),null),t(g,n(b,{}),null),t(g,n(o,{get when(){return e?.item?.bagnumber},get children(){var i=Z(),s=i.firstChild;return i.$$click=$,t(s,()=>e?.item?.bagnumber),i}}),null),t(a,n(o,{get when(){return e?.item?.consigneeInfo?.ybcity},get children(){var i=p(),s=i.firstChild,l=s.firstChild,d=s.nextSibling,_=d.nextSibling,v=_.nextSibling;return t(l,m),t(i,n(b,{}),d),t(d,h),t(v,c),i}}),null),t(a,n(o,{when:!1,get children(){var i=ee(),s=i.firstChild;return t(i,n(b,{}),s),t(s,()=>e?.item?.nameshipper),t(i,n(b,{}),null),i}}),null),a}})}q(["click"]);var ne=u("<div class=guide_number><h5>"),le=u('<div class=" tr_bar_10 _dsplFlx"><div class="icon_status centerBx">'),re=u('<p class="tr_bar_30 textleft fullName_consigne">'),se=u("<div style=margin-right:4vw>"),ae=u('<h4 class="tr_bar_20 textleft">'),ce=u("<div class=bag_number><h5>"),de=u("<div class=bottombx><h5>"),ue=u("<div><div>"),me=u('<div class="icon_status centerBx">'),ge=u('<div class="_dsplFlx bottombx"><p></p><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),he=u('<div class="_dsplFlx bottombx"><h5>'),_e=u('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx topbx centerBx">'),oe=u('<ul class=inline><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Movimientos</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">HBLS</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Embarcador'),$e=u("<div class=tab>"),S=u("<div class=loader>Loading..."),O=u("<div>"),ve=u('<div class="centerBx bottombx"><h4 class=""></h4><h5>el <!> a las <!> por</h5><h4 class="">'),be=u('<div class="centerBx bottombx"><h4 class=""></h4><h5> KG</h5><h4 class="">'),fe=u("<div class=bottombx><div><h4></h4></div><div><h5>");function Me(e){const r=i=>i?" "+i:"",h=()=>{let i=e?.item?.consigneeInfo;return r(i?.firstName)+r(i?.middleName)+r(i?.lastName)+r(i?.lastName2)},c=()=>{let i=e?.item?.consigneeInfo,s=r(i?.altPhoneNumber);return r(i?.phoneNumber)+(s?" |"+s:"")},m=()=>{let i=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let s=i.reduce((l,d)=>Math.min(l,d.timeStamp),1/0);return Math.floor((new Date().getTime()-s)/864e5)}else return null},$=async()=>{let i={ssg_track_key:e?.item?.ssg_track_key,idairguide:e?.item?.idairguide};await Ie(i),e?.refresh()},a=()=>{let i=e?.item?.street.split(",");return i.slice(0,i.length-2).join(",")},g=i=>{let s="";if(i)s=i;else if(e?.item?.hblS){let d=e?.item?.hblS;s=`${e?.item?.idairguide}/${e?.item?.cidentity}/${d}`}let l={};l.id=z(),l.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},l.content=n(D,{val:s,get item(){return e?.item}}),E(l)};return e?.filter?n(ie,{get item(){return e?.item},get filter(){return e?.filter}}):n(o,{get when(){return e?.item?.tracking},get children(){var i=_e(),s=i.firstChild;return t(s,n(o,{get when(){return e?.item?.tracking},get children(){return[(()=>{var l=le(),d=l.firstChild;return t(d,n(x,{get name(){return R?.[e?.item?.currentStatus]},size:32})),t(l,n(o,{get when(){return m()},get children(){var _=ne(),v=_.firstChild;return t(v,m),_}}),null),l})(),(()=>{var l=re();return t(l,h),l})(),se(),(()=>{var l=ae();return t(l,c),l})()]}}),null),t(s,n(b,{}),null),t(s,n(o,{get when(){return e?.item?.tracking},get children(){var l=ue(),d=l.firstChild;return t(d,n(o,{get when(){return e?.item?.bagnumber},get children(){var _=ce(),v=_.firstChild;return _.$$click=()=>g(null),t(v,()=>e?.item?.bagnumber),_}})),t(l,n(o,{get when(){return e?.item?.tracking},get children(){var _=de(),v=_.firstChild;return _.$$click=()=>g(e?.item?.tracking),t(v,()=>e?.item?.tracking),_}}),null),l}}),null),t(s,n(o,{get when(){return!e?.item?.bagnumber||T?.profile?.isAdmin},get children(){var l=me();return l.$$click=$,t(l,n(x,{name:"outline_delete",size:24})),l}}),null),t(i,n(o,{get when(){return e?.item?.consigneeInfo?.ybcity},get children(){var l=ge(),d=l.firstChild,_=d.nextSibling,v=_.firstChild,C=v.nextSibling,w=C.nextSibling;return t(d,a),t(l,n(b,{}),_),t(v,()=>e?.item?.consigneeInfo?.ybcity),t(w,()=>e?.item?.consigneeInfo?.ybestate),l}}),null),t(i,n(o,{when:!1,get children(){var l=he(),d=l.firstChild;return t(l,n(b,{}),d),t(d,()=>e?.item?.nameshipper),t(l,n(b,{}),null),l}}),null),t(i,n(xe,{get item(){return e?.item}}),null),i}})}const xe=e=>{const[r,h]=Y(0),[c,m]=W(),$=a=>()=>m(()=>h(a));return n(X,{get children(){return[(()=>{var a=oe(),g=a.firstChild,i=g.firstChild,s=i.firstChild,l=g.nextSibling,d=l.firstChild,_=d.firstChild,v=l.nextSibling,C=v.firstChild,w=C.firstChild;return k(g,"click",$(1)),t(s,n(x,{name:"list_dot",size:24})),k(l,"click",$(2)),t(_,n(x,{name:"receipt",size:24})),k(v,"click",$(3)),t(w,n(x,{name:"send",size:24})),L(f=>{var F=r()===1,H=r()===2,M=r()===3;return F!==f.e&&g.classList.toggle("selected",f.e=F),H!==f.t&&l.classList.toggle("selected",f.t=H),M!==f.a&&v.classList.toggle("selected",f.a=M),f},{e:void 0,t:void 0,a:void 0}),a})(),(()=>{var a=$e();return t(a,n(y,{get fallback(){return S()},get children(){return n(P,{get children(){return[n(I,{get when(){return r()===1},get children(){return n(o,{get when(){return r()===1},get children(){return n(ye,{index:1,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),n(I,{get when(){return r()===2},get children(){return n(o,{get when(){return r()===2},get children(){return n(Ce,{index:2,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),n(I,{get when(){return r()===3},get children(){return n(o,{get when(){return r()===3},get children(){return n(ke,{index:3,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}})]}})}})),L(()=>a.classList.toggle("pending",!!c())),a})()]}})},ye=e=>{const[r,{refetch:h}]=N(e?.id,async c=>(await B(e?.idairguide,e?.id,["statusHistory"]))?.statusHistory);return n(y,{get fallback(){return S()},get children(){var c=O();return t(c,n(A,{get each(){return r()},children:m=>n(Se,{item:m})})),c}})},Se=e=>(()=>{var r=ve(),h=r.firstChild,c=h.nextSibling,m=c.firstChild,$=m.nextSibling,a=$.nextSibling,g=a.nextSibling;g.nextSibling;var i=c.nextSibling;return t(h,()=>V[e?.item?.statusId]),t(c,()=>K(e?.item?.timeStamp),$),t(c,()=>Q(e?.item?.timeStamp),g),t(i,()=>e?.item?.userName),r})(),Ce=e=>{const[r,{refetch:h}]=N(e?.id,async c=>(await B(e?.idairguide,e?.id,["hbls"]))?.hbls);return n(y,{get fallback(){return S()},get children(){var c=O();return t(c,n(A,{get each(){return r()},children:m=>n(we,{item:m})})),c}})},we=e=>(()=>{var r=be(),h=r.firstChild,c=h.nextSibling,m=c.firstChild,$=c.nextSibling;return t(h,()=>e?.item?.hbl),t(c,()=>e?.item?.weight,m),t($,()=>e?.item?.namegood),r})(),ke=e=>{const[r,{refetch:h}]=N(e?.id,async c=>await B(e?.idairguide,e?.id,["nameshipper","shipperInfo:phoneNumber"]));return n(y,{get fallback(){return S()},get children(){var c=fe(),m=c.firstChild,$=m.firstChild,a=m.nextSibling,g=a.firstChild;return t($,()=>r()?.nameshipper),t(g,()=>r()?.shipperInfo?.phoneNumber),c}})},Ie=async e=>(await j({params:e,query:"deleteLogisticYabaExpress"}))?.data,B=async(e,r,h)=>{const m=await j({params:{id:r,idairguide:e},fldsQry:h,query:"getLogisticOrderByKeyID"});return m?.data?.error?{}:m};q(["click"]);export{Me as default};
