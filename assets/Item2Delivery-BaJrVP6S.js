const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-D_p1URFI.js","assets/index-CwLfaDpb.js","assets/index-D4QuRvi-.css","assets/SVG-CUGsrxHa.js","assets/index-Ci0zXM0r.js","assets/ShowQR-BDhwe_ib.js","assets/globalSignal-B9YI1xBP.js","assets/ShowQRPrintLabel-Cel4KfF7.js","assets/fontkit.es-DEjOtITv.js","assets/qrcode-C5vWJp7P.js","assets/InitPrintServices-DcGI8IYj.js","assets/Util-Ho0G8bBr.js","assets/Toast-3yqkTT30.js","assets/Toast-DLpFKn-Q.css","assets/DeliveryView-CFIeN1aU.js","assets/DialogHRM-CfBA05Xy.js","assets/DialogHRM-V9_lZntj.css","assets/browser-image-compression-BVJ4p9S0.js","assets/ButonHrm-BSeWNUGQ.css","assets/ButonHrm-sHmw3lTX.js","assets/LoadingColorSpinner-DyHWbgoR.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-324DNiqB.js","assets/debounces-Ci6gFQPI.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as s,_ as i,a as v,u as O,D as k,k as T,d as r,e as V,i as p,S as h,w,f as y,m as L,s as R,t as u,j as U}from"./index-CwLfaDpb.js";import{t as b,g as E,m as M,O as q,f as z,a as F,q as H}from"./Util-Ho0G8bBr.js";/* empty css                             */import{c as W,i as j,g as K,u as Y,a as G}from"./handelImagesServices-Cj3oVKrC.js";import"./index-Ci0zXM0r.js";import"./browser-image-compression-BVJ4p9S0.js";var N=u('<div class="elastic_view_bx show"><div class=" spaceAround centerBx">'),Q=u("<div><img alt=sf>"),J=u('<div class="elastic_view_bx show centerBx"><div style="margin:15px 0"class=" spaceAround centerBx"></div><div class="errorBx centerBx mxW375 "><div class="icon_status centerBx"></div><p class=" centerBx">Click para completar la entrega si la imagen esta clara y con calidad'),X=u("<div>"),Z=u("<div class=centerBx><h5 style=margin-left:12px>Subiendo imagen");s(()=>i(()=>import("./FlexSpace-D_p1URFI.js"),__vite__mapDeps([0,1,2])));const ee=s(()=>i(()=>import("./SVG-CUGsrxHa.js"),__vite__mapDeps([3,1,2,4])));s(()=>i(()=>import("./ShowQR-BDhwe_ib.js"),__vite__mapDeps([5,1,2,6,7,8,4,9,10,11,12,13])));const te=s(()=>i(()=>import("./DeliveryView-CFIeN1aU.js").then(a=>a.B),__vite__mapDeps([14,1,2,11,4,6,15,16,3,17,18]))),ae=s(()=>i(()=>import("./ButonHrm-sHmw3lTX.js"),__vite__mapDeps([19,1,2,3,4,11,18]))),re=s(()=>i(()=>import("./LoadingColorSpinner-DyHWbgoR.js"),__vite__mapDeps([20,1,2,21])));s(()=>i(()=>import("./DropDwnSearch-324DNiqB.js"),__vite__mapDeps([22,1,2,23,3,4,24])));function _e(a){const[l,o]=v(null),[c,_]=v(!1),[S,g]=v(!1),[I,ie]=O(),$=k();T(()=>{});const x=async(e,t)=>{let n=await K(e.type,t);if(await Y(n,e)){let d={deliveryProof:G()+"/"+t,currentStatus:"YABA_99",deliveryUserId:U?.profile?.userId,wasDelivery:"OK",deliveryTime:M()};const C=q(a?.list).map(async f=>{let D={ssg_track_key:f,idairguide:a?.list[f]?.idairguide};await se(D,d)});await Promise.all(C),g(!1),_(!1),$(`/delivery-detail?dId=${I?.dId}`,{replace:!0})}else g(!1)},A=async()=>{g(!0);let e=await W(l()?.file,{maxSizeMB:.5,maxWidthOrHeight:1080}),t=await j(e),m=await(await fetch(t)).blob(),d=a?.cid+"/"+E()+E()+".webp";x(m,d)},B=e=>{o(e),_(!0)},P=()=>{o(null),_(!1)};return[r(h,{get when(){return!c()||!l()?.source},get children(){var e=N(),t=e.firstChild;return p(t,r(te,{accept:"image/*",color:"rgb(200 25 60 / 1)",icon:"image_outline",label:"Subir Imagen",handleClick:B})),e}}),r(h,{get when(){return w(()=>!!c())()&&l()?.source},get children(){return[(()=>{var e=Q(),t=e.firstChild;return y(()=>L(t,"src",l()?.source)),e})(),r(h,{get when(){return w(()=>!!c())()&&!S()},get fallback(){return(()=>{var e=Z(),t=e.firstChild;return p(e,r(re,{stroke:"rgb(200 25 60 / 1)",size:32}),t),e})()},get children(){var e=J(),t=e.firstChild,n=t.nextSibling,m=n.firstChild;return p(t,r(ae,{color:"#fa9514",icon:"reload",label:"Tomar imagen nuevamente",handleClick:P})),n.$$click=A,p(m,r(ee,{name:"success",size:32,get color(){return b?.success?.svg}})),y(d=>R(n,b?.success,d)),e}}),X()]}})]}const se=async(a,l)=>{let o={params:a,data2update:l},c={...F(H())}[809004];return o={...o,...c},await z(o)};V(["click"]);export{_e as default};
