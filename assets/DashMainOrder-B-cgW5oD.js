const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-oakX2pYv.js","assets/index-DDy9UJu5.js","assets/index-D_ebk4lx.css","assets/SVG-BorztQR9.js","assets/Util-DtU7H3gG.js","assets/LoadingColorSpinner-CqOoNWeg.js","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-OdK1CpeT.js","assets/InputHr-BXFw4d2l.css","assets/ButonHrm-BINrlVf8.js","assets/ButonHrm-BSeWNUGQ.css","assets/PickDate-BhemLZ1Z.js","assets/DialogHRM-B6a3SgKN.js","assets/DialogHRM-V9_lZntj.css"])))=>i.map(i=>d[i]);
import{l as P,_ as j,c as V,a as g,o as re,b as te,d as W,i as o,e as t,u as le,S as q,g as I,f as J,s as oe,h as ne,t as _,j as ae}from"./index-DDy9UJu5.js";import{g as A,f as D,i as se,a as k,b as M,O as U,c as ie}from"./Util-DtU7H3gG.js";import"./browser-image-compression-BVJ4p9S0.js";import{OpenToast as L}from"./Toast-fgXXMRMX.js";import"./AddInventory-N-WwoLVP.js";import"./fontkit.es-B14bDeoZ.js";import"./qrcode-DHy8FFhS.js";import{u as H}from"./debounces-W8iLFydM.js";import{OpenModal as ce,CloseModal as de}from"./DialogHRM-B6a3SgKN.js";import"./DashProducts-gB3Diwhu.js";import"./App.module-CbHnVtRQ.js";import"./FlexSpace-oakX2pYv.js";var be=_('<div style="padding:50px 0 0 0"><section class="qsuVSc mainM">'),ue=_('<section class="bLl6je "><section class="dvPdhb "><div class="QCNFEe centerBx"><p class=jhB0af>Confirmar</p></div><section class="EMijzc centerBx">'),fe=_('<section class="Mijzc12 ">'),pe=_("<section class=Mijzc12>"),me=_('<section class="Mijzc12 blue_datepick">'),he=_('<section class=KgyCAd><section class=WirBi><div class="QCNFEe centerBx"><p class=jhB0af>Envia</p><section class="JpKBkb _dsplFlx"><button class=yjHiqb><span>Buscar coincidencias</span></button><div class="icon_status centerBx"></div></section></div><section class="EMijzc ">'),ve=_('<div class=" centerBx flxWrp spaceAround">'),B=_('<section class="Mijzc12 centerBx flxWrp spaceAround">'),K=_("<div class=separator>"),Ce=_('<section class="rtS8wf InvE "><div class=X3QHFf><section class=WirBi><section class=""><div class="QCNFEe centerBx"><p class=jhB0af>Recibe</p><section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Buscar coincidencias</span></button></section></section></div><div class=" centerBx flxWrp spaceAround"></div><section class="Mijzc12 centerBx "></section><section class="EMijzc centerBx"><section class=pFJUxe><section class=DHk3Fe>'),_e=_('<div class=save><div class="container savings"><div class="bento-text standardSubheading3">'),ge=_('<div><div class=QCNFEe><p class=jhB0af>Confirmar Orden</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Desea enviar la orden</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">');const z=P(()=>j(()=>import("./FlexSpace-oakX2pYv.js"),__vite__mapDeps([0,1,2]))),X=P(()=>j(()=>import("./SVG-BorztQR9.js"),__vite__mapDeps([3,1,2,4])));P(()=>j(()=>import("./LoadingColorSpinner-CqOoNWeg.js"),__vite__mapDeps([5,1,2,6])));const m=P(()=>j(()=>import("./InputHr-OdK1CpeT.js"),__vite__mapDeps([7,1,2,8]))),G=P(()=>j(()=>import("./ButonHrm-BINrlVf8.js"),__vite__mapDeps([9,1,2,3,4,10]))),xe=P(()=>j(()=>import("./PickDate-BhemLZ1Z.js"),__vite__mapDeps([11,1,2,12,13,4]))),[Te,Qe]=V({items:{}}),Re="348723orh2idsffs",ye={name:"",phoneNumberS:"",dob:""},Z={firstName:"",lastName:"",lastName2:"",middleName:"",email:"",phoneNumber:"",altPhoneNumber:"",cid:"",ybstreetNo:"",ybstreet:"",ybbetwen1:"",ybbetwen2:"",ybapt:"",ybreparto:""},[O,T]=V({frm:{...ye}}),[p,Q]=V({frm:{...Z}});function Ve(){g(0),g("");const[a,l]=g("");H(l,400),re(()=>{}),te(()=>{}),W(()=>{n()});const n=async()=>{};return(()=>{var b=be(),e=b.firstChild;return o(e,t($e,{}),null),o(e,t(ke,{}),null),o(e,t(Ne,{}),null),b})()}const $e=a=>{const l=le(),n=async r=>{let c=new Date,N=k(),x=Object.assign({},M(O?.frm),M(p?.frm)),S={type:"SALES",invoice:c.getFullYear()+ie(12),description:"",store:I?.profile?.agencyStore?.id,ssg_inventory_key:N,ssg_sorder_key:N,createDate:c.getTime(),shipper_consignee:x,packagesOrder:!0,businessId:I?.profile?.businessYId},f={params:{businessId:I?.profile?.businessYId},form:S},s=A(431005),C={...f,...s};(await D(C))?.error||(de(r),l("/orders",{replace:!0}))},b=()=>{let r=k(),c={};c.id=r,c.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},c.content=t(Ee,{modalId:r,completeOrder:()=>n(r)}),ce(c)},e=()=>{let r=Object.assign({},M(O?.frm),M(p?.frm));return r.name&&r.phoneNumberS&&r.phoneNumber&&r.cid&&r.firstName&&r.lastName&&r.lastName2&&r.ybstreet};return t(q,{get when(){return e()},get children(){var r=ue(),c=r.firstChild,N=c.firstChild,x=N.nextSibling;return o(x,t(z,{}),null),o(x,t(G,{color:"#1967d2",placeholder:"Enviar Orden",icon:"outline_cart",handleClick:b}),null),r}})},ke=a=>{const[l,n]=g(""),[b,e]=g(0),[r,c]=g(!1),N=H(n,400),x=async()=>{let s=O?.frm?.phoneNumberS;if(!(typeof s!="number"&&!isNaN(s)&&s.length===10)){L({text:s+" no es un numero de telefono valido ",timeout:3500,theme:"red",id:k()}),e(1);return}let u=await Se(s),h=U(u)?.[0];if(u?.[h]?.name?.toLowerCase()?.indexOf(O?.frm?.name?.toLowerCase())>=0){let y=u?.[h]?.dob.split("-"),E=new Date(y[1]+"/"+y[2]+"/"+y[0]);T("frm",{dob:E,name:u?.[h]?.name,phoneNumberS:u?.[h]?.phoneNumber}),e(1)}else{L({text:" la informacion no coincide ",timeout:3500,theme:"red",id:k()}),e(1);return}},S=(s,C)=>{T("frm",s,C),N(k())},f=(s,C)=>{T("frm",{name:"",phoneNumberS:"",dob:""})};return(()=>{var s=he(),C=s.firstChild,u=C.firstChild,h=u.firstChild,w=h.nextSibling,y=w.firstChild,E=y.nextSibling,F=u.nextSibling;return o(u,t(z,{}),w),y.$$click=x,E.$$click=f,o(E,t(X,{name:"Xclose",size:24})),o(F,t(R,{placeholder:"buscar coincidencias con su numero de telefono y apellido",icon:"info",backColor:"#edf4fd",color:"#1967d2"}),null),o(F,t(q,{get when(){return!r()},get fallback(){return(()=>{var v=ve();return o(v,t(R,{placeholder:"buscar coincidencias con el carnet identidad",icon:"info",backColor:"#edf4fd",color:"#1967d2"})),v})()},get children(){return[(()=>{var v=fe();return o(v,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"numero de telefono",colors:"#2b2b2b",type:"number",handleClick:$=>S("phoneNumberS",$),get value(){return O?.frm?.phoneNumberS},validations:{required:!0,number:!0},index:1})),v})(),(()=>{var v=pe();return o(v,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Apellido",colors:"#2b2b2b",handleClick:$=>S("name",$),get value(){return O?.frm?.name},validations:{required:!0},index:2})),v})(),t(q,{get when(){return b()},get children(){var v=me();return o(v,t(xe,{get init(){return O?.frm?.dob},placeholder:"Fecha de nacimiento",updDate:$=>S("dob",$)})),v}})]}}),null),s})()},Ne=a=>{const[l,n]=g(""),b=H(n,400),e=(s,C)=>{Q("frm",s,C),b(k())};g("");const[r,c]=g(0),[N,x]=g("");W(()=>{x(I?.profile?.agencyStore?.id)});const S=async()=>{let s=p?.frm?.cid;if(!(typeof s!="number"&&!isNaN(s)&&s.length===11)){L({text:s+" no es un carnet de identidad valido ",timeout:3500,theme:"red",id:k()}),c(1);return}let u=await we(s);console.log(u);let h=U(u)?.[0];if(u[h]?.cid)console.log(u[h]),Q("frm",u[h]),c(1);else{c(1),Q("frm",Z),L({text:"no encontramos ninguna coincidencia ",timeout:3500,theme:"red",id:k()});return}};let f=3;return(()=>{var s=Ce(),C=s.firstChild,u=C.firstChild,h=u.firstChild,w=h.firstChild,y=w.firstChild,E=y.nextSibling,F=E.firstChild,v=F.firstChild,$=w.nextSibling,Y=$.nextSibling,ee=Y.nextSibling;return o(w,t(z,{}),E),v.$$click=S,o($,t(R,{placeholder:"buscar coincidencias con el carnet identidad",icon:"info",backColor:"#edf4fd",color:"#1967d2"})),o(Y,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",colors:"#2b2b2b",placeholder:"carnet de identidad",handleClick:i=>e("cid",i),get value(){return p?.frm?.cid},validations:{required:!0,number:!0,cid:!0},index:1+f})),o(h,t(q,{get when(){return r()===1},get children(){return[(()=>{var i=B();return o(i,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",colors:"#2b2b2b",placeholder:"1er nombre",handleClick:d=>e("firstName",d),get value(){return p?.frm?.firstName},validations:{required:!0},index:2+f}),null),o(i,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"2do nombre",colors:"#2b2b2b",handleClick:d=>e("middleName",d),get value(){return p?.frm?.middleName},index:3+f}),null),i})(),(()=>{var i=B();return o(i,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"1er Apellido",colors:"#2b2b2b",handleClick:d=>e("lastName",d),get value(){return p?.frm?.lastName},validations:{required:!0},index:4+f}),null),o(i,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"2do Apellido",colors:"#2b2b2b",handleClick:d=>e("lastName2",d),get value(){return p?.frm?.lastName2},validations:{required:!0},index:5+f}),null),i})(),K(),(()=>{var i=B();return o(i,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Telefono Principal",colors:"#2b2b2b",handleClick:d=>e("phoneNumber",d),get value(){return p?.frm?.phoneNumber},validations:{required:!0,number:!0,cubaphone:!0},index:6+f}),null),o(i,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Telefono Alternativo",colors:"#2b2b2b",handleClick:d=>e("altPhoneNumber",d),get value(){return p?.frm?.altPhoneNumber},validations:{required:!1,number:!0,cubaphone:!0},index:7+f}),null),i})(),K(),(()=>{var i=B();return o(i,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Calle",colors:"#2b2b2b",handleClick:d=>e("ybstreet",d),get value(){return p?.frm?.ybstreet},validations:{required:!0},index:8+f}),null),o(i,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"No Calle",colors:"#2b2b2b",handleClick:d=>e("ybstreetNo",d),get value(){return p?.frm?.ybstreetNo},validations:{required:!0},index:9+f}),null),i})(),(()=>{var i=B();return o(i,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Entre calle",colors:"#2b2b2b",handleClick:d=>e("ybbetwen1",d),get value(){return p?.frm?.ybbetwen1},index:10+f}),null),o(i,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Y calle",colors:"#2b2b2b",handleClick:d=>e("ybbetwen2",d),get value(){return p?.frm?.ybbetwen2},index:11+f}),null),i})(),(()=>{var i=B();return o(i,t(m,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",placeholder:"Reparto",colors:"#2b2b2b",handleClick:d=>e("ybreparto",d),get value(){return p?.frm?.ybreparto},index:12+f})),i})()]}}),ee),s})()},He=async(a,l)=>{let n={params:{businessId:I?.profile?.businessYId}};a&&a.split(" ").map((r,c)=>{r&&(n.params[":search"+c]=r.trim())});let b=A(122001);n={...n,...b},n.params[":search0"];const e=await D(n);return e?.error?{}:e},Ye=a=>new Promise((l,n)=>{se.get(a,function(e,r){l(r)})}),Ke=async(a,l)=>{let n={params:{businessId:I?.profile?.businessYId,":store":l.trim()}};a&&a.split(" ").map((r,c)=>{r&&(n.params[":search"+c]=r.trim())});let b=A(132001);n={...n,...b},n.params[":search0"];const e=await D(n);return e?.error?{}:e},Se=async a=>{if(a.length===10){let l={params:{}};a&&a.split(" ").map((e,r)=>{e&&(l.params[":search"+r]=e.trim())});let n=A(421001);return l={...l,...n},await D(l)}else return{}},we=async a=>{if(a.length===11){let l={params:{}};a&&a.split(" ").map((e,r)=>{e&&(l.params[":search"+r]=e.trim())});let n=A(401001);return l={...l,...n},await D(l)}else return{}},R=a=>{const l=()=>({"--bento-badge-background-color":a?.backColor,"--bento-badge-text-color":a?.color});return(()=>{var n=_e(),b=n.firstChild,e=b.firstChild;return o(b,t(X,{get name(){return a.icon},size:16,color:"var(--bento-badge-text-color)"}),e),o(e,()=>a.placeholder),J(r=>oe(n,l(),r)),n})()};function Ee(a){return(()=>{var l=ge(),n=l.firstChild,b=n.nextSibling,e=b.nextSibling,r=e.nextSibling;return l.style.setProperty("max-height","80vh"),l.style.setProperty("overflow","auto"),l.style.setProperty("background","#fff"),l.style.setProperty("border-radius","11px"),l.style.setProperty("padding"," 0 21px"),o(r,t(z,{}),null),o(r,t(G,{color:"#646cff",icon:"send",placeholder:"Completar Orden",get handleClick(){return a.completeOrder}}),null),J(c=>(c=ae()?"96vw":"420px")!=null?l.style.setProperty("width",c):l.style.removeProperty("width")),l})()}ne(["click"]);export{Ke as LookupInventory,He as LookupProducts,Ve as default,Ye as getCartId,Te as inventoryItems,Re as inventoryKey,Qe as setInventoryItems};
