const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-C7cgwQQf.js","assets/index-DjfzCh1Q.js","assets/index-BmzAZVve.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-DlcsQAW6.js","assets/InputHr-M3rJ9grQ.css","assets/SVG-CQCqG7HI.js","assets/DropDwnSearch-h8faozQl.js","assets/debounces-BrrxaB09.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ContainerElasticView-CitapiWW.js","assets/ContainerElasticView-LzOd6fDI.css","assets/ButonHrm-CYDiYXi0.js","assets/Util-JtLJw1Vf.js","assets/ButonHrm-BSeWNUGQ.css","assets/CheckBoxSlide-Bn8Je-iZ.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/ItemOnEnvios-DpamOkI3.js","assets/DialogHRM-DRvzMvld.js","assets/DialogHRM-V9_lZntj.css","assets/ShowQRPrintLabel-Cv0XIPAx.js","assets/PDFButton-DSyiPGj-.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-DAv2r_Qf.js","assets/InitPrintServices-CihyH-xp.js","assets/Toast-ByeAacnd.js","assets/Toast-DLpFKn-Q.css","assets/ShowPdfResume-DG62HqY3.js"])))=>i.map(i=>d[i]);
import{l as B,_ as D,c as ie,a as M,o as je,j as qe,b as Qe,n as We,i as l,d as t,m as ae,S as h,k as Xe,v as He,E as he,w as le,F as re,g as J,e as H,f as ne,s as Ue,h as Ye,t as b,x as se}from"./index-DjfzCh1Q.js";import{l as Je,a as G,O as W,g as P,b as z,e as ve,f as K,h as Ke,s as Ze}from"./Util-JtLJw1Vf.js";import{u as et}from"./debounces-BrrxaB09.js";import{g as fe,l as tt}from"./ShowQRPrintLabel-Cv0XIPAx.js";import"./Toast-ByeAacnd.js";import"./DialogHRM-DRvzMvld.js";import"./PDFButton-DSyiPGj-.js";import"./qrcode-C5vWJp7P.js";import"./fontkit.es-DAv2r_Qf.js";import"./InitPrintServices-CihyH-xp.js";var oe=b("<div style=padding:4px>"),Y=b('<div class="icon_status centerBx">'),rt=b('<div class="centerBx bottombx"style=margin-top:10px;><h5>Duplicados'),lt=b('<div><div class="centerBx bottombx "><h5 class="">Manifiesto Incorrecto'),nt=b('<div><div class="_dsplFlx flxWrp spaceAround ">'),st=b('<div><div class="centerBx100 centerBx"><div class=plans></div></div><div class="icon_status centerBx">'),it=b('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2><div class="centerBx bottombx"style=margin-top:10px;><h4></h4></div><div class="centerBx bottombx "><h5 class="">Mostrar Envios</h5></div></div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div><div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround ">'),_e=b("<div> <!>."),be=b("<div> "),at=b("<div class=centerBx><h5 style=margin-left:12px>generando excel"),ot=b("<div class=centerBx><h5 style=margin-left:12px>generando etiquetas"),ct=b("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),ye=b("<h5 class=totalBagsNo> <!> / "),pe=b('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),$e=b("<div class=leftMrg> "),ut=b("<div class=bottombx><h4>"),dt=b('<div class="_dsplFlx bottombx lowbordr"><div class=" bottombx spaceAround centerBx"><h5> :</h5><h4>'),gt=b("<div style=padding:16px;margin-left:20px;>"),mt=b("<div>"),ht=b('<div class="bottombx left centerBx"style=text-align:left;><h4></h4><h5>');const X=B(()=>D(()=>import("./LoadingColorSpinner-C7cgwQQf.js"),__vite__mapDeps([0,1,2,3]))),ft=B(()=>D(()=>import("./InputHr-DlcsQAW6.js"),__vite__mapDeps([4,1,2,5]))),O=B(()=>D(()=>import("./SVG-CQCqG7HI.js"),__vite__mapDeps([6,1,2]))),ce=B(()=>D(()=>import("./DropDwnSearch-h8faozQl.js"),__vite__mapDeps([7,1,2,8,6,9]))),_t=B(()=>D(()=>import("./ContainerElasticView-CitapiWW.js"),__vite__mapDeps([10,1,2,6,11]))),bt=B(()=>D(()=>import("./ButonHrm-CYDiYXi0.js"),__vite__mapDeps([12,1,2,6,13,14]))),ue=B(()=>D(()=>import("./CheckBoxSlide-Bn8Je-iZ.js"),__vite__mapDeps([15,1,2,16]))),vt=B(()=>D(()=>import("./ItemOnEnvios-DpamOkI3.js"),__vite__mapDeps([17,1,2,13,18,19,10,6,11,20,21,22,23,24,25,26])));B(()=>D(()=>import("./ShowPdfResume-DG62HqY3.js"),__vite__mapDeps([27,1,2,20,21,22,23,24,13,25,26])));function Lt(){const[e,s]=ie({list:{manifest:{id:"",label:""},guia:{id:"",label:""},search:"",status:""}}),[n,a]=ie({}),[c,g]=ie({}),[p,f]=M(""),[u,I]=M(!1),[R,E]=M(64),[A,T]=M(!1),[j,Z]=M(!1),[xe,Ce]=M(""),F=et(f,500);M(!1);const[we,de]=M(!1),[Se,ge]=M(!1),N=(o,i)=>{s("list",{[o]:i}),F(P())},Ie=()=>{T(!A()),F(P())},Me=()=>{I(!u()),F(P())},Ee=()=>{Z(!j()),F(P())};je(()=>{}),qe(()=>{});const Ae=()=>{E(o=>o+64)},Ge=o=>{let i=Math.ceil(o?.length/64);Ze(Ae,1250,i)},[U,{refetch:It}]=Qe(p,async o=>{a(void 0),g("prov",void 0);let i=e?.list?.guia?.id;xe()!==i&&Ce(i);let S={},x=[],C={};var $={};if(i&&(S=await kt(i)),!u())a(S?.sumary),g("prov",S?.provinceGroup);else{let ee=e?.list?.manifest?.id;$=await $t(e?.list?.search,i,ee,e?.list?.status,e?.list?.estate,e?.list?.city,e?.list?.agency?.id),a(S?.sumary),E(0);let L={};if(A())W($).map(v=>{let _=$[v],d=_?.estate||_?.consigneeInfo?.ybestate;L[v]?x.push(_):L[v]=1,G("M023009")?.ZoneCity?.[_?.zone]?.[d]||x.push(_)});else if(j()){let v={};W($).map(_=>{let d=$[_];d?.estate||d?.consigneeInfo?.ybestate,d?.hbls.map(w=>{v[w?.hbl]?(x.push(d),x.push(v[w?.hbl])):v[w?.hbl]=d}),d?.bagnumber})}else W($).map(v=>{let _=$[v],d=_?.estate||_?.consigneeInfo?.ybestate,w=_?.city||_?.consigneeInfo?.ybcity;(d||w)&&(C[d]||(C[d]={cities:{},total:0}),C[d].cities?.[w]||(C[d].cities[w]=0),C[d].cities[w]+=1,C[d].total+=1),x.push(_)}),g("prov",C);Ge(x)}return x}),me=()=>U()?.length,Be=o=>{s("list",{guia:o,status:void 0}),F(P())},De=()=>{wt()},Pe=()=>{Ct(U())},Oe=()=>{},Fe=(o,i)=>{N("estate",o),N("city",i)},Ne=(o,i)=>{s("list",{estate:void 0,city:void 0}),F(P())},q=o=>o?" "+o:"",Le=o=>{let i=o?.consigneeInfo;return q(i?.firstName)+q(i?.middleName)+q(i?.lastName)+q(i?.lastName2)},Ve=o=>{let i=o?.consigneeInfo,S=q(i?.altPhoneNumber);return q(i?.phoneNumber)+(S?" | "+S:"")},ze=async()=>{let o=[];ge(!0),setTimeout(async()=>{let i=[[900115,900114],[900107,900106]],S=new Date().getFullYear().toString().slice(2,4);const x=i.map(async($,ee)=>{let L=$[0],v=$[1],_="SS"+S;const d=await fe(_+""+L),w=await fe(_+""+v);let te={mtrx:d,mtrx2:w,lbl:_+""+L,lbl2:_+""+v};o.push(te)});await Promise.all(x);let C=await tt(o);window.open(C),ge(!1)},760)},Re=async()=>{de(!0);let o=[];U().map(async(i,S)=>{let x=i?.estate||i?.consigneeInfo?.ybestate,C=i?.city||i?.consigneeInfo?.ybcity,$={provincia:x,ciudad:C,nombre:Le(i),telefonos:Ve(i),bulto:i?.bagnumber,hbls:i?.hblS};o.push($)}),Ke(`guia_${P()}.csv`,o),de(!1)},Te=async o=>{await xt(e?.list?.manifest?.id)};return We(()=>{}),(()=>{var o=it(),i=o.firstChild,S=i.firstChild,x=S.nextSibling,C=x.firstChild,$=x.nextSibling,ee=$.firstChild,L=i.nextSibling,v=L.nextSibling,_=v.firstChild,d=v.nextSibling,w=d.firstChild,te=w.firstChild;return l(C,()=>e?.list?.guia?.id),l($,t(ue,{get initValue(){return u()},updChange:Me,color:"var(--background-red-ssg)"}),ee),l(o,t(h,{get when(){return ae?.profile?.isAdmin},get children(){return t(bt,{color:"rgb(200 25 60 / 1)",label:"updManifest",handleClick:De})}}),v),l(_,t(ce,{get list(){return Je()},lbl_empty:"Guia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.guia?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:r=>Be(r),width:"160px"})),l(v,t(h,{get when(){return Xe(()=>!!e?.list?.guia?.id)()&&u()},get children(){return[(()=>{var r=oe();return l(r,t(ce,{get list(){return G("M023009")?.manifestList[e?.list?.guia?.id]},lbl_empty:"Manifiesto",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.manifest?.id},borderColor:"#b2b2b2",hasDebounce:!0,borderActiveColor:"var(--background-red-ssg)",onSelect:m=>N("manifest",m),width:"180px"})),r})(),(()=>{var r=oe();return l(r,t(h,{get when(){return He()},get children(){return t(ce,{get list(){return G("M023009")?.agencies},lbl_empty:"Agencia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.agency?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:m=>N("agency",m),width:"260px"})}})),r})(),(()=>{var r=oe();return l(r,t(ft,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return e?.list?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:m=>N("search",m)})),r})(),(()=>{var r=lt(),m=r.firstChild,y=m.firstChild;return l(m,t(ue,{get initValue(){return A()},updChange:Ie,color:"var(--background-red-ssg)"}),y),l(r,t(h,{get when(){return ae?.profile?.isAdmin},get children(){var k=rt(),Q=k.firstChild;return l(k,t(ue,{get initValue(){return j()},updChange:Ee,color:"var(--background-red-ssg)"}),Q),l(k,t(h,{get when(){return j()},get children(){var V=Y();return V.$$click=Pe,l(V,t(O,{name:"outline_delete",size:24})),V}}),null),k}}),null),r})()]}}),null),l(d,t(h,{get when(){return e?.list?.guia?.id},get children(){var r=nt(),m=r.firstChild;return l(m,t(he,{fallback:y=>(()=>{var k=_e(),Q=k.firstChild,V=Q.nextSibling;return V.nextSibling,l(k,()=>y.toString(),V),k})(),get children(){return t(le,{get fallback(){return(()=>{var y=be();return y.firstChild,l(y,t(X,{stroke:"rgb(200 25 60 / 1)",size:62}),null),y})()},get children(){return t(h,{get when(){return n?.total},get children(){return t(re,{get each(){return W(n)},children:(y,k)=>J()?t(pt,{keyG:y,total:me,get status(){return e?.list?.status},get amount(){return n?.[y]},get showItems(){return u()},updForm:N}):t(yt,{keyG:y,total:me,get showItems(){return u()},get status(){return e?.list?.status},get amount(){return n?.[y]},updForm:N})})}})}})}})),H(()=>ne(r,`client_item_box gWXAaj jlytmu ${J()?"isMobile":""}`)),r}}),w),l(te,t(h,{get when(){return u()},get children(){return t(h,{get when(){return!we()},get fallback(){return(()=>{var r=at(),m=r.firstChild;return l(r,t(X,{stroke:"rgb(200 25 60 / 1)",size:32}),m),r})()},get children(){var r=Y();return r.$$click=Re,l(r,t(O,{name:"grid",size:24,color:"firebrick"})),r}})}}),null),l(te,t(h,{get when(){return ae?.profile?.isAdmin},get children(){return[t(h,{get when(){return!Se()},get fallback(){return(()=>{var r=ot(),m=r.firstChild;return l(r,t(X,{stroke:"rgb(200 25 60 / 1)",size:32}),m),r})()},get children(){var r=Y();return r.$$click=ze,l(r,t(O,{name:"printer",size:24,color:"firebrick"})),r}}),(()=>{var r=Y();return r.$$click=Te,l(r,t(O,{name:"tag-outline",size:24})),r})(),(()=>{var r=Y();return r.$$click=Oe,l(r,t(O,{name:"outline_renew",size:24})),r})()]}}),null),l(d,t(h,{get when(){return c?.prov},get children(){var r=st(),m=r.firstChild,y=m.firstChild,k=m.nextSibling;return l(y,t(h,{get when(){return c?.prov},get children(){return t(re,{get each(){return W(c?.prov)},children:(Q,V)=>t(St,{ism:Q,get item(){return c?.prov?.[Q]},updS:Fe})})}})),k.$$click=Ne,l(k,t(O,{name:"Xclose",size:22})),H(()=>ne(r,`client_item_box gWXAaj jlytmu ${J()?"isMobile":""}`)),r}}),null),l(d,t(he,{fallback:r=>(()=>{var m=_e(),y=m.firstChild,k=y.nextSibling;return k.nextSibling,l(m,()=>r.toString(),k),m})(),get children(){return t(le,{get fallback(){return(()=>{var r=be();return r.firstChild,l(r,t(X,{stroke:"rgb(200 25 60 / 1)",size:62}),null),r})()},get children(){return t(h,{get when(){return U()},get children(){return t(re,{get each(){return U()?.slice(0,R())},children:(r,m)=>t(vt,{item:r,refresh:()=>F(P())})})}})}})}}),null),H(r=>Ue(d,` ${J()?"":"width:94vw;"} margin: 0 auto;`,r)),o})()}const yt=e=>{const[s,n]=M(!1),[a,c]=M(0),g=()=>{let u=e?.keyG;e?.keyG==="total"&&(u=null),e?.updForm("status",u)},p=()=>{s()||!J()&&e?.keyG!=="total"&&(c(G("M023009")?.statusObjDesc?.[e?.keyG]?.length*8.5+"px"),n(!0))},f=()=>{c("0px"),s()&&n(!1)};return t(h,{get when(){return e?.amount>0},get children(){return t(le,{get fallback(){return(()=>{var u=$e();return u.firstChild,l(u,t(X,{stroke:"rgb(200 25 60 / 1)",size:32}),null),u})()},get children(){var u=pe(),I=u.firstChild,R=I.nextSibling;return u.$$mouseout=f,u.$$mousemove=p,u.$$click=g,l(u,t(h,{get when(){return s()},get children(){var E=ct(),A=E.firstChild,T=A.firstChild,j=T.firstChild;return l(j,()=>G("M023009")?.statusObjDesc?.[e?.keyG]),H(Z=>(Z=a())!=null?A.style.setProperty("width",Z):A.style.removeProperty("width")),E}}),I),l(I,t(O,{get name(){return G("M023009")?.statusListIcons?.[e?.keyG]},size:22})),l(u,t(h,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var E=ye(),A=E.firstChild,T=A.nextSibling;return T.nextSibling,l(E,()=>e?.total(),T),E}}),R),l(R,()=>e?.amount),H(()=>ne(u,`resumeStatus centerBx ${e?.keyG==="total"?"witXs":""}  ${e?.status===e?.keyG?"active":""}`)),u}})}})},pt=e=>{const s=()=>{let n=e?.keyG;e?.keyG==="total"&&(n=null),e?.updForm("status",n)};return t(h,{get when(){return e?.amount>0},get children(){return t(le,{get fallback(){return(()=>{var n=$e();return n.firstChild,l(n,t(X,{stroke:"rgb(200 25 60 / 1)",size:32}),null),n})()},get children(){var n=pe(),a=n.firstChild,c=a.nextSibling;return n.$$click=s,l(a,t(O,{get name(){return G("M023009")?.statusListIcons?.[e?.keyG]},size:22})),l(n,t(h,{get when(){return G("M023009")?.statusObjDesc?.[e?.keyG]},get children(){var g=ut(),p=g.firstChild;return l(p,()=>G("M023009")?.statusObjDesc?.[e?.keyG]),g}}),c),l(n,t(h,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var g=ye(),p=g.firstChild,f=p.nextSibling;return f.nextSibling,l(g,()=>e?.total(),f),g}}),c),l(c,()=>e?.amount),H(()=>ne(n,`resumeStatus centerBx  spaceAround ${e?.status===e?.keyG?"active":""}`)),n}})}})},$t=async(e,s,n,a,c,g,p)=>{let f={params:{idairguide:"all"},fldsQry:["street","agency","idairguide","currentStatus","cidentity","ssg_track_key","bagnumber","tracking","estate","city","zone","consigneeInfo:phoneNumber","consigneeInfo:altPhoneNumber","consigneeInfo:firstName","consigneeInfo:middleName","consigneeInfo:lastName","consigneeInfo:lastName2","consigneeInfo:ybstreet","consigneeInfo:ybstreetNo","consigneeInfo:ybbetwen1","consigneeInfo:ybbetwen2","consigneeInfo:ybreparto","consigneeInfo:ybestate","consigneeInfo:ybcity","deliveryUserId","deliveryTime","isSSG","hbls"]};e&&e.split(" ").map((I,R)=>{I&&(f.params[":search"+R]=I.trim())}),s&&(f.params[":guia"]=s*1),n&&(f.params[":search5"]=n),a&&(f.params[":status"]=a),c&&(f.params[":estate"]=c),g&&(f.params[":city"]=g),se?.roles?.agency?f.params[":agency"]=se?.roles?.agency+"":p&&(f.params[":agency"]=p);let u=z(802001);if(f={...f,...u},s&&Object.keys(f.params)?.length>=2){const I=await K(f);return I?.data?.error?{}:I}return{}},kt=async e=>{let s={params:{idairguide:"all",":guia":e}},n=z(802004);s={...s,...n},se?.roles?.agency&&(s.params[":agency"]=se?.roles?.agency+"");const a=await K(s);return a?.error?{}:a},xt=async e=>{let s={params:{idairguide:e,":search5":e,checkDuplicate:!0},fldsQry:["street"]},n=z(802001);s={...s,...n};const a=await K(s);return a?.error?{}:a},Vt=async e=>{e.map(s=>{let n={params:{id:s?.ssg_track_key,idairguide:"all"}},a=z(802002);n={...n,...a}})},Ct=async e=>{let s=[];e.map(n=>{let a={params:{ssg_track_key:n?.ssg_track_key,idairguide:"all"}},c=z(809005);a={...a,...c},s.push(a)}),ve(s,ke)},zt=async(e,s)=>{let n=[];e.map(a=>{let c={params:{ssg_track_key:a?.ssg_track_key,idairguide:"all"},data2update:{currentStatus:s}},g=z(802004);c={...c,...g},n.push(c)}),ve(n,ke)},ke=async e=>{const n=await K(e);if(n)return n},wt=async()=>{let e=z(9898298);const n=await K(e);if(n)return n},St=e=>(()=>{var s=mt();return l(s,t(h,{get when(){return e?.item?.total>0},get children(){var n=dt(),a=n.firstChild,c=a.firstChild,g=c.firstChild,p=c.nextSibling;return a.$$click=()=>e?.updS(e?.ism),l(c,()=>e?.ism,g),l(p,()=>e?.item?.total),n}}),null),l(s,t(_t,{get children(){var n=gt();return l(n,t(h,{get when(){return e?.item?.cities},get children(){return t(re,{get each(){return W(e?.item?.cities)},children:(a,c)=>(()=>{var g=ht(),p=g.firstChild,f=p.nextSibling;return g.$$click=()=>e?.updS(e?.ism,a),l(p,a),l(f,()=>e?.item?.cities?.[a]),g})()})}})),n}}),null),s})();Ye(["click","mousemove","mouseout"]);export{yt as StatusGroupItem,Lt as default,Ct as deleteManifest,ke as fetchCSVInve,wt as getList,Vt as loadManifest,zt as updateManifest};
