const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-BJ3wHvQW.js","assets/index-CO9lE7wP.js","assets/index-DI_XrWgU.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/DropDwnSearch-IWT3TVeQ.js","assets/debounces-DiO_hJra.js","assets/SVG-Dnbx3GRd.js","assets/DropDwnSearch-DMkLkRPc.css","assets/CheckBoxSlide-D5EZTq9Z.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/FlexSpace-CibkrNZm.js","assets/ButonHrm-BD9dbwEF.js","assets/ButonHrm-BSeWNUGQ.css","assets/UpdInventory-Bm8_llzL.js","assets/DialogHRM-Cq0eIrtM.js","assets/DialogHRM-V9_lZntj.css","assets/DashProducts-DWwBXrwn.js","assets/App.module-CbHnVtRQ.js","assets/App-BDG5NEkI.css","assets/InputHr--ekansiv.js","assets/InputHr-BXFw4d2l.css"])))=>i.map(i=>d[i]);
import{l as Q,_ as V,c as D,G as ve,a as H,o as Ce,b as xe,d as K,i,e as a,S as x,F as ie,b4 as ce,f as Y,b5 as Se,J as we,k as de,m as N,z as fe,g as Oe,x as me,n as F,p as T,U as ke,D as Pe,r as Ie,t as S,b6 as qe,w as ne,v as W,b7 as oe,O as te,al as ue,ax as je}from"./index-CO9lE7wP.js";import{u as Be}from"./debounces-DiO_hJra.js";import{OpenModal as Ee}from"./DialogHRM-Cq0eIrtM.js";import{g as be,a as pe}from"./handelImagesServices-9YK2eAD3.js";import{LookupInventory as he}from"./DashInventoryMov-Cq_5rmn0.js";import{LookupProducts as le}from"./DashProducts-DWwBXrwn.js";import{a as Ae}from"./print_invoice_service-BjjUGQ1m.js";import{OpenToast as se}from"./Toast-DTTvYxT1.js";import"./browser-image-compression-BVJ4p9S0.js";import"./AddInventory-9KSAg7Mt.js";import"./FlexSpace-CibkrNZm.js";import"./App.module-CbHnVtRQ.js";import"./fontkit.es-B-SiOn_D.js";import"./InitPrintServices-cDasOoH4.js";import"./qrcode-DHy8FFhS.js";var Ne=S('<div style="padding:50px 0"><section class=qsuVSc><section class=bLl6je><section class=dvPdhb>'),ge=S('<div style=margin:15px class=" spaceAround centerBx">'),Te=S('<section class=KgyCAd><section class=WirBi><div class=EMijzc><p class=jhB0af>Agregar reserva</p><section class="Jm2qx centerBx flxWrp spaceAround "><span class=label aria-hidden=true>Mercancia:</span><select class=RIw0b aria-label=merchandise></select><div class="centerBx bottombx "><h5 class="">Solo Arancel</h5></div></section><div style=margin:15px class=" spaceAround centerBx"><div style=margin:7px></div><div style=margin:7px>'),Ue=S('<section class=qsuVSc><section class=bLl6je><section class=dvPdhb></section></section><section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b">'),De=S("<option> "),Fe=S('<div class="centerBx spaceAround"><div class="centerBx bottombx "><h5 class="">Taxes'),Qe=S('<p class=B7xUP><span data-test-integ-cart-subtotal-label="">Taxes Estimado</span><span data-test-integ-cart-subtotal-value="">$'),Ve=S('<section class=rtS8wf><div class=X3QHFf><div class="LhAUHc evth2b"><div class=kDdWge><div class=QCNFEe><p class=jhB0af>Sumario de la Orden</p></div><div class=qntUl><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Subtotal</span><span data-test-integ-cart-subtotal-value="">$</span></p><p class=B7xUP><span data-test-integ-cart-subtotal-label=""class=OGw7rb>Total Estimado</span><span data-test-integ-cart-subtotal-value=""class=OGw7rb> $</span></p></div></div><div class=oPYFfd><section class=BQHvme><section class=wo08ff><span class=PwY8l2>Fecha:</span><span class=PwY8l33> </span></section><section class=wo08ff><span class=PwY8l2>Invoice:</span><span class=PwY8l33></span></section><section class=wo08ff><span class=PwY8l2>Almacen:</span><span class=PwY8l33> </span></section></section></div><section class="JM2zDb RW86"><div class="centerBx bottombx flxWrp spaceAround">'),_e=S("<section class=dEfaq><section class=JpKBkb><button class=yjHiqb><span>Remove"),Le=S('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),Me=S("<span class=arancelSep> | "),Ye=S('<span class="arancel pricePq"> $'),Je=S('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx><span aria-hidden=true>Qty:</span><span aria-hidden=true class=PwY8l33></span></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price=""class=pricePq>$</span>'),Re=S('<div class=option-header style=padding:17px;margin:5px><span class=option-icon> </span><div class=" centerBx"><span class="option-name ">Env√≠o <!> '),Ge=S("<div class=separator>"),ze=S('<div class="icon_status centerBx "style="margin:0 4px">'),He=S('<div style=padding:8px><div class=" centerBx"><p class=jhB0af>Envia</p></div><div class="bottombx flxWrp spaceAround centerBx"><h4 class=centerBx></h4><h4 class="centerBx phonesNum"></h4></div><div class=separator></div><div class=centerBx><p class=jhB0af>Recibe</p><div class="icon_status centerBx "style="margin:0 4px"></div></div><div class="bottombx spaceAround "><h5></h5><h4></h4><h4 class=" textleft phonesNum"></h4></div><div class="bottombx flxWrp spaceAround centerBx"><p class="textleft "></p><h4></h4></div><div class="bottombx flxWrp spaceAround centerBx"><h5 class="textleft "></h5><h4>'),We=S('<section class="h6rxkc ">'),Ke=S('<section class=KgyCAd><section class=WirBi><section class=""><div class=QCNFEe><p class=jhB0af>Agregar mercancias</p></div><section class="EMijzc centerBx"><div class="icon_status centerBx "style="margin:0 4px"></div><div class="icon_status centerBx "style="margin:0 4px">'),Xe=S('<section class=kGEQJf><section class=Z722Ge><section class=VcJUVb><section class=h7Oog><span class=YdB1ac><img class=bwpkad alt=sf></span><section class=pFJUxe><section class=wDj5sf><span data-line-number=1><span class=XNnpOb href=#> </span></span></section><section class=DHk3Fe><section class=Jm2qx></section><p class=GehUpe data-test-line-item-price=""><span data-test-integ-cart-current-price="">$'),Ze=S('<div class="bottombx centerBx streetcmp"><h5></h5><h4>'),et=S('<div class="centerBx flxWrp">'),tt=S('<div><div class=QCNFEe><p class=jhB0af>Enviar a Solve D Cargo</p></div><p class=B7xUP><span data-test-integ-cart-subtotal-label="">Esta seguro de querer enviar a Solve D Cargo tenga en cuenta que puede duplicar la informacion</span></p><div class=separator></div><div style=margin:15px class=" spaceAround centerBx">');Q(()=>V(()=>import("./LoadingColorSpinner-BJ3wHvQW.js"),__vite__mapDeps([0,1,2,3])));Q(()=>V(()=>import("./DropDwnSearch-IWT3TVeQ.js"),__vite__mapDeps([4,1,2,5,6,7])));const $e=Q(()=>V(()=>import("./CheckBoxSlide-D5EZTq9Z.js"),__vite__mapDeps([8,1,2,9]))),ae=Q(()=>V(()=>import("./FlexSpace-CibkrNZm.js"),__vite__mapDeps([10,1,2]))),M=Q(()=>V(()=>import("./ButonHrm-BD9dbwEF.js"),__vite__mapDeps([11,1,2,6,12])));Q(()=>V(()=>import("./UpdInventory-Bm8_llzL.js"),__vite__mapDeps([13,1,2,14,15,5,16,17,18,10])));const z=Q(()=>V(()=>import("./InputHr--ekansiv.js"),__vite__mapDeps([19,1,2,20]))),re=Q(()=>V(()=>import("./SVG-Dnbx3GRd.js"),__vite__mapDeps([6,1,2]))),[v,B]=D({manifestObj:{}});let it=864e5;function Pt(){const[e,r]=ve();D(),D(),D();const[o,u]=H("");Be(u,400),Ce(()=>{}),xe(()=>{});const h=async()=>{if(e?.mId){let d={":search0":e?.mId,businessId:N?.profile?.businessYId},s=await ye(d);B("manifestObj",s[e?.mId])}};return K(async()=>{B("manifestObj",void 0),h(),qe()}),(()=>{var d=Ne(),s=d.firstChild,n=s.firstChild,b=n.firstChild;return i(d,a(x,{get when(){return v?.manifestObj?.packagesOrder},get children(){return a(lt,{})}}),s),i(b,a(x,{get when(){return v?.manifestObj?.products},get children(){return a(ie,{get each(){return v?.manifestObj?.products},children:($,m)=>a(rt,{itm:$})})}})),i(s,a(x,{get when(){return v?.manifestObj?.packagesOrder&&!v?.manifestObj?.isCompleted},get children(){return a(ot,{})}}),null),i(s,a(st,{get item(){return v?.manifestObj},get list(){return v?.manifestObj}}),null),d})()}const lt=e=>{const r={type:"",qty:0,arancel:0,price:0},[o,u]=D({frm:{...r}}),h=(n,b)=>{u("frm",n,b)},d=n=>{let b={...o?.frm};b.key=je();let $=v?.manifestObj?.reservas||[],m=ne($);m.push(b),console.log(b),B("manifestObj","reservas",m),u("frm",{...r})},s=n=>{h("type",n),ce?.list.filter($=>$.id===n)?.[0]?.isA?h("onlyTariff",!0):h("onlyTariff",!1)};return(()=>{var n=Ue(),b=n.firstChild,$=b.firstChild,m=b.nextSibling,_=m.firstChild,g=_.firstChild;return i($,a(x,{get when(){return v?.manifestObj?.reservas},get children(){return a(ie,{get each(){return v?.manifestObj?.reservas},children:(f,t)=>a(nt,{itm:f})})}})),i(n,a(x,{get when(){return!v?.manifestObj?.isCompleted},get children(){var f=Te(),t=f.firstChild,l=t.firstChild,c=l.firstChild,p=c.nextSibling,y=p.firstChild,C=y.nextSibling,O=C.nextSibling,I=O.firstChild,w=p.nextSibling,P=w.firstChild,U=P.nextSibling;return C.addEventListener("change",k=>{s(k?.target?.value)}),i(C,a(ie,{get each(){return ce?.list},children:(k,X)=>(()=>{var j=De();return j.firstChild,i(j,()=>k.label,null),Y(()=>j.selected=k.id===o?.frm?.type),Y(()=>j.value=k.id),j})()})),i(O,a($e,{get initValue(){return o?.frm?.onlyTariff},updChange:k=>h("onlyTariff",k),color:"var(--background-red-ssg)"}),I),i(w,a(x,{get when(){return!o?.frm?.onlyTariff&&o?.frm?.type},get children(){return a(z,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return o?.frm?.qty||""},label:"cantidad (lbs)",colors:"#2b2b2b",type:"number",handleClick:k=>h("qty",Se(k))})}}),P),i(w,a(x,{get when(){return o?.frm?.qty&&o?.frm?.type},get children(){return a(z,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return o?.frm?.price||""},label:"precio",colors:"#2b2b2b",handleClick:k=>h("price",k)})}}),U),i(w,a(x,{get when(){return o?.frm?.type},get children(){return a(z,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",type:"number",get value(){return o?.frm?.arancel||""},label:"Arancel",colors:"#2b2b2b",handleClick:k=>h("arancel",k)})}}),null),i(l,a(x,{get when(){return(o?.frm?.price&&o?.frm?.qty||o?.frm?.onlyTariff&&o?.frm?.arancel)&&o?.frm?.type},get children(){var k=ge();return i(k,a(M,{color:"#646cff",label:"Agregar",handleClick:d})),k}}),null),f}}),m),i(g,a(at,{get item(){return v?.manifestObj?.shipper_consignee}})),n})()},st=e=>{const r=d=>{let s=0;return e?.item?.products?.map(n=>{s+=G(n?.qty)*G(n?.salePrice)*-1}),e?.item?.reservas?.map(n=>{s+=G(n?.qty)*G(n?.price)+G(n?.arancel)}),s},o=async d=>{let s={...e?.item};s.amount=r();let n=await Ae(s);window.open(n)},u=async()=>{let d={...e?.item},s={params:{businessId:N?.profile?.businessYId,id:d.ssg_sorder_key},form:{isCompleted:!1}},n=F(431007);s={...s,...n},await T(s)},h=async d=>{let s=ne(e?.item);s.isCompleted=!0,s.dayNum=s?.createDate/it;let n={params:{businessId:N?.profile?.businessYId,id:s.ssg_sorder_key},form:s},b=F(431007);n={...n,...b},await T(n);let $={params:{businessId:N?.profile?.businessYId},form:s},m=F(139003);$={...$,...m},await T($);let _={":search0":s.ssg_sorder_key,businessId:N?.profile?.businessYId},g=await ye(_);B("manifestObj",g[s.ssg_sorder_key])};return(()=>{var d=Ve(),s=d.firstChild,n=s.firstChild,b=n.firstChild,$=b.firstChild,m=$.nextSibling,_=m.firstChild,g=_.firstChild,f=g.nextSibling;f.firstChild;var t=_.nextSibling,l=t.firstChild,c=l.nextSibling;c.firstChild;var p=b.nextSibling,y=p.firstChild,C=y.firstChild,O=C.firstChild,I=O.nextSibling;I.firstChild;var w=C.nextSibling,P=w.firstChild,U=P.nextSibling,k=w.nextSibling,X=k.firstChild,j=X.nextSibling;j.firstChild;var Z=p.nextSibling,J=Z.firstChild;return i(b,a(x,{get when(){return!v?.manifestObj?.isCompleted},get children(){return[(()=>{var E=Fe(),A=E.firstChild,L=A.firstChild;return i(A,a($e,{get initValue(){return v?.manifestObj?.hasTax},updChange:R=>B("manifestObj","hasTax",R),color:"var(--background-red-ssg)"}),L),E})(),(()=>{var E=ge();return i(E,a(x,{get when(){return v?.manifestObj?.hasTax},get children(){return a(z,{width:"80px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return v?.manifestObj?.TaxPercent||""},label:"Porciento de Impuestos",colors:"#2b2b2b",type:"number",handleClick:A=>B("manifestObj","TaxPercent",A)})}})),E})()]}}),m),i(f,()=>r().toFixed(2),null),i(m,a(x,{get when(){return v?.manifestObj?.hasTax&&v?.manifestObj?.TaxPercent},get children(){var E=Qe(),A=E.firstChild,L=A.nextSibling;return L.firstChild,i(L,()=>(r()*(v?.manifestObj?.TaxPercent/100)).toFixed(2),null),E}}),t),i(c,()=>(r()*((v?.manifestObj?.TaxPercent?v?.manifestObj?.TaxPercent:0)/100)+r()).toFixed(2),null),i(I,()=>we(e?.item?.createDate),null),i(U,()=>e?.item?.invoice),i(j,()=>de("storeGroupBy")?.[e?.item?.store]?.label,null),i(J,a(M,{color:"#646cff",label:"Imprimir",handleClick:o}),null),i(J,a(x,{get when(){return!e?.item?.isCompleted},get children(){return a(M,{color:"#646cff",label:"Confirmar",handleClick:h})}}),null),i(J,a(x,{get when(){return e?.item?.isCompleted&&N?.profile?.isAdmin},get children(){return a(M,{color:"#646cff",label:"arrow",handleClick:u})}}),null),d})()},rt=e=>{const[r,o]=D(),u=()=>r?.[e?.itm?.product?.id]?.productImageUrl?be()+pe()+"/"+r?.[e?.itm?.product?.id]?.productImageUrl:null,h=async()=>{let s=e?.itm?.product?.id,n=`${s}`,b=await le(n);b?.[s]?.productImageUrl&&o(s,b?.[s])};K(()=>{h()});const d=()=>{console.log(e?.itm);let s=ne(v?.manifestObj?.products);delete s[e?.itm?.product?.id],B("manifestObj","products",s)};return a(x,{get when(){return e?.itm?.salePrice},get children(){var s=Le(),n=s.firstChild,b=n.firstChild,$=b.firstChild,m=$.firstChild,_=m.firstChild,g=m.nextSibling,f=g.firstChild,t=f.firstChild,l=t.firstChild;l.firstChild;var c=f.nextSibling,p=c.firstChild,y=p.firstChild,C=y.nextSibling,O=p.nextSibling,I=O.firstChild;return I.firstChild,i(l,()=>e?.itm?.product?.label,null),i(C,()=>e?.itm?.qty*-1),i(I,()=>(e?.itm?.salePrice*1).toFixed(2),null),i(c,a(x,{get when(){return!v?.manifestObj?.isCompleted},get children(){var w=_e(),P=w.firstChild,U=P.firstChild;return U.$$click=d,w}}),null),Y(()=>fe(_,"src",u())),s}})},nt=e=>{const[r,o]=D(),u=async()=>{let d=e?.itm?.product?.id,s=`${d}`,n=await le(s);n?.[d]?.productImageUrl&&o(d,n?.[d])};K(()=>{u()});const h=()=>{let s=ne(v?.manifestObj?.reservas).filter(n=>n.key!==e?.itm?.key);B("manifestObj","reservas",s)};return(()=>{var d=Je(),s=d.firstChild,n=s.firstChild,b=n.firstChild,$=b.firstChild,m=$.firstChild,_=m.firstChild,g=_.firstChild;g.firstChild;var f=m.nextSibling,t=f.firstChild,l=t.firstChild,c=l.nextSibling,p=t.nextSibling,y=p.firstChild;return y.firstChild,i(g,()=>e?.itm?.type,null),i(c,()=>e?.itm?.qty*1),i(y,()=>(e?.itm?.price*1).toFixed(2),null),i(p,a(x,{get when(){return e?.itm?.arancel},get children(){return[Me(),(()=>{var C=Ye();return C.firstChild,i(C,()=>(e?.itm?.arancel*1).toFixed(2),null),C})()]}}),null),i(f,a(x,{get when(){return!v?.manifestObj?.isCompleted},get children(){var C=_e(),O=C.firstChild,I=O.firstChild;return I.$$click=h,C}}),null),d})()},at=e=>{const[r,o]=H(),[u,h]=H(!0),d=t=>t?" "+t:"",s=t=>d(t?.firstName)+d(t?.middleName)+d(t?.lastName)+d(t?.lastName2),n=t=>{let l=d(t?.altPhoneNumber);return d(t?.phoneNumber)+(l?" |"+l:"")},b=async()=>{let t={};t.id=W(),t.closeEvent=()=>{},t.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},t.content=a(mt,{confirm:$}),Ee(t)},$=async()=>{let t=N?.profile?.agency?.id;if(t&&e?.item?.citiId&&e?.item?.provinceId){let l=e?.item,c=`;${q(l?.firstName)};${q(l?.middleName)};${q(l?.lastName)};${q(l?.lastName2)};N/A;${q(l?.cid)};CUB;${q(l?.phoneNumber)};${q(l?.altPhoneNumber)};${q(l?.ybstreet)};${q(l?.ybstreetNo)};${q(l?.ybbetwen1)};${q(l?.ybbetwen2)};${q(l?.ybreparto)};;${l?.citiId};${l?.provinceId};${q(l?.email)};;${t}`;m("consignee",c)}},m=async(t,l,c)=>{let p=`funcname=insertRecord&option=${t}&params=${l}`,y={query:"querySolveGlobal"};y.params={query:p},await T(y)},_=async()=>{let t={params:{id:e?.item?.name,key:"shipper"}},l=F(181009);t={...t,...l};const c=await T(t);let p=oe(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],c,e?.item);console.log(p),c.cid===e?.item?.cid&&console.log()},g=async()=>{let t={params:{id:e?.item?.cid,key:"consignee"}},l=F(181009);t={...t,...l};const c=await T(t);return console.log(c),oe(["cid","firstName","phoneNumber","lastName","lastName2","middleName","ybbetwen1","ybbetwen2","ybcity","ybestate","ybreparto","ybstreet","ybstreetNo"],c,e?.item).hasChange&&c.cid===e?.item?.cid?e?.item:c},f=async(t,l)=>{let c=await g();console.log(c)};return K(()=>{if(e?.item?.ybestate){let t=de("M023009")?.provincias?.filter?.(l=>l.label===e?.item?.ybestate)?.[0];if(t?.id&&o(t),e?.item?.ybcity){let l=t?.cities?.filter?.(c=>c.label===e?.item?.ybcity)?.[0];l?.id&&B("manifestObj","shipper_consignee","citiId",l?.id)}}f()}),console.log(e?.item),a(x,{get when(){return e?.item?.name},get children(){return[a(x,{get when(){return e?.item?.shipping},get children(){return[(()=>{var t=Re(),l=t.firstChild;l.firstChild;var c=l.nextSibling,p=c.firstChild,y=p.firstChild,C=y.nextSibling;return C.nextSibling,i(l,()=>e?.item?.shipping==="AEREO"?"‚úàÔ∏è":"üö¢",null),i(p,()=>e?.item?.shipping==="AEREO"?"a√©reo":"mar√≠timo",C),t})(),Ge()]}}),(()=>{var t=He(),l=t.firstChild;l.firstChild;var c=l.nextSibling,p=c.firstChild,y=p.nextSibling,C=c.nextSibling,O=C.nextSibling,I=O.firstChild,w=I.nextSibling,P=O.nextSibling,U=P.firstChild,k=U.nextSibling,X=k.nextSibling,j=P.nextSibling,Z=j.firstChild,J=Z.nextSibling,E=j.nextSibling,A=E.firstChild,L=A.nextSibling;return i(l,a(ae,{}),null),i(p,()=>e?.item?.name),y.$$click=_,i(y,()=>e?.item?.phoneNumberS),i(O,a(ae,{}),w),w.$$click=g,i(w,a(re,{name:"success",size:22,get color(){return u()?"#37be5fff":"#c6c6c6"}})),i(O,a(x,{get when(){return!u()},get children(){var R=ze();return R.$$click=b,i(R,a(re,{name:"send",size:22,color:"#646cff"})),R}}),null),i(U,()=>e?.item?.cid),i(k,()=>s(e?.item)),i(X,()=>n(e?.item)),i(Z,()=>ft(e?.item)),i(J,()=>e?.item?.ybreparto),i(A,()=>e?.item?.ybcity),i(L,()=>e?.item?.ybestate),Y(()=>Oe(t,`    ${me()?"isMobile":""}`)),t})()]}})},It=async(e,r)=>{let o={params:e,data2update:r},u=F(431007);return o={...o,...u},await T(o)},ye=async e=>{let r={params:e},o=F(431002);return r={...r,...o},await T(r)},qt=async e=>{let r=[];e.map(o=>{let u={params:{id:o?.ssg_track_key,idairguide:"all"}},h=F(802002);u={...u,...h},r.push(u)}),ke(r,ct)},ct=async e=>{const o=await T(e);if(o)return o},ot=e=>{const[r,o]=H(""),[u,h]=H(1),d=()=>{u()===1&&r().length>8&&s(r())},s=async m=>{let _=N?.profile?.agencyStore?.id,g=`${m}`,f=await le(g),t=te(f)?.[0],l=`${t} ${_}`,c=await he(l),p=0,y=0;te(c)?.map(w=>{c[w]?.products?.map(P=>{t===P?.product?.id&&(p+=P?.price*1*P?.qty*1,y+=P?.qty*1)})});let C=1,O={};v?.manifestObj?.products?.map(w=>{let P={...w};t===w.product.id&&(P.qty=P.qty*-1),O[w.product.id]=P}),O?.[t]&&(C=O?.[t].qty*1+1);const I=y?p/y:0;if(y&&y-C>=0){if(O?.[t])O[t].qty=C*-1;else{let P={product:{id:t,label:f?.[t]?.name,code:f?.[t]?.code},qty:C*-1,price:I,salePrice:f?.[t]?.salePrice};O[t]=P}let w=ue(O);B("manifestObj","products",w),o(""),se({text:f?.[t]?.name+" agregado al carrito",timeout:3500,theme:"blue",id:W()})}else se({text:"Sin Existencia",timeout:3500,theme:"red",id:W()})},[n,{refetch:b}]=Pe(r,async m=>{if(u()===2&&m.length>3){const _=await le(m);let g=[];return te(_).map(f=>{let t=_[f];g.push(t)}),g}else return[]}),$=()=>{o(""),h(1)};return(()=>{var m=Ke(),_=m.firstChild,g=_.firstChild,f=g.firstChild,t=f.nextSibling,l=t.firstChild,c=l.nextSibling;return i(g,a(x,{get when(){return n()?.length>0},get children(){var p=We();return i(p,a(ie,{get each(){return n()},children:(y,C)=>a(dt,{itm:y,clearTx:$})})),p}}),t),i(t,a(z,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return r()},placeholder:"buscar productos ...",colors:"#2b2b2b",handleClick:o,onEnter:d}),l),l.$$click=()=>h(1),i(l,a(re,{name:"qrcode-scan",size:22,get color(){return u()===1?"#646cff":""}})),c.$$click=()=>h(2),i(c,a(re,{name:"keyboard",size:22,get color(){return u()===2?"#646cff":""}})),m})()},dt=e=>{const[r,o]=D(),u=()=>r?.prod?.productImageUrl?be()+pe()+"/"+r?.prod?.productImageUrl:null;K(()=>{o("prod",e?.itm)}),Array.from(Array(10).keys());const h=async d=>{let s=N?.profile?.agencyStore?.id,n=r?.prod?.ssg_product_key,b=`${n} ${s}`,$=await he(b),m=0,_=0;te($)?.map(l=>{$[l]?.products?.map(c=>{n===c?.product?.id&&(m+=c?.price*1*c?.qty*1,_+=c?.qty*1)})});let g=1,f={};v?.manifestObj?.products?.map(l=>{let c={...l};n===l.product.id&&(c.qty=c.qty*-1),f[l.product.id]=c}),f?.[n]&&(g=f?.[n].qty*1+1);const t=_?m/_:0;if(console.log(t,_,m),_&&_-g>=0){if(f?.[n])f[n].qty=g*-1;else{let c={product:{id:n,label:r?.prod?.name,code:r?.prod?.code},qty:g*-1,price:t,salePrice:r?.prod?.salePrice};f[n]=c}let l=ue(f);B("manifestObj","products",l),e?.clearTx(),se({text:r?.prod?.name+" agregado al carrito",timeout:3500,theme:"blue",id:W()})}else e?.clearTx(),se({text:"Sin Existencia",timeout:3500,theme:"red",id:W()})};return a(x,{get when(){return e?.itm?.salePrice},get children(){var d=Xe(),s=d.firstChild,n=s.firstChild,b=n.firstChild,$=b.firstChild,m=$.firstChild,_=$.nextSibling,g=_.firstChild,f=g.firstChild,t=f.firstChild;t.firstChild;var l=g.nextSibling,c=l.firstChild,p=c.nextSibling,y=p.firstChild;return y.firstChild,i(t,()=>e?.itm?.name,null),i(c,a(M,{color:"#646cff",label:"Agregar",handleClick:h})),i(y,()=>(e?.itm?.salePrice*1).toFixed(2),null),Y(()=>fe(m,"src",u())),d}})},ee=(e,r)=>r?(()=>{var o=Ze(),u=o.firstChild,h=u.nextSibling;return i(u," "+e),i(h,r),o})():"",ft=e=>(()=>{var r=et();return i(r,()=>ee("Calle",e?.ybstreet),null),i(r,()=>ee("#",e?.ybstreetNo),null),i(r,()=>ee("E/",e?.ybbetwen1),null),i(r,()=>ee("y",e?.ybbetwen2),null),r})(),G=e=>e?e*1:0,q=e=>e?e.toString().toUpperCase().trim():"";function mt(e){return(()=>{var r=tt(),o=r.firstChild,u=o.nextSibling,h=u.nextSibling,d=h.nextSibling;return r.style.setProperty("max-height","80vh"),r.style.setProperty("overflow","auto"),r.style.setProperty("background","#fff"),r.style.setProperty("border-radius","11px"),r.style.setProperty("padding"," 0 21px"),o.style.setProperty("padding","21px"),i(d,a(ae,{}),null),i(d,a(M,{color:"#646cff",icon:"send",label:"Enviar",get handleClick(){return e.confirm}}),null),Y(s=>(s=me()?"96vw":"420px")!=null?r.style.setProperty("width",s):r.style.removeProperty("width")),r})()}Ie(["click"]);export{Pt as default,ct as fetchCSVInve,ft as getAddress,G as isValNum,qt as loadInventory,It as updConfirmSale};
