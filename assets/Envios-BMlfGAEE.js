const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-hMnmkBAW.js","assets/index-oju9DPd2.js","assets/index-B8E-m_hz.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-rrYqpIFa.js","assets/InputHr-M3rJ9grQ.css","assets/SVG-BIkIVnTe.js","assets/index-Ci0zXM0r.js","assets/DropDwnSearch-BK-FQRKD.js","assets/debounces-BkW_x1Hm.js","assets/DropDwnSearch-DMkLkRPc.css","assets/ContainerElasticView-C_kJb66U.js","assets/ContainerElasticView-LzOd6fDI.css","assets/ButonHrm-Dsh792tZ.js","assets/Util-Dx3vfczV.js","assets/ButonHrm-BSeWNUGQ.css","assets/CheckBoxSlide-ChHYzNQk.js","assets/CheckBoxSlide-uVD3DHDO.css","assets/ItemOnEnvios-DxJ7Cl02.js","assets/DialogHRM-BO8J7Tvl.js","assets/DialogHRM-V9_lZntj.css","assets/globalSignal-Dx2wg24B.js","assets/ShowQRPrintLabel-jCaHmj9u.js","assets/PDFButton-B_0lS8EG.js","assets/qrcode-C5vWJp7P.js","assets/fontkit.es-BKe7DAJ7.js","assets/InitPrintServices-BiO_tIgN.js","assets/Toast-EcAR2H5f.js","assets/Toast-DLpFKn-Q.css","assets/ShowPdfResume-CLvunZUq.js"])))=>i.map(i=>d[i]);
import{l as A,_ as G,c as ie,a as S,o as je,h as qe,b as Qe,m as We,i as n,d as t,f as W,e as Xe,t as v,k as ae,S as h,j as He,q as Ue,E as ge,r as ne,F as re,g as le,s as Ye,v as se}from"./index-oju9DPd2.js";import{b as L,e as be,f as J,l as Je,a as O,O as q,g as B,h as Ke,s as Ze}from"./Util-Dx3vfczV.js";import{u as et}from"./debounces-BkW_x1Hm.js";import{i as Y}from"./globalSignal-Dx2wg24B.js";import{g as me,l as tt}from"./ShowQRPrintLabel-jCaHmj9u.js";import"./Toast-EcAR2H5f.js";import"./DialogHRM-BO8J7Tvl.js";import"./index-Ci0zXM0r.js";import"./PDFButton-B_0lS8EG.js";import"./qrcode-C5vWJp7P.js";import"./fontkit.es-BKe7DAJ7.js";import"./InitPrintServices-BiO_tIgN.js";var he=v("<div style=padding:4px>"),U=v('<div class="icon_status centerBx">'),rt=v('<div class="centerBx bottombx"style=margin-top:10px;><h5>Duplicados'),nt=v('<div><div class="centerBx bottombx "><h5 class="">Manifiesto Incorrecto'),lt=v('<div><div class="_dsplFlx flxWrp spaceAround ">'),st=v('<div><div class="centerBx100 centerBx"><div class=plans></div></div><div class="icon_status centerBx">'),it=v('<div><div class="_dsplFlx flxWrp spaceAround centerBx"><h2>Envios</h2><div class="centerBx bottombx"style=margin-top:10px;><h4></h4></div><div class="centerBx bottombx "><h5 class="">Mostrar Envios</h5></div></div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div style=padding:4px></div></div><div><div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx flxWrp spaceAround ">'),fe=v("<div> <!>."),_e=v("<div> "),at=v("<div class=centerBx><h5 style=margin-left:12px>generando excel"),ot=v("<div class=centerBx><h5 style=margin-left:12px>generando etiquetas"),ct=v("<div class=icon_info><div class=boxOpenInfo><div class=boxInfo><span>"),ye=v("<h5 class=totalBagsNo> <!> / "),$e=v('<div><div class="icon_status centerBx"></div><h5 class=""></h5>'),pe=v("<div class=leftMrg> "),ut=v("<div class=bottombx><h4>"),dt=v('<div class="_dsplFlx bottombx lowbordr"><div class=" bottombx spaceAround centerBx"><h5> :</h5><h4>'),gt=v("<div style=padding:16px;margin-left:20px;>"),mt=v("<div>"),ht=v('<div class="bottombx left centerBx"style=text-align:left;><h4></h4><h5>');const Q=A(()=>G(()=>import("./LoadingColorSpinner-hMnmkBAW.js"),__vite__mapDeps([0,1,2,3]))),ft=A(()=>G(()=>import("./InputHr-rrYqpIFa.js"),__vite__mapDeps([4,1,2,5]))),D=A(()=>G(()=>import("./SVG-BIkIVnTe.js"),__vite__mapDeps([6,1,2,7]))),ve=A(()=>G(()=>import("./DropDwnSearch-BK-FQRKD.js"),__vite__mapDeps([8,1,2,9,6,7,10]))),_t=A(()=>G(()=>import("./ContainerElasticView-C_kJb66U.js"),__vite__mapDeps([11,1,2,6,7,12]))),vt=A(()=>G(()=>import("./ButonHrm-Dsh792tZ.js"),__vite__mapDeps([13,1,2,6,7,14,15]))),oe=A(()=>G(()=>import("./CheckBoxSlide-ChHYzNQk.js"),__vite__mapDeps([16,1,2,17]))),bt=A(()=>G(()=>import("./ItemOnEnvios-DxJ7Cl02.js"),__vite__mapDeps([18,1,2,14,7,19,20,11,6,12,21,22,23,24,25,26,27,28])));A(()=>G(()=>import("./ShowPdfResume-CLvunZUq.js"),__vite__mapDeps([29,1,2,21,22,23,7,24,25,26,14,27,28])));function zt(){const[e,s]=ie({list:{manifest:{id:"",label:""},search:"",status:""}}),[l,a]=ie({}),[u,g]=ie({}),[d,I]=S(""),[o,P]=S(!1),[K,M]=S(64),[E,V]=S(!1),[z,Z]=S(!1),[xe,Ce]=S(""),N=et(I,500);S(!1);const[we,ce]=S(!1),[Se,ue]=S(!1),R=(c,i)=>{s("list",{[c]:i}),N(B())},Ie=()=>{V(!E()),N(B())},Me=()=>{P(!o()),N(B())},Ee=()=>{Z(!z()),N(B())};je(()=>{}),qe(()=>{});const Ae=()=>{M(c=>c+64)},Ge=c=>{let i=Math.ceil(c?.length/64);Ze(Ae,1250,i)},[X,{refetch:It}]=Qe(d,async c=>{a(void 0),g("prov",void 0);let i=e?.list?.manifest?.id;xe()!==i&&Ce(i);let w={},x=[],C={};var $={};if(i&&(w=await kt(i)),!o())a(w?.sumary),g("prov",w?.provinceGroup);else{$=await pt(e?.list?.search,i,e?.list?.status,e?.list?.estate,e?.list?.city,e?.list?.agency?.id),a(w?.sumary),M(0);let H={};if(E())q($).map(k=>{let f=$[k],m=f?.estate||f?.consigneeInfo?.ybestate;H[k]?x.push(f):H[k]=1,O("M023009")?.ZoneCity?.[f?.zone]?.[m]||x.push(f)});else if(z()){let k={};q($).map(f=>{let m=$[f];m?.estate||m?.consigneeInfo?.ybestate,m?.hbls.map(b=>{k[b?.hbl]?(console.log(b?.hbl),x.push(m)):k[b?.hbl]=1}),m?.bagnumber})}else q($).map(k=>{let f=$[k],m=f?.estate||f?.consigneeInfo?.ybestate,b=f?.city||f?.consigneeInfo?.ybcity;(m||b)&&(C[m]||(C[m]={cities:{},total:0}),C[m].cities?.[b]||(C[m].cities[b]=0),C[m].cities[b]+=1,C[m].total+=1),x.push(f)}),g("prov",C);Ge(x)}return x}),de=()=>X()?.length,Be=c=>{s("list",{manifest:c,status:void 0}),N(B())},De=()=>{wt()},Oe=()=>{Ct(X())},Pe=()=>{},Ne=(c,i)=>{R("estate",c),R("city",i)},Fe=(c,i)=>{s("list",{estate:void 0,city:void 0}),N(B())},T=c=>c?" "+c:"",Le=c=>{let i=c?.consigneeInfo;return T(i?.firstName)+T(i?.middleName)+T(i?.lastName)+T(i?.lastName2)},Ve=c=>{let i=c?.consigneeInfo,w=T(i?.altPhoneNumber);return T(i?.phoneNumber)+(w?" | "+w:"")},ze=async()=>{let c=[];ue(!0),setTimeout(async()=>{let i=[[900115,900114],[900107,900106]],w=new Date().getFullYear().toString().slice(2,4);const x=i.map(async($,H)=>{let k=$[0],f=$[1],m="SS"+w;console.log(m+""+k);const b=await me(m+""+k),ee=await me(m+""+f);let te={mtrx:b,mtrx2:ee,lbl:m+""+k,lbl2:m+""+f};c.push(te)});await Promise.all(x);let C=await tt(c);window.open(C),ue(!1)},760)},Re=async()=>{ce(!0);let c=[];X().map(async(i,w)=>{let x=i?.estate||i?.consigneeInfo?.ybestate,C=i?.city||i?.consigneeInfo?.ybcity,$={provincia:x,ciudad:C,nombre:Le(i),telefonos:Ve(i),bulto:i?.bagnumber,hbls:i?.hblS};c.push($)}),Ke(`guia_${B()}.csv`,c),ce(!1)},Te=async c=>{await xt(e?.list?.manifest?.id)};return We(()=>{}),(()=>{var c=it(),i=c.firstChild,w=i.firstChild,x=w.nextSibling,C=x.firstChild,$=x.nextSibling,H=$.firstChild,k=i.nextSibling,f=k.nextSibling,m=f.firstChild,b=f.nextSibling,ee=b.firstChild,te=ee.firstChild;return n(C,()=>e?.list?.manifest?.id),n($,t(oe,{get initValue(){return o()},updChange:Me,color:"var(--background-red-ssg)"}),H),n(c,t(h,{get when(){return ae?.profile?.isAdmin},get children(){return t(vt,{color:"rgb(200 25 60 / 1)",label:"updManifest",handleClick:De})}}),f),n(m,t(ve,{get list(){return Je()},lbl_empty:"Guia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.manifest?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:r=>Be(r),width:"260px"})),n(f,t(h,{get when(){return He(()=>!!e?.list?.manifest?.id)()&&o()},get children(){return[(()=>{var r=he();return n(r,t(h,{get when(){return Ue()},get children(){return t(ve,{get list(){return O("M023009")?.agencies},lbl_empty:"Agencia",backColor:"var(--hrm-palette-primary100)",color:"var(--background-red-ssg)",get value(){return e?.list?.agency?.id},borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",onSelect:_=>R("agency",_),width:"260px"})}})),r})(),(()=>{var r=he();return n(r,t(ft,{width:"260px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return e?.list?.search},placeholder:"search...",colors:"#2b2b2b",handleClick:_=>R("search",_)})),r})(),(()=>{var r=nt(),_=r.firstChild,y=_.firstChild;return n(_,t(oe,{get initValue(){return E()},updChange:Ie,color:"var(--background-red-ssg)"}),y),n(r,t(h,{get when(){return ae?.profile?.isAdmin},get children(){var p=rt(),j=p.firstChild;return n(p,t(oe,{get initValue(){return z()},updChange:Ee,color:"var(--background-red-ssg)"}),j),n(p,t(h,{get when(){return z()},get children(){var F=U();return F.$$click=Oe,n(F,t(D,{name:"outline_delete",size:24})),F}}),null),p}}),null),r})()]}}),null),n(b,t(h,{get when(){return e?.list?.manifest?.id},get children(){var r=lt(),_=r.firstChild;return n(_,t(ge,{fallback:y=>(()=>{var p=fe(),j=p.firstChild,F=j.nextSibling;return F.nextSibling,n(p,()=>y.toString(),F),p})(),get children(){return t(ne,{get fallback(){return(()=>{var y=_e();return y.firstChild,n(y,t(Q,{stroke:"rgb(200 25 60 / 1)",size:62}),null),y})()},get children(){return t(h,{get when(){return l?.total},get children(){return t(re,{get each(){return q(l)},children:(y,p)=>Y()?t($t,{keyG:y,total:de,get status(){return e?.list?.status},get amount(){return l?.[y]},get showItems(){return o()},updForm:R}):t(yt,{keyG:y,total:de,get showItems(){return o()},get status(){return e?.list?.status},get amount(){return l?.[y]},updForm:R})})}})}})}})),W(()=>le(r,`client_item_box gWXAaj jlytmu ${Y()?"isMobile":""}`)),r}}),ee),n(te,t(h,{get when(){return o()},get children(){return t(h,{get when(){return!we()},get fallback(){return(()=>{var r=at(),_=r.firstChild;return n(r,t(Q,{stroke:"rgb(200 25 60 / 1)",size:32}),_),r})()},get children(){var r=U();return r.$$click=Re,n(r,t(D,{name:"grid",size:24,color:"firebrick"})),r}})}}),null),n(te,t(h,{get when(){return ae?.profile?.isAdmin},get children(){return[t(h,{get when(){return!Se()},get fallback(){return(()=>{var r=ot(),_=r.firstChild;return n(r,t(Q,{stroke:"rgb(200 25 60 / 1)",size:32}),_),r})()},get children(){var r=U();return r.$$click=ze,n(r,t(D,{name:"printer",size:24,color:"firebrick"})),r}}),(()=>{var r=U();return r.$$click=Te,n(r,t(D,{name:"tag-outline",size:24})),r})(),(()=>{var r=U();return r.$$click=Pe,n(r,t(D,{name:"outline_renew",size:24})),r})()]}}),null),n(b,t(h,{get when(){return u?.prov},get children(){var r=st(),_=r.firstChild,y=_.firstChild,p=_.nextSibling;return n(y,t(h,{get when(){return u?.prov},get children(){return t(re,{get each(){return q(u?.prov)},children:(j,F)=>t(St,{ism:j,get item(){return u?.prov?.[j]},updS:Ne})})}})),p.$$click=Fe,n(p,t(D,{name:"Xclose",size:22})),W(()=>le(r,`client_item_box gWXAaj jlytmu ${Y()?"isMobile":""}`)),r}}),null),n(b,t(ge,{fallback:r=>(()=>{var _=fe(),y=_.firstChild,p=y.nextSibling;return p.nextSibling,n(_,()=>r.toString(),p),_})(),get children(){return t(ne,{get fallback(){return(()=>{var r=_e();return r.firstChild,n(r,t(Q,{stroke:"rgb(200 25 60 / 1)",size:62}),null),r})()},get children(){return t(h,{get when(){return X()},get children(){return t(re,{get each(){return X()?.slice(0,K())},children:(r,_)=>t(bt,{item:r,refresh:()=>N(B())})})}})}})}}),null),W(r=>Ye(b,` ${Y()?"":"width:94vw;"} margin: 0 auto;`,r)),c})()}const yt=e=>{const[s,l]=S(!1),[a,u]=S(0),g=()=>{let o=e?.keyG;e?.keyG==="total"&&(o=null),e?.updForm("status",o)},d=()=>{s()||!Y()&&e?.keyG!=="total"&&(u(O("M023009")?.statusObjDesc?.[e?.keyG]?.length*8.5+"px"),l(!0))},I=()=>{u("0px"),s()&&l(!1)};return t(h,{get when(){return e?.amount>0},get children(){return t(ne,{get fallback(){return(()=>{var o=pe();return o.firstChild,n(o,t(Q,{stroke:"rgb(200 25 60 / 1)",size:32}),null),o})()},get children(){var o=$e(),P=o.firstChild,K=P.nextSibling;return o.$$mouseout=I,o.$$mousemove=d,o.$$click=g,n(o,t(h,{get when(){return s()},get children(){var M=ct(),E=M.firstChild,V=E.firstChild,z=V.firstChild;return n(z,()=>O("M023009")?.statusObjDesc?.[e?.keyG]),W(Z=>(Z=a())!=null?E.style.setProperty("width",Z):E.style.removeProperty("width")),M}}),P),n(P,t(D,{get name(){return O("M023009")?.statusListIcons?.[e?.keyG]},size:22})),n(o,t(h,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var M=ye(),E=M.firstChild,V=E.nextSibling;return V.nextSibling,n(M,()=>e?.total(),V),M}}),K),n(K,()=>e?.amount),W(()=>le(o,`resumeStatus centerBx ${e?.keyG==="total"?"witXs":""}  ${e?.status===e?.keyG?"active":""}`)),o}})}})},$t=e=>{const s=()=>{let l=e?.keyG;e?.keyG==="total"&&(l=null),e?.updForm("status",l)};return t(h,{get when(){return e?.amount>0},get children(){return t(ne,{get fallback(){return(()=>{var l=pe();return l.firstChild,n(l,t(Q,{stroke:"rgb(200 25 60 / 1)",size:32}),null),l})()},get children(){var l=$e(),a=l.firstChild,u=a.nextSibling;return l.$$click=s,n(a,t(D,{get name(){return O("M023009")?.statusListIcons?.[e?.keyG]},size:22})),n(l,t(h,{get when(){return O("M023009")?.statusObjDesc?.[e?.keyG]},get children(){var g=ut(),d=g.firstChild;return n(d,()=>O("M023009")?.statusObjDesc?.[e?.keyG]),g}}),u),n(l,t(h,{get when(){return e?.keyG==="total"&&e?.showItems},get children(){var g=ye(),d=g.firstChild,I=d.nextSibling;return I.nextSibling,n(g,()=>e?.total(),I),g}}),u),n(u,()=>e?.amount),W(()=>le(l,`resumeStatus centerBx  spaceAround ${e?.status===e?.keyG?"active":""}`)),l}})}})},pt=async(e,s,l,a,u,g)=>{let d={params:{idairguide:"all"},fldsQry:["street","agency","idairguide","currentStatus","cidentity","ssg_track_key","bagnumber","tracking","estate","city","zone","consigneeInfo:phoneNumber","consigneeInfo:altPhoneNumber","consigneeInfo:firstName","consigneeInfo:middleName","consigneeInfo:lastName","consigneeInfo:lastName2","consigneeInfo:ybstreet","consigneeInfo:ybstreetNo","consigneeInfo:ybbetwen1","consigneeInfo:ybbetwen2","consigneeInfo:ybreparto","consigneeInfo:ybestate","consigneeInfo:ybcity","deliveryUserId","deliveryTime","isSSG","hbls"]};e&&e.split(" ").map((o,P)=>{o&&(d.params[":search"+P]=o.trim())}),s&&(d.params[":guia"]=s),l&&(d.params[":status"]=l),a&&(d.params[":estate"]=a),u&&(d.params[":city"]=u),se?.roles?.agency?d.params[":agency"]=se?.roles?.agency+"":g&&(d.params[":agency"]=g);let I=L(802001);if(d={...d,...I},s&&Object.keys(d.params)?.length>=2){const o=await J(d);return console.log(JSON.stringify(d,null,4)),o?.data?.error?{}:o}return{}},kt=async e=>{let s={params:{idairguide:"all",":guia":e}},l=L(802004);s={...s,...l},se?.roles?.agency&&(s.params[":agency"]=se?.roles?.agency+"");const a=await J(s);return a?.error?{}:a},xt=async e=>{let s={params:{idairguide:e,":search5":e,checkDuplicate:!0},fldsQry:["street"]},l=L(802001);s={...s,...l};const a=await J(s);return a?.error?{}:a},Rt=async e=>{e.map(s=>{let l={params:{id:s?.ssg_track_key,idairguide:"all"}},a=L(802002);l={...l,...a}})},Ct=async e=>{let s=[];e.map(l=>{let a={params:{ssg_track_key:l?.ssg_track_key,idairguide:"all"}},u=L(809005);a={...a,...u},s.push(a)}),be(s,ke)},Tt=async(e,s)=>{let l=[];e.map(a=>{let u={params:{ssg_track_key:a?.ssg_track_key,idairguide:"all"},data2update:{currentStatus:s}},g=L(802004);u={...u,...g},l.push(u)}),be(l,ke)},ke=async e=>{const l=await J(e);if(l)return l},wt=async()=>{let e=L(9898298);const l=await J(e);if(console.log(e),console.log(l),l)return l},St=e=>(()=>{var s=mt();return n(s,t(h,{get when(){return e?.item?.total>0},get children(){var l=dt(),a=l.firstChild,u=a.firstChild,g=u.firstChild,d=u.nextSibling;return a.$$click=()=>e?.updS(e?.ism),n(u,()=>e?.ism,g),n(d,()=>e?.item?.total),l}}),null),n(s,t(_t,{get children(){var l=gt();return n(l,t(h,{get when(){return e?.item?.cities},get children(){return t(re,{get each(){return q(e?.item?.cities)},children:(a,u)=>(()=>{var g=ht(),d=g.firstChild,I=d.nextSibling;return g.$$click=()=>e?.updS(e?.ism,a),n(d,a),n(I,()=>e?.item?.cities?.[a]),g})()})}})),l}}),null),s})();Xe(["click","mousemove","mouseout"]);export{yt as StatusGroupItem,zt as default,Ct as deleteManifest,ke as fetchCSVInve,wt as getList,Rt as loadManifest,Tt as updateManifest};
