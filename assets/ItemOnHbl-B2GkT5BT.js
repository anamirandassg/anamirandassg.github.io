const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-BX1UPUqu.js","assets/index-VdK9295G.js","assets/index-DHvNTsK7.css","assets/ShowQR-DC0_HBHF.js","assets/ShowQRPrintLabel-BABH-Tp7.js","assets/DropDwnSearch-CVfyzXaC.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as I,_ as C,a as S,c as ee,q as te,b as ie,d as s,i as n,S as d,a2 as B,k,s as ne,w as re,m,P as O,F as le,B as Q,R as ae,e as se,t as g,g as $,O as ce,H as N,I as ue,n as de}from"./index-VdK9295G.js";import{g as ge}from"./ShowQRPrintLabel-BABH-Tp7.js";var oe=g('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),V=g('<div class="centerBx bottombx"><h5>'),me=g('<div class=" tr_bar_20 _dsplFlx"><div class="icon_status centerBx">'),z=g("<div class=bag_number><h5>"),W=g("<div class=bottombx><h5>"),j=g("<div><div>"),_e=g('<p class="tr_bar_30 textleft fullName_consigne">'),he=g("<div style=margin-right:4vw>"),ve=g('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),be=g("<div>"),$e=g('<div class="centerBx flxWrp spaceAround "><img ref width=200 alt=qr>'),fe=g('<div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class="_dsplFlx topbx centerBx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),xe=g('<div class=" resumeStatus icon_status centerBx"><div class=bottombx bottombx><h4>');const D=I(()=>C(()=>import("./FlexSpace-BX1UPUqu.js"),__vite__mapDeps([0,1,2]))),F=I(()=>C(()=>import("./index-VdK9295G.js").then(e=>e.a8),__vite__mapDeps([1,2]))),ye=I(()=>C(()=>import("./ShowQR-DC0_HBHF.js"),__vite__mapDeps([3,1,2,4])));I(()=>C(()=>import("./DropDwnSearch-CVfyzXaC.js"),__vite__mapDeps([5,1,2,6])));function Ee(e){const[A,Z]=S(""),[L,b]=ee({}),[E,G]=S(""),[Se,T]=S(""),[H,M]=S(""),_=i=>i?" "+i:"",q=()=>{let i=e?.item?.consigneeInfo;return _(i?.firstName)+_(i?.middleName)+_(i?.lastName)+_(i?.lastName2)},U=()=>{let i=e?.item?.consigneeInfo,l=_(i?.altPhoneNumber);return _(i?.phoneNumber)+(l?" |"+l:"")},X=()=>{let i=e?.item?.street.split(",");return i.slice(0,i.length-2).join(",")},f=i=>{let l="";if(i)l=i;else if(e?.item?.hblS){let o=e?.item?.hblS;l=`${e?.item?.idairguide}/${e?.item?.cidentity}/${o}`}let u={};u.id=$(),u.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},u.content=s(ye,{val:l,get item(){return e?.item}}),ce(u)},h=i=>{let l=i,u="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const o=new RegExp(u);return l.length===13&&o.test(l)&&(l=l.slice(3,12)),l},x=(i,l)=>{G(l),T(i),setTimeout(()=>{T("")},300)},y=i=>{M(i),setTimeout(()=>{M("")},3e3)},Y=async i=>{let l={timeStamp:new Date().getTime(),latitude:N?.latitude,longitude:N?.longitude,statusId:i,userId:ue?.profile?.userId};if(e?.item?.idairguide){let u=e?.item?.statusHistory||[];u.push(l);let o={idairguide:e?.item?.idairguide,ssg_track_key:e?.item?.ssg_track_key},v=e?.item?.estate||e?.item?.consigneeInfo?.ybestate,P=e?.item?.city||e?.item?.consigneeInfo?.ybcity;if(e?.item?.tracking,A(),new Date().getTime(),b(""),b(e?.item),y($()),x("","success"),!O?.roles?.[v])x("","warning"),b({consigneeInfo:{ybestate:"Zona incorrecta"}}),y($());else if(e?.item?.currentStatus!==l.statusId){let R={statusHistory:u,currentStatus:l.statusId};await we(o,R),e?.newSear()}else x("","warning"),b({consigneeInfo:{ybcity:"Fue escaneado",ybestate:e?.item?.consigneeInfo?.ybestate}}),y($())}else x("","error"),b({consigneeInfo:{ybestate:"Error con manifiesto"}}),y($())};te(()=>{});const J=()=>N?.list?.filter(i=>i.id),[K,{refetch:ke}]=ie(e?.showQR,async()=>{let i=h(e?.item?.tracking);return await ge(i)});return s(d,{get when(){return e?.item?.tracking},get children(){var i=fe(),l=i.firstChild,u=l.nextSibling,o=u.firstChild,v=o.firstChild,P=v.nextSibling,R=P.nextSibling;return l.style.setProperty("padding","16px"),n(l,s(d,{get when(){return H()},get children(){var t=oe(),a=t.firstChild,r=a.nextSibling;return n(a,s(F,{get name(){return B?.[E()]?.icon},size:32,get color(){return B?.[E()]?.svg}})),n(r,()=>L?.consigneeInfo?.ybestate),k(c=>ne(t,B?.[E()],c)),t}})),n(u,s(d,{get when(){return e?.item?.tracking},get children(){return[(()=>{var t=me(),a=t.firstChild;return n(a,s(F,{get name(){return re?.[e?.item?.currentStatus]},size:32})),n(t,s(d,{get when(){return!m()&&e?.item?.idairnumber},get children(){var r=V(),c=r.firstChild;return n(c,()=>e?.item?.idairnumber),r}}),null),t})(),s(d,{get when(){return m()&&e?.item?.tracking},get children(){return[s(D,{}),(()=>{var t=j(),a=t.firstChild;return n(a,s(d,{get when(){return e?.item?.bagnumber},get children(){var r=z(),c=r.firstChild;return r.$$click=()=>f(null),n(c,()=>e?.item?.bagnumber),r}})),n(t,s(d,{get when(){return e?.item?.tracking},get children(){var r=W(),c=r.firstChild;return r.$$click=()=>f(h(e?.item?.tracking)),n(c,()=>h(e?.item?.tracking)),r}}),null),t})()]}}),s(d,{get when(){return!m()},get children(){return[(()=>{var t=_e();return n(t,q),t})(),he()]}})]}}),o),n(u,s(D,{}),o),n(v,()=>e?.item?.consigneeInfo?.ybcity),n(R,()=>e?.item?.consigneeInfo?.ybestate),n(u,s(D,{}),null),n(u,s(d,{get when(){return!m()&&e?.item?.tracking},get children(){var t=j(),a=t.firstChild;return n(a,s(d,{get when(){return e?.item?.bagnumber},get children(){var r=z(),c=r.firstChild;return r.$$click=()=>f(null),n(c,()=>h(e?.item?.bagnumber)),r}})),n(t,s(d,{get when(){return e?.item?.tracking},get children(){var r=W(),c=r.firstChild;return r.$$click=()=>f(h(e?.item?.tracking)),n(c,()=>h(e?.item?.tracking)),r}}),null),t}}),null),n(i,s(d,{get when(){return m()&&e?.item?.idairnumber},get children(){var t=V(),a=t.firstChild;return n(a,()=>e?.item?.idairnumber),t}}),null),n(i,s(d,{get when(){return m()&&e?.item?.consigneeInfo?.ybcity},get children(){var t=ve(),a=t.firstChild,r=a.nextSibling,c=r.nextSibling,w=c.nextSibling;return n(a,q),n(c,U),n(w,X),t}}),null),n(i,s(d,{get when(){return!e?.showQR&&O?.roles?.HBLUPD?.isActive},get children(){var t=be();return n(t,s(le,{get each(){return J()},children:(a,r)=>(()=>{var c=xe(),w=c.firstChild,p=w.firstChild;return c.$$click=Ie=>Y(a.id),c.style.setProperty("padding","9px"),n(c,s(F,{get name(){return a.icon},size:24}),w),n(p,()=>m()?a.label:a.tag),c})()})),k(()=>Q(t,m()?"":" bottombx flxWrp spaceAround centerBx")),t}}),null),n(i,s(d,{get when(){return e?.showQR},get children(){var t=$e(),a=t.firstChild;return t.style.setProperty("padding","16px"),k(()=>ae(a,"src",K())),t}}),null),k(t=>{var a=`client_item_box gWXAaj jlytmu ${m()?"isMobile":""}`,r=H()?"block":"none";return a!==t.e&&Q(i,t.e=a),r!==t.t&&((t.t=r)!=null?l.style.setProperty("display",r):l.style.removeProperty("display")),t},{e:void 0,t:void 0}),i}})}const we=async(e,A)=>await de({params:e,query:"updateLogisticYabaExpress",data2update:A});se(["click"]);export{Ee as default};
