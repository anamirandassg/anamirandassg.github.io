const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-kZhm73hx.js","assets/index-BQ7-HHif.js","assets/index-D4QuRvi-.css","assets/LoadingColorSpinner-DPNLfwBi.css"])))=>i.map(i=>d[i]);
import{k as j,l as G,_ as J,u as K,c as C,a as v,h as Q,o as X,m as Z,d as o,e as ee,i as s,S as b,f as _,s as z,F as te,g as re,n as ae,t as g}from"./index-BQ7-HHif.js";import se from"./InputHr-BSALBoHe.js";import{f as T,b as R,g as ne,t as A,a as w}from"./Util-Ho0G8bBr.js";import $ from"./SVG-D5BxZ_zU.js";import"./index-Ci0zXM0r.js";let le={webp:"image/webp",jpg:"image/jpg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",ts:"video/MP2T",m3u8:"application/x-mpegURL",mp4:"video/MP4",m4a:"audio/MP4",webm:"video/webm",weba:"audio/webm",m4s:"text/plain",txt:"text/plain",srt:"text/plain",vtt:"text/plain",js:"application/javascript; charset=UTF-8",css:"text/css; charset=utf-8",mpd:"video/vnd.mpeg.dash.mpd",aac:"audio/aac",mp3:"audio/mpeg",wav:"audio/wav",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pdf:"application/pdf","7z":"application/x-7z-compressed",zip:"application/zip",xml:"application/xml",json:"application/json",html:"text/html; charset=UTF-8"};const ie=a=>a&&a.split(".").pop().toLowerCase(),oe=a=>{let n=ie(a);return le[n]},ce=async(a,n)=>{let p=await(await fetch(a)).blob();return n&&(p=p.slice(0,p.size,n)),URL.createObjectURL(p)},de=async a=>{let n={query:"getSignedUrl",params:{fileName:a}};var t;return j()?t=await T(n):t=(await R(n))?.data,t?.url?t:null},pe=async a=>{let n=oe(a);var t=await de(a),p=await ce(t?.url,n);return p};var ue=g('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),me=g('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><div><div></div><div class="_dsplFlx bottombx lowbordr spaceAround"><h5>'),ge=g('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding-top:50px><div class="_dsplFlx flxWrp spaceAround centerBx"><div></div><div class="_dsplFlx bottombx"><h4> </h4><div class=vertseparator></div><h5>'),ve=g('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><div class=" bottombx"><div class="_dsplFlx bottombx spaceAround centerBx"><h5>Estado del envio: </h5><h4></h4></div><h4> '),fe=g('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><img alt=sf style=width:320px>'),xe=g("<div> "),he=g('<div class="icon_status centerBx">'),be=g('<div class="icon_status centerBx trackFade">'),_e=g('<div class="icon_status centerBx ">');const $e=G(()=>J(()=>import("./LoadingColorSpinner-kZhm73hx.js"),__vite__mapDeps([0,1,2,3])));function Pe(){const[a,n]=K(),[t,p]=C();C({lbs:"",price:0});const[L,M]=C({}),[Y,U]=v(""),[y,B]=v(!1);v();const[k,H]=v(""),[ke,F]=v(""),[P,E]=v(""),[W,S]=v("");Q(()=>{}),X(()=>{}),Z(()=>{a?.id?(S(!1),I(a?.id)):S(!0)});const D=(r,e)=>{H(e),F(r),setTimeout(()=>{F("")},300)},O=r=>{E(r),setTimeout(()=>{E("")},3e3)},I=async r=>{let e=r,i="^[0-9]{4}-[1-9]{4}";const u=new RegExp(i);let c=e.length===9&&u.test(e),l="^Y24[0-9]{6}";const m=new RegExp(l);let h=e.length===9&&m.test(e),f="^[0-9]";const d=new RegExp(f);let N=e.length>6&&e.length<11&&d.test(e);if(c&&e.slice(0,4),c||h||N){let x=await we(e);if(x){if(x?.currentStatus==="YABA_99"&&x?.deliveryProof){let V=await pe(x?.deliveryProof);x.deliveryProofBlob=V}p("tracking",x),B(!0),n({id:e})}}else D("","error"),M({consigneeInfo:{ybestate:"Codigo Incorrecto"}}),O(ne());S(!0)};let q=Array.from(Array(8).keys());return o(b,{get when(){return W()},get fallback(){return(()=>{var r=xe();return r.firstChild,s(r,o($e,{stroke:"rgb(200 25 60 / 1)",size:62}),null),r})()},get children(){return[(()=>{var r=me(),e=r.firstChild,i=e.firstChild,u=i.nextSibling,c=u.firstChild;return s(i,o(b,{get when(){return P()},get children(){var l=ue(),m=l.firstChild,h=m.nextSibling;return s(m,o($,{get name(){return A?.[k()]?.icon},size:32,get color(){return A?.[k()]?.svg}})),s(h,()=>L?.consigneeInfo?.ybestate),_(f=>z(l,A?.[k()],f)),l}})),s(e,o(b,{get when(){return!y()},get children(){return o(se,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return Y()},placeholder:"Numero de envio ...",colors:"#2b2b2b",handleClick:U,onEnter:I})}}),u),u.$$click=()=>B(!1),s(c,()=>y()?"Rastrear otro numero de envio":"Escriba su numero de envio"),_(l=>z(i,`padding: 15px 0px; margin: 0 auto; display: ${P()?"block":"none"};`,l)),r})(),o(b,{get when(){return y()&&t?.tracking},get children(){return[(()=>{var r=ge(),e=r.firstChild,i=e.firstChild,u=i.nextSibling,c=u.firstChild,l=c.firstChild,m=c.nextSibling,h=m.nextSibling;return s(e,o(te,{each:q,children:f=>w("M023009")?.statusIndex[t?.tracking?.currentStatus]!==0&&f===0?(()=>{var d=he();return s(d,o($,{name:"market",size:32,color:"var(--hrm-palette-neutral-variant30)"})),d})():f===w("M023009")?.statusIndex[t?.tracking?.currentStatus]?(()=>{var d=be();return s(d,o($,{get name(){return w("M023009")?.statusListIcons?.[t?.tracking?.currentStatus]},size:32,color:"var(--background-red-ssg)"})),d})():(()=>{var d=_e();return s(d,o($,{name:"radio_unchecked",size:16,color:"var(--hrm-palette-neutral-variant30)"})),d})()}),i),s(i,o($,{name:"map-marker-radius-outline",size:32,get color(){return t?.tracking?.currentStatus==="YABA_99"?"var(--hrm-palette-tertiary60)":"var(--hrm-palette-neutral-variant30)"}})),s(c,()=>t?.tracking?.consigneeInfo?.ybestate,l),s(h,()=>t?.tracking?.consigneeInfo?.ybcity),_(()=>re(i,`icon_status centerBx ${t?.tracking?.currentStatus==="YABA_99"?"trackFade":""} `)),r})(),(()=>{var r=ve(),e=r.firstChild,i=e.firstChild,u=i.firstChild,c=u.nextSibling,l=i.nextSibling;return l.firstChild,s(c,()=>a?.id),s(l,()=>w("M023009")?.statusObjDesc?.[t?.tracking?.currentStatus],null),_(m=>(m=t?.tracking?.currentStatus==="YABA_99"?"var(--hrm-palette-tertiary60)":"var(--background-red-ssg)")!=null?l.style.setProperty("color",m):l.style.removeProperty("color")),r})(),o(b,{get when(){return t?.tracking?.deliveryProofBlob},get children(){var r=fe(),e=r.firstChild;return _(()=>ae(e,"src",t?.tracking?.deliveryProofBlob)),r}})]}})]}})}const we=async a=>await ye({query:"tr504009",params:{id:a}}),ye=async a=>j()?await T(a):(await R(a))?.data;ee(["click"]);export{Pe as default};
