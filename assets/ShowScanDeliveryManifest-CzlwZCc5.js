const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SVG-CS-6Om-s.js","assets/index-oNqpx5mP.js","assets/index-B8kuA055.css","assets/FlexSpace-RIPQKJa9.js"])))=>i.map(i=>d[i]);
import{l as _,_ as w,e as I,a as h,p as R,q as $,i as b,d as S,f as A,h as L,g as D,t as G,n as N}from"./index-oNqpx5mP.js";import{H as q,a as B}from"./html5-qrcode-scanner-BWyWgZwH.js";import"./DashManifest-DUekyrjK.js";import"./LinkManifest-xPhCS2ko.js";import"./DialogHRM-D2aLVq9a.js";var O=G('<div><div><div class="_dsplFlx bottombx lowbordr"><h5>Confirmar Entrega</h5><div class="icon_status centerBx"></div></div></div><div class=" flxWrp spaceAround centerBx"style="margin:30px 0"><div><div></div><div id=qr-reader style=width:220px>');const Q=_(()=>w(()=>import("./SVG-CS-6Om-s.js"),__vite__mapDeps([0,1,2]))),j=_(()=>w(()=>import("./FlexSpace-RIPQKJa9.js"),__vite__mapDeps([3,1,2])));let m;function Z(p){const[C,H]=h(""),[f,g]=h(""),[P,v]=h();R(()=>{m?.clear()}),$(()=>{setTimeout(()=>{E()},90)});const y=(e,s)=>{e!==P()&&(v(e),setTimeout(()=>{v("")},3e3),k(e))},k=e=>{e||(e=C()),e=e.split("'").join("-"),new Date().getTime(),globalScaningLocation?.latitude,globalScaningLocation?.longitude,p?.status,N?.profile?.userId;let s=e.split("/");e.split("-").length>3&&(s=e.split("-").join);let t=s?.[0],i="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const l=new RegExp(i);let n=t.length===13&&l.test(t),a="^[0-9]{4}-[1-9]{4}";const c=new RegExp(a);let r=t.length===9&&c.test(t),d=s.length>4&&t.length===12,o={idairguide:s?.[0],":search0":s?.[1],":search1":s?.[3]};n&&(o={idairguide:"175-2383"+t.slice(3,7),":search0":t}),r&&(o={idairguide:"175-2383"+t.slice(0,4),":search0":t}),(n||d||r)&&x(o)},x=async e=>{let s=await LookupBags(e),t=Object.keys(s)?.[0];if(s[t]?.cidentity){let i=s[t]?.cidentity,l=s[t]?.ssg_track_key,a={...p?.item}?.customers?.[i]?.bagsNumb?.[l];g(a?"success":"alert"),setTimeout(()=>{g("")},1800),console.log("customers bagsNumbId ",a),p?.callback(s[t])}},E=()=>{let e={fps:10,qrbox:{width:250,height:200},supportedScanTypes:[q.SCAN_TYPE_CAMERA],showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,verbose:!0};m=new B("qr-reader",e),m.render(y)};return(()=>{var e=O(),s=e.firstChild,t=s.firstChild,i=t.firstChild,l=i.nextSibling,n=s.nextSibling,a=n.firstChild,c=a.firstChild;return e.style.setProperty("max-height","80vh"),e.style.setProperty("overflow","auto"),e.style.setProperty("background","#ffffff"),e.style.setProperty("border-radius","13"),e.style.setProperty("padding","10px 19px"),i.$$click=y,b(t,S(j,{}),l),l.$$click=()=>{},b(l,S(Q,{name:"keyboard",size:32,color:"#2b2b2b"})),A(r=>{var d=L()?"92vw":"420px",o=`scanOverlay ${f()} `,u=f()?"block":"none";return d!==r.e&&((r.e=d)!=null?e.style.setProperty("width",d):e.style.removeProperty("width")),o!==r.t&&D(c,r.t=o),u!==r.a&&((r.a=u)!=null?c.style.setProperty("display",u):c.style.removeProperty("display")),r},{e:void 0,t:void 0,a:void 0}),e})()}I(["click"]);export{Z as S};
