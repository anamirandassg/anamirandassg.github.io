const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-DjCBl-re.js","assets/index-CD4f1kvY.js","assets/index-DHvNTsK7.css","assets/ShowQR-IqFOagIf.js","assets/ShowQRPrintLabel-IYoXSxpy.js","assets/DropDwnSearch-BXzGyGQX.js","assets/DropDwnSearch-DMkLkRPc.css"])))=>i.map(i=>d[i]);
import{l as w,_ as I,a as S,c as K,d as a,i as r,S as d,a2 as A,k as V,s as U,w as p,m as b,F as ee,B as te,e as ie,t as g,g as $,O as ne,H as N,I as re,P as le,n as ae}from"./index-CD4f1kvY.js";import"./ContainerElasticView-DuSVy0YU.js";import"./ItemOnEnviosAlert-n37ytIzv.js";var se=g('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),ce=g("<div class=guide_number><h5>"),ue=g('<div class=" tr_bar_10 _dsplFlx"><div class="icon_status centerBx">'),z=g("<div class=bag_number><h5>"),q=g("<div class=bottombx><h5>"),W=g("<div><div>"),de=g('<p class="tr_bar_30 textleft fullName_consigne">'),oe=g("<div style=margin-right:4vw>"),ge=g('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),me=g('<div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class="_dsplFlx topbx centerBx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4></h4></div></div><div class=" bottombx flxWrp spaceAround centerBx">'),_e=g('<div class=" resumeStatus icon_status centerBx"><span>');const B=w(()=>I(()=>import("./FlexSpace-DjCBl-re.js"),__vite__mapDeps([0,1,2]))),T=w(()=>I(()=>import("./index-CD4f1kvY.js").then(e=>e.a8),__vite__mapDeps([1,2]))),he=w(()=>I(()=>import("./ShowQR-IqFOagIf.js"),__vite__mapDeps([3,1,2,4])));w(()=>I(()=>import("./DropDwnSearch-BXzGyGQX.js"),__vite__mapDeps([5,1,2,6])));function xe(e){const[k,j]=S(""),[F,h]=K({}),[C,Q]=S(""),[be,D]=S(""),[H,L]=S(""),m=t=>t?" "+t:"",R=()=>{let t=e?.item?.consigneeInfo;return m(t?.firstName)+m(t?.middleName)+m(t?.lastName)+m(t?.lastName2)},Z=()=>{let t=e?.item?.consigneeInfo,l=m(t?.altPhoneNumber);return m(t?.phoneNumber)+(l?" |"+l:"")},M=()=>{let t=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let l=t.reduce((s,o)=>Math.min(s,o.timeStamp),1/0);return Math.floor((new Date().getTime()-l)/864e5)}else return null},G=()=>{let t=e?.item?.street.split(",");return t.slice(0,t.length-2).join(",")},f=t=>{let l="";if(t)l=t;else if(e?.item?.hblS){let o=e?.item?.hblS;l=`${e?.item?.idairguide}/${e?.item?.cidentity}/${o}`}let s={};s.id=$(),s.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},s.content=a(he,{val:l,get item(){return e?.item}}),ne(s)},v=t=>{let l=t,s="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const o=new RegExp(s);return l.length===13&&o.test(l)&&(l=l.slice(3,12)),l},y=(t,l)=>{Q(l),D(t),setTimeout(()=>{D("")},300)},x=t=>{L(t),setTimeout(()=>{L("")},3e3)},X=async t=>{let l={timeStamp:new Date().getTime(),latitude:N?.latitude,longitude:N?.longitude,statusId:t,userId:re?.profile?.userId};if(e?.item?.idairguide){let s=e?.item?.statusHistory||[];s.push(l);let o={idairguide:e?.item?.idairguide,ssg_track_key:e?.item?.ssg_track_key},_=e?.item?.estate||e?.item?.consigneeInfo?.ybestate,E=e?.item?.city||e?.item?.consigneeInfo?.ybcity;if(e?.item?.tracking,k(),new Date().getTime(),h(""),h(e?.item),x($()),y("","success"),!le?.roles?.[_])y("","warning"),h({consigneeInfo:{ybestate:"Zona incorrecta"}}),x($());else if(e?.item?.currentStatus!==l.statusId){let P={statusHistory:s,currentStatus:l.statusId};await ve(o,P),e?.newSear()}else y("","warning"),h({consigneeInfo:{ybcity:"Fue escaneado",ybestate:e?.item?.consigneeInfo?.ybestate}}),x($())}else y("","error"),h({consigneeInfo:{ybestate:"Error con manifiesto"}}),x($())},Y=()=>N?.list?.filter(t=>t.id);return a(d,{get when(){return e?.item?.tracking},get children(){var t=me(),l=t.firstChild,s=l.nextSibling,o=s.firstChild,_=o.firstChild,E=_.nextSibling,P=E.nextSibling,J=s.nextSibling;return l.style.setProperty("padding","16px"),r(l,a(d,{get when(){return H()},get children(){var n=se(),u=n.firstChild,i=u.nextSibling;return r(u,a(T,{get name(){return A?.[C()]?.icon},size:32,get color(){return A?.[C()]?.svg}})),r(i,()=>F?.consigneeInfo?.ybestate),V(c=>U(n,A?.[C()],c)),n}})),r(s,a(d,{get when(){return e?.item?.tracking},get children(){return[(()=>{var n=ue(),u=n.firstChild;return r(u,a(T,{get name(){return p?.[e?.item?.currentStatus]},size:32})),r(n,a(d,{get when(){return M()},get children(){var i=ce(),c=i.firstChild;return r(c,M),i}}),null),n})(),a(d,{get when(){return b()&&e?.item?.tracking},get children(){return[a(B,{}),(()=>{var n=W(),u=n.firstChild;return r(u,a(d,{get when(){return e?.item?.bagnumber},get children(){var i=z(),c=i.firstChild;return i.$$click=()=>f(null),r(c,()=>e?.item?.bagnumber),i}})),r(n,a(d,{get when(){return e?.item?.tracking},get children(){var i=q(),c=i.firstChild;return i.$$click=()=>f(v(e?.item?.tracking)),r(c,()=>v(e?.item?.tracking)),i}}),null),n})()]}}),a(d,{get when(){return!b()},get children(){return[(()=>{var n=de();return r(n,R),n})(),oe()]}})]}}),o),r(s,a(B,{}),o),r(_,()=>e?.item?.consigneeInfo?.ybcity),r(P,()=>e?.item?.consigneeInfo?.ybestate),r(s,a(B,{}),null),r(s,a(d,{get when(){return!b()&&e?.item?.tracking},get children(){var n=W(),u=n.firstChild;return r(u,a(d,{get when(){return e?.item?.bagnumber},get children(){var i=z(),c=i.firstChild;return i.$$click=()=>f(null),r(c,()=>v(e?.item?.bagnumber)),i}})),r(n,a(d,{get when(){return e?.item?.tracking},get children(){var i=q(),c=i.firstChild;return i.$$click=()=>f(v(e?.item?.tracking)),r(c,()=>v(e?.item?.tracking)),i}}),null),n}}),null),r(J,a(ee,{get each(){return Y()},children:(n,u)=>(()=>{var i=_e(),c=i.firstChild;return i.$$click=O=>X(n.id),i.style.setProperty("padding","9px"),r(i,a(T,{get name(){return n.icon},size:24}),c),r(c,()=>n.tag),i})()})),r(t,a(d,{get when(){return b()&&e?.item?.consigneeInfo?.ybcity},get children(){var n=ge(),u=n.firstChild,i=u.nextSibling,c=i.nextSibling,O=c.nextSibling;return r(u,R),r(c,Z),r(O,G),n}}),null),V(n=>{var u=`client_item_box gWXAaj jlytmu ${b()?"isMobile":""}`,i=H()?"block":"none";return u!==n.e&&te(t,n.e=u),i!==n.t&&((n.t=i)!=null?l.style.setProperty("display",i):l.style.removeProperty("display")),n},{e:void 0,t:void 0}),t}})}const ve=async(e,k)=>await ae({params:e,query:"updateLogisticYabaExpress",data2update:k});ie(["click"]);export{xe as default};
