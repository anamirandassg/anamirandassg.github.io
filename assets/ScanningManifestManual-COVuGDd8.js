const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoadingColorSpinner-D4NDe2FH.js","assets/index-BUsC0spP.js","assets/index-B8bAFC38.css","assets/LoadingColorSpinner-DPNLfwBi.css","assets/InputHr-BHSCa-kV.js","assets/InputHr-BXFw4d2l.css","assets/SVG-D6idL5qm.js","assets/CheckBoxSlide-Izn3INhT.js","assets/CheckBoxSlide-uVD3DHDO.css"])))=>i.map(i=>d[i]);
import{l as u,_ as g,a as c,c as R,o as j,d as M,i as n,e as l,Y as V,S as d,H as v,p as A,s as L,A as W,t as _,Z as z,h as x,W as F,q as $,k as H,m as q,O as X}from"./index-BUsC0spP.js";import{OpenToast as E}from"./Toast-MXnYVbxD.js";import{setManifestScan as G,manifestScan as K}from"./LinkScanManifest-CvX6eo1g.js";import{i as Q,l as Z}from"./DashManifest-W_6RRiy4.js";import"./App.module-CbHnVtRQ.js";import"./DialogHRM-CXUmvxtg.js";import"./ScanningServices-XAGf4XxD.js";var N=_('<div class="centerBx bottombx"style=margin-top:10px;><h5>show'),Y=_('<div class="_dsplFlx spaceAround flxWrp">'),J=_('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),U=_('<div><div class="_dsplFlx flxWrp spaceAround centerBx"></div><div class="_dsplFlx flxWrp spaceAround centerBx"><div class="icon_status centerBx">');let T=[300,80,300,80,300,80,300];u(()=>g(()=>import("./LoadingColorSpinner-D4NDe2FH.js"),__vite__mapDeps([0,1,2,3])));const P=u(()=>g(()=>import("./InputHr-BHSCa-kV.js"),__vite__mapDeps([4,1,2,5]))),w=u(()=>g(()=>import("./SVG-D6idL5qm.js"),__vite__mapDeps([6,1,2]))),ee=u(()=>g(()=>import("./CheckBoxSlide-Izn3INhT.js"),__vite__mapDeps([7,1,2,8])));function fe(y){const[o,h]=c(!1),[p,re]=R({}),[I,m]=c("");c("");const[b,se]=c(""),[C,B]=c(""),[S,ae]=c("");j(()=>{}),M(()=>{Q(),Z()});const k=async t=>{t.split("-").length>3&&(t=t.split("-").join("")),t?.split("/")?.length>=5&&(t=t?.split("/")?.[3]),t=t.split(",")?.[0]?.trim(),t=t.split("'").join("-"),t=t.split(",").join("-"),t=t.split(";").join("-");let s=t.split("/")?.[0]?.trim(),i=s,e=null;if(z()){let r=x("manifestByHbls")?.[i];e=x("manifestByKeys")?.[r]}else e=await te(i);if(e?.cidentity){let r={};r.tracking=s,r.idairguide=e?.idairguide,r.ssg_track_key=e?.ssg_track_key,r.consigneeInfo=e?.consigneeInfo;let f=e?.address?.estate||e?.consigneeInfo?.ybestate;if(!F?.roles?.[f]?.isActive){E({text:"Zona incorrecta "+f,timeout:3500,theme:"red",id:$()}),m(""),navigator.vibrate(T);return}r.timeStamp=new Date().getTime(),G([...K(),r]),m("")}else E({text:"No se encontro ningun registro hbl "+i,timeout:3500,theme:"red",id:$()}),console.log({error:i})},O=async()=>{const a=C().split(",").map(async s=>{s&&await k(s)});Promise.all(a)};return(()=>{var t=U(),a=t.firstChild,s=a.nextSibling,i=s.firstChild;return n(t,l(d,{get when(){return V()},get children(){return[(()=>{var e=N(),r=e.firstChild;return n(e,l(ee,{get initValue(){return o()},updChange:h,color:"var(--background-red-ssg)"}),r),e})(),l(d,{get when(){return o()},get children(){var e=Y();return n(e,l(P,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--hrm-palette-tertiary80)",get value(){return C()},placeholder:"reply",colors:"#2b2b2b",handleClick:B,onEnter:O})),e}})]}}),a),a.style.setProperty("padding","16px"),n(a,l(d,{get when(){return S()},get children(){var e=J(),r=e.firstChild,f=r.nextSibling;return n(r,l(w,{get name(){return v?.[b()]?.icon},size:32,get color(){return v?.[b()]?.svg}})),n(f,()=>p?.consigneeInfo?.ybestate),A(D=>L(e,v?.[b()],D)),e}})),s.style.setProperty("padding","16px"),s.style.setProperty("margin-top","35px"),n(s,l(P,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--hrm-palette-tertiary80)",get value(){return I()},placeholder:"escanear o escribir hbl...",colors:"#2b2b2b",handleClick:m,onEnter:k}),i),i.$$click=()=>m(""),n(i,l(w,{name:"Xclose",size:32,color:"#2b2b2b"})),A(e=>(e=S()?"block":"none")!=null?a.style.setProperty("display",e):a.style.removeProperty("display")),t})()}const te=async y=>{let o={params:{idairguide:"all",":search0":y}},h=H(802001);o={...o,...h};const p=await q(o);return p?.[X(p)?.[0]]};W(["click"]);export{fe as default};
