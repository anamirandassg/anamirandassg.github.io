import{o as L,u as H,c as F,a as x,k as K,p as Q,q as V,i as a,d,f as h,e as Z,t as v,O as J,j as X,s as T,S as $,F as ee,r as R,v as te,g as re,w as ae,x as se}from"./index-BOYuCN0S.js";import ie from"./InputHr-CHTVb-Cq.js";import _ from"./SVG-CxYWE_S9.js";let ne={webp:"image/webp",jpg:"image/jpg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",ts:"video/MP2T",m3u8:"application/x-mpegURL",mp4:"video/MP4",m4a:"audio/MP4",webm:"video/webm",weba:"audio/webm",m4s:"text/plain",txt:"text/plain",srt:"text/plain",vtt:"text/plain",js:"application/javascript; charset=UTF-8",css:"text/css; charset=utf-8",mpd:"video/vnd.mpeg.dash.mpd",aac:"audio/aac",mp3:"audio/mpeg",wav:"audio/wav",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pdf:"application/pdf","7z":"application/x-7z-compressed",zip:"application/zip",xml:"application/xml",json:"application/json",html:"text/html; charset=UTF-8"};const le=t=>t&&t.split(".").pop().toLowerCase(),oe=t=>{let p=le(t);return ne[p]},ce=async(t,p)=>{let o=await(await fetch(t)).blob();return p&&(o=o.slice(0,o.size,p)),URL.createObjectURL(o)},de=async t=>{const o=await L({query:"getSignedUrl",params:{fileName:t}});return o?.url?o:null},pe=async t=>{let p=oe(t);var e=await de(t),o=await ce(e.url,p);return o};var ge=v('<div class="errorBx _dsplFlx"><div class="icon_status centerBx"></div><p class=" centerBx">'),ue=v('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding-top:50px><div class="_dsplFlx flxWrp spaceAround centerBx"><div></div><div class="_dsplFlx bottombx"><h4> </h4><div class=vertseparator></div><h5>'),me=v('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><div class=" bottombx"><div class="_dsplFlx bottombx spaceAround centerBx"><h5>Estado del envio: </h5><h4></h4></div><h4> '),ve=v('<div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><img alt=sf style=width:320px>'),xe=v('<div><div class="_dsplFlx flxWrp spaceAround centerBx"style=padding:50px><div><div></div><div class="_dsplFlx bottombx lowbordr spaceAround"><h5>'),fe=v('<div class="icon_status centerBx">'),be=v('<div class="icon_status centerBx trackFade">'),he=v('<div class="icon_status centerBx ">');function Se(){const[t,p]=H(),[e,o]=F();F({lbs:"",price:0});const[U,q]=F({}),[G,O]=x(""),[w,A]=x(!1);x();const[S,W]=x(""),[ye,P]=x(""),[E,I]=x("");x(""),K(()=>{}),Q(()=>{}),V(()=>{t?.id&&j(t?.id)});const D=(g,i)=>{W(i),P(g),setTimeout(()=>{P("")},300)},M=g=>{I(g),setTimeout(()=>{I("")},3e3)},j=async g=>{let i=g,y="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const b=new RegExp(y);let f=i?.length===13&&b?.test(i),B="^[0-9]{4}-[1-9]{4}";const r=new RegExp(B);let l=i.length===9&&r.test(i),n={};if(l&&(n={idairguide:"175-2383"+i.slice(0,4),":tracking":i}),f&&(n={idairguide:"175-2383"+i?.slice(3,7),":tracking":i}),f||l){let s=await _e(n),c=J(s)?.[0];if(s?.[c]){if(s?.[c]?.deliveryProof){let u=await pe(s?.[c]?.deliveryProof);s[c].deliveryProofBlob=u}o("tracking",s?.[c]),A(!0),p({id:i})}}else D("","error"),q({consigneeInfo:{ybestate:"Codigo Incorrecto"}}),M(X())};let C={error:{"--err-bx-color":"var(--background-red-ssg)","--err-bx-bgcolor":"var(--background-red35-ssg)",svg:"var(--err-bx-color)",icon:"alert"},success:{"--err-bx-color":"var(--hrm-palette-tertiary60)","--err-bx-bgcolor":"var(--hrm-palette-tertiary90)",svg:"var(--err-bx-color)",icon:"success"},warning:{"--err-bx-color":"#FF6F1D","--err-bx-bgcolor":"#ffdb99",svg:"var(--err-bx-color)",icon:"info"}},Y=Array.from(Array(8).keys());return(()=>{var g=xe(),i=g.firstChild,y=i.firstChild,b=y.firstChild,f=b.nextSibling,B=f.firstChild;return a(b,d($,{get when(){return E()},get children(){var r=ge(),l=r.firstChild,n=l.nextSibling;return a(l,d(_,{get name(){return C?.[S()]?.icon},size:32,get color(){return C?.[S()]?.svg}})),a(n,()=>U?.consigneeInfo?.ybestate),h(s=>T(r,C?.[S()],s)),r}})),a(y,d($,{get when(){return!w()},get children(){return d(ie,{width:"250px",backColor:"#ffffff",borderColor:"#b2b2b2",borderActiveColor:"var(--background-red-ssg)",get value(){return G()},placeholder:"codigo ...",colors:"#2b2b2b",handleClick:O,onEnter:j})}}),f),f.$$click=()=>A(!1),a(B,()=>w()?"Rastrear otro codigo":"Escriba su codigo de rastreo"),a(g,d($,{get when(){return w()&&e?.tracking},get children(){return[(()=>{var r=ue(),l=r.firstChild,n=l.firstChild,s=n.nextSibling,c=s.firstChild,u=c.firstChild,k=c.nextSibling,N=k.nextSibling;return a(l,d(ee,{each:Y,children:z=>R[e?.tracking?.currentStatus]!==0&&z===0?(()=>{var m=fe();return a(m,d(_,{name:"market",size:32,color:"var(--hrm-palette-neutral-variant30)"})),m})():z===R[e?.tracking?.currentStatus]?(()=>{var m=be();return a(m,d(_,{get name(){return te?.[e?.tracking?.currentStatus]},size:32,color:"var(--background-red-ssg)"})),m})():(()=>{var m=he();return a(m,d(_,{name:"radio_unchecked",size:16,color:"var(--hrm-palette-neutral-variant30)"})),m})()}),n),a(n,d(_,{name:"map-marker-radius-outline",size:32,get color(){return e?.tracking?.currentStatus==="YABA_99"?"var(--hrm-palette-tertiary60)":"var(--hrm-palette-neutral-variant30)"}})),a(c,()=>e?.tracking?.consigneeInfo?.ybestate,u),a(N,()=>e?.tracking?.consigneeInfo?.ybcity),h(()=>re(n,`icon_status centerBx ${e?.tracking?.currentStatus==="YABA_99"?"trackFade":""} `)),r})(),(()=>{var r=me(),l=r.firstChild,n=l.firstChild,s=n.firstChild,c=s.nextSibling,u=n.nextSibling;return u.firstChild,a(c,()=>e?.tracking?.tracking),a(u,()=>ae?.[e?.tracking?.currentStatus],null),h(k=>(k=e?.tracking?.currentStatus==="YABA_99"?"var(--hrm-palette-tertiary60)":"var(--background-red-ssg)")!=null?u.style.setProperty("color",k):u.style.removeProperty("color")),r})(),d($,{get when(){return e?.tracking?.deliveryProofBlob},get children(){var r=ve(),l=r.firstChild;return h(()=>se(l,"src",e?.tracking?.deliveryProofBlob)),r}})]}}),null),h(r=>T(b,`padding: 15px 0px; margin: 0 auto; display: ${E()?"block":"none"};`,r)),g})()}const _e=async t=>await L({params:t,query:"getScanLogisticYabaExpress",queryString:"tracking contain :tracking",fldsQry:["agency","idairguide","currentStatus","cidentity","ssg_track_key","tracking","consigneeInfo:ybestate","consigneeInfo:ybcity","deliveryProof"]});Z(["click"]);export{Se as default};
