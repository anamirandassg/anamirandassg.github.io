import{P as Y,S as L,r as o}from"./PDFButton-ClnWeH7R.js";import{e as h,h as I}from"./Util-DZlMHKqJ.js";import{f as H}from"./fontkit.es-DkuHxdU6.js";import{i as nt,b as P}from"./InitPrintServices-QWHeDiid.js";import"./qrcode-DHy8FFhS.js";import"./Toast-8lXuvYZP.js";let t=0;const A=a=>a?a*1:0,g=a=>a?" "+a:"",dt=a=>g(a?.firstName)+g(a?.middleName)+g(a?.lastName)+g(a?.lastName2),it=a=>{let d=g(a?.altPhoneNumber);return g(a?.phoneNumber)+(d?" |"+d:"")},S=(a,d)=>d?" "+a+" "+d:"",st=a=>`${S("Calle",a?.ybstreet)}${S("#",a?.ybstreetNo)}${S("E/",a?.ybbetwen1)}${S("y",a?.ybbetwen2)}, ${S("Reparto",a?.ybreparto)},${S("",a?.ybcity)},${S("",a?.ybestate)}`,yt=async a=>{const d=await Y.create();d.registerFontkit(H),await d.embedFont(L.TimesRoman);var s=await d.embedFont(L.TimesRomanBold);if(await d.embedFont(L.TimesRomanBold),h("modernFontReport")){let i=h("Roboto-Bold.ttf");const p=await fetch(i).then(z=>z.arrayBuffer());s=await d.embedFont(p);let T=h("ggSans-Italic.ttf");const y=await fetch(T).then(z=>z.arrayBuffer());await d.embedFont(y);let b=h("ggSans-Medium.ttf");const l=await fetch(b).then(z=>z.arrayBuffer());await d.embedFont(l)}const e=await nt(d);let r=d.addPage();const{width:j,height:B}=r.getSize(),n=10;t=B-40;const q=e.GSansBold.widthOfTextAtSize("Invoice: ",9),O=e.Lexend_700.widthOfTextAtSize(a?.invoice,10);r.drawText("Invoice: ",{x:580-O-q,y:t,size:9,font:e.GSansBold,color:o(0,0,0)}),r.drawText(a?.invoice,{x:580-O,y:t,size:10,font:e.Lexend_700,color:o(0,0,0)});let R=B-30,D=h("storeGroupBy")?.[a?.store]?.label||"";r.drawText(D,{x:20,y:R,size:13,font:s,color:o(0,0,0)}),t=t-20;let F=a?.createDate;const $=e.GSansBold.widthOfTextAtSize("Fecha: ",11),G=e.Lexend_700.widthOfTextAtSize(I(F)+"",12);r.drawText("Fecha: ",{x:580-$-G,y:t,size:11,font:e.GSansBold,color:o(0,0,0)}),r.drawText(I(F)+"",{x:580-G,y:t,size:12,font:e.Lexend_700,color:o(.06,.06,.06)}),t=t-20;let c=a?.shipper_consignee;if(c){let i=c?.name||"",p=c?.phoneNumberS||"";r.drawText("Envia: ",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)}),t=t-12,r.drawText(i+"   |   "+p,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-20;let T=dt(c),y=it(c),b=st(c);r.drawText("Recibe: ",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)}),t=t-13,r.drawText(c?.cid,{x:28,y:t,size:10,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,r.drawText(T,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,r.drawText(y,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)}),t=t-13,r.drawText(b,{x:28,y:t,size:8,font:e.Lexend_700,color:o(0,0,0)})}if((a?.reservas||[])?.length>0){t=t-40,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,r.drawText("Tipo de envio",{x:20,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const i=s.widthOfTextAtSize("Lbs",11);r.drawText("Lbs",{x:320-i,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const p=s.widthOfTextAtSize("Precio",11);r.drawText("Precio",{x:400-p,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const T=s.widthOfTextAtSize("Aranceles",11);r.drawText("Aranceles",{x:480-T,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const y=s.widthOfTextAtSize("Total",11);r.drawText("Total",{x:560-y,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)}),t=t-8,r.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let b=a?.reservas||[];Array.isArray(b)&&b.map((l,z)=>{const W=l?.type;t=t-16,W&&r.drawText(W+"",{x:20,y:t,size:n,font:e.GSansBold,color:o(0,0,0)});let C=A(l?.qty)?.toFixed(2);const et=e.Lexend_700.widthOfTextAtSize(C+"",n);r.drawText(C+"",{x:320-et,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let E=A(l?.price)?.toFixed(2);const ot=e.Lexend_700.widthOfTextAtSize(E+"",n);r.drawText(E+"",{x:400-ot,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let M=A(l?.arancel)?.toFixed(2);const rt=e.Lexend_700.widthOfTextAtSize(M+"",n);r.drawText(M+"",{x:480-rt,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let Q=(A(l?.price)*A(l?.qty)+A(l?.arancel))?.toFixed(2);const at=e.Lexend_700.widthOfTextAtSize(Q+"",n);r.drawText(Q+"",{x:560-at,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)})})}t=t-50,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,r.drawText("Producto",{x:20,y:t,size:12,font:e.roboto_bold,color:o(0,0,0)});const N=e.roboto_bold.widthOfTextAtSize("Qty",11);r.drawText("Qty",{x:400-N,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const _=e.roboto_bold.widthOfTextAtSize("Precio",11);r.drawText("Precio",{x:480-_,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)});const u=e.roboto_bold.widthOfTextAtSize("Total",11);r.drawText("Total",{x:560-u,y:t,size:11,font:e.roboto_bold,color:o(0,0,0)}),t=t-8,r.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let m=a?.products||[];Array.isArray(m)&&m.map((i,p)=>{const T=i?.product?.label;t=t-16,T&&r.drawText(T+"",{x:20,y:t,size:n,font:e.GSansBold,color:o(0,0,0)});let y=i?.qty?(i?.qty*-1).toFixed(2):"0.00";const b=e.Lexend_700.widthOfTextAtSize(y+"",n);r.drawText(y+"",{x:400-b,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let l=i?.qty?(i?.salePrice*1).toFixed(2):"0.00";const z=e.Lexend_700.widthOfTextAtSize(l+"",n);r.drawText(l+"",{x:480-z,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)});let W=i?.qty?(i?.salePrice*i?.qty*-1).toFixed(2):"0.00";const C=e.Lexend_700.widthOfTextAtSize(W+"",n);r.drawText(W+"",{x:560-C,y:t,size:n,font:e.Lexend_700,color:o(0,0,0)})}),t=t-28,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let w=500;t=t-20;let f=a?.amount?a?.amount?.toFixed(2):"0.00";const J=e.Lexend_700.widthOfTextAtSize(f+"",n);r.drawText(f+"",{x:560-J,y:t,size:n,font:e.Lexend_700,color:o(.13,.13,.13)});const K=e.GSansBold.widthOfTextAtSize("SubTotal",n);r.drawText("SubTotal",{x:w-K,y:t,size:n,font:e.GSansBold,color:o(0,0,0)}),t=t-16;let U=a?.hasTax?a?.hasTax?.toFixed(2):"0.00";const V=e.Lexend_700.widthOfTextAtSize(U+"",n);r.drawText(U+"",{x:560-V,y:t,size:n,font:e.Lexend_700,color:o(.13,.13,.13)});const X=e.GSansBold.widthOfTextAtSize("Taxes",n);r.drawText("Taxes",{x:w-X,y:t,size:n,font:e.GSansBold,color:o(0,0,0)});let k=a?.hasTax?a?.hasTax+a?.amount:a?.amount*1;t=t-16;let v=k?k?.toFixed(2):"0.00";const Z=e.Lexend_700.widthOfTextAtSize(v+"",11);r.drawText(v+"",{x:560-Z,y:t,size:11,font:e.Lexend_700,color:o(0,0,0)});const tt=e.GSansBold.widthOfTextAtSize("Total",11);r.drawText("Total",{x:w-tt,y:t,size:11,font:e.GSansBold,color:o(0,0,0)});{const i=await d.save();return P(i)}},bt=async a=>{const d=await Y.create();d.registerFontkit(H);var s=await d.embedFont(L.TimesRoman),e=await d.embedFont(L.TimesRomanBold);if(await d.embedFont(L.TimesRomanBold),h("modernFontReport")){let x=h("Roboto-Bold.ttf");const N=await fetch(x).then(f=>f.arrayBuffer());e=await d.embedFont(N);let _=h("ggSans-Italic.ttf");const u=await fetch(_).then(f=>f.arrayBuffer());s=await d.embedFont(u);let m=h("ggSans-Medium.ttf");const w=await fetch(m).then(f=>f.arrayBuffer());await d.embedFont(w)}let r=d.addPage();const{width:j,height:B}=r.getSize(),n=10;t=B-40;let q=B-30,O=h("storeGroupBy")?.[a?.store]?.label;r.drawText(O,{x:20,y:q,size:13,font:e,color:o(0,0,0)});let R=a?.createDate;const D=s.widthOfTextAtSize("Fecha: ",11),F=e.widthOfTextAtSize(I(R)+"",12);r.drawText("Fecha: ",{x:580-D-F,y:t,size:11,font:s,color:o(0,0,0)}),r.drawText(I(R)+"",{x:580-F,y:t,size:12,font:e,color:o(.06,.06,.06)}),t=t-20,t=t-20,r.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,r.drawText("Producto",{x:20,y:t,size:13,font:e,color:o(0,0,0)});const $=e.widthOfTextAtSize("Existencia",12);r.drawText("Existencia",{x:480-$,y:t,size:12,font:e,color:o(0,0,0)});const G=e.widthOfTextAtSize("Qty",12);r.drawText("Qty",{x:560-G,y:t,size:12,font:e,color:o(0,0,0)}),t=t-8,r.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let c=a?.products||[];Array.isArray(c)&&c.map((x,N)=>{const _=x?.product?.label;t=t-16,_&&r.drawText(_+"",{x:20,y:t,size:n,font:s,color:o(0,0,0)});let u=x?.stock?x?.stock*1:"0";const m=s.widthOfTextAtSize(u+"",n);r.drawText(u+"",{x:480-m,y:t,size:n,font:s,color:o(0,0,0)});let w=x?.qty?x?.qty*1:"0";const f=s.widthOfTextAtSize(w+"",n);r.drawText(w+"",{x:560-f,y:t,size:n,font:s,color:o(0,0,0)})});{const x=await d.save();return P(x)}};export{bt as I,yt as a};
