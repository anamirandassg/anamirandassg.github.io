const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlexSpace-Cv6MM0kl.js","assets/index-CS03C161.js","assets/index-DGHHyjai.css","assets/SVG-B-oNkerH.js","assets/index-Ci0zXM0r.js","assets/ShowQR-D4JZuOXg.js","assets/globalSignal-D66ipSOS.js","assets/ShowQRPrintLabel-BZBsG3jz.js","assets/fontkit.es-DEjOtITv.js","assets/qrcode-C5vWJp7P.js","assets/InitPrintServices-khaE0HRx.js","assets/Util-uEfv1z7O.js","assets/Toast-Cry8BLuA.js","assets/Toast-DLpFKn-Q.css","assets/ButonHrm-BUkLBhV3.js","assets/ButonHrm-BSeWNUGQ.css","assets/ItemOnConsigner-JVnyDUIt.js","assets/DialogHRM-fuWvfnfl.js","assets/DialogHRM-V9_lZntj.css","assets/ContainerElasticView-D37UU4Ya.js","assets/ContainerElasticView-LzOd6fDI.css"])))=>i.map(i=>d[i]);
import{l as k,_ as C,e as X,d as i,i as t,S as o,t as h,f as B,n as j,k as Y,g as te,a as ie,v as L,q as D,w as re,M as O,b as q,F as Z,x as ne}from"./index-CS03C161.js";import{g as T,a as J,p as le,c as ae,O as se,b as A,f as E}from"./Util-uEfv1z7O.js";import{OpenModal as V,CloseModal as ce}from"./DialogHRM-fuWvfnfl.js";import de from"./ContainerElasticView-D37UU4Ya.js";import{i as I}from"./globalSignal-D66ipSOS.js";import{c as me}from"./ShowQRPrintLabel-BZBsG3jz.js";import"./index-Ci0zXM0r.js";import"./SVG-B-oNkerH.js";/* empty css                             */import"./fontkit.es-DEjOtITv.js";import"./qrcode-C5vWJp7P.js";import"./InitPrintServices-khaE0HRx.js";import"./Toast-Cry8BLuA.js";var ue=h('<div class=" tr_bar_20 _dsplFlx"><div class="icon_status centerBx"></div><div class=bottombx><h5>'),ge=h('<div><div class="icon_status centerBx">'),he=h('<div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),_e=h("<div class=bag_number><h5>"),oe=h('<div class="_dsplFlx "><div class="_dsplFlx bottombx"><p></p></div><p class="tr_bar_30 textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class="tr_bar_20 textleft">'),be=h('<div class="_dsplFlx bottombx"><h5>'),ve=h('<div class="client_item_box gWXAaj jlytmu"><div class="_dsplFlx topbx centerBx">');const P=k(()=>C(()=>import("./FlexSpace-Cv6MM0kl.js"),__vite__mapDeps([0,1,2]))),U=k(()=>C(()=>import("./SVG-B-oNkerH.js"),__vite__mapDeps([3,1,2,4]))),$e=k(()=>C(()=>import("./ShowQR-D4JZuOXg.js"),__vite__mapDeps([5,1,2,6,7,8,4,9,10,11,12,13])));function fe(e){const r=a=>a?" "+a:"",l=()=>{let a=e?.item?.consigneeInfo;return r(a?.firstName)+r(a?.middleName)+r(a?.lastName)+r(a?.lastName2)},s=()=>{let a=e?.item?.consigneeInfo,b=r(a?.altPhoneNumber);return r(a?.phoneNumber)+(b?" |"+b:"")},m=()=>{let a=e?.item?.street.split(",");return a.slice(0,a.length-2).join(",")},_=()=>{let a=e?.item?.hbls.length;const b=e?.item?.hbls.reduce((n,c)=>n+`${n?"/":""}${c.hbl}/${c.quantity}/${c.weight}`,"");let u=`${e?.item?.idairguide}/${e?.item?.cidentity}/${a}/${b}`,g={};g.id=T(),g.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},g.content=i($e,{val:u,get item(){return e?.item}}),V(g)};return i(o,{get when(){return e?.item?.tracking},get children(){var a=ve(),b=a.firstChild;return t(b,i(o,{get when(){return e?.item?.tracking},get children(){return[(()=>{var u=ue(),g=u.firstChild,n=g.nextSibling,c=n.firstChild;return t(g,i(U,{name:"alert",size:32,color:"var(--background-red-ssg)"})),t(c,()=>e?.item?.idairnumber),u})(),(()=>{var u=ge(),g=u.firstChild;return t(g,i(U,{name:"link-off",size:32,color:"var(--background-red-ssg)"})),u})(),(()=>{var u=he(),g=u.firstChild,n=g.nextSibling,c=n.nextSibling;return t(g,()=>e?.item?.consigneeInfo?.ybcity),t(c,()=>e?.item?.consigneeInfo?.ybestate),u})()]}}),null),t(b,i(P,{}),null),t(b,i(o,{get when(){return e?.item?.bagnumber},get children(){var u=_e(),g=u.firstChild;return u.$$click=_,t(g,()=>e?.item?.bagnumber),u}}),null),t(a,i(o,{get when(){return e?.item?.consigneeInfo?.ybcity},get children(){var u=oe(),g=u.firstChild,n=g.firstChild,c=g.nextSibling,$=c.nextSibling,f=$.nextSibling;return t(n,m),t(u,i(P,{}),c),t(c,l),t(f,s),u}}),null),t(a,i(o,{when:!1,get children(){var u=be(),g=u.firstChild;return t(u,i(P,{}),g),t(g,()=>e?.item?.nameshipper),t(u,i(P,{}),null),u}}),null),a}})}X(["click"]);var M=h('<div class="icon_status centerBx">'),ye=h("<div class=guide_number><h5>"),xe=h('<div class=" tr_bar_10 _dsplFlx">'),W=h("<div class=bag_number><h5>"),G=h("<div class=bottombx><h5>"),K=h("<div><div>"),we=h('<p class="tr_bar_30 textleft fullName_consigne">'),Se=h("<div style=margin-right:4vw>"),ke=h('<h4 class="tr_bar_20 textleft">'),Ce=h("<p>"),Ie=h('<div class=bottombx bottombx><p class=" textleft fullName_consigne"></p><div style=margin-right:4vw></div><h4 class=" textleft phonesNum"></h4><p class="textleft ">'),Ne=h('<div><div class="_dsplFlx topbx centerBx"></div><div class="_dsplFlx bottombx"><div class="_dsplFlx bottombx"><h5></h5><div class=vertseparator></div><h4>'),Be=h('<ul class=inline><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Movimientos</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">HBLS</span></div></li><li><div class=" centerBx"><div class="icon_status centerBx"></div><span class="icon_status centerBx">Embarcador'),Ae=h("<div class=tab>"),F=h("<div class=loader>Loading..."),p=h("<div>"),Ee=h('<div class="centerBx bottombx"><h4 class=""></h4><h5>el <!> a las <!> por</h5><h4 class="">'),Pe=h('<div class="centerBx bottombx"><h4 class=""></h4><h5> KG</h5><h4 class="">'),Me=h("<div class=bottombx><div><h4></h4></div><div><h5>"),Te=h('<div><div style=max-height:220px></div><div class="centerBx flxWrp spaceAround ">');const R=k(()=>C(()=>import("./FlexSpace-Cv6MM0kl.js"),__vite__mapDeps([0,1,2]))),N=k(()=>C(()=>import("./SVG-B-oNkerH.js"),__vite__mapDeps([3,1,2,4]))),De=k(()=>C(()=>import("./ButonHrm-BUkLBhV3.js"),__vite__mapDeps([14,1,2,3,4,11,15]))),Fe=k(()=>C(()=>import("./ShowQR-D4JZuOXg.js"),__vite__mapDeps([5,1,2,6,7,8,4,9,10,11,12,13]))),He=k(()=>C(()=>import("./ItemOnConsigner-JVnyDUIt.js"),__vite__mapDeps([16,1,2,11,4,17,18,19,3,20,6,8,9,12,13,14,15])));let z={YABA_99:"check_circle"};function st(e){const r=n=>n?" "+n:"",l=()=>{let n=e?.item?.consigneeInfo;return r(n?.firstName)+r(n?.middleName)+r(n?.lastName)+r(n?.lastName2)},s=()=>{let n=e?.item?.consigneeInfo,c=r(n?.altPhoneNumber);return r(n?.phoneNumber)+(c?" |"+c:"")},m=()=>{let n=e?.item?.statusHistory||[];if(e?.item?.statusHistory){let c=n.reduce(($,f)=>Math.min($,f.timeStamp),1/0);return Math.floor((new Date().getTime()-c)/864e5)}else return null},_=async()=>{let n={ssg_track_key:e?.item?.ssg_track_key,idairguide:e?.item?.idairguide};e?.item?.bagnumber&&await je({id:e?.item?.bagnumber}),e?.item?.hbls?.map(async c=>{}),console.log(n),await Qe(n),e?.refresh()},a=()=>{let n=e?.item?.street.split(",");return n.slice(0,n.length-2).join(",")},b=n=>{let c="";if(n)c=n;else if(e?.item?.hblS){let f=e?.item?.hblS;c=`${e?.item?.idairguide}/${e?.item?.cidentity}/${f}`}let $={};$.id=T(),$.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},$.content=i(Fe,{val:c,get item(){return e?.item}}),V($)},u=async n=>{let c=await Ye(e?.item?.cidentity),$=se(c)?.[0],f=T(),x={};x.id=f,x.props={minHeight:"1vh",overlay:!0,height:"93vh",zIndex:450},x.content=i(We,{get item(){return c?.[$]},get it(){return e?.item},modalId:f}),V(x)},g=n=>{let c=n,$="^[A-Z]{3}[0-9]{4}-[1-9]{5}";const f=new RegExp($);return c.length===13&&f.test(c)&&(c=c.slice(3,12)),c};return e?.filter?i(fe,{get item(){return e?.item},get filter(){return e?.filter}}):i(o,{get when(){return e?.item?.cidentity},get children(){var n=Ne(),c=n.firstChild,$=c.nextSibling,f=$.firstChild,x=f.firstChild,H=x.nextSibling,S=H.nextSibling;return t(c,i(o,{get when(){return e?.item?.cidentity},get children(){return[(()=>{var d=xe();return t(d,i(o,{get when(){return z[e?.item?.currentStatus]},get children(){var y=M();return t(y,i(N,{get name(){return z?.[e?.item?.currentStatus]},size:32,color:"var(--hrm-palette-tertiary60)"})),y}}),null),t(d,i(o,{get when(){return!z[e?.item?.currentStatus]},get children(){var y=M();return t(y,i(N,{get name(){return J("M023009")?.statusListIcons?.[e?.item?.currentStatus]},size:32})),y}}),null),t(d,i(o,{get when(){return m()},get children(){var y=ye(),v=y.firstChild;return t(v,m),y}}),null),d})(),i(o,{get when(){return I()},get children(){return[i(R,{}),(()=>{var d=K(),y=d.firstChild;return t(y,i(o,{get when(){return e?.item?.bagnumber},get children(){var v=W(),w=v.firstChild;return v.$$click=()=>b(e?.item?.bagnumber),t(w,()=>e?.item?.bagnumber),v}})),t(d,i(o,{get when(){return e?.item?.tracking},get children(){var v=G(),w=v.firstChild;return v.$$click=()=>b(g(e?.item?.tracking)),t(w,()=>g(e?.item?.tracking)),v}}),null),d})()]}}),i(o,{get when(){return!I()},get children(){return[(()=>{var d=we();return t(d,l),B(()=>j(d,"data-name",`${e?.item?.cidentity}`)),d})(),Se(),(()=>{var d=ke();return t(d,s),d})()]}})]}}),null),t(c,i(R,{}),null),t(c,i(o,{get when(){return!I()},get children(){var d=K(),y=d.firstChild;return t(y,i(o,{get when(){return e?.item?.bagnumber},get children(){var v=W(),w=v.firstChild;return v.$$click=()=>b(e?.item?.bagnumber),t(w,()=>g(e?.item?.bagnumber)),v}})),t(d,i(o,{get when(){return e?.item?.tracking},get children(){var v=G(),w=v.firstChild;return v.$$click=()=>b(g(e?.item?.tracking)),t(w,()=>g(e?.item?.tracking)),B(()=>j(v,"data-tracking",`${e?.item?.tracking}`)),v}}),null),d}}),null),t(c,i(o,{get when(){return Y?.profile?.isAdmin},get children(){var d=M();return d.$$click=u,t(d,i(N,{name:"home",size:24})),d}}),null),t(c,i(o,{get when(){return!e?.item?.bagnumber||Y?.profile?.isAdmin},get children(){var d=M();return d.$$click=_,t(d,i(N,{name:"outline_delete",size:24})),d}}),null),t($,i(o,{get when(){return!I()&&e?.item?.consigneeInfo?.ybcity},get children(){var d=Ce();return t(d,a),d}}),f),t($,i(R,{}),f),t(x,()=>e?.item?.consigneeInfo?.ybcity),t(S,()=>e?.item?.consigneeInfo?.ybestate),t(n,i(o,{get when(){return I()&&e?.item?.consigneeInfo?.ybcity},get children(){var d=Ie(),y=d.firstChild,v=y.nextSibling,w=v.nextSibling,ee=w.nextSibling;return t(y,l),t(w,s),t(ee,a),d}}),null),t(n,i(Le,{get item(){return e?.item}}),null),B(()=>te(n,`client_item_box gWXAaj jlytmu ${I()?"isMobile":""}`)),n}})}const Le=e=>{const[r,l]=ie(0),[s,m]=ne(),_=a=>()=>m(()=>l(a));return i(de,{get children(){return[(()=>{var a=Be(),b=a.firstChild,u=b.firstChild,g=u.firstChild,n=b.nextSibling,c=n.firstChild,$=c.firstChild,f=n.nextSibling,x=f.firstChild,H=x.firstChild;return L(b,"click",_(1),!0),t(g,i(N,{name:"list_dot",size:24})),L(n,"click",_(2),!0),t($,i(N,{name:"receipt",size:24})),L(f,"click",_(3),!0),t(H,i(N,{name:"send",size:24})),B(S=>{var d=r()===1,y=r()===2,v=r()===3;return d!==S.e&&b.classList.toggle("selected",S.e=d),y!==S.t&&n.classList.toggle("selected",S.t=y),v!==S.a&&f.classList.toggle("selected",S.a=v),S},{e:void 0,t:void 0,a:void 0}),a})(),(()=>{var a=Ae();return t(a,i(D,{get fallback(){return F()},get children(){return i(re,{get children(){return[i(O,{get when(){return r()===1},get children(){return i(o,{get when(){return r()===1},get children(){return i(Oe,{index:1,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key},get currentStatus(){return e?.item?.currentStatus}})}})}}),i(O,{get when(){return r()===2},get children(){return i(o,{get when(){return r()===2},get children(){return i(ze,{index:2,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}}),i(O,{get when(){return r()===3},get children(){return i(o,{get when(){return r()===3},get children(){return i(qe,{index:3,get idairguide(){return e?.item?.idairguide},get id(){return e?.item?.ssg_track_key}})}})}})]}})}})),B(()=>a.classList.toggle("pending",!!s())),a})()]}})},Oe=e=>{const[r,{refetch:l}]=q(e?.id,async s=>{const m=await Q(e?.idairguide,e?.id,["statusHistory","deliveryUserName","deliveryTime"]);let _=m?.statusHistory;if(m?.deliveryTime){let a={statusId:e?.currentStatus,timeStamp:m?.deliveryTime,userName:m?.deliveryUserName};_.push(a)}return _});return i(D,{get fallback(){return F()},get children(){var s=p();return t(s,i(Z,{get each(){return r()},children:m=>i(Re,{item:m})})),s}})},Re=e=>(()=>{var r=Ee(),l=r.firstChild,s=l.nextSibling,m=s.firstChild,_=m.nextSibling,a=_.nextSibling,b=a.nextSibling;b.nextSibling;var u=s.nextSibling;return t(l,()=>J("M023009")?.statusObjDesc[e?.item?.statusId]),t(s,()=>le(e?.item?.timeStamp),_),t(s,()=>ae(e?.item?.timeStamp),b),t(u,()=>e?.item?.userName),r})(),ze=e=>{const[r,{refetch:l}]=q(e?.id,async s=>(await Q(e?.idairguide,e?.id,["hbls"]))?.hbls);return i(D,{get fallback(){return F()},get children(){var s=p();return t(s,i(Z,{get each(){return r()},children:m=>i(Ve,{item:m})})),s}})},Ve=e=>{const r=l=>{me(l)};return(()=>{var l=Pe(),s=l.firstChild,m=s.nextSibling,_=m.firstChild,a=m.nextSibling;return s.$$click=()=>r(e?.item?.hbl),t(s,()=>e?.item?.hbl),t(m,()=>e?.item?.weight,_),t(a,()=>e?.item?.namegood),l})()},qe=e=>{const[r,{refetch:l}]=q(e?.id,async s=>await Q(e?.idairguide,e?.id,["nameshipper","shipperInfo:phoneNumber"]));return i(D,{get fallback(){return F()},get children(){var s=Me(),m=s.firstChild,_=m.firstChild,a=m.nextSibling,b=a.firstChild;return t(_,()=>r()?.nameshipper),t(b,()=>r()?.shipperInfo?.phoneNumber),s}})},Qe=async e=>{let r={params:e},l=A(809005);return r={...r,...l},(await E(r))?.data},je=async e=>{let r={params:e},l=A(409098);return r={...r,...l},(await E(r))?.data},Q=async(e,r,l)=>{let s={params:{id:r,idairguide:e},fldsQry:l},m=A(802002);s={...s,...m};const _=await E(s);return _?.data?.error?{}:_},Ye=async e=>{if(e.length>4){let r={params:{}};e&&e.split(" ").map((m,_)=>{m&&(r.params[":search"+_]=m.trim())});let l=A(401001);return r={...r,...l},await E(r)}else return{}},Ue=async(e,r)=>{let l={params:e,data2update:r},s=A(809004);return l={...l,...s},await E(l)},We=e=>{const r=async()=>{let l={consigneeInfo:{cid:e?.item?.cid,firstName:e?.item?.firstName,lastName:e?.item?.lastName,lastName2:e?.item?.lastName2,middleName:e?.item?.middleName,phoneNumber:e?.item?.phoneNumber,ybapt:e?.item?.ybapt,ybbetwen1:e?.item?.ybbetwen1,ybbetwen2:e?.item?.ybbetwen2,ybcity:e?.item?.ybcity,ybestate:e?.item?.ybestate,ybreparto:e?.item?.ybreparto,ybstreet:e?.item?.ybstreet,ybstreetNo:e?.item?.ybstreetNo},city:e?.item?.ybcity,estate:e?.item?.ybestate};await Ue({ssg_track_key:e?.it?.ssg_track_key,idairguide:e?.it?.idairguide},l),ce(e?.modalId)};return(()=>{var l=Te(),s=l.firstChild,m=s.nextSibling;return l.style.setProperty("height","clamp(20vh, 45vh, 80vh)"),l.style.setProperty("overflow","auto"),l.style.setProperty("background","#ffffff"),l.style.setProperty("border-radius","13"),l.style.setProperty("padding","10px 19px"),t(s,i(He,{get item(){return e?.item},refresh:()=>isOpenDebounced(T())})),t(m,i(De,{color:"rgb(200 25 60 / 1)",label:"Actualizar",handleClick:r})),B(_=>(_=I()?"96vw":"920px")!=null?l.style.setProperty("width",_):l.style.removeProperty("width")),l})()};X(["click"]);export{st as default};
