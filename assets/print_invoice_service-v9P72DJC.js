import{P as N,S as m,r as o}from"./PDFButton-DzKPI8bv.js";import{d as x,e as R}from"./Util-CKCUAuLU.js";import{f as j}from"./fontkit.es-xY8_R9eo.js";import{b as E}from"./InitPrintServices-Cu6eu-iZ.js";import"./qrcode-DHy8FFhS.js";import"./Toast-B6X5D4cW.js";let t=0;const ot=async a=>{const s=await N.create();s.registerFontkit(j);var r=await s.embedFont(m.TimesRoman),n=await s.embedFont(m.TimesRomanBold),c=await s.embedFont(m.TimesRomanBold);if(x("modernFontReport")){let d=x("Roboto-Bold.ttf");const f=await fetch(d).then(l=>l.arrayBuffer());n=await s.embedFont(f);let h=x("ggSans-Italic.ttf");const T=await fetch(h).then(l=>l.arrayBuffer());r=await s.embedFont(T);let u=x("ggSans-Medium.ttf");const w=await fetch(u).then(l=>l.arrayBuffer());c=await s.embedFont(w)}let e=s.addPage();const{width:J,height:S}=e.getSize(),i=10;t=S-40;const b=c.widthOfTextAtSize(a?.invoice,12),_=r.widthOfTextAtSize("Invoice: ",11);e.drawText("Invoice: ",{x:580-b-_,y:t,size:11,font:r,color:o(0,0,0)}),e.drawText(a?.invoice,{x:580-b,y:t,size:12,font:c,color:o(0,0,0)});let D=S-30,I=x("storeGroupBy")?.[a?.store]?.label;e.drawText(I,{x:20,y:D,size:13,font:n,color:o(0,0,0)}),t=t-20;let A=a?.createDate;const q=r.widthOfTextAtSize("Fecha: ",11),p=n.widthOfTextAtSize(R(A)+"",12);e.drawText("Fecha: ",{x:580-q-p,y:t,size:11,font:r,color:o(0,0,0)}),e.drawText(R(A)+"",{x:580-p,y:t,size:12,font:n,color:o(.06,.06,.06)}),t=t-20;let y=x("providers_ids")?.[a?.customer?.providerId]?.name||"";if(y){const d=r.widthOfTextAtSize("Bill To: ",11),f=n.widthOfTextAtSize(y+"",12);e.drawText("Bill To: ",{x:580-d-f,y:t,size:11,font:r,color:o(0,0,0)}),e.drawText(y+"",{x:580-f,y:t,size:12,font:n,color:o(0,0,0)})}t=t-50,e.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),e.drawText(a?.description+"",{x:20,y:t-11,size:10,font:r,color:o(0,0,0)}),t=t-20,e.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)}),t=t-18,e.drawText("Producto",{x:20,y:t,size:13,font:n,color:o(0,0,0)});const C=n.widthOfTextAtSize("Qty",12);e.drawText("Qty",{x:400-C,y:t,size:12,font:n,color:o(0,0,0)});const G=n.widthOfTextAtSize("Precio",12);e.drawText("Precio",{x:480-G,y:t,size:12,font:n,color:o(0,0,0)});const Y=n.widthOfTextAtSize("Total",12);e.drawText("Total",{x:560-Y,y:t,size:12,font:n,color:o(0,0,0)}),t=t-8,e.drawRectangle({x:15,y:t+1,width:560,height:.95,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let g=a?.products||[];Array.isArray(g)&&g.map((d,f)=>{const h=d?.product?.label;t=t-16,h&&e.drawText(h+"",{x:20,y:t,size:i,font:r,color:o(0,0,0)});let T=d?.qty?(d?.qty*-1).toFixed(2):"0.00";const u=r.widthOfTextAtSize(T+"",i);e.drawText(T+"",{x:400-u,y:t,size:i,font:r,color:o(0,0,0)});let w=d?.qty?(d?.salePrice*1).toFixed(2):"0.00";const l=r.widthOfTextAtSize(w+"",i);e.drawText(w+"",{x:480-l,y:t,size:i,font:r,color:o(0,0,0)});let v=d?.qty?(d?.salePrice*d?.qty*-1).toFixed(2):"0.00";const H=r.widthOfTextAtSize(v+"",i);e.drawText(v+"",{x:560-H,y:t,size:i,font:r,color:o(0,0,0)})}),t=t-28,e.drawRectangle({x:15,y:t+1,width:560,height:.85,color:o(.53,.53,.53),borderColor:o(.53,.53,.53)});let z=500;t=t-20;let W=a?.amount?a?.amount?.toFixed(2):"0.00";const M=r.widthOfTextAtSize(W+"",i);e.drawText(W+"",{x:560-M,y:t,size:i,font:r,color:o(.13,.13,.13)});const P=r.widthOfTextAtSize("SubTotal",i);e.drawText("SubTotal",{x:z-P,y:t,size:i,font:r,color:o(0,0,0)}),t=t-16;let F=a?.hasTax?a?.hasTax?.toFixed(2):"0.00";const U=r.widthOfTextAtSize(F+"",i);e.drawText(F+"",{x:560-U,y:t,size:i,font:r,color:o(.13,.13,.13)});const k=r.widthOfTextAtSize("Taxes",i);e.drawText("Taxes",{x:z-k,y:t,size:i,font:r,color:o(0,0,0)});let O=a?.hasTax?a?.hasTax+a?.amount:a?.amount*1;t=t-16;let B=O?O?.toFixed(2):"0.00";const L=c.widthOfTextAtSize(B+"",11);e.drawText(B+"",{x:560-L,y:t,size:11,font:c,color:o(0,0,0)});const Q=c.widthOfTextAtSize("Total",11);e.drawText("Total",{x:z-Q,y:t,size:11,font:c,color:o(0,0,0)});{const d=await s.save();return E(d)}};export{ot as I};
